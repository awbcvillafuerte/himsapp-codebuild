(window["webpackJsonpcustomer-care"]=window["webpackJsonpcustomer-care"]||[]).push([[0],{15:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(33),r=a(8),i=a(9),l=a(52);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var c=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"isValidDate",value:function(e,t){var a="string"===typeof e?new Date(e):e;return null===a?!!t||void 0:!isNaN(a.getTime())}},{key:"capitalizeEachWord",value:function(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}},{key:"toNameFormat",value:function(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return"".concat(t," ").concat(e.getIntials(a)," ").concat(n).concat(r?" "+r:"")}},{key:"toWholeNameFormat",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return"".concat(e," ").concat(t," ").concat(a).concat(n?" "+n:"")}},{key:"formatNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t?e.toFixed(2):e.toString()).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},{key:"getIntials",value:function(e){for(var t="",a=e.split(" "),n=0;n<a.length;n++)t+=a[n].substring(0,1).toUpperCase()+".";return t}},{key:"getDate",value:function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")}},{key:"toCommonDateString",value:function(e){var t="string"===typeof e?new Date(e):e;if(t){var a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+a+", "+r}return"---"}},{key:"toShortDateString",value:function(e){var t="string"===typeof e?new Date(e):e;if(t&&void 0!==t&&null!==t&&!isNaN(t.getTime())){var a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]+" "+a+", "+r}return"---"}},{key:"toDateAndTime",value:function(e,t){var a="string"===typeof e?new Date(e):e;if(a){var n=a.getDate(),r=a.getDay(),i=a.getMonth(),l=a.getFullYear(),s=a.getHours()-(a.getHours()>12?12:0),o=a.getMinutes(),c=a.getSeconds(),m=a.getHours()>12?"PM":"AM",u="0"+c;return 1!==c.toLocaleString().length&&(u=c.toLocaleString()),(t&&t.showDayFromWeek?"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r],", "):"")+["January","February","March","April","May","June","July","August","September","October","November","December"][i]+" "+n+", "+l+(t&&t.dateTimeDivider?t.dateTimeDivider:" - ")+s+":"+o+":"+u+" "+m}return"---"}},{key:"toTime",value:function(e){var t="string"===typeof e?new Date(e):e;if(t){var a=t.getHours()-(t.getHours()>12?12:0),n=t.getMinutes(),r=t.getSeconds(),i=t.getHours()>12?"PM":"AM",l="0"+r;return 1!==r.toLocaleString().length&&(l=r.toLocaleString()),a+":"+n+":"+l+" "+i}return"---"}},{key:"getTimeDeffirence",value:function(e,t){for(var a="string"===typeof e?new Date(e):e,n=(("string"===typeof t?new Date(t):t).getTime()-a.getTime())/1e3,r=[Math.round(n/86400),Math.round(n/3600)%24,Math.round(n/60)%60,Math.round(n)%60],i=0,l=0;l<r.length;l++)if(r[l]>0){i=l;break}return i?"".concat(r[i]," ").concat([["day","days"],["hour","hours"],["minute","minutes"],["second","seconds"]][i][1==r[i]?0:1]):""}},{key:"getAge",value:function(e){if(e){var t=Date.now()-e;return Math.abs(new Date(t).getUTCFullYear()-1970)}return null}},{key:"generateTicketNumber",value:function(e,t,a){var n="Availment"!==e?"":"".concat({Inpatient:"INP","Outpatient Procedure":"OP","Emergency Room":"ER",Maternity:"MAT",Consultation:"CON"}[t],"-");return"".concat({Availment:"AVL",Inquiry:"INQ","Request/Endorsement":"END","Complaint/Concern":"COM","Request Requiring Approval":"APV"}[e],"-").concat(n).concat(a)}},{key:"extractTicketNumber",value:function(e){var t=e.split("-");return t[t.length-1]}},{key:"canCoverCanAvail",value:function(e,t,a,n,r,i,s,o,c){var m=s;m.sort(function(e,t){return e.level-t.level}),console.log("params",e,t,a,n,r,i,s);var u=l.c.traverseTree(m,e);if(console.log("newNodes",JSON.stringify(u)),u){var d={diagnosis:t,procedure:a,member:i,ticket_type:n,member_utilization:r,amount:c,total_amount:o};return u.payload=d,u.adjudication_steps=[],"function"===typeof u.canCover&&u.canCover(),"function"===typeof u.canAvail&&u.canAvail(),console.log("adjudicationsteps",u.adjudication_steps),console.log(u),u.adjudication_steps}return[]}},{key:"setMeInAssignees",value:function(e,t){e.forEach(function(a,n){if(a.value===t){var r=a;r.label="Me",e.splice(n,1),e.unshift(r)}})}},{key:"getAvailmentCost",value:function(e,t){var a=0;return t?e&&e.diagnoses.forEach(function(e){e.doctors.forEach(function(t){"Disapproved"!==e.assessmentType&&"Pending"!==e.assessmentType&&(e.approvedAmount>0?a+=e.approvedAmount:a+=t.fee)}),e.procedures.filter(function(e){return""!==e.cptCode.value}).forEach(function(e){"Approved"===e.assessmentType&&(e.approvedAmount>0?a+=e.approvedAmount:a+=e.amount)})}):e&&e.diagnoses.forEach(function(e){e.doctors.forEach(function(e){a+=e.fee}),e.procedures.filter(function(e){return""!==e.cptCode.value}).forEach(function(e){a+=e.amount})}),a}},{key:"getUpdateConfinementCost",value:function(e){if(e){var t=e.accommodations.length>0?e.accommodations.reduce(function(e,t){return o({},e,{costPerDay:t.costPerDay+e.costPerDay,days:t.days+e.days})}):void 0;return(t?t.costPerDay*t.days:0)+(e.items.length>0?e.items.reduce(function(e,t){return o({},e,{amount:t.amount+e.amount})}).amount:0)+(e.procedures.length>0?e.procedures.reduce(function(e,t){return o({},e,{amount:t.amount+e.amount})}).amount:0)+(e.physicians.length>0?e.physicians.reduce(function(e,t){return o({},e,{amount:t.amount+e.amount})}).amount:0)}return 0}}]),e}()},169:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=(a(74),a(39)),m=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.createElement("div",{style:{backgroundColor:"#00000055",zIndex:1e3,position:this.props.position||"fixed",width:"100%",height:"100%"}},o.createElement(c.a,{height:this.props.height||"15rem",size:this.props.size||100,color:this.props.color}))}}]),t}(o.Component)},17:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(35),r=a.n(n),i=a(59),l=a(8),s=a(9),o=localStorage.getItem("CLIENT_URL")?localStorage.getItem("CLIENT_URL"):localStorage.getItem("XDEV_CLIENT_URL"),c=localStorage.getItem("PARTNER_URL")?localStorage.getItem("PARTNER_URL"):localStorage.getItem("XDEV_PARTNER_URL"),m=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"getUrl",value:function(){return o}},{key:"get",value:function(){var e=Object(i.a)(r.a.mark(function e(t,a,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(o+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return n?n(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(i.a)(r.a.mark(function e(t,a,n,i){var l,s=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=s.length>4&&void 0!==s[4]?s[4]:{"Content-Type":"application/json"},fetch(o+t,{method:"POST",headers:l,body:a}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return i?i(e):{}});case 2:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"postFormData",value:function(){var e=Object(i.a)(r.a.mark(function e(t,a,n,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(o+t,{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return i?i(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(i.a)(r.a.mark(function e(t,a,n,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(o+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return i?i(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(i.a)(r.a.mark(function e(t,a,n,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(o+t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return i?i(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(i.a)(r.a.mark(function e(t,a,n,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(o+t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return i?i(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"pnGet",value:function(){var e=Object(i.a)(r.a.mark(function e(t,a,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(c+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return n?n(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}()},184:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return d});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=a(17),m=a(451),u=a(39),d=function(t){function a(t){var r;return Object(n.a)(this,a),(r=Object(i.a)(this,Object(l.a)(a).call(this,t))).contractUrls=void 0,r.setDownloadProposal=function(){r.setState({downloadProposal:!1})},r.displayPDF=function(t){var a=URL.createObjectURL(t);r.setState({downloadurl:"".concat(e.execPath,"/../pdfjs-2.2.228-dist/web/viewer.html?file=").concat(a)})},r.state={clientId:"",registeredName:"",downloadProposal:!1,proposalToDownload:"",isLoading:!0,downloadurl:""},r.contractUrls=[],r}return Object(s.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.memberId?c.a.get("customer-care/members/".concat(this.props.memberId),function(t){c.a.get("customer-care/members/".concat(t._id,"/contracts/").concat(t.latest_contract._id),function(a){var n=a.benefits.filter(function(e){return"MCT"===e.code});e.setState({clientId:t.client._id,registeredName:t.client.registered_name,proposalToDownload:n[0]._id,downloadProposal:!0,isLoading:!1})})}):this.props.clientId&&c.a.get("customer-care/clients/".concat(this.props.clientId),function(t){c.a.get("benefit-plans/tree/".concat(t.latest_contract._id),function(a){var n=a.filter(function(e){return"MCT"===e.code});e.setState({clientId:t._id,registeredName:t.registered_name,proposalToDownload:n[0]._id,downloadProposal:!0,isLoading:!1})})})}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:"section"},this.state.isLoading?o.createElement(u.a,{height:"10rem"}):o.createElement(o.Fragment,null,o.createElement("div",{style:{paddingTop:"2.5rem"}}),o.createElement("div",{className:"header-1"},"Check Contract"),o.createElement("div",{className:"sub-section"},o.createElement("iframe",{style:{width:"100%",height:"1280px"},src:this.state.downloadurl})),o.createElement(m.a,{clientID:this.state.clientId,clientName:this.state.registeredName,fileType:"pdf",download:this.state.downloadProposal,setDownload:this.setDownloadProposal,hideButton:!0,label:"Download Proposal",renderType:"renderContract",objId:this.state.proposalToDownload,viewOnly:this.displayPDF,renderAction:"view",onError:function(){e.setState({isLoading:!1})},onStartDownload:function(){e.setState({isLoading:!1})}})))}}]),a}(o.Component)}).call(this,a(322))},23:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=(a(74),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value||this.props.error!==e.error}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return o.createElement("div",{className:"input-field-container"},this.props.placeholder?o.createElement("div",{className:this.props.disabled?"text-disabled text":"text"},this.props.placeholder):null,o.createElement("input",{type:"text",placeholder:this.props.innerPlaceholder,disabled:this.props.disabled,className:this.props.disabled?"text-field-disabled text-field":"text-field",style:t,value:this.props.value,onChange:function(t){(!e.props.charLimit||t.target.value.length<=e.props.charLimit)&&e.props.onChange(t.target.value)},onKeyDown:function(t){e.props.onKeyDown&&e.props.onKeyDown(t.key)}}),this.props.charLimit?o.createElement(o.Fragment,null,o.createElement("div",{className:"text"}),o.createElement("div",{className:this.props.disabled?"text-disabled text":"text",style:{textAlign:"right",marginBottom:"-15px"}},"".concat(this.props.value.length,"/").concat(this.props.charLimit))):null)}}]),t}(o.Component))},264:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(0),r=a(342),i=a(60),l=Object(i.a)({root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"}}),s=function(){var e=l();return n.createElement("div",{className:e.root},n.createElement("div",{className:e.container},n.createElement(r.a,{size:150})))};s.defaultProps={}},28:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=a(190),m=(a(74),a(18)),u=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.createElement(c.a,{className:"text-button",underline:this.props.underline,color:this.props.color,download:this.props.downloadLink,href:this.props.downloadLink,onClick:this.props.onClick},this.props.icon?o.createElement(m.a,{icon:this.props.icon}):null,this.props.icon?o.createElement("span",{style:{marginLeft:"10px"}}):null,this.props.label)}}]),t}(o.Component)},29:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(35),r=a.n(n),i=a(59),l=a(8),s=a(9),o=a(52),c=a(30),m=localStorage.getItem("PMAKER_BASE_URL")?localStorage.getItem("PMAKER_BASE_URL"):localStorage.getItem("XDEV_PMAKER_BASE_URL"),u=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"get",value:function(){var t=Object(i.a)(r.a.mark(function t(a,n,i){var l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l=function(e){fetch(m+a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.pmToken}}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return i?i(e):{}})},e.loginData?l(e.loginData):o.c.StorageService("user_data").then(function(t){e.loginData=c.a.getLoginData(t),e.loginData&&l(e.loginData)});case 2:case"end":return t.stop()}},t)}));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(i.a)(r.a.mark(function t(a,n,i,l){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=function(e){fetch(m+a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.pmToken},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){return i(e)}).catch(function(e){return l?l(e):{}})},e.loginData?s(e.loginData):o.c.StorageService("user_data").then(function(t){e.loginData=c.a.getLoginData(t),e.loginData&&s(e.loginData)});case 2:case"end":return t.stop()}},t)}));return function(e,a,n,r){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(i.a)(r.a.mark(function t(a,n,i,l){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=function(e){fetch(m+a,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.pmToken},body:JSON.stringify(n)}).then(function(e){return e}).then(function(e){return i(e)}).catch(function(e){return l?l(e):{}})},e.loginData?s(e.loginData):o.c.StorageService("user_data").then(function(t){e.loginData=c.a.getLoginData(t),e.loginData&&s(e.loginData)});case 2:case"end":return t.stop()}},t)}));return function(e,a,n,r){return t.apply(this,arguments)}}()},{key:"postclaim",value:function(){var t=Object(i.a)(r.a.mark(function t(a,n,i){var l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l=function(e){fetch(m+a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.pmToken}}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return i(e)})},e.loginData?l(e.loginData):o.c.StorageService("user_data").then(function(t){e.loginData=c.a.getLoginData(t),e.loginData&&l(e.loginData)});case 2:case"end":return t.stop()}},t)}));return function(e,a,n){return t.apply(this,arguments)}}()}]),e}();u.loginData=void 0,u.shortcutCall=function(e,t,a,n,r){"POST"===e&&u.post(t,a,function(e){n(e)},function(e){r&&r(e)}),"PUT"===e&&u.put(t,a,function(e){n(e)},function(e){r&&r(e)}),"GET"===e&&u.get(t,function(e){n(e)},function(e){r&&r(e)})}},30:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(34),r=a(33),i=a(8),l=a(9),s=a(15);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var m=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,null,[{key:"getLoginData",value:function(e){var t=function(t,a){var n=e.find(function(e){return e.key===t});return n?n.value:a};return e.length>0?{id:t("_id",""),accessToken:t("access_token",""),employeeId:t("employee_id",""),firstName:t("first_name",""),lastName:t("last_name",""),mainModule:t("main_module",""),pmToken:t("pm_token",""),pmakerUid:t("pmaker_uid",""),role:t("role",""),userId:t("user_id",""),username:t("username",""),department:t("department",""),ccData:t("cc_data",void 0),group:t("group",void 0)}:void 0}},{key:"getPostTicketPayloadProcessmaker",value:function(e,t,a,n,r,i,l,o){return{ticket_type:"Inquiry"===t.ticketType?"INQUIRY":"Request/Endorsement"===t.ticketType?"ENDORSEMENT":"Complaint/Concern"===t.ticketType?"COMPLAINT":"Request Requiring Approval"===t.ticketType?"APPROVAL":"Inpatient"===t.specificType?"INPATIENT":"Outpatient Procedure"===t.specificType||"Emergency Room"===t.specificType||"Consultation"===t.specificType?"OUTPATIENT":"",button_pressed:e,next_user:r.length>0?r:t.assignee.id,assign_to_group:r.length>0||t.assignee.isGroup,assigned_by:"".concat(n.firstName," ").concat(n.lastName),ticket_owner_user_id:n.userId,assign_remarks:t.additionalNotes,ticket_id:a,due_date:new Date((new Date).getTime()+864e5*{High:1,Medium:3,Low:5}[t.urgency]),ticket_type_title:"Not Applicable"!==t.specificType?t.specificType:t.ticketType,name:i?s.a.toNameFormat(i.firstName,i.middleName,i.lastName):l?l.registeredName:"",within_limit:o}}},{key:"getPostTicketPayload",value:function(e,t,a,n,i,l,o,c,m,u,d,p,f,h,g){var E,b=e.ticketSource,v="",_="",y="",C="",N="",S="",O="",A="",T="",I="",k=e.callerName;switch(b){case"Member":if(l){v=e.memberSourceChoice.value;var R=s.a.toNameFormat(l.firstName,l.middleName,l.lastName);_=R,"Actual Member"===v?k=R:"Other"===v&&(y=e.relationshipToMember)}break;case"Corporate Client":l?C=l.client&&l.client.registeredName?l.client.registeredName:"":o&&(C=o.registeredName?o.registeredName:""),"Other"===(N=e.corporateSourceChoice.value)&&(S=e.companyPosition);break;case"Broker":O=e.brokerName?e.brokerName.value:"";break;case"Clinic/Hospital":"NOT AFFILIATED"!==e.facility.value?A="".concat(e.facility.value," - ").concat(e.facility.label):T=e.otherFacility,I=e.department}return{ticket_id:"null",transaction_no:e.transactionNo,received_via:e.ticketChannel,received_from:b,member_name:_.trim().length>0?_:e.callerName,ticket_member_source:v,relationship_to_member:y,corporate_client:C,ticket_corporate_source:N,caller_company_position:S,broker:O,hospital_name:A,other_hospital:T,department:I,caller_name:k,contact_no:e.contactNo,assign_to:"Me"===e.assignee.name?"".concat(i.firstName," ").concat(i.lastName):e.assignee.name,supporting_documents:t.map(function(e){return{name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}}),ticket_category:(E={ticket_type:e.ticketType,specific_type:e.specificType,urgency:e.urgency},Object(r.a)(E,"Outpatient Procedure"===e.specificType?"availment_details":"Emergency Room"===e.specificType?"er_details":"",!m||"Outpatient Procedure"!==e.specificType&&"Emergency Room"!==e.specificType?void 0:{provider:"".concat(m.provider.value," - ").concat(m.provider.label),chief_complaint:m.chiefComplaint,history:m.history,availments_list:[{diagnosis:m.diagnoses.map(function(e){return{icd10_code:e.icd10Code.value,diagnosis:e.icd10Code.label,remarks:"",is_primary:!1,is_final:!1,date_added:e.dateAdded,assessment_type:e.assessmentType,assessment_remarks:e.assessmentRemarks,loa_no:e.loaNo,approval_code:e.approvalCode,doctors:[{doctor_id:e.doctors[0].id,name:e.doctors[0].name,specialization:e.doctors[0].specialization?e.doctors[0].specialization:"",fee:e.doctors[0].fee,no_of_visits:0,remarks:""}],procedures:e.procedures.filter(function(e){return e.cptCode.value}).map(function(e){return{cpt_code:e.cptCode.value,procedure_name:e.cptCode.label,amount:e.amount,doctor:"",phic:e.isPHIC,notes:"",date_added:e.dateAdded,assessment_type:e.assessmentType,assessment_remarks:e.assessmentRemarks,loa_no:e.loaNo,approval_code:e.approvalCode}})}})}]}),Object(r.a)(E,"confinement_details",c&&"Inpatient"===e.specificType?{provider:"".concat(c.provider.value," - ").concat(c.provider.label),date_admitted:c.dateAdmitted,confinement_kind:c.confinementKind,gift_given:!1,updates:[],room_accommodation:""!==c.roomType.value?[{room_type:c.roomType.value,room_no:c.roomNo,no_of_days:1,amount:c.costPerDay,total_amount:c.costPerDay}]:[],diagnoses:[{icd10_code:c.initialDiagnosis.value,diagnosis:c.initialDiagnosis.label,remarks:"",is_primary:!1,is_final:!1,doctors:""!==c.doctor.label.trim()?[{doctor_id:c.doctor.value,name:c.doctor.label,specialization:c.doctor.params?c.doctor.params[0]:"",fee:c.amount,no_of_visits:0,remarks:"",type:"Admitting"}]:[],procedures:[]}],others:[],coverage:"Filed",final_bill:0,philhealth_amount:0}:void 0),Object(r.a)(E,"consultation_details",d&&"Consultation"===e.specificType?{provider:"".concat(d.provider.value," - ").concat(d.provider.label),diagnosis:"".concat(d.diagnosis.value," - ").concat(d.diagnosis.label),doctor:"".concat(d.doctor.value," - ").concat(d.doctor.label),notes:d.notes,assessment_type:d.assessmentType,assessment_remarks:d.assessmentRemarks,loa_no:d.loaNo,approval_code:d.approvalCode}:void 0),Object(r.a)(E,"complaint_details",p&&"Complaint/Concern"===e.ticketType?{complaint_type:p.type.label,summary_of_complaint:p.summary,specifics:p.specifics,details_of_complaint:p.details,notes:p.notes,files:t.map(function(e){return{name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}}),root_cause:p.rootCause,resolution:p.resolution,acknowledge_by:p.acknowledgedBy}:void 0),Object(r.a)(E,"inquiry_details",u&&"Inquiry"===e.ticketType?{inquiry_list:u.map(function(e,t){return{inquiry:e.inquiry.label,value:e.detail,specific_detail:e.specificDetail,answer:e.answer,remarks:e.remarks,related_tickets:e.relatedTickets,support_docs:a[t].map(function(e){return{name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}})}})}:void 0),Object(r.a)(E,"request_details",f&&"Request/Endorsement"===e.ticketType?{request_type:f.requestType.label,details_of_request:f.background,notes:f.notes,request_files:n.map(function(e){return{name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}})}:h&&"Request Requiring Approval"===e.ticketType?{request_title:h.title,request_type:h.type.label,details_of_request:h.background,notes:h.notes,recommendation:h.recommendation,basis_for_recommendation:h.basisRecommendation,assessment_type:h.assessmentType,assessment_remarks:h.assessmentRemarks}:void 0),E),comments:[],pmaker_case_uid:"",status:g?"Closed":"Open",date_created:new Date,date_updated:new Date,created_by:{_id:i.id,user_id:i.userId,name:"".concat(i.firstName," ").concat(i.lastName),is_group:!1},ticket_owner_user_id:localStorage.user_id,member_id:l?l.memberId:" ",member_data:l?{_id:l.id,is_vip:l.isVip,last_name:l.lastName,middle_name:l.middleName,first_name:l.firstName,member_type:l.memberType,client:l.client?l.client.registeredName:void 0}:void 0,client_id:o?o.corporateAccountNo:l&&l.client?l.client.corporateAccountNo:" ",client_data:o?{registered_name:o.registeredName}:l?{registered_name:l.client?l.client.registeredName:void 0}:void 0,contract_id:l&&l.contract?l.contract.id:o&&o.contract?o.contract.id:"",total_amount:"Outpatient Procedure"===e.specificType||"Emergency Room"===e.specificType?s.a.getAvailmentCost(m):0,ticket_owner_name:"Inpatient"===e.specificType?"Me"===e.assignee.name?"".concat(i.firstName," ").concat(i.lastName):e.assignee.name:void 0,user_id:i.userId,module:"Customer Care"}}},{key:"getPutTicketPayload",value:function(e,t,a,n,r,i,l,o,c,m,u,d,p,f,h,g){return{ticket_id:e.ticketNo,transaction_no:e.transactionNo,received_via:e.ticketChannel,received_from:e.ticketSource,member_name:e.memberName,corporate_client:e.clientName,broker:e.brokerName.value,hospital_name:e.facility.label,department:e.department,caller_name:e.callerName,contact_no:e.contactNo,assign_to:e.assignee.name,supporting_documents:t.map(function(e){return{doc_name:e.docName,name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}}),ticket_category:{ticket_type:e.ticketType,specific_type:e.specificType,urgency:e.urgency,confinement_details:d?{provider:"".concat(d.provider.value," - ").concat(d.provider.label),date_admitted:d.dateAdmitted,confinement_kind:d.confinementKind,gift_given:d.giftGiven,updates:d.updates.map(function(e){return{remarks:e.remarks,date:e.date,hospital_bill:e.hospitalBill.toString()}}),room_accommodation:d.accommodations.map(function(e){return{room_type:e.roomType.value,room_no:e.roomNo,no_of_days:e.days,amount:e.costPerDay,total_amount:e.costPerDay*e.days}}),diagnoses:d.diagnoses.map(function(e,t){return{icd10_code:e.diagnosis.value,diagnosis:e.diagnosis.label,remarks:e.remarks,is_primary:d.primaryDiagnosisIndex===t,is_final:e.isFinal,doctors:d.physicians.filter(function(t){return t.diagnosis.value===e.diagnosis.value}).map(function(e){return{doctor_id:e.physician.value,name:e.physician.label,specialization:e.physician.params?e.physician.params[0]:"",fee:e.amount,no_of_visits:e.visits,remarks:e.remarks,type:e.physician.params?e.physician.params[1]:""}}),procedures:d.procedures.filter(function(t){return t.diagnosis.value===e.diagnosis.value}).map(function(e){return{cpt_code:e.procedure.value,procedure_name:e.procedure.label,amount:e.amount,doctor:e.physician.label,phic:!1,notes:e.remarks,date_added:e.date,assessment_type:"",assessment_remarks:"",loa_no:0}}),assessment_type:"",assessment_remarks:"",loa_no:0}}),others:d.items.map(function(e){return{amount:e.amount,item_name:e.name,type:e.type.label}}),coverage:d.coverage.label,paid_by:d.paidBy,philhealth_amount:d.philhealthAmount,final_bill:d.finalBill,discharge_date:d.dischargeDate}:void 0,inquiry_details:p?{inquiry_list:p.map(function(e,t){return{inquiry:e.inquiry.label,value:e.detail,specific_detail:e.specificDetail,answer:e.answer,remarks:e.remarks,related_tickets:e.relatedTickets,support_docs:a[t].map(function(e){return{name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}})}})}:void 0,request_details:f?{request_type:f.requestType.label,details_of_request:f.background,notes:f.notes,request_files:n.map(function(e){return{name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}})}:g?{request_title:g.title,request_type:g.type.label,details_of_request:g.background,notes:g.notes,recommendation:g.recommendation,basis_for_recommendation:g.basisRecommendation,assessment_type:g.assessmentType,assessment_remarks:g.assessmentRemarks}:void 0,complaint_details:h?{complaint_type:h.type.label,summary_of_complaint:h.summary,specifics:h.specifics,details_of_complaint:h.details,notes:h.notes,files:r.map(function(e){return{name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}}),root_cause:h.rootCause,resolution:h.resolution,acknowledge_by:h.acknowledgedBy}:void 0},pmaker_case_uid:e.pmCaseId,status:c.includes("Mark as Resolve")?"Closed":e.status,date_created:e.dateCreated,date_updated:new Date,created_by:{_id:e.createdBy.id,user_id:e.createdBy.userId,name:e.createdBy.name,is_group:e.createdBy.isGroup},ticket_owner_user_id:e.ticketOwnerId,ticket_owner_name:e.ticket_owner_name,member_id:m?m.memberId:"",member_data:m?{_id:m.id,is_vip:m.isVip,last_name:m.lastName,middle_name:m.middleName,first_name:m.firstName,member_type:m.memberType,client:m.client?m.client.registeredName:void 0}:void 0,client_id:u?u.corporateAccountNo:m&&m.client?m.client.corporateAccountNo:" ",client_data:u?{registered_name:u.registeredName}:m?{registered_name:m.client?m.client.registeredName:void 0}:void 0,contract_id:m&&m.contract?m.contract.id:u&&u.contract?u.contract.id:"",total_amount:s.a.getUpdateConfinementCost(d),notes_showed:!0,user_id:l.userId,module:"Customer Care",ticket_history_info:"None"!==i?{assignee_id:l.userId,assignee_name:"".concat(l.firstName," ").concat(l.lastName),pmaker_task:o.task,action:i}:void 0}}},{key:"getPutUpdateAssessmentPayload",value:function(e,t,a,n,i,l,o,c,m,u,d,p,f){var h,g=l.includes("Reset Assessment"),E=l.includes("Mark as Resolve"),b=l.includes("Close Ticket"),v=l.includes("Generate Approval Code"),_=l.includes("Escalate");return{ticket_id:e.ticketNo,transaction_no:e.transactionNo,received_via:e.ticketChannel,received_from:e.ticketSource,member_name:e.memberName,corporate_client:e.clientName,broker:e.brokerName.value,hospital_name:e.facility.label,department:e.department,caller_name:e.callerName,contact_no:e.contactNo,assign_to:e.assignee.name,supporting_documents:[],ticket_category:(h={ticket_type:e.ticketType,specific_type:e.specificType,urgency:e.urgency},Object(r.a)(h,"Outpatient Procedure"===e.specificType?"availment_details":"Emergency Room"===e.specificType?"er_details":"",m?{provider:"".concat(m.provider.value," - ").concat(m.provider.label),chief_complaint:m.chiefComplaint,history:m.history,availments_list:[{diagnosis:m.diagnoses.map(function(e){var t=void 0;return e.procedures.forEach(function(e){t=t&&t!==e.assessmentType?"":e.assessmentType}),{icd10_code:e.icd10Code.value,diagnosis:e.icd10Code.label,remarks:"",is_primary:!1,is_final:!1,date_added:e.dateAdded,assessment_type:g?"":t||e.assessmentType,assessment_remarks:g?"":e.assessmentRemarks,approved_amount:g?0:e.approvedAmount,loa_no:g||_?0:e.loaNo,approval_code:e.approvalCode,doctors:[{doctor_id:e.doctors[0].id,name:e.doctors[0].name,specialization:"",fee:e.doctors[0].fee,no_of_visits:0,remarks:"",approved_amount:0===e.procedures.length?g?0:e.approvedAmount:void 0}],procedures:e.procedures.filter(function(e){return e.cptCode.value}).map(function(t){return{cpt_code:t.cptCode.value,procedure_name:t.cptCode.label,amount:t.amount,doctor:"",phic:t.isPHIC,notes:"",date_added:e.dateAdded,assessment_type:g?"":t.assessmentType,assessment_remarks:g?"":t.assessmentRemarks,approved_amount:g?0:t.approvedAmount,loa_no:g||_?0:t.loaNo,approval_code:t.approvalCode}})}})}]}:void 0),Object(r.a)(h,"complaint_details",p?{complaint_type:p.type.label,summary_of_complaint:p.summary,specifics:p.specifics,details_of_complaint:p.details,notes:p.notes,files:i.map(function(e){return{name:e.name,type:e.type,url:e.url?e.url:e.path?e.path:"",field:e.field}}),root_cause:p.rootCause,resolution:p.resolution,acknowledge_by:p.acknowledgedBy}:void 0),Object(r.a)(h,"request_details",f?{request_title:f.title,request_type:f.type.label,details_of_request:f.background,notes:f.notes,recommendation:f.recommendation,basis_for_recommendation:f.basisRecommendation,assessment_type:g?"":f.assessmentType,assessment_remarks:g?"":f.assessmentRemarks}:void 0),Object(r.a)(h,"confinement_details",u?{provider:"".concat(u.provider.value," - ").concat(u.provider.label),date_admitted:u.dateAdmitted,confinement_kind:u.confinementKind,gift_given:u.giftGiven,updates:u.updates,room_accommodation:u.accommodations.map(function(e){return{room_type:e.roomType,room_no:e.roomNo,no_of_days:e.days,amount:e.costPerDay,total_amount:e.costPerDay*e.days}}),diagnoses:u.diagnoses.map(function(e){return{icd10_code:e.icd10Code.value,diagnosis:e.icd10Code.label,remarks:e.remarks,is_primary:e.isPrimary,is_final:e.isFinal,date_added:e.dateAdded,doctors:e.doctors.map(function(t){return{doctor_id:t.id,name:t.name,specialization:t.specialization,fee:t.fee,no_of_visits:t.noOfVisits,remarks:t.remarks,type:t.type,approved_amount:"Admitting"===t.type?g?0:e.approvedAmount:void 0}}),procedures:e.procedures.map(function(e){return{cpt_code:e.cptCode.value,procedure_name:e.cptCode.label,amount:e.amount,doctor:e.doctor,phic:e.isPHIC,notes:e.notes,date_added:e.dateAdded,assessment_type:g?"":e.assessmentType,assessment_remarks:g?"":e.assessmentRemarks,approved_amount:g?0:e.approvedAmount,loa_no:g||_?0:e.loaNo,approval_code:e.approvalCode}}),assessment_type:g?"":e.assessmentType,assessment_remarks:g?"":e.assessmentRemarks,approved_amount:g?0:e.approvedAmount,loa_no:g||_?0:e.loaNo,approval_code:e.approvalCode}}),others:u.others,coverage:u.coverage.label,philhealth_amount:u.philhealthAmount,final_bill:u.finalBill,discharge_date:u.dischargeDate}:void 0),Object(r.a)(h,"consultation_details",d?{provider:"".concat(d.provider.value," - ").concat(d.provider.label),diagnosis:"".concat(d.diagnosis.value," - ").concat(d.diagnosis.label),doctor:"".concat(d.doctor.value," - ").concat(d.doctor.label),notes:d.notes,assessment_type:g?"":d.assessmentType,assessment_remarks:g?"":d.assessmentRemarks,loa_no:g||_||g?0:d.loaNo,approval_code:d.approvalCode}:void 0),h),pmaker_case_uid:e.pmCaseId,status:E?"Resolved":b?"Closed":e.status,date_created:e.dateCreated,date_updated:e.dateUpdated,created_by:{_id:e.createdBy.id,user_id:e.createdBy.userId,name:e.createdBy.name,is_group:e.createdBy.isGroup},ticket_owner_user_id:e.ticketOwnerId,ticket_owner_name:e.ticket_owner_name,member_id:o?o.memberId:"",member_data:o?{_id:o.id,is_vip:o.isVip,last_name:o.lastName,middle_name:o.middleName,first_name:o.firstName,member_type:o.memberType,client:o.client?o.client.registeredName:void 0}:void 0,client_id:c?c.corporateAccountNo:o&&o.client?o.client.corporateAccountNo:" ",client_data:c?{registered_name:c.registeredName}:o?{registered_name:o.client?o.client.registeredName:void 0}:void 0,contract_id:o&&o.contract?o.contract.id:c&&c.contract?c.contract.id:"",total_amount:m?s.a.getAvailmentCost(m,"Emergency Room"===e.specificType):u?e.totalAmount:0,loa:g||_||!e.loa?void 0:[{loa_no:e.loa.loaNo,date:s.a.isValidDate(e.loa.loaDate)?e.loa.loaDate:void 0,amount:e.loa.loaAmount,notes:e.loa.loaNotes,approval_code:e.loa.approvalCode}],generate_approval_code:v,approver_id:v?e.approverId:a.pmakerUid,approver_name:g?"":v?e.approverName:"".concat(a.firstName," ").concat(a.lastName),notes_showed:!0,ticket_history_info:"None"!==t?{assignee_id:a.userId,assignee_name:"".concat(a.firstName," ").concat(a.lastName),pmaker_task:n.task,action:t}:void 0}}},{key:"saveInCreateTicketPayload",value:function(e,t,a,n,r,i,l,s,o,m,u,d,p,f,h){return{user_id:e.userId,module:"Customer Care",process:"Create Ticket",timestamp:new Date,data:{member_id:f?f.memberId:void 0,client_id:h?h.corporateAccountNo:void 0,doctors:t,ticket:c({},a,{additionalFiles:u}),availment:n,confinement:r,consultation:i,complaint:m,requestApproval:o,inquiries:l.map(function(e,t){return c({},e,{supportDocs:d[t]})}),endorsement:c({},s,{requestFiles:p})}}}},{key:"saveInUpdateTicketPayload",value:function(e,t,a,n,r,i,l,s,o,m,u,d,p,f,h,g,E,b,v,_,y,C,N,S,O){var A=_?_.files:[];return{user_id:e.userId,ticket_no:t.id,module:"Customer Care",process:"Update Ticket",timestamp:new Date,data:{tab_selected:a,member_id:b?b.memberId:void 0,client_id:v?v.corporateAccountNo:void 0,ticket:t,confinement:_?c({},_,{files:_.files.map(function(e){return c({},e.file,{docName:e.docName})}).filter(function(e){return!!e&&e.field}).concat(u.map(function(e,t){return c({},e,{docName:A[t].docName})}))}):void 0,inquiries:y?y.map(function(e,t){return c({},e,{supportDocs:d[t]})}):void 0,endorsement:C?c({},C,{requestFiles:p}):void 0,complaint:N?c({},N,{files:f}):void 0,requestApproval:S,update_state:n,accommodation_state:r,diagnosis_state:i,physician_state:l,procedure_state:s,other_detail_state:o,file_state:m,permission:h,comments:g,updates:E,current_case:O}}}},{key:"getPatchUpdatePayload",value:function(e){return{updates:e.map(function(e){return{comment:e.message,date_created:e.date,user_id:e.senderId,user_name:e.sender}})}}},{key:"getPatchCommentPayload",value:function(e,t,a){return{comments:e.map(function(e){return{comment:e.message,date_created:e.date,user_id:e.senderId,user_name:e.sender}}),ticket_history_info:{assignee_id:t,assignee_name:"".concat(localStorage.first_name," ").concat(localStorage.last_name),pmaker_task:a,action:"Added Comment"}}}},{key:"getMemberData",value:function(t){return{id:t._id,memberId:t.member_id,firstName:t.first_name,middleName:t.middle_name,lastName:t.last_name,birthDate:new Date(t.date_of_birth),gender:t.gender,civilStatus:t.civil_status,planType:t.plan_type,contract:t.latest_contract?{id:t.latest_contract._id,name:t.latest_contract.name,status:t.latest_contract.status,startDate:new Date(t.latest_contract.custom_metadata.coverage_start_date),endDate:new Date(t.latest_contract.custom_metadata.coverage_end_date)}:void 0,isVip:t.is_vip,status:t.member_status,memberType:t.member_type,client:e.getClientData(t.client)}}},{key:"getClientData",value:function(e,t,a){var n=function(e){return{floor:e.floor,unit:e.unit,bldgNo:e.bldg_no,bldgName:e.bldg_name,street:e.street,barangay:e.brgy,city:e.city,region:e.region,zipCode:e.zip_code,contactNos:e.contact_numbers?e.contact_numbers.map(function(e){return e.no}):[],contactPersons:e.contact_persons?e.contact_persons.map(function(e){return{name:e.name,contactNo:e.contact_no,email:e.email_address,designation:e.designation}}):[]}};return{id:e._id,registeredName:e.registered_name,brandName:e.brand_name,cardName:e.name_on_card,corporateAccountNo:e.corporate_account_no,tinNo:e.tin_no,vatType:e.vat_type,evatNo:e.evat_no,industry:e.industry,ownership:e.ownership,years:e.years_of_existence,prevHMOProvider:e.prev_hmo_provider,prevHMOEffectivityDate:e.prev_hmo_effectivity_date?new Date(e.prev_hmo_effectivity_date):void 0,prevHMOExpiryDate:e.prev_hmo_effectivity_date?new Date(e.prev_hmo_expiry_date):void 0,secRegNo:e.sec_reg_no,authSignatory:e.authorized_signatory,authContactNo:e.authorized_signatory_contact_no,authEmail:e.authorized_signatory_email_address,authDesignation:e.authorized_signatory_designation,sourceOfFunds:e.sources_of_funds,salesChannel:e.sales_channel?{type:e.sales_channel.type,name:e.sales_channel.agent_name,company:e.sales_channel.company_name,contactName:e.sales_channel.contact_person,position:e.sales_channel.position,contactNo:e.sales_channel.contact_no,email:e.sales_channel.email_address}:void 0,mainOfficeAddress:e.main_office_address?n(e.main_office_address):void 0,branches:e.branches?e.branches.map(function(e){return n(e)}):[],status:e.status,contract:t?function(t){var a="",n=void 0,r=void 0;return t.forEach(function(e){2===e.level&&"MCT"===e.tree_id&&(a=e.name?e.name:"",e.custom_metadata&&(n=e.custom_metadata.coverage_start_date||"",r=e.custom_metadata.coverage_end_date||""))}),{id:e.contracts&&e.contracts.length>0?e.contracts[0]:"",name:a,startDate:n?new Date(n):void 0,endDate:r?new Date(r):void 0}}(t):e.latest_contract?{id:e.latest_contract._id,name:e.latest_contract.name,status:e.latest_contract.status,startDate:new Date(e.latest_contract.custom_metadata.coverage_start_date),endDate:new Date(e.latest_contract.custom_metadata.coverage_end_date)}:void 0,attachments:e.attachments?e.attachments.map(function(e){return{type:e.type,url:e.url,tags:e.tags,origName:e.originalname,encoding:e.encoding,mimeType:e.mimetype,size:e.size}}):void 0,files:e.files,groupName:e.group_name,headCompanyName:e.head_company_name,memberFields:e.member_data_fields?e.member_data_fields.map(function(e){return{isRequired:e.is_required,fieldName:e.system_name,dataType:e.data_type,inputType:e.input_type,type:e.field_type}}):void 0,planTypes:a?a.map(function(e){return{name:e.plan_type_name,code:e.plan_type_code,benefits:e.benefit_count,principals:e.principal_count,dependents:e.dependent_count,dateCreated:new Date(e.date_created),dateUpdated:new Date(e.date_updated),version:e.version}}):void 0,servicingInstructions:e.servicing_instructions?{sortingOfCards:e.servicing_instructions.sorting_of_cards?{cardSorting:e.servicing_instructions.sorting_of_cards.card_sorting,cardPacking:e.servicing_instructions.sorting_of_cards.card_packing,packAccordingTo:e.servicing_instructions.sorting_of_cards.pack_accdg_to}:void 0,printingOfCards:e.servicing_instructions.printing_of_cards,billing:e.servicing_instructions.billing?{addressSoaTo:e.servicing_instructions.billing.address_soa_to,sendSoaTo:e.servicing_instructions.billing.send_soa_to,sendSoaDays:e.servicing_instructions.billing.send_soa_days,sendSoaFormats:e.servicing_instructions.billing.send_soa_formats,cmApplication:e.servicing_instructions.billing.cm_application,additionalRequirements:e.servicing_instructions.billing.additional_requirements,soaGeneration:e.servicing_instructions.billing.soa_generation,soaSorting:e.servicing_instructions.billing.soa_sorting,additionalFieldsSoa:e.servicing_instructions.billing.additional_fields_soa}:void 0,enrollment:e.servicing_instructions.enrollment?{employeeEntrollment:e.servicing_instructions.enrollment.employee_enrollment,dependentEntrollment:e.servicing_instructions.enrollment.dependent_enrollment,enrollmentDoneThrough:e.servicing_instructions.enrollment.enrollment_done_through}:void 0,collection:e.servicing_instructions.collection?{prefredMeansOfPayment:e.servicing_instructions.collection.preferred_means_of_payment,employeeEnrollment:e.servicing_instructions.collection.employee_enrollment,contactPersonForFollowups:e.servicing_instructions.collection.contact_person_for_followups,detialsForPaymentPickup:e.servicing_instructions.collection.details_for_payment_pickup,preferedBank:e.servicing_instructions.collection.preferred_bank}:void 0,availment:e.servicing_instructions.availment,reportorial:e.servicing_instructions.reportorial?e.servicing_instructions.reportorial.map(function(e){return{reportType:e.report_type,frequency:e.frequency,available:e.available}}):void 0}:void 0}}},{key:"getContractData",value:function(e){return e.map(function(e){var t=e.custom_metadata.coverage_start_date&&e.custom_metadata.coverage_end_date?new Date(e.custom_metadata.coverage_start_date).toLocaleDateString("en-US",{day:"numeric",year:"numeric",month:"short"})+" - "+new Date(e.custom_metadata.coverage_end_date).toLocaleDateString("en-US",{day:"numeric",year:"numeric",month:"short"}):"-";return{id:e._id,name:e.name,contractNo:e.proposal_number,type:e.handler,status:e.status,effectivity_date:t,updateDate:new Date(e.custom_metadata.date_updated).toLocaleDateString("en-US",{day:"numeric",year:"numeric",month:"short"}),version:e.version}})}},{key:"getAuditLogs",value:function(e){return e.map(function(e){return{activityId:e.activity_id,user:e.user,name:e.activity,date:e.date,time:e.time}})}},{key:"getDocuments",value:function(e){return e.map(function(e){return{clientId:e.client_id,name:e.document_name,proposalNo:e.proposal_number,files:e.files,uploader:e.uploaded_by,uploadDate:new Date(e.uploaded_date),version:e.version,signedDate:e.date_signed?new Date(e.date_signed):void 0,batchName:e.batch_name,endorseDate:e.date_endorsed?new Date(e.date_endorsed):void 0,type:e.type,sender:e.sender,section:e.section}})}},{key:"getMembers",value:function(e){return e.map(function(e){return{id:e._id,memberId:e.member_id?e.member_id:"---",firstName:e.first_name?e.first_name:"",middleName:e.middle_name?e.middle_name:"",lastName:e.last_name?e.last_name:"",birthDate:new Date(e.date_of_birth),gender:e.gender?e.gender:"",civilStatus:e.civil_status,corporateName:e.registered_name,status:e.member_status,memberType:e.member_type,effectivityDate:e.effectivity_date?new Date(e.effectivity_date):void 0,terminationDate:e.termination_date?new Date(e.termination_date):void 0}})}},{key:"getTicketData",value:function(e){var t=e.ticket_category,a=t.specific_type,n=e.received_from,r="Member"===n&&e.ticket_member_source?{value:e.ticket_member_source,label:e.ticket_member_source}:{value:"",label:""},i="Member"===n&&"Other"===r.value&&e.relationship_to_member?e.relationship_to_member:"",l="Corporate Client"===n&&e.ticket_corporate_choice?{value:e.ticket_corporate_source,label:e.ticket_corporate_choice}:{value:"",label:""},s="Corporate Client"===n&&"Other"===l.value&&e.caller_company_position?e.caller_company_position:"",o="Broker"===n&&e.broker?{value:e.broker,label:e.broker}:{value:"",label:""},c="Clinic/Hospital"===n&&e.other_hospital?e.other_hospital:"",m="Clinic/Hospital"===n&&e.hospital_name?{value:"",label:e.hospital_name}:c?{value:"",label:"NOT AFFILIATED"}:{value:"",label:""},u="Clinic/Hospital"===n&&e.department?e.department:"";return{id:e._id,contractId:e.contract_id,ticketChannel:e.received_via,transactionNo:e.transaction_no,ticketSource:n,memberSourceChoice:r,memberName:e.member_name,relationshipToMember:i,clientName:e.corporate_client,corporateSourceChoice:l,companyPosition:s,brokerName:o,facility:m,otherFacility:c,department:u,callerName:e.caller_name,contactNo:e.contact_no,ticketType:t.ticket_type,ticketCategory:t,specificType:a,urgency:t.urgency,assignee:{id:"",name:e.assign_to,isGroup:!1},additionalNotes:e.assign_remarks,additionalFiles:e.supporting_documents,ticketNo:e.ticket_id,pmCaseId:e.pmaker_case_uid,ticketOwnerId:e.ticket_owner_user_id,ticket_owner_name:e.ticket_owner_name,status:e.status,createdBy:{id:e.created_by.id,userId:e.created_by.user_id,name:e.created_by.name,isGroup:e.created_by.is_group},dateCreated:new Date(e.date_created),dateUpdated:new Date(e.date_updated),dateEscalated:new Date(e.date_escalated),approverId:e.approver_id,approverName:e.approver_name,totalAmount:e.total_amount,loa:e.loa?{loaNo:e.loa[0].loa_no,loaDate:new Date(e.loa[0].date),loaAmount:e.loa[0].amount,loaNotes:e.loa[0].notes,approvalCode:e.loa[0].approval_code}:"Inpatient"===a||"Emergency Room"===a?{loaNo:0,loaDate:new Date,loaAmount:0,loaNotes:""}:void 0}}},{key:"getTicketDataTVS",value:function(e){var t=e.ticket_category,a=t.specific_type,n=e.received_from,r="Member"===n&&e.ticket_member_source?{value:e.ticket_member_source,label:e.ticket_member_source}:{value:"",label:""},i="Member"===n&&"Other"===r.value&&e.relationship_to_member?e.relationship_to_member:"",l="Corporate Client"===n&&e.ticket_corporate_choice?{value:e.ticket_corporate_source,label:e.ticket_corporate_choice}:{value:"",label:""},s="Corporate Client"===n&&"Other"===l.value&&e.caller_company_position?e.caller_company_position:"",o="Broker"===n&&e.broker?{value:e.broker,label:e.broker}:{value:"",label:""},c="Clinic/Hospital"===n&&e.other_hospital?e.other_hospital:"",m="Clinic/Hospital"===n&&e.hospital_name?{value:"",label:e.hospital_name}:c?{value:"",label:"NOT AFFILIATED"}:{value:"",label:""},u="Clinic/Hospital"===n&&e.department?e.department:"";return{id:e._id,contractId:e.contract_id,ticketChannel:e.received_via,transactionNo:e.transaction_no,ticketSource:n,memberSourceChoice:r,memberName:e.member_name,relationshipToMember:i,clientName:e.corporate_client,corporateSourceChoice:l,companyPosition:s,brokerName:o,facility:m,otherFacility:c,department:u,callerName:e.caller_name,contactNo:e.contact_no,ticketType:t.ticket_type,ticketCategory:t,specificType:a,urgency:t.urgency,assignee:{id:"",name:e.assign_to,isGroup:!1},additionalNotes:e.assign_remarks,additionalFiles:e.supporting_documents,ticketNo:e.ticket_id,pmCaseId:e.pmaker_case_uid,ticketOwnerId:e.ticket_owner_user_id,ticket_owner_name:e.ticket_owner_name,status:e.status,createdBy:e.created_by?{id:e.created_by.id,userId:e.created_by.user_id,name:e.created_by.name,isGroup:e.created_by.is_group}:{id:"---",userId:"---",name:"---",isGroup:"---"},dateCreated:new Date(e.date_created),dateUpdated:e.date_updated?new Date(e.date_updated):new Date(e.date_created),dateEscalated:e.date_escalated?new Date(e.date_escalated):new Date(e.date_created),approverId:e.approver_id,approverName:e.approver_name,totalAmount:e.total_amount,loa:e.loa?{loaNo:e.loa[0].loa_no,loaDate:new Date(e.loa[0].date),loaAmount:parseFloat(e.loa[0].amount),loaNotes:e.loa[0].notes,approvalCode:e.loa[0].approval_code.approval_code}:"Inpatient"===a||"Emergency Room"===a?{loaNo:0,loaDate:new Date,loaAmount:0,loaNotes:""}:void 0}}},{key:"getCommentData",value:function(e){return e.map(function(e){return{sender:e.user_name,senderId:e.user_id,message:e.comment,date:new Date(e.date_created)}})}},{key:"getUpdateData",value:function(e){return e.map(function(e){return{sender:e.user_name,senderId:e.user_id,message:e.comment,date:new Date(e.date_created)}})}},{key:"getInquiryData",value:function(e){return e.inquiry_list.map(function(e){return{inquiry:{value:"",label:e.inquiry},detail:e.value,specificDetail:e.specific_detail,answer:e.answer,remarks:e.remarks,relatedTickets:e.related_tickets,supportDocs:e.support_docs}})}},{key:"getConfinementData",value:function(e,t){var a,r,i=e.provider.split(" - ");return{provider:{value:i[0],label:i[1]},dateAdmitted:new Date(e.date_admitted),confinementKind:e.confinement_kind,giftGiven:e.gift_given,coverage:{value:"",label:e.coverage},ticketNo:e.ticket_no,paidBy:e.paid_by,philhealthAmount:e.philhealth_amount,finalBill:e.final_bill,dischargeDate:e.discharge_date?new Date(e.discharge_date):void 0,primaryDiagnosisIndex:e.diagnoses.map(function(e,t){return e.is_primary?t:-1}).filter(function(e){return-1!=e})[0],updates:e.updates.map(function(e){return{remarks:e.remarks,date:new Date(e.date),hospitalBill:parseFloat(e.hospital_bill)}}),accommodations:e.room_accommodation.map(function(e){return{roomType:{value:e.room_type,label:e.room_type},roomNo:e.room_no,days:e.no_of_days,costPerDay:e.amount}}),diagnoses:e.diagnoses.map(function(e){return{diagnosis:{value:e.icd10_code,label:e.diagnosis},remarks:e.remarks,isFinal:e.is_final,isPrimary:e.is_primary}}),physicians:(a=[]).concat.apply(a,Object(n.a)(e.diagnoses.map(function(e){return e.doctors.map(function(t){return{physician:{value:t.doctor_id,label:t.name,params:[t.specialization,t.type]},diagnosis:{value:e.icd10_code,label:e.diagnosis},remarks:t.remarks,visits:t.no_of_visits,amount:t.fee}})}))),procedures:(r=[]).concat.apply(r,Object(n.a)(e.diagnoses.map(function(e){return e.procedures.map(function(t){return{procedure:{value:t.cpt_code,label:t.procedure_name},diagnosis:{value:e.icd10_code,label:e.diagnosis},physician:{value:"",label:t.doctor},date:new Date(t.date_added),remarks:t.notes,amount:parseInt(t.amount)}})}))),items:e.others.map(function(e){return{name:e.item_name,type:{value:"",label:e.type},amount:e.amount}}),files:t.supporting_documents.map(function(e){return{docName:e.doc_name,file:e}})}}},{key:"getResolveConfinementData",value:function(e){var t=e.provider.split(" - ");return{provider:{value:t[0],label:t[1]},dateAdmitted:new Date(e.date_admitted),confinementKind:e.confinement_kind,giftGiven:e.gift_given,coverage:{value:"",label:e.coverage},philhealthAmount:e.philhealth_amount,finalBill:e.final_bill,dischargeDate:e.discharge_date?new Date(e.discharge_date):void 0,diagnoses:e.diagnoses.map(function(e){var t=e.doctors.find(function(e){return e.approved_amount});return{icd10Code:{value:e.icd10_code,label:e.diagnosis},remarks:e.remarks,isPrimary:e.is_primary,isFinal:e.is_final,assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks,approvedAmount:t?t.approved_amount:0,loaNo:e.loa_no,approvalCode:e.approval_code,doctors:e.doctors.map(function(e){return{id:e.doctor_id,name:e.name,specialization:e.specialization,type:e.type,fee:e.fee,noOfVisits:e.no_of_visits,remarks:e.remarks}}),procedures:e.procedures.map(function(e){return{cptCode:{value:e.cpt_code,label:e.procedure_name},isPHIC:e.phic,amount:parseInt(e.amount),notes:e.notes,doctor:e.doctor,dateAdded:new Date(e.date_added),assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks,approvedAmount:e.approved_amount,loaNo:e.loa_no,approvalCode:e.approval_code}})}}),accommodations:e.room_accommodation.map(function(e){return{roomType:e.room_type,roomNo:e.room_no,days:parseInt(e.no_of_days),costPerDay:e.amount}}),updates:e.updates,others:e.others}}},{key:"getAvailmentData",value:function(e){var t=e.provider.split(" - ");return{provider:{value:t[0],label:t[1]},chiefComplaint:e.chief_complaint,history:e.history,diagnoses:e.availments_list[0].diagnosis.map(function(e){var t=e.doctors.find(function(e){return e.approved_amount});return{icd10Code:{value:e.icd10_code,label:e.diagnosis},remarks:e.remarks,isPrimary:e.is_primary,isFinal:e.is_final,dateAdded:new Date(e.date_added),assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks,approvedAmount:t?t.approved_amount:0,loaNo:e.loa_no,approvalCode:e.approval_code,doctors:e.doctors.map(function(e){return{id:e.doctor_id,name:e.name,specialization:e.specialization,fee:e.fee,noOfVisits:e.no_of_visits,remarks:e.remarks}}),procedures:e.procedures.map(function(e){return{cptCode:{value:e.cpt_code,label:e.procedure_name},isPHIC:e.phic,amount:parseInt(e.amount),notes:e.notes,doctor:{value:"",label:e.doctor},dateAdded:new Date(e.date_added),assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks,approvedAmount:e.approved_amount,loaNo:e.loa_no,approvalCode:e.approval_code}})}})}}},{key:"getConsultationData",value:function(e){var t=e.provider.split(" - "),a=e.diagnosis.split(" - "),n=e.doctor.split(" - ");return{provider:{value:t[0],label:t[1]},diagnosis:{value:a[0],label:a[1]},doctor:{value:n[0],label:n[1]},notes:e.notes,assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks,approvedAmount:0,loaNo:e.loa_no,approvalCode:e.approval_code}}},{key:"getComplaintData",value:function(e){return{type:{value:"",label:e.complaint_type},summary:e.summary_of_complaint,specifics:e.specifics,details:e.details_of_complaint,notes:e.notes,files:e.files,rootCause:e.root_cause,resolution:e.resolution,acknowledgedBy:e.acknowledge_by}}},{key:"getEndorsementData",value:function(e){return{requestType:{value:"",label:e.request_type},background:e.details_of_request,notes:e.notes,requestFiles:e.request_files}}},{key:"getRequestApprovalData",value:function(e){return{title:e.request_title,type:{value:"",label:e.request_type},background:e.details_of_request,notes:e.notes,recommendation:e.recommendation,basisRecommendation:e.basis_for_recommendation,assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks}}},{key:"getCreateTicketResetFields",value:function(){return{client:void 0,member:void 0,assignees:[],doctors:[],ticket:{ticketChannel:"Call",transactionNo:"9999-9999",ticketSource:"",memberSourceChoice:{value:"",label:""},memberName:"",relationshipToMember:"",corporateSourceChoice:{value:"",label:""},clientName:"",companyPosition:"",brokerName:{value:"",label:""},facility:{value:"",label:""},otherFacility:"",department:"",callerName:"",contactNo:"",ticketType:"",ticketCategory:{},specificType:"",urgency:"High",assignee:{id:"",name:"",isGroup:!1},additionalNotes:"",additionalFiles:[],ticketNo:"",pmCaseId:"",ticketOwnerId:"",status:"Open",createdBy:{id:"",name:"",isGroup:!1},dateCreated:new Date,dateUpdated:new Date,dateEscalated:null,totalAmount:0},availment:{provider:{value:"",label:""},diagnoses:[]},confinement:{provider:{value:"",label:""},dateAdmitted:new Date,confinementKind:"",roomType:{value:"",label:""},roomNo:"",costPerDay:0,doctor:{value:"",label:""},initialDiagnosis:{value:"",label:""},amount:0},consultation:{provider:{value:"",label:""},diagnosis:{value:"",label:""},doctor:{value:"",label:""},notes:"",assessmentRemarks:"",assessmentType:"",approvedAmount:0,loaNo:0},complaint:{type:{value:"",label:""},summary:"",specifics:"",details:"",notes:"",files:[],rootCause:"",resolution:"",acknowledgedBy:""},inquiries:[],endorsement:{requestType:{value:"",label:""},background:"",notes:"",requestFiles:[]},requestApproval:{title:"",type:{value:"",label:""},background:"",notes:"",recommendation:"",basisRecommendation:"",assessmentType:"",assessmentRemarks:""}}}}]),e}()},32:function(e,t,a){"use strict";a.d(t,"a",function(){return I});var n=a(33),r=a(8),i=a(9),l=a(14),s=a(12),o=a(13),c=a(0),m=a(768),u=a(769),d=a(343),p=a(770),f=a(457),h=a(776),g=a(26),E=(a(74),a(17)),b=a(28),v=a(23),_=a(5),y=a(53),C=a(66),N=a(79),S=a(169),O=a(36);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).timeOut=void 0,a.resetPage=function(){a.setState({page:0})},a.getSlicedData=function(e){if(a.props.rowsPerPageOptions&&!a.props.serverSideOption){var t=a.state.page*a.state.rowsPerPage;return e.slice(t,t+a.state.rowsPerPage)}return e},a.getFilteredRows=function(e){var t={};return Object.keys(a.state.filterData).map(function(e){a.state.filterData[e]&&(a.state.filterData[e].length&&a.state.filterData[e].length>0||!a.state.filterData[e].length)&&(t[e]=a.state.filterData[e])}),a.props.rows.filter(function(a){var n=!0;return Object.keys(a).map(function(r){var i=e.find(function(e){return e.key===r}),l=!!i&&(i.filterFunc?!i.filterFunc(t[r],a[r]):"string"===i.filterType?!!t[r]&&!a[r].toString().toLowerCase().includes(t[r].toLowerCase()):"number"===i.filterType?!!t[r]&&!a[r].toString().includes(t[r]):"date"===i.filterType?!!t[r]&&a[r].toDateString()!==t[r].toDateString():"dropdown"===i.filterType&&(!!t[r]&&a[r].toDateString().includes(t[r].value)));t[r]&&l&&(n=!1)}),n})},a.apiCall=function(e){if(a.props.serverSideOption&&!a.props.serverSideOption.disabled){a.setState({isSearching:!0}),e&&a.resetPage();var t=a.props.serverSideOption,n=(e?0:a.state.page)*a.state.rowsPerPage,r=a.state.rowsPerPage;E.a.get(t.getUrl(n,r,a.state.filterData),function(e){t.onSuccess(e),a.setState({count:t.getCount(e)}),a.setState({isSearching:!1})},function(e){t.onFail&&t.onFail(e),a.setState({isSearching:!1})})}},a.state={page:0,rowsPerPage:0,count:0,filterData:{},sortedColumn:"",isSearching:!1},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.rowsPerPageOptions&&this.setState({rowsPerPage:this.props.rowsPerPageOptions[0]},function(){e.props.serverSideOption&&e.apiCall()})}},{key:"render",value:function(){var e=this,t=this.props.serverSideOption?this.getSlicedData(this.props.rows):this.props.columns?this.getFilteredRows(this.props.columns):this.getSlicedData(this.props.rows);return c.createElement(c.Fragment,null,c.createElement("div",{style:T({overflow:this.props.canOverflow?"auto":"none",position:"relative"},this.props.style?this.props.style:void 0)},this.state.isSearching?c.createElement(S.a,{height:"3rem",size:80,position:"absolute"}):null,c.createElement(m.a,{className:"".concat(this.props.className?this.props.className:""," table"),stickyHeader:!!this.props.stickyHeader&&this.props.stickyHeader},c.createElement(u.a,null,this.props.columns?c.createElement(d.a,null,this.props.columns.map(function(t){return e.renderHeaderColumn(t,void 0!==e.props.serverSideOption)})):this.props.renderHeader?c.createElement(d.a,null,this.props.renderHeader()):null),c.createElement(p.a,null,this.props.renderRow?t.length>0?this.props.serverSideOption?t.map(function(t,a){return e.props.renderRow(t,a,e.state.filterData)}):this.getSlicedData(t).map(function(t,a){return e.props.renderRow(t,a,e.state.filterData)}):c.createElement(d.a,null,c.createElement(f.a,{colSpan:999,style:{textAlign:"center"}},this.props.noRowsMessage?this.props.noRowsMessage:"No data found")):null))),this.props.rowsPerPageOptions&&!this.props.serverSideOption?c.createElement(h.a,{className:"".concat(this.props.paginationClass?this.props.paginationClass:""," pagination MuiTablePagination-root"),rowsPerPageOptions:this.props.rowsPerPageOptions,count:this.props.rows.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,labelDisplayedRows:function(t){return e.props.onChangeInfo?e.props.onChangeInfo(t):"".concat(t.from,"-").concat(t.to," of ").concat(t.count)},labelRowsPerPage:this.props.labelRowsPerPage?this.props.labelRowsPerPage:"Rows per page:",onChangePage:function(t,a){e.setState({page:a})},onChangeRowsPerPage:function(t){e.setState({rowsPerPage:parseInt(t.target.value,10),page:0})}}):null,this.props.serverSideOption&&this.props.rowsPerPageOptions?c.createElement(k,{rowsPerPageOptions:this.props.rowsPerPageOptions,rowsPerPage:this.state.rowsPerPage,page:this.state.page,count:this.state.count,onChangePage:function(t){e.setState({page:t},function(){e.apiCall()})},onChangeRowsPerPage:function(t){e.setState({rowsPerPage:t,page:0},function(){e.apiCall()})}}):null)}},{key:"renderHeaderColumn",value:function(e,t){var a=this,n=function(n){a.state.isSearching||(a.state.filterData[e.key]=n,a.setState({filterData:a.state.filterData,page:0}),t&&(clearTimeout(a.timeOut),a.timeOut=setTimeout(function(){a.apiCall(!0)},1e3)))};return c.createElement(f.a,{style:e.style},e.name?c.createElement("span",{className:"header-2"},e.name):null,e.sortType&&e.key?c.createElement("div",{style:{float:"right"}},c.createElement(y.a,{icon:this.state.sortedColumn!==e.key?_.I:_.J,onClick:function(){e.key&&!e.sortFunc?a.state.sortedColumn!==e.key?(a.props.rows.sort(function(t,a){var n=t[e.key],r=a[e.key],i="string"===e.sortType?n.toString().toLowerCase():"date"===e.sortType?n.getTime():"number"===e.sortType?n:"dropdown"===e.sortType?n.value.toString().toLowerCase():void 0,l="string"===e.sortType?r.toString().toLowerCase():"date"===e.sortType?r.getTime():"number"===e.sortType?r:"dropdown"===e.sortType?r.value.toString().toLowerCase():void 0;return i>l?1:i<l?-1:0}),a.setState({sortedColumn:e.key})):(a.props.rows.sort(function(t,a){var n=t[e.key],r=a[e.key],i="string"===e.sortType?n.toString().toLowerCase():"date"===e.sortType?n.getTime():"number"===e.sortType?n:"dropdown"===e.sortType?n.value.toString().toLowerCase():void 0,l="string"===e.sortType?r.toString().toLowerCase():"date"===e.sortType?r.getTime():"number"===e.sortType?r:"dropdown"===e.sortType?r.value.toString().toLowerCase():void 0;return i>l?-1:i<l?1:0}),a.setState({sortedColumn:""})):e.key&&e.sortFunc&&e.sortFunc(a.props.rows,e.key,a.state.sortedColumn!==e.key)}})):null,e.filterType&&e.key?"string"===e.filterType?c.createElement(v.a,{value:this.state.filterData[e.key],disabled:e.filterDisabled,onChange:n}):"number"===e.filterType?c.createElement(C.a,{value:this.state.filterData[e.key],disabled:e.filterDisabled,onChange:n}):"date"===e.filterType?c.createElement(N.a,{value:this.state.filterData[e.key]||null,disabled:e.filterDisabled,onChange:n}):"dropdown"===e.filterType?c.createElement(O.a,{value:this.state.filterData[e.key]||null,choices:e.filterOption||[],disabled:e.filterDisabled,onChange:n}):null:null)}}]),t}(c.Component),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).getPagesList=function(){for(var e=[],t=Math.ceil(a.props.count/a.props.rowsPerPage),n=!1,r=Math.max(0,a.props.page-4);r<t;r++)t-r>2&&r-a.props.page>=2?n||(e.push("..."),n=!0):e.push(""+(r+1));return e.slice(Math.max(e.length-5,0))},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.getPagesList(),a={textAlign:"center",lineHeight:"2.5rem"};return c.createElement(g.a,{container:!0,spacing:1,className:"custom-pagination"},c.createElement(g.a,{item:!0,xs:5},"".concat(this.props.page*this.props.rowsPerPage+1,"-")+"".concat(Math.min((this.props.page+1)*this.props.rowsPerPage,this.props.count)," out of ")+"".concat(this.props.count," items")),c.createElement(g.a,{item:!0,xs:7},c.createElement(g.a,{container:!0,spacing:1},c.createElement(g.a,{item:!0,xs:!0}),c.createElement(g.a,{item:!0,xs:1,style:{textAlign:"center"}},c.createElement(O.a,{choices:this.props.rowsPerPageOptions.map(function(e){return{value:e+"",label:e+""}}),value:{value:this.props.rowsPerPage+"",label:this.props.rowsPerPage+""},onChange:function(t){e.props.onChangeRowsPerPage(parseInt(t.value))}})),c.createElement(g.a,{item:!0,xs:1,style:a},c.createElement(b.a,{icon:_.a,onClick:function(){e.props.page-1>=0&&e.props.onChangePage(0)}})),c.createElement(g.a,{item:!0,xs:1,style:a},c.createElement(b.a,{icon:_.c,onClick:function(){var t=e.props.page-1;t>=0&&e.props.onChangePage(t)}})),t.map(function(t){var a=parseInt(t)-1,n={fontWeight:e.props.page==a?"bold":void 0,cursor:isNaN(a)?void 0:"pointer",textAlign:"center",lineHeight:"2.5rem"};return c.createElement(g.a,{item:!0,xs:1},c.createElement("div",{style:n,onClick:function(){isNaN(a)||e.props.onChangePage(a)}},t))}),c.createElement(g.a,{item:!0,xs:1,style:a},c.createElement(b.a,{icon:_.d,onClick:function(){var t=e.props.page+1;t*e.props.rowsPerPage<e.props.count&&e.props.onChangePage(t)}})),c.createElement(g.a,{item:!0,xs:1,style:a},c.createElement(b.a,{icon:_.b,onClick:function(){(e.props.page+1)*e.props.rowsPerPage<e.props.count&&e.props.onChangePage(Math.floor(e.props.count/e.props.rowsPerPage))}})))))}}]),t}(c.PureComponent)},324:function(e,t,a){},36:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=(a(74),a(144)),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={value:""},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.disabled!==e.disabled||this.props.value!==e.value||this.props.choices!==e.choices||this.props.error!==e.error}},{key:"handleOnBlur",value:function(){throw null}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:"dropdown"},this.props.placeholder?o.createElement("div",{className:this.props.disabled?"text-disabled text":"text"},this.props.placeholder):null,o.createElement(c.a,{className:"actual-dropdown",classNamePrefix:this.props.error?"actual-dropdown-error":"actual-dropdown",isDisabled:!!this.props.disabled&&this.props.disabled,value:this.props.value,options:this.props.choices,isClearable:this.props.isClearable,onInputChange:function(t,a){e.setState({value:t})},onBlur:this.props.handleBlur?this.handleOnBlur:void 0,onFocus:function(){console.log("Dropdown - onFocus()",e.props.placeholder),console.log("Dropdown -","options:",{options:e.props.choices},"count:",e.props.choices.length),e.props.onFocus&&e.props.onFocus()},noOptionsMessage:function(){return 0===e.props.choices.length?"No options":e.state.value.length<3?"Enter at least 3 characters to search":"No options"},filterOption:this.props.showAllResult?void 0:function(t,a){var n=0===a.length,r=e.props.choices.length<=20,i=a.length<3,l=t.label.toLowerCase().includes(a.toLowerCase());return r?!!n||l:!i&&l},onChange:function(t){e.props.onChange(t)}}))}}]),t}(o.Component)},39:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=(a(74),a(342)),m=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.createElement("div",{style:{textAlign:"center",paddingTop:this.props.height?this.props.height:void 0}},o.createElement(c.a,{size:this.props.size,style:{color:this.props.color?this.props.color:void 0}}))}}]),t}(o.Component)},429:function(e){e.exports=JSON.parse('{"boilerplate.containers.NotFoundPage.header":"Page not found."}')},430:function(e,t,a){},451:function(e,t,a){"use strict";var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=a(272),m=a.n(c),u=a(328),d=a(37),p=a.n(d),f=a(426),h=a(427),g=a(428);g.vfs=h.pdfMake.vfs;var E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).printRender=function(){var e=a.props.html.html.replace(/\s\s+/g," ");if(console.log(a.props.html.params.default_style),"string"==typeof a.props.fileType&&"docx"==a.props.fileType.toLowerCase())try{a.printDocx(e)}catch(t){a.props.onError()}else try{a.printPdf(e)}catch(n){a.props.onError()}},a.printPdf=function(e){var t="";if("renderProposal"==a.props.renderType){t="Proposal",void 0!==(i=f(e,{defaultStyles:void 0!==a.props.html.params.default_style?JSON.parse(a.props.html.params.default_style):{}}))[0].stack[0].table&&i[0].stack[0].table.body[0].map(function(e){e.border=[!1,!1,!1,!1]});var n={content:[i],styles:void 0!==a.props.html.params.pdfmake_style?JSON.parse(a.props.html.params.pdfmake_style):{},pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1}},r=g.createPdf(n)}else if("renderContract"==a.props.renderType){t="Contract";var i=f(e,{defaultStyles:void 0!==a.props.html.params.default_style?JSON.parse(a.props.html.params.default_style):{}}),l={footer:void 0!==a.props.html.params.default_footer?JSON.parse(a.props.html.params.default_footer):{},content:[i],styles:void 0!==a.props.html.params.pdfmake_style?JSON.parse(a.props.html.params.pdfmake_style):{},pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1}};r=g.createPdf(l)}var s=t+"-"+a.props.clientName+"-"+p()().format("MMDDYYYY-hmssa");""!==a.props.clientName&&void 0!==a.props.clientName&&null!==a.props.clientName||(s=t+"-"+a.props.clientID+"-"+p()().format("MMDDYYYY-hmssa")),void 0!==a.props.viewOnly&&"view"===a.props.renderAction?r.getBlob(function(e){void 0!==a.props.viewOnly&&a.props.viewOnly(e)}):r.download(s+".pdf"),a.props.onStartDownload(),a.props.onStartDownload(),a.props.resetFlag&&a.props.resetFlag()},a.printDocx=function(e){var t="";if("renderProposal"===a.props.renderType){var n=m.a.asBlob(e,{orientation:"portrait",margins:{top:720}});t="Proposal"}else if("renderContract"===a.props.renderType){n=m.a.asBlob(e,{orientation:"portrait",margins:{top:720,left:720,right:720,bottom:720}});t="Contract"}var r=t+"-"+a.props.clientName+"-"+p()().format("MMDDYYYY-hmssa");""!==a.props.clientName&&void 0!==a.props.clientName&&null!==a.props.clientName||(r=t+"-"+a.props.clientID+"-"+p()().format("MMDDYYYY-hmssa")),Object(u.saveAs)(n,r+".docx"),a.props.resetFlag&&a.props.resetFlag(),a.props.onStartDownload()},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(){this.printRender()}},{key:"componentDidMount",value:function(){this.printRender()}},{key:"render",value:function(){return o.createElement(o.Fragment,null)}}]),t}(o.Component),b=localStorage.getItem("CLIENT_URL")?localStorage.getItem("CLIENT_URL"):localStorage.getItem("XDEV_CLIENT_URL"),v=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"getTreeObj",value:function(e,t){var a="".concat(b,"benefit-plans/tree/").concat(e);return""!==t&&(a="".concat(b).concat(t,"/tree/").concat(e)),fetch(a,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}}]),e}(),_=a(26),y=a(91);a(743);a.d(t,"a",function(){return C});var C=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).convertStringToFunction=function(e,t){try{return new Function("return ".concat(t))()}catch(a){console.log("Error in converting fucntion in node _id: ".concat(e))}},a.traverseTree=function(e){return e.forEach(function(t,n){if(t.hasOwnProperty("valid_functions")&&t.valid_functions.length>0){t._id===a.props.objId&&a.setState({nodeToExecute:n});var r=t.children,i=[];e[a.state.nodeToExecute].fileType=a.props.fileType&&a.props.fileType.toLowerCase(),e[a.state.nodeToExecute].valid_functions.forEach(function(e){t.hasOwnProperty(e)&&""!==t[e]&&void 0!==t[e]&&(t[e]=a.convertStringToFunction(t._id,t[e]))}),t.children.length>0&&r.forEach(function(t){e.find(function(e){e._id===t&&i.push(e)})}),t.children=i}}),e[a.state.nodeToExecute]},a.handleOnClick=function(){var e="";console.log(a.props.apiContext),a.props.apiContext&&void 0!==a.props.apiContext&&(e=a.props.apiContext),v.getTreeObj(a.props.objId,e).then(function(e){e.sort(function(e,t){return e.level-t.level});var t=a.traverseTree(e);a.setState({reset:!0,htmlData:t[a.props.renderType]()}),console.log(t)})},a.setReset=function(){a.setState({reset:!1})},a.state={reset:!1,treeObj:[],htmlData:"",nodeToExecute:0},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({reset:!1})}},{key:"ElToString",value:function(e){return console.log(e),this.state.htmlData}},{key:"render",value:function(){var e=this;return this.props.download&&!0===this.props.download&&!1===this.state.reset&&(this.props.setDownload(!1),this.handleOnClick()),o.createElement(o.Fragment,null,this.props.hideButton?null:o.createElement(_.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"10px"}},o.createElement(y.a,{className:"makeStyles-downloadBtn-311",variant:"contained",color:"primary",onClick:function(){return e.handleOnClick()}},this.props.label?this.props.label:"Download file")),!0===this.state.reset&&o.createElement(E,{clientID:this.props.clientID,clientName:this.props.clientName,fileType:this.props.fileType?this.props.fileType:"pdf",html:this.ElToString(this.props.renderType?this.props.renderType:"renderProposal"),renderType:this.props.renderType?this.props.renderType:"renderProposal",resetFlag:this.setReset,onStartDownload:function(){return e.props.onStartDownload()},onError:function(){return void 0!==e.props.onError&&e.props.onError()},viewOnly:this.props.viewOnly,renderAction:this.props.renderAction}))}}]),t}(o.Component)},480:function(e,t,a){e.exports=a(751)},52:function(e,t,a){"use strict";a.d(t,"a",function(){return Xa}),a.d(t,"b",function(){return sn}),a.d(t,"c",function(){return ma});var n=a(284),r=a(60),i=a(239),l=a(20),s=a(0),o=a.n(s),c=a(450),m=a(31),u=a(762),d=a(234),p=a(285),f=a(210),h=a(339),g=a(164),E=a.n(g),b=a(188),v=a(209),_=a(344),y=a(335),C=a.n(y),N=a(235),S=a(280),O=a.n(S),A=a(91),T=a(286),I=a(240),k=a(189),R=a(340),D=a(211),w=a(775),P=a(26),x=a(763),j=a(18),F=a(5),L=a(147),M=a(7),U=a.n(M),B=a(455),H=a(287),V=a(150),G=a(190),q=a(85),W=a(336),Y=a.n(W),z=a(100),K=a(761),X=a(172),J=a(94),Z=a(95),Q=a(765),$=a(80),ee=a.n($),te=a(331),ae=a.n(te),ne=a(148),re=a.n(ne),ie=a(232),le=a.n(ie),se=a(126),oe=a(326),ce=a(277),me=a(448),ue=a(452),de=a(87),pe=a.n(de),fe=a(128),he=a(333),ge=a.n(he),Ee=a(278),be=a.n(Ee),ve=a(436),_e=a.n(ve),ye=a(279),Ce=a(289),Ne=a(290),Se=a(459),Oe=a(766),Ae=a(341),Te=a(774),Ie=a(456),ke=a(342),Re=a(37),De=a.n(Re),we=a(168),Pe=a.n(we),xe=a(441),je=a.n(xe),Fe=a(273),Le=a.n(Fe),Me=a(4),Ue=a(757),Be=a(334),He=a(283),Ve=Object.freeze({}),Ge=Object.freeze({}),qe=Object.freeze({}),We=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ye(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ze=Object.freeze({register:function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="./service-worker.js";We?(!function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ye(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ye(t,e)})}},unregister:function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}}),Ke=Object.freeze({ServiceWorker:ze}),Xe=Object.freeze({}),Je=Object(n.a)({palette:{primary:{main:"#3ab77d",contrastText:"#ffffff"},secondary:{main:"#ffffff",contrastText:"#3ab77d"}},typography:{fontFamily:"Usual, Roboto, Helvetica, Arial, sans-serif",button:{fontFamily:"Usual, Roboto, Helvetica, Arial, sans-serif",fontWeight:700,fontSize:13,textTransform:"none"}},overrides:{MuiDialog:{root:{width:"100%"}},MuiDialogTitle:{root:{fontFamily:"Usual, Roboto, Helvetica, Arial, sans-serif",fontWeight:550,fontSize:"1em",color:"#272E4C"}},MuiDialogContentText:{root:{fontSize:".8em",color:"#272E4C"}},MuiFormControlLabel:{label:{fontSize:".8em",color:"#272E4C"}},MuiIconButton:{root:{fontSize:".9em"}},MuiButton:{containedPrimary:{boxShadow:"0px 3px 6px #1e207129","&:hover":{backgroundColor:"#008650"}},containedSecondary:{border:"1px solid #0000001A",boxShadow:"0px 1px 3px #00000033","&:hover":{backgroundColor:"#3ab77d1a"}},outlinedSecondary:{border:"1px solid #3ab77d",boxShadow:"0px 1px 3px #00000033","&:hover":{backgroundColor:"#3ab77d1a"}}}}}),Ze=function(e,t){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};function Qe(e,t){function a(){this.constructor=e}Ze(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var $e=function(){return($e=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function et(e,t,a,n){return new(a||(a=Promise))(function(r,i){function l(e){try{o(n.next(e))}catch(t){i(t)}}function s(e){try{o(n.throw(e))}catch(t){i(t)}}function o(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(l,s)}o((n=n.apply(e,t||[])).next())})}function tt(e,t){var a,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(s){i=[6,s],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function at(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<a;t++)for(var i=arguments[t],l=0,s=i.length;l<s;l++,r++)n[r]=i[l];return n}var nt={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},rt=Object(r.a)(function(e){return Object(i.a)({root:{width:"100%"},control:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":nt,"&:hover fieldset":nt,"&.Mui-focused fieldset":$e($e({},nt),{borderColor:"rgba(39,52,76,0.5)"})}},input:{display:"flex"},label:{},select:{marginTop:e.spacing(1),backgroundColor:"white",width:"100%"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:999,left:0,right:0}})});function it(e){var t=e.inputRef,a=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["inputRef"]);return o.a.createElement("div",$e({ref:t},a))}var lt={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,r=e.selectProps,i=r.classes,l=r.TextFieldProps;return o.a.createElement(p.a,$e({className:i.control,InputProps:{inputComponent:it,inputProps:$e({className:i.input,ref:n,children:t},a)}},l,{variant:"outlined",fullWidth:!0}))},Menu:function(e){return o.a.createElement(f.a,$e({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},Option:function(e){return o.a.createElement(h.a,$e({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},NoOptionsMessage:function(e){return o.a.createElement(m.a,$e({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Placeholder:function(e){var t=e.selectProps,a=e.innerProps,n=void 0===a?{}:a,r=e.children;return o.a.createElement(m.a,$e({color:"textSecondary",className:t.classes.placeholder},n),r)},SingleValue:function(e){return o.a.createElement(m.a,$e({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return o.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},st=function(e){var t=rt(),a=o.a.useState(null),n=a[0],r=a[1];return o.a.createElement(d.a,{className:t.root},o.a.createElement(m.a,{className:t.label,color:"textPrimary"},e.label),o.a.createElement(u.a,null,o.a.createElement(c.a,{className:t.select,classes:t,inputId:e.inputId,TextFieldProps:{error:e.error},placeholder:"",options:e.suggestions,components:lt,value:n,onChange:function(t){r(t),e.onChange&&e.onChange(t)},isSearchable:!0,isClearable:!0})))};st.defaultProps={error:!1};var ot=Object.freeze({InputAutocomplete:st}),ct={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},mt=Object(r.a)(function(e){return{root:{width:"100%"},label:{},textField:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":ct,"&:hover fieldset":ct,"&.Mui-focused fieldset":$e($e({},ct),{borderColor:"rgba(39,52,76,0.5)"})},"&":{marginTop:e.spacing(1),backgroundColor:"white",width:"100%"}}}}),ut=function(e){var t=mt(),a=Object(s.useState)(e.value||[]),n=a[0],r=a[1];return o.a.createElement(d.a,{className:t.root},o.a.createElement(m.a,{className:t.label,color:"textPrimary"},e.label),o.a.createElement(E.a,{id:e.id,className:t.textField,defaultValue:n,onChange:function(t){r(t),e.onChange&&e.onChange(t)},error:e.error,variant:"outlined"}))};ut.defaultProps={label:"",value:[],error:!1,multiline:!1,rows:1,onChange:function(e){console.log(e)}};var dt=Object.freeze({InputChipTextField:ut}),pt={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},ft={root:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":pt,"&:hover fieldset":pt,"&.Mui-focused fieldset":$e($e({},pt),{borderColor:"rgba(39,52,76,0.5)"})}}},ht=Object(r.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{width:"100%"},label:{fontSize:".8em"},select:{marginTop:e.spacing(1),backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)},icon:{marginRight:e.spacing(2.5),color:"rgba(39,52,76,0.3)"}}}),gt=Object(l.a)(ft)(v.a),Et=function(e){var t={id:-1,value:"",label:""},a=at([t],e.data),n=function(){if(e.value){var n=a.find(function(t){return t.value===e.value});if(n)return n}return t},r=ht(),i=Object(s.useState)(n()),l=i[0],c=i[1],m=o.a.useRef(null),u=o.a.useState(0)[0];return e.controlled&&l.value!==e.value&&(console.log(l.value,e.value),c(n())),o.a.createElement("div",{className:r.formControl},e.label?o.a.createElement(b.a,{color:"textPrimary",className:r.label,ref:m,htmlFor:e.id,error:e.error},e.label):null,o.a.createElement(_.a,{className:r.select,value:l.value,onChange:function(n){var r=a.find(function(e){return e.value===n.target.value})||t;c(r),e.onChange&&e.onChange(r)},input:o.a.createElement(gt,{id:e.id,name:e.id,error:e.error,labelWidth:u,fullWidth:!0}),IconComponent:function(){return o.a.createElement(C.a,{className:r.icon})}},a.map(function(t){return function(e,t){if(e.displaySelectItem)return e.displaySelectItem(t);var a=-1===t.id&&e.required;return o.a.createElement(h.a,{key:t.id,value:t.value,disabled:a},t.label)}(e,t)})))};Et.defaultProps={value:"",error:!1,required:!1,onChange:function(e){console.log(e)}};var bt=Object.freeze({InputSelect:Et}),vt={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},_t={root:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":vt,"&:hover fieldset":vt,"&.Mui-focused fieldset":$e($e({},vt),{borderColor:"rgba(39,52,76,0.5)"})}},input:{fontSize:14}},yt=Object(r.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{width:"100%"},label:{fontSize:".8em"},select:{marginTop:e.spacing(1),backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)},icon:{marginRight:e.spacing(2.5),color:"rgba(39,52,76,0.3)"},error:{color:"#E53935",fontSize:"12px"},errorIcon:{color:"#E53935",fontSize:"small",float:"right"}}}),Ct=Object(l.a)(_t)(v.a),Nt=function(e){var t=at(e.data),a=yt(),n=o.a.useRef(null),r=o.a.useState(0)[0];return o.a.createElement("div",{className:a.formControl},o.a.createElement(b.a,{color:"textPrimary",className:a.label,ref:n,htmlFor:e.id},e.label),o.a.createElement(_.a,{className:a.select,value:e.value,onChange:function(a){var n=t.find(function(e){return e.value===a.target.value});e.onChange&&e.onChange(n)},disabled:e.disabled,input:o.a.createElement(Ct,{id:e.id,name:e.id,error:e.error,labelWidth:r,fullWidth:!0,disabled:e.disabled}),IconComponent:function(){return o.a.createElement(C.a,{className:a.icon})}},t.map(function(t){return function(e,t){if(e.displaySelectItem)return e.displaySelectItem(t);var a=-1===t.id&&e.required;return o.a.createElement(h.a,{key:t.id,value:t.value,disabled:a},t.label)}(e,t)})),e.error&&o.a.createElement("div",{className:a.formControl},o.a.createElement(N.a,{id:"component-error-text",className:a.error},e.errorMessage,o.a.createElement(O.a,{className:a.errorIcon}))))};Nt.defaultProps={label:"",value:"",error:!1,errorMessage:"",required:!1,disabled:!1,onChange:function(e){console.log(e)}};var St=Object.freeze({InputSelectSetValue:Nt}),Ot=Object(r.a)(function(e){return{root:{width:"100%"},label:{fontSize:".8em"},textField:{marginTop:e.spacing(1),backgroundColor:"white",fontSize:"14px"},error:{color:"#E53935",fontSize:"12px"},errorIcon:{color:"#E53935",fontSize:"small",float:"right"}}}),At={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},Tt=Object(l.a)({root:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":At,"&:hover fieldset":At,"&.Mui-focused fieldset":$e($e({},At),{borderColor:"rgba(39,52,76,0.5)"})}}})(p.a),It=function(e){var t=Ot();return o.a.createElement("div",{className:t.root},e.label?o.a.createElement(b.a,{htmlFor:e.id,className:t.label,color:"textPrimary"},e.label):null,o.a.createElement(Tt,{id:e.id,className:t.textField,value:e.value,onChange:function(t){var a=t.target.value;e.onChange&&e.onChange(a)},error:e.error,multiline:e.multiline,rows:e.rows,type:e.type,fullWidth:!0,disabled:e.disabled,variant:"outlined"}),e.error&&o.a.createElement("div",{className:t.root},o.a.createElement(N.a,{id:"component-error-text",className:t.error},e.errorMessage,o.a.createElement(O.a,{className:t.errorIcon}))))};It.defaultProps={type:"text",value:"",error:!1,errorMessage:"",multiline:!1,disabled:!1,rows:1,onChange:function(e){console.log("InputTextField.defaultProps - Value: "+e)}};var kt=Object.freeze({InputTextField:It}),Rt=Object(r.a)(function(e){return{root:{flexWrap:"wrap"},inputSelect:{marginBottom:e.spacing(1)},dialog:{align:"center",justify:"center",width:"100%"},dialogContent:{paddingTop:"0px"},container:{paddingRight:"15px",paddingLeft:"15px"},dialogTitle:{marginTop:e.spacing(2)},dialogContentTitle:{},dialogContentText:{},formControlLabel:{},textField:{},checkBox:{paddingLeft:"10px"},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},resolveDialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(4),justifyContent:"center"},leftButton:{width:115,marginLeft:15,marginRight:10},rightButton:{width:115,marginLeft:10,marginRight:15}}}),Dt=Object(l.a)({root:{color:"#9EA3AC","&$checked":{color:"#1E2071"}},checked:{}})(w.a),wt=function(e){var t=Rt(),a=o.a.useState({notes:"",notesError:!1,isResolved:!1}),n=a[0],r=a[1],i=Object(s.useState)(!0),l=i[0],c=i[1],m=function(){c(!0),r({notes:"",notesError:!1,isResolved:!1}),e.onClose()},u=function(e,t){r(function(a){var n;return $e($e({},a),((n={})[e]=t,n))})},d=function(e,t){r(function(a){var n;return $e($e({},a),((n={})[e]=t,n))})},p=o.a.createElement("div",null);switch(e.type.toLowerCase()){case"resolve":console.log("in resolve"),p=o.a.createElement("div",null,o.a.createElement(P.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},o.a.createElement(P.a,{item:!0,xs:!0},o.a.createElement(I.a,{disableTypography:!0,id:"dialog-title",className:t.dialogTitle},e.type," Ticket")),o.a.createElement(P.a,{item:!0,xs:!0},o.a.createElement(k.a,{className:t.dialogContent},o.a.createElement(R.a,{className:t.dialogContentText,id:"alert-dialog-description"},"How was the issue resolved?"),o.a.createElement(It,{value:n.notes,error:n.notesError,multiline:!0,rows:4,onChange:function(e){u("notes",e),d("notesError",0===e.length)}})),o.a.createElement(P.a,{item:!0,xs:!0},o.a.createElement(k.a,{className:t.dialogContent},o.a.createElement(x.a,{className:t.formControlLabel,control:o.a.createElement(Dt,{icon:o.a.createElement(j.a,{icon:L.a}),checkedIcon:o.a.createElement(j.a,{icon:F.j}),color:"primary",checked:n.isResolved,onChange:function(e){u("isResolved",e.target.checked),c(!e.target.checked)},inputProps:{"aria-label":"primary checkbox"}}),label:"Mark as resolved",labelPlacement:"end"}))),o.a.createElement(D.a,{className:t.resolveDialogAction},o.a.createElement(A.a,{className:t.leftButton,variant:"contained",onClick:m,color:"secondary"},"Cancel"),o.a.createElement(A.a,{className:t.rightButton,variant:"contained",disabled:l,onClick:e.onSubmit,color:"primary"},"Resolve")))));break;case"assign":console.log("in assign"),p=o.a.createElement("div",null,o.a.createElement(P.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},o.a.createElement(P.a,{item:!0,xs:!0},o.a.createElement(I.a,{disableTypography:!0,id:"dialog-title",className:t.dialogTitle},e.type," Ticket")),o.a.createElement(P.a,{item:!0,xs:!0},o.a.createElement(k.a,{className:t.dialogContent},o.a.createElement(Et,{id:"modal-input-select",label:"Assign To",data:e.selectItems}),o.a.createElement(R.a,null),o.a.createElement(It,{label:"Notes",value:n.notes,error:n.notesError,multiline:!0,rows:4,onChange:function(e){u("notes",e),d("notesError",0===e.length)}})),o.a.createElement(D.a,{className:t.dialogAction},o.a.createElement(A.a,{className:t.leftButton,variant:"contained",onClick:m,color:"secondary"},"Cancel"),o.a.createElement(A.a,{className:t.rightButton,variant:"contained",onClick:e.onSubmit,color:"primary"},"Assign")))));break;case"escalate":console.log("in escalate"),p=o.a.createElement("div",null,o.a.createElement(P.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},o.a.createElement(P.a,{item:!0,xs:!0},o.a.createElement(I.a,{disableTypography:!0,id:"dialog-title",className:t.dialogTitle},e.type," Ticket")),o.a.createElement(P.a,{item:!0,xs:!0},o.a.createElement(k.a,{className:t.dialogContent},o.a.createElement(Et,{id:"modal-input-select",label:"Escalate To",data:e.selectItems}),o.a.createElement(R.a,null),o.a.createElement(It,{label:"Notes",value:n.notes,error:n.notesError,multiline:!0,rows:4,onChange:function(e){u("notes",e),d("notesError",0===e.length)}})),o.a.createElement(D.a,{className:t.dialogAction},o.a.createElement(A.a,{className:t.leftButton,variant:"contained",onClick:m,color:"secondary"},"Cancel"),o.a.createElement(A.a,{className:t.rightButton,variant:"contained",onClick:e.onSubmit,color:"primary"},"Escalate")))))}return o.a.createElement(T.a,{className:t.dialog,open:e.isModalOpen,"aria-labelledby":"simple-dialog-title"},p)};wt.defaultProps={isModalOpen:!1,type:"Resolve",selectItems:[{id:0,value:"",label:""}]};var Pt=Object.freeze({TicketModal:wt}),xt="index_title__3_oz-",jt="index_titleBack__ghwZN",Ft="index_titleFront__23_8b",Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qe(t,e),t.prototype.render=function(){var e=this.props.text;return o.a.createElement("div",{className:xt},o.a.createElement("span",{className:jt},e),o.a.createElement("span",{className:Ft},e))},t}(o.a.Component),Mt=Object.freeze({SampleCoreComponent:Lt}),Ut=Object(r.a)(function(e){var t,a;return{appBar:(t={backgroundColor:"#ffffff",color:"#808080"},t[e.breakpoints.up("sm")]={width:"calc(100% - 85px)"},t),menuButton:(a={marginRight:e.spacing(2)},a[e.breakpoints.up("sm")]={display:"none"},a),logo:{height:"40px"},badge:{backgroundColor:"#ff6969",color:"#ffffff",fontWeight:700},grow:{flexGrow:1}}}),Bt=function(e){var t=Ut();return o.a.createElement(B.a,{className:t.appBar},o.a.createElement(H.a,null,o.a.createElement(V.a,{edge:"start",className:t.menuButton,onClick:function(){e.menuOnClick&&e.menuOnClick()}},o.a.createElement(Y.a,null)),o.a.createElement(G.a,{href:"/"},o.a.createElement("img",{src:e.logoImage,className:t.logo,alt:"logo"})),o.a.createElement("div",{className:t.grow}),o.a.createElement(V.a,{edge:"end",onClick:function(){e.userOnClick&&e.userOnClick()}},o.a.createElement(q.a,{src:e.userImage,alt:"avatar"}))))};function Ht(e){var t={dispatch:re.a,subscribe:re.a,getState:re.a,replaceReducer:re.a,runSaga:re.a,injectedReducers:le.a,injectedSagas:le.a};ee()(ae()(e,t),"(src/Utils...) injectors: Expected a valid redux store")}Bt.defaultProps={badgeCount:0},Bt.propTypes={badgeCount:U.a.number};var Vt="@@saga-injector/daemon",Gt="@@saga-injector/once-till-unmount",qt=Object.freeze({RESTART_ON_REMOUNT:"@@saga-injector/restart-on-remount",DAEMON:Vt,ONCE_TILL_UNMOUNT:Gt}),Wt=Object(ue.a)();function Yt(e,t,a){return void 0===a&&(a=!1),function(n,r){a||Ht(t),ee()(be()(n)&&!ge()(n)&&re()(r),"(src/Utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(t.injectedReducers,n)&&t.injectedReducers[n]===r||(t.injectedReducers[n]=r,t.replaceReducer(e(t.injectedReducers)))}}function zt(e,t){return Ht(t),{injectReducer:Yt(e,t,!0)}}var Kt=["@@saga-injector/restart-on-remount",Vt,Gt],Xt=function(e){return ee()(be()(e)&&!ge()(e),"(src/Utils...) injectSaga: Expected `key` to be a non empty string")},Jt=function(e){var t={saga:re.a,mode:function(e){return be()(e)&&Kt.includes(e||"")}};ee()(ae()(e,t),"(src/Utils...) injectSaga: Expected a valid saga descriptor")};function Zt(e,t){return void 0===t&&(t=!1),function(a,n,r){void 0===n&&(n={}),t||Ht(e);var i=$e($e({},n),{mode:n.mode||Vt}),l=i.saga,s=i.mode;Xt(a),Jt(i);var o=Reflect.has(e.injectedSagas,a);(!o||o&&s!==Vt&&s!==Gt)&&(e.injectedSagas[a]=$e($e({},i),{task:e.runSaga(l,r)}))}}function Qt(e,t){return void 0===t&&(t=!1),function(a){if(t||Ht(e),Xt(a),Reflect.has(e.injectedSagas,a)){var n=e.injectedSagas[a];n.mode&&n.mode!==Vt&&(n.task.cancel(),e.injectedSagas[a]="done")}}}function $t(e){return Ht(e),{injectSaga:Zt(e,!0),ejectSaga:Qt(e,!0)}}var ea=function(e){function t(t){var a=e.call(this,t.statusText)||this;return a.response=t,a}return Qe(t,e),t}(Error);function ta(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return 204===e.status||205===e.status?[2,null]:[2,e.json()]})})}function aa(e){return et(this,void 0,void 0,function(){var t;return tt(this,function(a){if(e.status>=200&&e.status<300)return[2,e];throw(t=new ea(e)).response=e,t})})}function na(e,t,a){var n=0;return n=e.findIndex(function(e){return e._id===t}),e.forEach(function(r,i){r._id===t&&(n=i);var l=r.children,s=[];a&&(e[n].fileType=a&&a.toLowerCase()),e[n].valid_functions.forEach(function(e){r.hasOwnProperty(e)&&""!==r[e]&&void 0!==r[e]&&(r[e]=function(e,t){try{return new Function("return "+t)()}catch(a){console.log("Error in converting fucntion in node _id: "+e)}}(r._id,r[e]))}),r.children.length>0&&l.forEach(function(t){e.find(function(e){e._id===t&&s.push(e)})}),s.sort(function(e,t){return 3===e.level&&3===t.level?e.plan_type_rank-t.plan_type_rank:4===e.level&&4===t.level?e.proposal_rank-t.proposal_rank:e-t}),r.children=s}),e[n]}var ra=function(){return function(){this.deleteDb=function(e){var t=window.indexedDB.deleteDatabase(e);return new Promise(function(e,a){t.onerror=function(e){console.log("Error deleting database."),a(e)},t.onsuccess=function(t){e(t)}})},this.openDb=function(e){var t=window.indexedDB.open(e);return new Promise(function(e,a){var n={cbType:"",result:{}};t.onerror=function(){a("Error opening database.")},t.onsuccess=function(t){var a=t.target.result;n.cbType=t.type,n.result=a,e(n)},t.onupgradeneeded=function(t){var a=t.target.result;n.cbType=t.type,n.result=a,e(n)}})},this.createStoreOnDb=function(e,t,a){var n=e.createObjectStore(t,{keyPath:a,autoIncrement:!1});return new Promise(function(e,t){var a={cbType:"",result:{}};n.transaction.onerror=function(){t("error creating store on db.")},n.transaction.oncomplete=function(t){var n=t.target.result;a.cbType=t.type,a.result=n,e(a)}})},this.saveToStore=function(e,t,a){var n=e.transaction([t],"readwrite"),r=n.objectStore(t);return new Promise(function(e,t){var i={cbType:"",result:{}};(!a||a.length<0)&&t({type:"error",message:"entries invalid"}),a.forEach(function(e){r.put(e)}),n.oncomplete=function(t){i.cbType=t.type,i.result="Saved complete.",e(i)}})},this.getByKeyReturnValue=function(e,t,a){return new Promise(function(n,r){try{e.transaction(t,"readonly");var i=e.transaction(t,"readonly").objectStore(t),l={cbType:"",result:{}};i.get(a).onsuccess=function(e){var t=e.target.result;void 0===t?(l.cbType="error",l.result=null,r(l)):(l.cbType=e.type,l.result=t.value,n(l))}}catch(s){r("store not found.")}})},this.updateEntryByKey=function(e,t,a,n){return new Promise(function(r,i){try{e.transaction([t],"readwrite");var l=e.transaction([t],"readwrite").objectStore(t),s={cbType:"",result:{}};e.onerror=function(e){console.log(e)},l.get(a).onsuccess=function(e){var t=e.target.result;void 0!==t?(t=n,l.put(t).onsuccess=function(e){s.cbType=e.type,s.result={message:"value updated."}},r(s)):(s.cbType="error",s.result={message:"error updating value."},i(s))}}catch(o){i("store not found.")}})},this.getAll=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readonly").objectStore(t).getAll();r.onerror=function(){n("Error getting all data.")},r.onsuccess=function(e){var n=e.target.result;if("icd10_list"===t||"cpt_list"===t){var r=[],i=[];n.filter(function(e){e.hasOwnProperty("status")&&"active"===e.status?i.push(e):r.push(e)}),n=i}a(n)}})},this.deleteEntryByKey=function(e,t,a){return new Promise(function(n,r){var i=e.transaction(t,"readwrite").objectStore(t),l={cbType:"",result:{}};i.delete(a).onsuccess=function(e){void 0===e.target.result?(l.cbType="error",l.result=null,r(l)):(l.cbType=e.type,l.result="entry deleted",n(l))}})},this.getStoreCount=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readwrite").objectStore(t).count();r.onerror=function(){n("error getting store count.")},r.onsuccess=function(e){a(e.target.result)}})},this.clearStore=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readwrite").objectStore(t).clear();r.onerror=function(){n("error clearing store")},r.onsuccess=function(){a("store cleared")}})}}}(),ia=new ra;function la(e,t){return ia.openDb("himsDb").then(function(a){return t?ia.getByKeyReturnValue(a.result,e,t):ia.getAll(a.result,e)})}var sa=new ra,oa="http://hims-api-dev.seerlabs.com/client/api/";var ca=function(){return function(e,t){var a=this;this.index={},this.initFlexSearch=function(e){e.map(function(e){return e.synonyms=JSON.stringify(e.synonyms)}),a.index.add(e)},this.search=function(e,t){return et(a,void 0,void 0,function(){var a,n;return tt(this,function(r){switch(r.label){case 0:return a=this,n=$e({},t),t&&t.defaultSort&&!0===t.defaultSort&&(n=$e($e({},n),{sort:function(e,t){return a.periodCheck(e.full_code)?1:a.periodCheck(t.full_code)?-1:0}})),t&&t.customSort&&(n=$e($e({},n),{sort:n.customSort})),[4,this.index.search(e,n)];case 1:return[2,r.sent()]}})})},this.periodCheck=function(e){return-1!==e.indexOf(".")},this.updateIndex=function(e){a.index.update(e)},this.removeIndex=function(e){a.index.remove(e)},this.clearIndex=function(){a.index.clear()},this.destroyIndex=function(){a.index.destroy()},this.index=_e.a.create($e($e({},t),{async:!0,worker:!1,cache:!0,doc:e}))}}(),ma=Object.freeze({checkStore:Ht,configureStore:function(e,t,a){void 0===t&&(t={});var n=se.d,r=Object(me.a)({}),i=[r,Object(oe.a)(a)],l=[se.a.apply(void 0,i)],s=Object(se.e)(e(),t,n.apply(void 0,l));return s.runSaga=r.run,s.injectedReducers={},s.injectedSagas={},s},constants:qt,history:Wt,hocWithReducer:function(e,t){var a=t.key,n=t.reducer;return function(t){var r=function(r){function i(t,i){var l=r.call(this,t,i)||this;return zt(e,i.store).injectReducer(""+a,n),l}return Qe(i,r),i.prototype.render=function(){return Object(s.createElement)(t,$e({},this.props))},i.WrappedComponent=t,i.displayName="withReducer("+(t.displayName||t.name||"Component")+")",i}(s.Component);return pe()(r,t)}},useInjectReducer:function(e,t){var a=t.key,n=t.reducer,r=Object(fe.e)();Object(s.useEffect)(function(){zt(e,r).injectReducer(""+a,n)},[])},hocWithSaga:function(e){var t=e.key,a=e.saga,n=e.mode;return function(e){var r=function(r){function i(e,i){var l=r.call(this,e,i)||this;return l.injectors=$t(i.store),l.injectors.injectSaga(t,{saga:a,mode:n},l.props),l}return Qe(i,r),i.prototype.componentWillUnmount=function(){this.injectors.ejectSaga(t)},i.prototype.render=function(){return Object(s.createElement)(e,$e({},this.props))},i.WrappedComponent=e,i.displayName="withSaga("+(e.displayName||e.name||"Component")+")",i}(s.Component);return pe()(r,e)}},useInjectSaga:function(e){var t=e.key,a=e.saga,n=e.mode,r=Object(fe.e)();Object(s.useEffect)(function(){var e=$t(r);return e.injectSaga(""+t,{saga:a,mode:n}),function(){e.ejectSaga(""+t)}},[])},loadable:function(e,t){var a=(void 0===t?{fallback:null}:t).fallback,n=void 0===a?null:a,r=Object(s.lazy)(e);return function(e){return o.a.createElement(s.Suspense,{fallback:n},o.a.createElement(r,$e({},e)))}},injectReducerFactory:Yt,getReducerInjectors:zt,request:function(e,t){return et(this,void 0,void 0,function(){return tt(this,function(a){switch(a.label){case 0:return[4,fetch(e,t)];case 1:return[4,aa(a.sent())];case 2:return[2,ta(a.sent())]}})})},ResponseError:ea,injectSagaFactory:Zt,ejectSagaFactory:Qt,getSagaInjectors:$t,traverseTree:na,IndexedDBHelper:ra,StorageService:la,onLogout:function(){var e=oa+"logout";la("user_data","access_token").then(function(t){console.log(t,"token"),fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:t.result})}).then(function(e){return e.json()}).then(function(e){void 0!==e.count?sa.openDb("himsDb").then(function(e){localStorage.clear(),sa.clearStore(e.result,"user_data"),window.location.replace("../index.html#/")}):alert(e.error.message)}).catch(function(e){console.log(e,"error")})})},FlexSearchHelper:ca}),ua=Object(r.a)(function(){return{sideBar:{width:"85px"},listItem:{flexDirection:"column",marginBottom:"10px"},listItemIcon:{minWidth:0},avatar:{backgroundColor:"rgba(158, 164, 172, 0.18)"},avatarSelected:{backgroundColor:"rgba(98, 255, 183, 0.18)"},listItemText:{fontSize:9,color:"#ffffff"},listItemTextSelected:{fontSize:9,color:"rgba(98, 255, 183, 1)"},icon:{color:"white"},iconSelected:{color:"rgba(98, 255, 183, 1)"},divider:{backgroundColor:"transparent",height:"50px"}}});function da(e){return o.a.createElement(z.b,{to:e.link?e.link:"",style:{textDecoration:"none"}}," ",o.a.createElement(X.a,$e({},e))," ")}var pa=function(e){var t=ua(),a=e.selectedMenu?e.selectedMenu:"dashboard",n=o.a.useState(!1),r=n[0],i=n[1],l={dashboard:!1,create_ticket:!1,members:!1,proposals:!1,clients:!1,tickets:!1,reports:!1,templates:!1,lookup:!1,settings:!1,users:!1,help:!1};l[a]=!0,o.a.useEffect(function(){"customer care"===e.page&&la("user_data","role").then(function(e){e&&void 0!==e&&e.result&&void 0!==e.result&&Object(ye.forEach)(e.result,function(e){Object(ye.toLower)(e.name)===Object(ye.toLower)("Ticket Owner")&&i(!0)})})},[]);var s=function(e,t){console.log("handleDashboardOnClick event",e),console.log("handleDashboardOnClick attr",t)},c=function(t){e.setSelectedMenu&&(e.setSelectedMenu(t),console.log(t))};return o.a.createElement("div",{className:t.sideBar},o.a.createElement(K.a,null,o.a.createElement(da,{className:t.listItem,link:"membership"===e.page?"/membership/":"customer care"===e.page?"/customer-care/":"system admin"===e.page?"/system-admin":"/underwriting/",onClick:function(){c("dashboard")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.s,className:l.dashboard?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Dashboard",disableTypography:!0,className:l.dashboard?t.listItemTextSelected:t.listItemText})),"customer care"===e.page&&!0===r?o.a.createElement(da,{className:t.listItem,link:"/customer-care/create-ticket",onClick:function(){c("create_ticket")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.C,className:l.create_ticket?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Create New",disableTypography:!0,className:l.create_ticket?t.listItemTextSelected:t.listItemText})):null,"customer care"!==e.page&&"system admin"!==e.page?o.a.createElement(da,{className:t.listItem,link:"underwriting"===e.page?"/underwriting/clients":"/membership/clients",onClick:function(){c("clients")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.S,className:l.clients?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Clients",disableTypography:!0,className:l.clients?t.listItemTextSelected:t.listItemText})):null,"customer care"!==e.page&&"system admin"!==e.page?o.a.createElement(da,{className:t.listItem,link:"underwriting"===e.page?"/underwriting/proposals":"",onClick:function(){c("proposals")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.p,className:l.proposals?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Proposals",disableTypography:!0,className:l.proposals?t.listItemTextSelected:t.listItemText})):null,"membership"===e.page?o.a.createElement(da,{className:t.listItem,link:"/membership/members",onClick:function(){c("members")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.t,className:l.members?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Members",disableTypography:!0,className:l.members?t.listItemTextSelected:t.listItemText})):null,"customer care"===e.page?o.a.createElement(X.a,{button:!0,className:t.listItem,onClick:function(e){return s(e,"members")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.t,className:l.members?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Members",disableTypography:!0,className:l.members?t.listItemTextSelected:t.listItemText})):null,"customer care"===e.page?o.a.createElement(da,{className:t.listItem,link:"/customer-care/tickets",onClick:function(){c("tickets")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.L,className:l.tickets?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Tickets",disableTypography:!0,className:t.listItemText})):null,"membership"===e.page?o.a.createElement(da,{className:t.listItem,link:"/membership/ticketlist",onClick:function(){c("tickets")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.L,className:l.tickets?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Tickets",disableTypography:!0,className:t.listItemText})):null,"customer care"!==e.page&&"system admin"!==e.page&&"membership"!==e.page?o.a.createElement(da,{button:!0,className:t.listItem,link:"/underwriting/tickets",onClick:function(){c("tickets")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.L,className:l.tickets?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Tickets",disableTypography:!0,className:l.tickets?t.listItemTextSelected:t.listItemText})):null,"system admin"===e.page?o.a.createElement(da,{button:!0,className:t.listItem,link:"system admin"===e.page?"/system-admin/users":"",onClick:function(){c("users")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.S,className:l.users?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Users",disableTypography:!0,className:l.users?t.listItemTextSelected:t.listItemText})):null,"system admin"===e.page?o.a.createElement(da,{button:!0,className:t.listItem,link:"system admin"===e.page?"/system-admin/lookup":"",onClick:function(){c("lookup")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.f,className:l.lookup?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Lookup",disableTypography:!0,className:l.lookup?t.listItemTextSelected:t.listItemText})):null,"system admin"===e.page?o.a.createElement(da,{button:!0,className:t.listItem,link:"system admin"===e.page?"/system-admin/reports":"",onClick:function(){c("reports")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.K,className:l.reports?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Reports",disableTypography:!0,className:l.reports?t.listItemTextSelected:t.listItemText})):null,"system admin"===e.page?o.a.createElement(da,{button:!0,className:t.listItem,link:"system admin"===e.page?"/system-admin/settings":"",onClick:function(){c("settings")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.F,className:l.settings?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Settings",disableTypography:!0,className:l.settings?t.listItemTextSelected:t.listItemText})):null,"customer care"!==e.page&&"system admin"!==e.page?o.a.createElement(X.a,{button:!0,className:t.listItem,onClick:function(e){s(e,"reports")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.K,className:l.reports?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Reports",disableTypography:!0,className:l.reports?t.listItemTextSelected:t.listItemText})):null,"underwriting"===e.page?o.a.createElement(X.a,{button:!0,className:t.listItem,onClick:function(e){return s(e,"templates")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.r,className:l.templates?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Templates",disableTypography:!0,className:l.templates?t.listItemTextSelected:t.listItemText})):null,"membership"===e.page?o.a.createElement(X.a,{button:!0,className:t.listItem,onClick:function(e){s(e,"users")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.R,className:t.icon}))),o.a.createElement(Z.a,{primary:"Users",disableTypography:!0,className:t.listItemText})):null,"membership"===e.page?o.a.createElement(X.a,{button:!0,className:t.listItem,onClick:function(e){return s(e,"settings")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.F,className:t.icon}))),o.a.createElement(Z.a,{primary:"settings",disableTypography:!0,className:t.listItemText})):null,o.a.createElement(Q.a,{className:t.divider}),o.a.createElement(X.a,{button:!0,className:t.listItem,onClick:function(e){return s(e,"help")}},o.a.createElement(J.a,{className:t.listItemIcon},o.a.createElement(q.a,{className:t.avatar},o.a.createElement(j.a,{icon:F.g,className:l.help?t.iconSelected:t.icon}))),o.a.createElement(Z.a,{primary:"Help",disableTypography:!0,className:l.help?t.listItemTextSelected:t.listItemText}))))},fa=Object(r.a)(function(e){var t;return{root:{display:"flex"},drawer:(t={},t[e.breakpoints.up("sm")]={width:"72px",flexShrink:0},t),drawerPaper:{backgroundColor:"#1e2071"},content:{flexGrow:1,padding:"0 "+e.spacing(5)+"px"},toolbar:e.mixins.toolbar}}),ha=Object(r.a)({root:{backgroundColor:"#ffffff",padding:"10px"},gridContainer:{height:"100px"},breadCrumbs:{marginBottom:"10px"},headerTitle:{fontSize:25},linkPrevious:{fontSize:12,fontWeight:300,color:"black",cursor:"pointer"},linkCurrent:{fontSize:12,color:"black",cursor:"pointer"}}),ga=Object.freeze({default:function(){var e=ha();return Object(s.createElement)("div",{className:e.root},Object(s.createElement)(P.a,{container:!0,justify:"space-between",alignItems:"center",className:e.gridContainer},Object(s.createElement)(P.a,{item:!0},Object(s.createElement)(Se.a,{className:e.breadCrumbs},Object(s.createElement)(G.a,{className:e.linkPrevious},"CLIENTS"),Object(s.createElement)(G.a,{className:e.linkCurrent},"HAPPY INNOVATIVE TECHNOLOGIES, INC.")),Object(s.createElement)(m.a,{className:e.headerTitle},"Happy Innovative Technologies, Inc.")),Object(s.createElement)(P.a,{item:!0},Object(s.createElement)(A.a,{variant:"contained",color:"primary"},"Edit Client"))))}}),Ea=Object(r.a)({root:{padding:"5px 5px"},name:function(e){return{fontSize:e.nameFontSize,color:"rgba(39, 46, 76, 0.6)"}},value:function(e){return{fontSize:e.valueFontSize,color:"rgb(39, 46, 76)"}}}),ba=function(e){var t=Ea(e);return Object(s.createElement)("div",{className:t.root},Object(s.createElement)(m.a,{className:t.name},e.name),Object(s.createElement)(m.a,{className:t.value},e.value))};ba.defaultProps={nameFontSize:12,valueFontSize:16};var va=Object(r.a)({grid:function(e){return{height:e.height}}}),_a=function(e){var t=va(e);return Object(s.createElement)(P.a,{item:!0,xs:12,className:t.grid})};_a.defaultProps={height:"10px"},_a.propTypes={height:U.a.string};var ya=Object(r.a)(function(e){var t={width:"100%",height:"100%",position:"absolute",left:"0",top:"0"};e.rotate&&Object.assign(t,{transform:"rotate("+e.rotate+"deg)"});return e.delay&&Object.assign({content:"",display:"block",margin:"0 auto",width:"15%",height:"15%",backgroundColor:"#999",borderRadius:"100%","@keyframes circleFadeDelay":{"0%,39%,100%":{opacity:0},"40%":{opacity:1}},animation:"$circleFadeDelay 1.2s infinite ease-in-out both"},{animationDelay:e.delay+"s"}),{root:t}}),Ca=function(e){var t=ya(e);return Object(s.createElement)("div",{className:t.root})},Na=Object(r.a)({root:{margin:"2em auto",width:"40px",height:"40px",position:"relative"}}),Sa=function(e){var t=Na();return o.a.createElement("div",$e({className:t.root},e))},Oa=Object(r.a)({previous_page:{fontWeight:300,textDecoration:"underline"},current_page:{fontWeight:600}}),Aa=function(e){var t=e.items,a=Oa();return Object(s.createElement)(Se.a,{"aria-label":"breadcrumb"},t.map(function(e,t){return""!=e.url?Object(s.createElement)(G.a,{className:a.previous_page,key:t,color:"inherit",href:e.url},e.label):Object(s.createElement)(m.a,{className:a.current_page,key:t,color:"textPrimary"},e.label)}))};Aa.defaultProps={items:[{label:"SAMPLE",url:""}]};var Ta=Object(r.a)(function(e){var t;return{appBar:(t={top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},t[e.breakpoints.up("sm")]={width:"calc(100% - 72px)"},t),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}}}),Ia=function(e){var t=Ta();return Object(s.createElement)(P.a,{container:!0},Object(s.createElement)(P.a,{item:!0,xs:12},Object(s.createElement)(B.a,{className:t.appBar},Object(s.createElement)(H.a,null,e.rightButtons,Object(s.createElement)("div",{className:t.grow}),e.leftButtons))))};Ia.defaultProps={leftButtons:null,rightButtons:null};var ka=Object(r.a)(function(e){var t,a;return{root:{display:"flex",backgroundColor:"#ffffff"},drawer:(t={},t[e.breakpoints.up("sm")]={width:"72px",flexShrink:0},t),drawerPaper:{backgroundColor:"#1e2071"},content:{flexGrow:1},toolbar:e.mixins.toolbar,menuButton:(a={marginRight:e.spacing(2)},a[e.breakpoints.up("sm")]={display:"none"},a),logo:{height:"40px"},badge:{backgroundColor:"#ff6969",color:"#ffffff",fontWeight:700},grow:{flexGrow:1},sidebar:{maxWidth:"85px"},contentgrid:{maxWidth:"calc(100% - 85px)",flexBasis:"calc(100% - 85px)"},profileContent:{width:280,padding:15,borderBottom:"1px solid #B5B8C1"},profileFooter:{width:280,padding:15,textAlign:"center"},logoutButton:{fontSize:16,fontWeight:500,backgroundColor:"transparent",border:"none",outline:"none",color:"#B5B8C1",textAlign:"center",cursor:"pointer"},buttons:{width:"120px",height:"45px",lineHeight:"110%"},linkProfile:{position:"absolute",width:"100%",height:"100%",zIndex:1,color:"#fff",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center"}}}),Ra=a(272),Da=a(328),wa=a(426),Pa=a(427),xa=a(428);xa.vfs=Pa.pdfMake.vfs;var ja=function(e){function t(t){var a=e.call(this,t)||this;return a.printRender=function(){var e=a.props.html.html.replace(/\s\s+/g," ");if(console.log(e),console.log(a.props.html.params.default_style),"string"==typeof a.props.fileType&&"docx"==a.props.fileType.toLowerCase())try{a.printDocx(e)}catch(t){a.props.onError()}else try{a.printPdf(e)}catch(n){a.props.onError()}},a.printPdf=function(e){var t="";if("renderProposal"==a.props.renderType){t="Proposal",void 0!==(i=wa(e,{defaultStyles:void 0!==a.props.html.params.default_style?JSON.parse(a.props.html.params.default_style):{}}))[0].stack[0].table&&i[0].stack[0].table.body[0].map(function(e){e.border=[!1,!1,!1,!1]});var n={content:[i],styles:void 0!==a.props.html.params.pdfmake_style?JSON.parse(a.props.html.params.pdfmake_style):{},pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1}},r=xa.createPdf(n)}else if("renderContract"==a.props.renderType){t="Contract";var i=wa(e,{defaultStyles:void 0!==a.props.html.params.default_style?JSON.parse(a.props.html.params.default_style):{}}),l={footer:void 0!==a.props.html.params.default_footer?JSON.parse(a.props.html.params.default_footer):{},content:[i],styles:void 0!==a.props.html.params.pdfmake_style?JSON.parse(a.props.html.params.pdfmake_style):{},pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1}};r=xa.createPdf(l)}var s=t+"-"+a.props.clientName+"-"+De()().format("MMDDYYYY-hmssa");""!==a.props.clientName&&void 0!==a.props.clientName&&null!==a.props.clientName||(s=t+"-"+a.props.clientID+"-"+De()().format("MMDDYYYY-hmssa")),r.download(s+".pdf"),a.props.onStartDownload(),a.props.resetFlag&&a.props.resetFlag()},a.printDocx=function(e){var t="";if("renderProposal"===a.props.renderType){var n=Ra.asBlob(e,{orientation:"portrait",margins:{top:720}});t="Proposal"}else if("renderContract"===a.props.renderType){n=Ra.asBlob(e,{orientation:"portrait",margins:{top:720,left:720,right:720,bottom:720}});t="Contract"}var r=t+"-"+a.props.clientName+"-"+De()().format("MMDDYYYY-hmssa");""!==a.props.clientName&&void 0!==a.props.clientName&&null!==a.props.clientName||(r=t+"-"+a.props.clientID+"-"+De()().format("MMDDYYYY-hmssa")),Da(n,r+".docx"),a.props.resetFlag&&a.props.resetFlag(),a.props.onStartDownload()},a}return Qe(t,e),t.prototype.componentWillReceiveProps=function(){this.printRender()},t.prototype.componentDidMount=function(){this.printRender()},t.prototype.render=function(){return Object(s.createElement)(s.Fragment,null)},t}(s.Component),Fa=function(e){function t(t){var a=e.call(this,t)||this;return a.getBenefitsTree=function(){var e=a.props.apiUrl+"benefit-plans/tree/"+a.props.objId;return a.props.apiContext&&(e=""+a.props.apiUrl+a.props.apiContext+"/tree/"+a.props.objId),fetch(e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},a.handleOnClick=function(){if(a.props.treeObj){a.props.treeObj.sort(function(e,t){return e.level-t.level});var e=na(a.props.treeObj,a.props.objId,a.props.fileType);a.setState({reset:!0,htmlData:e[a.props.renderType]()})}else a.getBenefitsTree().then(function(e){e.sort(function(e,t){return e.level-t.level});var t=na(e,a.props.objId,a.props.fileType);a.setState({reset:!0,htmlData:t[a.props.renderType]()})})},a.setReset=function(){a.setState({reset:!1})},a.state={reset:!1,treeObj:[],htmlData:"",nodeToExecute:0},a}return Qe(t,e),t.prototype.componentDidMount=function(){this.setState({reset:!1})},t.prototype.ElToString=function(e){return console.log(e),this.state.htmlData},t.prototype.render=function(){var e=this;return this.props.download&&!0===this.props.download&&!1===this.state.reset&&(this.props.setDownload(!1),this.handleOnClick()),Object(s.createElement)(s.Fragment,null,this.props.hideButton?null:Object(s.createElement)(P.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"10px"}},Object(s.createElement)(A.a,{className:"makeStyles-downloadBtn-311",variant:"contained",color:"primary",onClick:function(){return e.handleOnClick()}},this.props.label?this.props.label:"Download file")),!0===this.state.reset&&Object(s.createElement)(ja,{clientID:this.props.clientID,clientName:this.props.clientName,fileType:this.props.fileType?this.props.fileType:"pdf",html:this.ElToString(this.props.renderType?this.props.renderType:"renderProposal"),renderType:this.props.renderType?this.props.renderType:"renderProposal",resetFlag:this.setReset,onStartDownload:function(){return e.props.onStartDownload()},onError:function(){return void 0!==e.props.onError&&e.props.onError()}}))},t}(s.Component),La=Object(r.a)(function(e){var t;return{root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"},mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px",position:"relative"},headMain:{},gridContainer:{padding:e.spacing(1),paddingBottom:"75px"},gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},sideBarContainer:{borderRight:"1px solid #ccc",paddingRight:"25px"},contentContainer:{paddingLeft:"25px"},sideBarLists:{padding:0,margin:0,listStyle:"none"},sideBarLink:{color:"#272e4c",margin:"0 0 10px",display:"block"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:(t={top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},t[e.breakpoints.up("sm")]={width:"calc(100% - 72px)"},t),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"},userImage:{width:e.spacing(15),height:e.spacing(15)}}}),Ma=Object(r.a)(function(e){return{root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container2:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"},dialog:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogTitle:{marginTop:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},inputTextField:{width:"100%",marginTop:e.spacing(1),marginBottom:e.spacing(1),paddingRight:0},iconEye:{color:"#9EA3AC"},labelNote:{color:"#797F92",fontSize:12},errorMessage:{color:"#E53935",fontSize:14},errorIcon:{color:"#E53935"}}}),Ua=Object(r.a)(function(e){return{dialog:{},dialogTitle:{fontWeight:600},dialogContent:{minWidth:320},dialogAction:{marginTop:16,marginBottom:e.spacing(2)}}}),Ba=function(e){var t=Ua(),a=function(){e.onClose()};return o.a.createElement(T.a,{open:e.isModalOpen,onClose:a,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},o.a.createElement(I.a,{id:"form-dialog-title",className:t.dialogTitle},e.title),o.a.createElement(k.a,{className:t.dialogContent},o.a.createElement(P.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement("span",{style:{display:"inline-block",maxWidth:e.messageMaxWidth}},e.message)))),o.a.createElement(D.a,{className:Object(Me.default)(t.dialogAction)},o.a.createElement(P.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},o.a.createElement(P.a,{item:!0,xs:4},o.a.createElement(A.a,{onClick:a,variant:"contained",color:"primary",fullWidth:!0},"Okay")))))};Ba.defaultProps={isModalOpen:!1};var Ha,Va=function(e){var t=e.visible,a=e.onClose,n=Ma(),r=function(e,t){var a,n=e.target.value;u($e($e({},m),((a={})[t]=n,a)))},i=function(){u({oldPassword:"",newPassword:"",confirmPassword:""}),f($e($e({},p),{error:!1})),E($e($e({},g),{error:!1})),_($e($e({},v),{error:!1})),a()},l=function(e){return!(e.length<6)},s=function(e,t){return""===e||""===t||e===t},c=o.a.useState({oldPassword:"",newPassword:"",confirmPassword:""}),m=c[0],u=c[1],d=o.a.useState({message:"",error:!1}),p=d[0],f=d[1],h=o.a.useState({message:"",error:!1}),g=h[0],E=h[1],b=o.a.useState({message:"",error:!1}),v=b[0],_=b[1],y=o.a.useState({message:"",title:"",visible:!1}),C=y[0],N=y[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{open:t,onClose:i,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:n.dialog},o.a.createElement(P.a,{container:!0,className:n.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},o.a.createElement(P.a,{item:!0,xs:!0},o.a.createElement(I.a,{className:n.dialogTitle,disableTypography:!1,id:"form-dialog-title"},o.a.createElement(Te.a,{fontWeight:700},"Change Password"),o.a.createElement(V.a,{"aria-label":"close",className:n.closeButton,onClick:i},o.a.createElement(Pe.a,null)))),o.a.createElement(P.a,{item:!0,xs:!0,className:n.dialogContentContainer},o.a.createElement(k.a,null,o.a.createElement(P.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(Ga,{id:"oldPassword",error:p.error,errorMsg:p.message,label:"Enter your old password",value:m.oldPassword,onChange:r,classes:n})),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(Ga,{id:"newPassword",error:g.error,errorMsg:g.message,label:"Enter your new password",note:"At least 6 alphanumeric characters",value:m.newPassword,onChange:r,classes:n})),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(Ga,{id:"confirmPassword",error:v.error,errorMsg:v.message,label:"Confirm your new password",value:m.confirmPassword,onChange:r,classes:n})))),o.a.createElement(D.a,{className:n.dialogAction},o.a.createElement(P.a,{container:!0,justify:"center",alignItems:"center"},o.a.createElement(P.a,{item:!0,xs:6},o.a.createElement(A.a,{onClick:i,className:n.button,variant:"outlined",color:"secondary"},"Cancel")),o.a.createElement(P.a,{item:!0,xs:6},o.a.createElement(A.a,{onClick:function(){var t=m.oldPassword,n=m.newPassword,r=m.confirmPassword;if(l(t)?f({message:"",error:!1}):f({message:"Invalid input",error:!0}),l(n)?E({message:"",error:!1}):E({message:"Invalid input",error:!0}),l(r)?s(n,r)?(E({message:"",error:!1}),_({message:"",error:!1})):(E($e($e({},g),{error:!0})),_({message:"Password doesn\u2019t match",error:!0})):_({message:"Invalid input",error:!0}),l(t)&&l(n)&&l(r)&&s(n,r)){var i={old_password:t,new_password:n,conf_password:r};e.setLoading(!0),la("user_data","access_token").then(function(t){var n=t.result;fetch(e.url+"user/password",{method:"PUT",body:JSON.stringify(i),headers:{Authorization:"Bearer "+n,"Content-type":"application/json"}}).then(function(t){return et(void 0,void 0,void 0,function(){return tt(this,function(n){switch(n.label){case 0:return[4,t.json()];case 1:return n.sent().error?N({title:"Error",message:"Something went wrong. Your password has not been changed.",visible:!0}):(N({title:"Change Password Success",message:"You have successfully changed your password.",visible:!0}),u({oldPassword:"",newPassword:"",confirmPassword:""}),a()),e.setLoading(!1),[2]}})})}).catch(function(t){t.message.includes("UM21")&&f({message:"Incorrect Password",error:!0}),N({title:"Error",message:"Something went wrong. Your password has not been changed.",visible:!0}),e.setLoading(!1)})})}},className:n.button,variant:"contained",color:"primary"},"Change"))))))),o.a.createElement(Ba,{isModalOpen:C.visible,onClose:function(){N({message:"",title:"",visibile:!1})},title:C.title,message:C.message}))},Ga=function(e){var t=e.classes,a=e.label,n=e.onChange,r=e.value,i=e.note,l=e.id,s=e.error,c=e.errorMsg,m=o.a.useState("password"),u=m[0],d=m[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:t.inputLabel,htmlFor:"role_id"},a),o.a.createElement("span",{className:t.labelNote},i&&i),o.a.createElement(v.a,{id:l,error:s,type:u,onChange:function(e){return n(e,l)},value:r,className:t.inputTextField,labelWidth:0,endAdornment:o.a.createElement(Ie.a,{position:"end"},o.a.createElement(V.a,{"aria-label":"toggle password visibility",onClick:function(){d("password"===u?"text":"password")}},"text"===u?o.a.createElement(je.a,{className:t.iconEye}):o.a.createElement(Le.a,{className:t.iconEye})))}),s&&o.a.createElement(P.a,{container:!0},o.a.createElement(P.a,{item:!0,xs:9},o.a.createElement("span",{className:t.errorMessage},c)),o.a.createElement(P.a,{item:!0,xs:3,style:{textAlign:"right"}},o.a.createElement(O.a,{className:t.errorIcon,fontSize:"small"}))))},qa=Object(r.a)(function(){return{label:{color:"#272E4C",fontSize:12,opacity:.6},value:{color:"#272E4C",fontSize:16,fontWeight:800},linkAction:{color:"#3AB77D",textDecoration:"underline",fontSize:12,cursor:"pointer"}}}),Wa=function(e){var t=qa(),a=Object(s.useState)(!1),n=a[0],r=a[1];return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(P.a,{container:!0,spacing:5},Object(s.createElement)(P.a,{item:!0,xs:12},Object(s.createElement)(m.a,null,Object(s.createElement)("b",null,"ACCOUNT"))),Object(s.createElement)(P.a,{item:!0,xs:6},Object(s.createElement)(m.a,{className:t.label},"USERNAME"),Object(s.createElement)(m.a,{className:t.value},e.userData.username?e.userData.username:"N/A")),Object(s.createElement)(P.a,{item:!0,xs:6},Object(s.createElement)(m.a,{className:t.label},"PRIMARY ROLE AND MODULE"),Object(s.createElement)(m.a,{className:t.value},e.userData.main_role&&e.userData.main_role.name+" - "+e.userData.main_module))),Object(s.createElement)(P.a,{container:!0,spacing:5},Object(s.createElement)(P.a,{item:!0,xs:6},Object(s.createElement)(m.a,{className:t.label},"EMAIL"),Object(s.createElement)(m.a,{className:t.value},e.userData.email?e.userData.email:"N/A")),Object(s.createElement)(P.a,{item:!0,xs:6},Object(s.createElement)(m.a,{className:t.label},"USER GROUP"),Object(s.createElement)(m.a,{className:t.value},null==e.userData.group?"N/A":e.userData.group.name))),Object(s.createElement)(P.a,{container:!0,spacing:5},Object(s.createElement)(P.a,{item:!0,xs:6},Object(s.createElement)(m.a,{className:t.label},"PASSWORD"),Object(s.createElement)(m.a,{className:t.value},"*****"),e.userIdDb===e.userData._id&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(G.a,{onClick:function(){r(!0)}},"Change Password"),Object(s.createElement)(Va,{setLoading:e.setLoading,url:e.url,userId:e.userData.user_id,visible:n,onClose:function(){r(!1)}}))),Object(s.createElement)(P.a,{item:!0,xs:6},Object(s.createElement)(m.a,{className:t.label},"ROLES FROM USER GROUPS"),Object(s.createElement)(m.a,{className:t.value},Object(s.createElement)("u",null,e.userData.hasOwnProperty("group_roles")&&e.userData.group_roles.length>0?e.userData.group_roles.map(function(t,a){return t.name+(a!==e.userData.group_roles.length-1?", ":"")}):"N/A")))),Object(s.createElement)(P.a,{container:!0,spacing:5},Object(s.createElement)(P.a,{item:!0,xs:6},Object(s.createElement)(m.a,{className:t.label},"STATUS"),Object(s.createElement)(m.a,{className:t.value},Object(s.createElement)("b",null,e.userData.is_locked&&e.userData.is_locked?"Locked":"Unlocked"))),Object(s.createElement)(P.a,{item:!0,xs:6},Object(s.createElement)(m.a,{className:t.label},"OTHER ROLES"),Object(s.createElement)(m.a,{className:t.value},Object(s.createElement)("u",null,e.userData.hasOwnProperty("roles")&&e.userData.roles.length>0?e.userData.roles.map(function(t,a){return t.name+(a!==e.userData.roles.length-1?", ":"")}):"N/A")))),Object(s.createElement)(P.a,{container:!0,spacing:5},Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"SUPERVISOR"),e.userData.reports_to?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(m.a,{className:t.value},e.userData.reports_to.first_name," ",e.userData.reports_to.last_name),Object(s.createElement)(m.a,{style:{color:"rgba(60, 57, 74, 0.7)"}},Object(s.createElement)("small",null,Object(s.createElement)("b",null,e.userData.reports_to.job_title?e.userData.reports_to.job_title:"N/A"))),Object(s.createElement)(m.a,{style:{color:"rgba(60, 57, 74, 0.7)"}},Object(s.createElement)("small",null,Object(s.createElement)("i",null,e.userData.reports_to.employee_id?e.userData.reports_to.employee_id:"N/A")))):Object(s.createElement)(m.a,{className:t.value},"N/A"))),Object(s.createElement)(P.a,{container:!0,spacing:5,style:{paddingBottom:30}},Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"EFFECTIVITY DATE"),Object(s.createElement)(m.a,{className:t.value},e.userData.effectivity_date?De()(e.userData.effectivity_date).format("MMM DD, YYYY"):"N/A")),Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"EXPIRY DATE (If applicable)"),Object(s.createElement)(m.a,{className:t.value},e.userData.expiry_date?De()(e.userData.expiry_date).format("MMM DD, YYYY"):"N/A"))),Object(s.createElement)(P.a,{container:!0,spacing:5},Object(s.createElement)(P.a,{item:!0,xs:12},Object(s.createElement)(m.a,null,Object(s.createElement)("b",null,"PROFILE"))),Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"FIRST NAME"),Object(s.createElement)(m.a,{className:t.value},e.userData.first_name?e.userData.first_name:"N/A")),Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"MIDDLE NAME"),Object(s.createElement)(m.a,{className:t.value},e.userData.middle_name?e.userData.middle_name:"N/A")),Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"LAST NAME"),Object(s.createElement)(m.a,{className:t.value},e.userData.last_name?e.userData.last_name:"N/A"))),Object(s.createElement)(P.a,{container:!0,spacing:5},Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"EMPLOYEE ID NUMBER"),Object(s.createElement)(m.a,{className:t.value},e.userData.employee_id?e.userData.employee_id:"N/A")),Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"DEPARTMENT"),Object(s.createElement)(m.a,{className:t.value},e.userData.department?e.userData.department.name:"N/A")),Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"JOB POSITION / RANK"),Object(s.createElement)(m.a,{className:t.value},e.userData.job_title?e.userData.job_title:"N/A"))),Object(s.createElement)(P.a,{container:!0,spacing:5},Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"SECTION"),Object(s.createElement)(m.a,{className:t.value},e.userData.section?e.userData.section:"N/A")),Object(s.createElement)(P.a,{item:!0,xs:3},Object(s.createElement)(m.a,{className:t.label},"LOCATION"),Object(s.createElement)(m.a,{className:t.value},e.userData.location?e.userData.location:"N/A"))))},Ya=Object(r.a)({grayBg:{backgroundColor:"#F5F7FB",padding:"25px 24px"},mainContainer:{padding:"25px 24px"},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"}}),za=function(e){var t=e.buttonName,a=e.headingTitle,n=e.breadCrumbsArray,r=e.buttonFunc,i=e.layoutType,l=e.menuItemsArray,o=e.activeItems,c=e.enableButton,u=Ya(),d=Object(s.useState)(0),p=d[0],f=d[1];return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"layout_1"===i?u.mainContainer:u.grayBg},Object(s.createElement)(P.a,{container:!0,xs:12,alignItems:"center"},Object(s.createElement)(P.a,{item:!0,xs:6},"layout_1"===i&&Object(s.createElement)(m.a,{gutterBottom:!0,className:u.subSectionTitle},n&&n.length>0&&n.map(function(e,t){return n.length===t+1?Object(s.createElement)("b",null,e.name?e.name:e):Object(s.createElement)(s.Fragment,null,Object(s.createElement)(z.b,{to:""+(e.link?e.link:""),style:{color:"#272E4C",textDecoration:"none"}},e.name?e.name:e)," / ")})),Object(s.createElement)(m.a,{gutterBottom:!0,className:u.sectionTitle},a),"layout_2"===i&&Object(s.createElement)("ul",{style:{padding:"0",margin:"0"}},l.length>0&&l.map(function(e,t){return Object(s.createElement)("li",{className:u.menuList},Object(s.createElement)(G.a,{className:u.menuLink+" "+(p===t?u.LinkActive:""),onClick:function(){return function(e,t){void 0!==o&&o(e),f(t)}(e.name,t)}},e.name))}))),Object(s.createElement)(P.a,{item:!0,xs:6,className:u.alignRight},c?Object(s.createElement)(A.a,{id:"button-id",variant:"contained",color:"primary",className:u.editBtn,onClick:function(){void 0!==r&&r()}},t):""))))},Ka=Object.freeze({BaseTheme:Je,SampleCoreComponent:Mt,InputAutocomplete:ot,InputChipTextField:dt,InputSelect:bt,InputSelectSetValue:St,InputTextField:kt,LoadingIndicator:function(){return Object(s.createElement)(Sa,null,Object(s.createElement)(Ca,null),Object(s.createElement)(Ca,{rotate:30,delay:-1.1}),Object(s.createElement)(Ca,{rotate:60,delay:-1}),Object(s.createElement)(Ca,{rotate:90,delay:-.9}),Object(s.createElement)(Ca,{rotate:120,delay:-.8}),Object(s.createElement)(Ca,{rotate:150,delay:-.7}),Object(s.createElement)(Ca,{rotate:180,delay:-.6}),Object(s.createElement)(Ca,{rotate:210,delay:-.5}),Object(s.createElement)(Ca,{rotate:240,delay:-.4}),Object(s.createElement)(Ca,{rotate:270,delay:-.3}),Object(s.createElement)(Ca,{rotate:300,delay:-.2}),Object(s.createElement)(Ca,{rotate:330,delay:-.1}))},AppHeader:Bt,AppSidebar:pa,AuthenticatedLayout:function(e){var t=fa(),a=Object(s.useState)(!1),n=a[0],r=a[1],i=function(){r(!n)};return o.a.createElement("div",{className:t.root},o.a.createElement(Bt,{logoImage:"intellicare.png",userImage:"user.jpg",badgeCount:8,menuOnClick:i}),o.a.createElement("nav",{className:t.drawer},o.a.createElement(Ce.a,{smUp:!0,implementation:"css"},o.a.createElement(Ne.a,{classes:{paper:t.drawerPaper},variant:"temporary",open:n,onClose:i},o.a.createElement(pa,$e({},e)))),o.a.createElement(Ce.a,{xsDown:!0,implementation:"css"},o.a.createElement(Ne.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},o.a.createElement(pa,$e({},e))))),o.a.createElement("main",{className:t.content},o.a.createElement("div",{className:t.toolbar}),e.children))},PageHeader:ga,ClientInfoItem:ba,GridHorizontalDivider:_a,TicketModal:Pt,BreadcrumbsComponent:Aa,FloatingButtons:Ia,PageLayout:function(e){var t=ka(),a=Object(s.useState)(!1),n=a[0],r=a[1],i=o.a.useState(null),l=i[0],c=i[1],m=Object(s.useRef)(null),u=o.a.useState(!1),d=u[0],p=u[1],h=o.a.useState(),g=h[0],E=h[1];o.a.useEffect(function(){document.addEventListener("mousedown",v)},[]);var b,v=function(e){m&&(!m.current||m.current.contains(e.target)||p(!1))},_="/";switch(e.page){case"membership":_="#/membership";break;case"underwriting":_="#/underwriting";break;case"system admin":_="#/system-admin"}return o.a.createElement("div",{className:t.root},o.a.createElement(Oe.a,{open:d,anchorEl:l,placement:g,style:{zIndex:9998},transition:!0},function(a){var n=a.TransitionProps;return o.a.createElement(Ae.a,$e({},n,{timeout:350}),o.a.createElement(f.a,{ref:m},o.a.createElement("div",{className:t.profileContent},o.a.createElement("img",{src:e.profilePic&&"DEFAULT_PIC"!==e.profilePic?"data:image/jpeg;base64,"+e.profilePic:"profile_pic-01.png",width:110,height:110,style:{display:"block",margin:"auto",borderRadius:"100%"}}),o.a.createElement("div",null,o.a.createElement("h2",{style:{fontSize:"16",margin:0,paddingBottom:5}},e.fullname&&e.fullname),o.a.createElement("p",{style:{color:"#000000",opacity:.5,fontSize:12,paddingBottom:20,margin:0}},e.username&&"@"+e.username)),o.a.createElement(P.a,{container:!0,spacing:1},o.a.createElement(P.a,{item:!0,xs:6},o.a.createElement(A.a,{className:t.buttons,variant:"contained",color:"primary",style:{position:"relative"}},o.a.createElement(z.b,{to:"/system-admin/profile",onClick:function(){return p(!1)},className:t.linkProfile},"View Profile"))),o.a.createElement(P.a,{item:!0,xs:6},o.a.createElement(A.a,{onClick:function(){e.onSwitchModules&&e.onSwitchModules(),p(!1)},className:t.buttons,style:{border:"1px solid #3AB77D",backgroundColor:"transparent"},variant:"contained",color:"secondary"},"Switch modules")))),o.a.createElement("div",{className:t.profileFooter},o.a.createElement("button",{className:t.logoutButton,onClick:function(){e.onLogout&&e.onLogout(),p(!1)}},"Log out"))))}),o.a.createElement(P.a,{container:!0,direction:"row",justify:"flex-start"},o.a.createElement(P.a,{item:!0,xs:1,className:t.sidebar},o.a.createElement("nav",{className:t.drawer},o.a.createElement(Ce.a,{smUp:!0,implementation:"css"},o.a.createElement(Ne.a,{classes:{paper:t.drawerPaper},variant:"temporary",open:n,onClose:function(){r(!n)}},o.a.createElement(pa,$e({},e)))),o.a.createElement(Ce.a,{xsDown:!0,implementation:"css"},o.a.createElement(Ne.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},o.a.createElement(pa,$e({},e)))))),o.a.createElement(P.a,{item:!0,xs:11,className:t.contentgrid},o.a.createElement(P.a,{container:!0,direction:"column"},"customer care"!==e.page?o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(H.a,null,o.a.createElement(V.a,{edge:"start",className:t.menuButton},o.a.createElement(Y.a,null)),o.a.createElement("a",{href:_},o.a.createElement("img",{src:"intellicare.png",className:t.logo,alt:"logo"})),o.a.createElement("div",{className:t.grow}),o.a.createElement(V.a,{edge:"end",onClick:(b="bottom-end",function(e){c(e.currentTarget),p(function(e){return g!==b||!e}),E(b)})},o.a.createElement(q.a,{src:"user.jpg",alt:"avatar"})))):null,o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement("main",{className:t.content},e.children))))))},RendererButton:Fa,ProfilePage:function(e){var t=La(),a=Object(s.useState)(""),n=a[0],r=a[1],i=Object(s.useState)(!1),l=i[0],o=i[1],c=Object(s.useState)([]),m=c[0],u=c[1],d=Object(s.useState)(""),p=d[0],f=d[1];console.log(e),Object(s.useEffect)(function(){la("user_data","user_id").then(function(e){f(e.result)}).catch(function(e){return console.log(e),o(!1),!1}),o(!0),la("user_data","access_token").then(function(t){var a=t.result;fetch(e.url+"profile",{method:"GET",headers:{Authorization:"Bearer "+a}}).then(function(e){return et(void 0,void 0,void 0,function(){var t;return tt(this,function(a){switch(a.label){case 0:return[4,e.json()];case 1:return(t=a.sent()).error?console.log(t.err.message):(r(t.body.first_name+" "+t.body.last_name),u(t.body)),o(!1),[2]}})})}).catch(function(e){o(!1),console.log(e)})}).catch(function(e){console.log("There was an error retrieving token in indexeddb: ",e)})},[]);return console.log(m),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(za,{headingTitle:n,breadCrumbsArray:[{name:"ACCOUNT",link:"/system-admin/users"}],layoutType:"layout_1"}),Object(s.createElement)("div",{className:t.main},l?Object(s.createElement)("div",{className:t.root},Object(s.createElement)("div",{className:t.container},Object(s.createElement)(ke.a,{size:150}))):null,Object(s.createElement)(P.a,{container:!0,xs:12},Object(s.createElement)(P.a,{item:!0,xs:3,className:t.sideBarContainer},Object(s.createElement)(V.a,{edge:"end",onClick:function(){}},Object(s.createElement)(q.a,{className:t.userImage,src:"DEFAULT_PIC"!==m.profile_pic?"data:image/jpeg;base64,"+m.profile_pic:"user.jpg",alt:"avatar"}))),Object(s.createElement)(P.a,{item:!0,xs:9,className:t.contentContainer},Object(s.createElement)(Wa,{setLoading:o,url:e.url,userData:m,userIdDb:p})))))}}),Xa=Object.freeze({Actions:Ve,Definitions:Ge,Reducers:qe,Services:Ke,Stores:Xe,UI:Ka}),Ja=Object(n.a)({palette:{primary:{main:"#3ab77d",contrastText:"#ffffff"},secondary:{main:"#ffffff",contrastText:"#3ab77d"}},typography:{fontFamily:'"Usual", "Roboto", "Helvetica", "Arial", sans-serif',button:{fontFamily:"Usual, Roboto, Helvetica, Arial, sans-serif",fontWeight:700,fontSize:13,textTransform:"none"}},overrides:{MuiButton:{containedPrimary:{boxShadow:"0px 3px 6px #1e207129","&:hover":{backgroundColor:"#008650"}},containedSecondary:{border:"1px solid #0000001A",boxShadow:"0px 1px 3px #00000033","&:hover":{backgroundColor:"#3ab77d1a"}}}}}),Za=Object.freeze({Component:function(e){var t=e.Component,a=e.store,n=e.componentProps;return Object(s.createElement)(Ue.a,{theme:Ja},Object(s.createElement)(fe.a,{store:a},Object(s.createElement)(ce.a,{history:Wt},Object(s.createElement)(z.a,{basename:"/"},Object(s.createElement)(t,$e({},n))))))}});!function(e){e.CHANGE_LOCALE="hims/MsgProvider/CHANGE_LOCALE"}(Ha||(Ha={}));var Qa=Ha,$a={locale:"en"};var en=function(e){return e.language||$a},tn=a(429),an=function e(t,a){var n="en"!==t?e("en",tn):{};return Object.keys(a).reduce(function(e,r){var i,l=a[r]||"en"===t?a[r]:n[r];return $e($e({},e),((i={})[r]=l,i))},{})},nn=(an("en",tn),Object(Be.a)(Object(Be.a)(en,function(e){return e.locale}),function(e){return{locale:e}})),rn=Object.freeze({Provider:function(e){var t=Object(fe.d)(nn).locale;return o.a.createElement(He.b,{locale:t,key:t,messages:e.messages[t]},o.a.Children.only(e.children))},appLocales:["en"],formatTranslationMessages:an,messageProviderReducer:function(e,t){switch(void 0===e&&(e=$a),t.type){case Qa.CHANGE_LOCALE:return{locale:t.payload};default:return e}}}),ln=Object(He.c)({header:{id:"boilerplate.containers.NotFoundPage.header",defaultMessage:"Page not found."}}),sn=Object.freeze({Document:Za,Message:rn,NotFoundPage:function(){return Object(s.createElement)("article",null,Object(s.createElement)("h1",null,Object(s.createElement)(He.a,$e({},ln.header))))}})},53:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=(a(74),a(18)),m=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return o.createElement("div",{className:"icon-button",onClick:function(){return e.props.onClick()}},this.props.icon?o.createElement(c.a,{icon:this.props.icon,size:this.props.size}):null)}}]),t}(o.Component)},66:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=(a(74),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={value:a.props.value?a.props.value.toString():"0"},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value?this.props.disableDelimiter?e.value.toString():e.value.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";"."===t.charAt(t.length-4)&&(t=e.value.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),t!==this.state.value&&this.setState({value:this.props.isFloat&&"."===this.state.value.charAt(this.state.value.length-1)?"".concat(t,"."):t})}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return o.createElement(o.Fragment,null,o.createElement("div",{className:"input-field-container"},this.props.placeholder?o.createElement("div",{className:"text"},this.props.placeholder):null,o.createElement("input",{className:"text-field",style:t,value:this.state.value,disabled:!!this.props.disabled&&this.props.disabled,onFocus:function(){0==e.props.value&&e.setState({value:""})},onChange:function(t){var a=t.target.value,n=parseFloat(a.replace(/,|-/g,""));isNaN(n)||(n=n<1e9?n:e.props.value);var r=(isNaN(n)?"":e.props.isFloat&&"."===a.charAt(a.length-1)?"".concat(n,"."):n.toString()).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");e.setState({value:e.props.disableDelimiter?n.toString():r},function(){e.props.isFloat,e.props.onChange(isNaN(n)?0:n)})}})),this.props.errorMessage&&this.props.error?o.createElement("div",{style:{color:"red"}},this.props.errorMessage):null)}}]),t}(o.Component))},74:function(e,t,a){},742:function(e,t,a){},743:function(e,t,a){},744:function(e,t,a){},745:function(e,t,a){},746:function(e,t,a){},747:function(e,t,a){},748:function(e,t,a){e.exports=a.p+"static/media/shape-1.23abf4d3.png"},749:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAACQCAYAAABjwAWWAAAfU0lEQVR4Xu2de5Bc1X3nv79zz3309LylkTTSSPPQY9ALgaQBJPEUCGTsymYdC5Ja1vb6QeFNtuxUkt2qrL1F7cabRyUuZ7eylS3vJl4UArEMCBACIUW8JR4WVrDAmIcRBiNghIQ0mlF33/PYP27f7tvd93b3jEajeZxPFSUxBcy9Q3/0O+f3OId6rv2ylxv6hLVlhli2McUasy7LOGT5mWHLk5z5nFmCk2X7sAQna+8DP/jO3DntX4TBYBg1DDgKALAsR1vc1sCnsIZHNFmWHiGuiTHNfKFyllSWL9XN2+747qnTZ/bW+g8bDIZKGE+lNHM8DQA4Dpy2uGYs/Cujs1woRpYmZmkipn0h1R3//o//cORs5nCt/7jBYCjFasdSjvY2NIocKTVEynMpoxzyvCykskhnbeKcCEKAW5ogNH346Wl5/NiJ/Zs2XbqFW1ZrrW9iMBgCrM7OSy1/8AMaam1BWghSKZe0Gib3rENwXWh5lhwH0Moi32LEwaEtn95+852sY7vPXbx6+WcZo1Stb2QwGABrzpyVltYaaD+FIdFA6TPFKOdmzpJ2XWQzFjlODtrX5DNFtuAQXNChl1451d3b9fKSvu7PERGv9c0MhpmOtWjRlQxQ8AdHSIdRbtgl7Q1TRjnkODYBOeSyjGzbhvYt4lwAwiJhWfTU/hc/6lvc9XJvd9dNRGTX+oYGw0zGmj8flhBtFEa5RtFASg0RNTYCOoNslmBzi6B9OA6gNUgIDs590kKTtAj7nzp4rK97weHFvYtuNpHOYEjG6u/vZ0p1IYxyQ60taCUL6oxHypOklUNeLovo0lJpRYLb4JoRpIQFTY8/dfDYquX9ry/qmrfFSGcwxGP19PSwXO4oRaPcEFqQFqdKl5YZm+Dm4OecIOLls5YEDsEt4lLhkX1P/2r1ioveWLSw86agxmcwGKJYRwcGqF8IKPURgLnQJyMJFDVElGkEUhlkQXBdF0AOfk6Tbdvw/RxxToDQJDiHJQQ9su/pdwfWXvze/M6OLbW+ucEw07CwciU7OjJC/a5bkC5MoLSShbA2R5SGl81Ahfs5AcBx4Ps5sm0GCE3StmEJQTsf/ee3bty8yW9va7mi1gMYDDMJhh0rNTo6dPSLnKc0dwf1R46nLcvR7plGxfgZPWTZ2s7klGW7KmMJxblQluWoHLcVy7d++YwrS9ry8//m937wwQcf/9/kb20wzDyCfdYO4MmODt3U1KQ975fadRs1fz+Q7kS6RVnWKW19amvuZtWwnVIF6bKusrivrJxUvu1KZknFpZY+U8qStvzMF772vWPHBrfXegiDYaaQT2ys1ADwJIA46Y7brnbdjKqUTpRIl7OCSMcsqXymFBNcbf2tr/6Zkc5gCGDAncFyMrK0DKRrK0jHnOMl0jHrjB5iXLPhEW3ZfkE6LrTMWbbiUktmSSUsLY10BkORfIS7M/glv7QM/uYQQum8wVbFHE8ft13N+Wltn2lQ3MmqEdtT/GxORaULRnmMdAZDHGGtTAfSrdTR/RxwqPAP8mODmjmePuk1qQrpbK8gnW0rWS6dZaQzGAAAFgAq/u2TBNwCvDZIRwfSKKnPaQ2cPgXd2oKzZKGkRpeN1ugcuI6A9nXQjeIzElyCgwBp0fYf73zuN2++obmpKb2m2oMZDNORMuFQt3SFGt2wS5TOJUonbWakMxjyxAgHANcSMKeqdOH8HGNZBIXxSulsniMIwEhnMARY+V9joty1AOYAKwfpaDpeuuH29kC6bDOUJ4koBy9LQF464btGOoMhghX5fbx0r9Uj3amCdLl6pJMSnBvpDDOPqHCYMOl0pXQ333g1a21pHoDBMI0pFw5jkq79FIZZqXQZNUKpnFW3dP94/8MvmYZnw3QnTjjUlK5suiAc6YlKpxs0RivdvTt3/fTqjetPzumYdVV8MsdgmNokCYeq0g0Mo37pHErl/ETpbLIhhE+hdD/e9dirl6+75L3OeR3XmiFWw3SjmnAYH+nOVpVOcKqQbuejj7+5ZlX/mwu7OrcY6QzTiVrC4XxKV+xIIdgkIYQmyQmWtGjX3v1HL1l90dtd8+dtJqJ6ntNgmPTU+0EeF+ly+anxULryNjCbbGjhF6R7+PH97yxd3Hukp3vB9eYIPsN0oF7hMB7SKe9MRcmgVLog0ul8pOOK47Ennnp/QWfnoWVLurca6QxTndEIh/GRrrJOVxnp8tJZgXT7n33uowWdnYeW9C26gTHmJj2cwTDZGa1wGBfphiXl0vHSkWDwuUU2SZAkCAvEFccTzx38sKWt7cCKZX1bjXSGqcpYhMM5S8eSpXOcXEE6DlGUTlp47sWXjre0tR1YvrT3estiDUkPZzBMVsYqHCZCOiFtcO4TSYK0GSzB6LkXXzp++tTIY5etW7WJc6s96eEMhsnIuQiHMUkX7b1kWVCmEZlUJlY6gIrS5QvllhB05I23ho+8+vYj11w9cInr2POTHs5gmGycq3AYtXSRhudwiDWULpsluNks4FKFdLYtC4fNcqnw3ocf+o/vPbj7M1uu7EulvMVJD2cwTCbGQziMVbqhyOR48Uh1L146wQvSCc7BpcLpsyPyh9sf3Pubn93cZMZ7DFOB8RIOtaTrGRkhd5TSsZSthe/CdUXhmizbzmcvuSAuAXCG7ffcf+D6azacmTWrbVPSwxkMk4HxFA7VpDs6BulSvg+dj3SuKwBihQtESNqQtoIlNEHZ+NFDu1+58rL1H82dO+tq039pmKyMt3CoJd1AOg2RcEZKuXQ5SiO4my5cXvoAORBSBldlCR5IpzVBcty3+7HXV6+46OddC+ZuNl0phsnI+RAO1aR7beUgVZMuegSf9oapQjrhA7YNISUcmwE+I2krSAT9l4/s2//u3Hlznl/W132TKZAbJhvnSzhUle61QRoYiJcuPPeymbLQZ1Ogxhyy2itKF16VZdvwhShIBy4hEbSCPfncwcGmdNMzK5b3XWMxqzHpAQ2GieZ8Codqp4HVkm4YQDNloYZdKpXOhWBKOzlNsAV8ATg2A8nS/ssDh17+5PSpkX3r167cYHM+K+kBDYaJ5HwLh1rSlZ976ThpTafPQDY3UJJ05KXgk4DruyBHIBdpeo62gh154xdnXv/Fu49uvuqyy22bz016QINhopgI4VD13Msy6TjvA6AQSHeChtGMZsoinKnLag/hIGsupuk57L8Mu1J+dexY7sALrzx643VX9Lue25P0gAbDRDBRwiFGutgTnnO5o1SUjoE6hjEkGqhRD6PaIGuh/9KxwXXYChZ0pXx88oS458cP7/nsTde1NjWmVyc9oMFwvplI4TAW6fRJDeoYrjLImgUQ6Urxi61gxQI5QWjS2+/d+czmTQOnZ89u32hqdYYLwUQLh7FKVz5TR40MGZ2Bl/WAhK4UzkVpgVxy/OjhR3+2cumSny1aNP8GU6szTDQXQjjES1d5a4/rfgKluiqka6UM1JlI03NCV0p5gTy802D3/iffa5vVdqB/cc81lmWlkx7SYBhvLpRwiD/otVS6oBWsTLp6u1IqCuQ+CQmEZ6U88/xLgydOD+257JKVA7Ztd8Q9oMEw3lxI4TA66aq3gsUVyH0B2PkCubSdsrKBxGtv/HL4mQOHd229YdNK13UWxT2gwTCeXGjhUF262v2XYVdKRa2uIa1BAsK3Sm9kLZQNbFhC0PFTn4q/+387H9l6w0bV1toyYI5YN5xPJoNwSJau2H+ZdHNPUldK9NDZaK1OODZslA6zgjPc8+Ndh1avWPpG14J51xERj3tIg+FcmSzChYzq5p5iV0plgTxHaWSzmZIbWQtlA+HDtlk+0hUzmI/se+KdWW3tzy5b1r3JYlZz0kMaDGNlsgmH0UhXXiAvr9UVrkHOT5BLkdJBBtMpztXlM5jBtIGgp184dPydXx7bteHyS1a4rtOV9JAGw1iYrPuVmOe6M/+1VwnbgGsHB2loaIiAdchkTlI2e4ZE11kS2Q5qHz7FpGwhIbLkN44wkXNZkxLkew6TPmeezDLhcCalz5TNmSMtJkTWUtxithJMcYt5bgN/8N7/+e25c2bdUvksBsPYmIwRLqSuAnnVWl1S2SCSwYQQCI9YD5MpXCr4SmD7P+56+tpNaz+ZPbt9o7lQxDAeTPYPUU3pKsoGJyszmPpsqmyY1QUxpcMMZskZmAIIDykCZ9jx4GOvLpg79/nFfYuuZhYzRXLDOTHZhUP90lWelRLNYEaHWRuE1PFnYIrYZMr+Awc/+vjkyd2Xrb14rWPGfAznwFQQDtVbwYJaXT1lg6RpgzCZojUnIXyUJ1O4Unj9zaMjD+9+6uGtN2yck043LE96UIOhGlNFONSq1VUrG5SP+ITTBtksoUFIHbSD+XAlAU5wSJG0GWxpg6QsFMmHs2fVXXfvevKqKy79uKOjfZPZ1xlGy1T7wIxKuuQRn+CI9dJkils4L4W5Sof31XEIRGfrwBnue+ixn3d2dLywZHH3VWZfZxgNU024kLpqdXGNz8Pt7SUng8Wdl1LSmVIxWwdAcjxx8PmPPj55cveGdRdv4DafnfSgBkOUqSocEpMpr1XJYMacDBZtB0tMpgg/KB3kZ+ui+7r9T//koS3XX9Gd8rwlSQ9qMIRMZeEwXhnMYjKlOEXOWHGgFeQAZfs6YVnEpcSJ06flD7c/tHfD5Zccmztn1kbTh2moxlQXDvVkMMunDZKTKcF1yL5o0sXZuvAcTAEIoLCvixTJwRkeeHjP680NjU9dtLzvaotZTUkPa5jZTAfhUCuZUj5tEJdMaaUMMDKMyhOfg32d8N3YfV20XvfsT35y4q23fv3QxsvX9Luua+brDBVMF+FCxpxMKe9MqXtfV1ave+f9X2f/7q4HH7nx+g259raWAXNYkSHKdBMOo0um5KWrq0genA4mRUq7UgBOdF9X2oepLdA/7djz08XdnYe6Fy24kpn7yA15pqNwqD+ZUprB5CM5HZ74XFkk94pF8ormZ7tQryv0YSqGx59+9oPB4yceWbd29SpzNbIBk3g8ZzyIezcC7gx+t+1V2gZgsOaYT46EaCa/cYQp2Uhp/yyT6QYSfoZJ32aem2VS2EzKHHNszpS0mLQFU9JitmJMcck8t4Hfd9f3vrWga96/m+Y/c0MNpmuEC6k7mVJxDmakSF6+rys/vsFxciDm6WhLmBZ+cLGIlPC11Hf/0+7nL1rS/UrXgnkbLbPEnLFMd+FCkpMpSbN1Nep14SR5cACtgOMAQPJ8HRTDo0889d6xDz/eNbB29TLXdRYmPKthGjOTljd1TZEDwNDQEGUyfZTNniEAyHR8ylRuNs32sxSdJA+XmMEkeZYp5VFxiWkxx/Zjl5haMrbz3r/+Rm/Pwjtm0B96hhn4P7tmkTzameJ5F+nyM1Oik+TReh01pHVc6cBxuIbPCFJC2Za2hCBwwr079hzqXjD7pZ7ehRvMpZEzh5kmHGrt66KzdXH7uqR6XSrnR+44EHBdCg4rEiLY15EsnTpQDPuePXjszdfffWjTxrXLzRJzZjCTlpRRqmcwqywxhThLojNL0SVmtvEMU8Kn0sOKskxKzlKepHqWmDvu+qsvLV3a8/umF3N6MxMjXJQ663VuWR9m+bF8lfN14cnP0SWmVEqH1yOHl0aGvZg/emDfv6Rse+9F/b2XcJubuw6mKTNdONSzr4s2P8eVDlrJAsUuMV2wVL4PUwogf89BaaFcIpixIxz86cuf3vfgvp1XX7neb21pXkdEpi1smmGEC6i7Xpd0sUhs6QBUvEZL+xCS68oG6NIZu7N+Tt27Y8/Lra3NTy9b0r2Oc6st7oENUxMjXJHqxzfUmK+z5uZ0cdQnYYlZUii3dHiVFpX1YoIzPHPwxeN7/vngA5uvvKyxsSm9egbvt6cVRrhKqiwxA+miS0zPu0gzxoJRn+Hh6t0phSWmyM/Y5a/SclxtozjuI2Vwh92p4VNy+z2PPNffs+Dw/IXz1nLL3Hcw1THCxZMQ7W5JaAk7Wdc0uW85unTGLjiINrxghHMCU66mfItYGO0e2//M+y+8eOSBqzaunZVuSJkj+qYwRrhk6j4hrHyJyUdyunSaPFhiltxf56VKzsQEBcfzlZ4UpjWXBFIKH5044d9198NPrljWe6Rr/twBc1rY1MQIV5046QLxXiu/pbW0OyVuiRkeWOQzocvPxCxNqORPgBYcgktIcHApQbald+998ldHXnt757pLVjY2NTasNHu7qYURrj6qLjEru1OqLzGpkQE6PqHieVKH0a50uFVBKaa54njvww+y/3DPrmeW9HQe6lrYOcAtc4bKVMEIVz9jWmJGDywq9GKeKT0TM5pQ8XPBcKvrKl1ePgCXQfkgH+327H/2gxcOHL5/wxVrm020mxoY4UZHgnRPIrrETDqwqLwXMymhQvnDaKPlg/JoxyVAytYfffqJb6Ld1MEINzaqLjErDywqPxNzCMNoRlxCJXpokRQp7QgfsAWYtHRJsVwphAOuJtpNHYxwY6euJWZiL2Y+oRK2hYUJlfJLRsIj+iqiXcmAqyyJdgs75zzf3b1gDedWe9yDGy4c5k/BcyPp55efPAimDoCEK5IrJg9Kz09pkj75KYcJP8O09EjKLHMdn2nlUsn0gRJMOzbZUjClLKa4YO3pZvtv/9effHHp4kXfYIylEp7TMMGYCDc+jHmJyUc8XUyolDZB5yiNbDZTiHZULdrlG6EVBZnMszKrdtz3+OHhU0O7Vq/s73Y9pyfuwQ0Ti4lw40ddM3YYHKRr8zN2ldGug1QuE3uUQ1y0i521i4l2WjL2N9/7zjUbLltzp7np58JiItz4klwoD6NdpGYXdy5mtHxQGu1K93aJmUySYJLp6AQCOMPuxw8c/dnh1+5bv+7ihkaTVLlgGOHOD3VNHhwdGaH+mA6VypGf0umDMJPJ8ktMX/gldTvBBRyldbGEQIAkvD/4YW77PbuebWttfnpxT9cq27bNoOsEY/6UO38k/GzvLH5926sEJB/lgB5AZDtobi5DmcwQE6KZZKtP5cc5KCVI+jZrSAkSgjMpfaYkZ64jKVxmKm4xRytS3GJKCcaZY/39//7Tf7V8We+3bJvPin9Ww3hjItz5pcoSM7l8EB35iSuWU4aVRrv84UUlPZlgEMKHdLgOSwiCS9iKaVIKikHfv/PRXxx++ec71q5dSU1N6VXmzvLzj/kBTwwJ4oWXjFTvx6y5t4OHlO+X9mQqqeE4gBCQ0tVhwVwprYsnh9n49Scf5+6+d/cLIpd7dNmSnrmplNcX9wKG8cEIN3HUHe2i/ZjV93ZBtGNNUpcf1VdypEMkqcIhgqSKUpCcYCutwRkOvXLk9N9vf/DxxT3zX+rq6lxjjnY4P5g93MRTX/kgYW8HAOFlI3NzGfL9LGWzHgv3duUXjmgpKTiuzyMpckzKHPNcl4J9XnBkn6NsUvl9npaCNTW18v/zN3fesqSv73c5Zy0xz2sYIybCXRhqlw9qzNolZTKjEwiWkLrYDE2F0R+/xjIzp7Jqx/37jhx9+937Vq3s95qa0ivMxZLjgxHuwpJcPkDl3i5atysf+4kmVViz0BldPamC/DmZQe1OBSWE6DJTMbz1/rvZu+/d/SxJ7OlbsnBWyvMWm1XRuWGEu/DU3tvFRLvysZ9wyLVRD4POjhSiXVxSJbzFlYW1u7JsplRaSx4Uzcm29EuH/+XTH9714N6Oea1Pd83v7HJdpyvuRQy1MX9aTR5q7O2S63YAEL1IstgeliPR2kxS+CSyLlPSp4ranRYkHM60UoWGaK0dUtJn0raYVorscH+nFWnJ2Pf/7I82bLh83TdTDd7KmGc2VMEIN7moMX2A2HsPoj2ZiCRVon2Z4f0Hhb5M32EqLSh6zZZSQTJFK4fC3kytFUnbYrYUTGtOikumtSJbMvaDv/3u51asWvofXNsx1ynXiRFucnLu0a6iGToY/SnvVIlmMz3Jmco3RCstSdmcuarYrRI2RRfEk4x1zZllf+8v/9Mtfb29d9i2KSXUwuzhJi917+1i7z4oK5iXd6qEtbtczs83RAdnZZbv74qJFVmo3ynb0uGVW6ezw3LH/fuOHH75yI9Wr74o19zcuJIROXEvZDARbipwzsvM8r5MPxz/ac2SnymO/6iq+7sc065LjvSZVjaFV245WpFSFtN2sL9bvKjT/dPv/v62vt7uL9vcnpfw7DMWI9zUoG7pcA7LzELRXDZQdH8XbYrWKr/U1IqUtJhygl/LxZvT1mR//y//879esqznK65tspohRripRd3ilUY7oHo2M4h2UlR2qyiZnFhRtl9TvGbPsf7qL75948Wrl3zNS3n9Cc8/YzDCTU1qJ1VGscxMEi8usZKU0dQ1xLO1ou//j/9y3aWrVtyeTnurYp5/RmCEm7rUHe2AWuL1QGSHK/Z3SfW76BEPBfFchxxRn3jf/a/fGtiwceDrzU3pDQnvMG0xwk19xixe0jKzE4CfUL9T4yje175066LPb9vy1Y7Zsz5LRG7Ce0wrjHDTgzqki6/dIb+/Sy6aVyZWqokX1vC065ASPnPzXStR8coL6Ddu2dB++9dv++0F8+featt8Wp+laYSbXpyDeLW6VfLiSZ9US23xohEvFE8rSdIWTOuwgB4c+aC1IihOi+bNdv/kv/3h55YtXfTFfKP0tMMINz2pQ7za+zuMQ8SLiqeVIkdaLCqeoxQpJZi2g5k8KE62VvTnf/4fN65fu/pLLc1NGxPeZUpiOk2mNzHi5Y92yI//lHerREeAOHcK0wjW3Jwu7VjJlkwkREeByLNA+a6Vwoli0tJMai0kQTpa2zLoXAln8WylNeWnExTTes/eg+//w13379KW9dj8eXNEKuX1Mcam/D7PRLjpTx3Rrvr+DpHCeWUpob6Ip5QslBOinSthr6bWimITLPkJhf6eLu/OO7/5G329C29Ned6yhHea9BjhZg7nIF6wzERV8YKToqPiheWEYh2vUrxok7SOJFiK+7xigiVcbn77O7+7ZtOG9b89u731RppifZtGuJnHeRavMuJVihcU0HVKUEqVZjbDkkLYr6m1TeFMnrbtIOJpTloKdvP1l7fdfvsXty3smrNtqvRtGuFmLnWIVz2xgnMQL9oyprWgkgSLcki7qtAoHczkCaaVTeVlBShOnudYf/Hf/+DqS1ctv7W5uXHTZP5cT9oHM0wI1f7/j5N41ZaagpRsoLjMZvk+L1pIj5YVtLYputdbu2pZwzd/78vX9/Uu3Nrc0riBiOzkV5x4jHAGTIx4OQI6UN4kHdwKlGFR8ZSShQmFcJ8XbZYuRr3gCIgw6mlbF0oLWivatP7ipjvuuG1Lb3fn1ubmpgEAPPk1JwYjnCFKfeLl93cYg3gAEBf1wsxm+T6vISVIqehyU1JcdrOkpheJeqF8W66+vOUrX/nCTQsXzt/a3Jhed6GO/TPCGeKosr8Dake80nICygroxV7N5JJCuM8Lo54ns0xFlptxSZby0kL5kjPMcm69adOsf3vbb920oGveZxobGtZMpAcT9o0MU5LzJh4A1Jdgie7zakc9nW8hq1xyKipmOYvyDay/uOnrX/2dq3t6529ubWm6kjHWEPfC44URzlAPYxYPMZMJABDebw50oWKfV2W5GUY96dssmt2M7vU8V5GK1vW0Iu0EUbCafJ2dc5w/+KOvb1ixrHdzW2vrteejkdoIZxgNdYoX2eflr1jGOOzzyssKSVGvXD4ZKS8E8gW1vXj5ggRMilvsO3/8jUsvXbfmutntLZtdx1lY8dZjwAhnGAvVPjexBfTRigcAcWUFAKi21wsznBXyxe334uSL7vngIBAwSLp8ftuN63sXLlrX1tK4PtWQWjaWXmQjnOFcGL149ezz8ocdoWyfF7fcLEQ9KQjNzahXPk+VRj4AiGY7Cx0tti5ZemqtyAGwZs3y9G23/cbaJX0969pnta1r8NxVRFSz7GCEM4wH5yQekkaDyqJeXHYTACr2evlTx6JLTgAI5POCr0eWndpVFQmXUL7y6AcHiBNw4cJO947bb13T3790ffus1nVN6YaLicgr+1kY4QzjSv3iVUmwlC83kRD1ELPXA9qgpD8O8pUuPeECpdEvRkAAoYS21tTXu9D9wu98ZnH/4iVLZ89uXdqcblhqhDOcD0YhXjHqbQMwWMdyMynqxS05AaBasgUF+coTLkGpIQVAxQioHUWAi6iAgINwCQoEIkLlv56PhEY4w/mk1ucrdrkZJ15S1Ku25ASAcvniki0AkLTnA4C46AcAcREw/HecqIRak7aDr9f6gRgM48Uool615Wb1qIeEJSdmA9EeTpTJBwDl0U9rQemGIMJFox8ARAVEPpppZRd+nyShEc4w0YxCvPiohxp7vZryRSJf+Z4PABKjnxaERAElae0SvOD3biQKIiKhEc5woaj12UuMemNZcqJCvtJlJwAoEZQZlPSpBYDKt5YBzSXRD0jn93WlERAA4qIgAISRsNZLGwwTweiiXo0MJ4BRyxdNuCBSakAk6YJI9ENeyEBAoDwBE3ytUkIjnGEyUevzmBj1cI7yhQkXJEa/JAFLIyAARKMgADRoQcozwhkmL/V8LutacmIMy07k28pQFv3CxAtiBAyXoMhHQeSTMCiLhPW8mMFwIan1Ga265ByNfBitgGUREPk+T1SRsNbLGAyTiVqf13OWDzHRD6hfwPIoiDIJa72AwTAZqedzOyr5cI4Clu8BkyT8/68ZL/z8I1i9AAAAAElFTkSuQmCC"},750:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAABECAYAAABnAhz7AAAAAXNSR0IArs4c6QAAI9dJREFUeAHt3AW4pkX1APDZEpCSDhEWMLELFGvFbn3sBLs7HvVRwfaxu7u7O7HFbsUAVFSkpWv3/Z/fYc/H3I/v3vvdy4L+153d9877zpw5NWfO9LdkiNA2hA0aWEcaWLqO8GxAs0EDqYENBrXBENapBpavU2z/g8jWrFnTPMuWLRtJbxSxdOn/Zltdrw1KxS5Zcm49j48Ul0TG+OBxLejIMOZ7gZ8xnXLKKe2kk04KWkvalltu2TbddNP5iq63+et5M1oTFTe0YRB3T1jOGulr/62J/HPfF1fPH/vYx9oBBxyQzxe/+MXFIVlPSq0fHmpN+BquKP7npDW9T3inYWmaEaOKjqmdHZW2YknAclcRLwkbW9KWtyFelqyJtjWE11oqb3W8a2tL0uso73088Ei6tiOOOKJ94xvfyPfb3/72/7PdHf2sHwa1dGZl5xe74YeG1fHo3qLy41kdxnTWknPa8hjzLI1/y9LkAiYLhQGFUni0c99m4h03KN+MylPv4nO72vnLZqH17M96YVC9/6jKjVoNI1rdTl96Sjvq9GPbSWec3o455uh26OF/aCefcmLbZcdd22X2vEzbetPN2vabbNM2W3qJtmytV0pvt4CKHtGMMjxW/70ANOsF6HphUGqiN6rs9iJhdXRfvznx1+3gI7/dfveXP7dvRrd04ikntbOGM9vGG2/a9txjj3bD6+zTrrzdXu3mu92mbdN2iC5xWeCCbbrAeJJeB35hGtQ4rY5svl6YtMdpTfpeLwxqUueiCztx9UntG0d8p/36jN+2L//oq+24k4/NTm7p6qXt5NNPaL/888/biu2XtNNWnNm2WnHJdrNdbt5WTNLSAtIuzArtjcn7OeecM+Js+fLzqvLC5GFEcJaX87iYBeD/RXLvnjC8dkxzxrLT29Grj2/HnnpiO/WE02JqZ9C9Oj3XmmWr29IzV7ejjz62nXDFk9rfTz+yhu1rx0+Lk7yv9MVhmLsUY1m9enU7/vjj29vf/vZ25plntu23377d4x73aFtsscXchS+C3BkG1Sujt3LpHml9+jh/k8r3aeDnKj+ObyHf56MTRrZ0ydI2nBN8nxPGk6Pu6M6Wnp1jq3NH4fFtprdkeTtndcCFjGZ/Lbo9+efxOskHnsfdeXDnpV1Yb+Q0Tvv3v//dXvrSl7bjjjuuXe1qV2u3vvWt06AuSl4myThjHQoztfLbA2sRHnnjFVdwlVflwfVP756rzLqKa8yD/1KotI2HjdouW+zUttpy87bx1svDTta05auXtxWxRLAiDGn58iVtu+23bpufvVm7/HaXC6Nbu9p97pRvavZm08nUCBYBOJKz0/N/w+r8DA/FGE4//fT28Y9/vP3xj38ceaXrXOc67Va3ulUa1GyyE5BizzjjjPbpT3+6/fa3v01Q6de61rXabW9729mKrpP0kYID24CXcCqbDlu1/Xa9ZVvyt1ge2Huj9p1v/qCdcOLx7cw1Z7ctY1B+2d12bfvuuU/be8d921W33is8WhjdWjkK30KZW2y5hdIZh2dMZdj/KR7wNMOgJFzsYhdrRx55ZHvBC14wYnCvvfZq++67b9t8882BzAiEqEqQcdhhh2XZ3/zmN5m+2Wabtbe+9a1pjJNaUJUvpD2uSqt4kqKUL0WC45mCIytQMQBf0y670Z5t293u1vbbcb9230sf1w7966HtpNNOaTttu1Pba9fd2tZbbtF22mS3tsnqkG1ZGKJ/gbNCz1+9F4+T+KlyfVzlpHnvv2eD69Nne+/1CWeFeh/nr9Jno1/lJ8XjuCbBSJthUDyU2cLd7na39opXvKKdcMIJaQi/+93v2mc/+9l2r3vda9Sl9AgxqCwBv/vd77bf//73IyPbZ599mmecIfDKlVJKSLFHAKNcPeM0fRf8efh5SguT54aNh+Vt54vt2HbcaId25c2XtRvtcYO2JhY7lywNb5SmtyRmdtQQM6YqFF9Fu8ePRn2LfRf/a8mNeK/vigve0KHKFA0w3qWDEwq+YmlgbEKLPZVXste3uA/9t/cerspWXHlVvtLre754hkFh1lhn9913bw984APby172slFlvuMd72h3vOMdz+eliiBlnHXWWe29731vCovwJpts0m55y1vmLARcMSsWpOkizVhssOpu5fFql7jEJdrFL37xfPqyWTD+FA6KFfANzvPvE09sx8dg9bTTzm5Llq9pO++yY9t0s83bRrGivia2adYEzNLo9oZlK8IpGTedhZlAeq5FwSHAbfBr4/fkk0/OceSKFSvaVlttlfyRb5pQ+PCIb7LCB7dZmnwzNDLrBcrgSiZlNHRxjWXRLbz4BCv2KF84wJWuahO7HIX6Lrp0XfjQEOAAo3zlZcYcf2YYlIKQKPzoRz+6ffCDH8zuTzov9f3vf7/d9KY3TZieiHfhm9/8ZvvRj340InepS10qDUolCL2QZ599dvv5z3/ePvGJT2Q5XeWJYQjCTjvt1K5whSu0G93oRs3e2OUud7mRYPJLuGOOOabZmGWQO+64Y7vd7W6XON8WXewPDjmkHXXUMW3zLS/eXvKSF7f973NAO+O0M9p73vfedsxxx8fM7+z28Ec9qm2x+ZYxWI/Kig6SGLwbeY499tj2la98JT0zPg0DNBjGvns0uOtf//rZwMR9KN76tNKP+Dvf+U6OMXnyP//5z2msjGWXXXZpV73qVRMnOTQ0+md422yzTdt///1zOALHq1/96vavf/0rYdCjhze96U1pjPR2m9vcpm200UbJAnhG++Uvf7l95jOfyfo5/PDDs6wGseuuu7a999476d785jfPfUljYPVz2ctett3pTneacTSnl2viexAchbDuoZ6w0uFJT3rSEBY6hCEMYRT5HQIO0RoG+QUrDu8y3OIWt0hY8J6nPvWpQ1TCCE6ZYDSfd73rXcMVr3jFxBuMxTh6ST7elRXHeG6IsdvwpS99aQgFZ7me7i9+8YshjC3hY+A/hFKH3XbbbcQzPFEZw0c+8pHkOabYQ1Ra0iHXX/7yl0wvBZCDbP/4xz+G+9///sPWW289Q56eT/zuueeeQ4wPh6c//ekjnFHZiQ4uQUzm8A7DS17ykiGMcQgDGslacovxtN122w0PeMADhp/+9KdDVHbChZEM0WhS53Btu+22I76qfkrnMSwZwvMlLF1Fwxge/vCHD9HgEj86YMfp7rzzzsOBBx44RAMfwlMmzJ3vfOfUe8mSAs3zR2schSooxsz3vve9IVrOiIFrXvOaQ7Sq8xkU2PBOQ7jrVBaFqci//vWvMwwPHAOLFjBE60ihwG688cbDHnvsMcAfayrDDjvskGklPMX++te/Trp4K/4YVLSi5E+sLAXDffnLX3649rWvPUTrG8CpiDIohgEOf4WPErxrGPe85z0zvyopuoNh5cqVie/qV7968sfY5TPg8AgpC5yvetWrUp+Fl8waw+tf//ohvNsIr/IMFs8aA/zS6AOe8Aype7zGpCgNqhoj4yj6eCgdhlca7nOf+wzh6VMWRvzYxz42G20ZEccQPUDqmr4ZknJo0neMny88g1IBGMQEggi/853vHFl/VSyFPeEJT0g4TIH1rbWXYmnZd7j6bIUEjLHIcN/73nf46le/mgqT71HRsQqcikYbbHQtw9FHHz2D9i9/+cs0KPQYEcO8xjWukQYb456EJQP+VKz3q1zlKun94OwNCp/RNQzPec5zsoLkx0G5IZY7hk996lPZ0vGmQfztb38b3vzmNw8x2UiZq0LwMW5Q8B5yyCEjT0oeRsnA4thLGjoYvEUXO9z97nfPhgmXhz7LoMiAR94rlnbSIOXz9DFpGn74wx8Of/jDHxKG8X34wx8eeSb62W+//Yb3v//9w9///veRtz/qqKOGD33oQ8NNbnKTpEfuonuBPVQ2rbV/qnIRi1OIIy91gxvcIFsx4TzgYlaXrRczBNwtWu3PfvazUeWDo7QYDKaBYlhrfdrTnpaKrHwwPd5YehhiHJW0tcLXvOY1SQ9NsGVQaHpizDbEGG6EA4xQ+OcyKDAq6tKXvnQqlJHoKv75z3+Oyhee4vEnP/lJ8keeqogyqOIR7EMe8pBRZV3pSlcaDj744DRyvPU8KqO7fcQjHjHSN7kYFN3BBUYc64TZ9clnoLpvuDzy+yEImBgfDfTJ0Iq3gvcNX29UPCODYsALCTO6vL4gpjz6Yy4ZU5SmhWlJxRhm3vOe9wy6hYJ50IMeNIyPteDinYwh4Lnuda87HHbYYSMllWLxABZ+3iAGpiODphR4SxG9QcH5uMc9LiuqlF7yFLxxyCQPhZ4yr3zlK0dyGLtp7cVL8SeWVmXwZ0xDdoZVYyj5YGPwPPLIYD75yU+mXJVfPBZOMjN84yYyVZfHoEoOcRmUfN0mbyddgIux17CC5+Ylq86Kdg+P7uGHH54eDZ+exRjUjK2XYG4UQph8dz46uq+ctkoIxecaVTCQs61grkWXkFN++TEuyFX1fhoqPZhvhx56aMy8jvKZMxow0Y3ljMpMxXs9ZllmbzGeylmf8tF6EzYRdH9Ch3mOO4w0+QxlJG/SPYI0ob7zY+0feaeddlqLsVbKEeOTFq21maUKpYu+rDLSzfLM+mYL3/rWt3K/Tb7ZlB2Hwlc8yav3MMpcPrBsM1co+Cpb38WjWV109YnCck+Ml/K94MT1XnTIa0+wcFT6QuIZywbjBUtw09hwq+3HP/5xgog917ve9dqf/vSn9vWvfz2Zw2B4gEyvssUcg4hWlFNYad/+9rdzrcu7cgU3zoMpLyMDo9Kj9eZUt1eGd5cDLB14r2ccl+++XOXj7dRTTx0Ze7TolENcfPXl+ncGH7O9kW7g7GVipIXDkgtjre+iL+551khjQpFT/1qb62HrvfAUvcIjruUbeNVf5fW8Z2L8qbrybZvs3e9+d653Vf5C4jkNqhCF68x1qZjO5vqE9aLPf/7zKXSMGUbrR+BjEN9i6ltFRzGhLahVsK5V+32lmMrr414BFM2oJgWLgp5euZPgJtFCg8e15iOodIYi9PQzYeyPyogx4/mMpOjEGGxUouDmw6mstScLqAxqPvgRge6FN4cnxp4tZtBz4gCHhoZFbvVtEXQxYSqDQuyGN7xhus2YSaRRceW8jMW3CitXrmx3uctdZjCvbM+wd8/97ne/7AKqbMXjyit4+VaRKafw9WViEJ2GoILHcRSceFJepRVe3ypi2qAiKhQuMXwaQQU4K7/SJsW9x5iUPykNrT4YmqAFV48PXP+tTPE6Dtvjm/Z9aq3xOlZSY/aWrZl3ee5zn5utGkOUFQuZuVUyiTgYYyZMqwAbzg972MNGCpZfoZQj9lRevdd3wcMnrxRVcJU/X6x8TDZG9+lUBi9choLeOM3CCSaWEeoz+fAhXRktXown3bV074Lx0qQABn3PYoNDd+jCZSwqzCUDOPozxuUVFxtmHZT3CBHjARxBsS0i6B5i4TPfKSjWQnKbJBPG/hCE8mIRLXN8/+pXv8rx1BjojM8yDPTrfTalzJY+A+EsHxTJzVdXTaG6ZHTnCniyBWILZTzgxxPLBMk7WF5dPF9QTk9Qg+r54CflG8viP2Z2OcYtGLgn8VDpxl69V61y08ZTGRRkWi3l6PpUAKaKMcaiq9Pny8NcHwgmLdZ4RuMcHi4W2Hqw873DZdwFtlz4+YDWQQI5eE/7YDytiYA9Nx4C3+Py9CR/8IMftJhuj5LgKnjvZp51kzgWcEfGVzCjgt0LQ4oF5C5l+lc0PbENll6XDt/3vvfl7Fi6MIk2ODPrC3pRdSqDomQDVa34kY98ZCoIUx6MMBTT7NlceMHGdkjC+naAz/jL4I+gjM7Tv/MUFBsrvHl0JhYeZ3iNUtD06p68bKA8GR0ktOyBv4MPPrjFmlEalxZb/IkZtzQyxIp5Gn3JTh+CGJ6VMa6MxeD8ZihPfvKTc9YKDxz9A6/uyVAitpoSz7R/0BIqNlszrBB0Y7GPmBvRvSze6dDD08aCasIWjiy8wD9TGVSP0474He5wh0zCCOKxmj1inqImBbDWOXSblM2QYvthVCElWMWWCuTXuSznsVSg/AsS5lKWqbpxIhqOljzvec9rb3nLW7IipJGtYl2SMaMTFmVEPV/FJ3rGimZtghMMz372s/MgYg/vXcW//OUvb294wxsyS9m5+J0rT+M/4IADRuNWDdMpBV4Ibx7lGZXza894xjPyNELJUvyP8zjf99SD8kJk8MpLqeDqEmIzdeTWC25SzAs8+MEPzrL6aq3ioIMOarHnlAtqWpRKM/C3tqWr0/0IsfufhkwJpYxJNBaTVjgdTYm9vBy/MF6D7ThJ0D760Y/mgiRPrCHgzYN/M8/LXOYyue6jMsYrAm4eyq0UR0wsT8TOQh5E5HktdtIp78vYVC5PRhcqvxaCJ8k1TquHQTdWuluc1Ei86urFL35xHp2xHhZ7nulpNQizdd02Dymd7ItdNqCABYWw6NzNtisdChziAF3uG4UhzIsHjPI2J50CiG40l/hD+BlxKCa/4bfnZ/fftony/RPnlHLTVXnbQzGQHm2LjPPju9/Liy4q97/wU7Bi2xMxLhrsuUUDSBkr7vks3myCP/GJT0x+wdnLg7MPvmNRdwjPnhvYaCtfT4/X1patlK997Wu5JyrP5u+4/LGgPNryqb08dEoeMVliATqP7MDb0/NedL3bnrnZzW42xAHJPG0grzaH4Zo2LAsPcVBv2ZPeA9mMZOMF1hz7RelGHdISgokZcJM+4OIJVq1alV2FVmjGGJU5AoffrDIU22JjNccdBvwV0IFHKzIbg0+LNo6zYh4KStBxfngHPIO/5CUv2XrP2sOacmupPIWutxZTC6/xpFkt3h4Vh/RsG1kS0KXf+MY3Tl4KtnTnZCSZeWmwutSSGW0yW+l3oM14x3KDVXZjOgcMHTSkEwFOK/tkiX3EnEwYhJNL6GWBRzdOdnzSWdEFyzvuHltH9773vfNaljweig7onxfFc49TudlCXEUbs5bZINemI6iI7iBOIrTHP/7xSWwaosopjzkxpUTLza7NILRW0hnola985dzSWBmDWkJXULaEqwo3NaZsyi2l93DKoqcR6ELA44UBwF2wxR9jAG+AbGtJFxwbxVnOjI2ibUUVb7oTvDMKBsCoi8eiXfzj2TIDeXVzKpjuNAhTfRMXK/541KWGd8h8Sy7wC/iUX6vhZGA4fR2QtTdqjcJeKrqxqZ6NhSzGxGa3Tmf6NhFieOia+dY6WuEqOWaLpzIoAgi9kmZDeFGlq3B8Edw7gT1lHBVfVPxcFHSqHiq2lsdQeExerJYn/pP1NNUsrwSo+KJQ3jQ0tELXveyQm3HxFHj8Typ0Gr7XBQw5TQx0ZyY6uub/hvqZapangjBb7ve/ocKKJ7Mia0a8k27gv4G3dWEw8+EgJ89s2FBjvP8G2afyUITDvDM2+mGeobqc2QSXb1wRpzJz4Ero+VrQeP74d0+L8qqLA1ff0ir05fv3yr8gMXzjzzT4+jLTwhccGXs5yVr4Kk+8LgK8iwnnaX+O0pAzEANoq6niuQiCFcwsXL2y5SDMVUb+uDLGv8FUGMfVf5dyC7biHqbSFhsXjT4u/BUX7v674Cuv4h5GWv9d7xVXGbiE2XAW3ELiolG4F1IW7FQGBRABxCxIMipTy9lCMVNxle+/pRXzYk8ZYuEd/670Pi4chXscFxzjMJPK93B9fr0X3klxla28KtPHldfHfT7+x/N8CyWbuGj1Zed6H8c5F2zlVZn6Xkg81RiqXGshNmZ50YtelCuvpuoYIGwJDq7/rnzp48z6piRrUX4PwVTZSUnnnkxlS4Hj+OCqqbE8eCqtptfKVp7YGLDyfFcAVyvydUpTfsEUj+CL/75rrfTCZ23N+phYsGa1e6z1mNYL6Ak9ft8lg3SygTcutB4VN3RyScIpWenj9PvyxaM0MhdsH5dewVjGMJShA3xaurD80uugyoKfMwTxqUIImLdOYmqaB/nFsSc141JAMDljJTtmHnkrxJ25WN9IOgUTguZKboyz8nKAS5OhqNEVnhBoiM3avOQZ46/RwX7l4Igbw3n3zwpvGEle8XItyyXF8J556SC2bvIOnTuCVrSVrfIlNFxRablC7CoSOSfBxM3hvNgZ60x5Dy8MfwQLnnxulbix4n4inqIS8ol9tVzJd4Mo1p2SnjIV8BDDg9xBiPPfKZdVaqvcbhnZUaAbelS+ysY+p1aU6S589LoN48jrZO4nukSx//77z7iGhh49xYJpXheDH79ooenWUumi6BW/c8VaxVShN6g4QD+sWrUqK++1r33toMKLqLgEm2RQiMmHD9MuSVI+w3CFyV03Ww+UIN1NWnfl3L4pAZWP/bU07FjUG217wOGxLYEPhnLAAQckHpcbY+w34rOEBhfLDXkVyaXI8JQJUzIUr7Fhm8qO1eghNnCzISnricXKvO/mRg2eVQpZbC+5TBmrznlbKBYKB7pz7ayXBQ14XKGKSwxZse4X0o0ytoFsr7jN3JcbNygywQPGzaRYLM2Gdte73nV0F49O5DOmWNVPQ9UA3KjGqwZJBjTVT8lY+povXrBBEfCggw4aYg0kGdZi3/a2t408CMunIGGSQZXyXJaMM1SpaJX9whe+cIgBfCo7Fuzy4iJFaDk8DBolnNglTZcdGbaWxQhd53JNifEVneie0zjBHBhXrZWVVw/luhaPjtYcrj8NUb48cayuZ0umaJXUKxqMC5WxopwV4fqTK/EuXTIcXjLOGA1x5DmNg7HFNkcaT8lTvDAoe6PR1aTXiDPoQ6yzDfYs6aSudYEXyqBcx3ejGz78xHn/9KZoaVD2TqUXPe/vjAu77lvynhosmWIVfdBw0OXt4xzVSF9JcIo/CzYoDDAolu43A3RN0e/m7V9pnhJYtxAH8tIl910ewdwM5k14GN6GIZbQYg/3riJUNo/l0mXBgOcZYhc/3b6NTfnS4K9KinFMbnIyKF5D1yUfn2IeiTHK97ibV3IULY3HlW35Ln/qTipPJfNMeIztouymKh8P4Dxk8VsPuig6e+Mb35j0CxYv+GdQ6DAGHpP3LFrwlWy9QekKeWV8x8HA1Dd+4rZLGlOVU0Z5uoszV0lDD4CudI/G6FazS6+lS+nThqlneTUQq4Ga2Lkov/Noo9N5GouMfQgmRp/gKwSDeVUnBMvLCv35qoJR1sAwrqrnRqUNVetg8MgLhWUMvtLG0+XZF3MGyzETJ0SdSAwFjwbEsaufM1b7YR4/jmaCEJWqeA6KHSsxWbD5Gi1+tP8HD54Oj6MfeLWvaT9O2SpfsfNJdOTnjcjtYJ6YHGBKhortCfoVldpOwUuvT999UM6vxDjAF7eIWzSwFjetcy+uh/MO1vks8uKhTsTKQ++hD33oSA6wCwkLNihCIUIJlGHZP27s5izBzjthKJrRCMWQcvWY/RA+WmHe4TPLiEFlzjZsxvbfaNgYhcehNrirkqQVTrSk11N0xatWrcqTouEN8nyQBVflwmvk2Szpjuo6YaBROJ9VwW9DuciKrguTNoYFeG2k1n6aDW1bQOj3tL0XvzZbGR3jQ4ecAl4EsPXudIVN2+hmRzjHZctC8Ue6maCfYIquK49jaxg2v4t2xcp49yNwZtJW2p35Aq9hkLMetBcaplo2KKSEJXQpDGFWzqJNa10QjLNB7XWve93o0mWVrVhZO/68GsGspMNRiiwaBY+GPTqBlwr3n+WULT4KtuLxdEdV/CofZTNKRutgm9jhMsHtaEbuifHa6Iz8F77whTxp4ASB1l9KRkPrtuOPR0sDllCk++558F7fDumB4y1N1RlN5RX/dMBD1cXVSu/j0pc0PDzmMY9Jvfrpymc+85lZtuALf5XxjV+9y/7xu1Mu7fJSTou6Cc1JMDhy0HOVK3xzxQv2UD2yIkZBTjo6k60LwJhuQ+iZIQgmtWzvHl6qf7Te/lurdtNm5cqV2eX0+HpeZntHA59+ztEZH8qvlXunFXlGRzicYtQdufli0TYG83nEw9kkPLtC7oZwT997jFsyTZeGlrQyukk8ySOjUHrocUqHh9z4niY4YuIsmIbJU9k01vAmhaKFj/3irJOFagZEbt2606S62mc961l59JnsVWYSvvG0BXkogo4HaR6VpWVj7p1xfplXiJ+myTz5mPJ41/rEKkGZ6kYqX55QZcRCGVt+TPGn6KoY3aYVfoYfk4n0qro2MLwTI3YmycKhI788k/1HXkT3o7tTYb2x6I4dnIOfh1aJ8lVCD1f8Y1kXw9PK1xDBlrwlEnj54+mVPymOH4fL8aIz8AcddFCOhei/xmhVpnDiGR16cW6/GpHu3U0eDclQgL7UE9gqW7gmxdM1gUkl16b1RHaPVVYr6MYTz3/+8/P6DkY8QjHF42gRWqh+m4EZJFKwdO/9I92j8hYa8FePU4nGFVaxGZEukBFp3WAozoUCyubFKBXPBtrGWELJ4J0XcZ5cpcFpXNTnF7y0enhw3pvMPONcodftfHAG04YPrrMZIz7lKU/JSwcM1lOhcOJHEGtMusCYwbaYfeZkiw78hCJD60OV69P693VmUBjFuOs7WojWfOCBB+aYBHNCCcYwVJBvB/djejqq9J5h70fERrTfT9BVGeijU0qBs4f3PVsAx5D9cIT3WGNJfDyPmWDh0W0bP/A4toLQ0hXWxKDg0FER5FBeJRrYaiQCuIKtd43HuMW3c0waTy9LFlzkH7rkSc0kjQ95QYNt4yM0ipeix5saTxoHFn+84soYWqxatSrrz4QklhSSo4Kp8rOxeYEMqhgVMxoMiY03XBXSgvuxVBkW5vy2Aa9jEKw1UTYhi3GCmgXFgmcqhhdRyZVfMdrzCVnCMwAzMYNdQbfs4irjL97EZquxRpYwjFCrl15PZsQfPBjE1q+bfOADH8ipOuPvZWFkTl34iR4TEmMxnrC6teIfvoUE8CW/mBxwa4D244wPHTx0fJnB4UmjdLTZwB3fGoFuWIDPzFc3D5YOqlcoOvPxN9UYai5BSxkIUThYivIrLJhzabFCz5SKdEmAi42V6uwuVI5KJowZWPxIVp67ZgjxI2bpJeAqfsRF33s9lVZ0xdIolQd1/06lOxeu2+n58s5LSdeC/eJMrByPUI3j1tXwCpZCPve5z2U3abDPS+heNQznuF1D10B0dSoZ7eJLXN6XDPRY/Hrvg/w+9LyX/Hg303aJgiG79uaunyGJwMD9jACvqhdxxtw4lkGS2fhRHTjXbxYK77jcPQ8z3gN43hAVkauw9u3C6+Qqayhg1nLgg6Fc5Y11l1xJtt8nvYJ8K+kxiM8V2zDCjGMcM1pBDyFy28WvwilvJVg5tMX9SnnM0nLFt/D3tKQpU+VslURFjX4vVD54Dxqh8CEUnT8ka9tFucofx4sPq91Wm+3T4R/uaASpqzC4XBmXFgY2xLgk8SvXB99W8a2Uk9svKo/D9Dzgqd96iQaYvJec5CBndNW5JWTVnCxh4PngIxpK8hqGlDrHu3e8Wn2PceFI3+Ny97z371Ndo2KBwWi2MIM0Ldw4Q5hkuZXGZbJyay41ra28YDoHwaaoWjOvJugmDcgdupdnCULMSylb5cUhZLpvM0w4PAUHV8F67wMvyPvxFFa/Cy4Uk2B4qe7jRnErWjqYgqsYsHfw8BgX4QFfyhvkG9do/Ty2rojuSlY6qIAGHRu3+M1yeHjKHqZg4Rd0XfRlQRafJQue4NP91YTGOA8vvBT6JhOufIHzra7AqC/DEavsJldFH85e7uJlPJ7q1gsBECYsN6lfxRxisxEBL4+SDOyMW8yG+gBGgD9aY3YbpqrKWUis/rvo9LSULRrKFy2wBd/T8l70xIfHmE1XVrDK9/nGFXjChyC/p5+JY3/Ag8GPQbFlB9+6OV2j9zImRXt69T5OA3/jAawHbMUFU2mlk0n5PYxyumvDE0Fjtk0Fpp7MmPLP1AZV+DBaQk5DEDyhhKq8wiW9HmnwVfCuglRApVcMpnCKK71/r7TCV3SkV1l5vgu20jWCSiv43hAK53hMVkGZXk+VLm8SnqJbMTjv8JSupVXo4fo08MWvdHT7tHqvMpVfsXQwFfr3SpsvnsqgxgUoYaclWAwrtxgFEaJolkDjPFU6nsZhK69i+T1ML8c43oLrYQrPeNyXrXIFU3m9/JXWw4zTGf8u2PG4pzeOt2B7XOMw9d3D9O+FY754KoOaD8mG/A0aKA2cv4OunA3xBg0sQgMbDGoRSttQZHYNbDCo2XWzIWcRGthgUItQ2oYis2tgg0HNrpsNOYvQwP8BmqQOPxJ7+Z4AAAAASUVORK5CYII="},751:function(e,t,a){"use strict";a.r(t);a(481),a(490);var n=a(0),r=a.n(n),i=a(38),l=a(432),s=a.n(l),o=(a(685),a(8)),c=a(9),m=a(14),u=a(12),d=a(13),p=a(16),f=a(433),h=a(447),g=a(182),E=a(52),b=a(89),v=a(33),_=a(26),y=(a(430),a(459)),C=a(190),N=a(5),S=a(15),O=a(28),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getExtractedMembers=function(e){return e.trim().length>0?a.props.members.filter(function(e){return e.memberId}).filter(function(t){return t.memberId.includes(e)}):[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"mini-ticket-modals"},this.getExtractedMembers(this.props.searchText).map(function(t){return n.createElement(n.Fragment,null,e.renderMemberShortDetail(t),n.createElement("div",{className:"line-border"}))}))}},{key:"renderMemberShortDetail",value:function(e){var t=this,a=e.firstName+" "+S.a.getIntials(e.middleName)+" "+e.lastName;return n.createElement("div",{className:"small-section mini-ticket-modal",onClick:function(){return t.props.onSelectMember(e.memberId)}},n.createElement("div",{className:"text"}),n.createElement("div",{className:"text"},n.createElement("div",{className:"circle",style:{backgroundColor:"#3AB77D"}}),n.createElement("div",{style:{display:"inline-block"}},n.createElement("div",{className:"header-2"},e.memberId))),n.createElement("div",{className:"text"},a),n.createElement("div",{className:"text"},e.clientName),n.createElement("div",{className:"text"},"---"))}}]),t}(n.Component),T=a(17),I=a(39),k=a(45),R=a(325),D=a(112),w=a(144);a(74);function P(e){var t=e.inputRef,a=e.onChange,n=e.mask,i=Object(k.a)(e,["inputRef","onChange","mask"]);return r.a.createElement(D.a,Object.assign({},i,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},format:n,isNumericString:!0}))}var x=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"detailed-input-field"},r.a.createElement("div",{className:"text"},this.props.placeholder),r.a.createElement("div",{className:"input-field"},r.a.createElement(w.a,{style:{width:"auto"},className:"actual-dropdown",classNamePrefix:"actual-dropdown",value:this.props.type,options:this.props.choices,onChange:function(t){e.props.onChangeType(t)}}),this.props.mask?r.a.createElement(R.a,{style:{width:"100%"},value:this.props.value?this.props.value.replace(/-/g,""):"",onChange:function(t){e.props.onChangeValue(t.target.value,t)},id:"formatted-text-mask-input",inputComponent:P,inputProps:{mask:this.props.mask,className:"text-field right"}}):r.a.createElement("input",{className:"text-field right",value:this.props.value,onChange:function(t){e.props.onChangeValue(t.target.value,t)}})))}}]),t}(r.a.Component),j=a(457),F=a(343),L=a(32);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getBenefitsLimit=function(){var e=[];return a.props.benefits.forEach(function(t){var a=-1;e.forEach(function(e,n){t.limitType&&e.limitType===t.limitType&&(a=n)}),a>-1?e[a].limit+=t.limit:e.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t))}),e.filter(function(e){return e.limitType})},a.state={memberType:"---",memberPlanType:"---",roomAndBoard:[],loadingBenefits:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.member,a=t.contract;T.a.get("members/".concat(this.props.member.id),function(t){e.props.member.memberType=t.member_type,e.setState({memberType:t.member_type,memberPlanType:t.plan_type})}),a&&T.a.get("members/".concat(t.id,"/contracts/").concat(a.id,"/benefits"),function(t){e.setState({loadingBenefits:!1});var a=null,n=null,r=t.filter(function(t){return"room and board"===t.name.toLowerCase()&&(a=t),3===t.level&&"PlanType"===t.type&&(n=t),1===t.level&&"base mother contract"===t.name.toLowerCase()&&e.setState({effectivityDate:new Date(t.custom_metadata.coverage_start_date),renewalDate:new Date(t.custom_metadata.renewal_date),extensionDate:new Date(t.custom_metadata.extension_date)}),4===t.level}),i=t.filter(function(e){var t=e.tree_id,r=a.tree_id;return n&&(t=e.tree_id.replace("BASE",n.code),r=a.tree_id.replace("BASE",n.code)),5===e.level&&t.startsWith(r)});e.setState({roomAndBoard:i.map(function(e){return{name:e.name,custom_metadata:e.custom_metadata,limits:e.limits}})}),e.setState({roomAndBoardPlan:r.find(function(e){return"room and board"===e.name.toLowerCase()})})})}},{key:"render",value:function(){var e=this,t=this.props.member,a=S.a.toNameFormat(t.firstName,t.middleName,t.lastName),r=t.client?t.client.registeredName:"---",i=S.a.toShortDateString(new Date(t.birthDate)),l=S.a.getAge(new Date(t.birthDate)),s=t.contract?"".concat(t.contract.status," Contract"):"No Contract Found",o=this.state.roomAndBoard,c=this.state.roomAndBoardPlan,m=c?c.limits.find(function(e){return"MBL"===e.type}):void 0,u=c?c.limits.find(function(e){return"PEC"===e.type}):void 0;return n.createElement("div",{className:"section"},n.createElement("div",{className:t.isVip?"tag":""},t.isVip?n.createElement("div",{className:"tag-label"},"VIP"):null,n.createElement("div",{className:"circle",style:{backgroundColor:"#3AB77D"}}),n.createElement("div",{style:{display:"inline-block"}},n.createElement("div",{className:"header-2"},t.memberId)),n.createElement("div",{className:"text"},a),n.createElement("div",{className:"text"},r),n.createElement("div",{className:"text"},"---"),n.createElement("div",{className:"text"},s)),n.createElement(_.a,{container:!0},this.props.loadingBenefits?n.createElement(_.a,{item:!0,className:"sub-section",xs:12},n.createElement(I.a,{height:"2rem"})):this.getBenefitsLimit().map(function(t){return e.renderInfoItem("".concat(t.limitType.toUpperCase()," LIMIT"),"".concat(S.a.formatNumber(t.limit)," ").concat(t.limitUnit))})),n.createElement(_.a,{container:!0},this.state.loadingBenefits?n.createElement(_.a,{item:!0,className:"sub-section",xs:12},n.createElement(I.a,{height:"2rem"})):n.createElement(n.Fragment,null,this.renderInfoItem("R&B",o.length>0?o[o.length-1].name:"---"),this.renderInfoItem("EFFECTIVITY DATE",this.state.effectivityDate?S.a.toShortDateString(this.state.effectivityDate):"---"),this.renderInfoItem("RENEWAL DATE",this.state.renewalDate?S.a.toShortDateString(this.state.renewalDate):"---"),this.renderInfoItem("EXTENSION DATE",this.state.extensionDate?S.a.toShortDateString(this.state.extensionDate):"---"),this.renderInfoItem("MBL",c&&m&&"number"===typeof m.limit?"".concat(m.limit_unit," ").concat(S.a.formatNumber(m.limit,!0)):"---"),this.renderInfoItem("PEC LIMIT",c&&u&&"number"===typeof u.limit?"".concat(u.limit_unit," ").concat(S.a.formatNumber(u.limit,!0)):"---")),this.renderInfoItem("BIRTHDATE (AGE)","".concat(i," (").concat(l,")")),this.renderInfoItem("GENDER / STATUS","".concat(t.gender," / ").concat(t.civilStatus)),this.renderInfoItem("MEMBER TYPE",this.state.memberType&&""!==this.state.memberType?this.state.memberType:"---"),this.renderInfoItem("MEMBER PLAN TYPE",this.state.memberPlanType)),n.createElement("div",{className:"sub-section"},this.props.loadingRecentTickets?n.createElement(I.a,{height:"2rem"}):this.props.recentTickets?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2"},"RECENT TICKETS"),n.createElement(L.a,{paginationClass:"custom-pagination-small",className:"custom-table-small",labelRowsPerPage:"Rows:",rows:this.props.recentTickets,rowsPerPageOptions:[5,10,25],renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}})):null))}},{key:"renderTableHeader",value:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{minWidth:"70px",fontSize:"10px"}},"Ticket ID"),n.createElement(j.a,{style:{fontSize:"10px"}},"Status"),n.createElement(j.a,{style:{fontSize:"10px"}},"Created"),n.createElement(j.a,{style:{fontSize:"10px"}},"Updated"))}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a,fontSize:"10px"}},n.createElement(j.a,null,e.ticketNo),n.createElement(j.a,null,e.status),n.createElement(j.a,null,S.a.toShortDateString(e.dateCreated)),n.createElement(j.a,null,S.a.toShortDateString(e.dateUpdated)))}},{key:"renderInfoItem",value:function(e,t){return n.createElement(_.a,{item:!0,className:"sub-section",xs:6},n.createElement("div",{className:"light-text"},e),n.createElement("div",{className:"small-text"},t))}}]),t}(n.Component),B=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.client,a=t.contract;this.props.linkedTickets||this.props.disableLinkedTickets||this.props.getLinkedTicketsData(t.corporateAccountNo);var r=t.mainOfficeAddress,i=r?"".concat(r.barangay,", ").concat(r.city,", ").concat(r.region):"",l=a&&a.startDate?S.a.toShortDateString(a.startDate):"---",s=a&&a.endDate?S.a.toShortDateString(a.endDate):"---";return n.createElement("div",{className:"section"},n.createElement("div",{className:"circle",style:{backgroundColor:"#3AB77D"}}),n.createElement("div",{style:{display:"inline-block"}},n.createElement("div",{className:"header-2"},t.corporateAccountNo)),n.createElement("div",{className:"text"},t.registeredName),n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,className:"sub-section-2",xs:12},n.createElement("div",{className:"light-text"},"CARD NAME"),n.createElement("div",{className:"small-text"},t.cardName)),n.createElement(_.a,{item:!0,className:"sub-section-2",xs:6},n.createElement("div",{className:"light-text"},"EFFECTIVITY DATE"),n.createElement("div",{className:"small-text"},l)),n.createElement(_.a,{item:!0,className:"sub-section-2",xs:6},n.createElement("div",{className:"light-text"},"RENEWAL DATE"),n.createElement("div",{className:"small-text"},"---*")),n.createElement(_.a,{item:!0,className:"sub-section-2",xs:6},n.createElement("div",{className:"light-text"},"EXPIRY DATE"),n.createElement("div",{className:"small-text"},s)),n.createElement(_.a,{item:!0,className:"sub-section-2",xs:6},n.createElement("div",{className:"light-text"},"EXTENSION DATE"),n.createElement("div",{className:"small-text"},"---*")),n.createElement(_.a,{item:!0,className:"sub-section-2",xs:12},n.createElement("div",{className:"light-text"},"SALES CHANNEL"),n.createElement("div",{className:"small-text"},t.salesChannel?t.salesChannel.name:"---")),n.createElement(_.a,{item:!0,className:"sub-section-2",xs:12},n.createElement("div",{className:"light-text"},"LOCATION"),n.createElement("div",{className:"small-text"},i)),n.createElement(_.a,{item:!0,className:"sub-section-2",xs:12},n.createElement("div",{className:"light-text"},"CONTACT PERSON AND NO."),n.createElement("div",{className:"small-text"},t.mainOfficeAddress&&t.mainOfficeAddress.contactPersons.length>0?"".concat(t.mainOfficeAddress.contactPersons[0].name," / ").concat(t.mainOfficeAddress.contactPersons[0].contactNo):"---"))),n.createElement("div",{className:"sub-section-2"},this.props.loadingRecentTickets?n.createElement(I.a,{height:"2rem"}):this.props.recentTickets?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2"},"RECENT TICKETS"),n.createElement(L.a,{paginationClass:"custom-pagination-small",className:"custom-table-small",labelRowsPerPage:"Rows:",rows:this.props.recentTickets,rowsPerPageOptions:[5,10,25],renderHeader:function(){return e.renderRecentTicketHeader()},renderRow:function(t,a){return e.renderRecentTicketRow(t,a)}})):null))}},{key:"renderRecentTicketHeader",value:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{minWidth:"70px",fontSize:"10px"}},"Ticket ID"),n.createElement(j.a,{style:{fontSize:"10px"}},"Status"),n.createElement(j.a,{style:{fontSize:"10px"}},"Created"),n.createElement(j.a,{style:{fontSize:"10px"}},"Updated"))}},{key:"renderRecentTicketRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a,fontSize:"10px"}},n.createElement(j.a,null,e.ticketNo),n.createElement(j.a,null,e.status),n.createElement(j.a,null,S.a.toShortDateString(e.dateCreated)),n.createElement(j.a,null,S.a.toShortDateString(e.dateUpdated)))}},{key:"renderLinkedTicketsHeader",value:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{minWidth:"70px",fontSize:"10px"}},"Ticket ID"),n.createElement(j.a,{style:{fontSize:"10px"}},"Status"),n.createElement(j.a,{style:{fontSize:"10px"}},"Created"),n.createElement(j.a,{style:{fontSize:"10px"}},"Updated"))}},{key:"renderLinkedTicketsRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a,fontSize:"10px"}},n.createElement(j.a,null,e.ticketNo),n.createElement(j.a,null,e.status),n.createElement(j.a,null,S.a.toShortDateString(e.dateCreated)),n.createElement(j.a,null,S.a.toShortDateString(e.dateUpdated)))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getExtractedClients=function(e){return e.trim().length>0?a.props.clients.filter(function(e){return e.clientId}).filter(function(t){return t.clientId.includes(e)}):[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"mini-ticket-modals"},this.getExtractedClients(this.props.searchText).map(function(t){return n.createElement(n.Fragment,null,e.renderMemberShortDetail(t),n.createElement("div",{className:"line-border"}))}))}},{key:"renderMemberShortDetail",value:function(e){var t=this;return n.createElement("div",{className:"small-section mini-ticket-modal",onClick:function(){return t.props.onSelectClient(e.clientId)}},n.createElement("div",{className:"text"}),n.createElement("div",{className:"text"},n.createElement("div",{className:"circle",style:{backgroundColor:"#3AB77D"}}),n.createElement("div",{style:{display:"inline-block"}},n.createElement("div",{className:"header-2"},e.clientId))),n.createElement("div",{className:"text"},e.clientName))}}]),t}(n.Component),V=a(30),G=a(460),q=a(341),W=a(53),Y=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement(G.a,{className:"custom-modal",open:this.props.isOpen,onClose:this.props.handleClose,closeAfterTransition:!0},n.createElement(q.a,{in:this.props.isOpen},n.createElement("div",{className:this.props.className||"modal"},this.props.handleClose?n.createElement("div",{style:{textAlign:"right"}},n.createElement(W.a,{icon:N.N,size:"1x",onClick:this.props.handleClose})):null,this.props.header?n.createElement("div",{className:"header"},this.props.header):null,this.props.content?n.createElement("div",{className:"content"},this.props.content):null,this.props.footer?n.createElement("div",{className:"bottom"},this.props.footer):null))))}}]),t}(n.Component),z=a(23),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getFilteredLogs=function(e){return""!==a.state.searchText?e.filter(function(e){return e.activityId.toLowerCase().includes(a.state.searchText.toLowerCase())||e.activity.toLowerCase().includes(a.state.searchText.toLowerCase())||e.user.toLowerCase().includes(a.state.searchText.toLowerCase())||S.a.toShortDateString(e.date).toLowerCase().includes(a.state.searchText.toLowerCase())||S.a.toTime(e.time).toLowerCase().includes(a.state.searchText.toLowerCase())}):e},a.state={searchText:"",isLoading:!0,logs:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={where:{"ticket_info._id":this.props.ticketId}};T.a.get("customer-care/tickets/history?filter=".concat(JSON.stringify(t)),function(t){e.setState({isLoading:!1,logs:t.history.map(function(e){return{activityId:e.activity_id,user:e.assignee_name,activity:e.action,date:new Date(e.date_created),time:new Date(e.date_created)}})})})}},{key:"render",value:function(){var e=this;return n.createElement(Y,{className:"large-modal",isOpen:this.props.isOpen,handleClose:this.props.onClose,header:"",content:n.createElement(n.Fragment,null,this.state.isLoading?n.createElement(I.a,null):n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:12},n.createElement(z.a,{innerPlaceholder:"Search log",value:this.state.searchText,onChange:function(t){e.setState({searchText:t})}})),n.createElement(_.a,{item:!0,xs:12},n.createElement(L.a,{canOverflow:!0,columns:[{name:"Activity ID",key:"activityId",filterType:"string",sortType:"string",style:{width:"100px"}},{name:"Activity",key:"activity",filterType:"string",sortType:"string"},{name:"User",key:"user",filterType:"string",sortType:"string",style:{width:"150px"}},{name:"Date",key:"date",filterType:"date",sortType:"date",style:{width:"125px"}},{name:"Time",key:"time",filterType:"string",sortType:"string",style:{width:"125px"}}],rows:this.getFilteredLogs(this.state.logs),rowsPerPageOptions:[5],renderRow:function(e,t){var a={backgroundColor:t%2===0?"#FFFFFF":"#F6F7FA"};return n.createElement(F.a,{style:a},n.createElement(j.a,null,e.activityId),n.createElement(j.a,null,e.activity),n.createElement(j.a,null,e.user),n.createElement(j.a,null,S.a.toShortDateString(e.date)),n.createElement(j.a,null,S.a.toTime(e.time)))}}))))})}}]),t}(n.Component);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).clients=void 0,a.members=void 0,a.benefits=void 0,a.idTypes=void 0,a.getMemberData=function(e){T.a.get("customer-care/members/".concat(e),function(n){console.log("get member:",n),a.props.onUpdateMemberStateChange&&a.props.onUpdateClientStateChange&&(a.props.onUpdateClientStateChange(void 0),a.props.onUpdateMemberStateChange(V.a.getMemberData(n)),t(),a.getRecentTicketsData(e,!0)),T.a.get("customer-care/members/".concat(n._id,"/contracts/").concat(n.latest_contract._id),function(e){localStorage.setItem("foradjudicationmember",JSON.stringify(e.member)),localStorage.setItem("foradjudicationbenefits",JSON.stringify(e.benefits))},function(e){console.log(e)}),a.setState({loadingMember:!1})},function(e){console.log(e)});var t=function(){a.setState({loadingBenefits:!0}),T.a.get("customer-care/members/".concat(e,"/benefits"),function(e){a.benefits=n(e.filter(function(e){return 6==e.level}),e.filter(function(e){return 7==e.level})).map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({category:e.parent_name,name:e.name},e.limits.length>0?{limitType:e.limits[0].type,limit:e.limits[0].limit,limitUnit:e.limits[0].limit_unit}:void 0)}),a.setState({loadingBenefits:!1})},function(e){console.log(e),a.setState({loadingBenefits:!1})})},n=function(e,t){return e.reduce(function(e,a){return a.children.map(function(n){var r=t.find(function(e){return n===e._id});if(r){var i=Object.assign({},r);i.parent_name=a.name,i.parent_code=a.code,i.disabled=!1,e.push(i)}}),e},new Array)}},a.getClientData=function(e){T.a.get("customer-care/clients/".concat(e),function(t){console.log("get client",t),a.props.onUpdateClientStateChange&&a.props.onUpdateMemberStateChange&&(a.props.onUpdateMemberStateChange(void 0),a.props.onUpdateClientStateChange(V.a.getClientData(t)),a.getRecentTicketsData(e,!1),a.getLinkedTicketsData(e),console.log("client Data: ",t),localStorage.setItem("clientData",JSON.stringify(t))),a.setState({loadingClient:!1})},function(e){console.log(e)})},a.getRecentTicketsData=function(e,t){a.state.loadingRecentTickets||a.setState({loadingRecentTickets:!0});var n={where:{$and:[t?{member_id:e}:{$or:[{member_id:e},{client_id:e}]},{ticket_id:{$ne:null}}]}};a.props.ticket&&n.where.$and.push({ticket_id:{$ne:a.props.ticket.ticketNo}}),T.a.get("customer-care/tickets?filter=".concat(JSON.stringify(n)),function(e){if(e){var n=[];e.map(function(e){n.unshift({ticketNo:e.ticket_id,specificType:"Not Applicable"!==e.ticket_category.specific_type?e.ticket_category.specific_type:e.ticket_category.ticket_type,status:e.status,dateCreated:new Date(e.date_created),dateUpdated:new Date(e.date_updated)})}),a.setState({loadingRecentTickets:!1}),t?a.setState({memberrecentTickets:n}):a.setState({clientrecentTickets:n})}},function(e){console.log(e),a.setState({loadingRecentTickets:!1})})},a.getLinkedTicketsData=function(e){a.state.loadingLinkedTickets||a.setState({loadingLinkedTickets:!0}),a.state.linkedTickets&&(a.state.linkedTickets.push({ticketNo:"999-999-9999*",specificType:"None*",status:"None*",dateCreated:new Date,dateUpdated:new Date}),a.setState({linkedTickets:a.state.linkedTickets}),console.log("linkedTickets",a.state.linkedTickets)),a.setState({loadingLinkedTickets:!1})},a.onSearchChanged=function(e,t){var n=e.value.replace(/-/g,""),r="Client ID"===e.type.label?function(e){var t=[];return t.push(e.slice(0,2)),t.push(e.slice(2,4)),t.push(e.slice(4,9)),t.filter(function(e){return""!==e})}(n):function(e){var t=[];return t.push(e.slice(0,2)),t.push(e.slice(2,4)),t.push(e.slice(4,9)),t.push(e.slice(9,14)),t.push(e.slice(14,16)),t.filter(function(e){return""!==e})}(n),i=r?r.join("-"):"";e.value=i,t(e),"Client ID"===e.type.label&&n.length>=8&&(a.setState({loadingClients:!0}),T.a.get("customer-care/client?filter[where][corporate_account_no][like]=".concat(i),function(e){console.log(e),a.clients=e.map(function(e){return{id:e._id,clientId:e.corporate_account_no,clientName:e.registered_name}}),a.setState({isClientsLoaded:!0,loadingClients:!1})},function(e){console.log(e),a.setState({isClientsLoaded:!0,loadingClients:!1})})),"Member ID"===e.type.label&&n.length>=13&&(a.setState({loadingMembers:!0}),T.a.get("customer-care/members?"+"filter[where][member_id][like]=".concat(i,"&")+"filter[where][member_status][inq]=Active&filter[where][member_status][inq]=Cancelled&filter[where][member_status][inq]=Expired&filter[where][member_status][inq]=Suspended&filter[where][member_status][inq]=Terminated&filter[where][member_status][inq]=Awaiting Activation",function(e){console.log(e),a.members=e.map(function(e){return{memberId:e.member_id,firstName:e.first_name,middleName:e.middle_name,lastName:e.last_name,clientName:e.client.registered_name,isVip:e.is_vip}}),a.setState({isMembersLoaded:!0,loadingMembers:!1})},function(e){console.log(e),a.setState({isMembersLoaded:!0,loadingMembers:!1})}))},a.state={tmpGroup:"",isAuditLogsOpen:!1,isMembersLoaded:!1,loadingMembers:!1,loadingMember:!1,loadingBenefits:!1,isClientsLoaded:!1,loadingClients:!1,loadingClient:!1,loadingRecentTickets:!1,loadingLinkedTickets:!1},a.clients=[],a.members=[],a.benefits=[],a.idTypes=[{value:"1",label:"Client ID"},{value:"2",label:"Member ID"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillUpdate",value:function(e,t){if(!this.props.client&&!this.props.member&&(e.client||e.member)){var a=e.member?e.member.memberId:e.client?e.client.corporateAccountNo:"";this.getRecentTicketsData(a,void 0!==e.member)}if(this.props.client&&!this.state.clientrecentTickets&&!this.props.member){var n=e.client?e.client.corporateAccountNo:"";this.getRecentTicketsData(n,!1)}if(this.props.member&&!this.state.memberrecentTickets){var r=e.member?e.member.memberId:"";this.getRecentTicketsData(r,!0)}}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"member-info"},this.state.isAuditLogsOpen&&this.props.ticket?n.createElement(K,{ticketId:this.props.ticket.id||"",isOpen:this.state.isAuditLogsOpen,onClose:function(){e.setState({isAuditLogsOpen:!1})}}):null,"Create"===this.props.task&&this.props.searchBarData&&this.props.onSetSearchBarData?n.createElement("div",null,this.renderSearchArea(this.props.searchBarData,this.props.onSetSearchBarData),n.createElement("div",{className:"line-border"})):this.renderTopArea(),this.props.member?n.createElement(U,{member:this.props.member,benefits:this.benefits,recentTickets:this.state.memberrecentTickets,loadingBenefits:this.state.loadingBenefits,loadingRecentTickets:this.state.loadingRecentTickets}):this.props.client?n.createElement(B,{client:this.props.client,recentTickets:this.state.clientrecentTickets,linkedTickets:this.state.linkedTickets,disableLinkedTickets:this.props.disableLinkedTickets,loadingRecentTickets:this.state.loadingRecentTickets,loadingLinkedTickets:this.state.loadingLinkedTickets,getLinkedTicketsData:this.getLinkedTicketsData}):n.createElement(n.Fragment,null,this.state.loadingMember||this.state.loadingClient?n.createElement(I.a,{height:"3rem"}):null,this.props.promptChooseMember?n.createElement("div",{className:"section",style:{color:"#E53935"}},"Choose a member/client first before submitting the ticket."):null),this.props.ticket?this.renderTicketData(this.props.ticket):null,n.createElement("div",{className:"section"}))}},{key:"renderSearchArea",value:function(e,t){var a=this,r="Member ID"===e.type.label?"##-##-#####-#####-##":"##-##-#####";return n.createElement("div",{className:"section"},n.createElement(y.a,{className:"bread-crumbs"},n.createElement(C.a,{href:"#/customer-care"},"TICKETS"),n.createElement("div",{className:"current-text"},"CREATE A TICKET")),n.createElement("div",{className:"header-1"},"Create Ticket"),n.createElement("div",{style:{position:"relative"}},n.createElement(x,{placeholder:"Search ID",type:e.type,value:e.value,choices:this.idTypes,mask:r,onChangeType:function(a){e.type=a,t(e)},onChangeValue:function(n){e.value=n,a.onSearchChanged(e,t)}}),this.state.loadingMembers||this.state.loadingClients?n.createElement("div",{style:{position:"absolute",right:"8px",bottom:"13px"}},n.createElement(I.a,{height:"none",size:16})):null),"Member ID"===e.type.label?n.createElement(A,{searchText:e.value,members:this.members,onSelectMember:function(n){a.members=[],a.clients=[],a.getMemberData(n),a.props.onUpdateMemberStateChange&&a.props.onUpdateMemberStateChange(void 0),a.setState({loadingMember:!0,memberrecentTickets:[]}),a.props.resetCategoryDropdown&&a.props.resetCategoryDropdown(),e.value="",t(e)}}):"Client ID"===e.type.label?n.createElement(H,{searchText:e.value,clients:this.clients,onSelectClient:function(n){a.members=[],a.clients=[],a.getClientData(n),a.props.onUpdateClientStateChange&&a.props.onUpdateClientStateChange(void 0),a.setState({loadingClient:!0,clientrecentTickets:[],linkedTickets:[]}),a.props.resetCategoryDropdown&&a.props.resetCategoryDropdown(),e.value="",t(e)}}):null,n.createElement(O.a,{icon:N.G,label:"Advanced Search",onClick:function(){a.props.onOpenAdvanceSearch&&a.props.onOpenAdvanceSearch()}}))}},{key:"renderTopArea",value:function(){return n.createElement("div",{className:"section"},n.createElement(y.a,{className:"bread-crumbs"},n.createElement(C.a,{href:"#/customer-care"},"TICKETS"),n.createElement(C.a,{className:"current-text"},this.props.task.toUpperCase()+" TICKET")),this.props.ticket?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-1"},"".concat(this.props.task," Ticket ").concat(this.props.ticket.ticketNo)),n.createElement("div",{className:"header-2"},n.createElement("span",{className:"light-text"},"STATUS:")," ","".concat(this.props.ticket.status.toUpperCase()," TICKET"))):null)}},{key:"renderTicketData",value:function(e){var t=this;return n.createElement("div",{className:"section"},n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"TICKET TYPE"),n.createElement("div",{className:"small-text"},e.ticketType)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"SPECIFIC TYPE"),n.createElement("div",{className:"small-text"},e.specificType)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"URGENCY"),n.createElement("div",{className:"small-text"},e.urgency)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"ASSIGNED TO"),n.createElement("div",{className:"small-text"},e.assignee.name),this.props.onReassign?n.createElement("div",{className:"small-text"},n.createElement(O.a,{label:"Re-assign Ticket",onClick:function(){t.props.onReassign&&t.props.onReassign()}})):null),e.additionalNotes?n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"PREVIOUS ASSIGNEE NOTES"),n.createElement("div",null,n.createElement(O.a,{label:"View Notes",onClick:function(){t.props.openAsigneeNotesModal&&t.props.openAsigneeNotesModal()}}))):null,n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"RECEIVED VIA"),n.createElement("div",{className:"small-text"},e.ticketSource)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"RECEIVED FROM"),n.createElement("div",{className:"small-text"},e.callerName)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"NUMBER/EMAIL"),n.createElement("div",{className:"small-text"},e.contactNo)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"CALL TRANSACTION NO."),n.createElement("div",{className:"small-text"},e.transactionNo)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"CREATED BY"),n.createElement("div",{className:"small-text"},e.createdBy.name)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DATE AND TIME CREATED"),n.createElement("div",{className:"small-text"},S.a.toDateAndTime(e.dateCreated))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DATE AND TIME LAST UPDATED"),n.createElement("div",{className:"small-text"},S.a.toDateAndTime(e.dateUpdated))),n.createElement("div",{className:"sub-section"},n.createElement(O.a,{label:"View Audit Logs",onClick:function(){t.setState({isAuditLogsOpen:!0})}})))}}]),t}(n.Component),Z=a(36),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={value:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=0;return n.createElement("div",{className:"detailed-dropdown"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("div",{className:"autocomplete"},n.createElement("div",{className:this.props.disabled?"detail-disabled":this.props.error?"detail-error":"detail"},this.props.detail?this.props.detail:this.props.value.value?this.props.value.value:null),n.createElement(w.a,{className:"actual-dropdown",classNamePrefix:this.props.error?"actual-dropdown-error":"actual-dropdown",isDisabled:!!this.props.disabled&&this.props.disabled,value:this.props.value,options:this.props.choices,isClearable:this.props.isClearable,onInputChange:function(t,a){e.setState({value:t})},onFocus:function(){console.log("Dropdown - onFocus()",e.props.placeholder),console.log("Dropdown -","options:",{options:e.props.choices},"count:",e.props.choices.length),e.props.onFocus&&e.props.onFocus()},noOptionsMessage:function(){return 0===e.props.choices.length?"No options":e.state.value.length<3?"Enter at least 3 characters to search":"No options"},filterOption:function(a,n){var r=0===n.length,i=e.props.choices.length<=20,l=n.length<3,s=a.label.toLowerCase().includes(n.toLowerCase());if(s&&t++,t<=20){if(i)return!!r||s;if(!l)return s}return!1},onChange:function(t){e.props.onChange(t)}})))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={value:a.props.value.toString()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value?e.value.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";"."===t.charAt(t.length-4)&&(t=e.value.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),t!==this.state.value&&this.setState({value:this.props.isFloat&&"."===this.state.value.charAt(this.state.value.length-1)?"".concat(t,"."):t})}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement("div",{className:"detailed-input-field"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("div",{className:"input-field"},n.createElement("input",{className:"text-field left",style:t,value:this.state.value,disabled:!!this.props.disabled&&this.props.disabled,onFocus:function(){0==e.props.value&&e.setState({value:""})},onChange:function(t){var a=t.target.value,n=parseFloat(a.replace(/,|-/g,""));isNaN(n)||(n=n<1e9?n:e.props.value);var r=(isNaN(n)?"":e.props.isFloat&&"."===a.charAt(a.length-1)?"".concat(n,"."):n.toString()).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");e.setState({value:r},function(){e.props.isFloat,e.props.onChange(isNaN(n)?0:n)})}}),n.createElement("div",{className:"detail ".concat(this.props.error?"error":""," right")},this.props.detail)))}}]),t}(n.Component),ee=a(79),te=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"loadIcd10Codes",value:function(e,t){var a=this;console.log("ICD10 - before loading ICD10 Codes"),this.ICD10_CODES?(console.log("ICD10 - already loaded ICD10 Codes"),console.log("ICD10 - count:",this.ICD10_CODES.length),e&&e()):E.c.StorageService("icd10_list").then(function(t){var n=t.filter(function(e){return e.full_code&&e.full_description}).map(function(e){return{value:e.full_code.toString(),label:e.full_description.toString()}});a.ICD10_CODES=n,console.log("ICD10 - successfully loaded ICD10 Codes"),console.log("ICD10 - count:",n.length),e&&e()}).catch(function(e){console.log("CPT - failed to load ICD10 Codes"),t&&t(e)})}},{key:"loadCptCodes",value:function(e,t){var a=this;console.log("CPT - before loading CPT Codes"),this.CPT_CODES?(console.log("CPT - already loaded CPT Codes"),console.log("CPT - count:",this.CPT_CODES.length),e&&e()):E.c.StorageService("cpt_list").then(function(t){var n=t.filter(function(e){return e.code&&e.label}).map(function(e){return{value:e.code.toString(),label:e.label.toString()}});a.CPT_CODES=n,console.log("CPT - successfully loaded CPT Codes"),console.log("CPT - count:",n.length),e&&e()}).catch(function(e){console.log("CPT - failed to load CPT Codes"),t&&t(e)})}},{key:"get",value:function(e,t){return e||t}},{key:"toAddress",value:function(e,t,a){return[e,t,a].filter(function(e){return e.length>0}).join(", ")}}]),e}();te.ICD10_CODES=void 0,te.CPT_CODES=void 0,te.NEW_ASSIGNEE=void 0,te.INDUSTRIES=[{label:"ACCOUNTING , BOOKKEEPING AND AUDITING ACTIVITIES; TAX CONSULTANCY",value:"ACCOUNTING , BOOKKEEPING AND AUDITING ACTIVITIES; TAX CONSULTANCY"},{label:"ACTIVITIES AUXILIARY TO FINANCIAL SERVICE",value:"ACTIVITIES AUXILIARY TO FINANCIAL SERVICE"},{label:"ACTIVITIES AUXILIARY TO INSURANCE AND PENSION FUNDING",value:"ACTIVITIES AUXILIARY TO INSURANCE AND PENSION FUNDING"},{label:"ACTIVITIES OF BUSINESS, EMPLOYERS AND PROFESSIONAL MEMBERSHIP ORGANIZATIONS",value:"ACTIVITIES OF BUSINESS, EMPLOYERS AND PROFESSIONAL MEMBERSHIP ORGANIZATIONS"},{label:"ACTIVITIES OF HEAD OFFICE AND MANAGEMENT CONSULTANCIES",value:"ACTIVITIES OF HEAD OFFICE AND MANAGEMENT CONSULTANCIES"},{label:"ACTIVITIES OF HOUSEHOLDS AS EMPLOYERS OF DOMESTIC PERSONNEL",value:"ACTIVITIES OF HOUSEHOLDS AS EMPLOYERS OF DOMESTIC PERSONNEL"},{label:"ACTIVITIES OF OTHER MEMBERSHIP ORGANIZATIONS",value:"ACTIVITIES OF OTHER MEMBERSHIP ORGANIZATIONS"},{label:"ACTIVITIES OF POLITICAL ORGANIZATIONS",value:"ACTIVITIES OF POLITICAL ORGANIZATIONS"},{label:"ACTIVITIES OF RELIGIOUS ORGANIZATIONS",value:"ACTIVITIES OF RELIGIOUS ORGANIZATIONS"},{label:"ACTIVITIES OF TRADE UNIONS",value:"ACTIVITIES OF TRADE UNIONS"},{label:"ADMINISTRATION OF THE STATE AND ECONOMIC AND SOCIAL POLICY OF THE COMMUNITY",value:"ADMINISTRATION OF THE STATE AND ECONOMIC AND SOCIAL POLICY OF THE COMMUNITY"},{label:"ADVERTISING",value:"ADVERTISING"},{label:"AIR AND SPACECRAFT AND RELATED MACHINERY",value:"AIR AND SPACECRAFT AND RELATED MACHINERY"},{label:"AIR TRANSPORT",value:"AIR TRANSPORT"},{label:"AMUSEMENT AND RECREATION ACTIVITIES",value:"AMUSEMENT AND RECREATION ACTIVITIES"},{label:"ANIMAL PRODUCTION",value:"ANIMAL PRODUCTION"},{label:"AQUACULTURE",value:"AQUACULTURE"},{label:"ARCHITECTURAL ACTIVITIES, ENGINEERING DESIGN AND RELATED TECHNICAL CONSULTANCY",value:"ARCHITECTURAL ACTIVITIES, ENGINEERING DESIGN AND RELATED TECHNICAL CONSULTANCY"},{label:"ART GALLERIES",value:"ART GALLERIES"},{label:"ARTICLES OF FUR",value:"ARTICLES OF FUR"},{label:"BAMBOO, CANE AND RATTAN ARTICLES",value:"BAMBOO, CANE AND RATTAN ARTICLES"},{label:"BASIC CHEMICALS",value:"BASIC CHEMICALS"},{label:"BASIC IRON AND STEEL",value:"BASIC IRON AND STEEL"},{label:"BASIC PRECIOUS AND OTHER NON-FERROUS METALS",value:"BASIC PRECIOUS AND OTHER NON-FERROUS METALS"},{label:"BATTERIES AND ACCUMULATORS",value:"BATTERIES AND ACCUMULATORS"},{label:"BEVERAGE PRODUCTS",value:"BEVERAGE PRODUCTS"},{label:"BEVERAGE SERVING ACTIVITIES",value:"BEVERAGE SERVING ACTIVITIES"},{label:"BODIES FOR MOTOR VEHICLES, TRAILERS AND SEMI-TRAILERS",value:"BODIES FOR MOTOR VEHICLES, TRAILERS AND SEMI-TRAILERS"},{label:"BOOKMAKING, OFF-TRACK BETTING AND OTHER BETTING OPERATIONS",value:"BOOKMAKING, OFF-TRACK BETTING AND OTHER BETTING OPERATIONS"},{label:"BOTANICAL AND ZOOLOGICAL GARDEN AND NATURE RESERVES ACTIVITIES",value:"BOTANICAL AND ZOOLOGICAL GARDEN AND NATURE RESERVES ACTIVITIES"},{label:"BPO/KPO",value:"BPO/KPO"},{label:"BUILDING OF SHIPS AND BOATS",value:"BUILDING OF SHIPS AND BOATS"},{label:"BUSINESS SUPPORT SERVICE ACTIVITIES",value:"BUSINESS SUPPORT SERVICE ACTIVITIES"},{label:"CASTING OF METAL",value:"CASTING OF METAL"},{label:"CIVIL ENGINEERING",value:"CIVIL ENGINEERING"},{label:"CLEANING ACTIVITIES",value:"CLEANING ACTIVITIES"},{label:"CLEANING AND POLISHING PREPARATIONS",value:"CLEANING AND POLISHING PREPARATIONS"},{label:"COMBINED FACILITIES SUPPORT ACTIVTIES",value:"COMBINED FACILITIES SUPPORT ACTIVTIES"},{label:"COMMUNICATION EQUIPMENT",value:"COMMUNICATION EQUIPMENT"},{label:"COMPULSORY SOCIAL SECURITY ACTIVITIES",value:"COMPULSORY SOCIAL SECURITY ACTIVITIES"},{label:"COMPUTER AND PERIPHERAL EQUIPMENT AND ACCESSORIES",value:"COMPUTER AND PERIPHERAL EQUIPMENT AND ACCESSORIES"},{label:"COMPUTER PROGRAMMING, CONSULTANCY AND IT RELATED ACTIVITIES",value:"COMPUTER PROGRAMMING, CONSULTANCY AND IT RELATED ACTIVITIES"},{label:"CONCERTS, OPERA , LIVE THEATRICAL PRESENTATIONS, DANCE PRODUCTION AND OTHER STAGE PRODUCTIONS",value:"CONCERTS, OPERA , LIVE THEATRICAL PRESENTATIONS, DANCE PRODUCTION AND OTHER STAGE PRODUCTIONS"},{label:"CONSTRUCTION OF BUILDINGS",value:"CONSTRUCTION OF BUILDINGS"},{label:"CULTURAL EDUCATION",value:"CULTURAL EDUCATION"},{label:"CUSTOM TAILORING AND DRESSMAKING",value:"CUSTOM TAILORING AND DRESSMAKING"},{label:"DOMESTIC APPLIANCES",value:"DOMESTIC APPLIANCES"},{label:"DOMESTIC SERVICES",value:"DOMESTIC SERVICES"},{label:"DRUGS AND MEDICINES",value:"DRUGS AND MEDICINES"},{label:"EDUCATIONAL SUPPORT SERVICES",value:"EDUCATIONAL SUPPORT SERVICES"},{label:"ELECTRIC LIGHTING EQUIPMENT",value:"ELECTRIC LIGHTING EQUIPMENT"},{label:"ELECTRIC MOTORS, GENERATORS, TRANSFORMERS AND ELECTRICITY DISTRIBUTION AND CONTROL APPARATUS",value:"ELECTRIC MOTORS, GENERATORS, TRANSFORMERS AND ELECTRICITY DISTRIBUTION AND CONTROL APPARATUS"},{label:"ELECTRIC POWER GENERATION, TRANSMISSION AND DISTRIBUTION",value:"ELECTRIC POWER GENERATION, TRANSMISSION AND DISTRIBUTION"},{label:"ELECTRONIC COMPONENTS AND CONSUMER ELECTRONICS",value:"ELECTRONIC COMPONENTS AND CONSUMER ELECTRONICS"},{label:"EMPLOYMENT ACTIVITIES",value:"EMPLOYMENT ACTIVITIES"},{label:"EVENT CATERING AND OTHER FOOD SERVICE ACTIVITIES",value:"EVENT CATERING AND OTHER FOOD SERVICE ACTIVITIES"},{label:"EXPORT AND IMPORT",value:"EXPORT AND IMPORT"},{label:"EXTRACTION OF CRUDE OIL AND NATURAL GAS",value:"EXTRACTION OF CRUDE OIL AND NATURAL GAS"},{label:"FERTILIZERS AND NITROGEN COMPOUNDS",value:"FERTILIZERS AND NITROGEN COMPOUNDS"},{label:"FINANCIAL LEASING AND CREDIT GRANTING",value:"FINANCIAL LEASING AND CREDIT GRANTING"},{label:"FISHING ACTIVITIES",value:"FISHING ACTIVITIES"},{label:"FOOD AND BEVERAGE PRODUCTS",value:"FOOD AND BEVERAGE PRODUCTS"},{label:"FOOD PRODUCTS",value:"FOOD PRODUCTS"},{label:"FOOTWEAR",value:"FOOTWEAR"},{label:"FOREIGN DIPLOMATIC MISSIONS",value:"FOREIGN DIPLOMATIC MISSIONS"},{label:"FUND MANAGEMENT ACTIVITIES",value:"FUND MANAGEMENT ACTIVITIES"},{label:"FUNERAL AND RELATED ACTIVITIES",value:"FUNERAL AND RELATED ACTIVITIES"},{label:"FURNITURE AND FIXTURES",value:"FURNITURE AND FIXTURES"},{label:"GAMES AND TOYS",value:"GAMES AND TOYS"},{label:"GENERAL PURPOSE MACHINERY",value:"GENERAL PURPOSE MACHINERY"},{label:"GLASS AND GLASS PRODUCTS",value:"GLASS AND GLASS PRODUCTS"},{label:"GROWING OF NON-PERENNIAL AND PERENNIAL CROPS",value:"GROWING OF NON-PERENNIAL AND PERENNIAL CROPS"},{label:"HOLDING COMPANIES",value:"HOLDING COMPANIES"},{label:"HOSPITAL ACTIVITIES",value:"HOSPITAL ACTIVITIES"},{label:"HUNTING, TRAPPING AND RELATED ACTIVITIES",value:"HUNTING, TRAPPING AND RELATED ACTIVITIES"},{label:"INDIVIDUAL ARTISTS ACTIVITIES",value:"INDIVIDUAL ARTISTS ACTIVITIES"},{label:"INFORMATION SERVICE ACTIVITIES",value:"INFORMATION SERVICE ACTIVITIES"},{label:"INSTALLATION OF INDUSTRIAL MACHINERY AND EQUIPMENT",value:"INSTALLATION OF INDUSTRIAL MACHINERY AND EQUIPMENT"},{label:"INSURANCE AND REINSURANCE",value:"INSURANCE AND REINSURANCE"},{label:"INTERNATIONAL ORGANIZATIONS",value:"INTERNATIONAL ORGANIZATIONS"},{label:"INVESTIGATION ACTIVITIES",value:"INVESTIGATION ACTIVITIES"},{label:"IRRADIATION, ELECTROMEDICAL AND ELECTROTHERAPEUTIC EQUIPMENT",value:"IRRADIATION, ELECTROMEDICAL AND ELECTROTHERAPEUTIC EQUIPMENT"},{label:"JEWELRY AND RELATED PRODUCTS",value:"JEWELRY AND RELATED PRODUCTS"},{label:"LAND TRANSPORT AND TRANSPORT VIA PIPELINES",value:"LAND TRANSPORT AND TRANSPORT VIA PIPELINES"},{label:"LANDSCAPE CARE AND MAINTENANCE SERVICE ACTIVITIES",value:"LANDSCAPE CARE AND MAINTENANCE SERVICE ACTIVITIES"},{label:"LAUNDRY SERVICES",value:"LAUNDRY SERVICES"},{label:"LEGAL ACTIVITIES",value:"LEGAL ACTIVITIES"},{label:"LIBRARY AND ARCHIVES ACTIVITIES",value:"LIBRARY AND ARCHIVES ACTIVITIES"},{label:"MAGNETIC AND OPTICAL MEDIA",value:"MAGNETIC AND OPTICAL MEDIA"},{label:"MAN-MADE FIBERS",value:"MAN-MADE FIBERS"},{label:"MANUFACTURE AND DISTRIBUTION OF GASEOUS FUELS",value:"MANUFACTURE AND DISTRIBUTION OF GASEOUS FUELS"},{label:"MANUFACTURE OF MOTOR VEHICLES",value:"MANUFACTURE OF MOTOR VEHICLES"},{label:"MARKET RESEARCH AND PUBLIC OPINION POLLING",value:"MARKET RESEARCH AND PUBLIC OPINION POLLING"},{label:"MEASURING, TESTING, NAVIGATING AND CONTROL EQUIPMENT, WATCHES AND CLOCKS",value:"MEASURING, TESTING, NAVIGATING AND CONTROL EQUIPMENT, WATCHES AND CLOCKS"},{label:"MEDICAL AND DENTAL INSTRUMENTS AND SUPPLIES",value:"MEDICAL AND DENTAL INSTRUMENTS AND SUPPLIES"},{label:"MEDICAL, DENTAL AND OTHER HUMAN HEALTH ACTIVITIES",value:"MEDICAL, DENTAL AND OTHER HUMAN HEALTH ACTIVITIES"},{label:"MILITARY FIGHTING VEHICLES",value:"MILITARY FIGHTING VEHICLES"},{label:"MINING",value:"MINING"},{label:"MINING SUPPORT SERVICE ACTIVITIES",value:"MINING SUPPORT SERVICE ACTIVITIES"},{label:"MONETARY INTERMEDIATION",value:"MONETARY INTERMEDIATION"},{label:"MOTION PICTURE, VIDEO AND TELEVISION PROGRAM PRODUCTION, SOUND RECORDING AND MUSIC PUBLISHING ACTIVITIES",value:"MOTION PICTURE, VIDEO AND TELEVISION PROGRAM PRODUCTION, SOUND RECORDING AND MUSIC PUBLISHING ACTIVITIES"},{label:"MUSEUMS ACTIVITIES AND HISTORICAL SITES",value:"MUSEUMS ACTIVITIES AND HISTORICAL SITES"},{label:"MUSICAL INSTRUMENTS",value:"MUSICAL INSTRUMENTS"},{label:"OFFICE ADMINISTRATIVE AND SUPPORT ACTIVITIES",value:"OFFICE ADMINISTRATIVE AND SUPPORT ACTIVITIES"},{label:"OPERATION OF CASINOS",value:"OPERATION OF CASINOS"},{label:"OPERATION OF COIN-OPERATED GAMBLING MACHINES AND VIRTUAL GAMBLING WEB SITES",value:"OPERATION OF COIN-OPERATED GAMBLING MACHINES AND VIRTUAL GAMBLING WEB SITES"},{label:"OPTICAL INSTRUMENTS AND PHOTOGRAPHIC EQUIPMENT",value:"OPTICAL INSTRUMENTS AND PHOTOGRAPHIC EQUIPMENT"},{label:"ORGANIZATION OF CONVENTIONS AND TRADE SHOWS",value:"ORGANIZATION OF CONVENTIONS AND TRADE SHOWS"},{label:"OTHER ACCOMMODATION",value:"OTHER ACCOMMODATION"},{label:"OTHER CHEMICAL PRODUCTS",value:"OTHER CHEMICAL PRODUCTS"},{label:"OTHER EDUCATION SERVICES",value:"OTHER EDUCATION SERVICES"},{label:"OTHER ELECTRICAL EQUIPMENT",value:"OTHER ELECTRICAL EQUIPMENT"},{label:"OTHER FABRICATED METAL PRODUCTS AND METAL WORKING SERVICE ACTIVITIES",value:"OTHER FABRICATED METAL PRODUCTS AND METAL WORKING SERVICE ACTIVITIES"},{label:"OTHER FINANCIAL SERVICE ACTIVITIES",value:"OTHER FINANCIAL SERVICE ACTIVITIES"},{label:"OTHER MINING AND QUARRYING ACTIVITIES",value:"OTHER MINING AND QUARRYING ACTIVITIES"},{label:"OTHER MISCELLANEOUS PRODUCTS",value:"OTHER MISCELLANEOUS PRODUCTS"},{label:"OTHER NON-METALLIC MINERAL PRODUCTS",value:"OTHER NON-METALLIC MINERAL PRODUCTS"},{label:"OTHER PERSONAL SERVICE ACTIVITIES",value:"OTHER PERSONAL SERVICE ACTIVITIES"},{label:"OTHER PROFESSIONAL, SCIENTIFIC AND TECHNICAL ACTIVITIES",value:"OTHER PROFESSIONAL, SCIENTIFIC AND TECHNICAL ACTIVITIES"},{label:"OTHER RESERVATION SERVICES AND RELATED ACTIVITIES",value:"OTHER RESERVATION SERVICES AND RELATED ACTIVITIES"},{label:"OTHER TRANSPORT EQUIPMENT",value:"OTHER TRANSPORT EQUIPMENT"},{label:"PAINTS, VARNISHES AND OTHER RELATED PRODUCTS",value:"PAINTS, VARNISHES AND OTHER RELATED PRODUCTS"},{label:"PAPER AND PAPER PRODUCTS",value:"PAPER AND PAPER PRODUCTS"},{label:"PARTS AND ACCESSORIES FOR MOTOR VEHICLES",value:"PARTS AND ACCESSORIES FOR MOTOR VEHICLES"},{label:"PAWNSHOP OPERATIONS",value:"PAWNSHOP OPERATIONS"},{label:"PENSION FUNDING",value:"PENSION FUNDING"},{label:"PERSONAL SERVICES FOR WELLNESS",value:"PERSONAL SERVICES FOR WELLNESS"},{label:"PESTICIDES AND OTHER AGRO-CHEMICAL PRODUCTS",value:"PESTICIDES AND OTHER AGRO-CHEMICAL PRODUCTS"},{label:"PETROLEUM AND OTHER PRODUCTS",value:"PETROLEUM AND OTHER PRODUCTS"},{label:"PHOTOGRAPHIC ACTIVITIES",value:"PHOTOGRAPHIC ACTIVITIES"},{label:"PLANT PROPAGATION",value:"PLANT PROPAGATION"},{label:"PLASTIC PRODUCTS",value:"PLASTIC PRODUCTS"},{label:"PLASTICS AND SYNTHETIC RUBBER IN PRIMARY FORMS",value:"PLASTICS AND SYNTHETIC RUBBER IN PRIMARY FORMS"},{label:"POSTAL AND COURIER ACTIVITIES",value:"POSTAL AND COURIER ACTIVITIES"},{label:"PRE-SCHOOL, ELEMENTARY, HIGHSCHOOL AND HIGHER EDUCATION",value:"PRE-SCHOOL, ELEMENTARY, HIGHSCHOOL AND HIGHER EDUCATION"},{label:"PRINTING AND RELATED SERVICE ACTIVITIES",value:"PRINTING AND RELATED SERVICE ACTIVITIES"},{label:"PRIVATE SECURITY ACTIVITIES",value:"PRIVATE SECURITY ACTIVITIES"},{label:"PRODUCTION OF ICE FOR COOLING PURPOSES",value:"PRODUCTION OF ICE FOR COOLING PURPOSES"},{label:"PRODUCTS OF LEATHER AND IMITATION LEATHER",value:"PRODUCTS OF LEATHER AND IMITATION LEATHER"},{label:"PROGRAMMING AND BROADCASTING ACTIVITIES",value:"PROGRAMMING AND BROADCASTING ACTIVITIES"},{label:"PROVISION OF SERVICES TO THE COMMUNITY AS A WHOLE",value:"PROVISION OF SERVICES TO THE COMMUNITY AS A WHOLE"},{label:"PUBLISHING ACTIVITIES",value:"PUBLISHING ACTIVITIES"},{label:"RAILWAY LOCOMOTIVE AND ROLLING STOCK",value:"RAILWAY LOCOMOTIVE AND ROLLING STOCK"},{label:"REAL ESTATE ACTIVITIES",value:"REAL ESTATE ACTIVITIES"},{label:"REMEDIATION ACTIVITIES AND OTHER WASTE MANAGEMENT SERVICES",value:"REMEDIATION ACTIVITIES AND OTHER WASTE MANAGEMENT SERVICES"},{label:"RENTAL AND LEASING ACTIVITIES",value:"RENTAL AND LEASING ACTIVITIES"},{label:"REPAIR AND MAINTENANCE OF MOTOR VEHICLES, MOTORCYCLES AND RELATED PARTS AND ACCESSORIES",value:"REPAIR AND MAINTENANCE OF MOTOR VEHICLES, MOTORCYCLES AND RELATED PARTS AND ACCESSORIES"},{label:"REPAIR OF COMPUTERS AND COMMUNICATION EQUIPMENT",value:"REPAIR OF COMPUTERS AND COMMUNICATION EQUIPMENT"},{label:"REPAIR OF FABRICATED METAL PRODUCTS, MACHINERY AND EQUIPMENT",value:"REPAIR OF FABRICATED METAL PRODUCTS, MACHINERY AND EQUIPMENT"},{label:"REPAIR OF PERSONAL AND HOUSEHOLD GOODS",value:"REPAIR OF PERSONAL AND HOUSEHOLD GOODS"},{label:"REPRODUCTION OF RECORDED MEDIA",value:"REPRODUCTION OF RECORDED MEDIA"},{label:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON INFORMATION TECHNOLOGY",value:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON INFORMATION TECHNOLOGY"},{label:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON NATURAL SCIENCE AND ENGINEERING",value:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON NATURAL SCIENCE AND ENGINEERING"},{label:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON SOCIAL SCIENCE AND HUMANITIES",value:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON SOCIAL SCIENCE AND HUMANITIES"},{label:"RESIDENTIAL CARE AND RELATED ACTIVITIES",value:"RESIDENTIAL CARE AND RELATED ACTIVITIES"},{label:"RESTAURANTS AND MOBILE FOOD SERVICE ACTIVITIES",value:"RESTAURANTS AND MOBILE FOOD SERVICE ACTIVITIES"},{label:"RETAIL",value:"RETAIL"},{label:"RUBBER PRODUCTS",value:"RUBBER PRODUCTS"},{label:"SALE OF LOTTERY TICKETS",value:"SALE OF LOTTERY TICKETS"},{label:"SALE OF MOTOR VEHICLES, MOTORCYCLES AND RELATED PARTS AND ACCESSORIES",value:"SALE OF MOTOR VEHICLES, MOTORCYCLES AND RELATED PARTS AND ACCESSORIES"},{label:"SECURITY SYSTEMS SERVICE ACTIVITIES",value:"SECURITY SYSTEMS SERVICE ACTIVITIES"},{label:"SEWERAGE",value:"SEWERAGE"},{label:"SHORT TERM ACCOMMODATION ACTIVITIES",value:"SHORT TERM ACCOMMODATION ACTIVITIES"},{label:"SILVICULTURE, LOGGING AND OTHER FORESTRY ACTIVITIES",value:"SILVICULTURE, LOGGING AND OTHER FORESTRY ACTIVITIES"},{label:"SOAP, DETERGENTS, PERFUMES, COSMETICS AND RELATED PRODUCTS",value:"SOAP, DETERGENTS, PERFUMES, COSMETICS AND RELATED PRODUCTS"},{label:"SOCIAL WORK ACTIVITIES",value:"SOCIAL WORK ACTIVITIES"},{label:"SPECIAL PURPOSE MACHINERY",value:"SPECIAL PURPOSE MACHINERY"},{label:"SPECIALIZED CONSTRUCTION ACTIVITIES",value:"SPECIALIZED CONSTRUCTION ACTIVITIES"},{label:"SPECIALIZED DESIGN ACTIVITIES",value:"SPECIALIZED DESIGN ACTIVITIES"},{label:"SPORTS ACTIVITIES",value:"SPORTS ACTIVITIES"},{label:"SPORTS AND RECREATION EDUCATION",value:"SPORTS AND RECREATION EDUCATION"},{label:"SPORTS GOODS",value:"SPORTS GOODS"},{label:"STEAM AND AIR CONDITIONING SUPPLY",value:"STEAM AND AIR CONDITIONING SUPPLY"},{label:"STRUCTURAL METAL PRODUCTS, TANKS, RESERVOIRS AND STEAM GENERATORS",value:"STRUCTURAL METAL PRODUCTS, TANKS, RESERVOIRS AND STEAM GENERATORS"},{label:"SUPPORT ACTIVITIES FOR TRANSPORTATION",value:"SUPPORT ACTIVITIES FOR TRANSPORTATION"},{label:"SUPPORT ACTIVITIES TO AGRICULTURE",value:"SUPPORT ACTIVITIES TO AGRICULTURE"},{label:"SUPPORT SERVICES TO FORESTRY",value:"SUPPORT SERVICES TO FORESTRY"},{label:"SURGICAL DRESSING, FRACTURE BANDAGES AND OTHER RELATED PRODUCTS",value:"SURGICAL DRESSING, FRACTURE BANDAGES AND OTHER RELATED PRODUCTS"},{label:"TECHNICAL AND VOCATIONAL EDUCATION",value:"TECHNICAL AND VOCATIONAL EDUCATION"},{label:"TECHNICAL TESTING AND ANALYSIS",value:"TECHNICAL TESTING AND ANALYSIS"},{label:"TELECOMMUNICATIONS",value:"TELECOMMUNICATIONS"},{label:"TEXTILE PRODUCTS",value:"TEXTILE PRODUCTS"},{label:"TOBACCO PRODUCTS",value:"TOBACCO PRODUCTS"},{label:"TRAVEL AGENCY AND TOUR OPERATOR ACTIVITIES",value:"TRAVEL AGENCY AND TOUR OPERATOR ACTIVITIES"},{label:"TRUSTS, FUNDS AND OTHER RELATED ACTIVITIES",value:"TRUSTS, FUNDS AND OTHER RELATED ACTIVITIES"},{label:"UNDIFFERENTIATED GOODS- AND SERVICES-PRODUCING ACTIVITIES OF PRIVATE HOUSEHOLDS FOR OWN USE",value:"UNDIFFERENTIATED GOODS- AND SERVICES-PRODUCING ACTIVITIES OF PRIVATE HOUSEHOLDS FOR OWN USE"},{label:"VETERINARY ACTIVITIES",value:"VETERINARY ACTIVITIES"},{label:"WAREHOUSING AND STORAGE",value:"WAREHOUSING AND STORAGE"},{label:"WASTE COLLECTION, TREATMENT AND DISPOSAL",value:"WASTE COLLECTION, TREATMENT AND DISPOSAL"},{label:"WATER COLLECTION, TREATMENT AND SUPPLY",value:"WATER COLLECTION, TREATMENT AND SUPPLY"},{label:"WATER TRANSPORT",value:"WATER TRANSPORT"},{label:"WEAPONS AND AMMUNITION",value:"WEAPONS AND AMMUNITION"},{label:"WEARING, KNITTED AND CROCHETED APPAREL",value:"WEARING, KNITTED AND CROCHETED APPAREL"},{label:"WHOLESALE",value:"WHOLESALE"},{label:"WIRING AND WIRING DEVICES",value:"WIRING AND WIRING DEVICES"},{label:"WOOD AND WOOD PRODUCTS",value:"WOOD AND WOOD PRODUCTS"}];var ae=a(274),ne=a(84),re=a(825),ie=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"date-picker"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement(ne.a,{utils:ae.a},n.createElement(re.a,{className:this.props.disabled?"text-field-disabled text-field":"text-field",disabled:this.props.disabled,variant:"dialog",value:this.props.value,onChange:function(t){e.props.onChange(t?t.toDate():null)}})))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).confinementTypes=void 0,a.loadRoomTypes=function(){0===a.state.roomTypes.length&&T.a.get("customer-care/room-categories",function(e){var t=[];e.forEach(function(e){t.push({value:e.category,label:e.category})}),a.setState({roomTypes:t})})},a.state={roomTypes:[]},a.confinementTypes=[{value:"1",label:"Elective / Scheduled"},{value:"2",label:"ER leading to confinement"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.confinement;return n.createElement("div",{className:"confinement-details"},n.createElement("div",{style:{paddingTop:"5rem"}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"CONFINEMENT DETAILS"),n.createElement(Q,{choices:this.props.facilities,placeholder:"Provider*",value:t.provider,error:this.props.createTicketAttemp&&""===t.provider.value,onFocus:function(){e.props.loadFacilities()},onChange:function(a){t.provider=a,t.doctor={value:"",label:""},e.props.refreshConfinementState()}}),n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:4},n.createElement(ee.a,{placeholder:"Date Admitted",value:t.dateAdmitted,onChange:function(a){t.dateAdmitted=a,e.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(ie,{placeholder:"Time Admitted",value:t.dateAdmitted,onChange:function(a){t.dateAdmitted=a,e.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:5},n.createElement(Z.a,{placeholder:"Kind of Confinement*",choices:this.confinementTypes,value:{value:"",label:t.confinementKind},error:this.props.createTicketAttemp&&""===t.confinementKind,onChange:function(a){t.confinementKind=a.label,e.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:2},n.createElement(Z.a,{placeholder:"Room Type",choices:this.state.roomTypes,value:t.roomType,onFocus:function(){e.loadRoomTypes()},onChange:function(a){t.roomType=a,e.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:2},n.createElement(z.a,{placeholder:"Room No.",value:t.roomNo,onChange:function(a){t.roomNo=a,e.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement($,{disabled:""===t.roomType.value.trim(),placeholder:"Cost Per Day",value:t.costPerDay,detail:"PHP",isFloat:!0,onChange:function(a){t.costPerDay=a,e.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:5},n.createElement(Z.a,{placeholder:"Admitting Physician",choices:this.props.doctors,value:t.doctor,onFocus:function(){e.props.loadDoctors(t.provider.label)},onChange:function(a){t.doctor=a,e.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:7},n.createElement(Q,{placeholder:"Initial Diagnosis*",choices:te.ICD10_CODES?te.ICD10_CODES:[],value:t.initialDiagnosis,error:this.props.createTicketAttemp&&""===t.initialDiagnosis.value,onChange:function(a){t.initialDiagnosis=a,e.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement($,{disabled:""===t.doctor.value.trim(),placeholder:"Amount",value:t.amount,detail:"PHP",isFloat:!0,onChange:function(t){e.props.confinement.amount=t,e.props.refreshConfinementState()}})))),n.createElement("div",{className:"section"}))}}]),t}(n.Component),se=a(66),oe=a(775),ce=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"check-box-area"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement(oe.a,{className:"check-box",checked:this.props.value,disabled:this.props.disabled,onChange:function(t){e.props.onChange(t.target.checked)}}),this.props.label?n.createElement("span",{className:"text"},this.props.label):null)}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getFilteredICD10=function(){return te.ICD10_CODES?te.ICD10_CODES.filter(function(e){return void 0===a.props.availment.diagnoses.find(function(t){return t.icd10Code.value===e.value})}):[]},a.getFilteredCptCodes=function(e){return console.log(e),te.CPT_CODES?te.CPT_CODES.filter(function(t){return void 0===e.procedures.find(function(e){return e.cptCode.value===t.value})}):[]},a.getProcedureCosts=function(e){return void 0!==a.props.availment&&void 0!==a.props.availment.diagnoses&&void 0!==a.props.availment.diagnoses[e]&&void 0!==a.props.availment.diagnoses[e].doctors&&void 0!==a.props.availment.diagnoses[e].doctors[0]&&void 0!==a.props.availment.diagnoses[e].doctors[0].fee?a.props.availment.diagnoses[e].doctors[0].fee:0},a.pushBlankDiagnosis=function(e,t,n){a.props.availment.diagnoses.push({icd10Code:e,remarks:"",isPrimary:!1,isFinal:!1,dateAdded:new Date,doctors:[{id:t.value,name:t.label,specialization:t.params?t.params[0]:"",type:"Admitting",fee:n,noOfVisits:0,remarks:""}],procedures:[{cptCode:{value:"",label:""},isPHIC:!1,amount:0,notes:"",doctor:"",dateAdded:new Date,assessmentType:"",assessmentRemarks:"",approvedAmount:0,loaNo:0}],assessmentType:"",assessmentRemarks:"",approvedAmount:0,loaNo:0})},a.pushBlankProcedures=function(e){a.props.availment.diagnoses[e].procedures.push({cptCode:{value:"",label:""},isPHIC:!1,amount:0,notes:"",doctor:"",dateAdded:new Date,assessmentType:"",assessmentRemarks:"",approvedAmount:0,loaNo:0})},a.state={icd10Code:{value:"",label:""},doctor:{value:"",label:""},doctorFeeHeader:0,itemToEditIndex:-1,icd10CodeToEdit:{value:"",label:""},doctorToEdit:{value:"",label:""},doctorFeeToEdit:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"availment-section"},n.createElement("div",{style:{paddingTop:"5rem"}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"AVAILMENT DETAILS"),n.createElement(Q,{choices:this.props.facilities,placeholder:"Provider*",value:this.props.availment.provider,error:this.props.createTicketAttemp&&""===this.props.availment.provider.label,onFocus:function(){e.props.loadFacilities()},onChange:function(t){e.props.loadDoctors(t.label),e.props.availment.provider=t,e.props.refreshAvailmentState()}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-3"},"LIST OF AVAILMENTS"),n.createElement("div",{className:"text"},"Add a diagnosis first then add procedures per diagnosis after"),n.createElement("div",{className:"sub-section"},n.createElement(L.a,{rows:this.props.availment.diagnoses,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}}))),n.createElement("div",{className:"section"}))}},{key:"renderTableHeader",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{minWidth:"200px",maxWidth:"200px"}},n.createElement(Q,{placeholder:"Add a diagnosis",choices:this.getFilteredICD10(),value:this.state.icd10Code,onChange:function(t){e.setState({icd10Code:t})}})),n.createElement(j.a,{style:{minWidth:"150px",maxWidth:"150px"}},n.createElement(Z.a,{placeholder:"Add doctors",choices:this.props.doctors,value:this.state.doctor,onChange:function(t){e.setState({doctor:t})}})),n.createElement(j.a,{style:{minWidth:"70px",maxWidth:"70px"}},n.createElement(se.a,{placeholder:"Fee",value:this.state.doctorFeeHeader?this.state.doctorFeeHeader:0,onChange:function(t){e.setState({doctorFeeHeader:t})}})),n.createElement(j.a,{style:{textAlign:"center"}},n.createElement(O.a,{icon:N.B,label:"Add diagnosis",onClick:function(){console.log(e.state.doctor),""!==e.state.doctor.value&&""!==e.state.icd10Code.value&&(e.pushBlankDiagnosis(e.state.icd10Code,e.state.doctor,e.state.doctorFeeHeader),e.props.refreshAvailmentState(),e.setState({icd10Code:{value:"",label:""},doctor:{value:"",label:""},doctorFeeHeader:0}))}})))}},{key:"renderTableRow",value:function(e,t){var a=this,r=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r}},n.createElement(j.a,{colSpan:4},n.createElement(_.a,{container:!0,spacing:1},this.state.itemToEditIndex===t?n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{choices:this.getFilteredICD10(),value:this.state.icd10CodeToEdit,onChange:function(e){a.setState({icd10CodeToEdit:e})}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(Z.a,{choices:this.props.doctors,value:this.state.doctorToEdit,onChange:function(e){a.setState({doctorToEdit:e})}})),n.createElement(_.a,{item:!0,xs:2},n.createElement(se.a,{value:this.state.doctorFeeToEdit?this.state.doctorFeeToEdit:0,onChange:function(e){a.setState({doctorFeeToEdit:e})}})),n.createElement(_.a,{item:!0,xs:1},n.createElement(W.a,{icon:N.i,onClick:function(){a.props.availment.diagnoses[t].icd10Code=a.state.icd10CodeToEdit,a.props.availment.diagnoses[t].doctors[0].name=a.state.doctorToEdit.label,a.props.availment.diagnoses[t].doctors[0].fee=a.state.doctorFeeToEdit,a.props.refreshAvailmentState(),a.setState({itemToEditIndex:-1})}}),n.createElement(W.a,{icon:N.O,onClick:function(){a.setState({itemToEditIndex:-1})}}))):n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:6,className:"header-2"},e.icd10Code.value+" - "+e.icd10Code.label),n.createElement(_.a,{item:!0,xs:3,className:"header-2"},e.doctors[0].name),n.createElement(_.a,{item:!0,xs:2,className:"header-2"},S.a.formatNumber(this.getProcedureCosts(t),!0)+" PHP"),n.createElement(_.a,{item:!0,xs:1},n.createElement(W.a,{icon:N.y,onClick:function(){a.setState({itemToEditIndex:t,icd10CodeToEdit:e.icd10Code,doctorToEdit:{value:e.doctors[0].id,label:e.doctors[0].name},doctorFeeToEdit:e.doctors[0].fee})}}),n.createElement(W.a,{icon:N.v,onClick:function(){a.props.availment.diagnoses.splice(t,1),a.props.refreshAvailmentState()}})))),e.procedures.map(function(n,r){return a.renderProcedureDetails(e,n,t,r)})))}},{key:"renderProcedureDetails",value:function(e,t,a,r){var i=this,l=this.props.availment.diagnoses[a].procedures[r],s=this.props.availment.diagnoses[a].procedures;return n.createElement("div",{style:{position:"relative"}},n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement("div",{className:"line-border"}),n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:7},n.createElement(Q,{placeholder:"Procedure",choices:te.CPT_CODES?this.getFilteredCptCodes(e):[],value:t.cptCode,onChange:function(e){l.cptCode=e,r===s.length-1&&i.pushBlankProcedures(a),i.props.refreshAvailmentState()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(se.a,{placeholder:"Amount",error:this.props.createTicketAttemp&&""!==t.cptCode.value&&0===t.amount,value:t.amount,onChange:function(e){l.amount=e,i.props.refreshAvailmentState()}})),n.createElement(_.a,{item:!0,xs:2,style:{textAlign:"right"}},n.createElement("div",{style:{display:"inline-block",paddingRight:"0.5rem"}},n.createElement(ce,{placeholder:"PHIC",value:t.isPHIC,onChange:function(e){l.isPHIC=e,i.props.refreshAvailmentState()}})),n.createElement("div",{style:{display:"inline-block"}},n.createElement(W.a,{icon:N.v,onClick:function(){e.procedures.splice(r,1),i.props.refreshAvailmentState(),e.procedures.find(function(e){return""===e.cptCode.value})||i.pushBlankProcedures(a)}})))),n.createElement("div",{style:{position:"absolute"}},n.createElement(O.a,{label:"Add procedure",icon:N.B,onClick:function(){i.pushBlankProcedures(a),i.props.refreshAvailmentState()}})),n.createElement("div",{style:{paddingTop:"1rem"}}))}}]),t}(n.Component),ue=a(34),de=a(449),pe=a(18),fe=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder}},{key:"render",value:function(){var e=this,t=this.props.size,a=t&&"small"===t;return n.createElement("div",{className:"custom-uploader"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("div",{style:a?{padding:9}:{},className:"upload-box"},n.createElement(de.a,{multiple:!1,onDrop:function(t){return e.props.onDrop(t)},accept:this.props.accept},function(t){var r=t.getRootProps,i=t.getInputProps;return n.createElement("section",null,n.createElement("div",Object.assign({className:"upload-file"},r()),n.createElement("input",i()),n.createElement(pe.a,{style:a?{marginRight:5}:{},className:"fa-1.5x",icon:N.q}),n.createElement("div",{style:a?{display:"inline-block"}:{}},"Drag or drop file to upload a ",e.props.size&&"small"===e.props.size?"":n.createElement("br",null)," supporting documents")))})))}}]),t}(n.Component),he=a(752),ge=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value||this.props.defaultRows!==e.defaultRows||this.props.error!==e.error}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement(he.a,{style:this.props.error?{borderColor:"red"}:{},className:"text-field",rows:this.props.defaultRows?this.props.defaultRows:4,value:this.props.value,onChange:function(t){e.props.onChange(t.target.value)}}))}}]),t}(n.Component),Ee=a(431),be=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.downloadLink?n.createElement("a",{href:this.props.downloadLink,download:this.props.downloadLink},n.createElement(Ee.a,{className:"chip",label:this.props.label,onDelete:function(t){t.preventDefault(),e.props.onDelete(e.props.value)}})):n.createElement(Ee.a,{className:"chip",label:this.props.label,onDelete:function(){e.props.onDelete(e.props.value)}})}}]),t}(n.Component),ve=[{value:"AEPEX EB CONSULTING, INC.",label:"AEPEX EB CONSULTING, INC."},{value:"AFFINITAS INSURANCE BROKERS, INC",label:"AFFINITAS INSURANCE BROKERS, INC"},{value:"AFFINITY INSURANCE AND RISK SERVICES",label:"AFFINITY INSURANCE AND RISK SERVICES"},{value:"ALMAR INSURANCE AGENCY",label:"ALMAR INSURANCE AGENCY"},{value:"ALSONS INSURANCE BROKER",label:"ALSONS INSURANCE BROKER"},{value:"ALSONS INSURANCE BROKER - DAVAO",label:"ALSONS INSURANCE BROKER - DAVAO"},{value:"ANCHOR INSURANCE BROKERAGE CORPORATION",label:"ANCHOR INSURANCE BROKERAGE CORPORATION"},{value:"AON INSURANCE AND REINSURANCE BROKERS PHILS., INC.",label:"AON INSURANCE AND REINSURANCE BROKERS PHILS., INC."},{value:"AON PHILIPPINES INC. - CEBU",label:"AON PHILIPPINES INC. - CEBU"},{value:"APOLLO RISK MANAGERS & INSURANCE BROKERS, INC.",label:"APOLLO RISK MANAGERS & INSURANCE BROKERS, INC."},{value:"ARNEL COMMERCIAL INC.",label:"ARNEL COMMERCIAL INC."},{value:"ASCENT INSURANCE MGT. AGENCY (FORMERLY INSPEX)",label:"ASCENT INSURANCE MGT. AGENCY (FORMERLY INSPEX)"},{value:"ASIA PACIFIC DIRECT SERV",label:"ASIA PACIFIC DIRECT SERV"},{value:"ASIAN ASSET INSURANCE BROKERAGE CORP.",label:"ASIAN ASSET INSURANCE BROKERAGE CORP."},{value:"AUSTEN MORRIS ASSOCIATES PHILIPPINES",label:"AUSTEN MORRIS ASSOCIATES PHILIPPINES"},{value:"AV OCAMPO / ATR KIMENG INSURANCE BROKERS, INC.",label:"AV OCAMPO / ATR KIMENG INSURANCE BROKERS, INC."},{value:"AVENUES INSURANCE BROKERS, INC.",label:"AVENUES INSURANCE BROKERS, INC."},{value:"AWESOME INSURANCE SERVICES",label:"AWESOME INSURANCE SERVICES"},{value:"BARGEN INSURANCE",label:"BARGEN INSURANCE"},{value:"BARON GROUP INSURANCE BROKERS, INC.",label:"BARON GROUP INSURANCE BROKERS, INC."},{value:"BDO INSURANCE BROKER, INC.",label:"BDO INSURANCE BROKER, INC."},{value:"BDO INSURANCE BROKER, INC. - CEBU",label:"BDO INSURANCE BROKER, INC. - CEBU"},{value:"BDO INSURANCE BROKERS, INC. - DAVAO",label:"BDO INSURANCE BROKERS, INC. - DAVAO"},{value:"BDO INSURANCE BROKERS, INC. - BACOLOD",label:"BDO INSURANCE BROKERS, INC. - BACOLOD"},{value:"BERNARDO FRANCISCO & ASSOCIATES INSURANCE BROKERS",label:"BERNARDO FRANCISCO & ASSOCIATES INSURANCE BROKERS"},{value:"BEST FINANCIAL ASSETS INSURANCE AGENCY CORPORATION",label:"BEST FINANCIAL ASSETS INSURANCE AGENCY CORPORATION"},{value:"BLUCARE MARKETING SERVICES, INC.",label:"BLUCARE MARKETING SERVICES, INC."},{value:"BLUESTAR INSURANCE BROKER",label:"BLUESTAR INSURANCE BROKER"},{value:"BONIFACIO INSURANCE BROKER CORP.",label:"BONIFACIO INSURANCE BROKER CORP."},{value:"BREAKWAY QUALITY SERVICES CORPORATION",label:"BREAKWAY QUALITY SERVICES CORPORATION"},{value:"BRIA INSURANCE AGENCY",label:"BRIA INSURANCE AGENCY"},{value:"BUSINESS OPTIONS INSURANCE BROKERS, INC.",label:"BUSINESS OPTIONS INSURANCE BROKERS, INC."},{value:"CARE LINK INTEGRATED SERVICES, INC.",label:"CARE LINK INTEGRATED SERVICES, INC."},{value:"CBC INSURANCE BROKERS",label:"CBC INSURANCE BROKERS"},{value:"CENTROLINK INSURANCE BROKERS PHILS.CORP.",label:"CENTROLINK INSURANCE BROKERS PHILS.CORP."},{value:"CHINA BANK INSURANCE BROKERS, INC.",label:"CHINA BANK INSURANCE BROKERS, INC."},{value:"CHREON CONSULTANTS, INC.",label:"CHREON CONSULTANTS, INC."},{value:"CIC INSURANCE BROKERS PHILS., INC.",label:"CIC INSURANCE BROKERS PHILS., INC."},{value:"CLIENT FIRST CONSULTANTS (INSURANCE AGENCY), INC.",label:"CLIENT FIRST CONSULTANTS (INSURANCE AGENCY), INC."},{value:"CLIENT PLUS (INSURANCE AGENCY) INC.",label:"CLIENT PLUS (INSURANCE AGENCY) INC."},{value:"COM-IND INSURANCE",label:"COM-IND INSURANCE"},{value:"COMMERCE & TRADE INS. BROKERAGE",label:"COMMERCE & TRADE INS. BROKERAGE"},{value:"CONSORTIO INSURANCE BROKERS, INC.",label:"CONSORTIO INSURANCE BROKERS, INC."},{value:"CONSORTIO INSURANCE & HEALTHCARE  INTERMEDIARY, INC.",label:"CONSORTIO INSURANCE & HEALTHCARE  INTERMEDIARY, INC."},{value:"CONVERGENT FINANCIALS AND INSURANCE AGENCY INC.",label:"CONVERGENT FINANCIALS AND INSURANCE AGENCY INC."},{value:"CROWN CIRCLE INSURANCE BROKERS, INC.",label:"CROWN CIRCLE INSURANCE BROKERS, INC."},{value:"DANA INSURANCE BROKERS",label:"DANA INSURANCE BROKERS"},{value:"DANA INSURANCE BROKERS, INC.",label:"DANA INSURANCE BROKERS, INC."},{value:"DAYANAN BUSINESS CONSULTANCY",label:"DAYANAN BUSINESS CONSULTANCY"},{value:"EIB INSURANCE BROKERS, INC.",label:"EIB INSURANCE BROKERS, INC."},{value:"EMINENT INSURANCE AGENCY",label:"EMINENT INSURANCE AGENCY"},{value:"EUROBROKERS INTERNATIONAL INC.",label:"EUROBROKERS INTERNATIONAL INC."},{value:"EXQUISITE BROKER",label:"EXQUISITE BROKER"},{value:"FINANCIAL ALLIANCE",label:"FINANCIAL ALLIANCE"},{value:"FIRST GLIDERS OPTIONS PHILIPPINES, INC.",label:"FIRST GLIDERS OPTIONS PHILIPPINES, INC."},{value:"FIRST GLOBAL INTEGRATED INSURANCE AGENCY INC.",label:"FIRST GLOBAL INTEGRATED INSURANCE AGENCY INC."},{value:"FIRST METRO INSURANCE AGENCY, INC.",label:"FIRST METRO INSURANCE AGENCY, INC."},{value:"FIRST QUEDAN INSURANCE BROKER",label:"FIRST QUEDAN INSURANCE BROKER"},{value:"FOREFRONT INSURANCE AGENCY CORP.",label:"FOREFRONT INSURANCE AGENCY CORP."},{value:"FRANCISCO P. ALVAREZ HEALTH INSURANCE SERVICES",label:"FRANCISCO P. ALVAREZ HEALTH INSURANCE SERVICES"},{value:"G8 INSURANCE AGENCY INCORPORATED",label:"G8 INSURANCE AGENCY INCORPORATED"},{value:"GAP SOLUTIONS UNLIMITED, INC.",label:"GAP SOLUTIONS UNLIMITED, INC."},{value:"GENESIS HEALTHCARE SERVICES",label:"GENESIS HEALTHCARE SERVICES"},{value:"GOTUACO, DEL ROSARIO INSURANCE BROKERS, INC.",label:"GOTUACO, DEL ROSARIO INSURANCE BROKERS, INC."},{value:"GTS INSURANCE BROKERS, INC.",label:"GTS INSURANCE BROKERS, INC."},{value:"GUATICO DEL ROSARIO AND ASSOCIATE",label:"GUATICO DEL ROSARIO AND ASSOCIATE"},{value:"GUEVENT INSURANCE AGENCY CORP.",label:"GUEVENT INSURANCE AGENCY CORP."},{value:"GUOCO INSURANCE BROKER",label:"GUOCO INSURANCE BROKER"},{value:"HEALTH, WELL-BEING AND RESOURCES UNLIMITED, INC.",label:"HEALTH, WELL-BEING AND RESOURCES UNLIMITED, INC."},{value:"HISCOR INSURANCE SERVICES CORP.",label:"HISCOR INSURANCE SERVICES CORP."},{value:"HOWDEN INSURANCE & REINSURANCE BROKERS (PHIL.), INC.",label:"HOWDEN INSURANCE & REINSURANCE BROKERS (PHIL.), INC."},{value:"HSBC INSURANCE BROKERS",label:"HSBC INSURANCE BROKERS"},{value:"HUBERTUS CLASIUS",label:"HUBERTUS CLASIUS"},{value:"HUBERTUS CLAUSIUS INSURANCE",label:"HUBERTUS CLAUSIUS INSURANCE"},{value:"IFRC INSURANCE AGENCY, INC.",label:"IFRC INSURANCE AGENCY, INC."},{value:"INFINITY INSURANCE AGENCY, INC",label:"INFINITY INSURANCE AGENCY, INC"},{value:"INSURE HEALTHCARE, INC.",label:"INSURE HEALTHCARE, INC."},{value:"INTEGRA ASIA INSURANCE",label:"INTEGRA ASIA INSURANCE"},{value:"INTEGRITY FINANCIALS INSURANCE BROKER",label:"INTEGRITY FINANCIALS INSURANCE BROKER"},{value:"INTELLIWORLD CORP.",label:"INTELLIWORLD CORP."},{value:"INTERVEST INSURANCE AGENCY, INC.",label:"INTERVEST INSURANCE AGENCY, INC."},{value:"ISOLVE EMPLOYEE BENEFITS CONSULTANTS INC",label:"ISOLVE EMPLOYEE BENEFITS CONSULTANTS INC"},{value:"IUBI INSURANCE INTERMEDIARY CORP.",label:"IUBI INSURANCE INTERMEDIARY CORP."},{value:"JAKA INSURANCE BROKER",label:"JAKA INSURANCE BROKER"},{value:"JARDINE LLOYD THOMPSON INS. - CEBU",label:"JARDINE LLOYD THOMPSON INS. - CEBU"},{value:"JARDINE LLOYD THOMPSON INSURANCE AND REINSURANCE BROKERS,INC",label:"JARDINE LLOYD THOMPSON INSURANCE AND REINSURANCE BROKERS,INC"},{value:"JASA INSURANCE AGENCY & MANAGEMENT CONSULTANTS, INC.",label:"JASA INSURANCE AGENCY & MANAGEMENT CONSULTANTS, INC."},{value:"JELSON & JELSON HSMR",label:"JELSON & JELSON HSMR"},{value:"JERICHO HEALTHCARE AGENCY CO.",label:"JERICHO HEALTHCARE AGENCY CO."},{value:"JIDC CONSULTANCY SERVICES",label:"JIDC CONSULTANCY SERVICES"},{value:"JOAQUIN POCHOLO CONSULTANCY, INC.",label:"JOAQUIN POCHOLO CONSULTANCY, INC."},{value:"JP GALANG HEALTHCARE SERVICES",label:"JP GALANG HEALTHCARE SERVICES"},{value:"JW GROUP",label:"JW GROUP"},{value:"K & A INSURANCE BROKERS",label:"K & A INSURANCE BROKERS"},{value:"K&A INSURANCE BROKERS, INC.",label:"K&A INSURANCE BROKERS, INC."},{value:"KAISER INTERNATIONAL HEALTH GROUP",label:"KAISER INTERNATIONAL HEALTH GROUP"},{value:"KEYMAN EMPLOYEE BENEFITS CONSULTANTS, INC.",label:"KEYMAN EMPLOYEE BENEFITS CONSULTANTS, INC."},{value:"KPI, INSURANCE AGENCY CORPORATION",label:"KPI, INSURANCE AGENCY CORPORATION"},{value:"KREESE-T NETWORK, INC.",label:"KREESE-T NETWORK, INC."},{value:"LACSON & LACSON INSURANCE BROKERS, INC.",label:"LACSON & LACSON INSURANCE BROKERS, INC."},{value:"LALAINE YLAYA INSURANCE AGENCY , INC.",label:"LALAINE YLAYA INSURANCE AGENCY , INC."},{value:"LCC HEALTHCARE CONSULTANCY",label:"LCC HEALTHCARE CONSULTANCY"},{value:"LLG - NATURALE LABS INC.",label:"LLG - NATURALE LABS INC."},{value:"LOCKTON PHILIPPINES INSURANCE & REINSURANCE BROKERS INC.",label:"LOCKTON PHILIPPINES INSURANCE & REINSURANCE BROKERS INC."},{value:"LOCKTON PHILS. INSURANCE & REINSURANCE BROKERS, INC. - CEBU",label:"LOCKTON PHILS. INSURANCE & REINSURANCE BROKERS, INC. - CEBU"},{value:"MACHICA FIRM, INC.",label:"MACHICA FIRM, INC."},{value:"MAGNATE INSURANCE AGENCY & CONSULTANCY, INC.",label:"MAGNATE INSURANCE AGENCY & CONSULTANCY, INC."},{value:"MAGSAYSAY HOULDER INS. BROKERS INC.",label:"MAGSAYSAY HOULDER INS. BROKERS INC."},{value:"MAGSAYSAY INSURANCE BROKER",label:"MAGSAYSAY INSURANCE BROKER"},{value:"MANTES INSURANCE AGENCY INC.",label:"MANTES INSURANCE AGENCY INC."},{value:"MARSH PHILIPPINES RISK ADVISERS & INSURANCE BROKERS",label:"MARSH PHILIPPINES RISK ADVISERS & INSURANCE BROKERS"},{value:"MATRIX HEALTHCARD MARKETING SERVICES",label:"MATRIX HEALTHCARD MARKETING SERVICES"},{value:"MAYFAIR CONSULTANCY SERVICES PHILIPPINES, INC.",label:"MAYFAIR CONSULTANCY SERVICES PHILIPPINES, INC."},{value:"MEDSYSTEMS ALLIANCE FACILITATOR",label:"MEDSYSTEMS ALLIANCE FACILITATOR"},{value:"MIC SALES AND MARKETING CORP",label:"MIC SALES AND MARKETING CORP"},{value:"MMR HEALTHCARE SERVICES",label:"MMR HEALTHCARE SERVICES"},{value:"NEW CANAAN INSURANCE AGENCY, INC.",label:"NEW CANAAN INSURANCE AGENCY, INC."},{value:"NORALYN DELA CRUZ INSURANCE SERVICES",label:"NORALYN DELA CRUZ INSURANCE SERVICES"},{value:"OMNI INTERNATIONAL CONSULTANTS, INC.",label:"OMNI INTERNATIONAL CONSULTANTS, INC."},{value:"ONE HEALTH INSURANCE SERVICES",label:"ONE HEALTH INSURANCE SERVICES"},{value:"ONE PACIFIC PRIME SOLUTIONS, INC.",label:"ONE PACIFIC PRIME SOLUTIONS, INC."},{value:"OPTIMUM SOURCE 2011",label:"OPTIMUM SOURCE 2011"},{value:"P&R NIMBUS INSURANCE CONSULTANTS, INC.",label:"P&R NIMBUS INSURANCE CONSULTANTS, INC."},{value:"PACIFIC INT'L. INSURANCE BROKERS, INC.",label:"PACIFIC INT'L. INSURANCE BROKERS, INC."},{value:"PAJ  RESOURCES, INC.",label:"PAJ  RESOURCES, INC."},{value:"PARAMOUNTCARE CORPORATION",label:"PARAMOUNTCARE CORPORATION"},{value:"PASCUAL-GARZON CO.",label:"PASCUAL-GARZON CO."},{value:"PCCI INSURANCE BROKER",label:"PCCI INSURANCE BROKER"},{value:"PENTA INSURANCE BROKER SERVICES, INC.",label:"PENTA INSURANCE BROKER SERVICES, INC."},{value:"PHIL. INT'L INSURANCE BROKER",label:"PHIL. INT'L INSURANCE BROKER"},{value:"PHILPACIFIC INSURANCE BROKERS AND MANAGERS,INC.",label:"PHILPACIFIC INSURANCE BROKERS AND MANAGERS,INC."},{value:"PHILPACIFIC INSURANCE BROKERS AND MANAGERS,INC. - CEBU",label:"PHILPACIFIC INSURANCE BROKERS AND MANAGERS,INC. - CEBU"},{value:"PLPI FINANCIALS & INSURANCE BROKERS, INC.",label:"PLPI FINANCIALS & INSURANCE BROKERS, INC."},{value:"PIONEER LIFE, INC.",label:"PIONEER LIFE, INC."},{value:"PROVIDENCE HEALTHCARE",label:"PROVIDENCE HEALTHCARE"},{value:"PRYCE LIFE INSURANCE",label:"PRYCE LIFE INSURANCE"},{value:"RA ROCO INSURANCE BROKERS",label:"RA ROCO INSURANCE BROKERS"},{value:"RAIA GENERAL AGENCY",label:"RAIA GENERAL AGENCY"},{value:"RECTO & SONS INSURANCE AGENCY, INC.",label:"RECTO & SONS INSURANCE AGENCY, INC."},{value:"RELIABLE INSURANCE BROKERS, INC.",label:"RELIABLE INSURANCE BROKERS, INC."},{value:"RESOURCE ONE INC. & OR MICHAEL SALALIMA",label:"RESOURCE ONE INC. & OR MICHAEL SALALIMA"},{value:"RESPONSIVE HEALTH & INSURANCE BROKERS, INC.",label:"RESPONSIVE HEALTH & INSURANCE BROKERS, INC."},{value:"RICHARD & RICHARD INS. BROKER INC.",label:"RICHARD & RICHARD INS. BROKER INC."},{value:"RMM RELLIABLE MANAGEMENT & MARKETING, INC.",label:"RMM RELLIABLE MANAGEMENT & MARKETING, INC."},{value:"ROYAL DRAGON INSURANCE CONSULTANCY",label:"ROYAL DRAGON INSURANCE CONSULTANCY"},{value:"SALUSMUNDI RISK MANAGEMENT AND INSURANCE SERVICES",label:"SALUSMUNDI RISK MANAGEMENT AND INSURANCE SERVICES"},{value:"SEAMORA CORP.",label:"SEAMORA CORP."},{value:"SEDGEWICK TRADERS CORP",label:"SEDGEWICK TRADERS CORP"},{value:"SERVICE ON SIGHT RESEARCH & CONSULTANCY",label:"SERVICE ON SIGHT RESEARCH & CONSULTANCY"},{value:"SERVIMUS INSURANCE AGENCY, INC.",label:"SERVIMUS INSURANCE AGENCY, INC."},{value:"SERVIR INSURANCE AGENCY, INC.",label:"SERVIR INSURANCE AGENCY, INC."},{value:"SERVIR ONE STOP INSURANCE AGENCY, INC.",label:"SERVIR ONE STOP INSURANCE AGENCY, INC."},{value:"SEVENFOLD HEALTH-SERVE, INC.",label:"SEVENFOLD HEALTH-SERVE, INC."},{value:"SHALOM HEALTHCARE",label:"SHALOM HEALTHCARE"},{value:"SHERALINK MANAGEMENT CONSULTANCY & INS. BRKR. CORP.",label:"SHERALINK MANAGEMENT CONSULTANCY & INS. BRKR. CORP."},{value:"SOLEBEN CORPORATE SOLUTIONS, INC.",label:"SOLEBEN CORPORATE SOLUTIONS, INC."},{value:"SOLID INSURANCE BROKER, INC.",label:"SOLID INSURANCE BROKER, INC."},{value:"SOLUTIONS INS. BROKERS INC.",label:"SOLUTIONS INS. BROKERS INC."},{value:"SYNERGY EXPERTISE, INC.",label:"SYNERGY EXPERTISE, INC."},{value:"TAISHAN INSURANCE BROKERS PHILIPPINES, INC.",label:"TAISHAN INSURANCE BROKERS PHILIPPINES, INC."},{value:"TEKTITE INSURANCE BROKER",label:"TEKTITE INSURANCE BROKER"},{value:"T-O INSURANCE BROKERS, INC.",label:"T-O INSURANCE BROKERS, INC."},{value:"TOWERS WATSON INSURANCE BROKERS PHILIPPINES, INC.",label:"TOWERS WATSON INSURANCE BROKERS PHILIPPINES, INC."},{value:"TOYOTSU INSURANCE AGENCY PHILS., INC.",label:"TOYOTSU INSURANCE AGENCY PHILS., INC."},{value:"TRIGEN INSURANCE AGENCY",label:"TRIGEN INSURANCE AGENCY"},{value:"TRINITY HEALTHCARE SERVICES, INC.",label:"TRINITY HEALTHCARE SERVICES, INC."},{value:"TRINITY INSURANCE BROKERS INC.",label:"TRINITY INSURANCE BROKERS INC."},{value:"TRINITY INSURANCE BROKERS, CEBU, INC.",label:"TRINITY INSURANCE BROKERS, CEBU, INC."},{value:"TRIPLE H CARE",label:"TRIPLE H CARE"},{value:"TSG HEALTH & LIFE MARKETING SERVICES",label:"TSG HEALTH & LIFE MARKETING SERVICES"},{value:"TUDELA VIEWPOINTEE RESORT",label:"TUDELA VIEWPOINTEE RESORT"},{value:"UDENNA INSURANCE BROKERS",label:"UDENNA INSURANCE BROKERS"},{value:"UGNAYANG PANGKABUHAYAN MULTI-PURPOSE COOP - SHARP",label:"UGNAYANG PANGKABUHAYAN MULTI-PURPOSE COOP - SHARP"},{value:"UNICON INSURANCE BROKERS CORP.",label:"UNICON INSURANCE BROKERS CORP."},{value:"UNIGUARANTEE INSURANCE BROKERAGE, INC.",label:"UNIGUARANTEE INSURANCE BROKERAGE, INC."},{value:"UPRAISE, INC.",label:"UPRAISE, INC."},{value:"V.A. DIAZ INSURANCE CONSULTING",label:"V.A. DIAZ INSURANCE CONSULTING"},{value:"VALUE CARE INS. AGENCY, INC",label:"VALUE CARE INS. AGENCY, INC"},{value:"VENDOME INSURANCE BROKERS CORP.",label:"VENDOME INSURANCE BROKERS CORP."},{value:"VENDOME INSURANCE BROKERS INC.",label:"VENDOME INSURANCE BROKERS INC."},{value:"WILLIS TOWERS WATSON INSURANCE BROKERS PHILIPPINES, INC.",label:"WILLIS TOWERS WATSON INSURANCE BROKERS PHILIPPINES, INC."},{value:"WINEBRENNER & INIGO INSURANCE BROKERS, INC.",label:"WINEBRENNER & INIGO INSURANCE BROKERS, INC."},{value:"WINTERNITZ ASSOCIATES INSURANCE BROKERS CORP.",label:"WINTERNITZ ASSOCIATES INSURANCE BROKERS CORP."},{value:"WISE INSURANCE BROKERS",label:"WISE INSURANCE BROKERS"},{value:"WODEL INC.",label:"WODEL INC."},{value:"WOODROSE HEALTHCARE MARKETING SERVICES",label:"WOODROSE HEALTHCARE MARKETING SERVICES"},{value:"WTL INSURANCE BROKERS",label:"WTL INSURANCE BROKERS"},{value:"YAPSTER E-INSURANCE BROKERS, INC.",label:"YAPSTER E-INSURANCE BROKERS, INC."}],_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).ticketChannels=void 0,a.ticketSources=void 0,a.memberSourceChoices=void 0,a.corporateSourceChoices=void 0,a.ticketTypes=void 0,a.specificTypes=void 0,a.urgencies=void 0,a.getSpecficTypes=function(){var e=a.props.login.group?a.props.login.group.department:"";return a.specificTypes.filter(function(t){return t.params&&t.params.includes(e)})},a.getTicketTypes=function(){return a.ticketTypes.filter(function(e){var t=a.props.login.group?a.props.login.group.department:"",n=a.props.searchIDType,r=e.params;return(("Client ID"!==n||null!==a.props.clientOrMember)&&"client"!==a.props.clientOrMember||!r||!r.includes("Member Only"))&&!(!r||!r.includes(t))})},a.ticketChannels=[{value:"1",label:"Call"},{value:"2",label:"SMS"},{value:"3",label:"Text"},{value:"4",label:"Email"},{value:"5",label:"Walk-in"}],a.ticketSources=[{value:"1",label:"Member"},{value:"2",label:"Corporate Client"},{value:"3",label:"Broker"},{value:"4",label:"Agent"},{value:"5",label:"Clinic/Hospital"},{value:"6",label:"PRO"}],a.memberSourceChoices=[{value:"Actual Member",label:"Actual Member"},{value:"Other",label:"Other"}],a.corporateSourceChoices=[{value:"Company HR",label:"Company HR"},{value:"Company Nurse",label:"Company Nurse"},{value:"Other",label:"Other"}],a.ticketTypes=[{value:"1",label:"Availment",params:["Customer Service","Patient Relations","Member Only"]},{value:"2",label:"Inquiry",params:["Customer Service","Patient Relations","AMD"]},{value:"3",label:"Request/Endorsement",params:["Customer Service","Patient Relations","AMD"]},{value:"4",label:"Complaint/Concern",params:["Customer Service","Patient Relations","AMD"]},{value:"5",label:"Request Requiring Approval",params:["AMD"]}],a.specificTypes=[{value:"1",label:"Outpatient Procedure",params:["Availment","Customer Service","Patient Relations"]},{value:"2",label:"Inpatient",params:["Availment","Patient Relations","Customer Service"]},{value:"3",label:"Emergency Room",params:["Availment","Customer Service"]},{value:"4",label:"Consultation",params:["Availment","Customer Service"]}],a.urgencies=[{value:"1",label:"Low"},{value:"2",label:"Medium"},{value:"3",label:"High"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.ticket;return n.createElement("div",{className:"ticket-info"},n.createElement("div",{style:{paddingTop:"5rem"}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"TICKET INFORMATION"),n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:5},n.createElement(Z.a,{placeholder:"Received via",choices:this.ticketChannels,value:{value:"",label:t.ticketChannel},error:this.props.createTicketAttemp&&""===t.ticketChannel,onChange:function(t){e.props.ticket.ticketChannel=t.label,e.props.refreshTicketState()}})),n.createElement(_.a,{item:!0,xs:7},n.createElement(z.a,{placeholder:"Transaction No.",value:t.transactionNo,disabled:!0,onChange:function(t){e.props.ticket.transactionNo=t,e.props.refreshTicketState()}}))),n.createElement(Z.a,{placeholder:"Received From*",choices:this.ticketSources,value:{value:"",label:t.ticketSource},error:this.props.createTicketAttemp&&""===t.ticketSource,onChange:function(t){e.props.ticket.ticketSource=t.label,e.props.refreshTicketState()}}),"Member"===t.ticketSource&&this.props.isMember?n.createElement(n.Fragment,null,n.createElement(Z.a,{placeholder:"Caller*",choices:this.memberSourceChoices,value:t.memberSourceChoice,error:this.props.createTicketAttemp&&""===t.memberSourceChoice.value,onChange:function(t){e.props.ticket.memberSourceChoice=t,e.props.refreshTicketState()}}),t.memberSourceChoice&&"Other"===t.memberSourceChoice.value?n.createElement(n.Fragment,null,n.createElement(z.a,{placeholder:"Name of Caller*",value:t.callerName,error:this.props.createTicketAttemp&&""===t.callerName.trim(),onChange:function(t){e.props.ticket.callerName=t,e.props.refreshTicketState()}}),n.createElement(z.a,{placeholder:"Relationship to Member*",value:t.relationshipToMember,error:this.props.createTicketAttemp&&""===t.relationshipToMember.trim(),onChange:function(t){e.props.ticket.relationshipToMember=t,e.props.refreshTicketState()}})):null):"Member"===t.ticketSource?n.createElement(z.a,{placeholder:"Name of Caller*",value:t.callerName,error:this.props.createTicketAttemp&&""===t.callerName.trim(),onChange:function(t){e.props.ticket.callerName=t,e.props.refreshTicketState()}}):"PRO"===t.ticketSource?n.createElement(z.a,{placeholder:"Name of PRO*",value:t.callerName,error:this.props.createTicketAttemp&&""===t.callerName.trim(),onChange:function(t){e.props.ticket.callerName=t,e.props.refreshTicketState()}}):"Corporate Client"===t.ticketSource?n.createElement(n.Fragment,null,n.createElement(Z.a,{placeholder:"Caller*",choices:this.corporateSourceChoices,value:t.corporateSourceChoice,error:this.props.createTicketAttemp&&""===t.corporateSourceChoice.value,onChange:function(t){e.props.ticket.corporateSourceChoice=t,e.props.refreshTicketState()}}),t.corporateSourceChoice&&"Other"===t.corporateSourceChoice.value?n.createElement(z.a,{placeholder:"Company Designation/Position*",value:t.companyPosition,error:this.props.createTicketAttemp&&""===t.companyPosition.trim(),onChange:function(t){e.props.ticket.companyPosition=t,e.props.refreshTicketState()}}):null,n.createElement(z.a,{placeholder:"Name of Caller*",value:t.callerName,error:this.props.createTicketAttemp&&""===t.callerName.trim(),onChange:function(t){e.props.ticket.callerName=t,e.props.refreshTicketState()}})):"Broker"===t.ticketSource?n.createElement(n.Fragment,null,n.createElement(Z.a,{placeholder:"Broker Name*",choices:ve,value:t.brokerName,error:this.props.createTicketAttemp&&""===t.brokerName.value,onChange:function(t){e.props.ticket.brokerName=t,e.props.refreshTicketState()}}),n.createElement(z.a,{placeholder:"Name of Caller*",value:t.callerName,error:this.props.createTicketAttemp&&""===t.callerName.trim(),onChange:function(t){e.props.ticket.callerName=t,e.props.refreshTicketState()}})):"Agent"===t.ticketSource?n.createElement(z.a,{placeholder:"Name of Caller*",value:t.callerName,error:this.props.createTicketAttemp&&""===t.callerName.trim(),onChange:function(t){e.props.ticket.callerName=t,e.props.refreshTicketState()}}):"Clinic/Hospital"===t.ticketSource?n.createElement(n.Fragment,null,n.createElement(Z.a,{placeholder:"Name of Hospital*",choices:[].concat(Object(ue.a)(this.props.facilities),[{value:"",label:"NOT AFFILIATED"}]),value:t.facility,error:this.props.createTicketAttemp&&""===t.facility.value,onChange:function(t){e.props.ticket.facility=t,e.props.refreshTicketState()}}),t.facility&&"NOT AFFILIATED"===t.facility.label?n.createElement(z.a,{placeholder:"Clinic/Hospital Name*",value:t.facility.value,error:this.props.createTicketAttemp&&""===t.department.trim(),onChange:function(t){e.props.ticket.facility.value=t,e.props.refreshTicketState()}}):null,n.createElement(z.a,{placeholder:"Department/Section*",value:t.department,error:this.props.createTicketAttemp&&""===t.department.trim(),onChange:function(t){e.props.ticket.department=t,e.props.refreshTicketState()}}),n.createElement(z.a,{placeholder:"Name of Caller*",value:t.callerName,error:this.props.createTicketAttemp&&""===t.callerName.trim(),onChange:function(t){e.props.ticket.callerName=t,e.props.refreshTicketState()}})):null,n.createElement(z.a,{placeholder:"Contact No.*",value:t.contactNo,error:this.props.createTicketAttemp&&""===t.contactNo.trim(),onChange:function(t){(t.match(/^[0-9\b]+$/)||0==t.length)&&(e.props.ticket.contactNo=t,e.props.refreshTicketState())}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"TICKET CATEGORY"),n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:5},n.createElement(Z.a,{placeholder:"Ticket Type*",choices:this.getTicketTypes(),value:{value:"",label:t.ticketType},error:this.props.createTicketAttemp&&""===t.ticketType,onChange:function(t){e.props.ticket.ticketType=t.label,e.props.ticket.specificType="Availment"!==t.label?"Not Applicable":"",e.props.ticket.assignee={id:"",isGroup:!1,name:"",customData:void 0},e.props.refreshTicketState()}})),n.createElement(_.a,{item:!0,xs:7},n.createElement(Z.a,{placeholder:"Specific Type*",disabled:"Availment"!==t.ticketType&&"Non-Availment"!==t.ticketType,choices:this.getSpecficTypes(),value:{value:"",label:t.specificType},error:this.props.createTicketAttemp&&""===t.specificType&&"Inquiry"!==t.ticketType,onChange:function(t){e.props.ticket.specificType=t.label,e.props.ticket.assignee={id:"",isGroup:!1,name:"",customData:void 0},e.props.refreshTicketState()}})),n.createElement(_.a,{item:!0,xs:5},n.createElement(Z.a,{placeholder:"Urgency",choices:this.urgencies,value:{value:"",label:t.urgency},error:this.props.createTicketAttemp&&""===t.urgency,onChange:function(t){e.props.ticket.urgency=t.label,e.props.refreshTicketState()}})),n.createElement(_.a,{item:!0,xs:7},n.createElement(Z.a,{placeholder:"Assign To*",choices:this.props.assignees,disabled:""===t.ticketType,showAllResult:!0,value:{value:t.assignee&&t.assignee.id?t.assignee.id:"",label:t.assignee&&t.assignee.name?t.assignee.name:""},error:this.props.createTicketAttemp&&""===t.assignee.id,onFocus:function(){e.props.loadAssignees(e.props.ticket.ticketType,e.props.ticket.specificType)},onChange:function(t){e.props.ticket.assignee={id:t.value,name:t.label,isGroup:!!(t.params&&t.params.length>0)&&t.params[0],customData:t.params?t.params[1]:void 0},e.props.refreshTicketState()}})))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"ADDITIONAL NOTES AND FILES"),n.createElement(ge,{placeholder:"Additional Notes".concat("Me"!==this.props.ticket.assignee.name&&""!==this.props.ticket.assignee.name?"*":""),value:t.additionalNotes,error:this.props.createTicketAttemp&&"Me"!==this.props.ticket.assignee.name&&""===t.additionalNotes,onChange:function(t){e.props.ticket.additionalNotes=t,e.props.refreshTicketState()}}),n.createElement(fe,{accept:"image/*, .pdf, .doc, .docx, .csv, .odt, .ods, .xls, .xlsx, .txt",onDrop:function(a){t.additionalFiles.push(a[0]),e.props.refreshTicketState()}}),t.additionalFiles.map(function(a,r){return a?n.createElement(be,{label:a.name,value:r.toString(),onDelete:function(a){t.additionalFiles.splice(parseInt(a),1),e.props.refreshTicketState()}}):(t.additionalFiles.splice(r,1),e.props.callSnackbar("Unsupported file type"),null)})),n.createElement("div",{className:"section"}))}}]),t}(n.Component),ye=a(164),Ce=a.n(ye),Ne=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement("div",{className:"input-field-container"},n.createElement("div",{className:"text"},this.props.placeholder),n.createElement(Ce.a,{className:"text-field",style:t,value:this.props.value,fullWidthInput:!1,onAdd:function(t){return e.props.onAdd(t)},onDelete:function(t,a){return e.props.onDelete(a)}}))}}]),t}(n.Component),Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).inquiries=void 0,a.state={inquiry:{value:"",label:""},itemToEditIndex:-1,inquiryToEdit:{value:"",label:""}},a.inquiries=[{value:"1",label:"Member Status / Card Inquiry"},{value:"2",label:"Member Network Access Inquiry"},{value:"3",label:"Member Benefit Inquiry - General [Outpatient]"},{value:"4",label:"Member Benefit Inquiry - General [Inpatient]"},{value:"5",label:"Member Benefit Inquiry - General [Emergency]"},{value:"6",label:"Member Benefit Inquiry - General [Dental]"},{value:"7",label:"Member Benefit Inquiry - General [APE / ECU]"},{value:"8",label:"Member Benefit Inquiry - General [Riders]"},{value:"9",label:"Member Coverage Inquiry - Specific Benefit"},{value:"10",label:"Member Availment Inquiry - CanAvail"},{value:"11",label:"Member Eligibility Inquiry"},{value:"12",label:"Reimbursement Status Inquiry"},{value:"13",label:"General Affiliated Network Inquiry - Facility"},{value:"14",label:"General Affiliated Network Inquiry - Doctor"},{value:"15",label:"General Affiliated Network Inquiry - Dentist"},{value:"16",label:"Procedural Inquiry - Outpatient"},{value:"17",label:"Procedural Inquiry - Inpatient"},{value:"18",label:"Procedural Inquiry - Emergency"},{value:"19",label:"Procedural Inquiry - Dental"},{value:"20",label:"Procedural Inquiry - APE / ECU"},{value:"21",label:"Procedural Inquiry - Member Enrolment / Cancellation / Update"},{value:"22",label:"Procedural Inquiry - Reimbursement"},{value:"23",label:"Procedural Inquiry - Others"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onAddInquiry",value:function(){""!==this.state.inquiry.value&&(this.props.inquiries.push({inquiry:this.state.inquiry,detail:"",specificDetail:[],answer:"",remarks:"",relatedTickets:[],supportDocs:[]}),this.props.refreshInquiryState(),this.setState({inquiry:{value:"",label:""}}))}},{key:"getFilteredInquiries",value:function(){for(var e=[],t=0;t<this.inquiries.length;t++){for(var a=!1,n=0;n<this.props.inquiries.length;n++)a=this.props.inquiries[n].inquiry.value===this.inquiries[t].value||a;a||(e=e.concat(this.inquiries[t]))}return e}},{key:"onRemoveInquiry",value:function(e){this.props.inquiries.splice(e,1),this.props.refreshInquiryState()}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"availment-section"},n.createElement("div",{style:{paddingTop:"5rem"}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"INQUIRY"),n.createElement("div",{className:"text"},"Add an inquiry type and then add the question and its details after"),n.createElement("div",{className:"sub-section"},n.createElement(L.a,{rows:this.props.inquiries,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}}))),n.createElement("div",{className:"section"}))}},{key:"renderTableHeader",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{minWidth:"400px",maxWidth:"400px"}},n.createElement(Z.a,{choices:this.getFilteredInquiries(),value:this.state.inquiry,onChange:function(t){e.setState({inquiry:t})}})),n.createElement(j.a,{style:{minWidth:"125px",maxWidth:"125px",textAlign:"center"}},n.createElement(O.a,{icon:N.B,label:"Add inquiry",onClick:function(){e.onAddInquiry()}})))}},{key:"renderTableRow",value:function(e,t){var a=this,r=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r}},n.createElement(j.a,{colSpan:2},n.createElement(_.a,{container:!0,spacing:1},this.state.itemToEditIndex===t?n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:10},n.createElement(Z.a,{choices:this.getFilteredInquiries(),value:this.state.inquiryToEdit,onChange:function(e){a.setState({inquiryToEdit:e})}})),n.createElement(_.a,{item:!0,xs:2,style:{textAlign:"right"}},n.createElement(W.a,{icon:N.i,onClick:function(){a.props.inquiries[t].inquiry=a.state.inquiryToEdit,a.props.refreshInquiryState(),a.setState({itemToEditIndex:-1})}}),n.createElement(W.a,{icon:N.O,onClick:function(){a.setState({itemToEditIndex:-1})}}))):n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:10,className:"header-2"},e.inquiry.label),n.createElement(_.a,{item:!0,xs:2,style:{textAlign:"right"}},n.createElement(W.a,{icon:N.y,onClick:function(){a.setState({itemToEditIndex:t,inquiryToEdit:{value:e.inquiry.value,label:e.inquiry.label}})}}),n.createElement(W.a,{icon:N.v,onClick:function(){a.onRemoveInquiry(t)}})))),n.createElement("div",{style:{position:"relative"}},n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement("div",{className:"line-border"}),n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:1}),n.createElement(_.a,{item:!0,xs:11},n.createElement("div",{style:{margin:"8px 8px 1.5rem 8px"}},n.createElement(z.a,{placeholder:"Details of inquiry (Question)*",error:this.props.createTicketAttemp&&0===e.detail.length,value:e.detail,onChange:function(t){e.detail=t,a.props.refreshInquiryState()}}),n.createElement(Ne,{placeholder:"Specific Details (Optional, Type benefit/doctor/facility to describe inquiry, press enter to add)",value:e.specificDetail,onAdd:function(t){e.specificDetail.push(t),a.props.refreshInquiryState()},onDelete:function(t){e.specificDetail.splice(t,1),a.props.refreshInquiryState()}}),n.createElement(z.a,{placeholder:"Answer",error:this.props.createTicketAttemp&&"Resolve and Close"===this.props.buttonClicked&&""===e.answer,value:e.answer,onChange:function(t){e.answer=t,a.props.refreshInquiryState()}}),n.createElement(z.a,{placeholder:"Remarks (Optional)",value:e.remarks,onChange:function(t){e.remarks=t,a.props.refreshInquiryState()}}),n.createElement(Ne,{placeholder:"Related Tickets (Optional, press enter to add)",value:e.relatedTickets,onAdd:function(t){e.relatedTickets.push(t),a.props.refreshInquiryState()},onDelete:function(t){e.relatedTickets.splice(t,1),a.props.refreshInquiryState()}}),n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:7},n.createElement(fe,{accept:"image/*, .pdf, .doc, .docx, .csv, .odt, .ods, .xls, .xlsx, .txt",onDrop:function(t){e.supportDocs.push(t[0]),a.props.refreshInquiryState()}})),n.createElement(_.a,{item:!0,xs:5},e.supportDocs.map(function(t,r){return void 0===t?(a.props.callSnackbar&&(e.supportDocs.splice(r,1),a.props.callSnackbar("Unsupported file type")),null):n.createElement(be,{label:t.name,value:r.toString(),onDelete:function(t){e.supportDocs.splice(parseInt(t),1),a.props.refreshInquiryState()}})})))))))))}}]),t}(n.PureComponent),Oe=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.consultation;return n.createElement("div",{className:"availment-section"},n.createElement("div",{style:{paddingTop:"5rem"}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"AVAILMENT DETAILS"),n.createElement(Q,{choices:this.props.facilities,placeholder:"Provider*",value:t.provider,error:this.props.createTicketAttemp&&""===t.provider.value,onFocus:function(){e.props.loadFacilities()},onChange:function(a){t.provider=a,t.doctor={value:"",label:""},e.props.refreshConsultationState()}}),n.createElement(Q,{choices:te.ICD10_CODES?te.ICD10_CODES:[],placeholder:"Diagnosis",value:t.diagnosis,onChange:function(a){t.diagnosis=a,e.props.refreshConsultationState()}}),n.createElement(Z.a,{choices:this.props.doctors,placeholder:"Doctor*",value:t.doctor,error:this.props.createTicketAttemp&&""===t.doctor.value,onFocus:function(){e.props.loadDoctors(t.provider.label)},onChange:function(a){t.doctor=a,e.props.refreshConsultationState()}}),n.createElement(z.a,{placeholder:"Notes",value:t.notes,onChange:function(a){t.notes=a,e.props.refreshConsultationState()}})),n.createElement("div",{className:"section"}))}}]),t}(n.Component),Ae=a(29),Te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getFilteredICD10=function(){return te.ICD10_CODES?te.ICD10_CODES.filter(function(e){return void 0===a.props.availment.diagnoses.find(function(t){return t.icd10Code.value===e.value})}):[]},a.getFilteredCptCodes=function(e){return console.log(e),te.CPT_CODES?te.CPT_CODES.filter(function(t){return void 0===e.procedures.find(function(e){return e.cptCode.value===t.value})}):[]},a.state={icd10Code:{value:"",label:""},doctor:{value:"",label:""},doctorFeeHeader:0,itemToEditIndex:-1,icd10CodeToEdit:{value:"",label:""},doctorToEdit:{value:"",label:""},doctorFeeToEdit:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getProcedureCosts",value:function(e){return void 0!==this.props.availment&&void 0!==this.props.availment.diagnoses&&void 0!==this.props.availment.diagnoses[e]&&void 0!==this.props.availment.diagnoses[e].doctors&&void 0!==this.props.availment.diagnoses[e].doctors[0]&&void 0!==this.props.availment.diagnoses[e].doctors[0].fee?this.props.availment.diagnoses[e].doctors[0].fee:0}},{key:"pushBlankDiagnosis",value:function(e,t,a){this.props.availment.diagnoses.push({icd10Code:e,remarks:"",isPrimary:!1,isFinal:!1,dateAdded:new Date,doctors:[{id:t.value,name:t.label,specialization:t.params?t.params[0]:"",fee:a,noOfVisits:0,remarks:"",type:"Admitting"}],procedures:[{cptCode:{value:"",label:""},isPHIC:!1,amount:0,notes:"",doctor:"",dateAdded:new Date,assessmentType:"",assessmentRemarks:"",approvedAmount:0,loaNo:0}],assessmentType:"",assessmentRemarks:"",approvedAmount:0,loaNo:0})}},{key:"pushBlankProcedures",value:function(e){this.props.availment.diagnoses[e].procedures.push({cptCode:{value:"",label:""},isPHIC:!1,amount:0,notes:"",doctor:"",dateAdded:new Date,assessmentType:"",assessmentRemarks:"",approvedAmount:0,loaNo:0})}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"availment-section"},n.createElement("div",{style:{paddingTop:"5rem"}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"AVAILMENT DETAILS"),n.createElement(Q,{choices:this.props.facilities,placeholder:"Provider*",value:this.props.availment.provider,error:this.props.createTicketAttemp&&""===this.props.availment.provider.value,onFocus:function(){e.props.loadFacilities()},onChange:function(t){e.props.loadDoctors(t.label),e.props.availment.provider=t,e.props.refreshAvailmentState()}}),n.createElement(z.a,{placeholder:"Chief Complaint*",value:this.props.availment.chiefComplaint||"",error:this.props.createTicketAttemp&&(!this.props.availment.chiefComplaint||""===this.props.availment.chiefComplaint),onChange:function(t){e.props.availment.chiefComplaint=t,e.props.refreshAvailmentState()}}),n.createElement(z.a,{placeholder:"History",value:this.props.availment.history||"",onChange:function(t){e.props.availment.history=t,e.props.refreshAvailmentState()}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-3"},"LIST OF AVAILMENTS"),n.createElement("div",{className:"text"},"Add a diagnosis first then add procedures per diagnosis after"),n.createElement("div",{className:"sub-section"},n.createElement(L.a,{rows:this.props.availment.diagnoses,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}}))),n.createElement("div",{className:"section"}))}},{key:"renderTableHeader",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{minWidth:"200px",maxWidth:"200px"}},n.createElement(Q,{placeholder:"Add a diagnosis",choices:this.getFilteredICD10(),value:this.state.icd10Code,onChange:function(t){e.setState({icd10Code:t})}})),n.createElement(j.a,{style:{minWidth:"150px",maxWidth:"150px"}},n.createElement(Z.a,{placeholder:"Add doctor",choices:this.props.doctors,value:this.state.doctor,onChange:function(t){e.setState({doctor:t})}})),n.createElement(j.a,{style:{minWidth:"70px",maxWidth:"70px"}},n.createElement(se.a,{placeholder:"Fee",value:this.state.doctorFeeHeader?this.state.doctorFeeHeader:0,onChange:function(t){e.setState({doctorFeeHeader:t})}})),n.createElement(j.a,{style:{textAlign:"center"}},n.createElement(O.a,{icon:N.B,label:"Add diagnosis",onClick:function(){""!==e.state.doctor.value&&""!==e.state.icd10Code.value&&(e.pushBlankDiagnosis(e.state.icd10Code,e.state.doctor,e.state.doctorFeeHeader),e.props.refreshAvailmentState(),e.setState({icd10Code:{value:"",label:""},doctor:{value:"",label:""},doctorFeeHeader:0}))}})))}},{key:"renderTableRow",value:function(e,t){var a=this,r=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r}},n.createElement(j.a,{colSpan:4},n.createElement(_.a,{container:!0,spacing:1},this.state.itemToEditIndex===t?n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{choices:this.getFilteredICD10(),value:this.state.icd10CodeToEdit,onChange:function(e){a.setState({icd10CodeToEdit:e})}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(Z.a,{choices:this.props.doctors,value:this.state.doctorToEdit,onChange:function(e){a.setState({doctorToEdit:e})}})),n.createElement(_.a,{item:!0,xs:2},n.createElement(se.a,{value:this.state.doctorFeeToEdit?this.state.doctorFeeToEdit:0,onChange:function(e){a.setState({doctorFeeToEdit:e})}})),n.createElement(_.a,{item:!0,xs:1,style:{lineHeight:"2rem"}},n.createElement(W.a,{icon:N.i,onClick:function(){a.props.availment.diagnoses[t].icd10Code=a.state.icd10CodeToEdit,a.props.availment.diagnoses[t].doctors[0].name=a.state.doctorToEdit.label,a.props.availment.diagnoses[t].doctors[0].fee=a.state.doctorFeeToEdit,a.props.refreshAvailmentState(),a.setState({itemToEditIndex:-1})}}),n.createElement(W.a,{icon:N.O,onClick:function(){a.setState({itemToEditIndex:-1})}}))):n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:6,className:"header-2"},e.icd10Code.value+" - "+e.icd10Code.label),n.createElement(_.a,{item:!0,xs:3,className:"header-2"},e.doctors[0].name),n.createElement(_.a,{item:!0,xs:2,className:"header-2"},S.a.formatNumber(this.getProcedureCosts(t),!0)+" PHP"),n.createElement(_.a,{item:!0,xs:1},n.createElement(W.a,{icon:N.y,onClick:function(){a.setState({itemToEditIndex:t,icd10CodeToEdit:e.icd10Code,doctorToEdit:{value:e.doctors[0].id,label:e.doctors[0].name},doctorFeeToEdit:e.doctors[0].fee})}}),n.createElement(W.a,{icon:N.v,onClick:function(){a.props.availment.diagnoses.splice(t,1),a.props.refreshAvailmentState()}})))),e.procedures.map(function(n,r){return a.renderProcedureDetails(e,n,t,r)})))}},{key:"renderProcedureDetails",value:function(e,t,a,r){var i=this,l=this.props.availment.diagnoses[a].procedures[r],s=this.props.availment.diagnoses[a].procedures;return n.createElement("div",{style:{position:"relative"}},n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement("div",{className:"line-border"}),n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:7},n.createElement(Q,{placeholder:"Procedure",choices:te.CPT_CODES?this.getFilteredCptCodes(e):[],value:t.cptCode,onChange:function(e){l.cptCode=e,r===s.length-1&&i.pushBlankProcedures(a),i.props.refreshAvailmentState()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(se.a,{placeholder:"Amount",error:this.props.createTicketAttemp&&""!==t.cptCode.value&&0===t.amount,value:t.amount,onChange:function(e){l.amount=e,i.props.refreshAvailmentState()}})),n.createElement(_.a,{item:!0,xs:2,style:{textAlign:"right"}},n.createElement("div",{style:{display:"inline-block",paddingRight:"0.5rem"}},n.createElement(ce,{placeholder:"PHIC",value:t.isPHIC,onChange:function(e){l.isPHIC=e,i.props.refreshAvailmentState()}})),n.createElement("div",{style:{display:"inline-block"}},n.createElement(W.a,{icon:N.v,onClick:function(){e.procedures.splice(r,1),i.props.refreshAvailmentState(),e.procedures.find(function(e){return""===e.cptCode.value})||i.pushBlankProcedures(a)}})))),n.createElement("div",{style:{position:"absolute"}},n.createElement(O.a,{label:"Add procedure",icon:N.B,onClick:function(){i.pushBlankProcedures(a),i.props.refreshAvailmentState()}})),n.createElement("div",{style:{paddingTop:"1rem"}}))}}]),t}(n.Component),Ie=a(91),ke=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement(Ie.a,{className:this.props.className,style:this.props.style,disabled:this.props.disabled,variant:this.props.variant?this.props.variant:"contained",color:this.props.color?this.props.color:"primary",onClick:this.props.onClick},this.props.text)}}]),t}(n.Component),Re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).interval=void 0,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.setState({time:Date.now()})},5e3)}},{key:"render",value:function(){return n.createElement("div",{className:"footer"},n.createElement("div",{className:"left"},this.props.leftButtons?this.props.leftButtons.map(function(e){return e}):null),n.createElement("div",{className:"right"},this.props.onSaveForNow?n.createElement(ke,{className:"button transparent-1",text:n.createElement("div",null,n.createElement("div",{style:{display:"block"}}),"Save For Now",this.props.lastSave?n.createElement("div",{className:"small-text"},"Auto-saved ".concat(S.a.getTimeDeffirence(this.props.lastSave,new Date)," ago")):null),variant:"outlined",onClick:this.props.onSaveForNow}):null,this.props.onResolveTicket?n.createElement(ke,{className:"button special",text:"Mark as Resolved",disabled:null===this.props.onResolveTicket,onClick:this.props.onResolveTicket}):null,this.props.onSubmitTicket?n.createElement(ke,{className:"button",text:"Submit Ticket",disabled:null===this.props.onSubmitTicket,onClick:this.props.onSubmitTicket}):null,this.props.onUpdateTicket?n.createElement(ke,{className:"button",text:"Update Ticket",disabled:null===this.props.onUpdateTicket,onClick:this.props.onUpdateTicket}):null,this.props.onFinalAssessment?n.createElement(ke,{className:"button special",text:"Proceed with Final Assessment",disabled:this.props.disableFinalAssessment,onClick:this.props.onFinalAssessment}):null,this.props.onSubmitForResolution?n.createElement(ke,{className:"button special",text:"Submit For Resolution",disabled:this.props.disableSubmitForResolution,onClick:this.props.onSubmitForResolution}):null,this.props.onSummarizeAssessment?n.createElement(ke,{className:"button",text:"Summarize Assessment",disabled:null===this.props.onSummarizeAssessment,onClick:this.props.onSummarizeAssessment}):null,this.props.onReturnAssessment?n.createElement(ke,{className:"button",text:"Return Assessment",disabled:null===this.props.onReturnAssessment,onClick:this.props.onReturnAssessment}):null,this.props.onGenerateApprovalCode?n.createElement(ke,{className:"button",text:"Generate Approval Code",disabled:null===this.props.onGenerateApprovalCode,onClick:this.props.onGenerateApprovalCode}):null,this.props.onProceedWithApproval?n.createElement(ke,{className:"button special",text:"Proceed with Approval",disabled:null===this.props.onProceedWithApproval,onClick:this.props.onProceedWithApproval}):null,this.props.onResolveAndCloseTicket?n.createElement(ke,{className:"button special",text:"Resolve and Close",disabled:null===this.props.onResolveAndCloseTicket,onClick:this.props.onResolveAndCloseTicket}):null,this.props.onCloseTicket?n.createElement(ke,{className:"button",text:"Close Ticket",disabled:this.props.disableCloseTicket,onClick:this.props.onCloseTicket}):null))}}]),t}(n.Component),De=a(819),we=a(821),Pe=a(816),xe=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement(we.a,{className:"tabs",value:this.props.selectedTab,variant:"scrollable",scrollButtons:"auto",indicatorColor:"primary",onChange:function(t,a){e.props.setSelectedTab(a)}},this.props.tabList.map(function(e){return n.createElement(Pe.a,{value:e.value,label:e.label})}))}}]),t}(n.Component),je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.client,t=e.years?"".concat((new Date).getUTCFullYear()-e.years," (").concat(e.years,")"):"---",a=e.salesChannel?e.salesChannel.contactName:"---",r=e.salesChannel?e.salesChannel.company:"---";return n.createElement(_.a,{container:!0,spacing:2},this.renderItem("CORPORATE ACCOUNT NO.",e.corporateAccountNo,12,"header-1"),this.renderItem("REGISTERED COMPANY NAME",e.registeredName),this.renderItem("TRADE COMPANY NAME",e.brandName),this.renderItem("INDUSTRY",e.industry||"---"),this.renderItem("OWNWESHIP",e.ownership||"---"),this.renderItem("CORPORATE TIN",e.tinNo||"---"),this.renderItem("SEC REGISTRATION NO.",e.secRegNo||"---"),this.renderItem("E-VAT NO.",e.evatNo||"---"),this.renderItem("ESTABLISHED (YEARS)",t),this.renderItem("AUTHORIZED SIGNATORY",e.authSignatory),this.renderItem("BROKER/BDO",a),this.renderItem("BROKER COMPANY",r),this.renderItem("PREVIOUS HMO",e.prevHMOProvider))}},{key:"renderItem",value:function(e,t,a,r){return n.createElement(_.a,{item:!0,className:"sub-section",xs:a||3,style:{padding:"16px 8px"}},e.length>0?n.createElement("div",{className:"light-text"},e):null,t?n.createElement("div",{className:r||"header-2"},t):null)}}]),t}(n.Component),Fe=a(210);function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.client,a=t.mainOfficeAddress,r=t.branches;return n.createElement("div",null,a?this.renderAddress(a,"Head Office"):null,n.createElement("div",{style:{paddingBottom:"0.75rem"}}),r?r.map(function(t,a){return n.createElement(n.Fragment,null,e.renderAddress(t,"Branch ".concat(a+1)),n.createElement("div",{style:{paddingBottom:"0.75rem"}}))}):null)}},{key:"renderAddress",value:function(e,t){var a=this;return n.createElement(Fe.a,{className:"section"},n.createElement(_.a,{container:!0,spacing:2},this.renderItem("FLOOR / UNIT",t,12,"header-1",{borderBottom:"#3C394A22 solid 1px",padding:"8px"}),this.renderItem("FLOOR / UNIT","".concat(e.floor," / ").concat(e.unit)),this.renderItem("BUILDING",e.bldgName),this.renderItem("STREET",e.street),this.renderItem("BARANGAY",e.barangay),this.renderItem("CITY / TOWN",e.city),this.renderItem("REGION / ZIP CODE","".concat(e.region," / ").concat(e.zipCode)),this.renderItem("TRUNKLINE / TEL. NO.","",6),e.contactPersons.length>0?n.createElement(n.Fragment,null,this.renderItem("CONTACT PERSON",void 0,3,"header-2",{padding:"16px 8px 0 8px"}),this.renderItem("POSITION",void 0,3,"header-2",{padding:"16px 8px 0 8px"}),this.renderItem("CONTACT NO.",void 0,3,"header-2",{padding:"16px 8px 0 8px"}),this.renderItem("CONTACT EMAIL",void 0,3,"header-2",{padding:"16px 8px 0 8px"})):null,e.contactPersons.map(function(e){return n.createElement(n.Fragment,null,a.renderItem("",e.name,3,"header-2",{padding:"0 8px"}),a.renderItem("",e.designation,3,"header-2",{padding:"0 8px"}),a.renderItem("",e.contactNo,3,"header-2",{padding:"0 8px"}),a.renderItem("",e.email,3,"header-2",{padding:"0 8px"}))})))}},{key:"renderItem",value:function(e,t,a,r,i){return n.createElement(_.a,{item:!0,className:"sub-section",xs:a||3,style:Me({padding:"16px 8px"},i)},e.length>0?n.createElement("div",{className:"light-text"},e):null,t?n.createElement("div",{className:r||"header-2"},t):null)}}]),t}(n.Component),Be=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement(we.a,{className:"text-tabs",value:this.props.selectedTab,orientation:this.props.orientation,variant:"scrollable",scrollButtons:"auto",indicatorColor:"primary",onChange:function(t,a){e.props.setSelectedTab(a)}},this.props.tabList.map(function(t,a){return n.createElement(Pe.a,{style:e.props.tabStyle?e.props.tabStyle(a):void 0,label:e.props.tabLabel?e.props.tabLabel(a):t.label,value:t.value})}))}}]),t}(n.Component),He=a(822),Ve=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"check-box-area"},n.createElement(He.a,{disabled:this.props.disabled,className:"check-box",checked:this.props.checkedCondition,onChange:function(t){e.props.onChange()}}),this.props.label?n.createElement("span",{className:"text",style:{paddingLeft:"10px"}},this.props.label):null)}}]),t}(n.Component),Ge=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.client.servicingInstructions?this.props.client.servicingInstructions.sortingOfCards:void 0;return n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"text"},"Card Sorting"),e&&e.cardSorting?n.createElement("div",{style:{boxShadow:"0px 3px 6px #00000029"}},e.cardSorting.map(function(e,t){var a=t%2===1?"#FFFFFF":"#F6F7FA";return n.createElement("div",{style:{backgroundColor:a,padding:"8px"}},e)})):null),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Card Packing"),n.createElement(Ve,{label:"Envelope",disabled:!0,checkedCondition:!(!e||!e.cardPacking||"envelope"!==e.cardPacking),onChange:function(){}}),n.createElement(Ve,{label:"Plastic",disabled:!0,checkedCondition:!(!e||!e.cardPacking||"plastic"!==e.cardPacking),onChange:function(){}}),n.createElement(Ve,{label:"With Flyer",disabled:!0,checkedCondition:!(!e||!e.cardPacking||"with flyer"!==e.cardPacking),onChange:function(){}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Pack according to"),n.createElement(ce,{label:"Team Leader",disabled:!0,value:!!(e&&e.packAccordingTo&&e.packAccordingTo.includes("team_leader")),onChange:function(e){}}),n.createElement(ce,{label:"Family",disabled:!0,value:!!(e&&e.packAccordingTo&&e.packAccordingTo.includes("family")),onChange:function(e){}})))))}}]),t}(n.Component),qe=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.client.servicingInstructions?this.props.client.servicingInstructions.printingOfCards:void 0;return n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(ce,{label:"1. Company Logo",disabled:!0,value:!(!e||!e.includes("company logo")),onChange:function(e){}}),n.createElement(ce,{label:"2. ID Picture",disabled:!0,value:!(!e||!e.includes("id picture")),onChange:function(e){}}),n.createElement(ce,{label:"3. Member Last Name, First Name, Middle Name, Extension (if any)",disabled:!0,value:!(!e||!e.includes("full name")),onChange:function(e){}}),n.createElement(ce,{label:"4. Company Name",disabled:!0,value:!(!e||!e.includes("company name")),onChange:function(e){}}),n.createElement(ce,{label:"5. Member Account No.",disabled:!0,value:!(!e||!e.includes("member account no")),onChange:function(e){}}),n.createElement(ce,{label:"6. Card Number",disabled:!0,value:!(!e||!e.includes("card no")),onChange:function(e){}}),n.createElement(ce,{label:"7. Month and Year of Birth (MM/YY)",disabled:!0,value:!(!e||!e.includes("birthday")),onChange:function(e){}}),n.createElement(ce,{label:"8. Sex",disabled:!0,value:!(!e||!e.includes("sex")),onChange:function(e){}}),n.createElement(ce,{label:"9. Dental Coverage \u2014 Based on the member\u2019s plan type in the contract",disabled:!0,value:!(!e||!e.includes("dental coverage")),onChange:function(e){}})),n.createElement(_.a,{item:!0,xs:6},n.createElement("img",{src:"si_sample_card.png",className:"card",alt:"Sample Reference Card"}))))}}]),t}(n.Component),We=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.client.servicingInstructions?this.props.client.servicingInstructions.billing:void 0,t=e&&e.sendSoaFormats?e.sendSoaFormats.find(function(e){return"soft_copy"===e.format}):void 0;return n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Additional fields to be included in SOA attachment"),n.createElement(ce,{label:"Site",disabled:!0,value:!(!e||!e.additionalFieldsSoa.includes("site")),onChange:function(e){}}),n.createElement(ce,{label:"Sub-company",disabled:!0,value:!(!e||!e.additionalFieldsSoa.includes("sub-company")),onChange:function(e){}}),n.createElement(ce,{label:"Cost Center",disabled:!0,value:!(!e||!e.additionalFieldsSoa.includes("cost center")),onChange:function(e){}}),n.createElement(ce,{label:"Endorsement / Batch Number",disabled:!0,value:!(!e||!e.additionalFieldsSoa.includes("batch no")),onChange:function(e){}}),n.createElement(ce,{label:"Employee No. / Employee ID",disabled:!0,value:!(!e||!e.additionalFieldsSoa.includes("employee no")),onChange:function(e){}}),n.createElement(ce,{label:"Cost c/o company / Employer",disabled:!0,value:!(!e||!e.additionalFieldsSoa.includes("cost care of")),onChange:function(e){}})),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"text"},"SOAs Generation"),e&&e.soaGeneration?n.createElement("div",{style:{boxShadow:"0px 3px 6px #00000029"}},e.soaGeneration.map(function(e,t){var a="site"===e?"Site":"sub-company"===e?"Sub-company":"cost-center"===e?"Cost Center":"batch-no"===e?"Endorsement / Batch Number":"employee-no"===e?"Employee No. / Employee ID":"alphabetical"===e?"Alphabetical":"effectivity-date"===e?"Effectivity Date":"company-paid-dependents"===e?"Company-Paid Dependents":"employee-paid-dependents"===e?"Employee-Paid Dependents":"principal-employees"===e?"Employees (Principal)":"member-plan-type"===e?"Member Plan Type":"",r=t%2===1?"#FFFFFF":"#F6F7FA";return n.createElement("div",{style:{backgroundColor:r,padding:"8px"}},a)})):null),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"text"},"SOAs Sorting"),e&&e.soaGeneration?n.createElement("div",{style:{boxShadow:"0px 3px 6px #00000029"}},e.soaSorting.map(function(e,t){var a="site"===e?"Site":"sub-company"===e?"Sub-company":"cost-center"===e?"Cost Center":"batch-no"===e?"Endorsement / Batch Number":"employee-no"===e?"Employee No. / Employee ID":"alphabetical"===e?"Alphabetical":"effectivity-date"===e?"Effectivity Date":"company-paid-dependents"===e?"Company-Paid Dependents":"employee-paid-dependents"===e?"Employee-Paid Dependents":"principal-employees"===e?"Employees (Principal)":"member-plan-type"===e?"Member Plan Type":"",r=t%2===1?"#FFFFFF":"#F6F7FA";return n.createElement("div",{style:{backgroundColor:r,padding:"8px"}},a)})):null))),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Employee enrollment",disabled:!0,value:e&&e.addressSoaTo?e.addressSoaTo:"",onChange:function(e){}}),n.createElement(z.a,{placeholder:"Send SOA to",disabled:!0,value:e&&e.sendSoaTo?e.sendSoaTo:"",onChange:function(e){}})))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Send SOA on specific days only"),n.createElement(ce,{label:"Monday",disabled:!0,value:!!(e&&e.sendSoaDays&&e.sendSoaDays.includes("monday")),onChange:function(e){}}),n.createElement(ce,{label:"Tuesday",disabled:!0,value:!!(e&&e.sendSoaDays&&e.sendSoaDays.includes("tuesday")),onChange:function(e){}}),n.createElement(ce,{label:"Wednesday",disabled:!0,value:!!(e&&e.sendSoaDays&&e.sendSoaDays.includes("wednesday")),onChange:function(e){}}),n.createElement(ce,{label:"Thursday",disabled:!0,value:!!(e&&e.sendSoaDays&&e.sendSoaDays.includes("thursday")),onChange:function(e){}}),n.createElement(ce,{label:"Friday",disabled:!0,value:!!(e&&e.sendSoaDays&&e.sendSoaDays.includes("friday")),onChange:function(e){}}),n.createElement(ce,{label:"Saturday",disabled:!0,value:!!(e&&e.sendSoaDays&&e.sendSoaDays.includes("saturday")),onChange:function(e){}}),n.createElement(ce,{label:"Sunday",disabled:!0,value:!!(e&&e.sendSoaDays&&e.sendSoaDays.includes("sunday")),onChange:function(e){}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Send SOA in the following formats"),n.createElement(ce,{label:"Hard Copy",disabled:!0,value:!!(e&&e.sendSoaFormats&&e.sendSoaFormats.find(function(e){return"hard copy"===e.format})),onChange:function(e){}}),n.createElement(ce,{label:"Soft Copy",disabled:!0,value:!!(e&&e.sendSoaFormats&&e.sendSoaFormats.find(function(e){return"soft_copy"===e.format})),onChange:function(e){}}),n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:1}),n.createElement(_.a,{item:!0,xs:5},n.createElement(ce,{label:"Email",disabled:!0,value:!!(t&&t.options&&t.options.includes("email")),onChange:function(e){}}),n.createElement(ce,{label:"Client Portal",disabled:!0,value:!!(t&&t.options&&t.options.includes("client portal")),onChange:function(e){}})))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"CM Application"),n.createElement(ce,{label:"Separate SOA and CM",disabled:!0,value:!!(e&&e.cmApplication&&e.cmApplication.includes("separate soa and cm")),onChange:function(e){}}),n.createElement(ce,{label:"Automatic application / offset against current SOAs",disabled:!0,value:!!(e&&e.cmApplication&&e.cmApplication.includes("automatic application")),onChange:function(e){}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Additional requirements"),n.createElement(ce,{label:"Billing validation required prior to sending final SOA",disabled:!0,value:!!(e&&e.additionalRequirements&&e.additionalRequirements.includes("billing validation")),onChange:function(e){}}),n.createElement(ce,{label:"Premium Refund not to be released until full payment of premium",disabled:!0,value:!!(e&&e.additionalRequirements&&e.additionalRequirements.includes("premium refund")),onChange:function(e){}})))}}]),t}(n.Component),Ye=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.client.servicingInstructions?this.props.client.servicingInstructions.enrollment:void 0,t=e&&e.dependentEntrollment?e.dependentEntrollment.find(function(e){return"member client encoding"===e.enrollment}):void 0;return n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Employee Enrollment"),n.createElement(ce,{label:"HR Client uploading",disabled:!0,value:!(!e||!e.employeeEntrollment)&&e.employeeEntrollment.includes("hr client uploading"),onChange:function(e){}}),n.createElement(ce,{label:"HR Client encoding",disabled:!0,value:!(!e||!e.employeeEntrollment)&&e.employeeEntrollment.includes("hr client encoding"),onChange:function(e){}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Dependent Enrollment"),n.createElement(ce,{label:"HR Client uploading",disabled:!0,value:!(!e||!e.dependentEntrollment)&&!!e.dependentEntrollment.find(function(e){return"hr client uploading"===e.enrollment}),onChange:function(e){}}),n.createElement(ce,{label:"HR Client encoding",disabled:!0,value:!(!e||!e.dependentEntrollment)&&!!e.dependentEntrollment.find(function(e){return"hr client encoding"===e.enrollment}),onChange:function(e){}}),n.createElement(ce,{label:"Member Client encoding",disabled:!0,value:!(!e||!e.dependentEntrollment)&&!!e.dependentEntrollment.find(function(e){return"member client encoding"===e.enrollment}),onChange:function(e){}}),n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:1}),n.createElement(_.a,{item:!0,xs:11},n.createElement(ce,{label:"Upload supporting documents required",disabled:!0,value:!(!t||!t.options)&&t.options.includes("upload supporting"),onChange:function(e){}}),n.createElement(ce,{label:"Submission of physical supporting documents required",disabled:!0,value:!(!t||!t.options)&&t.options.includes("submission of physical"),onChange:function(e){}}),n.createElement(ce,{label:"Approval of HR through HR Client Portal required",disabled:!0,value:!(!t||!t.options)&&t.options.includes("approval of hr"),onChange:function(e){}})))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"text"},"Enrollment done through"),n.createElement(ce,{label:"Email",disabled:!0,value:!(!e||!e.enrollmentDoneThrough)&&e.enrollmentDoneThrough.includes("email"),onChange:function(e){}}),n.createElement(ce,{label:"Physical documents",disabled:!0,value:!(!e||!e.enrollmentDoneThrough)&&e.enrollmentDoneThrough.includes("physical documents"),onChange:function(e){}})))}}]),t}(n.Component),ze=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.client.servicingInstructions?this.props.client.servicingInstructions.collection:void 0;return n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Employee enrollment",disabled:!0,value:e&&e.employeeEnrollment?e.employeeEnrollment:"",onChange:function(e){}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Contact person for follow-ups",disabled:!0,value:e&&e.contactPersonForFollowups?e.contactPersonForFollowups:"",onChange:function(e){}})),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"text"},"Preferred means of payment"),n.createElement(Ve,{label:"Bank Deposit",disabled:!0,checkedCondition:!(!e||"bank deposit"!==e.prefredMeansOfPayment),onChange:function(){}}),n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:1}),n.createElement(_.a,{item:!0,xs:5},n.createElement(z.a,{placeholder:"Preferred bank",disabled:!0,value:e&&e.preferedBank?e.preferedBank:"",onChange:function(e){}}))),n.createElement(Ve,{label:"Pick-up check",disabled:!0,checkedCondition:!(!e||"pick-up check"!==e.prefredMeansOfPayment),onChange:function(){}}),n.createElement(Ve,{label:"Deliver check",disabled:!0,checkedCondition:!(!e||"deliver check"!==e.prefredMeansOfPayment),onChange:function(){}}),n.createElement(Ve,{label:"Pick-up cash",disabled:!0,checkedCondition:!(!e||"pick-up cash"!==e.prefredMeansOfPayment),onChange:function(){}}),n.createElement(Ve,{label:"Deliver Cash",disabled:!0,checkedCondition:!(!e||"deliver cash"!==e.prefredMeansOfPayment),onChange:function(){}}),n.createElement(Ve,{label:"Credit Card",disabled:!0,checkedCondition:!(!e||"credit card"!==e.prefredMeansOfPayment),onChange:function(){}}),n.createElement(Ve,{label:"Wire Transfer",disabled:!0,checkedCondition:!(!e||"wire transfer"!==e.prefredMeansOfPayment),onChange:function(){}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Details for payment pick-up",disabled:!0,value:e&&e.detialsForPaymentPickup?e.detialsForPaymentPickup:"",onChange:function(e){}}))))}}]),t}(n.Component),Ke=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.client.servicingInstructions?this.props.client.servicingInstructions.availment:void 0;return n.createElement("div",{className:"sub-section"},n.createElement(ce,{label:"Inform member of copayment / coinsurance share",disabled:!0,value:!(!e||!e.includes("inform member of copayment")),onChange:function(e){}}))}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).reportorialData=[{available:!1,frequency:"yearly",reportType:"summary of claims"},{available:!1,frequency:"yearly",reportType:"top facilities"},{available:!1,frequency:"yearly",reportType:"top illnesses"},{available:!1,frequency:"yearly",reportType:"detailed utilization"},{available:!1,frequency:"yearly",reportType:"detailed account renewal status report"},{available:!1,frequency:"yearly",reportType:"summary of account renewal status report"},{available:!1,frequency:"yearly",reportType:"account analysis report by industry"},{available:!1,frequency:"yearly",reportType:"account analysis report by segmentation"},{available:!1,frequency:"yearly",reportType:"active members list"},{available:!1,frequency:"yearly",reportType:"masterlist"},{available:!1,frequency:"yearly",reportType:"card summary report"},{available:!1,frequency:"yearly",reportType:"card replacement report"},{available:!1,frequency:"yearly",reportType:"account transaction report"},{available:!1,frequency:"yearly",reportType:"summary of claims report"},{available:!1,frequency:"yearly",reportType:"top utilization report"},{available:!1,frequency:"yearly",reportType:"detailed utilization report"},{available:!1,frequency:"yearly",reportType:"account renewal status report"},{available:!1,frequency:"yearly",reportType:"account analysis report"},{available:!1,frequency:"yearly",reportType:"account segmentation exception report"}],a.state={reportorialIsUpdated:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.client.servicingInstructions?this.props.client.servicingInstructions.reportorial:void 0;this.reportorialData=this.reportorialData.map(function(t){if(e){var a=e.find(function(e){return e.reportType===t.reportType});if(console.log(a),a)return{reportType:t.reportType,frequency:a.frequency,available:a.available}}return t}),this.setState({reportorialIsUpdated:!0})}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"sub-section"},n.createElement(L.a,{className:"custom-table",rows:this.reportorialData,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}}))}},{key:"renderTableHeader",value:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Report Type"),n.createElement(j.a,null,"Frequency"),n.createElement(j.a,{style:{textAlign:"center"}},"Available?"))}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,S.a.capitalizeEachWord(e.reportType)),n.createElement(j.a,null,S.a.capitalizeEachWord(e.frequency)),n.createElement(j.a,{style:{textAlign:"center"}},e.available?"Yes":"No"))}}]),t}(n.Component),Je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).tabList=[{value:1,label:"Sorting of Cards"},{value:2,label:"Printing of Cards"},{value:3,label:"Billing"},{value:4,label:"Enrollment"},{value:5,label:"Collection"},{value:6,label:"Availment"},{value:7,label:"Reportorial"}],a.state={selectedTab:1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement("div",{className:"sub-section"},n.createElement(Be,{tabList:this.tabList,selectedTab:this.state.selectedTab,tabStyle:function(e){return{padding:"0 1rem"}},tabLabel:function(t){return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"header-3",style:{margin:"6px 0"}},e.tabList[t].label))},setSelectedTab:function(t){e.setState({selectedTab:t})}})),1===this.state.selectedTab?n.createElement(Ge,{client:this.props.client}):2===this.state.selectedTab?n.createElement(qe,{client:this.props.client}):3===this.state.selectedTab?n.createElement(We,{client:this.props.client}):4===this.state.selectedTab?n.createElement(Ye,{client:this.props.client}):5===this.state.selectedTab?n.createElement(ze,{client:this.props.client}):6===this.state.selectedTab?n.createElement(Ke,{client:this.props.client}):7===this.state.selectedTab?n.createElement(Xe,{client:this.props.client}):null)}}]),t}(n.Component),Ze=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={filterName:"",filterBenefits:"",filterPrincipals:"",filterDependents:"",filterDateCreated:"",filterDateUpdated:"",filterVersion:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.client,a=t.contract,r=t.planTypes,i=a&&a.startDate?S.a.toShortDateString(a.startDate):"---",l=a&&a.endDate?S.a.toShortDateString(a.endDate):"---",s=t.salesChannel?t.salesChannel.contactName:"---",o=t.salesChannel?t.salesChannel.company:"---";return n.createElement(_.a,{container:!0,spacing:2},this.renderItem("CORPORATE ACCOUNT NO.",t.corporateAccountNo),a?n.createElement(n.Fragment,null,this.renderItem("CONTRACT",a.name,9,function(){e.props.history.push("#/membership/member-contract/".concat(a.id)),window.location.reload()}),this.renderItem("EFFECTIVITY DATE",i),this.renderItem("EXPIRY DATE",l),this.renderItem("REGISTERED COMPANY NAME",t.registeredName,6),this.renderItem("AUTHORIZED SIGNATORY",t.authSignatory||"---"),this.renderItem("BROKER/BDO",s),this.renderItem("BROKER COMPANY",o,6)):null,n.createElement(_.a,{item:!0,xs:12,style:{overflowX:"auto"}},r?n.createElement(L.a,{rows:r,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}}):null))}},{key:"renderItem",value:function(e,t,a,r){return n.createElement(_.a,{item:!0,className:"sub-section",xs:a||3,style:{padding:"16px 8px"}},n.createElement("div",{className:"light-text"},e),r?n.createElement(O.a,{label:t,onClick:r}):n.createElement("div",{className:"header-2"},t))}},{key:"renderTableHeader",value:function(){return n.createElement(n.Fragment,null,this.renderHeaderColumn("fiterName","Plan Type"),this.renderHeaderColumn("filterBenefits","Benefits"),this.renderHeaderColumn("filterPrincipals","Principals"),this.renderHeaderColumn("filterDependents","Dependents"),this.renderHeaderColumn("filterDateCreated","Date Created"),this.renderHeaderColumn("filterDateUpdated","Date Modified"),this.renderHeaderColumn("filterVersion","Contract Version"))}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.name),n.createElement(j.a,null,e.benefits),n.createElement(j.a,null,e.principals),n.createElement(j.a,null,e.dependents),n.createElement(j.a,null,S.a.toShortDateString(e.dateCreated)),n.createElement(j.a,null,S.a.toShortDateString(e.dateUpdated)),n.createElement(j.a,null,e.version))}},{key:"renderHeaderColumn",value:function(e,t,a){var r=this;return n.createElement(j.a,{style:{minWidth:a||"150px"}},n.createElement("span",{className:"header-2"},t),n.createElement("div",{style:{float:"right"}},n.createElement(W.a,{icon:N.H,onClick:function(){}})),n.createElement(z.a,{value:this.state[e],onChange:function(t){r.setState(Object(v.a)({},e,t))}}))}}]),t}(n.Component),Qe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getFilter=function(e,t,n){var r={where:{},limit:0,skip:0};return r.where={and:[{client_id:a.props.client.id},n.memberId?{member_id:{regexp:"/".concat(n.memberId,"/i")}}:void 0,n.name?{or:[{last_name:{regexp:"/".concat(n.name,"/i")}},{middle_name:{regexp:"/".concat(n.name,"/i")}},{first_name:{regexp:"/".concat(n.name,"/i")}}]}:void 0,n.corporateName?{registered_name:{regexp:"/".concat(n.corporateName,"/i")}}:void 0,n.status?{member_status:{regexp:"/".concat(n.status,"/i")}}:void 0,n.effectivityDate?{effectivity_date:{between:[S.a.getDate(new Date(n.effectivityDate.getTime()-864e5)),S.a.getDate(new Date(n.effectivityDate.getTime()+864e5))]}}:void 0].filter(function(e){return e})},r.limit=t,r.skip=e,0===r.where.and.length&&(r.where={}),r},a.state={members:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"sub-section",style:{overflowX:"auto"}},this.state.members?n.createElement(L.a,{rows:this.state.members,columns:[{name:"Member ID",key:"memberId",filterType:"string",sortType:"string",style:{minWidth:"200px"}},{name:"Name",key:"name",filterType:"string",sortType:"string",style:{minWidth:"150px"}},{name:"Corporate/s",key:"corporateName",filterType:"string",sortType:"string",style:{minWidth:"150px"}},{name:"Effectivity Date",key:"effectivityDate",filterType:"date",sortType:"date",style:{minWidth:"150px"}},{name:"Termination Date",key:"terminationDate",filterType:"date",style:{minWidth:"150px"},filterDisabled:!0},{name:"Status",key:"status",filterType:"string",sortType:"string",style:{minWidth:"150px"}}],rowsPerPageOptions:[10,25,50],renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA",r=e.effectivityDate?S.a.toShortDateString(e.effectivityDate):"---",i=e.terminationDate?S.a.toShortDateString(e.terminationDate):"---",l=S.a.toNameFormat(e.firstName,e.middleName,e.lastName);return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.memberId),n.createElement(j.a,null,l),n.createElement(j.a,null,e.corporateName||"---"),n.createElement(j.a,null,r||"---"),n.createElement(j.a,null,i),n.createElement(j.a,null,e.status||"---"))},serverSideOption:{getUrl:function(t,a,n){var r=e.getFilter(t,a,n);return"members?filter=".concat(JSON.stringify(r),"&count=true")},onSuccess:function(t){e.setState({members:V.a.getMembers(t.members)})},getCount:function(e){return e.total.count}}}):n.createElement(I.a,{height:"10rem"}))}}]),t}(n.Component),$e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).tabList=[{value:1,label:"Contracts"},{value:2,label:"Proposals"}],a.loadData=function(e){T.a.get("clients/".concat(a.props.client.id,"/type/").concat(e),function(t){console.log(t),"contracts"===e?a.setState({contracts:V.a.getContractData(t.data)}):"proposals"===e&&a.setState({proposals:V.a.getContractData(t.data)})},function(e){console.log(e)})},a.state={selectedTab:1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadData("contracts")}},{key:"componentWillUpdate",value:function(e,t){this.state.selectedTab!=t.selectedTab&&this.loadData(1===t.selectedTab?"contracts":"proposals")}},{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement("div",null,n.createElement(Be,{tabList:this.tabList,selectedTab:this.state.selectedTab,tabStyle:function(e){return{padding:"0 1rem"}},tabLabel:function(t){return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"header-3",style:{margin:"6px 0"}},e.tabList[t].label))},setSelectedTab:function(t){e.setState({selectedTab:t})}})),n.createElement("div",{className:"sub-section",style:{overflowX:"auto"}},1===this.state.selectedTab&&this.state.contracts?this.renderContractTable(this.state.contracts):2===this.state.selectedTab&&this.state.proposals?this.renderContractTable(this.state.proposals):n.createElement(I.a,{height:"10rem"})))}},{key:"renderContractTable",value:function(e){var t=this;return n.createElement(L.a,{rows:e,renderHeader:function(){return t.renderTableHeader()},renderRow:function(e,a){return t.renderTableRow(e,a)}})}},{key:"renderTableHeader",value:function(){return n.createElement(n.Fragment,null,this.renderHeaderColumn("fiterName","Contract"),this.renderHeaderColumn("filterBenefits","Contract No."),this.renderHeaderColumn("filterPrincipals","Contract Effectivity Date","200px"),this.renderHeaderColumn("filterDependents","Contract Type"),this.renderHeaderColumn("filterDateCreated","Version"),this.renderHeaderColumn("filterDateUpdated","Modified Date"),this.renderHeaderColumn("filterVersion","Status"))}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.name),n.createElement(j.a,null,e.contractNo||"---"),n.createElement(j.a,null,e.effectivity_date),n.createElement(j.a,null,e.type||"---"),n.createElement(j.a,null,e.version||"---"),n.createElement(j.a,null,e.updateDate),n.createElement(j.a,null,e.status||"---"))}},{key:"renderHeaderColumn",value:function(e,t,a){var r=this;return n.createElement(j.a,{style:{minWidth:a||"150px"}},n.createElement("span",{className:"header-2"},t),n.createElement("div",{style:{float:"right"}},n.createElement(W.a,{icon:N.H,onClick:function(){}})),n.createElement(z.a,{value:this.state[e],onChange:function(t){r.setState(Object(v.a)({},e,t))}}))}}]),t}(n.Component),et=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).tabList=[{value:1,label:"Signed Contracts"},{value:2,label:"Signed Proposals"},{value:3,label:"Masterlists"},{value:4,label:"APD Endorsements"},{value:5,label:"Corporate Guarantees"},{value:6,label:"Letter and Requests"}],a.signedContractsHeader=[{label:"Document Name",state:"name"},{label:"Version",state:"version"},{label:"Date Signed",state:"signedDate"},{label:"Files",state:"files"},{label:"Uploaded Date",state:"uploadDate"},{label:"Uploaded By",state:"uploader"},{label:"Action",state:"action"}],a.signedProposalsHeader=[{label:"Proposal Number",state:"proposalNo"},{label:"Version",state:"version"},{label:"Date Signed",state:"signedDate"},{label:"Files",state:"files"},{label:"Uploaded Date",state:"uploadDate"},{label:"Uploaded By",state:"uploader"},{label:"Action",state:"action"}],a.masterlistsHeader=[{label:"Document Name",state:"name"},{label:"Batch Name",state:"batchName"},{label:"Files",state:"files"},{label:"Uploaded Date",state:"uploadDate"},{label:"Uploaded By",state:"uploader"},{label:"Action",state:"action"}],a.apdEndorsementsHeader=[{label:"Document Name",state:"name"},{label:"Type",state:"type"},{label:"Date Endorsed",state:"endorseDate"},{label:"Files",state:"files"},{label:"Uploaded Date",state:"uploadDate"},{label:"Uploaded By",state:"uploader"},{label:"Action",state:"action"}],a.corporateGuaranteesHeader=[{label:"Document Name",state:"name"},{label:"Sender",state:"sender"},{label:"Files",state:"files"},{label:"Uploaded Date",state:"uploadDate"},{label:"Uploaded By",state:"uploader"},{label:"Action",state:"action"}],a.lettersAndRequestsHeader=[{label:"Document Name",state:"name"},{label:"Files",state:"files"},{label:"Uploaded Date",state:"uploadDate"},{label:"Uploaded By",state:"uploader"},{label:"Action",state:"action"}],a.loadData=function(e){var t={where:{section:e,client_id:a.props.client.id}};T.a.get("documents?filter=".concat(JSON.stringify(t)),function(e){console.log(e),a.setState({documents:V.a.getDocuments(e.documents)})},function(e){console.log(e)})},a.state={selectedTab:1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadData("signed_contracts")}},{key:"componentWillUpdate",value:function(e,t){this.state.selectedTab!=t.selectedTab&&(1===t.selectedTab?this.loadData("signed_contracts"):2===t.selectedTab?this.loadData("signed_proposals"):3===t.selectedTab?this.loadData("masterlists"):4===t.selectedTab?this.loadData("apd_endorsements"):5===t.selectedTab?this.loadData("corporate_guarantees"):6===t.selectedTab&&this.loadData("letters_and_requests"))}},{key:"render",value:function(){var e=this;return n.createElement(_.a,{container:!0,spacing:2},n.createElement("div",null,n.createElement(Be,{tabList:this.tabList,selectedTab:this.state.selectedTab,tabStyle:function(e){return{padding:"0 1rem"}},tabLabel:function(t){return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"header-3",style:{margin:"6px 0"}},e.tabList[t].label))},setSelectedTab:function(t){e.setState({documents:[],selectedTab:t})}})),n.createElement("div",{className:"sub-section",style:{overflowX:"auto"}},this.state.documents?1===this.state.selectedTab?n.createElement(L.a,{rows:this.state.documents,renderHeader:function(){return e.renderTableHeader(e.signedContractsHeader)},renderRow:function(t,a){return e.renderTableRow(t,a,e.signedContractsHeader)}}):2===this.state.selectedTab?n.createElement(L.a,{rows:this.state.documents,renderHeader:function(){return e.renderTableHeader(e.signedProposalsHeader)},renderRow:function(t,a){return e.renderTableRow(t,a,e.signedProposalsHeader)}}):3===this.state.selectedTab?n.createElement(L.a,{rows:this.state.documents,renderHeader:function(){return e.renderTableHeader(e.masterlistsHeader)},renderRow:function(t,a){return e.renderTableRow(t,a,e.masterlistsHeader)}}):4===this.state.selectedTab?n.createElement(L.a,{rows:this.state.documents,renderHeader:function(){return e.renderTableHeader(e.apdEndorsementsHeader)},renderRow:function(t,a){return e.renderTableRow(t,a,e.apdEndorsementsHeader)}}):5===this.state.selectedTab?n.createElement(L.a,{rows:this.state.documents,renderHeader:function(){return e.renderTableHeader(e.corporateGuaranteesHeader)},renderRow:function(t,a){return e.renderTableRow(t,a,e.corporateGuaranteesHeader)}}):6===this.state.selectedTab?n.createElement(L.a,{rows:this.state.documents,renderHeader:function(){return e.renderTableHeader(e.lettersAndRequestsHeader)},renderRow:function(t,a){return e.renderTableRow(t,a,e.lettersAndRequestsHeader)}}):null:n.createElement(I.a,{height:"10rem"})))}},{key:"renderTableHeader",value:function(e){var t=this;return n.createElement(n.Fragment,null,e.map(function(e){return t.renderHeaderColumn(e.state,e.label)}))}},{key:"renderTableRow",value:function(e,t,a){var r=t%2===0?"#FFFFFF":"#F6F7FA",i=e.signedDate?S.a.toShortDateString(e.signedDate):"---",l=e.endorseDate?S.a.toShortDateString(e.endorseDate):"---",s=S.a.toShortDateString(e.uploadDate);return n.createElement(F.a,{style:{backgroundColor:r}},this.renderTableCell(e.name||"---","name",a),this.renderTableCell(e.proposalNo||"---","proposalNo",a),this.renderTableCell(e.version||"---","version",a),this.renderTableCell(e.batchName||"---","batchName",a),this.renderTableCell(e.type||"---","type",a),this.renderTableCell(e.sender||"---","sender",a),this.renderTableCell(i,"signedDate",a),this.renderTableCell(l,"endorseDate",a),this.renderTableCell("---","files",a),this.renderTableCell(s,"uploadDate",a),this.renderTableCell(e.uploader,"uploader",a),this.renderTableCell("---","action",a))}},{key:"renderTableCell",value:function(e,t,a){return a.find(function(e){return e.state===t})?n.createElement(j.a,null,e):null}},{key:"renderHeaderColumn",value:function(e,t,a){var r=this;return n.createElement(j.a,{style:{minWidth:a||"150px"}},n.createElement("span",{className:"header-2"},t),n.createElement("div",{style:{float:"right"}},n.createElement(W.a,{icon:N.H,onClick:function(){}})),n.createElement(z.a,{value:this.state[e],onChange:function(t){r.setState(Object(v.a)({},e,t))}}))}}]),t}(n.Component),tt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getAuditLogs=function(){var e={where:{client_id:a.props.client.id}};T.a.get("audit-logs?filter=".concat(JSON.stringify(e)),function(e){console.log(e),a.setState({logs:V.a.getAuditLogs(e.audit_logs)})},function(e){console.log(e)})},a.state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAuditLogs()}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"sub-section"},this.state.logs?n.createElement("div",{style:{overflowX:"auto"}},n.createElement(L.a,{rows:this.state.logs,renderHeader:function(){return e.renderTableHeader()},rowsPerPageOptions:[10,25,50],renderRow:function(t,a){return e.renderTableRow(t,a)}})):n.createElement(I.a,{height:"10rem"}))}},{key:"renderTableHeader",value:function(){return n.createElement(n.Fragment,null,this.renderHeaderColumn("fiterName","Activity ID"),this.renderHeaderColumn("filterBenefits","Activity"),this.renderHeaderColumn("filterPrincipals","User"),this.renderHeaderColumn("filterDependents","Date"),this.renderHeaderColumn("filterDateCreated","Time"))}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.activityId),n.createElement(j.a,null,e.name),n.createElement(j.a,null,e.user),n.createElement(j.a,null,e.date),n.createElement(j.a,null,e.time))}},{key:"renderHeaderColumn",value:function(e,t,a){var r=this;return n.createElement(j.a,{style:{minWidth:a||"150px"}},n.createElement("span",{className:"header-2"},t),n.createElement("div",{style:{float:"right"}},n.createElement(W.a,{icon:N.H,onClick:function(){}})),n.createElement(z.a,{value:this.state[e],onChange:function(t){r.setState(Object(v.a)({},e,t))}}))}}]),t}(n.Component),at=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).tabList=[{value:1,label:"Client-required"},{value:2,label:"Mandatory"}],a.filterByType=function(e,t){return t.filter(function(t){return t.type===e})},a.state={selectedTab:1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.client.memberFields,a=this.state.selectedTab;return n.createElement("div",null,n.createElement("div",null,n.createElement(Be,{tabList:this.tabList,selectedTab:this.state.selectedTab,tabStyle:function(e){return{padding:"0 1rem"}},tabLabel:function(t){return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"header-3",style:{margin:"6px 0"}},e.tabList[t].label))},setSelectedTab:function(t){e.setState({selectedTab:t})}})),n.createElement("div",{className:"sub-section"},t?n.createElement(L.a,{className:"custom-table",rows:this.filterByType(this.tabList[a-1].label,t),renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}}):null))}},{key:"renderTableHeader",value:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Required?"),n.createElement(j.a,null,"Field"),n.createElement(j.a,null,"Input Type"),n.createElement(j.a,null,"Data Type"))}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.isRequired?"Yes":"No"),n.createElement(j.a,null,e.fieldName),n.createElement(j.a,null,e.inputType),n.createElement(j.a,null,e.dataType))}}]),t}(n.Component),nt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).informationTabs=[{value:1,label:"Basic Information"},{value:2,label:"Contracts/Branches"},{value:3,label:"Member Fields"},{value:4,label:"Servicing Instructions"}],a.accountTabs=[{value:5,label:"HMO Information"},{value:6,label:"Members"},{value:7,label:"History"},{value:8,label:"Documents"}],a.activitiesTabs=[{value:9,label:"Audit Logs"}],a.state={selectedTab:1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.a.get("clients/account/hmo-info/".concat(this.props.clientId),function(t){console.log(t),e.setState({client:V.a.getClientData(t.client,t.benefit_plan_tree,t.plan_types)})},function(e){console.log(e)})}},{key:"render",value:function(){return n.createElement("div",{className:"section",style:{width:"100%"}},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement(_.a,{container:!0,className:"sub-section"},this.renderSideBar(),this.renderMainContent()),n.createElement("div",{className:"section"}))}},{key:"renderSideBar",value:function(){return n.createElement(_.a,{item:!0,xs:2,style:{borderRight:"#3C394A22 solid 1px"},spacing:5},this.renderSideTabs("INFORMATION",this.informationTabs),this.renderSideTabs("ACCOUNT",this.accountTabs),this.renderSideTabs("ACTIVITIES",this.activitiesTabs))}},{key:"renderSideTabs",value:function(e,t){var a=this;return n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},e),n.createElement(Be,{tabList:t,selectedTab:this.state.selectedTab,orientation:"vertical",tabLabel:function(e){return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"header-3",style:{margin:"6px 0"}},t[e].label))},setSelectedTab:function(e){a.setState({selectedTab:e})}}))}},{key:"renderMainContent",value:function(){return n.createElement(_.a,{item:!0,xs:10,className:"small-section"},this.state.client?1===this.state.selectedTab?n.createElement(je,{client:this.state.client}):2===this.state.selectedTab?n.createElement(Ue,{client:this.state.client}):3===this.state.selectedTab?n.createElement(at,{client:this.state.client}):4===this.state.selectedTab?n.createElement(Je,{client:this.state.client}):5===this.state.selectedTab?n.createElement(Ze,{client:this.state.client,history:this.props.history}):6===this.state.selectedTab?n.createElement(Qe,{client:this.state.client}):7===this.state.selectedTab?n.createElement($e,{client:this.state.client}):8===this.state.selectedTab?n.createElement(et,{client:this.state.client}):9===this.state.selectedTab?n.createElement(tt,{client:this.state.client}):null:n.createElement(I.a,{height:"10rem"}))}}]),t}(n.Component),rt=a(130),it=a(774),lt=a(85),st=a(4),ot=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"formatNumber",value:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},{key:"getIntials",value:function(e){for(var t="",a=e.split(" "),n=0;n<a.length;n++)t+=a[n].substring(0,1).toUpperCase()+".";return t}},{key:"toCommonDateString",value:function(e){if(e){var t=e.getDate(),a=e.getMonth(),n=e.getFullYear();return["January","February","March","April","May","June","July","August","September","October","November","December"][a]+" "+t+", "+n}return""}},{key:"getAge",value:function(e){if(e){var t=Date.now()-e;return Math.abs(new Date(t).getUTCFullYear()-1970)}return null}},{key:"getRandomValue",value:function(){return Math.random().toString(36).substr(2,6)}}]),e}(),ct=a(31),mt=a(60),ut=a(771),dt=a(766),pt=a(37),ft=a.n(pt),ht=Object(mt.a)(function(e){return{popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent #363636 transparent"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},paper:{backgroundColor:"#363636",padding:"8px",width:127},status:{padding:"5px",cursor:"pointer"}}}),gt=function(e){var t=ht(e),a=e.memberData,i=Object(n.useRef)(null),l=Object(n.useState)(null),s=Object(p.a)(l,2),o=s[0],c=s[1],m=Object(n.useState)(!1),u=Object(p.a)(m,2),d=u[0],f=u[1],h=Object(n.useState)(!1),g=Object(p.a)(h,2),E=g[0],b=g[1],v=Object(n.useState)(""),_=Object(p.a)(v,2),y=_[0],C=_[1],S=function(){a&&a.member_suspension&&a.member_suspension.suspension_start_date&&ft()(a.member_suspension.suspension_start_date).isValid()&&ft()(a.member_suspension.suspension_start_date).diff(new Date)>0?(b(!0),C("Marked for suspension")):a&&a.member_termination&&a.member_termination.termination_date&&ft()(a.member_termination.termination_date).isValid()&&ft()(a.member_termination.termination_date).diff(new Date)>0&&(b(!0),C("Marked for termination"))};return r.a.createElement("span",{onMouseEnter:S,onMouseLeave:function(){b(!1)}},r.a.createElement(ut.a,{onClickAway:function(){f(!1)}},r.a.createElement("span",{className:Object(st.default)("member-status-span"),ref:i,onClick:S},r.a.createElement(pe.a,{className:"fa",icon:a&&(a.member_termination&&a.member_termination.termination_date&&ft()(a.member_termination.termination_date).isValid()&&ft()(a.member_termination.termination_date).diff(new Date)>0||a.member_suspension&&a.member_suspension.suspension_start_date&&ft()(a.member_suspension.suspension_start_date).isValid()&&ft()(a.member_suspension.suspension_start_date).diff(new Date)>0)?N.o:N.k,style:{color:a&&a.member_termination&&a.member_termination.termination_date&&ft()(a.member_termination.termination_date).isValid()&&ft()(a.member_termination.termination_date).diff(new Date)>0?"#BC2206":a.member_suspension&&a.member_suspension.suspension_start_date&&ft()(a.member_suspension.suspension_start_date).isValid()&&ft()(a.member_suspension.suspension_start_date).diff(new Date)>0?"#BC2206":"for validation"===a.member_status.toLowerCase()||"pending"===a.member_status.toLowerCase()?"#FAB435":"terminated"===a.member_status.toLowerCase()||"cancelled"===a.member_status.toLowerCase()?"#BC2206":"suspended"===a.member_status.toLowerCase()?"#FD5451":"disapproved"===a.member_status.toLowerCase()?"#8034AD":"expired"===a.member_status.toLowerCase()?"#B5B8C1":"#3AB77D",fontSize:"11px",marginBottom:"1px"}}),r.a.createElement(dt.a,{open:d||E,anchorEl:i.current,placement:"bottom-end",className:t.popper,disablePortal:!1,style:{marginTop:"4px"},modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"undefined"},arrow:{enabled:!0,element:o}}},r.a.createElement("span",{className:t.arrow,ref:c}),r.a.createElement(Fe.a,{className:t.paper},r.a.createElement(ct.a,{style:{fontSize:"10px",color:"white"}},y))))))},Et=Object(mt.a)({headerMemberName:{color:"#272e4c",fontWeight:600,fontSize:"1rem",textTransform:"capitalize"},headerMemberStatusText:{fontSize:"11px",color:"rgba(39, 46, 76, 0.54)",fontWeight:600,textTransform:"uppercase"}}),bt=function(e){var t=Et(e),a=e.memberData;if(a){var r=S.a.toNameFormat(a.first_name,a.middle_name,a.last_name);return n.createElement(it.a,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(ct.a,{className:t.headerMemberName},r),n.createElement(ct.a,{className:t.headerMemberStatusText,style:{paddingLeft:12}},n.createElement(gt,{memberData:a}),"\xa0",a.member_status))}return n.createElement("div",null)},vt=a(768),_t=a(769),yt=a(770),Ct=a(100),Nt=Object(mt.a)({hmoname:{fontSize:"11px",fontWeight:200,color:"rgba(39, 46, 76, 0.5)",textTransform:"uppercase",paddingRight:16},hmovalue:{fontSize:"0.75rem",fontWeight:600,color:"rgb(39, 46, 76)"},hmovaluelink:{fontSize:"0.75rem",fontWeight:600,color:"rgb(39, 46, 76)",textDecoration:"underline",lineHeight:1.25}}),St=function(e){var t=Nt(e);return n.createElement(_.a,{container:!0,alignItems:"center",style:{paddingTop:4,paddingBottom:4}},n.createElement(_.a,{item:!0,xs:5},n.createElement(ct.a,{className:t.hmoname},e.name)),n.createElement(_.a,{item:!0,xs:7},e.link?n.createElement(Ct.b,{to:e.link,className:t.hmovaluelink},e.value):n.createElement(ct.a,{className:t.hmovalue},e.value)))},Ot=Object(mt.a)(function(e){return{subtitle:{fontSize:"1.125rem",fontWeight:600},hmocheckboxlabel:{fontSize:"0.75rem",color:"rgb(39, 46, 76)"},hmographsubtitle:{fontSize:"0.75rem",textTransform:"uppercase",color:"rgb(39, 46, 76, 0.6)",marginBottom:16},hmodependentsbox:{height:175,borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmoremarksbox:{height:175,borderRadius:8,backgroundColor:"#FFFFFF",overflow:"hidden",border:"1px solid #272E4C4D"},hmodependentsbox_link:{color:"rgb(39, 46, 76)"},change_status_link:{color:"#0D5E40",cursor:"pointer",fontSize:"13px",textDecoration:"underline"},icons:{color:"#0D5E40",cursor:"pointer",fontSize:"13px"},popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},paper:{padding:"15px",width:110},status:{padding:"5px",cursor:"pointer"}}}),At=function(e){var t=Ot(e),a=e.memberData,r=e.memberDependents,i=e.clientData,l=e.MBL,s=e.ABL,o=e.PEC,c=n.useState(!1),m=Object(p.a)(c,2),u=m[0],d=m[1],f=n.useState(""),h=Object(p.a)(f,2),g=h[0],E=h[1];function b(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}n.useEffect(function(){e.benefit_plan_tree.length>0&&!u&&(e.benefit_plan_tree.filter(function(e){1===e.level&&"base mother contract"===e.name.toLowerCase()&&(console.log("TEST",e),E(e.custom_metadata.version))}),d(!0))});var v=[],y=[];if(e.clientFields)if(e.clientFields.length>2){var C=Math.floor(e.clientFields.length/2);v=e.clientFields.slice(0,C).map(function(e){var t="";return t="registered_name"===e.field_name||"name_on_card"===e.field_name?i&&i[e.field_name]?i[e.field_name]:"":"date"===e.input_type?a&&a[e.field_name]?ft()(a[e.field_name]).format("MMM DD, YYYY"):"":a&&a[e.field_name]?a[e.field_name]:"",n.createElement(St,{name:e.system_name,value:t||"-"})}),y=e.clientFields.slice(C,e.clientFields.length).map(function(e){var t="";return t="registered_name"===e.field_name||"name_on_card"===e.field_name?i&&i[e.field_name]?i[e.field_name]:"":"date"===e.input_type?a&&a[e.field_name]?ft()(a[e.field_name]).format("MMM DD, YYYY"):"":a&&a[e.field_name]?a[e.field_name]:"",n.createElement(St,{name:e.system_name,value:t||"-"})})}else e.clientFields.length>0&&(v=Object(ue.a)(e.clientFields).map(function(e){var t="";return t="registered_name"===e.field_name||"name_on_card"===e.field_name?i&&i[e.field_name]?i[e.field_name]:"":"date"===e.input_type?a&&a[e.field_name]?ft()(a[e.field_name]).format("MMM DD, YYYY"):"":a&&a[e.field_name]?a[e.field_name]:"",n.createElement(St,{name:e.system_name,value:t||"-"})}));return n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},n.createElement(St,{name:"Member Account No.",value:"-"}),n.createElement(St,{name:"Member ID",value:a&&a.member_id?a.member_id:"-"}),n.createElement(St,{name:"Contract",value:"Contract ".concat(g)}),n.createElement(St,{name:"Effectivity Date",value:a&&b(a.effectivity_date)?ft()(a.effectivity_date).format("MMMM D, YYYY"):"-"}),n.createElement(St,{name:"Contract Renewal Date",value:"-"}),n.createElement(St,{name:"Contract Expiration Date",value:a&&b(a.termination_date)?ft()(a.termination_date).format("MMMM D, YYYY"):"-"}),n.createElement(St,{name:"Date Printed",value:a&&b(a.date_printed)?ft()(a.date_printed).format("MMM DD, YYYY"):"-"}),n.createElement(St,{name:"VIP Member",value:a?a.is_vip?"Yes":"No":"-"})),n.createElement(_.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},n.createElement(St,{name:"Type",value:a&&a.member_type?a.member_type:"-"}),n.createElement(St,{name:"Plan Type",value:a&&a.plan_type?a.plan_type:"-"}),n.createElement(St,{name:"MBL",value:l||"-"}),n.createElement(St,{name:"ABL",value:s||"-"}),n.createElement(St,{name:"PEC",value:o||"-"}),n.createElement(St,{name:"Philhealth Rider",value:a?a.is_philhealth_rider?"Yes":"No":"-"}),n.createElement(St,{name:"Batch Process No.",value:"-"}),n.createElement(St,{name:"Member Consent",value:a?a.member_consent?"Yes":"No":"-"})),n.createElement(_.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},n.createElement(St,{name:"Date of Birth",value:a&&b(a.date_of_birth)?ft()(a.date_of_birth).format("MMMM D, YYYY"):"-"}),n.createElement(St,{name:"Age",value:a&&b(a.date_of_birth)?""+ft()().diff(a.date_of_birth,"years",!1):"-"}),n.createElement(St,{name:"Gender",value:a?a.gender:"-"})),n.createElement(_.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},n.createElement(St,{name:"Civil Status",value:a?a.civil_status:"-"}),n.createElement(St,{name:"Title/Prefix",value:a&&a.title?a.title:"-"}),n.createElement(St,{name:"Suffix",value:a&&a.suffix?a.suffix:"-"})),n.createElement(_.a,{item:!0,xs:12,md:6,style:{paddingTop:48,paddingBottom:48,paddingRight:12}},n.createElement(ct.a,{className:t.hmographsubtitle},"Enrolled Dependents"),n.createElement(Fe.a,{className:t.hmodependentsbox},n.createElement(vt.a,{size:"small"},n.createElement(_t.a,null,n.createElement(F.a,null,n.createElement(j.a,null,"Dependent Name"),n.createElement(j.a,null,"Relationship"),n.createElement(j.a,null,"Status"))),n.createElement(yt.a,null,r&&r.length>0?r.map(function(e,a){return n.createElement(F.a,{key:a},n.createElement(j.a,{component:"th",scope:"row"},n.createElement(Ct.b,{to:"#",className:t.hmodependentsbox_link},e.first_name+" "+(e.middle_name?e.middle_name.charAt(0)+". ":"")+e.last_name)),n.createElement(j.a,null,e.relationship_to_principal),n.createElement(j.a,null,e.member_status))}):n.createElement(F.a,null,n.createElement(j.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled dependents")))))),n.createElement(_.a,{item:!0,xs:12,md:6,style:{paddingTop:48,paddingBottom:48}},n.createElement(ct.a,{className:t.hmographsubtitle},"Remarks"),n.createElement(it.a,{className:t.hmoremarksbox})),n.createElement(_.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},v),n.createElement(_.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},y))};At.defaultProps={memberData:{},memberDependents:[],clientData:{},contractId:"",contractName:"",clientFields:[],MBL:"",ABL:"",PEC:""};var Tt=a(56),It=a(19),kt=a(345),Rt=a(344),Dt=a(339),wt=a(209),Pt=a(456),xt=a(287),jt=a(823),Ft=a(763),Lt=a(817),Mt=a(285),Ut=!1,Bt="",Ht=!1,Vt={},Gt=Object(kt.a)({select:{backgroundColor:"transparent"}}),qt=Object(kt.a)({root:{"& div.MuiInputBase-root":{backgroundColor:"transparent"}}}),Wt=Object(kt.a)({root:{"&.Mui-checked":{color:"#3AB77D"}}}),Yt=function(e){var t=e.id,a=e.value,r=e.items,i=Gt();return n.createElement(Rt.a,{id:t,classes:i,value:a,style:{width:"100%",backgroundColor:"transparent"},renderValue:function(e){if(null!==e){var t=r.find(function(t){return t.value===e});return t?t.name:"\u2014"}return"\u2014"}},r.map(function(e){return n.createElement(Dt.a,{key:e.value,value:e.value},e.name)}))},zt=function(e){var t=e.filter,a=e.onFilter,r=e.filteringEnabled,i=e.classes;return r?n.createElement(j.a,{style:{padding:"0px 10px 8px 10px"},classes:i},n.createElement(wt.a,{classes:i,style:{width:"100%"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):n.createElement(j.a,{style:{padding:"0px 10px 8px 10px"},classes:i})},Kt=function(e){var t=e.style,a=e.selected,r=e.onToggle,i=e.classes,l=Object(k.a)(e,["style","selected","onToggle","classes"]);return n.createElement(j.a,Object.assign({padding:"checkbox",style:t,classes:i},l),n.createElement(He.a,{classes:i,checked:a,onClick:function(e){e.stopPropagation(),r()}}))},Xt=function(e){var t=e.style,a=e.selected,r=e.onToggle,i=e.classes,l=Object(k.a)(e,["style","selected","onToggle","classes"]);return n.createElement(j.a,Object.assign({padding:"checkbox",style:t,classes:i},l),n.createElement(oe.a,{icon:n.createElement(pe.a,{icon:N.j}),checkedIcon:n.createElement(pe.a,{icon:N.j}),classes:i,checked:a,onClick:function(e){e.stopPropagation(),r()}}))},Jt=function(e){var t=e.value,a=e.onValueChange;return n.createElement(wt.a,{value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:n.createElement(Pt.a,{position:"start"},n.createElement(pe.a,{icon:N.G}))})},Zt=function(e){var t=e.children;return n.createElement(xt.a,{disableGutters:!0,children:t})},Qt=function(e){return"asc"===e.direction?n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.J}):n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.I})},$t=function(e){var t=e.column,a=e.onSort,r=e.children,i=e.direction;return void 0!==t.sortingEnabled&&null!==t.sortingEnabled&&!1===t.sortingEnabled?n.createElement("span",null,t.title):n.createElement(jt.a,{hideSortIcon:!0,onClick:a},r,i?n.createElement(Qt,{direction:i}):n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.H}))},ea=function(e){var t=e.value;return""===t||void 0===t||null===t?n.createElement(pe.a,{style:{color:"#FD5451",fontSize:"16px"},icon:N.o}):t},ta=function(e){return n.createElement(It.b,Object.assign({formatterComponent:ea},e))},aa=function(e){var t=e.row,a=e.value;return!0!==t.required||""!==a&&void 0!==a&&null!==a?!1!==t.required||""!==a&&void 0!==a&&null!==a?a:"N/A":n.createElement(pe.a,{style:{color:"#FD5451",fontSize:"16px"},icon:N.o})},na=function(e){return n.createElement(It.b,Object.assign({formatterComponent:aa},e))},ra=function(e){var t=e.column,a=e.row,r=e.value,i=Wt();return n.createElement("div",null,n.createElement(Ft.a,{control:n.createElement(oe.a,{checked:!0===r||"true"===r,value:r,style:{padding:"5px"},className:i.root,color:"primary",onChange:function(e){Ht=!0,Vt={value:e.target.checked,name:t.name,id:a.id}}}),label:""}))},ia=function(e){return n.createElement(It.b,Object.assign({formatterComponent:ra},e))},la=function(e){var t=e.value,a=Wt();return n.createElement("div",null,n.createElement(Ft.a,{control:n.createElement(oe.a,{checked:!0===t||"true"===t,value:t,disabled:!0,style:{padding:"5px"},className:a.root,color:"primary",onChange:function(){}}),label:""}))},sa=function(e){return n.createElement(It.b,Object.assign({formatterComponent:la},e))},oa=function(e){var t=e.column,a=e.row,r=t.name+"_"+a.id;return n.createElement("div",{id:r,onClick:function(e){console.log("e>",e)}},n.createElement(ct.a,{color:"textPrimary",style:{paddingTop:"5px"}},n.createElement("span",null,n.createElement("span",{style:{paddingRight:"10px",fontSize:"15px"}},n.createElement(pe.a,{icon:N.q,style:{color:"#0D5E40"}})),n.createElement("span",{style:{textDecoration:"underline",color:"#0D5E40"}},"Upload File"))))},ca=function(e){return n.createElement(It.b,Object.assign({formatterComponent:oa},e))},ma=function(e){var t=e.value;return n.createElement("div",null,n.createElement(Lt.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation(),Ut=!0,Bt=e.target.value},row:!0},[{value:"approve",label:"Approve"},{value:"for confirmation",label:"For Confirmation"}].map(function(e,t){return n.createElement(Ft.a,{key:t,value:e.value,control:n.createElement(He.a,{color:"primary"}),label:e.label,labelPlacement:"end"})})))},ua=function(e){return n.createElement(It.b,Object.assign({formatterComponent:ma},e))},da=function(e){var t=e.value;return n.createElement("div",null,n.createElement(Lt.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation(),Ut=!0,Bt=e.target.value},row:!0},[{value:"approve",label:"Approve"},{value:"disapprove",label:"Disapprove"},{value:"for confirmation",label:"For Confirmation"}].map(function(e,t){return n.createElement(Ft.a,{key:t,value:e.value,control:n.createElement(He.a,{color:"primary"}),label:e.label,labelPlacement:"end",onClick:function(e){Ut=!0,console.log("radio button label onclick",e)},onChange:function(e){Ut=!0,console.log("radio button label onchange",e)}})})))},pa=function(e){return n.createElement(It.b,Object.assign({formatterComponent:da},e))},fa=function(e){var t=e.value;return console.log("Radio group value: ",t),n.createElement("div",null,n.createElement(Lt.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation(),Ut=!0,Bt=e.target.value},row:!0},[{value:"match",label:"Match"},{value:"not",label:"Not Match"},{value:"confirmation",label:"For Confirmation"}].map(function(e,t){return n.createElement(Ft.a,{key:t,value:e.value,control:n.createElement(He.a,{color:"primary"}),label:e.label,labelPlacement:"end",onClick:function(e){Ut=!0,console.log("radio button label onclick",e)},onChange:function(e){Ut=!0,console.log("radio button label onchange",e)}})})))},ha=function(e){return n.createElement(It.b,Object.assign({formatterComponent:fa},e))},ga=function(e){var t=e.value;return n.createElement(Yt,{items:[{name:"",value:""},{name:"Married",value:"married"},{name:"Single",value:"single"},{name:"Widowed",value:"widowed"},{name:"Annulled",value:"annulled"}],value:t})},Ea=function(e){return n.createElement(It.b,Object.assign({formatterComponent:ga},e))},ba=function(e){var t=e.value;return n.createElement(Yt,{items:[{name:"First Name",value:"first_name"},{name:"Middle Name",value:"middle_name"},{name:"Last Name",value:"last_name"},{name:"Birthday",value:"birthday"},{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"},{name:"Plan Type",value:"plan_type"},{name:"Type",value:"type"}],value:t})},va=function(e){return n.createElement(It.b,Object.assign({formatterComponent:ba},e))},_a=function(e){var t=e.value;return n.createElement(Yt,{items:[{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"}],value:t})},ya=function(e){return n.createElement(It.b,Object.assign({formatterComponent:_a},e))},Ca=function(e){var t=e.value,a=qt();return n.createElement(Mt.a,{value:t,type:"number",classes:a})},Na=function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ca},e))},Sa=function(e){var t=e.value,a=qt();return n.createElement(Mt.a,{value:t,classes:a})},Oa=function(e){return n.createElement(It.b,Object.assign({formatterComponent:Sa},e))},Aa=function(e){var t=e.value,a=t;if(a)try{a=ft()(t).format("MMM DD, YYYY")}catch(n){a=t}else a="";return a},Ta=function(e){return n.createElement(It.b,Object.assign({formatterComponent:Aa},e))},Ia=function(e){var t=e.value,a=t;if(a)try{a=ft()(t).format("hh:mm:ss A")}catch(n){a=t}else a="";return a},ka=function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ia},e))},Ra=function(e){var t=e.columns,a=e.formattedColumns,r=e.singleSelect,i=e.disablePaging,l=e.disableSearch,s=e.disableSelect,o=e.disableSort,c=e.disableFilter,m=e.toolbarType,u=e.columnExtensions,d=e.columnBands,f=e.id,h=e.showSelectionColumn,g=e.query,E=Object(n.useState)([]),b=Object(p.a)(E,2),v=b[0],_=b[1],y=Object(n.useState)(0),C=Object(p.a)(y,2),N=C[0],S=C[1],O=Object(n.useState)(5),A=Object(p.a)(O,2),T=A[0],I=A[1],k=Object(n.useState)([5,10,15,0]),R=Object(p.a)(k,1)[0],D=Object(n.useState)(e.rows),w=Object(p.a)(D,2),P=w[0],x=w[1];Object(n.useEffect)(function(){x(e.rows)},[e.rows]);var j=[];void 0!==a&&Object.keys(a).length>0&&(void 0!==a.number&&j.push(n.createElement(Na,{for:a.number})),void 0!==a.text&&j.push(n.createElement(Oa,{for:a.text})),void 0!==a.system_name&&j.push(n.createElement(va,{for:a.system_name})),void 0!==a.data_name&&j.push(n.createElement(ya,{for:a.data_name})),void 0!==a.value_name&&j.push(n.createElement(Ea,{for:a.value_name})),void 0!==a.required_columns&&j.push(n.createElement(ta,{for:a.required_columns})),void 0!==a.radio&&j.push(n.createElement(ha,{for:a.radio})),void 0!==a.incomplete_radio&&j.push(n.createElement(pa,{for:a.incomplete_radio})),void 0!==a.disapprove_action&&j.push(n.createElement(ua,{for:a.disapprove_action})),void 0!==a.required_checkbox&&j.push(n.createElement(ia,{for:a.required_checkbox})),void 0!==a.readonly_checkbox&&j.push(n.createElement(sa,{for:a.readonly_checkbox})),void 0!==a.upload_file&&j.push(n.createElement(ca,Object.assign({for:a.upload_file},e))),void 0!==a.required_cell&&j.push(n.createElement(na,Object.assign({for:a.required_cell},e))),void 0!==a.date&&j.push(n.createElement(Ta,{for:a.date})),void 0!==a.time&&j.push(n.createElement(ka,{for:a.time})));var F=Zt;return n.createElement(Fe.a,{id:f},n.createElement(Tt.a,{rows:P,columns:t},j,i?null:n.createElement(It.l,{currentPage:N,onCurrentPageChange:S,pageSize:T,onPageSizeChange:I}),i?null:n.createElement(It.h,null),!l||g?n.createElement(It.n,{value:g}):null,o||void 0===e.defaultSort?o?n.createElement(It.p,null):n.createElement(It.p,{defaultSorting:[],onSortingChange:function(t){console.log("onSortingChange"),e.onSortingChange&&e.onSortingChange(t),e.onFilterChange&&e.onFilterChange(e.defaultFilter)}}):n.createElement(It.p,{defaultSorting:[],sorting:void 0!==e.defaultSort?e.defaultSort:[],onSortingChange:function(t){console.log("onSortingChange"),e.onSortingChange&&e.onSortingChange(t),e.onFilterChange&&e.onFilterChange(e.defaultFilter)}}),o?null:n.createElement(It.j,null),s&&h?null:n.createElement(It.o,{selection:v,onSelectionChange:function(t){if(console.log("here click row"),e.onClickRow)Ut||Ht?Ut?(console.log("radioselected",t),e.onSelectedRadio&&e.onSelectedRadio(t[0],Bt),Ut=!1):Ht&&(console.log(" here !!! >>>",e.onClickCell),e.onClickCell&&e.onClickCell(Vt),Ht=!1,Vt={}):(console.log("onclickrow"),e.onClickRow(t));else if(r){var a=t.find(function(e){return-1===v.indexOf(e)});console.log(t,v,a),void 0!==a&&_([a])}else _(t)}}),s?null:n.createElement(It.i,null),c?null:n.createElement(It.d,{defaultFilters:[],filters:void 0!==e.defaultFilter?e.defaultFilter:[],columnFilteringEnabled:e.columnFilteringEnabled,columnExtensions:e.filterExtensions,onFiltersChange:e.onFilterChange}),c?null:n.createElement(It.g,null),n.createElement(Tt.d,{columnExtensions:u,messages:{noData:e.message}}),s||h?h?null:n.createElement(Tt.h,{selectByRowClick:!0,showSelectionColumn:!1,cellComponent:r?Kt:Xt,headerCellComponent:Xt}):n.createElement(Tt.h,{showSelectAll:!r,cellComponent:r?Kt:Xt,headerCellComponent:Xt}),n.createElement(Tt.g,{showSortingControls:!o,sortLabelComponent:$t}),c?null:n.createElement(Tt.f,{cellComponent:zt}),d?n.createElement(Tt.e,{columnBands:d}):null,!l||m?n.createElement(Tt.i,{rootComponent:F}):null,l?null:n.createElement(Tt.c,{inputComponent:Jt}),i?null:n.createElement(Tt.b,{pageSizes:R})))};Ra.defaultProps={rows:[],columns:[],columnExtensions:[],filterExtensions:[],columnBands:null,formattedColumns:{},singleSelect:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,toolbarType:null,defaultFilter:[],showSelectionColumn:!1,columnFilteringEnabled:!0,id:"table-1",message:"No available data",query:""};var Da=function(e){var t=Object(n.useState)(0),a=Object(p.a)(t,2),r=a[0],i=a[1];function l(){}function s(t){e.applySortFilter(t,r,"filter")}function o(t){e.applySortFilter(t,r,"sort")}return n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:12},n.createElement(we.a,{value:r,onChange:function(e,t){i(t)},"aria-label":"documenst tab"},e.documents_tab.map(function(e){return n.createElement(Pe.a,{label:e.label+" ("+e.count+")",id:"view_member_documents_tab_"+e.count,"aria-controls":"verify-member-tabpanel-"+e.count})}))),n.createElement(_.a,{item:!0,xs:12,style:{paddingLeft:"8px"}},0===r?n.createElement(Ra,{id:"document_all_table",rows:Object.keys(e.all_documents_table).length>0?e.all_documents_table.rows:[],columns:Object.keys(e.all_documents_table).length>0?e.all_documents_table.columns:[],message:"No available data",onClickRow:l,disableSelect:!0,disableSearch:!0,columnFilteringEnabled:!1,formattedColumns:Object.keys(e.all_documents_table).length>0?e.all_documents_table.formattedColumns:{},columnExtensions:Object.keys(e.all_documents_table).length>0?e.all_documents_table.columnExtensions:[],filterExtensions:Object.keys(e.all_documents_table).length>0?e.all_documents_table.filterExtensions:[],onFilterChange:s,onSortingChange:o,defaultFilter:e.all_filter,defaultSort:e.all_sort}):1===r?n.createElement(Ra,{id:"document_uploaded_table",rows:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.rows:[],columns:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.columns:[],message:"No available data",onClickRow:l,disableSelect:!0,disableSearch:!0,columnFilteringEnabled:!1,formattedColumns:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.formattedColumns:{},columnExtensions:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.columnExtensions:[],filterExtensions:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.filterExtensions:[],onFilterChange:s,onSortingChange:o,defaultFilter:e.uploaded_filter,defaultSort:e.uploaded_sort}):2===r?n.createElement(Ra,{id:"document_missing_table",rows:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.rows:[],columns:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.columns:[],message:"No available data",onClickRow:l,disableSelect:!0,disableSearch:!0,columnFilteringEnabled:!1,formattedColumns:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.formattedColumns:{},columnExtensions:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.columnExtensions:[],filterExtensions:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.filterExtensions:[],onFilterChange:s,onSortingChange:o,defaultFilter:e.missing_filter,defaultSort:e.missing_sort}):null))};Da.defaultProps={all_data:{},all_documents_table:{},uploaded_documents_table:{},missing_documents_table:{},documents_tab:[],all_filter:[],uploaded_filter:[],missing_filter:[],all_sort:[],uploaded_sort:[],missing_sort:[]};var wa=a(824),Pa=(a(742),[{name:"activity_id",title:"Activity ID"},{name:"description",title:"Activity"},{name:"user_name",title:"User"},{name:"revision_date",title:"Date"},{name:"revision_time",title:"Time"}]),xa=[{columnName:"description",wordWrapEnabled:!0}],ja={date:["revision_date"],time:["revision_time"]},Fa=[{columnName:"activity_id",direction:"desc"}],La=function(e){var t=e.data,a=e.al_global_filter,r=e.alHandleSearch;return console.log("data ",t),n.createElement(_.a,{container:!0,style:{paddingLeft:32}},n.createElement(_.a,{item:!0,xs:12,style:{paddingTop:16,paddingBottom:16}},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:12,md:12},n.createElement(Mt.a,{style:{width:"100%",fontSize:10},id:"member_log_search",placeholder:"Search logs...",label:"",margin:"normal",variant:"outlined",value:a,onChange:r,InputProps:{startAdornment:n.createElement(Pt.a,{position:"start"},n.createElement(wa.a,{style:{color:"rgba(54, 54, 54, 0.4)"}}))}})))),n.createElement(_.a,{item:!0,xs:12,style:{paddingTop:0,paddingBottom:0}},n.createElement(Ra,{id:"member-audit-logs",message:"No Logs Available",onClickRow:function(){},rows:t,columns:Pa,formattedColumns:ja,columnExtensions:xa,defaultSort:Fa,query:a,disableSearch:!0,disableSelect:!0})))};La.defaultProps={data:{},al_global_filter:"",alHandleSearch:function(){}};var Ma=a(21),Ua=a.n(Ma),Ba=a(264),Ha=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),i=a[0],l=a[1],s=Object(n.useState)([]),o=Object(p.a)(s,2),c=o[0],m=o[1],u=Object(n.useState)([]),d=Object(p.a)(u,2),f=d[0],h=d[1],g=Object(n.useState)(""),E=Object(p.a)(g,2),b=E[0],v=E[1],y=Object(n.useState)([]),C=Object(p.a)(y,2),S=C[0],O=C[1],A=Object(n.useState)([]),I=Object(p.a)(A,2),k=I[0],R=I[1],D=Object(n.useState)(0),w=Object(p.a)(D,2),P=w[0],x=w[1],j=Object(n.useState)(!0),F=Object(p.a)(j,2),L=F[0],M=F[1];Object(n.useEffect)(function(){console.log("check",e),U()},[e.isSelected]),Object(n.useEffect)(function(){H()},[c,k,S]),Object(n.useEffect)(function(){clearTimeout(P),L||x(function(){return setTimeout(function(){H()},500)}),M(!1)},[b]);var U=function(){Object(Ma.isNil)(e.memberId)||(l(!0),T.a.get("members/".concat(e.memberId,"/contracts/history"),function(e){!Object(Ma.isNil)(e)&&Object(Ma.isNil)(e.error)&&Object(Ma.isArray)(e)?(console.log("check history response",e),B(e)):console.log("error loading"),l(!1)},function(e){console.log("getMemberContractsHistory Error",e),l(!0)}))},B=function(e){var t=[];Object(Ma.forEach)(e,function(e){t.push({contract:e.contract_name,effectivity_date:e.contract_effectivity_date,plan_type:e.member_plan_type,type:e.member_type,status:e.status})}),m(t)},H=function(){if(Object(Ma.isNil)(b)&&Object(Ma.isEmpty)(S))h(c);else{var e=Object(Ma.filter)(c,function(e){return function(e){if(Object(Ma.isNil)(b))return!0;var t=Object(Ma.toLower)(b),a=Object(Ma.toLower)(e.contract),n=Object(Ma.toLower)(e.effectivity_date),r=Object(Ma.toLower)(e.plan_type),i=Object(Ma.toLower)(e.type),l=Object(Ma.toLower)(e.status);return Object(Ma.includes)(a,t)||Object(Ma.includes)(n,t)||Object(Ma.includes)(r,t)||Object(Ma.includes)(i,t)||Object(Ma.includes)(l,t)}(e)&&function(e){if(Object(Ma.isEmpty)(S))return!0;var t=Object(Ma.toLower)(e.contract),a=Object(Ma.toLower)(e.effectivity_date),n=Object(Ma.toLower)(e.plan_type),r=Object(Ma.toLower)(e.type),i=Object(Ma.toLower)(e.status);return Object(Ma.every)(S,function(e){var l=Object(Ma.toLower)(e.value);switch(e.columnName){case"contract":return Object(Ma.includes)(t,l);case"effectivity_date":return Object(Ma.includes)(a,l);case"plan_type":return Object(Ma.includes)(n,l);case"type":return Object(Ma.includes)(r,l);case"status":return Object(Ma.includes)(i,l);default:return!0}})}(e)});h(e)}};return r.a.createElement(_.a,{container:!0},r.a.createElement(_.a,{item:!0,xs:12},i?r.a.createElement(Ba.a,null):null),r.a.createElement(_.a,{item:!0,xs:12,style:{paddingLeft:"24px"}},r.a.createElement(Mt.a,{id:"contract_search_tf",placeholder:"Search year, company, or contract",style:{backgroundColor:"white"},margin:"dense",variant:"outlined",fullWidth:!0,value:b,onChange:function(e){v(e.target.value)},inputProps:{"aria-label":"bare"},InputProps:{startAdornment:r.a.createElement(pe.a,{icon:N.G,style:{color:"#00000061",marginRight:"8px"}})}})),r.a.createElement(_.a,{item:!0,xs:12,style:{boxShadow:"0px 3px 6px #00000029",marginTop:"20px",marginLeft:"24px"}},r.a.createElement(Ra,{id:"history-table",rows:f,columns:[{name:"contract",title:"Contract"},{name:"effectivity_date",title:"Contract Effectivity Date"},{name:"plan_type",title:"Plan Type"},{name:"type",title:"Type"},{name:"status",title:"Status"}],message:"No data",columnExtensions:[{columnName:"contract",wordWrapEnabled:!0,textAlign:"center"},{columnName:"effectivity_date",wordWrapEnabled:!0,textAlign:"center"},{columnName:"plan_type",wordWrapEnabled:!0,textAlign:"center"},{columnName:"type",wordWrapEnabled:!0,textAlign:"center"},{columnName:"status",wordWrapEnabled:!0,textAlign:"center"}],formattedColumns:{},defaultFilter:S,onFilterChange:function(e){O(e)},onSortingChange:function(e){R(e)},onClickRow:function(e){console.log("handleRowClick row",e)},disableSelect:!0,disableSearch:!0})))};a(324);function Va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ga(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Va(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Va(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var qa=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).memberTabs=[{value:0,label:"HMO Information"},{value:1,label:"Documents"},{value:2,label:"History"},{value:3,label:"Audit Logs"}],a.reset=function(){a.setState({loading:!1,selectedTab:0})},a.setselectedTab=function(e){a.setState({selectedTab:e})},a.setLoading=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?a.setState({loading:e},t):a.setState({loading:e})},a.alHandleSearch=function(e){var t=e.target.value;a.setState({al_global_filter:t},function(){return a.alHandleFilterChange()})},a.alHandleFilterChange=function(){},a.fetchMemberDependents=function(e,t,n){var r=Object(rt.a)(a);if(e&&""!==e&&"Active"===t){var i=JSON.stringify({where:{principal_temp_id:e,member_status:"Active"}}),l="members?filter=".concat(i);T.a.get(l,function(e){e&&e.length>0&&r.setState({memberDependents:e}),n()},function(e){console.log("get member dependents failed ",e),n()})}else n()},a.fetchMemberLogs=function(e){var t=Object(rt.a)(a);T.a.get("member-logs?filter[order]=activity_id%20DESC&filter[where][member_id]="+e,function(e){if(e&&void 0===e.error&&e.length>0){var a=e.map(function(e){return e.revision_time=e.revision_date,e});t.setState({memberLogs:a})}},function(){})},a.loadMemberData=function(){var e=Object(rt.a)(a);e.setLoading(!0,function(){T.a.get("members?filter[where][member_id]=".concat(e.props.memberNumber),function(t){if(t&&void 0===t.error&&t.length>0){var a=t[0];e.appendDocumentData(a.documents);var n=a.client_id,r=a.temp_id,i=a.member_status;e.setState({memberData:a}),e.fetchMemberLogs(a._id),e.fetchMemberDependents(r,i,function(){T.a.get("clients/account/hmo-info/".concat(n),function(t){if(t&&void 0===t.error){var n=t.client,r=t.benefit_plan_tree,i=n&&n.contracts&&n.contracts[0]?n.contracts[0]:"",l="",s="",o="",c="",m=null,u=[{system_name:"Corporate Acct. Name",field_name:"registered_name",is_required:!1,input_type:"text",is_client_added:!1,is_editable:!1},{system_name:"Card Name",field_name:"name_on_card",is_required:!1,input_type:"text",is_client_added:!1,is_editable:!1}];n&&n.member_data_fields&&n.member_data_fields.length>0&&n.member_data_fields.forEach(function(e){if("Client-required"===e.field_type){var t="Date Field"===e.input_type?"date":"Numeric"===e.data_type?"number":"text";u.push({system_name:e.system_name,field_name:e.field_name,is_required:e.is_required,input_type:t,is_client_added:e.is_client_added,is_editable:!0})}});var d=a.plan_type?a.plan_type:"",p=null;if(r&&r.length>0&&(p=Ua.a.find(r,function(e){return"MCT"===e.tree_id}),Ua.a.isNil(p)||(l=p.name?p.name:""),m=Ua.a.find(r,function(e){return d&&e.name===d&&"PlanType"===e.type}),!Ua.a.isNil(m))){var f=Ua.a.find(r,function(e){return e.tree_id==="MCT-CT-"+m.code+"-RB"});if(!Ua.a.isNil(f)){var h=Ua.a.get(f,"limits",[]);Ua.a.forEach(h,function(e){switch(e.type){case"ABL":s="".concat(e.limit_unit," ").concat(ot.formatNumber(e.limit));break;case"MBL":o="".concat(e.limit_unit," ").concat(ot.formatNumber(e.limit));break;case"PEC":switch(Ua.a.get(e,"limit_unit","")){case"PHP":c="".concat(e.limit_unit," ").concat(ot.formatNumber(e.limit));break;case"Percentage":c="".concat(ot.formatNumber(e.limit)," %");break;case"Months":var t=Ua.a.get(e,"time_based_limit",[]);if(t.length>0){var a=[];Ua.a.forEach(t,function(e){a.push("".concat(ot.formatNumber(Ua.a.get(e,"number_month",0))," ").concat(Ua.a.get(e,"day_based","")))}),c=a.join(", ")}break;default:c=""}}})}}e.setState({clientData:Ga({},n,{id:n._id}),contractId:i,contractName:l,clientFields:u,ABL:s,MBL:o,PEC:c,benefit_plan_tree:r},function(){T.a.get("members/documents/".concat(a._id),function(t){t&&void 0===t.error?(e.generateDocumentData(t),e.setLoading(!1)):(console.log("get member documents failed ",t),e.setLoading(!1))},function(t){console.log("get member documents failed ",t),e.setLoading(!1)})})}else console.log("get client hmo info failed ",t),e.setLoading(!1)},function(t){console.log("get client hmo info failed ",t),e.setLoading(!1)})})}else console.log("get member failed ",t),e.setLoading(!1)},function(t){console.log("get member failed ",t),e.setLoading(!1)})})},a.componentDidMount=function(){a.loadMemberData()},a.appendDocumentData=function(e){var t=[{_id:"birth_certificate",name:"Birth Certificate",purpose:"",files:[],required:!1,uploaded:!1},{_id:"baptismal_certificate",name:"Baptismal Certificate",purpose:"",files:[],required:!1,uploaded:!1},{_id:"marriage_certificate",name:"Marriage Certificate",purpose:"",files:[],required:!1,uploaded:!1},{_id:"solo_parent_id",name:"Solo Parent ID",purpose:"",files:[],required:!1,uploaded:!1},{_id:"proof_of_parentage",name:"Other proof of Parentage",purpose:"",files:[],required:!1,uploaded:!1},{_id:"certificate_no_marriage",name:"Certificate of No Marriage",purpose:"",files:[],required:!1,uploaded:!1},{_id:"annulment_papers",name:"Annulment Papers",purpose:"",files:[],required:!1,uploaded:!1},{_id:"passport",name:"Passport",purpose:"",files:[],required:!1,uploaded:!1},{_id:"scanned_hmo_card",name:"Scanned HMO Card",purpose:"",files:[],required:!1,uploaded:!1},{_id:"death_certificate",name:"Death Certificate",purpose:"",files:[],required:!1,uploaded:!1},{_id:"employee_id",name:"Employee ID",purpose:"",files:[],required:!1,uploaded:!1},{_id:"proof_overseas_employment",name:"Proof of Overseas Employment",purpose:"",files:[],required:!1,uploaded:!1},{_id:"others",name:"Others",purpose:"",files:[],required:!1,uploaded:!1}];void 0!==e&&e.length>0&&e.forEach(function(e){var a=e.type.replace("_"," ");t.find(function(t){t.name.toLowerCase()===a&&t.files.push(e)})}),a.generateDocumentData(t)},a.generateDocumentData=function(e){var t={formattedColumns:{readonly_checkbox:["required"],upload_file:["action"],required_cell:["files"]},columnExtensions:[{columnName:"required",width:100},{columnName:"name",width:200},{columnName:"purpose",width:200},{columnName:"files",width:250}],filterExtensions:[{columnName:"required",filteringEnabled:!1},{columnName:"name",filteringEnabled:!0},{columnName:"purpose",filteringEnabled:!0},{columnName:"files",filteringEnabled:!0}],columns:[{name:"required",title:"Required?",filteringEnabled:!1,sortingEnabled:!1},{name:"name",title:"Documents",filteringEnabled:!0,sortingEnabled:!0},{name:"purpose",title:"Purpose of Document",filteringEnabled:!0,sortingEnabled:!0},{name:"files",title:"File/s",filteringEnabled:!0,sortingEnabled:!0}],rows:[]},n={formattedColumns:{readonly_checkbox:["required"],required_cell:["files"]},columnExtensions:[{columnName:"required",width:100},{columnName:"name",width:200},{columnName:"purpose",width:200},{columnName:"files",width:250}],filterExtensions:[{columnName:"required",filteringEnabled:!1},{columnName:"name",filteringEnabled:!0},{columnName:"purpose",filteringEnabled:!0},{columnName:"files",filteringEnabled:!0}],columns:[{name:"required",title:"Required?",filteringEnabled:!1,sortingEnabled:!1},{name:"name",title:"Documents",filteringEnabled:!0,sortingEnabled:!0},{name:"purpose",title:"Purpose of Document",filteringEnabled:!0,sortingEnabled:!0},{name:"files",title:"File/s",filteringEnabled:!0,sortingEnabled:!0}],rows:[]},r={formattedColumns:{readonly_checkbox:["required"],upload_file:["action"],required_cell:["files"]},columnExtensions:[{columnName:"required",width:100},{columnName:"name",width:200},{columnName:"purpose",width:200},{columnName:"files",width:250}],filterExtensions:[{columnName:"required",filteringEnabled:!1},{columnName:"name",filteringEnabled:!0},{columnName:"purpose",filteringEnabled:!0},{columnName:"files",filteringEnabled:!0}],columns:[{name:"required",title:"Required?",filteringEnabled:!1,sortingEnabled:!1},{name:"name",title:"Documents",filteringEnabled:!0,sortingEnabled:!0},{name:"purpose",title:"Purpose of Document",filteringEnabled:!0,sortingEnabled:!0},{name:"files",title:"File/s",filteringEnabled:!0,sortingEnabled:!0}],rows:[]};for(var i in e){var l=e[i],s={id:l._id,required:l.required,name:l.name,purpose:l.purpose,files:""};l.files&&void 0!==l.files&&null!==l.files&&l.files.length>0?function(){var e=[],t=[];l.files.forEach(function(a){a.filename&&void 0!==a.filename&&null!==a.filename&&(e.push(a.filename),a.uploaded&&!0===a.uploaded&&t.push(a.filename))}),s.files=e.join(", "),t.length>0&&n.rows.push(s)}():l.required&&void 0!==l.required&&null!==l.required&&!0===l.required&&r.rows.push(s),t.rows.push(s)}var o=[{label:"All",count:t.rows.length},{label:"Uploaded Documents",count:n.rows.length},{label:"Missing Documents",count:r.rows.length}];a.setState({documents_all_data:e,documents_all_table:t,documents_uploaded_table:n,documents_missing_table:r,documents_tab:o})},a.handleClickCell=function(e){if(Object.keys(e).length>0){a.setLoading(!0);var t=a.state.documents_all_data;for(var n in t){if(t[n]._id===e.id){"required"===e.name?t[n].required="true"===e.value||!0===e.value:"action"===e.name&&(t[n].files&&void 0!==t[n].files&&null!==t[n].files?t[n].files.push(e.value):(t[n].files=[],t[n].files.push(e.value)));break}}a.generateDocumentData(t),a.setLoading(!1)}},a.handleSaveDocument=function(){},a.setFieldValue=function(e,t){a.setState(function(a){return Ga({},a,Object(v.a)({},e,t))})},a.handleDocumentFilter=function(e,t,n){var r=a.state.documents_all_data,i={formattedColumns:{readonly_checkbox:["required"],required_cell:["files"]},columnExtensions:[{columnName:"required",width:100},{columnName:"name",width:200},{columnName:"purpose",width:200},{columnName:"files",width:250}],filterExtensions:[{columnName:"required",filteringEnabled:!1},{columnName:"name",filteringEnabled:!0},{columnName:"purpose",filteringEnabled:!0},{columnName:"files",filteringEnabled:!0},{columnName:"action",filteringEnabled:!1}],columns:[{name:"required",title:"Required?",filteringEnabled:!1,sortingEnabled:!1},{name:"name",title:"Documents",filteringEnabled:!0,sortingEnabled:!0},{name:"purpose",title:"Purpose of Document",filteringEnabled:!0,sortingEnabled:!0},{name:"files",title:"File/s",filteringEnabled:!0,sortingEnabled:!0}],rows:[]};for(var l in r){var s=r[l],o={id:s._id,required:s.required,name:s.name,purpose:s.purpose,files:""};s.files&&void 0!==s.files&&null!==s.files&&s.files.length>0?function(){var e=[],a=[];s.files.forEach(function(t){t.filename&&void 0!==t.filename&&null!==t.filename&&(e.push(t.filename),t.uploaded&&!0===t.uploaded&&a.push(t.filename))}),o.files=e.join(", "),a.length>0&&1===t&&i.rows.push(o)}():s.required&&void 0!==s.required&&null!==s.required&&!0===s.required&&2===t&&i.rows.push(o),0===t&&i.rows.push(o)}var c=a.state,m=c.documents_all_sort,u=c.documents_uploaded_sort,d=c.documents_missing_sort,p=c.documents_all_filter,f=c.documents_uploaded_filter,h=c.documents_missing_filter;switch(t){case 0:"filter"===n?(i=a.applySortFilter(i,m,e),a.setState({documents_all_filter:e,documents_all_table:i})):(i=a.applySortFilter(i,e,p),a.setState({documents_all_sort:e,documents_all_table:i}));break;case 1:"filter"===n?(i=a.applySortFilter(i,u,e),a.setState({documents_uploaded_filter:e,documents_uploaded_table:i})):(i=a.applySortFilter(i,e,f),a.setState({documents_uploaded_sort:e,documents_uploaded_table:i}));break;case 2:"filter"===n?(i=a.applySortFilter(i,d,e),a.setState({documents_missing_filter:e,documents_missing_table:i})):(i=a.applySortFilter(i,e,h),a.setState({documents_missing_sort:e,documents_missing_table:i}))}},a.applySortFilter=function(e,t,a){var n=[];if(t&&t[0]&&t[0].columnName)switch(t[0].columnName){case"name":"asc"===t[0].direction?e.rows.sort(function(e,t){return e.name>t.name?1:-1}):e.rows.sort(function(e,t){return e.name>t.name?-1:1});break;case"purpose":"asc"===t[0].direction?e.rows.sort(function(e,t){return e.purpose>t.purpose?1:-1}):e.rows.sort(function(e,t){return e.purpose>t.purpose?-1:1});break;case"files":"asc"===t[0].direction?e.rows.sort(function(e,t){return e.files>t.files?1:-1}):e.rows.sort(function(e,t){return e.files>t.files?-1:1})}var r="",i="",l="";return a.forEach(function(e){"name"===e.columnName&&(r=e.value.toLowerCase()),"purpose"===e.columnName&&(i=e.value.toLowerCase()),"files"===e.columnName&&(l=e.value.toLowerCase())}),a.length>0&&(e.rows.forEach(function(e){void 0!==e.name&&null!==e.name&&e.name.toLowerCase().includes(r)&&void 0!==e.purpose&&null!==e.purpose&&e.purpose.toLowerCase().includes(i)&&void 0!==e.files&&null!==e.files&&e.files.toLowerCase().includes(l)&&n.push(e)}),e.rows=n),e},a._generatePrincipalName=function(e){if(e){var t=e.first_name?e.first_name.trim():"",a=e.middle_name?e.middle_name.trim():"";return(e.last_name?e.last_name.trim():"")+", "+t+", "+a+", "+(e.suffix?e.suffix.trim():"")}return""};return a.state={loading:!1,selectedTab:0,clientData:null,contractId:"",contractName:"",memberData:null,memberDependents:[],documents_all_data:[],documents_tab:[{label:"All",count:127},{label:"Uploaded Documents",count:4},{label:"Missing Documents",count:4}],documents_all_table:{},documents_uploaded_table:{},documents_missing_table:{},documents_all_filter:[],documents_uploaded_filter:[],documents_missing_filter:[],documents_all_sort:[],documents_uploaded_sort:[],documents_missing_sort:[],MBL:"",ABL:"",PEC:"",al_global_filter:"",memberLogs:[],clientFields:[],benefit_plan_tree:[]},a.setLoading=a.setLoading.bind(Object(rt.a)(a)),a.generateDocumentData=a.generateDocumentData.bind(Object(rt.a)(a)),a.handleClickCell=a.handleClickCell.bind(Object(rt.a)(a)),a.handleSaveDocument=a.handleSaveDocument.bind(Object(rt.a)(a)),a.setFieldValue=a.setFieldValue.bind(Object(rt.a)(a)),a.handleDocumentFilter=a.handleDocumentFilter.bind(Object(rt.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.selectedTab,i=t.documents_tab,l=t.documents_all_data,s=t.documents_all_table,o=t.documents_all_filter,c=t.documents_all_sort,m=t.documents_uploaded_table,u=t.documents_uploaded_filter,d=t.documents_uploaded_sort,p=t.documents_missing_table,f=t.documents_missing_filter,h=t.documents_missing_sort,g=t.memberData,E=t.clientData,b=t.contractId,v=t.contractName,y=t.MBL,C=t.ABL,N=t.PEC,S=t.al_global_filter,O=t.memberLogs,A=t.clientFields,T=!(!g||!g.is_vip)&&g.is_vip;return n.createElement("div",{className:"section",style:{width:"100%"}},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement(_.a,{container:!0,className:"sub-section"},n.createElement(bt,{memberData:this.state.memberData})),n.createElement(_.a,{container:!0,className:"sub-section"},n.createElement(_.a,{item:!0,xs:12,md:2,style:{borderRight:"#3C394A22 solid 1px"},spacing:5},n.createElement(it.a,null,n.createElement(lt.a,{src:"temp_member_photo.png",alt:"avatar",className:Object(st.default)(T?"side-menu-member-photo-vip":"side-menu-member-photo")})),n.createElement("div",{className:"sub-section"},n.createElement(Be,{tabList:this.memberTabs,selectedTab:this.state.selectedTab,orientation:"vertical",tabLabel:function(t){return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"header-3",style:{margin:"6px 0"}},e.memberTabs[t].label))},setSelectedTab:function(t){e.setState({selectedTab:t})}}))),n.createElement(_.a,{item:!0,xs:10,className:"small-section"},a?n.createElement(I.a,{height:"10rem"}):0===r?n.createElement(At,{memberData:this.state.memberData,memberDependents:this.state.memberDependents,clientData:E,benefit_plan_tree:this.state.benefit_plan_tree,contractId:b,contractName:v,clientFields:A,ABL:C,MBL:y,PEC:N}):1===r?n.createElement(Da,{all_data:l,documents_tab:i,all_documents_table:s,all_filter:o,all_sort:c,uploaded_documents_table:m,uploaded_filter:u,uploaded_sort:d,missing_documents_table:p,missing_filter:f,missing_sort:h,applySortFilter:this.handleDocumentFilter}):2===r?n.createElement(Ha,{memberId:g.member_id,isSelected:2===r}):3===r?n.createElement(La,{al_global_filter:S,alHandleSearch:this.alHandleSearch,data:O}):n.createElement(function(){return n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:12}))},null))),n.createElement("div",{className:"section"}))}}]),t}(n.Component),Wa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).groupChoices=[{checked:!1,name:"Top 5 Hospitals",label:"top_5_hospitals"},{checked:!1,name:"Top 6 Hospitals",label:"top_6_hospitals"},{checked:!1,name:"Healthway Clinics",label:"healthway_clinics"},{checked:!1,name:"Medical City Network",label:"medical_city_network"}],a.tabList=[{value:1,label:"Excluded Hospitals"},{value:2,label:"Included Hospitals"}],a.selectedPType="BASE",a.renderTabs=function(e){return e.map(function(e){return n.createElement(ct.a,{style:{display:"inline-block",marginRight:"10px"}},n.createElement(C.a,{onClick:function(){a.selectedPType=e,a.constructPartnerNetworkData(a.state.benefits)}},n.createElement("span",null,e)))})},a.constructPartnerNetworkData=function(e){var t=e.find(function(e){return 4==e.level&&"NT"===(t=e.tree_path)[t.length-1]&&e.tree_path.includes(a.selectedPType);var t}),n=e.find(function(e){return 5===e.level&&e.tree_path[4]===t.custom_metadata.type&&e.tree_path.includes(a.selectedPType)}),r=t.custom_metadata.groups,i=void 0;n&&(i=n.custom_metadata.excluded_facilities?n.custom_metadata.excluded_facilities:n.custom_metadata.excluded_facilties),a.setState({type:n}),r&&(a.setState({groups:a.groupChoices.map(function(e){return e})}),a.state.groups.forEach(function(e){e.checked=r.find(function(t){return e.label===t})}),a.setState({groups:a.state.groups})),i?a.setState({excludedHospitals:i.map(function(e){return{code:e.facility_id,name:e.name,location:"---"}})}):a.setState({excludedHospitals:[]})},a.state={selectedTab:1,code:"",name:"",benefits:[],location:"",tabList:n.createElement("div",null),groups:[],isLoaded:!1,includedHospitals:[],excludedHospitals:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.a.get("clients/account/hmo-info/".concat(this.props.clientId),function(t){console.log("partner network",t);var a=t.benefit_plan_tree.filter(function(e){return"NT"===e.tree_path[3]});if(e.props.planType){var n=t.benefit_plan_tree.find(function(t){return t.name===e.props.planType});e.selectedPType=n.code}else{var r=t.benefit_plan_tree.filter(function(e){return 3===e.level}),i=[];r.map(function(e){i.push(e.code)}),e.setState({tabList:e.renderTabs(i)})}e.setState({benefits:t.benefit_plan_tree}),console.log("pnetwork",a),e.constructPartnerNetworkData(t.benefit_plan_tree),e.setState({isLoaded:!0})},function(e){console.log(e)}),T.a.pnGet("p/f/partners/bare-facilities",function(t){e.setState({includedHospitals:t.data.map(function(e){return{code:e.facility_id,name:e.facility_name,location:"---"}})})})}},{key:"render",value:function(){return n.createElement("div",{className:"section"},this.state.isLoaded?this.renderMainContent():n.createElement(I.a,{height:"10rem"}))}},{key:"renderMainContent",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Check Partner Network"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},this.props.planType?null:n.createElement(_.a,{item:!0,sm:12},n.createElement("div",{style:{borderBottom:"1px solid #C3C3C3",width:"100%"}},this.state.tabList)),n.createElement(_.a,{item:!0,sm:12},n.createElement("div",{className:"header-2"},"TYPE"),n.createElement("div",{className:"small-text"},this.state.type?this.state.type.name:"---")))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"GROUP"),n.createElement(_.a,{className:"sub-section",container:!0,spacing:2,style:{width:"50%"}},this.groupChoices.map(function(e){return n.createElement(_.a,{item:!0,xs:6},n.createElement("span",null,e.checked?n.createElement(pe.a,{icon:N.h,style:{color:"#3AB77D"}}):n.createElement(pe.a,{icon:N.N,style:{color:"#FD5451"}})),n.createElement("span",{style:{paddingLeft:"1rem"}},e.name))}))),n.createElement("div",{className:"sub-section"},n.createElement(Be,{tabList:this.tabList,selectedTab:this.state.selectedTab,tabStyle:function(){return{padding:"0 1rem"}},tabLabel:function(t){return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"header-3",style:{margin:"6px 0"}},e.tabList[t].label))},setSelectedTab:function(t){e.setState({selectedTab:t})}}),1===this.state.selectedTab?n.createElement(Ya,{facilities:this.state.excludedHospitals,onUpdateProps:function(){e.setState({excludedHospitals:e.state.excludedHospitals})}}):2===this.state.selectedTab?n.createElement(Ya,{facilities:this.state.includedHospitals,onUpdateProps:function(){e.setState({includedHospitals:e.state.includedHospitals})}}):null),n.createElement("div",{className:"section"}))}}]),t}(n.Component),Ya=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={code:"",name:"",location:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement(L.a,{rows:this.props.facilities,columns:[{name:"Facility Code",key:"code",filterType:"string",sortType:"string"},{name:"Name",key:"name",filterType:"string",sortType:"string"},{name:"Location",key:"location",filterType:"string",sortType:"string"}],rowsPerPageOptions:[10,25,50],renderRow:function(t,a){return e.renderTableRow(t,a)}})}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.code),n.createElement(j.a,null,e.name),n.createElement(j.a,null,e.location))}}]),t}(n.Component);function za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ka(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?za(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):za(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Xa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getFilteredMemberLOAs=function(e){return""!==a.state.searchText?e.filter(function(e){return e.approval_code.toLowerCase().includes(a.state.searchText.toLowerCase())||e.loa_no.toLowerCase().includes(a.state.searchText.toLowerCase())}):e},a.state={searchText:"",isLoaded:!1,ibnrAmount:0,utilAmount:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.member){var t=this.props.member.memberId,a=this.props.member.id,n=this.props.member.contract?this.props.member.contract.id:"";T.a.get("members/".concat(a,"/contracts/").concat(n,"/benefits"),function(r){var i=r.find(function(e){return 4===e.level&&"room and board"===e.name.toLowerCase()});if(i){var l=i.limits.find(function(e){return"ABL"===e.type}),s=i.limits.find(function(e){return"MBL"===e.type});l&&e.setState({limit:{type:"ANNUAL BENEFIT LIMIT",limit:"number"===typeof l.limit?l.limit:0,limitUnit:l.limit_unit}}),s&&e.setState({limit:{type:"MAXIMUM BENEFIT LIMIT",limit:"number"===typeof s.limit?s.limit:0,limitUnit:s.limit_unit}}),T.a.get("customer-care/member-utilization-loa/member/".concat(t,"/contract/").concat(n),function(t){e.setState({ibnrAmount:t.total_amount?t.total_amount:0,utilAmount:0}),T.a.get("customer-care/member-utilization-loa/contract/".concat(n,"?type=member&id=").concat(a),function(t){e.setState({memberUtils:t.loas.map(function(e){return Ka({},e,{type:"IBNR",session:1,date_issued_date:new Date(e.date_issued_date)})})})})}),e.setState({isLoaded:!0})}})}else if(this.props.client){var r=this.props.client.corporateAccountNo,i=this.props.client.contract?this.props.client.contract.id:"";T.a.get("customer-care/member-utilization-loa/contract/".concat(i,"?type=client&id=").concat(r),function(t){var a=t.loas.map(function(e){return{ticketType:e._id.ticket_type,totalAmount:e.total_amount,totalCount:0,principalsCount:"Principal"===e._id.member_type?e.count:0,dependentsCount:"Dependent"===e._id.member_type?e.count:0,unspecifiedCount:"Not Specified"===e._id.member_type?e.count:0}}),n=[];if(a.forEach(function(e){var t=n.findIndex(function(t){return t.ticketType===e.ticketType});-1!=t?n[t]=Ka({},n[t],{totalAmount:n[t].totalAmount+e.totalAmount,principalsCount:n[t].principalsCount+e.principalsCount,dependentsCount:n[t].dependentsCount+e.dependentsCount,unspecifiedCount:n[t].unspecifiedCount+e.unspecifiedCount}):n.push(e)}),e.setState({clientUtils:n.map(function(e){return Ka({},e,{totalCount:e.principalsCount+e.dependentsCount+e.unspecifiedCount})})}),e.state.clientUtils){var r=0;e.state.clientUtils.forEach(function(e){r+=e.totalAmount}),e.setState({ibnrAmount:r})}e.setState({limit:{type:"ANNUAL BENEIT LIMIT",limit:0,limitUnit:"PHP"},utilAmount:0}),e.setState({isLoaded:!0})})}}},{key:"render",value:function(){return n.createElement("div",{className:"section"},this.state.isLoaded?this.renderMainContent():n.createElement(I.a,{height:"10rem"}))}},{key:"renderMainContent",value:function(){var e=this.state.limit,t=this.state.limit?this.state.limit.limit:0,a=this.state.utilAmount,r=this.state.ibnrAmount,i=t-a-r,l=a/t*100,s=r/t*100,o=i/t*100,c=this.state.paidPremium?S.a.formatNumber(this.state.paidPremium,!0):"---",m=this.state.issuedRefund?S.a.formatNumber(this.state.issuedRefund,!0):"---",u=this.state.recommendedRenewalRate?S.a.formatNumber(this.state.recommendedRenewalRate,!0):"---",d=function(e,t,a){return n.createElement(_.a,{item:!0,xs:a||3},n.createElement("div",{className:"light-text"},e),n.createElement("div",{className:"header-2"},t))};return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Check Utilization"),n.createElement(_.a,{container:!0,className:"sub-section",spacing:5},e?n.createElement(n.Fragment,null,this.state.memberUtils?d(e.type,"".concat(e.limitUnit," ").concat(S.a.formatNumber(t,!0))):this.state.clientUtils?d("RECOMMENDED RENEWAL RATE","".concat(e.limitUnit," ").concat(u)):null,n.createElement(_.a,{item:!0,xs:6},n.createElement(Ja,{items:[{value:Math.min(100,Math.max(l,0)),color:"#3FBB7F",label1:"UTILIZED",label2:"".concat(e.limitUnit," ").concat(S.a.formatNumber(a,!0))},{value:Math.min(100,Math.max(s,0)),color:"#1D236F",label1:"IBNR",label2:"".concat(e.limitUnit," ").concat(S.a.formatNumber(r,!0))},this.state.memberUtils?{value:Math.min(100,Math.max(isNaN(o)?100:o,0)),color:"#FCB53F",label1:"AVAILABLE",label2:"".concat(e.limitUnit," ").concat(S.a.formatNumber(i,!0))}:void 0].filter(function(e){return e}),maxValue:100})),n.createElement(_.a,{item:!0,xs:3}),this.props.client?n.createElement(n.Fragment,null,d("PAID PREMIUM","".concat(e.limitUnit," ").concat(c)),d("ISSUED REFUND","".concat(e.limitUnit," ").concat(m))):null):null),this.state.memberUtils?this.renderMemberUtilTable(this.state.memberUtils):this.state.clientUtils?this.renderClientUtilTable(this.state.clientUtils):null,n.createElement("div",{className:"section"}))}},{key:"renderMemberUtilTable",value:function(e){var t,a=this,r=function(e){return{minWidth:e,maxWidth:e}},i=[{name:"LOA ID",key:"loa_no",style:(t="100px",{left:0,zIndex:2,borderRight:"#9EA3AC 1px solid",position:"sticky",minWidth:t,maxWidth:t}),filterType:"string",sortType:"string"},{name:"Approval Code",key:"approval_code",style:r("120px"),filterType:"string",sortType:"string"},{name:"Diagnosis",key:"diagnoses",style:r("200px"),filterType:"string",filterFunc:function(e,t){return!!(t?t.find(function(t){return e&&"".concat(t.icd10_code," - ").concat(t.diagnosis).toLowerCase().includes(e.toLowerCase())}):void 0)}},{name:"Procedure",key:"procedures",style:r("200px"),filterType:"string",filterFunc:function(e,t){return!!(t?t.find(function(t){return e&&"".concat(t.cpt_code," - ").concat(t.procedure_name).toLowerCase().includes(e.toLowerCase())}):void 0)}},{name:"Provider",key:"partner_name",style:r("175px"),filterType:"string",sortType:"string"},{name:"Amount",key:"total_amount",style:r("125px"),filterType:"number",sortType:"number"},{name:"Sessions",key:"session",style:r("80px"),filterType:"number",sortType:"number"},{name:"Date Availed",key:"date_issued_date",style:r("150px"),filterType:"date",sortType:"date"},{name:"Type",key:"type",style:r("75px"),filterType:"string",sortType:"string"},{name:"Status",key:"status",style:r("75px"),filterType:"string",sortType:"string"}];return n.createElement(n.Fragment,null,n.createElement(_.a,{className:"sub-section",container:!0,spacing:3},n.createElement(_.a,{item:!0,xs:9},n.createElement(z.a,{innerPlaceholder:"Search an availment",value:this.state.searchText,onChange:function(e){a.setState({searchText:e})}})),n.createElement(_.a,{item:!0,xs:3,style:{lineHeight:"32px",color:"#AAAAAA"}},n.createElement(O.a,{icon:N.m,color:"inherit",label:"Generate Report",onClick:function(){}}))),n.createElement(L.a,{className:"custom-table-scrollable-small",canOverflow:!0,stickyHeader:!0,columns:i,rows:this.getFilteredMemberLOAs(e),rowsPerPageOptions:[5,25,50],renderRow:function(e,t,a){return function(e,t,a){var r={backgroundColor:t%2===0?"#FFFFFF":"#F6F7FA"},i={textAlign:"center"},l={backgroundColor:t%2===0?"#FFFFFF":"#F6F7FA",left:0,zIndex:2,borderRight:"#9EA3AC 1px solid",position:"sticky"};return n.createElement(F.a,{style:r},n.createElement(j.a,{style:l},e.loa_no,n.createElement("div",{className:"sub-section-2"}),n.createElement("div",{className:"light-text"},"SWIPE"),n.createElement("div",{className:"small-text"},e.swipe?"Yes":"No")),n.createElement(j.a,null,e.approval_code),n.createElement(j.a,null,e.primary_diagnosis&&!e.diagnoses?n.createElement(n.Fragment,null,e.primary_icd10_code?e.primary_icd10_code+" - ":"",e.primary_diagnosis):null,e.diagnoses?e.diagnoses.filter(function(e){return!(a&&a.diagnoses&&!e.icd10_code.toLowerCase().includes(a.diagnoses.toLowerCase())&&!e.diagnosis.toLowerCase().includes(a.diagnoses.toLowerCase()))}).map(function(e){return n.createElement("div",{className:"sub-section-2"},"".concat(e.icd10_code," - ").concat(e.diagnosis))}):null),n.createElement(j.a,null,e.procedures&&e.procedures.length>0?e.procedures.filter(function(e){return!(a&&a.procedures&&!e.cpt_code.toLowerCase().includes(a.procedures.toLowerCase())&&!e.procedure_name.toLowerCase().includes(a.procedures.toLowerCase()))}).map(function(e,t){return n.createElement(n.Fragment,null,t>0?n.createElement("div",{className:"sub-section-2"}):null,"".concat(e.cpt_code," - ").concat(e.procedure_name))}):"---"),n.createElement(j.a,null,e.partner_name?e.partner_name:"---",e.partner_doctor_name?n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section-2"}),n.createElement("div",{className:"light-text"},"MEDICAL DOCTOR"),e.partner_doctor_name):null),n.createElement(j.a,{style:{textAlign:"right"}},"PHP ".concat(S.a.formatNumber(e.total_amount,!0))),n.createElement(j.a,{style:i},e.session),n.createElement(j.a,{style:i},S.a.toShortDateString(e.date_issued_date)),n.createElement(j.a,{style:i},e.type),n.createElement(j.a,{style:i},e.status))}(e,t,a)}}))}},{key:"renderClientUtilTable",value:function(e){return n.createElement(Fe.a,null,n.createElement(L.a,{className:"custom-table-scrollable-small",columns:[{name:"Type",key:"ticketType",filterType:"string",sortType:"string",style:{minWidth:"150px"}},{name:"Total Amount",key:"totalAmount",filterType:"number",sortType:"number",style:{width:"150px"}},{name:"Number of Cases",key:"totalCount",filterType:"number",sortType:"number",style:{width:"130px"}},{name:"Availed by Principals",key:"principalsCount",filterType:"number",sortType:"number",style:{width:"150px"}},{name:"Availed by Dependents",key:"dependentsCount",filterType:"number",sortType:"number",style:{width:"175px"}}],rows:e,renderRow:function(e,t){var a={backgroundColor:t%2===0?"#FFFFFF":"#F6F7FA"},r={textAlign:"right"};return n.createElement(F.a,{style:a},n.createElement(j.a,null,e.ticketType),n.createElement(j.a,{style:r},"PHP ".concat(S.a.formatNumber(e.totalAmount,!0))),n.createElement(j.a,{style:r},e.totalCount),n.createElement(j.a,{style:r},e.principalsCount),n.createElement(j.a,{style:r},e.dependentsCount))}}),n.createElement(_.a,{className:"small-section",container:!0,spacing:1},n.createElement(_.a,{className:"light-text",item:!0,xs:3},"TOTAL"),n.createElement(_.a,{className:"header-2",item:!0,xs:3},"PHP ".concat(S.a.formatNumber(this.state.ibnrAmount,!0)))))}}]),t}(n.Component),Ja=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{style:{width:"100%",height:0}},this.props.items.map(function(t){return n.createElement("div",{style:{width:t.value/e.props.maxValue*100+"%",height:"6px",display:"inline-block",backgroundColor:t.color}})}),n.createElement("div",{style:{padding:"0.5rem 0"}},this.props.items.map(function(t){return n.createElement("div",{style:{width:1/e.props.items.length*100+"%",height:"6px",display:"inline-block"}},n.createElement("div",null,n.createElement("div",{style:{width:"10px",height:"10px",backgroundColor:t.color,display:"inline-block",marginRight:"1rem"}}),n.createElement("div",{className:"light-text",style:{display:"inline-block"}},t.label1),n.createElement("div",{className:"header-2",style:{color:t.color}},t.label2)))})))}}]),t}(n.Component),Za=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={totalAmount:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.a.get("customer-care/tickets/"+this.props.ticketId,function(t){e.setState({ticket:V.a.getTicketData(t)},function(){var a=t.ticket_category,n=a.ticket_type,r=a.specific_type;if("Availment"===n){var i=[];switch(r){case"Outpatient Procedure":var l=a.availment_details;i=l.provider.split(" - "),e.setState({availment:{provider:{value:i[0],label:i[1]},diagnoses:e.getAvailmentsDiagnoses(l)}});break;case"Inpatient":var s=a.confinement_details;i=s.provider.split(" - "),e.setState({availment:{provider:{value:i[0],label:i[1]},diagnoses:e.getConfinementDiagnoses(s)}});break;case"Emergency Room":var o=a.er_details;i=o.provider.split(" - "),e.setState({availment:{provider:{value:i[0],label:i[1]},diagnoses:e.getErDiagnoses(o)}});break;case"Consultation":var c=a.consultation_details;i=c.provider.split(" - "),e.setState({availment:{provider:{value:i[0],label:i[1]},diagnoses:e.getConsultationDiagnoses(c)}})}}else{var m=a.inquiry_details;e.setState({inquiries:e.getInquiries(m)})}})},function(e){console.log(e)})}},{key:"getAvailmentsDiagnoses",value:function(e){var t=0,a=[];return Object(Ma.forEach)(e.availments_list,function(e){Object(Ma.forEach)(e.diagnosis,function(e){a.push({icd10Code:{value:e.icd10_code,label:e.diagnosis},remarks:e.remarks,isPrimary:e.is_primary,isFinal:e.is_final,doctors:e.doctors.map(function(e){return{id:e.id,name:e.name,specialization:e.specialization,fee:e.fee,noOfVisits:e.no_of_visits,remarks:e.remarks}}),procedures:e.procedures.map(function(e){var a=Object(Ma.get)(e,"amount",Object(Ma.get)(e,"approved_amount",Object(Ma.get)(e,"ruv_amount",0)));return t+=parseFloat(a),{cptCode:{value:e.cpt_code,label:e.procedure_name},isPHIC:e.phic,amount:a,notes:e.notes,assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks}})})})}),this.setState({totalAmount:t}),a}},{key:"getConfinementDiagnoses",value:function(e){var t=0,a=[];return Object(Ma.forEach)(e.diagnoses,function(e){a.push({icd10Code:{value:e.icd10_code,label:e.diagnosis},remarks:e.remarks,isPrimary:e.is_primary,isFinal:e.is_final,doctors:e.doctors.map(function(e){return{id:e.id,name:e.name,specialization:e.specialization,fee:e.fee,noOfVisits:e.no_of_visits,remarks:e.remarks}}),procedures:e.procedures.map(function(e){var a=Object(Ma.get)(e,"amount",Object(Ma.get)(e,"approved_amount",Object(Ma.get)(e,"ruv_amount",0)));return t+=parseFloat(a),{cptCode:{value:e.cpt_code,label:e.procedure_name},isPHIC:e.phic,amount:parseInt(e.amount),notes:e.notes,assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks}})})}),this.setState({totalAmount:t}),a}},{key:"getErDiagnoses",value:function(e){var t=0,a=[];return Object(Ma.forEach)(e.availments_list,function(e){Object(Ma.forEach)(e.diagnosis,function(e){a.push({icd10Code:{value:e.icd10_code,label:e.diagnosis},remarks:e.remarks,isPrimary:e.is_primary,isFinal:e.is_final,doctors:e.doctors.map(function(e){return{id:e.id,name:e.name,specialization:e.specialization,fee:e.fee,noOfVisits:e.no_of_visits,remarks:e.remarks}}),procedures:e.procedures.map(function(e){var a=Object(Ma.get)(e,"amount",Object(Ma.get)(e,"approved_amount",Object(Ma.get)(e,"ruv_amount",0)));return t+=parseFloat(a),{cptCode:{value:e.cpt_code,label:e.procedure_name},isPHIC:e.phic,amount:parseInt(e.amount),notes:e.notes,assessmentType:e.assessment_type,assessmentRemarks:e.assessment_remarks}})})})}),this.setState({totalAmount:t}),a}},{key:"getConsultationDiagnoses",value:function(e){var t=[],a=Object(Ma.get)(e,"diagnosis"," - ").split(" - "),n=Object(Ma.get)(e,"doctor"," - ").split(" - "),r=parseFloat(Object(Ma.get)(e,"amount",Object(Ma.get)(e,"approved_amount",Object(Ma.get)(e,"ruv_amount",0))));return t.push({icd10Code:{value:a[0],label:a[1]},remarks:e.remarks,isPrimary:e.is_primary,isFinal:e.is_final,doctors:[{id:n[0],name:n[1],specialization:null,fee:0,noOfVisits:0,remarks:e.assessment_remarks}],procedures:[]}),this.setState({totalAmount:r}),t}},{key:"getInquiries",value:function(e){var t=[];return Object(Ma.forEach)(Object(Ma.get)(e,"inquiry_list",[]),function(e){t.push({inquiry:e.inquiry,value:e.value})}),t}},{key:"getTotalAailmentProcedureCost",value:function(){var e=0;return this.state.availment&&Object(Ma.forEach)(this.state.availment.diagnoses,function(t){Object(Ma.forEach)(t.procedures,function(t){e+=t.amount})}),e}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"ticket-modal section"},n.createElement("div",{style:{float:"right",marginTop:"-1rem",fontSize:"1rem"}},n.createElement(W.a,{icon:N.N,onClick:function(){e.props.onCloseButtonClicked()}})),this.state.ticket?this.renderTicketInfo(this.state.ticket):null)}},{key:"renderTicketInfo",value:function(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-sections"},n.createElement("div",{className:"header-1"},"Ticket ".concat(e.ticketNo)),n.createElement("div",{className:"text"},e.status+" - "+e.urgency+", Due on May 23, 2019*")),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,className:"sub-section",xs:6},n.createElement("div",{className:"light-text"},"TICKET TYPE"),n.createElement("div",{className:"small-text"},e.ticketType)),n.createElement(_.a,{item:!0,className:"sub-section",xs:6},n.createElement("div",{className:"light-text"},"SPECIFIC TYPE"),n.createElement("div",{className:"small-text"},e.specificType)),n.createElement(_.a,{item:!0,className:"sub-section",xs:6},n.createElement("div",{className:"light-text"},"RECEIVED VIA"),n.createElement("div",{className:"small-text"},e.ticketChannel)),n.createElement(_.a,{item:!0,className:"sub-section",xs:6},n.createElement("div",{className:"light-text"},"CALL TRANSACTION NO."),n.createElement("div",{className:"small-text"},e.transactionNo)),n.createElement(_.a,{item:!0,className:"sub-section",xs:6},n.createElement("div",{className:"light-text"},"RECEIVED FROM"),n.createElement("div",{className:"small-text"},Object(Ma.get)(e,"ticketSource","-"))),n.createElement(_.a,{item:!0,className:"sub-section",xs:6},n.createElement("div",{className:"light-text"},"NUMBER / EMAIL"),n.createElement("div",{className:"small-text"},e.contactNo))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"ASSIGNED TO"),n.createElement("div",{className:"small-text"},e.assignee.name)),n.createElement("div",{className:"sub-section"},"Availment"===Object(Ma.get)(this.state,"ticket.ticketType","")?n.createElement(n.Fragment,null,n.createElement("div",{className:"light-text"},"DIAGNOSIS \u2014 PROCEDURES"),this.state.availment?n.createElement(_.a,{container:!0,spacing:2,className:"sub-section"},this.state.availment.diagnoses.map(function(e,t){return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:12,className:"header-2"},"".concat(t+1,". ").concat(e.icd10Code.value," - ").concat(e.icd10Code.label)),e.procedures.map(function(e,t){return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:1}),n.createElement(_.a,{item:!0,xs:11,className:"small-text"},"".concat((t+10).toString(36),". ").concat(e.cptCode.label," (Php ").concat(S.a.formatNumber(e.amount,!0),")")))}))})):null,n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement("div",{className:"header-2"},"TOTAL: PHP "+S.a.formatNumber(this.state.totalAmount,!0))):"Inquiry"===Object(Ma.get)(this.state,"ticket.ticketType","")?n.createElement(n.Fragment,null,n.createElement("div",{className:"light-text"},"Inquiries"),this.state.inquiries?n.createElement(_.a,{container:!0,spacing:2,className:"sub-section"},Object(Ma.map)(Object(Ma.get)(this.state,"inquiries",[]),function(e,t){return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:12,className:"header-2"},"".concat(t+1,". ").concat(e.inquiry)),n.createElement(_.a,{item:!0,xs:1}),n.createElement(_.a,{item:!0,xs:11,className:"small-text"},"".concat((t+10).toString(36),". ").concat(e.value,")")))})):"No inquiries."):null),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"CREATED BY"),n.createElement("div",{className:"small-text"},e.createdBy.name)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DATE AND TIME CREATED"),n.createElement("div",{className:"small-text"},S.a.toDateAndTime(e.dateCreated))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DATE AND TIME LAST UPDATED"),n.createElement("div",{className:"small-text"},S.a.toDateAndTime(e.dateUpdated))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DATE AND TIME LAST ESCALATED"),n.createElement("div",{className:"small-text"},"May 14, 2019 \u2014 09:33:00 AM*"))))}}]),t}(n.Component),Qa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).ticketChannels=void 0,a.ticketTypes=void 0,a.specificTypes=void 0,a.tickets=void 0,a.ticketChannels=[{value:"0",label:""},{value:"1",label:"Call"},{value:"2",label:"SMS"},{value:"3",label:"Text"},{value:"4",label:"Email"}],a.ticketTypes=[{value:"0",label:""},{value:"1",label:"Availment"},{value:"2",label:"Inquiry"}],a.specificTypes=[{value:"0",label:""},{value:"1",label:"Outpatient Procedure"},{value:"2",label:"Inpatient"},{value:"3",label:"Emergency Room"},{value:"4",label:"Consultation"}],a.state={ticketListUpdated:!1,selectedTicketId:void 0},a.tickets=[],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.clientId||this.props.memberId,a={where:{$and:[{$or:[{member_id:t},{client_id:t}]},{ticket_id:{$ne:null}}]}},n="?filter=".concat(JSON.stringify(a));this.props.clientId&&!this.props.memberId?n="?filter[where][client_id]=".concat(this.props.clientId):this.props.memberId&&(n="?filter[where][member_id]=".concat(this.props.memberId)),T.a.get("customer-care/tickets"+n,function(t){t&&(t.map(function(t){e.tickets.unshift({id:t._id,ticketNo:t.ticket_id,urgency:"Low"===t.ticket_category.urgency?3:"Medium"===t.ticket_category.urgency?2:"High"===t.ticket_category.urgency?1:0,status:t.status,channel:t.received_via,type:t.ticket_category.ticket_type,specificType:t.ticket_category.specific_type,source:{value:t.received_from.toUpperCase(),label:t.member_name?t.member_name:t.corporate_client?t.corporate_client:t.broker?t.broker:t.hospital_name?t.hospital_name:""},assignee:t.assign_to,lastUpdate:new Date(t.date_updated)})}),e.tickets=e.tickets.filter(function(e){return"string"===typeof e.source.label}),e.setState({ticketListUpdated:!0}))},function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Review Tickets"),n.createElement("div",{className:"sub-section",style:{overflowX:"auto"}},this.state.ticketListUpdated?n.createElement(L.a,{className:"custom-table-selectable",rows:this.tickets,columns:[{name:"Urgency",key:"urgency",style:{minWidth:"75px"},filterType:"string",sortType:"string"},{name:"Status",key:"status",style:{minWidth:"125px"},filterType:"string",sortType:"string"},{name:"Ticket ID",key:"ticketNo",style:{minWidth:"150px"},filterType:"string",sortType:"string"},{name:"Channel",key:"channel",style:{minWidth:"100px"},filterType:"string",sortType:"string"},{name:"Type",key:"type",style:{minWidth:"100px"},filterType:"string",sortType:"string"},{name:"Specific Type",key:"specificType",style:{minWidth:"200px"},filterType:"string",sortType:"string"},{name:"Source",key:"source",style:{minWidth:"150px"},filterType:"string",sortType:"string"},{name:"Assigned",key:"assignee",style:{minWidth:"150px"},filterType:"string",sortType:"string"},{name:"Last Update",key:"lastUpdate",style:{minWidth:"150px"},filterType:"date",sortType:"date"}],renderRow:function(t,a){return function(t,a){var r=a%2===0?1===t.urgency?"#FFF2F2":"#FFFFFF":1===t.urgency?"#F7ECEC":"#F6F7FA",i=3===t.urgency?"#3AB77D":2===t.urgency?"#FAB435":1===t.urgency?"#FD5451":"";return n.createElement(F.a,{style:{backgroundColor:r},onClick:function(){e.setState({selectedTicketId:t.id})}},n.createElement(j.a,{style:{textAlign:"center",paddingLeft:0}},n.createElement("div",{className:"number-item",style:{display:"inline-block",backgroundColor:i}},t.urgency)),n.createElement(j.a,null,t.status),n.createElement(j.a,null,t.ticketNo),n.createElement(j.a,null,t.channel),n.createElement(j.a,null,t.type),n.createElement(j.a,null,t.specificType),n.createElement(j.a,null,n.createElement("div",{className:"text"},t.source.label),n.createElement("div",{className:"light-text",style:{fontSize:"9px"}},t.source.value)),n.createElement(j.a,null,t.assignee),n.createElement(j.a,null,S.a.toDateAndTime(t.lastUpdate)))}(t,a)},onChangeInfo:function(e){return"".concat(e.from,"-").concat(e.to," out of ").concat(e.count," tickets")},labelRowsPerPage:"Show",rowsPerPageOptions:[5,10,15]}):n.createElement(I.a,{height:"10rem"})),this.state.selectedTicketId?n.createElement(Za,{ticketId:this.state.selectedTicketId,onCloseButtonClicked:function(){e.setState({selectedTicketId:void 0})}}):null,n.createElement("div",{className:"section"}))}}]),t}(n.Component),$a=a(184),en=a(761),tn=a(172),an=a(95),nn=(a(744),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={value:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.choices.length!=e.choices.length||this.props.value.value!==e.value.value}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"detailed-dropdown"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("div",{className:"autocomplete"},n.createElement("div",{className:this.props.error?"detail-error":"detail"},this.props.value.value?this.props.value.value:null),n.createElement(w.a,{className:"actual-dropdown",classNamePrefix:this.props.error?"actual-dropdown-error":"actual-dropdown",isDisabled:!!this.props.disabled&&this.props.disabled,value:this.props.value,options:this.props.choices,onInputChange:function(t,a){e.setState({value:t})},noOptionsMessage:function(){return 0==e.props.choices.length?"Loading...":e.state.value.length<3?"Enter at least 3 characters to search":"No options"},filterOption:function(t,a){var n=0==a.length,r=e.props.choices.length<=20,i=a.length<3,l=t.label.toLowerCase().includes(a.toLowerCase());return r?!!n||l:!i&&l},onChange:function(t){e.props.onChange(t)}})))}}]),t}(n.Component)),rn=a(147),ln=a(188),sn=[{label:"PEC",value:"PEC",type:"PEC"},{label:"Amount",value:"Amount",type:"Amount",limit_unit:"PHP"},{label:"Dreaded Disease",value:"Dreaded Disease",type:"Disease",limit_unit:"PHP"},{label:"Max Amount",value:"Max Amount",type:"Maximum",limit_unit:"PHP"},{label:"% of MBL",value:"% of MBL",type:"% MBL",limit_unit:"Percentage"},{label:"MBL",value:"MBL",type:"MBL"},{label:"% of ABL",value:"% of ABL",type:"% ABL",limit_unit:"Percentage"},{label:"ABL",value:"ABL",type:"ABL"},{label:"Max Session",value:"Max Session",type:"Sessions",limit_unit:"Sessions"},{label:"No. of Visits",value:"No. of Visits",type:"Visits",limit_unit:"Visits"},{label:"% Actual",value:"% Actual",type:"% Actual",limit_unit:"Percentage"},{label:"% of RVS",value:"% of RVS",type:"RVS",limit_unit:"Percentage"}],on=[{label:"HMO",value:"HMO"},{label:"TPA",value:"TPA"},{label:"Hybrid",value:"Hybrid"}],cn=[{label:"Amount",value:"amt_limit"},{label:"Benefit",value:"benefit_limit"},{label:"Max Amount",value:"max_amount"},{label:"Percent of MBL",value:"percent_mbl"},{label:"Percent of ABL",value:"percent_abl"},{label:"MBL",value:"mbl_limit"},{label:"ABL",value:"abl_limit"},{label:"PEC",value:"pec_limit"},{label:"Dreaded Disease",value:"disease_limit"}],mn=[{label:"ABL",value:"abl"},{label:"MBL",value:"mbl"}],un=[{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}],dn=[{label:"Reimbursement",value:"reimbursement"},{label:"Outright",value:"outright"},{label:"Both",value:"both"}],pn=[{label:"Principals",value:"principals"},{label:"Dependents",value:"dependents"},{label:"Male",value:"male"},{label:"Female",value:"female"}],fn=[{label:"All female employees",value:"all_female_employees"},{label:"All married female employees",value:"all_married_female_employees"},{label:"All female dependents",value:"all_female_dependents"},{label:"All female dependents aged 18 and above",value:"all_female_dependents_aged_18_above"},{label:"Spouses of male employees (Dependent Wife)",value:"spouses_male_employees"},{label:"All female members (Principals and Dependents) aged 18 and above",value:"all_female_members_aged_18_above"},{label:"All female members (Principals and Dependents)",value:"all_female_members"}],hn=[{id:0,label:"years",value:"years"},{id:1,label:"days",value:"days"}],gn=[{label:"Required",value:!0},{label:"Optional",value:!1}],En=[{label:"Employees",value:"employees"},{label:"Company-Paid Dependents",value:"company_dependents"},{label:"Employee-Paid Dependents",value:"employee_dependents"}],bn=[{label:"VIP",value:"vip"},{label:"Manager",value:"mgr"},{label:"Rank and File",value:"raf"}],vn=[{label:"Employees",value:"employees"},{label:"Dependents",value:"dependents"}],_n=[{label:"Max Number",value:"max_number"},{label:"Named Members",value:"named_members"}],yn=[{label:"Mon",value:"Monday"},{label:"Tue",value:"Tuesday"},{label:"Wed",value:"Wednesday"},{label:"Thurs",value:"Thursday"},{label:"Fri",value:"Friday"},{label:"Sat",value:"Saturday"},{label:"Sun",value:"Sunday"}],Cn=[{id:1,value:"immediate",label:"Immediate"},{id:2,value:"extended",label:"Extended"}],Nn=[{id:0,value:"0",label:"\u2014\u2014"},{id:1,value:"1",label:"1"},{id:2,value:"2",label:"2"},{id:3,value:"3",label:"3"},{id:4,value:"4",label:"4"},{id:5,value:"5",label:"5"},{id:6,value:"6",label:"6"},{id:7,value:"7",label:"7"},{id:8,value:"8",label:"8"},{id:9,value:"9",label:"9"},{id:10,value:"10",label:"10"}],Sn=[{id:1,value:"effectivity_date",label:"effectivity of principal"},{id:2,value:"hire_date",label:"hire of principal"},{id:3,value:"endorsement_date",label:"endorsement date"}],On=[{id:1,value:"hire_date",label:"hire date of principal"},{id:2,value:"endorsement_date",label:"endorsement date"}],An=[{id:1,value:"bill_back",label:"Bill Back"},{id:2,value:"charge_to_patient",label:"Charge to Patient"},{id:3,value:"included_in_premiums",label:"Included in Premiums"}],Tn=a(767),In=Object(kt.a)({select:{backgroundColor:"transparent"},disabled:{color:"#272E4C"}}),kn=Object(kt.a)({select:{backgroundColor:"transparent"},disabled:{color:"#272E4C"},selectMenu:{whiteSpace:"normal",textOverflow:"clip"}}),Rn=Object(kt.a)({input:{borderBottom:"1px solid rgb(39, 46, 76)"}}),Dn=Object(kt.a)({root:{backgroundColor:"transparent"},disabled:{color:"#272E4C"}}),wn=Object(kt.a)({root:{"& > div":{backgroundColor:"transparent"},"& .Mui-disabled":{color:"#272E4C"}}}),Pn=function(e){var t=e.items,a=e.disabled,r=e.value,i=e.variant,l=Object(k.a)(e,["items","disabled","value","variant"]),s=In();if(a){if(null!=r){var o=t.find(function(e){return e.value===r});return o?o.label:"\u2014\u2014"}return"\u2014\u2014"}return n.createElement(Rt.a,Object.assign({classes:s,style:i&&"outlined"===i?{width:"100%"}:{width:"100%",backgroundColor:"transparent"},value:r,variant:i||"standard",renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},l),n.createElement(Dt.a,{key:-1,value:void 0}),t.map(function(e,t){return n.createElement(Dt.a,{key:t,value:e.value},e.label)}))},xn=function(e){var t=e.id,a=e.text,r=e.value,i=e.items,l=e.disabled,s=e.isMaternity,o=void 0!==s&&s,c=Object(k.a)(e,["id","text","value","items","disabled","isMaternity"]),m=In();if(o&&(m=kn()),l){if(void 0!==a){var u=i.find(function(e){return e.value===a});return u?u.label:"\u2014\u2014"}var d=[];return r.map(function(e){var t=i.find(function(t){return t.value===e});d.push(t.label)}),d.join(", ")}return n.createElement(Rt.a,Object.assign({multiple:!0,input:n.createElement(R.a,{id:t}),value:r,renderValue:function(e){if(void 0!==a){var t=i.find(function(e){return e.value===a});return t?t.label:"\u2014\u2014"}var n=[];return e.map(function(e){var t=i.find(function(t){return t.value===e});n.push(t.label)}),n.join(", ")},style:{width:"100%",backgroundColor:"transparent"},classes:m},c),i.map(function(e,t){return n.createElement(Dt.a,{key:t,value:e.value},n.createElement(oe.a,{checked:r.indexOf(e.value)>-1}),n.createElement(an.a,{primary:e.label}))}))},jn=function(e){var t=e.row,a=e.style,r=e.selected,i=e.onToggle,l=e.classes,s=Object(k.a)(e,["row","style","selected","onToggle","classes"]),o=void 0!==t.disabled&&t.disabled;return n.createElement(j.a,Object.assign({padding:"checkbox",style:a,classes:l},s),n.createElement(oe.a,{icon:n.createElement(pe.a,{icon:rn.a}),checkedIcon:n.createElement(pe.a,{icon:N.j}),classes:l,checked:!!o||r,onClick:function(e){e.stopPropagation(),i()},disabled:o}))},Fn=function(e){e.style;var t=e.someSelected,a=e.allSelected,r=e.onToggle,i=e.classes,l=Object(k.a)(e,["style","someSelected","allSelected","onToggle","classes"]);return n.createElement(j.a,Object.assign({padding:"checkbox",classes:i},l),n.createElement(oe.a,{icon:n.createElement(pe.a,{icon:rn.a}),checkedIcon:a?n.createElement(pe.a,{icon:N.j}):n.createElement(pe.a,{icon:N.w}),classes:i,checked:t||a,onClick:function(e){e.stopPropagation(),r()}}))},Ln=function(e){var t=e.children,a=(e.tableRow,e.tableColumn,e.column),r=(e.classes,Object(k.a)(e,["children","tableRow","tableColumn","column","classes"]));return n.createElement(Tt.e.Cell,Object.assign({},r,{column:a}),n.createElement(ct.a,{variant:"body2",align:"center"},t))},Mn=function(e){var t=e.value,a=e.onValueChange;return n.createElement(wt.a,{value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:n.createElement(Pt.a,{position:"start"},n.createElement(pe.a,{icon:N.G}))})},Un=function(e){return"asc"===e.direction?n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.J}):n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.I})},Bn=function(e){var t=e.onSort,a=e.children,r=e.direction;return n.createElement(jt.a,{hideSortIcon:!0,onClick:t},a,r?n.createElement(Un,{direction:r}):n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.H}))},Hn=function(e){var t=e.rows,a=e.columns,r=e.formattedColumns,i=e.subFormNode,l=e.setSubForm,s=e.disablePaging,o=e.disableSearch,c=e.disableSelect,m=e.disableSort,u=e.disableFilter,d=e.disableContractType,f=e.selectionType,h=e.columnExtensions,g=e.columnBands,E=e.disableMargin,b=e.dropdownHeader,v=e.setRowSelection,_=e.setRowMetadata,y=e.setRowMetadata2,S=e.setRowLimits,O=e.viewOnly,A=e.dropdownData,T=e.selectedOption,I=e.setSelectedOption,w=e.setAddDropdown,P=e.actionFunction,x=e.defaultSort,F=e.filters,L=e.setFilters,M=Object(n.useState)(0),U=Object(p.a)(M,2),B=U[0],H=U[1],V=Object(n.useState)(5),G=Object(p.a)(V,2),q=G[0],W=G[1],Y=Object(n.useState)([5,10,15,0]),z=Object(p.a)(Y,1)[0],K=Object(n.useState)(0),X=Object(p.a)(K,2),J=X[0],Z=X[1],Q=Object(n.useState)(!1),$=Object(p.a)(Q,2),ee=$[0],te=$[1],ae=Object(n.useRef)(null),ne=!1,re=!0,ie=jn,le=function(e){var t=e.style,a=e.classes,r=e.children,i=Object(k.a)(e,["style","classes","children"]);return n.createElement(j.a,Object.assign({style:t,classes:a},i,{ref:ae}),r)};f&&("radio"!==f&&"rab"!==f||(ie=function(e){var t=e.style,a=e.selected,r=e.onToggle,i=e.classes,l=Object(k.a)(e,["style","selected","onToggle","classes"]);return n.createElement(j.a,Object.assign({padding:"checkbox",style:t,classes:i},l),n.createElement(He.a,{classes:i,checked:a,onClick:function(e){e.stopPropagation(),r()}}))},ne=!0,re=!1));var se=t.reduce(function(e,t,a){return ne?t.included&&0===e.length&&e.push(a):t.included&&e.push(a),e},new Array),ce=[],me=[];A&&A.length>0&&(me=A.map(function(e){return{value:e.facility_id,label:e.name}}));var de=function(e){var t=e.value,a=e.column,r=e.row;var i=wn();return O?n.createElement("span",null,t):n.createElement(Mt.a,{InputProps:{inputComponent:function(e){var l=e.inputRef,s=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),o=Object(n.useState)(!1),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)(""),f=Object(p.a)(d,2),h=f[0],g=f[1],E=t;return m&&(E=h),n.createElement(D.a,Object.assign({},s,{getInputRef:l,classes:i,value:E,name:a.name,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){m&&e&&g(e.floatValue)},onBlur:function(e){u(!1),_&&_(e,r.id)},onFocus:function(){u(!0),g(0===E||"0"===E?"":E)},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))}},id:r.id,name:a.name,value:t,type:"tel",classes:i,disabled:O,inputProps:{min:"0"}})},fe=function(e){var t=e.value,a=e.column,r=e.row,i=pn;return n.createElement(xn,{onChange:function(e){return _(e,r.id)},name:a.name,items:i,id:"eligble_availees_checkbox",value:t,disabled:O})},he=function(e){var t=e.value,a=e.column,r=e.row;var i=wn();return O?n.createElement("span",null,t):n.createElement(Mt.a,{InputProps:{inputComponent:function(e){var l=e.inputRef,s=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),o=Object(n.useState)(!1),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)(""),f=Object(p.a)(d,2),h=f[0],g=f[1],E=t;return m&&(E=h),n.createElement(D.a,Object.assign({},s,{getInputRef:l,classes:i,value:E,name:a.name,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){m&&e&&g(e.floatValue)},onBlur:function(e){u(!1),_&&_(e,r.id)},onFocus:function(){u(!0),g(0===E||"0"===E?"":E)},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))}},id:r.id,name:a.name,value:t,type:"tel",classes:i,disabled:O,inputProps:{min:"0"}})},ge=function(e){var t=e.value,a=e.column,r=e.row,i=gn;return n.createElement(Pn,{onChange:function(e){return _(e,r.id)},name:a.name,items:i,id:"required",value:t,disabled:O})},Ee=function(e){var t=e.column,a=e.row,r=e.value;return n.createElement(n.Fragment,null,r.map(function(e,r){return n.createElement(ve,{key:r,index:r,row:a,column:t,viewOnly:O,value:e,showUnit:!1})}))},be=function(e){var t=e.column,a=e.row,r=e.value;return n.createElement(n.Fragment,null,r.map(function(e,r){return n.createElement(ve,{key:r,index:r,row:a,column:t,viewOnly:O,value:e,showUnit:!0})}))},ve=function(e){var t=e.index,a=e.row,r=e.column,i=e.viewOnly,l=e.value,s=e.showUnit,o=Dn(),c="",m=!0;return"PHP"===l.limit_unit&&(c="PHP"),("Percentage"===l.limit_unit||["RVS","% of MBL","% of ABL"].includes(l.type))&&(c="%",["ABL","MBL"].includes(l.type)&&(c="% "+l.type)),"Sessions"===l.limit_unit&&(c=1==l[r.name]?"session":"sessions"),"Visits"===l.limit_unit&&(c=1==l[r.name]?"visit":"visits"),!["ABL","MBL","PEC"].includes(l.type)&&(["RVS","% of MBL","% of ABL"].includes(l.type)||void 0!==l.limit_unit&&0!==l.limit_unit.length)?m=!1:s&&(m=!1),i?n.createElement(n.Fragment,null,l[r.name]?function(e){var t="",a=e=e.toString().trim().replace(/,/g,""),n="",r=e.indexOf(".");if(r>-1&&(n=e.substring(r),a=e.substring(0,r)),a.length>3){for(var i=a;i.length>3;){t=","+i.slice(-3)+t,i=i.substring(0,i.length-3)}t=i+t}else t=a;return t+n}(l[r.name]):null," ",l[r.name]?c:null," ",n.createElement("br",null)):n.createElement(n.Fragment,null,n.createElement(R.a,{type:"text",style:{visibility:m?"hidden":"visible"},disabled:i||m,id:a.id,inputComponent:function(e){var i=e.inputRef,s=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),c=Object(n.useState)(!1),u=Object(p.a)(c,2),d=u[0],f=u[1],h=Object(n.useState)(""),g=Object(p.a)(h,2),E=g[0],b=g[1],v=l[r.name];return d&&(v=E),n.createElement(D.a,Object.assign({},s,{getInputRef:i,allowLeadingZeros:!1,classes:o,value:v,onInput:function(e){console.log(e)},name:r.name,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){console.log(e),d&&e&&b(e.floatValue)},onBlur:function(e){f(!1),_&&(e.target.value=e.target.value.replace(/,/g,""),m?S(e,a.id,t,!0):S(e,a.id,t))},onFocus:function(e){f(!0),b(0===v||"0"===v?"":v),e.target.click()},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))},name:r.name,value:l[r.name]?l[r.name]:"",inputProps:{style:{textAlign:"right"}},classes:o,endAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"end"},n.createElement(ct.a,{noWrap:!0},c))}),n.createElement("br",null))},_e=function(e){var t=e.column,a=e.row,r=e.value,i=e.items,l=r.reduce(function(e,t){var a=i.find(function(e){return e.type===t.type});return a&&e.push(a.value),e},new Array);return n.createElement(n.Fragment,null,l.length>0?l.map(function(e,r){return n.createElement(n.Fragment,null,n.createElement(xn,{key:r,onChange:function(e){return S(e,a.id)},value:l,name:t.name,items:i,id:"limit_type",text:e,disabled:O})," ",n.createElement("br",null))}):n.createElement(xn,{onChange:function(e){return S(e,a.id)},value:[],name:t.name,items:i,id:"limit_type",text:"",disabled:O}))},ye=function(e){var t=Object(ue.a)(sn);return n.createElement(_e,Object.assign({},e,{items:t}))},Ne=function(e){var t=e.value,a=cn;return n.createElement(n.Fragment,null,t.map(function(e,r){return n.createElement(n.Fragment,null,n.createElement(xn,{key:r,items:a,id:"limit_type",text:e,value:t,disabled:O})," ",n.createElement("br",null))}))},Se=function(e){var t=e.column,a=e.row,r=e.value,i=Dn();return O?n.createElement("span",null,r," ",r?"PHP":null):n.createElement(R.a,{inputComponent:function(e){var l=e.inputRef,s=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),o=Object(n.useState)(!1),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)(""),f=Object(p.a)(d,2),h=f[0],g=f[1],E=r;return m&&(E=h),n.createElement(D.a,Object.assign({},s,{allowLeadingZeros:!1,getInputRef:l,classes:i,value:E,isAllowed:function(e){var t=e.value;return"undefined"===typeof e.floatValue||"undefined"===typeof t||(!("0"===t.charAt(0)&&t.length>1)||(!t.charAt(1)||"."==t.charAt(1)))},name:t.name,onValueChange:function(e){console.log(e),m&&e&&g(e.floatValue)},onBlur:function(e){u(!1),e.target.value=e.target.value.replace(/,/g,""),_&&_(e,a.id)},onFocus:function(e){u(!0),g(0===E||"0"===E?"":E),e.target.click()},allowNegative:!1,thousandSeparator:!0,isNumericString:!0}))},disabled:O,value:r,type:"text",name:t.name,classes:i,inputProps:{style:{textAlign:"right"},min:0},endAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"end"},n.createElement(ct.a,{noWrap:!0},"PHP"))})},Oe=function(e){var t=e.value,a=wn();return O?n.createElement(n.Fragment,null," ",t," "):n.createElement(Mt.a,{disabled:O,value:t,classes:a})},Ae=function(e){var t=e.value;return n.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},Te=function(e){var t=e.column,a=e.row,r=e.value,i=mn;return n.createElement(Pn,{onChange:function(e){return _(e,a.id)},name:t.name,disabled:O,items:i,id:"rollover",value:r})},Ie=function(e){var t=e.column,a=e.row,r=e.value,i=fn;return n.createElement(xn,{onChange:function(e){return _(e,a.id)},name:t.name,disabled:O,items:i,id:"maternity_eligble_availees_checkbox",value:r,isMaternity:!0})},ke=function(e){var t=e.column,a=e.row,r=e.value,i=un;return n.createElement(Pn,{onChange:function(e){return _(e,a.id)},name:t.name,disabled:O,items:i,id:"refresh",value:r})},Re=function(e){var t=e.column,a=e.value,r=e.row,i=dn;return n.createElement(Pn,{onChange:function(e){return _(e,r.id)},name:t.name,disabled:O,items:i,id:"availment",value:a})},De=function(e){var t=e.value,a=e.column,r=e.row,i=En;return n.createElement(xn,{onChange:function(e){return _(e,r.id)},name:a.name,items:i,id:"member_type_checkbox",value:t,disabled:O})},we=function(e){var t=e.value,a=e.row,r=e.column,i=bn;return n.createElement(xn,{onChange:function(e){return _(e,a.id)},name:r.name,items:i,id:"plan_type_checkbox",value:t,disabled:O})},Pe=function(e){var t=e.column,a=e.value,r=e.row,i=vn;return n.createElement(Pn,{disabled:O,items:i,id:"eligibility",value:a,onChange:function(e){return _(e,r.id)},name:t.name})},xe=function(e){var t=e.column,a=e.value,r=e.row,i=_n;return n.createElement(Pn,{disabled:O,items:i,id:"no_of_members",value:a,onChange:function(e){return _(e,r.id)},name:t.name})},je=function(e){var t=e.value,a=e.column,r=e.row,i=yn;return n.createElement(xn,{onChange:function(e){return _(e,r.id)},name:a.name,items:i,id:"day_checkbox",value:t,disabled:O})},Fe=function(e){var t=e.column,a=e.value,r=e.row,i=Cn;return n.createElement(Pn,{onChange:function(e){return _(e,r.id)},name:t.name,disabled:O,items:i,id:"type",value:a})},Le=function(e){var t=e.column,a=e.value,r=e.row,i=Nn;return n.createElement(Pn,{onChange:function(e){return _(e,r.id)},name:t.name,disabled:O,items:i,id:"hierarchy",value:a})},Me=function(e){var t=e.column,a=e.row,r=hn,i=Dn();if(O){if(a.custom_metadata[t.name+"_min"]||a.custom_metadata[t.name+"_min_unit"]||a.custom_metadata[t.name+"_max"]||a.custom_metadata[t.name+"_max_unit"]){var l=["min","to","max"].map(function(e){var i=t.name+"_"+e;if("to"===e)return a.custom_metadata[t.name+"_max"]?n.createElement("span",{style:{width:"30px"}},"to"):null;var l="",s="";if(a.custom_metadata[i]&&(l=a.custom_metadata[i]),a.custom_metadata[i+"_unit"]){var o=r.find(function(e){return e.value===a.custom_metadata[i+"_unit"]});o&&(s=o.label)}return n.createElement("span",null,l," ",s)});return n.createElement("div",{style:{display:"inline-flex"}},l)}return n.createElement("span",null,"\u2014\u2014")}var s=["min","to","max"].map(function(e){var l=t.name+"_"+e;return"to"===e?n.createElement("span",{style:{width:"30px"}},"to"):n.createElement(Pn,{onChange:function(e){return _(e,a.id)},name:l+"_unit",disabled:O,items:r,id:l+"_unit",value:a.custom_metadata[l+"_unit"]?a.custom_metadata[l+"_unit"]:"",startAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"start"},n.createElement(R.a,{id:"enrollment_period",inputComponent:function(e){var t=e.inputRef,r=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),s=Object(n.useState)(!1),o=Object(p.a)(s,2),c=o[0],m=o[1],u=Object(n.useState)(""),d=Object(p.a)(u,2),f=d[0],h=d[1],g=a.custom_metadata[l];return c&&(g=f),n.createElement(D.a,Object.assign({},r,{getInputRef:t,classes:i,value:g,name:l,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){console.log(e),c&&e&&h(e.floatValue)},onBlur:function(e){m(!1),_&&_(e,a.id)},onFocus:function(){m(!0),h(0===g||"0"===g?"":g)},allowNegative:!1,thousandSeparator:!0,isNumericString:!0}))},disabled:O,value:a.custom_metadata[l],name:l,classes:i,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})});return n.createElement("div",{style:{display:"inline-flex"}},s)},Ue=function(e){var t=e.column,a=e.value,r=e.row,i=Sn,l=Dn();if(O){if(r.custom_metadata[t.name]||r.custom_metadata[t.name+"_unit"]){var s="";if(r.custom_metadata[t.name+"_unit"]&&r.custom_metadata[t.name+"_unit"]){var o=i.find(function(e){return e.value===r.custom_metadata[t.name+"_unit"]});s=o?"days from "+o.label:"days"}return n.createElement("span",null,a," ",s)}return n.createElement("span",null,"\u2014\u2014")}return n.createElement("div",null,n.createElement(Pn,{onChange:function(e){return _(e,r.id)},name:t.name+"_unit",disabled:O,items:i,id:"enrollment_period_unit",value:r.custom_metadata[t.name+"_unit"]?r.custom_metadata[t.name+"_unit"]:"",startAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"start"},n.createElement(R.a,{inputComponent:function(e){var i=e.inputRef,s=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),o=Object(n.useState)(!1),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)(""),f=Object(p.a)(d,2),h=f[0],g=f[1],E=a;return m&&(E=h),n.createElement(D.a,Object.assign({},s,{getInputRef:i,classes:l,value:E,InputProps:{type:"tel",min:0},name:t.name,id:"enrollment_period",isAllowed:function(e){console.log("val",e);var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){console.log(e),m&&e&&g(e.floatValue)},onBlur:function(e){u(!1),_&&_(e,r.id)},onFocus:function(){u(!0),g(0===E||"0"===E?"":E)},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))},id:"enrollment_period",disabled:O,value:a,name:t.name,classes:l,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))}))},Be=function(e){var t=e.column,a=e.value,r=e.row,i=On,l=Dn();if(O){if(r.custom_metadata[t.name]||r.custom_metadata[t.name+"_unit"]){var s="";if(r.custom_metadata[t.name+"_unit"]&&r.custom_metadata[t.name+"_unit"]){var o=i.find(function(e){return e.value===r.custom_metadata[t.name+"_unit"]});s=o?"days from "+o.label:"days"}return n.createElement("span",null,a," ",s)}return n.createElement("span",null,"\u2014\u2014")}return n.createElement(Pn,{onChange:function(e){return _(e,r.id)},name:t.name+"_unit",disabled:O,items:i,id:"effectivity_coverage_unit",value:r.custom_metadata[t.name+"_unit"]?r.custom_metadata[t.name+"_unit"]:"",startAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"start"},n.createElement(R.a,{inputComponent:function(e){var i=e.inputRef,s=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),o=Object(n.useState)(!1),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)(""),f=Object(p.a)(d,2),h=f[0],g=f[1],E=a;return m&&(E=h),n.createElement(D.a,Object.assign({},s,{getInputRef:i,classes:l,value:E,name:t.name,id:"effectivity_coverage",isAllowed:function(e){console.log("val",e);var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){console.log(e),m&&e&&g(e.floatValue)},onBlur:function(e){u(!1),_&&_(e,r.id)},onFocus:function(){u(!0),g(0===E||"0"===E?"":E)},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))},id:"effectivity_coverage",disabled:O,value:a,name:t.name,classes:l,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})},Ve=function(e){var t=e.value,a=e.column,r=e.row,i=Object(n.useState)(!1),l=Object(p.a)(i,2),s=l[0],o=l[1],c=Object(n.useState)(""),m=Object(p.a)(c,2),u=m[0],d=m[1],f=wn();return O?n.createElement(n.Fragment,null," ",t," "):n.createElement(Mt.a,{disabled:O,onFocus:function(e){d(e.target.value),o(!0)},onBlur:function(e){_(e,r.id),o(!0)},type:"time",name:a.name,classes:f,onChange:function(e){d(e.target.value)},value:s?u:t,inputProps:{step:300}})},Ge=function(e){var t=e.column,a=e.value,r=e.row;return n.createElement(n.Fragment,null,n.createElement(He.a,{name:t.name,disabled:O,checked:!0===a,checkedIcon:n.createElement(pe.a,{style:{color:"#3AB77D"},icon:N.h}),icon:n.createElement(pe.a,{style:{color:"#CFCFD2"},icon:N.h}),onClick:function(e){e.stopPropagation(),y("partner_network_list",null===a||!1===a,r.parent,r.index,t.name)}}),n.createElement(He.a,{name:t.name,disabled:O,checked:!1===a,checkedIcon:n.createElement(pe.a,{style:{color:"#FD5451"},icon:N.N}),icon:n.createElement(pe.a,{style:{color:"#CFCFD2"},icon:N.N}),onClick:function(e){e.stopPropagation(),y("partner_network_list",null!==a&&!0!==a,r.parent,r.index,t.name)}}))},qe=function(e){var t=e.column,a=e.value,r=e.row,i=void 0!==r.disabled&&r.disabled;return n.createElement(n.Fragment,null,n.createElement(oe.a,{name:t.name,icon:n.createElement(pe.a,{icon:rn.a}),checkedIcon:n.createElement(pe.a,{icon:N.j}),onClick:function(e){e.stopPropagation();var t=[{id:r.id,included:!a}];v(t)},checked:a,disabled:i}))},We=function(e){var t=e.column,a=e.value,r=e.row,i=An;return n.createElement(n.Fragment,null,n.createElement(Pn,{onChange:function(e){return _(e,r.id)},name:t.name,disabled:O,items:i,id:"payment_dropdown",value:a}))},Ye=function(e){var t=e.row;return n.createElement(n.Fragment,null,n.createElement("span",{onClick:function(e){e.stopPropagation(),P&&(t._id?P(t._id):P(t.id))}},n.createElement(pe.a,{className:"fa-sm",icon:N.v,style:{color:"#AFAFB7",fontSize:"15px",marginLeft:"5px"}})))},ze=function(e){var t=e.value,a=e.column,r=e.row,i=Rn(),l=wn(),s=Object(n.useState)(!1),o=Object(p.a)(s,2),c=o[0],m=o[1],u=Object(n.useState)(""),d=Object(p.a)(u,2),f=d[0],h=d[1];if("date"===r.custom_metadata.field_type){var g=t?ft()(t.toString(),"YYYY"):null;return O?n.createElement(n.Fragment,null," ",t," "):n.createElement(Tn.a,{views:["year"],value:g,onChange:function(e){y(a.name,ft()(e).get("year"),r.id)},name:a.name,disableFuture:!0})}if("chip"===r.custom_metadata.field_type){var E=t||[];return O?n.createElement(n.Fragment,null," ",E.join(", ")," "):n.createElement(Ce.a,{classes:i,variant:"standard",value:E,onAdd:function(e){var t=[].concat(Object(ue.a)(E),[e]);y(a.name,t,r.id)},onDelete:function(e){var t=Object(ue.a)(E).filter(function(t){return t!==e});y(a.name,t,r.id)}})}return O?n.createElement(n.Fragment,null," ",t," "):n.createElement(Mt.a,{disabled:O,value:c?f:t,classes:l,onChange:function(e){h(e.target.value)},onFocus:function(e){h(e.target.value),m(!0)},onBlur:function(e){_(e,r.id),m(!0)},name:a.name})};return void 0!==r&&(void 0!==r.payment&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:We},e))},{for:r.payment})),void 0!==r.exclusions_checkbox&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:qe},e))},{for:r.exclusions_checkbox})),void 0!==r.partner_checkbox&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ge},e))},{for:r.partner_checkbox})),void 0!==r.number&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:de},e))},{for:r.number})),void 0!==r.text&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Oe},e))},{for:r.text})),void 0!==r.limit_type&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ye},e))},{for:r.limit_type})),void 0!==r.limit&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ee},e))},{for:r.limit})),void 0!==r.rab_limit&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:be},e))},{for:r.rab_limit})),void 0!==r.medicine_limit_type&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ne},e))},{for:r.medicine_limit_type})),void 0!==r.php&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Se},e))},{for:r.php})),void 0!==r.rollover&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Te},e))},{for:r.rollover})),void 0!==r.refresh&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ke},e))},{for:r.refresh})),void 0!==r.eligible_availees&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:fe},e))},{for:r.eligible_availees})),void 0!==r.html&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ae},e))},{for:r.html})),void 0!==r.maternity_eligible_availees&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ie},e))},{for:r.maternity_eligible_availees})),void 0!==r.age_limit&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:he},e))},{for:r.age_limit})),void 0!==r.eligibility_age_limit&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Me},e))},{for:r.eligibility_age_limit})),void 0!==r.required&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ge},e))},{for:r.required})),void 0!==r.availment&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Re},e))},{for:r.availment})),void 0!==r.member_type&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:De},e))},{for:r.member_type})),void 0!==r.plan_type&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:we},e))},{for:r.plan_type})),void 0!==r.day&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({disabled:O,formatterComponent:je},e))},{for:r.day})),void 0!==r.no_of_members&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:xe},e))},{for:r.no_of_members})),void 0!==r.eligibility&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Pe},e))},{for:r.eligibility})),void 0!==r.type&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Fe},e))},{for:r.type})),void 0!==r.hierarchy&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Le},e))},{for:r.hierarchy})),void 0!==r.enrollment_period&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ue},e))},{for:r.enrollment_period})),void 0!==r.effectivity_coverage&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Be},e))},{for:r.effectivity_coverage})),void 0!==r.time&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({disabled:O,formatterComponent:Ve},e))},{for:r.time})),void 0!==r.identifier&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ze},e))},{for:r.identifier})),void 0!==r.actions&&ce.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ye},e))},{for:r.actions}))),Object(n.useEffect)(function(){ae&&ae.current&&Z(ae.current.clientHeight)}),n.createElement("div",{style:E?{}:{marginTop:"30px"}},n.createElement(Tt.a,{rows:t,columns:a},ce,o?null:n.createElement(It.n,null),c||O?null:n.createElement(It.o,{selection:se,onSelectionChange:function(e){if(ne){var a=e.find(function(e){return-1===se.indexOf(e)});if(console.log(a),void 0!==a){var n=t.reduce(function(e,t,n){if(!1===t.disabled){var r={id:t.id};"rab"===f?(r.included=n>=a,n!==a&&(r.resetRAB=!0)):r.included=n===a,e.push(r)}return e},new Array);v(n)}}else{var r=t.reduce(function(t,a,n){if(!1===a.disabled){var r={id:a.id};e.includes(n)?r.included=!0:r.included=!1,t.push(r)}return t},new Array);v(r)}}}),s?null:n.createElement(It.l,{currentPage:B,onCurrentPageChange:H,pageSize:q,onPageSizeChange:function(e){te(0===e),W(e)}}),m?null:n.createElement(It.p,{defaultSorting:x||[{columnName:"category",direction:"asc"}]}),u?null:F&&L?n.createElement(It.d,{defaultFilters:[],filters:F,onFiltersChange:L}):n.createElement(It.d,{defaultFilters:[]}),m?null:n.createElement(It.j,null),c||O?null:n.createElement(It.i,null),s?null:n.createElement(It.h,null),u?null:n.createElement(It.g,null),n.createElement(Tt.d,{tableComponent:function(e){var t=e.children,a=Object(k.a)(e,["children"]);return n.createElement(Tt.d.Table,Object.assign({},a,{stickyHeader:ee}),t)},stubHeaderCellComponent:function(e){var t=e.classes,a=Object(k.a)(e,["classes"]);return n.createElement(j.a,Object.assign({},a,{classes:t,style:{padding:"0px 10px 8px 10px",top:J?J+"px":"0"}}))},containerComponent:function(e){var t=e.children,a=Object(k.a)(e,["children"]);return n.createElement("div",Object.assign({},a,{style:{overflow:ee?"auto":"none",height:ee?"70vh":"auto",overflowX:"auto"}}),t)},columnExtensions:h}),c||O?null:n.createElement(Tt.h,{showSelectAll:!!re,cellComponent:ie,headerCellComponent:Fn}),b?n.createElement(Tt.g,{rowComponent:function(e){var t=e.children,a=Object(k.a)(e,["children"]);return n.createElement(Tt.g.Row,a,n.createElement(j.a,{colSpan:t.length,style:{justifyContent:"space-between"}},n.createElement(xt.a,{disableGutters:!0,style:{justifyContent:"space-between"}},n.createElement(nn,{choices:me,onChange:function(e){I(e)},value:T||{label:"Add a hospital...",value:"Code"}}),n.createElement(C.a,{onClick:function(){return w(T)},style:{color:"#3AB77D",width:"140px",marginLeft:"10px",textAlign:"right"}},n.createElement(pe.a,{icon:N.B})," Add a Hospital"))))},cellComponent:le}):n.createElement(Tt.g,{showSortingControls:!m,sortLabelComponent:Bn,cellComponent:le}),u?null:n.createElement(Tt.f,{cellComponent:function(e){var t=e.filter,a=e.onFilter,r=e.filteringEnabled,i=e.classes,l=Object(n.useState)(0),s=Object(p.a)(l,2),o=s[0],c=s[1],m=Object(n.useState)(!1),u=Object(p.a)(m,2),d=u[0],f=u[1],h=Object(n.useState)(""),g=Object(p.a)(h,2),E=g[0],b=g[1],v=t?t.value:"";return d&&(v=E),r?n.createElement(j.a,{style:{padding:"0px 10px 8px 10px",top:J?J+"px":"0"},classes:i},n.createElement(wt.a,{classes:i,style:{width:"100%"},value:v,labelWidth:0,onChange:function(e){e.persist(),b(e.target.value),f(!0),o&&clearTimeout(o);var t=e.target.value;c(setTimeout(function(){f(!1),a(t?{value:t}:null),b("")},2e3))},placeholder:""})):null},showFilterSelector:!0}),g?n.createElement(Tt.e,{columnBands:g,cellComponent:Ln}):null,d&&o?null:n.createElement(Tt.i,{rootComponent:function(e){var t=e.children,a=on,r={};return i&&i.custom_metadata&&(r=i.custom_metadata),n.createElement(xt.a,{disableGutters:!0,style:{justifyContent:o?"start":"space-between",alignItems:"flex-end",paddingBottom:"10px"}},t,O||!i||d?null:n.createElement("div",{style:o?{}:{marginLeft:"10px",width:"150px"}},n.createElement(ln.a,{style:{marginBottom:"10px"}},"Contract Type"),n.createElement(Pn,{onChange:function(e){l(e)},name:"contract_plan_type",items:a,id:"contract-plan-type",value:r.contract_plan_type?r.contract_plan_type:"",variant:"outlined",disabled:O})),O&&i&&!d?n.createElement("div",{style:o?{}:{marginLeft:"10px",width:"150px"}},n.createElement(ln.a,{style:{marginBottom:"10px"}},"Contract Type"),n.createElement(ln.a,null,r.contract_plan_type?r.contract_plan_type:"\u2014\u2014")):null)}}),o?null:n.createElement(Tt.c,{inputComponent:Mn}),s?null:n.createElement(Tt.b,{pageSizes:z})))};Hn.defaultProps={rows:[],columns:[],columnExtensions:[],columnBands:null,formattedColumns:{},subFormNode:{},dropdownHeader:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,disableMargin:!1,disableContractType:!1,selectionType:null,viewOnly:!1,defaultSort:null,filters:null,setFilters:null,setSubForm:function(e){return console.log("setSubForm",e)},setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a,n){return console.log("setRowMetadata2",e,t,a,n)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setAddDropdown:function(e){return console.log("setAddDropdown",e)},dropdownData:[],selectedOption:null,setSelectedOption:function(e){return console.log("setSelectedOption",e)},actionFunction:function(e){return console.log("actionFunction",e)}};var Vn=a(170),Gn=a(818),qn=Object(kt.a)({root:{marginTop:"16px",marginBottom:"8px",height:"2.90em"},adornedEnd:{paddingRight:0}}),Wn=Object(kt.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px"},root:{height:"2.90em"}}),Yn=function(e){return n.createElement(Zn,Object.assign({},e,{items:[{label:"USD",value:"USD"},{label:"PHP",value:"PHP"},{label:"EUR",value:"EUR"}],type:"number",currency:!0,defaultValue:"PHP"}))},zn=function(e){var t=sn,a=!1;return void 0===e.selectValue||""!==e.selectValue&&!["ABL","MBL","PEC"].includes(e.selectValue)||(a=!0),n.createElement(Zn,Object.assign({},e,{items:t,type:"number",currency:"amt_limit"===e.selectValue||"max_amount"===e.selectValue,defaultValue:"percent_mbl",disableInput:a}))},Kn=function(e){return n.createElement(Zn,Object.assign({},e,{items:[{label:"%",value:"percent"}],type:"number",currency:!1,defaultValue:"percent"}))},Xn=function(e){return n.createElement(Zn,Object.assign({},e,{items:[{label:"PHP",value:"php_abl"}],type:"number",currency:!0,defaultValue:"php_abl"}))},Jn=function(e){return n.createElement(Zn,Object.assign({},e,{items:[{label:"Months",value:"months"},{label:"Days",value:"days"}],currency:!1,type:"number",defaultValue:"months"}))},Zn=function(e){var t,a,r,i,l,s,o,c,m,u,d,f,h,g,E=qn(),b=Wn(),v=e.noDefault;Object(Vn.a)(e),t=e.id,a=e.label,r=e.items,i=e.fieldName,l=e.selectName,m=e.fieldOnChange,u=e.selectOnChange,o=e.fieldValue,c=e.selectValue,s=e.defaultValue,d=e.disableSelect,f=e.disableInput,g=e.inputProps,h=e.allowNegative,Object(k.a)(e,["id","label","items","fieldName","selectName","fieldOnChange","selectOnChange","fieldValue","selectValue","defaultValue","disableSelect","disableInput","inputProps","allowNegative"]),void 0===g&&(g={}),v&&(s="");var _=null;return _=r?1===r.length?n.createElement(Rt.a,{value:r[0].label,disabled:d||!1,input:n.createElement(wt.a,{classes:b,style:{minWidth:"62.44px"},name:l,labelWidth:0,id:t+"_adornment"}),IconComponent:function(){return n.createElement(Gn.a,{style:{display:"none"}})}},n.createElement(Dt.a,{key:r[0].label,value:r[0].label},r[0].label)):n.createElement(Rt.a,{value:void 0!==c?c:s,onChange:function(e){u(e)},disabled:d||!1,input:n.createElement(wt.a,{classes:b,name:l,labelWidth:0,id:t+"_adornment"})},n.createElement(Dt.a,{key:-1,value:""}),r.map(function(e){return n.createElement(Dt.a,{key:e.value,value:e.value},e.label)})):"",n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:t+"_label"},a),n.createElement(wt.a,{disabled:f||!1,labelWidth:0,classes:E,style:{outlineOffset:"-2px",outlineColor:"#3AB77D"},value:o,id:"formatted-text-mask-input",inputComponent:function(e){var t=e.inputRef,a=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),r=n.useState(!1),l=Object(p.a)(r,2),s=l[0],c=l[1],u=n.useState(""),d=Object(p.a)(u,2),f=d[0],g=d[1],b=void 0!==o?o:"";return s&&(b=f),n.createElement(D.a,Object.assign({},a,{getInputRef:t,classes:E,value:b,name:i,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){s&&e&&g(e.floatValue)},onBlur:function(e){c(!1),e.target.value=e.target.value.replace(/,/g,""),m&&m(e),console.log("onChange",e)},onFocus:function(e){c(!0),g(0===b||"0"===b?"":b),e.target.click()},allowNegative:h,thousandSeparator:!0,isNumericString:!0}))},endAdornment:n.createElement(Pt.a,{position:"end"},_)}))},Qn=Object(kt.a)({root:{lineHeight:"1"},adornedStart:{paddingLeft:0}}),$n=Object(kt.a)({root:{fontWeight:"bold"}}),er=function(e){var t=Qn(),a=$n(),r=e.label,i=e.value,l=e.menuItems,s=i;if(void 0!==l&&l.length>0){var o=l.find(function(e){return i===e.value});o&&o.name&&(s=o.name)}return n.createElement(n.Fragment,null,n.createElement(ct.a,{classes:t,style:{lineHeight:"1"},variant:"overline"},r),n.createElement(ct.a,{classes:a,style:{fontWeight:"bold",marginBottom:"25px"},variant:"body1"},s||"\u2014\u2014"))},tr=Object(kt.a)({root:{alignItems:"flex-start","& span.MuiButtonBase-root":{paddingTop:"4px",display:"block"}}}),ar=function(e,t){var a="PHP",n=0;return t&&(a=t),e?(n=e,ot.formatNumber(n)+" "+a):"-"},nr={formHeader:null,rows:[],setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a){return console.log("setRowMetadata2",e,t,a)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setSubForm:function(e){return console.log("setSubForm",e)},setSubForm2:function(e){return console.log("setSubForm",e)},createRelationship:function(e){return console.log("createRelationship",e)},createCivilStatus:function(e){return console.log("createCivilStatus",e)},subFormNode:null,viewOnly:!1},rr=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm2,l=e.subFormNode,s={};l&&l.custom_metadata&&l.custom_metadata.limit&&(s=l.custom_metadata.limit);var o=r,c="",m=Object(ue.a)(sn).find(function(e){return e.type===s.type});return m&&(c=m.value?m.value:""),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"limit_type",title:"Inner Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"daily_limit",title:"Daily Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit","daily_limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"daily_limit",width:150,wordWrapEnabled:!0}]},e,{rows:o}))),n.createElement(_.a,{item:!0,sm:12},a?s.limit&&s.limit_unit?n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(er,{label:"Amount Limit for all procedures",value:s.limit+" "+{amt_limit:"Amount Limit",max_session:"Max Session",max_amount:"Max Amount",percent_mbl:"Percent of MBL",percent_abl:"Percent of ABL",no_visits:"No. of Visits"}[s.limit_unit]})):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"Amount Limit for all procedures"),n.createElement(ct.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(zn,{id:"limit",fieldName:"limit",selectName:"limit_unit",fieldValue:s.limit,selectValue:c,fieldOnChange:function(e){var t=Object.assign({},s);t[e.target.name]=parseFloat(e.target.value),i("limit",t)},selectOnChange:function(e){var t=Object.assign({}),a=e.target.value,n=Object(ue.a)(sn).find(function(e){return e.label===a});n?(n.type&&(t.type=n.type),n.limit_unit&&(t.limit_unit=n.limit_unit),i("limit",t)):i("limit",t)},inputProps:{min:0},allowNegative:!1,noDefault:!0})))))};rr.defaultProps=nr;var ir=a(234),lr=Object(kt.a)({adornedEnd:{paddingRight:0}}),sr=Object(kt.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px",fontSize:12},root:{height:"2.90em"}}),or=function(e){var t,a,r,i,l,s,o,c,m,u=lr(),d=sr();return Object(Vn.a)(e),t=e.fieldName,a=e.selectName,l=e.fieldOnChange,s=e.selectOnChange,r=e.fieldValue,i=e.selectValue,o=e.inputProps,c=e.blankField,m=e.allowNegative,Object(k.a)(e,["fieldName","selectName","fieldOnChange","selectOnChange","fieldValue","selectValue","inputProps","blankField","allowNegative"]),void 0===o&&(o={}),n.createElement(wt.a,{classes:u,name:t,labelWidth:0,value:r||(c?"":0),inputComponent:function(e){var a=e.inputRef,s=(e.onChange,Object(k.a)(e,["inputRef","onChange"])),o=n.useState(!1),d=Object(p.a)(o,2),f=d[0],h=d[1],g=n.useState(""),E=Object(p.a)(g,2),b=E[0],v=E[1],_=r||(c?"":"0");return f&&(_=b),n.createElement(D.a,Object.assign({},s,{getInputRef:a,classes:u,type:"tel",value:_,name:t,min:0,isAllowed:function(e){var t=e.value,a=e.floatValue;return!("percent"===i&&t.indexOf(".")>=0)&&("undefined"===typeof a||"undefined"===typeof t||(!("0"===t.charAt(0)&&t.length>1)||(!t.charAt(1)||"."==t.charAt(1))))},onValueChange:function(e){f&&e&&v(e.floatValue)},onBlur:function(e){h(!1),e.target.value=e.target.value.replace(/,/g,""),l&&l(e),console.log("onChange",e)},inputProps:{min:0},onFocus:function(e){h(!0),v(0===_||"0"===_?"":_),e.target.click()},thousandSeparator:!0,isNumericString:!0,allowNegative:m}))},inputProps:{min:"0"},endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:i||"percent",name:a,onChange:function(e){s(e)},input:n.createElement(wt.a,{classes:d,labelWidth:0,id:a})},n.createElement(Dt.a,{selected:!0,value:"percent"},"%"),n.createElement(Dt.a,{value:"PHP"},"PHP")))})},cr=Object(kt.a)({adornedEnd:{paddingRight:0}}),mr=Object(kt.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px",fontSize:12},root:{height:"2.90em"}}),ur=function(e){var t,a=e.formHeader,r=e.rows,i=e.viewOnly,l=e.subFormNode,s=e.setSubForm,o=e.setSubForm2,c=tr(),m={},u=[],d=-1,p=-1,f=0,h=cr(),g=mr();if(l&&(l.custom_metadata&&(m=l.custom_metadata),l.limits)){var E=(u=l.limits).findIndex(function(e){return["ABL","MBL"].includes(e.type)});d=E,E=u.findIndex(function(e){return["PEC"].includes(e.type)}),u[p=E]&&u[p].time_based_limit&&(t=u[p].time_based_limit,f=u[p].time_based_limit.length)}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=e.target.name;e.target.value=e.target.value?e.target.value.trim().replace(/,/g,""):"";var i=e.target.value,s=!1;console.log("val:",i);var c=-1,m=[];if(("type"===r||t&&"limit_unit"===r)&&0===i.length&&(s=!0),"limit"===r&&i.toString().indexOf(".")>-1?i=parseFloat(i).toFixed(2):"limit"===r&&(i=0===i.length?0:parseFloat(i)),console.log("After Float: ",i,t),l&&l.limits&&(m=l.limits),console.log("limit",m),c=t?m.findIndex(function(e){return["PEC"].includes(e.type)}):m.findIndex(function(e){return["ABL","MBL"].includes(e.type)}),console.log("newLimits: ",r,i,c,a,f),c>-1&&s){var u=Object(ue.a)(m);u=u.filter(function(e){return t?!["PEC"].includes(e.type):!["ABL","MBL"].includes(e.type)}),o(r,u,"limits")}else if(c>-1){if(t&&"Months"===m[p].limit_unit&&("number_month"===r||"limit"===r||"limit_type"===r||"day_based"===r)){a||(a=0);var d=[],h={number_month:"number_month"===r?i:m[p].time_based_limit&&a>=0&&m[p].time_based_limit[a]&&m[p].time_based_limit[a].number_month?"day_based"===r?0:m[p].time_based_limit[a].number_month:0,day_based:"day_based"===r?i:m[p].time_based_limit&&a>=0&&m[p].time_based_limit[a]&&m[p].time_based_limit[a].day_based?m[p].time_based_limit[a].day_based:"Months",limit_type:"limit_type"===r?i:m[p].time_based_limit&&a>=0&&m[p].time_based_limit[a]&&m[p].time_based_limit[a].limit_type?m[p].time_based_limit[a].limit_type:"percent",limit:"limit"===r?i:m[p].time_based_limit&&a>=0&&m[p].time_based_limit[a]&&m[p].time_based_limit[a].limit?"limit_type"===r?"":m[p].time_based_limit[a].limit:""};if(f>0)for(var g=0;g<m[p].time_based_limit.length;g++)a===g?d.push(h):d.push(m[p].time_based_limit[g]);else d.push(h);r="time_based_limit",i=d,console.log(d)}if(t&&1===n){for(var E=[],b=0;b<f;b++)E.push({number_month:m[p].time_based_limit[b]&&m[p].time_based_limit[b].number_month?m[p].time_based_limit[b].number_month:0,day_based:m[p].time_based_limit[b]&&m[p].time_based_limit[b].day_based?m[p].time_based_limit[b].day_based:"Months",limit_type:m[p].time_based_limit[b]&&m[p].time_based_limit[b].limit_type?m[p].time_based_limit[b].limit_type:"percent",limit:m[p].time_based_limit[b]&&m[p].time_based_limit[b].limit?m[p].time_based_limit[b].limit:""});0===f&&E.push({number_month:0,day_based:"Months",limit_type:"percent",limit:0}),E.push({number_month:0,day_based:"Months",limit_type:"percent",limit:0}),r="time_based_limit",i=E,f++}else if(t&&-1===n){for(var v=[],_=0;_<f;_++)_!=a&&v.push({number_month:m[p].time_based_limit[_]&&m[p].time_based_limit[_].number_month?m[p].time_based_limit[_].number_month:0,day_based:m[p].time_based_limit[_]&&m[p].time_based_limit[_].day_based?m[p].time_based_limit[_].day_based:"Months",limit_type:m[p].time_based_limit[_]&&m[p].time_based_limit[_].limit_type?m[p].time_based_limit[_].limit_type:"percent",limit:m[p].time_based_limit[_]&&m[p].time_based_limit[_].limit?m[p].time_based_limit[_].limit:""});r="time_based_limit",i=v,f--}console.log("change: ",r,i),"type"===r&&o("limit",0,"limits",c),o(r,i,"limits",c)}else{var y={type:"ABL",limit:"",limit_unit:"PHP"};t&&(y.type="PEC"),y[r]=i;var C=Object(ue.a)(m);C.push(y),o(r,C,"limits")}},v=null;v=p>-1&&"Percentage"===u[p].limit_unit?Kn:p>-1&&"Months"===u[p].limit_unit?Jn:Yn;var y={annual:"Annual",semiannual:"Semi-Annual",quarterly:"Quarterly",monthly:"Monthly"},S=r;if(i){var O=!0;S=r.filter(function(){return!!O&&(O=!1,!0)})}var A="",T="";return i&&(m.voluntary_upgrading_type&&("paid_by_member"===m.voluntary_upgrading_type?A="Room and Board difference is paid by the Member":"first_hours_free"===m.voluntary_upgrading_type?A=m.voluntary_upgrading_amount?"First "+m.voluntary_upgrading_amount+" hours free":"First 0 hour free":"rate"===m.voluntary_upgrading_type&&(A=m.voluntary_upgrading_amount?"Rate: "+m.voluntary_upgrading_amount+" %":"Rate:  0%")),"paid_by_member"===m.involuntary_upgrading_type?T="Room and Board difference is paid by the Member":"first_hours_free"===m.involuntary_upgrading_type&&(T=m.involuntary_upgrading_amount?"First "+m.involuntary_upgrading_amount+" hours free":"First 0 hour free")),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},i?null:a,n.createElement(_.a,{item:!0,container:!0,sm:8},n.createElement(_.a,{item:!0,sm:5},i?n.createElement(er,{label:"Limit Type",value:d>-1&&u[d].type?u[d].type:""}):n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"type"},"Choose Limit Type*"),n.createElement(ir.a,{margin:"normal"},n.createElement(Rt.a,{onChange:function(e){return b(e,!1)},value:d>-1&&u[d].type?u[d].type:"",name:"type",input:n.createElement(wt.a,{labelWidth:0,name:"type",id:"limit"})},n.createElement(Dt.a,{value:""}),n.createElement(Dt.a,{value:"ABL"},"ABL"),n.createElement(Dt.a,{value:"MBL"},"MBL"))))),n.createElement(_.a,{item:!0,sm:7},i?n.createElement(er,{label:"Limit",value:d>-1&&u[d].limit&&u[d].limit_unit?ar(u[d].limit,u[d].limit_unit):""}):n.createElement(Yn,{id:"limit",label:"Specify Limit*",fieldName:"limit",selectName:"limit_unit",fieldValue:d>-1&&void 0!==u[d].limit?u[d].limit:"",selectValue:"PHP",fieldOnChange:function(e){return b(e,!1)},inputProps:{min:"0"},disableSelect:!0})),n.createElement(_.a,{item:!0,sm:5},i?n.createElement(er,{label:"PEC Limit Type",value:p>-1&&u[p].type?"PHP"===u[p].limit_unit?"Peso":"Months"===u[p].limit_unit?"Time-based":u[p].limit_unit:""}):n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"limit_unit"},"Choose PEC Limit Type*"),n.createElement(ir.a,{margin:"normal"},n.createElement(Rt.a,{onChange:function(e){return b(e,!0)},value:p>-1&&u[p].limit_unit?u[p].limit_unit:"",name:"limit_unit",input:n.createElement(wt.a,{labelWidth:0,name:"limit_unit",id:"pecLimit"})},n.createElement(Dt.a,{value:""}),n.createElement(Dt.a,{value:"PHP"},"Peso"),n.createElement(Dt.a,{value:"Percentage"},"Percentage"),n.createElement(Dt.a,{value:"Months"},"Time-based"))))),-1===p||"PHP"===u[p].limit_unit||"Percentage"===u[p].limit_unit?n.createElement(_.a,{item:!0,sm:7},i?n.createElement(er,{label:"PEC Limit",value:p>-1&&u[p].limit&&u[p].limit_unit?ar(u[p].limit,"PHP"===u[p].limit_unit?u[p].limit_unit:"%"):""}):n.createElement(v,{id:"limit",label:"Specify Limit*",fieldName:"limit",selectName:"limit_unit",fieldValue:p>-1&&void 0!==u[p].limit?u[p].limit:"",selectValue:u[p]&&"Percentage"===u[p].limit_unit?"percent":"PHP",fieldOnChange:function(e){return b(e,!0)},inputProps:{min:"0"},disableSelect:!0})):n.createElement(_.a,{item:!0,sm:7},n.createElement(ln.a,{style:{height:26,paddingBottom:6},htmlFor:"limit_unit"},"Specify Limit*"),i?"":n.createElement(ln.a,{style:{height:26,paddingBottom:5},htmlFor:"limit_unit"},"After n month"),n.createElement(_.a,{container:!0},f>0?t.map(function(e,t){return console.log(e),i?n.createElement(_.a,{container:!0,style:{paddingBottom:5}},n.createElement(er,{label:"",value:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].number_month&&""!==u[p].time_based_limit[t].number_month&&u[p].time_based_limit[t].limit&&""!==u[p].time_based_limit[t].limit?"After "+(u[p].time_based_limit[t].number_month&&""!==u[p].time_based_limit[t].number_month?u[p].time_based_limit[t].number_month.toString():"\u2014")+" "+(u[p].time_based_limit[t].day_based?u[p].time_based_limit[t].day_based.toString():"Months")+": "+(u[p].time_based_limit[t].limit&&""!==u[p].time_based_limit[t].limit?u[p].time_based_limit[t].limit.toString():"\u2014")+" "+(u[p].time_based_limit[t].limit_type&&"PHP"===u[p].time_based_limit[t].limit_type?"PHP":"%"):"\u2014\u2014"})):n.createElement(_.a,{container:!0,style:{paddingBottom:5}},n.createElement(_.a,{item:!0,sm:1,style:{display:"inline-block",position:"relative",verticalAlign:"middle",marginRight:8}},n.createElement(C.a,{style:{cursor:"pointer",display:f>1?"block":"none",position:"absolute",top:"50%",transform:"translateY(-50%)"},onClick:function(e){return b(e,!0,t,-1)}},n.createElement(pe.a,{icon:N.v,style:{color:"#B0AFB8"}}))),n.createElement(_.a,{item:!0,sm:6,style:{display:"inline-block"}},n.createElement(wt.a,{id:"number_month",labelWidth:0,classes:h,style:{marginRight:8.71},name:"number_month",value:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].number_month?u[p].time_based_limit[t].number_month:"",onChange:function(e){return b(e,!0,t)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].day_based?u[p].time_based_limit[t].day_based:"Months",name:"day_based",onChange:function(e){return b(e,!0,t)},input:n.createElement(wt.a,{classes:g,labelWidth:0,id:"day_based"}),disabled:!1},n.createElement(Dt.a,{selected:!0,value:"Days"},"Days"),n.createElement(Dt.a,{selected:!0,value:"Weeks"},"Weeks"),n.createElement(Dt.a,{selected:!0,value:"Months"},"Months")))})),n.createElement(_.a,{item:!0,sm:4,style:{display:"inline-block"}},n.createElement(or,{variant:"outlined",fieldName:"limit",selectName:"limit_type",blankField:!0,fieldValue:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].limit?u[p].time_based_limit[t].limit:"",selectValue:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].limit_type?u[p].time_based_limit[t].limit_type:"percent",fieldOnChange:function(e){return b(e,!0,t)},selectOnChange:function(e){return b(e,!0,t)},allowNegative:!1})))}):i?n.createElement(er,{label:"",value:"\u2014\u2014"}):n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,sm:1,style:{position:"relative",verticalAlign:"middle",marginRight:8}},n.createElement(C.a,{style:{display:"none",position:"absolute",top:"50%",transform:"translateY(-50%)"},onClick:function(e){return b(e,!0,0,-1)}},n.createElement(pe.a,{icon:N.v,style:{color:"#B0AFB8"}}))),n.createElement(_.a,{item:!0,sm:6},n.createElement(wt.a,{id:"number_month",labelWidth:0,classes:h,style:{marginRight:8.71},name:"number_month",value:u[p].time_based_limit&&u[p].time_based_limit[0].number_month?u[p].time_based_limit[0].number_month:"",onChange:function(e){return b(e,!0,0)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:u[p].time_based_limit&&u[p].time_based_limit[0]&&u[p].time_based_limit[0].day_based?u[p].time_based_limit[0].day_based:"Months",name:"day_based",onChange:function(e){return b(e,!0,0)},input:n.createElement(wt.a,{classes:g,labelWidth:0,id:"per_month_adornment"}),disabled:!1},n.createElement(Dt.a,{selected:!0,value:"Days"},"Days"),n.createElement(Dt.a,{selected:!0,value:"Weeks"},"Weeks"),n.createElement(Dt.a,{selected:!0,value:"Months"},"Months")))})),n.createElement(_.a,{item:!0,sm:4},n.createElement(wt.a,{id:"limit",classes:h,name:"limit",labelWidth:0,value:u[p].time_based_limit&&u[p].time_based_limit[0].limit?u[p].time_based_limit[0].limit:"",onChange:function(e){return b(e,!0,0)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:u[p].time_based_limit&&u[p].time_based_limit[0].limit_type?u[p].time_based_limit[0].limit_type:"percent",name:"limit_type",onChange:function(e){return b(e,!0,0)},input:n.createElement(wt.a,{classes:g,labelWidth:0,id:"limit_type"})},n.createElement(Dt.a,{selected:!0,value:"percent"},"%"),n.createElement(Dt.a,{selected:!0,value:"PHP"},"PHP")))}))),n.createElement(_.a,{item:!0,xs:11,style:{display:i?"none":"block",paddingLeft:40}},n.createElement(Ie.a,{color:"primary",disableFocusRipple:!0,name:"addtimebased",onClick:function(e){return b(e,!0,f,1)},value:"target"},n.createElement(pe.a,{icon:N.B}),"\xa0Add Layer"))))),n.createElement(_.a,{item:!0,sm:4},i?n.createElement(er,{label:"Mode of Payment",value:y[m.mode_of_payment]}):n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"mode_of_payment"},"Mode of Payment*"),n.createElement(ir.a,{component:"fieldset",margin:"normal"},n.createElement(Lt.a,{name:"mode_of_payment"},n.createElement(Ft.a,{value:"annual",control:n.createElement(He.a,{checked:!!m.mode_of_payment&&"annual"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),o("mode_of_payment","annual")}}),label:y.annual}),n.createElement(Ft.a,{value:"semiannual",control:n.createElement(He.a,{checked:!!m.mode_of_payment&&"semiannual"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),o("mode_of_payment","semiannual")}}),label:y.semiannual}),n.createElement(Ft.a,{value:"quarterly",control:n.createElement(He.a,{checked:!!m.mode_of_payment&&"quarterly"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),o("mode_of_payment","quarterly")}}),label:y.quarterly}),n.createElement(Ft.a,{value:"monthly",control:n.createElement(He.a,{checked:!!m.mode_of_payment&&"monthly"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),o("mode_of_payment","monthly")}}),label:y.monthly}))))))),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:i,formattedColumns:{rab_limit:["limit"],rollover:["rollover"],refresh:["refresh"]},disableSearch:!0,disablePaging:!0,disableContractType:!0,selectionType:"rab",columnExtensions:[{columnName:"rollover",width:150,wordWrapEnabled:!0},{columnName:"refresh",width:150,wordWrapEnabled:!0}],columns:[{name:"name",title:"Category"},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"rollover",title:"Rollover",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.rollover?e.custom_metadata.rollover:[]}},{name:"refresh",title:"Refresh",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.refresh?e.custom_metadata.refresh:[]}}]},e,{rows:S}))),n.createElement(_.a,{item:!0,sm:12},i?!0===m.except_suite_room||""!==T?n.createElement(er,{label:"Involuntary Room Upgrading",value:n.createElement("div",null,!0===m.except_suite_room?n.createElement("div",null,"Except Suite Room"):null,""!==T?n.createElement("div",null,T):null)}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Involuntary Room Upgrading"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"except_suite_room",control:n.createElement(oe.a,{checked:!!m.except_suite_room&&m.except_suite_room,onChange:function(e){o("except_suite_room",e.target.checked),!1===e.target.checked&&o("involuntary_upgrading_type",null)}}),label:"Except Suite Room"}),n.createElement(Lt.a,{name:"involuntary_upgrading",style:{paddingLeft:"30px"}},n.createElement(Ft.a,{classes:c,value:"involuntary_upgrading_type",control:n.createElement(He.a,{checked:"paid_by_member"===m.involuntary_upgrading_type,name:"involuntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("involuntary_upgrading_amount",null),o("involuntary_upgrading_type","paid_by_member")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Room and Board difference is paid by the Member"))}),n.createElement(Ft.a,{classes:c,value:"involuntary_upgrading_type",control:n.createElement(He.a,{checked:"first_hours_free"===m.involuntary_upgrading_type,name:"involuntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("involuntary_upgrading_amount",null),o("involuntary_upgrading_type","first_hours_free")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"First X hours free"),"first_hours_free"===m.involuntary_upgrading_type?n.createElement(ir.a,null,n.createElement(wt.a,{id:"involuntary_upgrading_first_hours_free",labelWidth:0,classes:h,type:"tel",name:"involuntary_upgrading_amount",value:"first_hours_free"===m.involuntary_upgrading_type?m.involuntary_upgrading_amount:0,onChange:s,inputProps:{min:0}})):null)}))))),n.createElement(_.a,{item:!0,sm:12},i?m.voluntary_upgrading_type?n.createElement(er,{label:"Voluntary Room Upgrading",value:A}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Voluntary Room Upgrading"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"involuntary_upgrading"},n.createElement(Ft.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(He.a,{checked:"paid_by_member"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("voluntary_upgrading_amount",null),o("voluntary_upgrading_type","paid_by_member")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Room and Board difference is paid by the Member"))}),n.createElement(Ft.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(He.a,{checked:"first_hours_free"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("voluntary_upgrading_amount",null),o("voluntary_upgrading_type","first_hours_free")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"First X hours free"),"first_hours_free"===m.voluntary_upgrading_type?n.createElement(ir.a,null,n.createElement(wt.a,{id:"voluntary_upgrading_amount",labelWidth:0,classes:h,type:"tel",name:"voluntary_upgrading_amount",value:"first_hours_free"===m.voluntary_upgrading_type?m.voluntary_upgrading_amount:0,onChange:s,inputProps:{min:0}})):null)}),n.createElement(Ft.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(He.a,{checked:"rate"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("voluntary_upgrading_amount",null),o("voluntary_upgrading_type","rate")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Rate"),"rate"===m.voluntary_upgrading_type?n.createElement(n.Fragment,null,n.createElement(ir.a,null,n.createElement(Kn,{disabled:"rate"!==m.voluntary_upgrading_type,id:"voluntary_upgrading_rate",fieldName:"voluntary_upgrading_amount",selectName:"voluntary_upgrading_amount_unit",fieldValue:"rate"===m.voluntary_upgrading_type?m.voluntary_upgrading_amount:0,selectValue:"percent",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},disableSelect:!0})),n.createElement(ct.a,{variant:"caption",style:{fontStyle:"italic"},display:"block"},"Formula: 30% [Room charged \u2014 ] \u2014 [Room \u2014 allowed amount]")):null)}))))))};ur.defaultProps=nr;var dr=function(e){var t=e.viewOnly,a=e.formHeader,r=e.rows;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},t?null:a)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,{rows:r,columns:[{name:"name",title:"Category"},{name:"description",title:"Description"}]})))};dr.defaultProps=nr;var pr=function(e){var t=e.formHeader,a=e.viewOnly,r=e.setSubForm,i=e.rows,l=e.subFormNode,s=Object(n.useState)(!1),o=Object(p.a)(s,2),c=o[0],m=o[1],u={};l&&l.custom_metadata&&(u=l.custom_metadata);var d=i;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"age_limit",title:"Minimum Age",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:0}},{name:"max_availee",title:"Max. Availee",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.max_availee?e.custom_metadata.max_availee:0}},{name:"payment",title:"Payment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.payment?e.custom_metadata.payment:""}},{name:"required",title:"Required",getCellValue:function(e){return!(!e.custom_metadata||!e.custom_metadata.required)&&e.custom_metadata.required}}],formattedColumns:{eligible_availees:["eligible_availees"],age_limit:["age_limit"],required:["required"],number:["max_availee"],payment:["payment"]},columnExtensions:[{columnName:"parent_name",width:150,wordWrapEnabled:!0},{columnName:"name",width:250,wordWrapEnabled:!0},{columnName:"eligible_availees",width:150,wordWrapEnabled:!0},{columnName:"age_limit",width:150,wordWrapEnabled:!0},{columnName:"max_availee",width:150,wordWrapEnabled:!0},{columnName:"payment",width:150,wordWrapEnabled:!0},{columnName:"required",width:150,wordWrapEnabled:!0}]},e,{rows:d}))),n.createElement(_.a,{item:!0,sm:12},a?u.mobile_ape_availees?n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Mobile APE"),n.createElement(er,{label:"Min no. of availees in a shift (8 hrs)",value:u.mobile_ape_availees})):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Mobile APE"),n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"Min no. of availees in a shift (8 hrs)"),n.createElement(wt.a,{onChange:function(e){m(!1),r(e)},value:c?"":u.mobile_ape_availees?u.mobile_ape_availees:0,type:"number",onKeyPress:function(e){return"-"===e.key||"."===e.key||"e"===e.key?(e.preventDefault(),!1):e.key},onFocus:function(){u.mobile_ape_availees&&0!==u.mobile_ape_availees&&"0"!==u.mobile_ape_availees||m(!0)},onBlur:function(){m(!1)},labelWidth:0,name:"mobile_ape_availees",id:"mobileAPEs",inputProps:{min:"0"}})))))};pr.defaultProps=nr;var fr=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"age_limit",title:"Minimum Age",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:0}},{name:"max_availee",title:"Max. Availee",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.max_availee?e.custom_metadata.max_availee:0}},{name:"payment",title:"Payment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.payment?e.custom_metadata.payment:""}},{name:"required",title:"Required",getCellValue:function(e){return!(!e.custom_metadata||!e.custom_metadata.required)&&e.custom_metadata.required}}],formattedColumns:{eligible_availees:["eligible_availees"],age_limit:["age_limit"],required:["required"],number:["max_availee"],payment:["payment"]},columnExtensions:[{columnName:"name",width:250,wordWrapEnabled:!0},{columnName:"parent_name",width:150,wordWrapEnabled:!0},{columnName:"eligible_availees",width:150,wordWrapEnabled:!0},{columnName:"age_limit",width:150,wordWrapEnabled:!0},{columnName:"max_availee",width:150,wordWrapEnabled:!0},{columnName:"payment",width:150,wordWrapEnabled:!0},{columnName:"required",width:150,wordWrapEnabled:!0}]},e,{rows:i}))))};fr.defaultProps=nr;var hr=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm2,l=e.subFormNode,s={};l&&l.custom_metadata&&l.custom_metadata.limit&&(s=l.custom_metadata.limit);var o=r,c="",m=Object(ue.a)(sn).find(function(e){return e.type===s.type});return m&&(c=m.value?m.value:""),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Benefit"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:o}))),n.createElement(_.a,{item:!0,sm:12},a?s.limit&&s.limit_unit?n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(er,{label:"Amount Limit for all procedures",value:s.limit+" "+{amt_limit:"Amount Limit",max_session:"Max Session",max_amount:"Max Amount",percent_mbl:"Percent of MBL",percent_abl:"Percent of ABL",no_visits:"No. of Visits"}[s.limit_unit]})):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"Amount Limit for all procedures"),n.createElement(ct.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(zn,{id:"limit",fieldName:"limit",selectName:"limit_unit",fieldValue:s.limit,selectValue:c,fieldOnChange:function(e){var t=Object.assign({},s);t[e.target.name]=parseFloat(e.target.value),i("limit",t)},selectOnChange:function(e){var t=Object.assign({}),a=e.target.value,n=Object(ue.a)(sn).find(function(e){return e.label===a});n?(n.type&&(t.type=n.type),n.limit_unit&&(t.limit_unit=n.limit_unit),i("limit",t)):i("limit",t)},inputProps:{min:0},allowNegative:!1,noDefault:!0})))))};hr.defaultProps=nr;var gr=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,columns:[{name:"name",title:"Category"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150},{columnName:"limit",width:150}]},e,{rows:i}))))};gr.defaultProps=nr;var Er=Object(mt.a)(function(){return{fieldLabels:{color:"#272E4C",fontSize:"1rem"}}}),br=function(e){var t=e.toString();if(e>999){var a=Math.floor(e),n=e-a,r=a.toString(),i=r.length%3;if(0===i){var l=r.match(/.{1,3}/g);l&&(t=l.join(",")+(n>0?"."+n:""))}else{var s=r.substring(0,i),o=r.substring(i).match(/.{1,3}/g);o&&(t=s+","+o.join(",")+(n>0?"."+n:""))}}return t},vr=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.setSubForm,l=e.setSubForm2,s=e.subFormNode,o=Er(),c=tr();console.log(a),console.log(e);var m={};s&&s.custom_metadata&&(m=s.custom_metadata);var u=a;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12,style:{paddingTop:24}},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,sm:12,md:5,style:{paddingRight:16}},r?n.createElement(er,{label:"Partner",value:m.dental_form_partner?m.dental_form_partner:"-"}):n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"dental_form_partner",className:o.fieldLabels,style:{marginBottom:8}},"Partner"),n.createElement(ir.a,{margin:"normal",style:{width:"100%"}},n.createElement(Rt.a,{onChange:function(e){l("dental_form_partner",e.target.value)},value:m.dental_form_partner?m.dental_form_partner:"",name:"dental_form_partner",input:n.createElement(wt.a,{labelWidth:0,name:"dental_form_partner",id:"dental_form_partner"})},n.createElement(Dt.a,{value:""}),n.createElement(Dt.a,{value:"Intellicare"},"Intellicare"),n.createElement(Dt.a,{value:"Dental Network"},"Dental Network"))))),n.createElement(_.a,{item:!0,sm:12,md:4},r?n.createElement(er,{label:"Rate/Person",value:br(m.dental_form_rate?m.dental_form_rate:0)+" PHP"}):n.createElement(n.Fragment,null,n.createElement(ct.a,{className:o.fieldLabels},"Rate/Person"),n.createElement(Yn,{id:"dental_form_rate",fieldName:"dental_form_rate",selectName:"dental_form_rate_unit",fieldValue:m.dental_form_rate?m.dental_form_rate:0,selectValue:"PHP",disableSelect:!0,fieldOnChange:i,selectOnChange:i,inputProps:{min:0}}))),n.createElement(_.a,{item:!0,sm:12,md:3}))),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,columns:[{name:"name",title:"Category"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}],disableContractType:!0},e,{rows:u}))),n.createElement(_.a,{item:!0,sm:12},r?m.waiting_period_type&&void 0!==m.waiting_period_type?n.createElement(er,{label:"Activation",value:n.createElement("div",null,n.createElement("div",null,"effectivity"===m.waiting_period_type?"Waiting period after effectivity of member":"date_of_hire"===m.waiting_period_type?"Waiting period after date of hire":null),m.waiting_period?n.createElement("div",null,m.waiting_period_unit?ar(m.waiting_period,m.waiting_period_unit):ot.formatNumber(m.waiting_period)):null)}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"waiting_period"},n.createElement(Ft.a,{classes:c,value:"waiting_period_effectivity",control:n.createElement(He.a,{checked:"effectivity"===m.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"effectivity"!==m.waiting_period_type&&(l("waiting_period",""),l("waiting_period_unit",""),l("waiting_period_type","effectivity"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(ir.a,null,n.createElement(Jn,{disableSelect:"effectivity"!==m.waiting_period_type,disableInput:"effectivity"!==m.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===m.waiting_period_type?m.waiting_period:0,selectValue:"effectivity"===m.waiting_period_type?m.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0,allowNegative:!1})))}),n.createElement(Ft.a,{classes:c,value:"waiting_period_hire",control:n.createElement(He.a,{checked:"date_of_hire"===m.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"date_of_hire"!==m.waiting_period_type&&(l("waiting_period",""),l("waiting_period_unit",""),l("waiting_period_type","date_of_hire"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(ir.a,null,n.createElement(Jn,{disableSelect:"date_of_hire"!==m.waiting_period_type,disableInput:"date_of_hire"!==m.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===m.waiting_period_type?m.waiting_period:0,selectValue:"date_of_hire"===m.waiting_period_type?m.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0,allowNegative:!1})))}))))))};vr.defaultProps=nr;var _r=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.subFormNode,l=e.setSubForm,s=e.setSubForm2,o=tr(),c={};i&&i.custom_metadata&&(c=i.custom_metadata);var m=a.filter(function(e){return!!e.custom_metadata.is_excluded&&e.custom_metadata.is_excluded});return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,disableSelect:!0,columns:[{name:"name",title:"Excluded Medicine"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"availment",title:"Availment Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.availment?e.custom_metadata.availment:[]}}],formattedColumns:{limit_type:["limit_type"],limit:["limit"],availment:["availment"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"availment",width:175,wordWrapEnabled:!0}]},e,{rows:m}))),n.createElement(_.a,{item:!0,sm:12},r?c.limit_for_all&&c.limit_for_all_unit?n.createElement(er,{label:"Limit for All",value:c.limit_for_all+" "+c.limit_for_all_unit}):null:n.createElement(n.Fragment,null,n.createElement(ir.a,{style:{marginBottom:"20px"}},n.createElement(ct.a,{variant:"body1"},"Limit for All*"),n.createElement(Yn,{id:"limit_for_all",fieldName:"limit_for_all",selectName:"limit_for_all_unit",fieldValue:void 0!==c.limit_for_all&&""!==c.limit_for_all?c.limit_for_all:"",selectValue:void 0!==c.limit_for_all_unit?c.limit_for_all_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},allowNegative:!1})))),n.createElement(_.a,{item:!0,sm:12},r?c.waiting_period_type&&void 0!==c.waiting_period_type?n.createElement(er,{label:"Activation",value:n.createElement("div",null,n.createElement("div",null,"effectivity"===c.waiting_period_type?"Waiting period after effectivity of member":"date_of_hire"===c.waiting_period_type?"Waiting period after date of hire":null),c.waiting_period?n.createElement("div",null,c.waiting_period_unit?ar(c.waiting_period,c.waiting_period_unit):ot.formatNumber(c.waiting_period)):null)}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"waiting_period"},n.createElement(Ft.a,{classes:o,value:"waiting_period_effectivity",control:n.createElement(He.a,{checked:"effectivity"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"effectivity"!==c.waiting_period_type&&(s("waiting_period",""),s("waiting_period_unit",""),s("waiting_period_type","effectivity"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(ir.a,null,n.createElement(Jn,{disableSelect:"effectivity"!==c.waiting_period_type,disableInput:"effectivity"!==c.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===c.waiting_period_type?c.waiting_period:0,selectValue:"effectivity"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},allowNegative:!1,noDefault:!0})))}),n.createElement(Ft.a,{classes:o,value:"waiting_period_hire",control:n.createElement(He.a,{checked:"date_of_hire"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"date_of_hire"!==c.waiting_period_type&&(s("waiting_period",""),s("waiting_period_unit",""),s("waiting_period_type","date_of_hire"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(ir.a,null,n.createElement(Jn,{disableSelect:"date_of_hire"!==c.waiting_period_type,disableInput:"date_of_hire"!==c.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===c.waiting_period_type?c.waiting_period:0,selectValue:"date_of_hire"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},allowNegative:!1,noDefault:!0})))}))))))};_r.defaultProps=nr;var yr=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.subFormNode,l=e.setSubForm;console.log(a);var s={};i&&i.custom_metadata&&(s=i.custom_metadata);var o=a;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,columns:[{name:"name",title:"Procedure"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],disableContractType:!0,formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:o}))),n.createElement(_.a,{item:!0,sm:12},r?s.limit_for_all&&s.limit_for_all_unit?n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(er,{label:"Peso Limit for all procedures",value:s.limit_for_all+" "+s.limit_for_all_unit})):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"Peso Limit for all procedures"),n.createElement(ct.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(Xn,{id:"amt_limit",fieldName:"amt_limit",selectName:"amt_limit_unit",fieldValue:void 0!==s.amt_limit?s.amt_limit:0,selectValue:void 0!==s.amt_limit_unit?s.amt_limit_unit:"",inputProps:{min:0},fieldOnChange:l,selectOnChange:l,allowNegative:!1})))))};yr.defaultProps=nr;var Cr=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm,l=e.setSubForm2,s=e.subFormNode,o=tr(),c=Object(n.useState)(!1),m=Object(p.a)(c,2),u=m[0],d=m[1],f={};s&&s.custom_metadata&&(f=s.custom_metadata);var h={premium:"Imputed in premiums",billback:"Bill back with admin fee",rider_fee:"1-time rider fee to be upon enrollment"},g=r;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:a,columns:[{name:"name",title:"Provision"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"availment",title:"Availment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.availment?e.custom_metadata.availment:[]}}],formattedColumns:{maternity_eligible_availees:["eligible_availees"],limit_type:["limit_type"],limit:["limit"],availment:["availment"]},columnExtensions:[{columnName:"eligible_availees",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:g}))),n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{item:!0,sm:12},a?f.availment_per_year?n.createElement(er,{label:"Availment Per Year",value:f.availment_per_year&&void 0!==f.availment_per_year?ot.formatNumber(f.availment_per_year):"--"}):null:n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"availmentPerYear"},"Availment Per Year"),n.createElement(ir.a,{margin:"normal",style:{marginBottom:"20px"}},n.createElement(wt.a,{onChange:function(e){d(!1),i(e)},value:u?"":f.availment_per_year?f.availment_per_year:0,type:"tel",labelWidth:0,name:"availment_per_year",id:"availmentPerYear",onFocus:function(){f.availment_per_year&&0!==f.availment_per_year&&"0"!==f.availment_per_year||d(!0)},onBlur:function(){d(!1)},inputProps:{min:0}})))),n.createElement(_.a,{item:!0,sm:12},a?f.waiting_period_type&&void 0!==f.waiting_period_type?n.createElement(er,{label:"Activation",value:n.createElement("div",null,n.createElement("div",null,"effectivity"===f.waiting_period_type?"Waiting period after effectivity of member":"date_of_hire"===f.waiting_period_type?"Waiting period after date of hire":null),f.waiting_period?n.createElement("div",null,f.waiting_period_unit?ar(f.waiting_period,f.waiting_period_unit):ot.formatNumber(f.waiting_period)):null)}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"waiting_period"},n.createElement(Ft.a,{classes:o,value:"waiting_period_effectivity",control:n.createElement(He.a,{checked:"effectivity"===f.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"effectivity"!==f.waiting_period_type&&(l("waiting_period",""),l("waiting_period_unit",""),l("waiting_period_type","effectivity"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(ir.a,null,n.createElement(Jn,{disableSelect:"effectivity"!==f.waiting_period_type,disableInput:"effectivity"!==f.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===f.waiting_period_type?f.waiting_period:0,selectValue:"effectivity"===f.waiting_period_type?f.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0,allowNegative:!1})))}),n.createElement(Ft.a,{classes:o,value:"waiting_period_hire",control:n.createElement(He.a,{checked:"date_of_hire"===f.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"date_of_hire"!==f.waiting_period_type&&(l("waiting_period",""),l("waiting_period_unit",""),l("waiting_period_type","date_of_hire"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(ir.a,null,n.createElement(Jn,{disableSelect:"date_of_hire"!==f.waiting_period_type,disableInput:"date_of_hire"!==f.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===f.waiting_period_type?f.waiting_period:0,selectValue:"date_of_hire"===f.waiting_period_type?f.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0})))}))))),n.createElement(_.a,{item:!0,sm:12},a?h[f.billing_arangement]?n.createElement(er,{label:"Billing arrangement",value:n.createElement("div",null,n.createElement("div",null,h[f.billing_arangement]),f.billback_fee?n.createElement("div",null,"".concat(f.billback_fee," ").concat("percent"===f.billback_type?"%":f.billback_type)):null,f.rider_fee?n.createElement("div",null,"".concat(f.rider_fee," ").concat(f.rider_fee_unit)):null)}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(Lt.a,{name:"billing_arangement"},n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"premium",control:n.createElement(He.a,{checked:"premium"===f.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),"premium"!==f.billing_arangement&&(l("billback_fee",null),l("billback_type",null),l("rider_fee",null),l("rider_fee_unit",null),l("billing_arangement","premium"))}}),label:h.premium})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{classes:o,value:"billback",control:n.createElement(He.a,{checked:"billback"===f.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),"billback"!==f.billing_arangement&&(l("billback_fee",15),l("billback_type","percent"),l("rider_fee",null),l("rider_fee_unit",null),l("billing_arangement","billback"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},h.billback),n.createElement("div",{style:{display:"billback"===f.billing_arangement?"block":"none"}},n.createElement(or,{id:"billback_fee",variant:"outlined",fieldName:"billback_fee",selectName:"billback_type",fieldValue:"billback"===f.billing_arangement?f.billback_fee:0,selectValue:"billback"===f.billing_arangement?f.billback_type:"percent",fieldOnChange:i,selectOnChange:i,allowNegative:!1})))})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{classes:o,value:"rider_fee",control:n.createElement(He.a,{checked:"rider_fee"===f.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),"rider_fee"!==f.billing_arangement&&(l("billback_fee",null),l("billback_type",null),l("rider_fee",""),l("rider_fee_unit","PHP"),l("billing_arangement","rider_fee"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},h.rider_fee),n.createElement("div",{style:{display:"rider_fee"===f.billing_arangement?"block":"none"}},n.createElement(ct.a,{variant:"body1"},"Fee"),n.createElement(Yn,{id:"fee_field",disabled:"rider_fee"!==f.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===f.billing_arangement?f.rider_fee:0,selectValue:"rider_fee"===f.billing_arangement?f.rider_fee_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},allowNegative:!1})))})))))))};Cr.defaultProps=nr;var Nr=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly;console.log(a);var i=a;if(r){var l=!0;i=a.filter(function(){return!!l&&(l=!1,!0)})}return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,selectionType:"radio",disableContractType:!0,formattedColumns:{member_type:["member_type"]},columnExtensions:[{columnName:"member_type",width:250,wordWrapEnabled:!0}],columns:[{name:"plan",title:"Plan",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"member_type",title:"Member Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.member_type?e.custom_metadata.member_type:[]}}]},e,{rows:i}))))};Nr.defaultProps=nr;var Sr=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"cost",width:150,wordWrapEnabled:!0}],formattedColumns:{php:["cost"],limit:["limit"],limit_type:["limit_type"]},columns:[{name:"provision",title:"Provision",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],disableContractType:!0},e,{rows:i}))))};Sr.defaultProps=nr;var Or=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,formattedColumns:{member_type:["member_type"],plan_type:["plan_type"],php:["peso_limit_amt"]},columns:[{name:"name",title:"Provision"},{name:"member_type",title:"Member Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.member_type?e.custom_metadata.member_type:[]}},{name:"plan_type",title:"Plan Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.plan_type?e.custom_metadata.plan_type:[]}},{name:"peso_limit_amt",title:"Peso Limit Amount",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.peso_limit_amt?e.custom_metadata.peso_limit_amt:""}}],columnExtensions:[{columnName:"peso_limit_amt",width:150,wordWrapEnabled:!0}],disableContractType:!0},e,{rows:i}))))};Or.defaultProps=nr;var Ar=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.setSubForm2,l=e.subFormNode,s=e.setSubForm,o=tr(),c={};l&&l.custom_metadata&&(c=l.custom_metadata);var m={premium:"Imputed in premiums",fixed_rate_rider:"Scheduled fixed rate for the entire rider",fixed_rate_personnel:"Scheduled fixed rate per personnel deployed",soa_rate:"Scheduled SOA based on fixed rate/hour/personnel deployed",soa_actual_cost:"Scheduled SOA based on actual cost of personnel deployed",rider_fee:"1-time rider fee to be upon start of contract"},u=a;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:r,columnExtensions:[{columnName:"name",width:200,wordWrapEnabled:!0},{columnName:"number",width:150,wordWrapEnabled:!0},{columnName:"no_of_days",width:150,wordWrapEnabled:!0},{columnName:"days_deployed",width:200,wordWrapEnabled:!0},{columnName:"time_from",width:150,filteringEnabled:!1,wordWrapEnabled:!0},{columnName:"time_to",width:150,filteringEnabled:!1,wordWrapEnabled:!0}],formattedColumns:{day:["days_deployed"],number:["number","no_of_days"],time:["time_from","time_to"]},columns:[{name:"name",title:"Personnel"},{name:"number",title:"Number",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.number?e.custom_metadata.number:""}},{name:"no_of_days",title:"No. of Days",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.no_of_days?e.custom_metadata.no_of_days:""}},{name:"days_deployed",title:"Days Deployed",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.days_deployed?e.custom_metadata.days_deployed:[]}},{name:"time_from",title:"Time From",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.time_from?e.custom_metadata.time_from:""}},{name:"time_to",title:"Time To",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.time_to?e.custom_metadata.time_to:""}}]},e,{rows:u}))),n.createElement(_.a,{item:!0,sm:12},r?c.billing_arangement?n.createElement(er,{label:"Billing arrangement",value:n.createElement("div",null,n.createElement("div",null,m[c.billing_arangement]),c.billback_fee?n.createElement("div",null,"".concat(c.billback_fee," ").concat("percent"===c.billback_type?"%":c.billback_type)):null,c.rider_fee?n.createElement("div",null,"".concat(c.rider_fee," ").concat(c.rider_fee_unit)):null)}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"billing_arangement"},n.createElement(Ft.a,{value:"premium",control:n.createElement(He.a,{checked:"premium"===c.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),i("billing_arangement","premium"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.premium}),n.createElement(Ft.a,{value:"fixed_rate_rider",control:n.createElement(He.a,{checked:"fixed_rate_rider"===c.billing_arangement,name:"fixed_rate_rider",onClick:function(e){e.stopPropagation(),i("billing_arangement","fixed_rate_rider"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.fixed_rate_rider}),n.createElement(Ft.a,{value:"fixed_rate_personnel",control:n.createElement(He.a,{checked:"fixed_rate_personnel"===c.billing_arangement,name:"fixed_rate_personnel",onClick:function(e){e.stopPropagation(),i("billing_arangement","fixed_rate_personnel"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.fixed_rate_personnel}),n.createElement(Ft.a,{value:"soa_rate",control:n.createElement(He.a,{checked:"soa_rate"===c.billing_arangement,name:"soa_rate",onClick:function(e){e.stopPropagation(),i("billing_arangement","soa_rate"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.soa_rate}),n.createElement(Ft.a,{value:"soa_actual_cost",control:n.createElement(He.a,{checked:"soa_actual_cost"===c.billing_arangement,name:"soa_actual_cost",onClick:function(e){e.stopPropagation(),i("billing_arangement","soa_actual_cost"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.soa_actual_cost}),n.createElement(Ft.a,{classes:o,value:"rider_fee",control:n.createElement(He.a,{checked:"rider_fee"===c.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),i("billing_arangement","rider_fee"),i("rider_fee",0),i("rider_fee_unit","PHP")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0,style:{paddingTop:"8px"}},m.rider_fee),n.createElement("div",{style:{display:"rider_fee"===c.billing_arangement?"block":"none"}},n.createElement(ct.a,{variant:"body1"},"Fee"),n.createElement(Yn,{id:"fee_field",disabled:"rider_fee"!==c.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===c.billing_arangement?c.rider_fee:0,selectValue:"rider_fee"===c.billing_arangement?c.rider_fee_unit:"PHP",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},allowNegative:!1})))}))))))};Ar.defaultProps=nr;var Tr=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.subFormNode,l=e.setSubForm,s=e.setSubForm2,o=tr(),c=Object(n.useState)("inpatient"),m=Object(p.a)(c,2),u=m[0],d=m[1],f={};i&&i.custom_metadata&&(f=i.custom_metadata);var h={imputed_in_premiums:"Imputed in premiums",billback:"Bill back with admin fee",billback_net:"Bill back, net of APE cost with admin fee",rider_fee:"1-time rider fee to be upon enrollment"},g=r;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Type"),n.createElement(Lt.a,{name:"type",value:u,row:!0},n.createElement(Ft.a,{onClick:function(){return d("inpatient")},value:"inpatient",control:n.createElement(He.a,{checked:"inpatient"===f.benefit_type,name:"inpatient",onClick:function(e){e.stopPropagation(),s("benefit_type","inpatient")}}),label:"Inpatient"}),n.createElement(Ft.a,{onClick:function(){return d("outpatient")},value:"outpatient",control:n.createElement(He.a,{checked:"outpatient"===f.benefit_type,name:"outpatient",onClick:function(e){e.stopPropagation(),s("benefit_type","outpatient")}}),label:"Outpatient"}))),n.createElement(_.a,{item:!0,sm:12},n.createElement(Hn,Object.assign({viewOnly:a,columnExtensions:[{columnName:"benefit",width:200,wordWrapEnabled:!0},{columnName:"eligibility",width:150},{columnName:"no_of_members",width:200},{columnName:"number",width:150},{columnName:"peso_limit",width:150}],formattedColumns:{number:["number"],php:["peso_limit"],eligibility:["eligibility"],no_of_members:["no_of_members"]},columns:[{name:"benefit",title:"Benefit",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"eligibility",title:"Eligibility",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligibility?e.custom_metadata.eligibility:[]}},{name:"no_of_members",title:"No. of Members",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.no_of_members?e.custom_metadata.no_of_members:0}},{name:"number",title:"Number",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.number?e.custom_metadata.number:0}},{name:"peso_limit",title:"Peso Limit",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.peso_limit?e.custom_metadata.peso_limit:""}}]},e,{rows:g}))),n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{item:!0,sm:12},a?f.waiting_period_type&&void 0!==f.waiting_period_type?n.createElement(er,{label:"Activation",value:n.createElement("div",null,n.createElement("div",null,"effectivity"===f.waiting_period_type?"Waiting period after effectivity of member":"date_of_hire"===f.waiting_period_type?"Waiting period after date of hire":null),f.waiting_period?n.createElement("div",null,f.waiting_period_unit?ar(f.waiting_period,f.waiting_period_unit):ot.formatNumber(f.waiting_period)):null)}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"waiting_period"},n.createElement(Ft.a,{classes:o,value:"waiting_period_effectivity",control:n.createElement(He.a,{checked:"effectivity"===f.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"effectivity"!==f.waiting_period_type&&(s("waiting_period",""),s("waiting_period_unit",""),s("waiting_period_type","effectivity"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(ir.a,null,n.createElement(Jn,{disableSelect:"effectivity"!==f.waiting_period_type,disableInput:"effectivity"!==f.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===f.waiting_period_type?f.waiting_period:0,selectValue:"effectivity"===f.waiting_period_type?f.waiting_period_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},allowNegative:!1,noDefault:!0})))}),n.createElement(Ft.a,{classes:o,value:"waiting_period_hire",control:n.createElement(He.a,{checked:"date_of_hire"===f.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"date_of_hire"!==f.waiting_period_type&&(s("waiting_period",""),s("waiting_period_unit",""),s("waiting_period_type","date_of_hire"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(ir.a,null,n.createElement(Jn,{disableSelect:"date_of_hire"!==f.waiting_period_type,disableInput:"date_of_hire"!==f.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===f.waiting_period_type?f.waiting_period:0,selectValue:"date_of_hire"===f.waiting_period_type?f.waiting_period_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},allowNegative:!1,noDefault:!0})))}))))),a?h[f.billing_arangement]?n.createElement(er,{label:"Billing arrangement",value:n.createElement("div",null,n.createElement("div",null,h[f.billing_arangement]),f.billback_fee?n.createElement("div",null,"".concat(f.billback_fee," ").concat("percent"===f.billback_type?"%":f.billback_type)):null,f.billback_net_fee?n.createElement("div",null,"".concat(f.billback_net_fee," ").concat("percent"===f.billback_net_type?"%":f.billback_net_type)):null,f.rider_fee?n.createElement("div",null,"".concat(f.rider_fee," ").concat(f.rider_fee_unit)):null)}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(Lt.a,{name:"billing_arangement"},n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"imputed_in_premiums",control:n.createElement(He.a,{checked:"imputed_in_premiums"===f.billing_arangement,name:"imputed_in_premiums",onClick:function(e){e.stopPropagation(),"imputed_in_premiums"!==f.billing_arangement&&(s("billback_fee",null),s("billback_type",null),s("rider_fee",null),s("rider_fee_unit",null),s("billing_arangement","imputed_in_premiums"))}}),label:h.imputed_in_premiums})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"billback",control:n.createElement(He.a,{checked:"billback"===f.billing_arangement,name:"billback",onClick:function(e){e.stopPropagation(),"billback"!==f.billing_arangement&&(s("billback_fee",15),s("billback_type","percent"),s("rider_fee",null),s("rider_fee_unit",null),s("billback_net_fee",null),s("billback_net_type",null),s("billing_arangement","billback"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},h.billback),n.createElement("div",{style:{display:"billback"===f.billing_arangement?"block":"none"}},n.createElement(or,{id:"billback_fee",variant:"outlined",fieldName:"billback_fee",selectName:"billback_type",fieldValue:"billback"===f.billing_arangement?f.billback_fee:0,selectValue:"billback"===f.billing_arangement?f.billback_type:"percent",fieldOnChange:l,selectOnChange:l,allowNegative:!1})))})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"billback_net",control:n.createElement(He.a,{checked:"billback_net"===f.billing_arangement,name:"billback_net",onClick:function(e){e.stopPropagation(),"billback_net"!==f.billing_arangement&&(s("billback_fee",null),s("billback_type",null),s("rider_fee",null),s("rider_fee_unit",null),s("billback_net_fee",""),s("billback_net_type","percent"),s("billing_arangement","billback_net"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},h.billback_net),n.createElement("div",{style:{display:"billback_net"===f.billing_arangement?"block":"none"}},n.createElement(or,{id:"billback_fee",variant:"outlined",fieldName:"billback_net_fee",selectName:"billback_net_type",fieldValue:"billback_net"===f.billing_arangement?f.billback_net_fee:0,selectValue:"billback_net"===f.billing_arangement?f.billback_net_type:"percent",fieldOnChange:l,selectOnChange:l,allowNegative:!1})))})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{classes:o,value:"rider_fee",control:n.createElement(He.a,{checked:"rider_fee"===f.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),"rider_fee"!==f.billing_arangement&&(s("billback_fee",null),s("billback_type",null),s("rider_fee",""),s("rider_fee_unit","PHP"),s("billback_net_fee",null),s("billback_net_type",null),s("billing_arangement","rider_fee"))}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},h.rider_fee),n.createElement("div",{style:{display:"rider_fee"===f.billing_arangement?"block":"none"}},n.createElement(ct.a,{variant:"body1"},"Fee"),n.createElement(Yn,{id:"fee_field",disabled:"rider_fee"!==f.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===f.billing_arangement?f.rider_fee:0,selectValue:"rider_fee"===f.billing_arangement?f.rider_fee_unit:"PHP",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},allowNegative:!1})))}))))))};Tr.defaultProps=nr;var Ir=function(e){var t=e.rows,a=e.subFormNode,r="";a&&a.code&&(r=a.code),console.log("rows",t);return"RB"===r?n.createElement(ur,Object.assign({formHeader:null},e)):"APE"===r?n.createElement(pr,Object.assign({formHeader:null},e)):"PPE"===r?n.createElement(fr,Object.assign({formHeader:null},e)):"IP"===r?n.createElement(rr,Object.assign({formHeader:null},e)):"OP"===r?n.createElement(hr,Object.assign({formHeader:null},e)):"DNT"===r?n.createElement(vr,Object.assign({formHeader:null},e)):"EM"===r?n.createElement(gr,Object.assign({formHeader:null},e)):"OM"===r?n.createElement(_r,Object.assign({formHeader:null},e)):"SD"===r?n.createElement(yr,Object.assign({formHeader:null},e)):"MT"===r?n.createElement(Cr,Object.assign({formHeader:null},e)):"SH"===r?n.createElement(Nr,Object.assign({formHeader:null},e)):"PV"===r?n.createElement(Sr,Object.assign({formHeader:null},e)):"ADD"===r?n.createElement(Or,Object.assign({formHeader:null},e)):"CC"===r?n.createElement(Ar,Object.assign({formHeader:null},e)):"EC"===r?n.createElement(Tr,Object.assign({formHeader:null},e)):t.length>0?n.createElement(dr,Object.assign({formHeader:null},e)):null};Ir.defaultProps={subFormNode:{},rows:[],viewOnly:!1,filters:null,setFilters:null};a(745);var kr=Object(mt.a)({container:{},leftSection:{borderRight:"#3C394A22 solid 1px"}}),Rr=function(e){var t=kr(),a=Object(n.useState)(null),i=Object(p.a)(a,2),l=i[0],s=i[1],o=Object(n.useState)(null),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)([]),f=Object(p.a)(d,2),h=f[0],g=f[1],E=Object(n.useState)([]),b=Object(p.a)(E,2),v=b[0],y=b[1],C=Object(n.useState)(null),N=Object(p.a)(C,2),S=N[0],O=N[1],A=Object(n.useState)([]),T=Object(p.a)(A,2),I=T[0],k=T[1];console.log("TEST TEST TEST",I),Object(n.useEffect)(function(){e.memberBenefits&&e.memberBenefits.length>0&&R()},[e.memberBenefits]),Object(n.useEffect)(function(){D()},[h,S]),Object(n.useEffect)(function(){w()},[S]);var R=function(){var t=null,a=null,n=Object(Ma.filter)(e.memberBenefits,function(e){return Object(Ma.toLower)(e.name)===Object(Ma.toLower)("Room and board")&&(t=e),3===e.level&&"PlanType"===e.type&&(a=e),4===e.level}),r=Object(Ma.sortBy)(n,function(e){return function(e){switch(Object(Ma.toUpper)(e)){case"RB":return 1;case"CV":return 2;case"RI":return 3;default:return 999}}(e.code)});g(r),s(t),u(a),S||O(t)},D=function(){var t=Object(Ma.map)(h,function(t){var a=function(t){return l&&Object(Ma.toLower)(l.name)===Object(Ma.toLower)(t.name)?[]:Object(Ma.filter)(e.memberBenefits,function(e){var a=e.tree_id,n=t.tree_id;return null!==m&&(a=Object(Ma.replace)(e.tree_id,"BASE",m.code),n=Object(Ma.replace)(t.tree_id,"BASE",m.code)),5===e.level&&Object(Ma.startsWith)(a,n)})}(t);return function(e,t){var a=l&&Object(Ma.toLower)(l.name)===Object(Ma.toLower)(e.name),n=S&&S.tree_id===e.tree_id;return r.a.createElement("div",{key:"left-item-".concat(e.tree_id),className:"sub-section"},r.a.createElement("div",{className:Object(st.default)({"light-text":!a,"header-1":!a,"plan-package-selected":n,"plan-package-clickable":a}),onClick:function(){a&&O(e)}},e.name),r.a.createElement(en.a,{className:Object(st.default)("side-menu-list")},t))}(t,Object(Ma.map)(a,function(e){var t=S&&S.tree_id===e.tree_id;return r.a.createElement(tn.a,{key:"left-list-item-".concat(e.tree_id)},r.a.createElement(an.a,{className:Object(st.default)(t?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){t||O(e)}},e.name))}))});y(t)},w=function(){if(e.memberBenefits){if(l&&S&&Object(Ma.startsWith)(l.tree_id,S.tree_id))return void P();var t=Object(Ma.filter)(e.memberBenefits,function(e){var t=e.tree_id,a=S.tree_id;return null!==m&&(t=Object(Ma.replace)(e.tree_id,"BASE",m.code),a=Object(Ma.replace)(S.tree_id,"BASE",m.code)),6===e.level&&S&&Object(Ma.startsWith)(t,a)}),a=Object(Ma.filter)(e.memberBenefits,function(e){var t=e.tree_id,a=S.tree_id;return null!==m&&(t=Object(Ma.replace)(e.tree_id,"BASE",m.code),a=Object(Ma.replace)(S.tree_id,"BASE",m.code)),7===e.level&&S&&Object(Ma.startsWith)(t,a)}),n=x(t,a);k(n)}},P=function(){var t=Object(Ma.filter)(e.memberBenefits,function(e){var t=e.tree_id,a=l.tree_id;return null!==m&&(t=Object(Ma.replace)(e.tree_id,"BASE",m.code),a=Object(Ma.replace)(l.tree_id,"BASE",m.code)),5===e.level&&Object(Ma.startsWith)(t,a)});if(t){var a=[];Object(Ma.forEach)(t,function(e){var t=j(e,null);a.push.apply(a,Object(ue.a)(t))}),k(a)}},x=function(e,t){return Object(Ma.reduce)(e,function(e,a){if(a.children&&a.children.length>0)Object(Ma.forEach)(a.children,function(n){var r=Object(Ma.find)(t,function(e){return n===e._id});if(r){var i=j(a,r);e.push.apply(e,Object(ue.a)(i))}else{var l=j(a,null);e.push.apply(e,Object(ue.a)(l))}});else{var n=j(a,null);e.push.apply(e,Object(ue.a)(n))}return e},[])},j=function(e,t){var a=[],n="";return S&&S.code&&(n=S.code),t?a.push({parent_name:e.name,name:t?t.name:"----",custom_metadata:t.custom_metadata?t.custom_metadata:[],limits:t.limits?t.limits:[]}):["RB","EM","DNT","CC","EC","PV","SH","ADD","SD","OM"].includes(n)&&a.push({name:e.name,custom_metadata:e.custom_metadata?e.custom_metadata:[],limits:e.limits?e.limits:[]}),a};return r.a.createElement("div",{className:Object(st.default)("BenefitsTable")},r.a.createElement(_.a,{container:!0,className:t.container,spacing:4,direction:"row",justify:"flex-start",alignItems:"stretch"},r.a.createElement(_.a,{item:!0,xs:2,className:Object(st.default)(t.leftSection),style:{paddingTop:16}},r.a.createElement(ct.a,{className:Object(st.default)("contractnum-label")},"Contract Id"),r.a.createElement(ct.a,{className:Object(st.default)("contractnum-value")},e.contractNum),v),r.a.createElement(_.a,{item:!0,xs:10},r.a.createElement(Ir,{subFormNode:S,rows:I,viewOnly:!0}))))},Dr=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)([]),s=Object(p.a)(l,2),o=s[0],c=s[1];return Object(n.useEffect)(function(){console.log("memberId: ",e.memberId),i(!0),T.a.get("customer-care/members/".concat(e.memberId),function(e){e&&void 0===e.error?T.a.get("members/".concat(e._id,"/contracts/").concat(e.latest_contract._id,"/benefits"),function(e){if(e&&void 0===e.error){var t=e.sort(function(e,t){if(e.plan_type_rank&&t.plan_type_rank){if(e.plan_type_rank<t.plan_type_rank)return-1;if(e.plan_type_rank>t.plan_type_rank)return 1}return e.plan_type_rank?-1:t.plan_type_rank?1:e.sort_index>t.sort_index?-1:e.sort_index<t.sort_index?1:e.name>t.name?1:e.name<t.name?-1:0});i(!1),console.log("benefits: ",t),c(e)}else i(!1),console.log("get customer care contract error ",e.error)},function(e){i(!1),console.log("get customer care contract error ",e)}):(i(!1),console.log("get customer care data error ",e.error))},function(e){i(!1),console.log("get customer care data error ",e)})},[]),n.createElement("div",{className:"section"},r?n.createElement(I.a,{height:"10rem"}):n.createElement("div",null,n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Member Benefits"),n.createElement(_.a,{container:!0,className:"sub-section",spacing:5,style:{paddingRight:24,paddingLeft:24,marginTop:24}},n.createElement(Rr,{contractNum:"-",memberBenefits:o})),n.createElement("div",{className:"section"})))},wr=a(765),Pr=a(446),xr=a.n(Pr),jr=a(150),Fr=function(e){var t=e.label,a=e.subtitle,r=Object(k.a)(e,["label","subtitle"]);return n.createElement(Pe.a,Object.assign({label:n.createElement("div",null,n.createElement(ct.a,{className:"tab_text",variant:"h6",style:{fontSize:"14px",fontWeight:e.isSelected?"bold":"normal",color:e.isSelected?"#3AB77D":"#3C394A"}},t,n.createElement(jr.a,{size:"small"}),e.viewOnly||"BASE"===e.value?null:n.createElement("span",{className:"edit_btn",style:{position:"relative",top:0,right:0},onClick:function(){e.onEdit(e.benefit_id,e.name)}},n.createElement(pe.a,{className:"fa-sm",icon:N.z,style:{color:"#3AB77D"}}))),a?n.createElement(ct.a,{className:"tab_caption",variant:"caption",style:{fontSize:"11px"}},a):null,n.createElement("br",null),void 0!==e.data&&void 0!==e.data.requested_rate&&0!==e.data.requested_rate?n.createElement(ct.a,{className:"tab_caption",variant:"caption",style:{fontSize:"11px"}},e.data.requested_rate+" PHP"):null)},r))},Lr=function(e){var t=e.selectedPlanType,a=e.viewOnly,r=e.planTypeList,i=e.setSelectedPlanType,l=e.setModalOpen,s=e.showEditPlanType;return n.createElement(n.Fragment,null,r.length>0?n.createElement(we.a,{value:t,style:{marginTop:8},variant:"scrollable",scrollButtons:"auto"},r.map(function(e){var r="benefits";return 1===e.count&&(r="benefit"),e.name&&e.code&&e.included?n.createElement(Fr,{isSelected:e.code===t,value:e.code,label:e.name,benefit_id:e.id,name:e.name,data:e.custom_metadata?e.custom_metadata:void 0,subtitle:"BASE"===e.code?"".concat(e.count," ").concat(r):"+".concat(e.count," ").concat(r),onClick:function(){return i(e.code)},onEdit:s,viewOnly:a}):null}),a?null:n.createElement("div",{style:{display:"inline-flex",alignItems:"center"}},n.createElement(Ie.a,{variant:"contained",color:"primary",onClick:l},n.createElement(xr.a,null),"Add Plan Type"))):null)},Mr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={value:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.choices.length!=e.choices.length||this.props.value.value!==e.value.value}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"detailed-dropdown"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("div",{className:"autocomplete"},n.createElement("div",{className:this.props.error?"detail-error":"detail"},this.props.value.value?this.props.value.value:null),n.createElement(w.a,{className:"actual-dropdown",classNamePrefix:this.props.error?"actual-dropdown-error":"actual-dropdown",isDisabled:!!this.props.disabled&&this.props.disabled,value:this.props.value,options:this.props.choices,onInputChange:function(t,a){e.setState({value:t})},noOptionsMessage:function(){return 0===e.props.choices.length?"Loading...":e.state.value.length<3?"Enter at least 3 characters to search":"No options"},filterOption:function(t,a){var n=0===a.length,r=e.props.choices.length<=20,i=a.length<3,l=t.label.toLowerCase().includes(a.toLowerCase());return r?!!n||l:!i&&l},onChange:function(t){e.props.onChange(t)}})))}}]),t}(n.Component),Ur=[{label:"Amount Limit",value:"Amount Limit",type:"Amount",limit_unit:"PHP"},{label:"MBL Limit",value:"MBL Limit",type:"MBL",limit_unit:"PHP"},{label:"ABL Limit",value:"ABL Limit",type:"ABL",limit_unit:"PHP"},{label:"PEC Limit",value:"PEC Limit",type:"PEC",limit_unit:"PHP"},{label:"Max Session",value:"Max Session",type:"Sessions",limit_unit:"Sessions"},{label:"Percent of MBL",value:"Percent of MBL",type:"MBL",limit_unit:"Percentage"},{label:"Percent of ABL",value:"Percent of ABL",type:"ABL",limit_unit:"Percentage"},{label:"No. of Visits",value:"No. of Visits",type:"Visits",limit_unit:"Visits"},{label:"Dreaded Disease Limit",value:"Dreaded Disease Limit",type:"Disease",limit_unit:"PHP"}],Br=[{label:"Amount Limit",value:"amt_limit"},{label:"Benefit Limit",value:"benefit_limit"},{label:"Max Amount",value:"max_amount"},{label:"Percent of MBL",value:"percent_mbl"},{label:"Percent of ABL",value:"percent_abl"},{label:"MBL Limit",value:"mbl_limit"},{label:"ABL Limit",value:"abl_limit"},{label:"PEC Limit",value:"pec_limit"},{label:"Dreaded Disease Limit",value:"disease_limit"}],Hr=[{label:"ABL",value:"abl"},{label:"MBL",value:"mbl"}],Vr=[{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}],Gr=[{label:"Reimbursement",value:"reimbursement"},{label:"Outright",value:"outright"},{label:"Both",value:"both"}],qr=[{label:"Principals",value:"principals"},{label:"Dependents",value:"dependents"},{label:"Male",value:"male"},{label:"Female",value:"female"}],Wr=[{label:"All female employees",value:"all_female_employees"},{label:"All married female employees",value:"all_married_female_employees"},{label:"All female dependents",value:"all_female_dependents"},{label:"All female dependents aged 18 and above",value:"all_female_dependents_aged_18_above"},{label:"Spouses of male employees (Dependent Wife)",value:"spouses_male_employees"},{label:"All female members (Principals and Dependents) aged 18 and above",value:"all_female_members_aged_18_above"},{label:"All female members (Principals and Dependents)",value:"all_female_members"}],Yr=[{label:"None",value:0},{label:"0-29",value:1},{label:"30-60",value:2}],zr=[{id:0,label:"years",value:"years"},{id:1,label:"days",value:"days"}],Kr=[{label:"Required",value:!0},{label:"Optional",value:!1}],Xr=[{label:"Employees",value:"employees"},{label:"Company-Paid Dependents",value:"company_dependents"},{label:"Employee-Paid Dependents",value:"employee_dependents"}],Jr=[{label:"VIP",value:"vip"},{label:"Manager",value:"mgr"},{label:"Rank and File",value:"raf"}],Zr=[{label:"All employees",value:"all_employees"},{label:"Aged 50-70",value:"aged"},{label:"Female employees",value:"female_employees"}],Qr=[{label:"Max Number",value:"max_number"},{label:"Named Members",value:"named_members"}],$r=[{label:"Mon",value:"Monday"},{label:"Tue",value:"Tuesday"},{label:"Wed",value:"Wednesday"},{label:"Thurs",value:"Thursday"},{label:"Fri",value:"Friday"},{label:"Sat",value:"Saturday"},{label:"Sun",value:"Sunday"}],ei=[{id:1,value:"immediate",label:"Immediate"},{id:2,value:"extended",label:"Extended"}],ti=[{id:0,value:"0",label:"\u2014\u2014"},{id:1,value:"1",label:"1"},{id:2,value:"2",label:"2"},{id:3,value:"3",label:"3"},{id:4,value:"4",label:"4"},{id:5,value:"5",label:"5"},{id:6,value:"6",label:"6"},{id:7,value:"7",label:"7"},{id:8,value:"8",label:"8"},{id:9,value:"9",label:"9"},{id:10,value:"10",label:"10"}],ai=[{id:1,value:"effectivity_date",label:"effectivity of principal"},{id:2,value:"hire_date",label:"hire of principal"}],ni=[{id:1,value:"hire_date",label:"hire date of principal"},{id:2,value:"endorsement_date",label:"endorsement date"}],ri=[{id:1,value:"bill_back",label:"Bill Back"},{id:2,value:"charge_to_patient",label:"Charge to Patient"},{id:3,value:"included_in_premiums",label:"Included in Premiums"}],ii=[{id:1,label:"Mother",value:"MOTHER"},{id:2,label:"Father",value:"FATHER"},{id:3,label:"Brother",value:"BROTHER"},{id:4,label:"Sister",value:"SISTER"},{id:5,label:"Husband",value:"HUSBAND"},{id:6,label:"Wife",value:"WIFE"},{id:7,label:"Son",value:"SON"},{id:8,label:"Daughter",value:"DAUGTHER"},{id:9,label:"Grandmother",value:"GRANDMOTHER"},{id:10,label:"Grandfather",value:"GRANDFATHER"},{id:11,label:"Grandson",value:"GRANDSON"},{id:12,label:"Granddaughter",value:"GRANDDAUGHTER"},{id:13,label:"Common Law Partner",value:"CLP"},{id:14,label:"Same Sex Partner",value:"SSP"},{id:15,label:"Auntie",value:"AUNTIE"},{id:16,label:"Uncle",value:"UNCLE"},{id:17,label:"Niece",value:"NIECE"},{id:18,label:"Nephew",value:"NEPHEW"},{id:19,label:"Cousin",value:"COUSIN"},{id:20,label:"Household Help",value:"HOUSEHOLD"}];function li(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function si(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?li(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):li(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var oi=Object(kt.a)({select:{backgroundColor:"transparent"},disabled:{color:"#272E4C"}}),ci=Object(kt.a)({select:{backgroundColor:"transparent"},disabled:{color:"#272E4C"},selectMenu:{whiteSpace:"normal",textOverflow:"clip"}}),mi=Object(kt.a)({root:{backgroundColor:"transparent"},disabled:{color:"#272E4C"}}),ui=Object(kt.a)({root:{"& > div":{backgroundColor:"transparent"},"& .Mui-disabled":{color:"#272E4C"}}}),di=function(e){if(""===(e=e&&e.trim()?e.trim().replace(/,/g,""):""))return e;var t="",a=e,n="",r=e.indexOf(".");if(r>-1&&(n=e.substring(r),a=e.substring(0,r)),a.length>3){for(var i=a;i.length>3;){t=","+i.slice(-3)+t,i=i.substring(0,i.length-3)}t=i+t}else t=a;return t+n},pi=function(e){var t=e.items,a=e.disabled,r=e.value,i=Object(k.a)(e,["items","disabled","value"]),l=oi();if(a){if(null!==r){var s=t.find(function(e){return e.value===r});return s?s.label:"\u2014\u2014"}return"\u2014\u2014"}return n.createElement(Rt.a,Object.assign({classes:l,style:{width:"100%",backgroundColor:"transparent"},value:r,renderValue:function(e){if(null!==e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},i),t.map(function(e,t){return n.createElement(Dt.a,{key:t,value:e.value},e.label)}))},fi=function(e){var t=e.id,a=e.text,r=e.value,i=e.items,l=e.disabled,s=e.isMaternity,o=void 0!==s&&s,c=Object(k.a)(e,["id","text","value","items","disabled","isMaternity"]),m=oi();if(o&&(m=ci()),l){if(void 0!==a){var u=i.find(function(e){return e.value===a});return u?u.label:"\u2014\u2014"}var d=[];return r.map(function(e){var t=i.find(function(t){return t.value===e});d.push(t.label)}),d.join(", ")}return n.createElement(Rt.a,Object.assign({multiple:!0,input:n.createElement(R.a,{id:t}),value:r,renderValue:function(e){if(void 0!==a){var t=i.find(function(e){return e.value===a});return t?t.label:"\u2014\u2014"}var n=[];return e.map(function(e){var t=i.find(function(t){return t.value===e});n.push(t.label)}),n.join(", ")},style:{width:"100%",backgroundColor:"transparent"},classes:m},c),i.map(function(e,t){return n.createElement(Dt.a,{key:t,value:e.value},n.createElement(oe.a,{checked:r.indexOf(e.value)>-1}),n.createElement(an.a,{primary:e.label}))}))},hi=function(e){var t=e.row,a=e.style,r=e.selected,i=e.onToggle,l=e.classes,s=Object(k.a)(e,["row","style","selected","onToggle","classes"]),o=void 0!==t.disabled&&t.disabled;return n.createElement(j.a,Object.assign({padding:"checkbox",style:a,classes:l},s),n.createElement(oe.a,{icon:n.createElement(pe.a,{icon:rn.a}),checkedIcon:n.createElement(pe.a,{icon:N.j}),classes:l,checked:!!o||r,onClick:function(e){e.stopPropagation(),i()},disabled:o}))},gi=function(e){e.style;var t=e.someSelected,a=e.allSelected,r=e.onToggle,i=e.classes,l=Object(k.a)(e,["style","someSelected","allSelected","onToggle","classes"]);return n.createElement(j.a,Object.assign({padding:"checkbox",classes:i},l),n.createElement(oe.a,{icon:n.createElement(pe.a,{icon:rn.a}),checkedIcon:a?n.createElement(pe.a,{icon:N.j}):n.createElement(pe.a,{icon:N.w}),classes:i,checked:t||a,onClick:function(e){e.stopPropagation(),r()}}))},Ei=function(e){var t=e.children,a=(e.tableRow,e.tableColumn,e.column),r=(e.classes,Object(k.a)(e,["children","tableRow","tableColumn","column","classes"]));return n.createElement(Tt.e.Cell,Object.assign({},r,{column:a}),n.createElement(ct.a,{variant:"body2",align:"center"},t))},bi=function(e){var t=e.value,a=e.onValueChange;return n.createElement(wt.a,{value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:n.createElement(Pt.a,{position:"start"},n.createElement(pe.a,{icon:N.G}))})},vi=function(e){var t=e.children;return n.createElement(xt.a,{disableGutters:!0,children:t})},_i=function(e){var t=e.children;return n.createElement(xt.a,{disableGutters:!0,style:{justifyContent:"space-between"}},t,n.createElement(C.a,{style:{color:"#3AB77D",width:"130px",marginLeft:"10px",textAlign:"right"}},n.createElement(pe.a,{icon:N.B})," Add a Benefit"))},yi=function(e){return"asc"===e.direction?n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.J}):n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.I})},Ci=function(e){var t=e.onSort,a=e.children,r=e.direction;return n.createElement(jt.a,{hideSortIcon:!0,onClick:t},a,r?n.createElement(yi,{direction:r}):n.createElement(pe.a,{style:{marginLeft:"10px"},icon:N.H}))},Ni=function(e){var t=e.rows,a=e.columns,r=e.formattedColumns,i=e.disablePaging,l=e.disableSearch,s=e.disableSelect,o=e.disableSort,c=e.disableFilter,m=e.toolbarType,u=e.selectionType,d=e.columnExtensions,f=e.columnBands,h=e.disableMargin,g=e.dropdownHeader,E=e.setRowSelection,b=e.setRowMetadata,v=e.setRowMetadata2,_=e.setRowLimits,y=e.viewOnly,S=e.dropdownData,O=e.selectedOption,A=e.setSelectedOption,T=e.setAddDropdown,I=Object(n.useState)(0),D=Object(p.a)(I,2),w=D[0],P=D[1],x=Object(n.useState)(5),F=Object(p.a)(x,2),L=F[0],M=F[1],U=Object(n.useState)([5,10,15,0]),B=Object(p.a)(U,1)[0],H=Object(n.useState)(0),V=Object(p.a)(H,2),G=V[0],q=V[1],W=Object(n.useState)(!1),Y=Object(p.a)(W,2),z=Y[0],K=Y[1],X=Object(n.useRef)(null),J=!1,Z=!0,Q=vi,$=hi,ee=function(e){var t=e.style,a=e.classes,r=e.children,i=Object(k.a)(e,["style","classes","children"]);return n.createElement(j.a,Object.assign({style:si({},t,{backgroundColor:"#DDDFE3"}),classes:a},i,{ref:X}),r)};m&&"add"===m&&(Q=_i),u&&("radio"!==u&&"rab"!==u||($=function(e){var t=e.style,a=e.selected,r=e.onToggle,i=e.classes,l=Object(k.a)(e,["style","selected","onToggle","classes"]);return n.createElement(j.a,Object.assign({padding:"checkbox",style:t,classes:i},l),n.createElement(He.a,{classes:i,checked:a,onClick:function(e){e.stopPropagation(),r()}}))},J=!0,Z=!1));var te=t.reduce(function(e,t,a){return J?t.included&&0===e.length&&e.push(a):t.included&&e.push(a),e},[]),ae=[],ne=[];S&&S.length>0&&(ne=S.map(function(e){return{value:e.facility_id,label:e.name}}));var re=function(e){var t,a=e.value,r=e.column,i=e.row,l=Object(n.useState)(!1),s=Object(p.a)(l,2),o=s[0],c=s[1],m=Object(n.useState)(""),u=Object(p.a)(m,2),d=u[0],f=u[1];t="payment"===r.name?new RegExp(/^\d+(?:\.\d{0,2})?$/):new RegExp(/[\D,]/);var h=ui();return y?n.createElement("span",null,a):n.createElement(Mt.a,{onChange:function(e){console.log("check"),0===e.target.value.length&&(e.target.value="0"),"payment"===r.name?t.test(e.target.value)&&(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&"."!==e.target.value.substring(1,2)&&(e.target.value=e.target.value.substring(1)),f(e.target.value)):t.test(e.target.value)||(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&(e.target.value=e.target.value.substring(1)),f(e.target.value))},onFocus:function(){f(a),c(!0)},onBlur:function(e){b(e,i.id),c(!1)},name:r.name,value:o?d:a,type:"tel",classes:h,disabled:y,inputProps:{min:"0"}})},ie=function(e){var t=e.value,a=e.column,r=e.row,i=qr;return n.createElement(fi,{onChange:function(e){return b(e,r.id)},name:a.name,items:i,id:"eligble_availees_checkbox",value:t,disabled:y})},le=function(e){var t=e.value,a=e.column,r=e.row,i=Yr;return n.createElement(pi,{onChange:function(e){return b(e,r.id)},name:a.name,items:i,id:"limit_type",value:t,disabled:y})},se=function(e){var t=e.value,a=e.column,r=e.row,i=Kr;return n.createElement(pi,{onChange:function(e){return b(e,r.id)},name:a.name,items:i,id:"required",value:t,disabled:y})},ce=function(e){var t=e.column,a=e.row,r=e.value;return n.createElement(n.Fragment,null,r.map(function(e,r){return n.createElement(me,{key:r,index:r,row:a,column:t,viewOnly:y,value:e})}))},me=function(e){var t,a=e.index,r=e.row,i=e.column,l=e.viewOnly,s=e.value,o=mi(),c=Object(n.useState)(!1),m=Object(p.a)(c,2),u=m[0],d=m[1],f=Object(n.useState)(""),h=Object(p.a)(f,2),g=h[0],E=h[1],b="";"PHP"===s.limit_unit&&(b="PHP",t=new RegExp(/^\d+(?:\.\d{0,2})?$/)),"Percentage"===s.limit_unit&&(b="%",t=new RegExp(/\D/),["ABL","MBL"].includes(s.type)&&(b="% "+s.type)),"Sessions"===s.limit_unit&&(b=1===s[i.name]?"session":"sessions",t=new RegExp(/\D/)),"Visits"===s.limit_unit&&(t=new RegExp(/\D/),b=1===s[i.name]?"visit":"visits");var v=s&&s[i.name]?s[i.name].toString():"";return l?n.createElement(n.Fragment,null,di(v)," ",v?b:""," ",n.createElement("br",null)):n.createElement(n.Fragment,null,n.createElement(R.a,{type:"text",disabled:l,onChange:function(e){e.target.value=e.target.value.replace(/,/g,""),console.log("check value: "+e.target.value),0===e.target.value.length&&(e.target.value="0"),"PHP"===s.limit_unit?t.test(e.target.value)&&(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&"."!==e.target.value.substring(1,2)&&(e.target.value=e.target.value.substring(1)),E(e.target.value)):t.test(e.target.value)||(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&(e.target.value=e.target.value.substring(1)),E(e.target.value))},onFocus:function(){E(di(v)),d(!0)},onBlur:function(e){e.target.value=e.target.value.replace(/,/g,""),console.log(e.target.value),_(e,r.id,a),d(!1)},name:i.name,value:di(u?g:v),inputProps:{style:{textAlign:"right"}},classes:o,endAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"end"},n.createElement(ct.a,{noWrap:!0},b))}),n.createElement("br",null))},ue=function(e){var t=e.column,a=e.row,r=e.value,i=Ur,l=r.reduce(function(e,t){var a=i.find(function(e){return e.type===t.type&&e.limit_unit===t.limit_unit});return a&&e.push(a.value),e},[]);return n.createElement(n.Fragment,null,l.length>0?l.map(function(e,r){return n.createElement(n.Fragment,null,n.createElement(fi,{key:r,onChange:function(e){return _(e,a.id)},value:l,name:t.name,items:i,id:"limit_type",text:e,disabled:y})," ",n.createElement("br",null))}):n.createElement(fi,{onChange:function(e){return _(e,a.id)},value:[],name:t.name,items:i,id:"limit_type",text:"",disabled:y}))},de=function(e){var t=e.value,a=Br;return n.createElement(n.Fragment,null,t.map(function(e,r){return n.createElement(n.Fragment,null,n.createElement(fi,{key:r,items:a,id:"limit_type",text:e,value:t,disabled:y})," ",n.createElement("br",null))}))},fe=function(e){var t=e.column,a=e.row,r=e.value,i=mi(),l=Object(n.useState)(!1),s=Object(p.a)(l,2),o=s[0],c=s[1],m=Object(n.useState)(""),u=Object(p.a)(m,2),d=u[0],f=u[1],h=new RegExp(/^\d+(?:\.\d{0,2})?$/);return y?n.createElement("span",null,r," ",r?"PHP":null):n.createElement(R.a,{onChange:function(e){if(e.target.min){var t=e.target.min;e.target.value=e.target.value.trim().replace(/,/g,""),0===e.target.value.length&&(e.target.value="0"),0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&"."!==e.target.value.substring(1,2)&&(e.target.value=e.target.value.substring(1)),e.target.value>=t&&h.test(e.target.value)&&f(di(e.target.value?e.target.value.toString():""))}},onFocus:function(e){f(e.target.value),c(!0)},onBlur:function(e){e.target.value=e.target.value.trim().replace(/,/g,""),b(e,a.id),c(!1)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},disabled:y,value:di(o?d:r?r.toString():""),type:"text",name:t.name,classes:i,inputProps:{style:{textAlign:"right"},min:0},endAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"end"},n.createElement(ct.a,{noWrap:!0},"PHP"))})},he=function(e){var t=e.value,a=ui();return y?n.createElement(n.Fragment,null," ",t," "):n.createElement(Mt.a,{disabled:y,value:t,classes:a})},ge=function(e){var t=e.value;return n.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},Ee=function(e){var t=e.column,a=e.row,r=e.value,i=Hr;return n.createElement(pi,{onChange:function(e){return b(e,a.id)},name:t.name,disabled:y,items:i,id:"rollover",value:r})},be=function(e){var t=e.column,a=e.row,r=e.value,i=Wr;return n.createElement(fi,{onChange:function(e){return b(e,a.id)},name:t.name,disabled:y,items:i,id:"maternity_eligble_availees_checkbox",value:r,isMaternity:!0})},ve=function(e){var t=e.column,a=e.row,r=e.value,i=Vr;return n.createElement(pi,{onChange:function(e){return b(e,a.id)},name:t.name,disabled:y,items:i,id:"refresh",value:r})},_e=function(e){var t=e.column,a=e.value,r=e.row,i=Gr;return n.createElement(pi,{onChange:function(e){return b(e,r.id)},name:t.name,disabled:y,items:i,id:"availment",value:a})},ye=function(e){var t=e.value,a=e.column,r=e.row,i=Xr;return n.createElement(fi,{onChange:function(e){return b(e,r.id)},name:a.name,items:i,id:"member_type_checkbox",value:t,disabled:y})},Ne=function(e){var t=e.value,a=e.row,r=e.column,i=Jr;return n.createElement(fi,{onChange:function(e){return b(e,a.id)},name:r.name,items:i,id:"plan_type_checkbox",value:t,disabled:y})},Se=function(e){var t=e.column,a=e.value,r=e.row,i=Zr;return n.createElement(pi,{disabled:y,items:i,id:"eligibility",value:a,onChange:function(e){return b(e,r.id)},name:t.name})},Oe=function(e){var t=e.column,a=e.value,r=e.row,i=Qr;return n.createElement(pi,{disabled:y,items:i,id:"no_of_members",value:a,onChange:function(e){return b(e,r.id)},name:t.name})},Ae=function(e){var t=e.value,a=e.column,r=e.row,i=$r;return n.createElement(fi,{onChange:function(e){return b(e,r.id)},name:a.name,items:i,id:"day_checkbox",value:t,disabled:y})},Te=function(e){var t=e.column,a=e.value,r=e.row,i=ei;return n.createElement(pi,{onChange:function(e){return b(e,r.id)},name:t.name,disabled:y,items:i,id:"type",value:a})},Ie=function(e){var t=e.column,a=e.value,r=e.row,i=ti;return n.createElement(pi,{onChange:function(e){return b(e,r.id)},name:t.name,disabled:y,items:i,id:"hierarchy",value:a})},ke=function(e){var t=e.column,a=e.row,r=zr,i=mi(),l=Object(n.useState)(!1),s=Object(p.a)(l,2),o=s[0],c=s[1],m=Object(n.useState)(!1),u=Object(p.a)(m,2),d=u[0],f=u[1],h=Object(n.useState)(""),g=Object(p.a)(h,2),E=g[0],v=g[1],_=function(e){if("number"===e.target.type&&e.target.min){var a=e.target.min;(""!==e.target.value||e.target.value>=a)&&(e.target.name===t.name+"_min"&&v(e.target.value),e.target.name===t.name+"_max"&&v(e.target.value))}};if(y){if(a.custom_metadata[t.name+"_min"]||a.custom_metadata[t.name+"_min_unit"]||a.custom_metadata[t.name+"_max"]||a.custom_metadata[t.name+"_max_unit"]){var C=["min","to","max"].map(function(e){var i=t.name+"_"+e;if("to"===e)return a.custom_metadata[t.name+"_max"]?n.createElement("span",{style:{width:"30px"}},"to"):null;var l="",s="";if(a.custom_metadata[i]&&(l=a.custom_metadata[i]),a.custom_metadata[i+"_unit"]){var o=r.find(function(e){return e.value===a.custom_metadata[i+"_unit"]});o&&(s=o.label)}return n.createElement("span",null,l," ",s)});return n.createElement("div",{style:{display:"inline-flex"}},C)}return n.createElement("span",null,"\u2014\u2014")}var N=["min","to","max"].map(function(e){var l=t.name+"_"+e;if("to"===e)return n.createElement("span",{style:{width:"30px"}},"to");var s="";return s=o?l===t.name+"_min"?E:a.custom_metadata[l]?a.custom_metadata[l]:"":d&&l===t.name+"_max"?E:a.custom_metadata[l]?a.custom_metadata[l]:"",n.createElement(pi,{onChange:function(e){return b(e,a.id)},name:l+"_unit",disabled:y,items:r,id:l+"_unit",value:a.custom_metadata[l+"_unit"]?a.custom_metadata[l+"_unit"]:"",startAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"start"},n.createElement(R.a,{onChange:_,onFocus:function(e){l===t.name+"_min"?(v(e.target.value),c(!0)):l===t.name+"_max"&&(v(e.target.value),f(!0))},onBlur:function(e){b(e,a.id),c(!1),f(!1)},id:"enrollment_period",disabled:y,value:s,type:"number",name:l,classes:i,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})});return n.createElement("div",{style:{display:"inline-flex"}},N)},Re=function(e){var t=e.column,a=e.value,r=e.row,i=ai,l=mi(),s=Object(n.useState)(!1),o=Object(p.a)(s,2),c=o[0],m=o[1],u=Object(n.useState)(""),d=Object(p.a)(u,2),f=d[0],h=d[1];if(y){if(r.custom_metadata[t.name]||r.custom_metadata[t.name+"_unit"]){var g="";if(r.custom_metadata[t.name+"_unit"]&&r.custom_metadata[t.name+"_unit"]){var E=i.find(function(e){return e.value===r.custom_metadata[t.name+"_unit"]});g=E?"days from "+E.label:"days"}return n.createElement("span",null,a," ",g)}return n.createElement("span",null,"\u2014\u2014")}return n.createElement(pi,{onChange:function(e){return b(e,r.id)},name:t.name+"_unit",disabled:y,items:i,id:"enrollment_period_unit",value:r.custom_metadata[t.name+"_unit"]?r.custom_metadata[t.name+"_unit"]:"",startAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"start"},n.createElement(R.a,{onChange:function(e){if("number"===e.target.type&&e.target.min){var t=e.target.min;(""!==e.target.value||e.target.value>=t)&&h(e.target.value)}},onFocus:function(e){h(e.target.value),m(!0)},onBlur:function(e){b(e,r.id),m(!1)},id:"enrollment_period",disabled:y,value:c?f:a,type:"number",name:t.name,classes:l,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})},De=function(e){var t=e.column,a=e.value,r=e.row,i=ni,l=mi(),s=Object(n.useState)(!1),o=Object(p.a)(s,2),c=o[0],m=o[1],u=Object(n.useState)(""),d=Object(p.a)(u,2),f=d[0],h=d[1];if(y){if(r.custom_metadata[t.name]||r.custom_metadata[t.name+"_unit"]){var g="";if(r.custom_metadata[t.name+"_unit"]&&r.custom_metadata[t.name+"_unit"]){var E=i.find(function(e){return e.value===r.custom_metadata[t.name+"_unit"]});g=E?"days from "+E.label:"days"}return n.createElement("span",null,a," ",g)}return n.createElement("span",null,"\u2014\u2014")}return n.createElement(pi,{onChange:function(e){return b(e,r.id)},name:t.name+"_unit",disabled:y,items:i,id:"effectivity_coverage_unit",value:r.custom_metadata[t.name+"_unit"]?r.custom_metadata[t.name+"_unit"]:"",startAdornment:n.createElement(Pt.a,{disableTypography:!0,position:"start"},n.createElement(R.a,{onChange:function(e){if("number"===e.target.type&&e.target.min){var t=e.target.min;(""!==e.target.value||e.target.value>=t)&&h(e.target.value)}},onFocus:function(e){h(e.target.value),m(!0)},onBlur:function(e){b(e,r.id),m(!1)},id:"effectivity_coverage",disabled:y,value:c?f:a,type:"number",name:t.name,classes:l,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})},we=function(e){var t=e.value,a=e.column,r=e.row,i=Object(n.useState)(!1),l=Object(p.a)(i,2),s=l[0],o=l[1],c=Object(n.useState)(""),m=Object(p.a)(c,2),u=m[0],d=m[1],f=ui();return y?n.createElement(n.Fragment,null," ",t," "):n.createElement(Mt.a,{disabled:y,onFocus:function(e){d(e.target.value),o(!0)},onBlur:function(e){b(e,r.id),o(!0)},type:"time",name:a.name,classes:f,onChange:function(e){d(e.target.value)},value:s?u:t,inputProps:{step:300}})},Pe=function(e){var t=e.column,a=e.value,r=e.row;return n.createElement(n.Fragment,null,n.createElement(He.a,{name:t.name,disabled:y,checked:!0===a,checkedIcon:n.createElement(pe.a,{style:{color:"#3AB77D"},icon:N.h}),icon:n.createElement(pe.a,{style:{color:"#CFCFD2"},icon:N.h}),onClick:function(e){e.stopPropagation(),v("partner_network_list",null===a||!1===a||null,r.parent,r.index,t.name)}}),n.createElement(He.a,{name:t.name,disabled:y,checked:!1===a,checkedIcon:n.createElement(pe.a,{style:{color:"#FD5451"},icon:N.N}),icon:n.createElement(pe.a,{style:{color:"#CFCFD2"},icon:N.N}),onClick:function(e){e.stopPropagation(),v("partner_network_list",null!==a&&!0!==a&&null,r.parent,r.index,t.name)}}))},xe=function(e){var t=e.column,a=e.value,r=e.row;return n.createElement(n.Fragment,null,n.createElement(oe.a,{name:t.name,icon:n.createElement(pe.a,{icon:rn.a}),checkedIcon:n.createElement(pe.a,{icon:N.j}),onClick:function(e){e.stopPropagation();var t=[{id:r.id,included:!a}];E(t)},checked:!a}))},je=function(e){var t=e.column,a=e.value,r=e.row,i=ri;return n.createElement(n.Fragment,null,n.createElement(pi,{onChange:function(e){return b(e,r.id)},name:t.name,disabled:y,items:i,id:"payment_dropdown",value:a}))},Fe=function(e){var t=e.value,a=e.column,r=e.row,i=ui(),l=Object(n.useState)(!1),s=Object(p.a)(l,2),o=s[0],c=s[1],m=Object(n.useState)(""),u=Object(p.a)(m,2),d=u[0],f=u[1];if("date"===r.custom_metadata.field_type){var h=t?ft()(t.toString(),"YYYY"):null;return y?n.createElement(n.Fragment,null," ",t," "):n.createElement(Tn.a,{views:["year"],value:h,onChange:function(e){v(a.name,ft()(e).get("year"),r.id)},name:a.name,disableFuture:!0})}if("chip"===r.custom_metadata.field_type){var g=t||[];return y?n.createElement(n.Fragment,null," ",g.join(", ")," "):n.createElement(Ce.a,{value:g,onChange:function(e){v(a.name,e,r.id)}})}return y?n.createElement(n.Fragment,null," ",t," "):n.createElement(Mt.a,{disabled:y,value:o?d:t,classes:i,onChange:function(e){f(e.target.value)},onFocus:function(e){f(e.target.value),c(!0)},onBlur:function(e){b(e,r.id),c(!0)},name:a.name})};return void 0!==r&&(void 0!==r.payment&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:je},e))},{for:r.payment})),void 0!==r.exclusions_checkbox&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:xe},e))},{for:r.exclusions_checkbox})),void 0!==r.partner_checkbox&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Pe},e))},{for:r.partner_checkbox})),void 0!==r.number&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:re},e))},{for:r.number})),void 0!==r.text&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:he},e))},{for:r.text})),void 0!==r.limit_type&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ue},e))},{for:r.limit_type})),void 0!==r.limit&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ce},e))},{for:r.limit})),void 0!==r.medicine_limit_type&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:de},e))},{for:r.medicine_limit_type})),void 0!==r.php&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:fe},e))},{for:r.php})),void 0!==r.rollover&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ee},e))},{for:r.rollover})),void 0!==r.refresh&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ve},e))},{for:r.refresh})),void 0!==r.eligible_availees&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ie},e))},{for:r.eligible_availees})),void 0!==r.html&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ge},e))},{for:r.html})),void 0!==r.maternity_eligible_availees&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:be},e))},{for:r.maternity_eligible_availees})),void 0!==r.age_limit&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:le},e))},{for:r.age_limit})),void 0!==r.eligibility_age_limit&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ke},e))},{for:r.eligibility_age_limit})),void 0!==r.required&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:se},e))},{for:r.required})),void 0!==r.availment&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:_e},e))},{for:r.availment})),void 0!==r.member_type&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:ye},e))},{for:r.member_type})),void 0!==r.plan_type&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ne},e))},{for:r.plan_type})),void 0!==r.day&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({disabled:y,formatterComponent:Ae},e))},{for:r.day})),void 0!==r.no_of_members&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Oe},e))},{for:r.no_of_members})),void 0!==r.eligibility&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Se},e))},{for:r.eligibility})),void 0!==r.type&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Te},e))},{for:r.type})),void 0!==r.hierarchy&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Ie},e))},{for:r.hierarchy})),void 0!==r.enrollment_period&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Re},e))},{for:r.enrollment_period})),void 0!==r.effectivity_coverage&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:De},e))},{for:r.effectivity_coverage})),void 0!==r.time&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({disabled:y,formatterComponent:we},e))},{for:r.time})),void 0!==r.identifier&&ae.push(n.createElement(function(e){return n.createElement(It.b,Object.assign({formatterComponent:Fe},e))},{for:r.identifier}))),Object(n.useEffect)(function(){X&&X.current&&q(X.current.clientHeight)}),n.createElement("div",{style:h?{}:{marginTop:"30px"}},n.createElement(Tt.a,{rows:t,columns:a},ae,l?null:n.createElement(It.n,null),s||y?null:n.createElement(It.o,{selection:te,onSelectionChange:function(e){if(J){var a=e.find(function(e){return-1===te.indexOf(e)});if(console.log(a),void 0!==a){var n=t.reduce(function(e,t,n){if(!1===t.disabled){var r={id:t.id};r.included="rab"===u?n>=a:n===a,e.push(r)}return e},[]);E(n)}}else{var r=t.reduce(function(t,a,n){if(!1===a.disabled){var r={id:a.id};e.includes(n)?r.included=!0:r.included=!1,t.push(r)}return t},[]);E(r)}}}),i?null:n.createElement(It.l,{currentPage:w,onCurrentPageChange:P,pageSize:L,onPageSizeChange:function(e){K(0===e),M(e)}}),o?null:n.createElement(It.p,{defaultSorting:[{columnName:"category",direction:"asc"}]}),c?null:n.createElement(It.d,{defaultFilters:[]}),o?null:n.createElement(It.j,null),s||y?null:n.createElement(It.i,null),i?null:n.createElement(It.h,null),c?null:n.createElement(It.g,null),n.createElement(Tt.d,{tableComponent:function(e){var t=e.children,a=Object(k.a)(e,["children"]);return n.createElement(Tt.d.Table,Object.assign({},a,{stickyHeader:z}),t)},stubHeaderCellComponent:function(e){var t=e.classes,a=Object(k.a)(e,["classes"]);return n.createElement(j.a,Object.assign({},a,{classes:t,style:{padding:"0px 10px 8px 10px",top:G?G+"px":"0"}}))},containerComponent:function(e){var t=e.children,a=Object(k.a)(e,["children"]);return n.createElement("div",Object.assign({},a,{style:{overflow:"auto",height:z?"70vh":"auto"}}),t)},columnExtensions:d}),s||y?null:n.createElement(Tt.h,{showSelectAll:!!Z,cellComponent:$,headerCellComponent:gi}),g?n.createElement(Tt.g,{rowComponent:function(e){var t=e.children,a=Object(k.a)(e,["children"]);return n.createElement(Tt.g.Row,a,n.createElement(j.a,{colSpan:t.length,style:{justifyContent:"space-between"}},n.createElement(xt.a,{disableGutters:!0,style:{justifyContent:"space-between"}},n.createElement(Mr,{choices:ne,onChange:function(e){A(e)},value:O||{label:"Add a hospital...",value:"Code"}}),n.createElement(C.a,{onClick:function(){return T(O)},style:{color:"#3AB77D",width:"140px",marginLeft:"10px",textAlign:"right"}},n.createElement(pe.a,{icon:N.B})," Add a Hospital"))))},cellComponent:ee}):n.createElement(Tt.g,{showSortingControls:!o,sortLabelComponent:Ci,cellComponent:ee}),c?null:n.createElement(Tt.f,{cellComponent:function(e){var t=e.filter,a=e.onFilter,r=e.filteringEnabled,i=e.classes;return r?n.createElement(j.a,{style:{backgroundColor:"#DDDFE3",padding:"0px 10px 8px 10px",top:G?G+"px":"0"},classes:i},n.createElement(wt.a,{classes:i,style:{width:"100%",backgroundColor:"#FFFFFF"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):null},showFilterSelector:!0}),f?n.createElement(Tt.e,{columnBands:f,cellComponent:Ei}):null,!l||m?n.createElement(Tt.i,{rootComponent:Q}):null,l?null:n.createElement(Tt.c,{inputComponent:bi}),i?null:n.createElement(Tt.b,{pageSizes:B})))};Ni.defaultProps={rows:[],columns:[],columnExtensions:[],columnBands:null,formattedColumns:{},dropdownHeader:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,disableMargin:!1,toolbarType:null,selectionType:null,viewOnly:!1,setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a,n){return console.log("setRowMetadata2",e,t,a,n)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setAddDropdown:function(e){return console.log("setAddDropdown",e)},dropdownData:[],selectedOption:null,setSelectedOption:function(e){return console.log("setSelectedOption",e)}};var Si=Object(kt.a)({root:{marginTop:"16px",marginBottom:"8px"},adornedEnd:{paddingRight:0}}),Oi=Object(kt.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px"},root:{height:"2.90em"}}),Ai=function(e){return n.createElement(wi,Object.assign({},e,{items:[{name:"USD",value:"USD"},{name:"PHP",value:"PHP"},{name:"EUR",value:"EUR"}],type:"number",currency:!0,defaultValue:"PHP"}))},Ti=function(e){return n.createElement(wi,Object.assign({},e,{items:[{name:"Amount Limit",value:"amt_limit"},{name:"Max Session",value:"max_session"},{name:"Max Amount",value:"max_amount"},{name:"Percent of MBL",value:"percent_mbl"},{name:"Percent of ABL",value:"percent_abl"},{name:"No. of Visits",value:"no_visits"}],type:"number",currency:!1,defaultValue:"percent_mbl"}))},Ii=function(e){return n.createElement(wi,Object.assign({},e,{items:[{name:"%",value:"percent"}],type:"number",currency:!1,defaultValue:"percent"}))},ki=function(e){return n.createElement(wi,Object.assign({},e,{items:[{name:"hrs",value:"hours"}],currency:!1,type:"number",defaultValue:"hours"}))},Ri=function(e){return n.createElement(wi,Object.assign({},e,{items:[{name:"PHP MBL",value:"php_mbl"},{name:"PHP ABL",value:"php_abl"}],type:"number",currency:!0,defaultValue:"php_abl"}))},Di=function(e){return n.createElement(wi,Object.assign({},e,{items:[{name:"Months",value:"months"},{name:"Days",value:"days"}],currency:!1,type:"number",defaultValue:"months"}))},wi=function(e){var t,a,r,i,l,s,o,c,m,u,d,p,f,h,g,E=Si(),b=Oi(),v=e.noDefault;return Object(Vn.a)(e),t=e.id,a=e.label,i=e.items,l=e.fieldName,s=e.selectName,d=e.fieldOnChange,p=e.selectOnChange,g=e.currency,u=e.type,c=e.fieldValue,m=e.selectValue,o=e.defaultValue,f=e.disableSelect,h=e.inputProps,r=Object(k.a)(e,["id","label","items","fieldName","selectName","fieldOnChange","selectOnChange","currency","type","fieldValue","selectValue","defaultValue","disableSelect","inputProps"]),void 0===h&&(h={}),v&&(o="none"),n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:t+"_label"},a),n.createElement(wt.a,Object.assign({id:t,classes:E,type:g?"text":u,name:l,value:c?g?di(c):c:"tel"===u?"0":"",onChange:d||null,onKeyPress:function(e){var t=new RegExp(/^[0-9.]*$/);g&&!t.test(e.key)&&e.preventDefault()},inputProps:h,endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:m||o,onChange:function(e){p(e)},disabled:f||!1,input:n.createElement(wt.a,{classes:b,name:s,labelWidth:0,id:t+"_adornment"})},v?n.createElement(Dt.a,{selected:!0,disabled:!0,value:"none"},"\u2014\u2014"):null,i.map(function(e){return n.createElement(Dt.a,{key:e.value,value:e.value},e.name)})))},r)))},Pi=Object(kt.a)({root:{lineHeight:"1"},adornedStart:{paddingLeft:0}}),xi=Object(kt.a)({root:{fontWeight:"bold"}}),ji=function(e){var t=Pi(),a=xi(),r=e.label,i=e.value,l=e.menuItems,s=i;if(void 0!==l&&l.length>0){var o=l.find(function(e){return i===e.value});o&&o.name&&(s=o.name)}return n.createElement(n.Fragment,null,n.createElement(ct.a,{classes:t,style:{lineHeight:"1",fontSize:"11px",color:"rgba(39, 46, 76, 0.6)"},variant:"overline"},r),n.createElement(ct.a,{classes:a,style:{fontWeight:"bold",marginBottom:"25px",fontSize:"14px"},variant:"body1"},s||"\u2014\u2014"))},Fi=Object(kt.a)({root:{alignItems:"flex-start","& span.MuiButtonBase-root":{paddingTop:"4px",display:"block"}}}),Li=function(e,t){var a="PHP",n=0;return t&&(a=t),e?(n=e,ot.formatNumber(n)+" "+a):"-"},Mi={formHeader:null,rows:[],setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a){return console.log("setRowMetadata2",e,t,a)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setSubForm:function(e){return console.log("setSubForm",e)},setSubForm2:function(e){return console.log("setSubForm",e)},createRelationship:function(e){return console.log("createRelationship",e)},createCivilStatus:function(e){return console.log("createCivilStatus",e)},subFormNode:null,viewOnly:!1},Ui=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm,l=e.subFormNode,s={};l&&l.custom_metadata&&(s=l.custom_metadata);var o=r;return a&&(o=r.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"limit_type",title:"Inner Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"daily_limit",title:"Daily Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit","daily_limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"daily_limit",width:150,wordWrapEnabled:!0}]},e,{rows:o}))),n.createElement(_.a,{item:!0,sm:12},a?s.amt_limit&&s.amt_limit_unit?n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(ji,{label:"Amount Limit for all procedures",value:s.amt_limit+" "+{amt_limit:"Amount Limit",max_session:"Max Session",max_amount:"Max Amount",percent_mbl:"Percent of MBL",percent_abl:"Percent of ABL",no_visits:"No. of Visits"}[s.amt_limit_unit]})):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"Amount Limit for all procedures"),n.createElement(ct.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(Ti,{id:"amt_limit",fieldName:"amt_limit",selectName:"amt_limit_unit",fieldValue:s.amt_limit,selectValue:s.amt_limit_unit,fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0})))))};Ui.defaultProps=Mi;var Bi=Object(kt.a)({adornedEnd:{paddingRight:0}}),Hi=Object(kt.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px",fontSize:12},root:{height:"2.90em"}}),Vi=function(e){var t,a,r,i,l,s,o,c=Bi(),m=Hi();return Object(Vn.a)(e),t=e.fieldName,a=e.selectName,l=e.fieldOnChange,s=e.selectOnChange,r=e.fieldValue,i=e.selectValue,o=e.inputProps,Object(k.a)(e,["fieldName","selectName","fieldOnChange","selectOnChange","fieldValue","selectValue","inputProps"]),void 0===o&&(o={}),n.createElement(wt.a,{classes:c,name:t,labelWidth:0,value:r?di(r):0,onChange:l||null,onKeyPress:function(e){("PHP"===i?new RegExp(/[0-9.]/):new RegExp(/[0-9]/)).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:i||"percent",name:a,onChange:function(e){s(e)},input:n.createElement(wt.a,{classes:m,labelWidth:0,id:a})},n.createElement(Dt.a,{selected:!0,value:"percent"},"%"),n.createElement(Dt.a,{value:"PHP"},"PHP")))})},Gi=Object(kt.a)({adornedEnd:{paddingRight:0}}),qi=Object(kt.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px",fontSize:12},root:{height:"2.90em"}}),Wi=function(e){var t,a=e.formHeader,r=e.rows,i=e.viewOnly,l=e.subFormNode,s=e.setSubForm,o=e.setSubForm2,c=Fi(),m={},u=[],d=-1,p=-1,f=0,h=Gi(),g=qi();if(l&&(l.custom_metadata&&(m=l.custom_metadata),l.limits)){var E=(u=l.limits).findIndex(function(e){return["ABL","MBL"].includes(e.type)});d=E,E=u.findIndex(function(e){return["PEC"].includes(e.type)}),u[p=E]&&u[p].time_based_limit&&(t=u[p].time_based_limit,f=u[p].time_based_limit.length)}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=e.target.name;e.target.value=e.target.value?e.target.value.trim().replace(/,/g,""):"";var i=e.target.value;console.log("val:",i);var s=-1,c=[];if("limit"===r&&i.toString().indexOf(".")>-1?i=parseFloat(i).toFixed(2):"limit"===r&&(i=parseFloat(i)),console.log("After Float: ",i,t),l&&l.limits&&(c=l.limits),console.log("limit",c),s=t?c.findIndex(function(e){return["PEC"].includes(e.type)}):c.findIndex(function(e){return["ABL","MBL"].includes(e.type)}),console.log("newLimits: ",r,i,s,a,f),s>-1){if("Months"===c[p].limit_unit&&("number_month"===r||"limit"===r||"limit_type"===r||"day_based"===r)){a||(a=0);var m=[],u={number_month:"number_month"===r?i:c[p].time_based_limit&&a>=0&&c[p].time_based_limit[a]&&c[p].time_based_limit[a].number_month?c[p].time_based_limit[a].number_month:0,day_based:"day_based"===r?i:c[p].time_based_limit&&a>=0&&c[p].time_based_limit[a]&&c[p].time_based_limit[a].day_based?c[p].time_based_limit[a].day_based:"Months",limit_type:"limit_type"===r?i:c[p].time_based_limit&&a>=0&&c[p].time_based_limit[a]&&c[p].time_based_limit[a].limit_type?c[p].time_based_limit[a].limit_type:"percent",limit:"limit"===r?i:c[p].time_based_limit&&a>=0&&c[p].time_based_limit[a]&&c[p].time_based_limit[a].limit?c[p].time_based_limit[a].limit:0};if(f>0)for(var d=0;d<c[p].time_based_limit.length;d++)a===d?m.push(u):m.push(c[p].time_based_limit[d]);else m.push(u);r="time_based_limit",i=m,console.log(m)}if(1===n){for(var h=[],g=0;g<f;g++)h.push({number_month:c[p].time_based_limit[g]&&c[p].time_based_limit[g].number_month?c[p].time_based_limit[g].number_month:0,day_based:c[p].time_based_limit[g]&&c[p].time_based_limit[g].day_based?c[p].time_based_limit[g].day_based:"Months",limit_type:c[p].time_based_limit[g]&&c[p].time_based_limit[g].limit_type?c[p].time_based_limit[g].limit_type:"percent",limit:c[p].time_based_limit[g]&&c[p].time_based_limit[g].limit?c[p].time_based_limit[g].limit:0});0===f&&h.push({number_month:0,day_based:"Months",limit_type:"percent",limit:0}),h.push({number_month:0,day_based:"Months",limit_type:"percent",limit:0}),r="time_based_limit",i=h,f++}else if(-1===n){for(var E=[],b=0;b<f;b++)b!=a&&E.push({number_month:c[p].time_based_limit[b]&&c[p].time_based_limit[b].number_month?c[p].time_based_limit[b].number_month:0,day_based:c[p].time_based_limit[b]&&c[p].time_based_limit[b].day_based?c[p].time_based_limit[b].day_based:"Months",limit_type:c[p].time_based_limit[b]&&c[p].time_based_limit[b].limit_type?c[p].time_based_limit[b].limit_type:"percent",limit:c[p].time_based_limit[b]&&c[p].time_based_limit[b].limit?c[p].time_based_limit[b].limit:0});r="time_based_limit",i=E,f--}console.log("change: ",r,i),o(r,i,"limits",s)}else{var v={type:"ABL",limit:0,limit_unit:"PHP",daily_limit:0};t&&(v.type="PEC"),v[r]=i;var _=Object(ue.a)(c);_.push(v),o(r,_,"limits")}},v=null;v=p>-1&&"Percentage"===u[p].limit_unit?Ii:p>-1&&"Months"===u[p].limit_unit?Di:Ai;var y={annual:"Annual",semiannual:"Semi-Annual",quarterly:"Quarterly",monthly:"Monthly"},S=r;if(i){var O=!0;S=r.filter(function(e){return!(!O||!e.included)&&(O=!1,!0)})}var A="",T="";return i&&(m.voluntary_upgrading_type&&("paid_by_member"===m.voluntary_upgrading_type?A="Room and Board difference is paid by the Member":"first_hours_free"===m.voluntary_upgrading_type&&m.voluntary_upgrading_amount?A=m.voluntary_upgrading_amount+" hrs":"rate"===m.voluntary_upgrading_type&&m.voluntary_upgrading_amount&&(A=m.voluntary_upgrading_amount+" %")),m.involuntary_upgrading_type&&("paid_by_member"===m.involuntary_upgrading_type?T="Room and Board difference is paid by the Member":"first_hours_free"===m.involuntary_upgrading_type&&m.involuntary_upgrading_amount&&(T=m.involuntary_upgrading_amount+" hrs"))),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},i?null:a,n.createElement(_.a,{item:!0,container:!0,sm:8},n.createElement(_.a,{item:!0,sm:5},i?n.createElement(ji,{label:"Limit Type",value:d>-1&&u[d].type?u[d].type:""}):n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"type"},"Choose Limit Type"),n.createElement(ir.a,{margin:"normal"},n.createElement(Rt.a,{onChange:function(e){return b(e,!1)},value:d>-1&&u[d].type?u[d].type:"ABL",name:"type",input:n.createElement(wt.a,{labelWidth:0,name:"type",id:"limit"})},n.createElement(Dt.a,{value:"ABL"},"ABL"),n.createElement(Dt.a,{value:"MBL"},"MBL"))))),n.createElement(_.a,{item:!0,sm:7},i?n.createElement(ji,{label:"Limit",value:d>-1&&u[d].limit&&u[d].limit_unit?Li(u[d].limit,u[d].limit_unit):""}):n.createElement(Ai,{id:"limit",label:"Specify Limit",fieldName:"limit",selectName:"limit_unit",fieldValue:d>-1&&u[d].limit?u[d].limit:0,selectValue:"PHP",fieldOnChange:function(e){return b(e,!1)},disableSelect:!0})),n.createElement(_.a,{item:!0,sm:5},i?n.createElement(ji,{label:"PEC Limit Type",value:p>-1&&u[p].type?u[p].type:""}):n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"limit_unit"},"Choose PEC Limit Type"),n.createElement(ir.a,{margin:"normal"},n.createElement(Rt.a,{onChange:function(e){return b(e,!0)},value:p>-1&&u[p].limit_unit?u[p].limit_unit:"PHP",name:"limit_unit",input:n.createElement(wt.a,{labelWidth:0,name:"limit_unit",id:"pecLimit"})},n.createElement(Dt.a,{value:"PHP"},"Peso"),n.createElement(Dt.a,{value:"Percentage"},"Percentage"),n.createElement(Dt.a,{value:"Months"},"Time-based"))))),-1===p||"PHP"===u[p].limit_unit||"Percentage"===u[p].limit_unit?n.createElement(_.a,{item:!0,sm:7},i?n.createElement(ji,{label:"PEC Limit",value:p>-1&&u[p].limit&&u[p].limit_unit?Li(u[p].limit,u[p].limit_unit):""}):n.createElement(v,{id:"limit",label:"Specify Limit",fieldName:"limit",selectName:"limit_unit",fieldValue:p>-1&&u[p].limit?u[p].limit:0,selectValue:u[p]&&"Percentage"===u[p].limit_unit?"percent":"PHP",fieldOnChange:function(e){return b(e,!0)},disableSelect:!0})):n.createElement(_.a,{item:!0,sm:7},n.createElement(ln.a,{style:{height:26,paddingBottom:6},htmlFor:"limit_unit"},"Specify Limit"),n.createElement(ln.a,{style:{height:26,paddingBottom:5},htmlFor:"limit_unit"},"After n month"),n.createElement(_.a,{container:!0},f>0?t.map(function(e,t){return console.log(e),i?n.createElement(_.a,{container:!0,style:{paddingBottom:5}},n.createElement(ji,{label:"",value:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].number_month&&""!==u[p].time_based_limit[t].number_month&&u[p].time_based_limit[t].limit&&""!==u[p].time_based_limit[t].limit?(u[p].time_based_limit[t].number_month&&""!==u[p].time_based_limit[t].number_month?u[p].time_based_limit[t].number_month.toString():"\u2014")+" "+(u[p].time_based_limit[t].day_based?u[p].time_based_limit[t].day_based.toString():"Months")+" : "+(u[p].time_based_limit[t].limit&&""!==u[p].time_based_limit[t].limit?u[p].time_based_limit[t].limit.toString():"\u2014")+" "+(u[p].time_based_limit[t].limit_type&&"PHP"===u[p].time_based_limit[t].limit_type?"PHP":"%"):"\u2014\u2014"})):n.createElement(_.a,{container:!0,style:{paddingBottom:5}},n.createElement(_.a,{item:!0,sm:1,style:{display:"inline-block",position:"relative",verticalAlign:"middle",marginRight:8}},n.createElement(C.a,{style:{cursor:"pointer",display:f>1?"block":"none",position:"absolute",top:"50%",transform:"translateY(-50%)"},onClick:function(e){return b(e,!0,t,-1)}},n.createElement(pe.a,{icon:N.v,style:{color:"#B0AFB8"}}))),n.createElement(_.a,{item:!0,sm:6,style:{display:"inline-block"}},n.createElement(wt.a,{id:"number_month",labelWidth:0,classes:h,style:{marginRight:8.71},name:"number_month",value:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].number_month?u[p].time_based_limit[t].number_month:"",onChange:function(e){return b(e,!0,t)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].day_based?u[p].time_based_limit[t].day_based:"Months",name:"day_based",onChange:function(e){return b(e,!0,t)},input:n.createElement(wt.a,{classes:g,labelWidth:0,id:"day_based"}),disabled:!1},n.createElement(Dt.a,{selected:!0,value:"Days"},"Days"),n.createElement(Dt.a,{selected:!0,value:"Weeks"},"Weeks"),n.createElement(Dt.a,{selected:!0,value:"Months"},"Months")))})),n.createElement(_.a,{item:!0,sm:4,style:{display:"inline-block"}},n.createElement(Vi,{variant:"outlined",fieldName:"limit",selectName:"limit_type",fieldValue:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].limit?u[p].time_based_limit[t].limit:"",selectValue:u[p].time_based_limit&&u[p].time_based_limit[t]&&u[p].time_based_limit[t].limit_type?u[p].time_based_limit[t].limit_type:"percent",fieldOnChange:function(e){return b(e,!0,t)},selectOnChange:function(e){return b(e,!0,0)}})))}):i?n.createElement(ji,{label:"",value:"\u2014\u2014"}):n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,sm:1,style:{position:"relative",verticalAlign:"middle",marginRight:8}},n.createElement(C.a,{style:{display:"none",position:"absolute",top:"50%",transform:"translateY(-50%)"},onClick:function(e){return b(e,!0,0,-1)}},n.createElement(pe.a,{icon:N.v,style:{color:"#B0AFB8"}}))),n.createElement(_.a,{item:!0,sm:6},n.createElement(wt.a,{id:"number_month",labelWidth:0,classes:h,style:{marginRight:8.71},name:"number_month",value:u[p].time_based_limit&&u[p].time_based_limit[0].number_month?u[p].time_based_limit[0].number_month:"",onChange:function(e){return b(e,!0,0)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:u[p].time_based_limit&&u[p].time_based_limit[0]&&u[p].time_based_limit[0].day_based?u[p].time_based_limit[0].day_based:"Months",name:"day_based",onChange:function(e){return b(e,!0,0)},input:n.createElement(wt.a,{classes:g,labelWidth:0,id:"per_month_adornment"}),disabled:!1},n.createElement(Dt.a,{selected:!0,value:"Days"},"Days"),n.createElement(Dt.a,{selected:!0,value:"Weeks"},"Weeks"),n.createElement(Dt.a,{selected:!0,value:"Months"},"Months")))})),n.createElement(_.a,{item:!0,sm:4},n.createElement(wt.a,{id:"limit",classes:h,name:"limit",labelWidth:0,value:u[p].time_based_limit&&u[p].time_based_limit[0].limit?u[p].time_based_limit[0].limit:"",onChange:function(e){return b(e,!0,0)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Pt.a,{position:"end"},n.createElement(Rt.a,{value:u[p].time_based_limit&&u[p].time_based_limit[0].limit_type?u[p].time_based_limit[0].limit_type:"percent",name:"limit_type",onChange:function(e){return b(e,!0,0)},input:n.createElement(wt.a,{classes:g,labelWidth:0,id:"limit_type"})},n.createElement(Dt.a,{selected:!0,value:"percent"},"%"),n.createElement(Dt.a,{selected:!0,value:"PHP"},"PHP")))}))),n.createElement(_.a,{item:!0,xs:11,style:{display:i?"none":"block",paddingLeft:40}},n.createElement(Ie.a,{color:"primary",disableFocusRipple:!0,name:"addtimebased",onClick:function(e){return b(e,!0,f,1)},value:"target"},n.createElement(pe.a,{icon:N.B}),"\xa0Add Layer"))))),n.createElement(_.a,{item:!0,sm:4},i?n.createElement(ji,{label:"Mode of Payment",value:y[m.mode_of_payment]}):n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"mode_of_payment"},"Mode of Payment"),n.createElement(ir.a,{component:"fieldset",margin:"normal"},n.createElement(Lt.a,{name:"mode_of_payment"},n.createElement(Ft.a,{value:"annual",control:n.createElement(He.a,{checked:!!m.mode_of_payment&&"annual"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),o("mode_of_payment","annual")}}),label:y.annual}),n.createElement(Ft.a,{value:"semiannual",control:n.createElement(He.a,{checked:!!m.mode_of_payment&&"semiannual"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),o("mode_of_payment","semiannual")}}),label:y.semiannual}),n.createElement(Ft.a,{value:"quarterly",control:n.createElement(He.a,{checked:!!m.mode_of_payment&&"quarterly"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),o("mode_of_payment","quarterly")}}),label:y.quarterly}),n.createElement(Ft.a,{value:"monthly",control:n.createElement(He.a,{checked:!!m.mode_of_payment&&"monthly"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),o("mode_of_payment","monthly")}}),label:y.monthly}))))))),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:i,formattedColumns:{rollover:["rollover"],refresh:["refresh"]},disableSearch:!0,disablePaging:!0,selectionType:"rab",columnExtensions:[{columnName:"rollover",width:150,wordWrapEnabled:!0},{columnName:"refresh",width:150,wordWrapEnabled:!0}],columns:[{name:"name",title:"Category"},{name:"rollover",title:"Rollover",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.rollover?e.custom_metadata.rollover:[]}},{name:"refresh",title:"Refresh",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.refresh?e.custom_metadata.refresh:[]}}]},e,{rows:S}))),n.createElement(_.a,{item:!0,sm:12},i?m.involuntary_upgrading_type?n.createElement(ji,{label:"Involuntary Room Upgrading",value:T}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Involuntary Room Upgrading"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{onClick:function(e){e.stopPropagation(),o("involuntary_upgrading_amount",null),m.involuntary_upgrading_type&&null!==m.involuntary_upgrading_type?o("involuntary_upgrading_type",null):o("involuntary_upgrading_type","paid_by_member")},value:"except_suite_room",control:n.createElement(oe.a,{checked:m.involuntary_upgrading_type&&null!==m.involuntary_upgrading_type}),label:"Except Suite Room"}),m.involuntary_upgrading_type&&null!==m.involuntary_upgrading_type?n.createElement(Lt.a,{name:"involuntary_upgrading",style:{paddingLeft:"30px"}},n.createElement(Ft.a,{classes:c,value:"involuntary_upgrading_type",control:n.createElement(He.a,{checked:"paid_by_member"===m.involuntary_upgrading_type,name:"involuntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("involuntary_upgrading_amount",null),o("involuntary_upgrading_type","paid_by_member")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Room and Board difference is paid by the Member"))}),n.createElement(Ft.a,{classes:c,value:"involuntary_upgrading_type",control:n.createElement(He.a,{checked:"first_hours_free"===m.involuntary_upgrading_type,name:"involuntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("involuntary_upgrading_amount",null),o("involuntary_upgrading_type","first_hours_free")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"First X hours free"),"first_hours_free"===m.involuntary_upgrading_type?n.createElement(ir.a,null,n.createElement(ki,{disabled:"first_hours_free"!==m.involuntary_upgrading_type,id:"involuntary_upgrading_first_hours_free",fieldName:"involuntary_upgrading_amount",selectName:"involuntary_upgrading_amount_unit",fieldValue:"first_hours_free"===m.involuntary_upgrading_type?m.involuntary_upgrading_amount:0,selectValue:"hours",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},disableSelect:!0})):null)})):null))),n.createElement(_.a,{item:!0,sm:12},i?m.voluntary_upgrading_type?n.createElement(ji,{label:"Voluntary Room Upgrading",value:A}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Voluntary Room Upgrading"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"involuntary_upgrading"},n.createElement(Ft.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(He.a,{checked:"paid_by_member"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("voluntary_upgrading_amount",null),o("voluntary_upgrading_type","paid_by_member")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Room and Board difference is paid by the Member"))}),n.createElement(Ft.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(He.a,{checked:"first_hours_free"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("voluntary_upgrading_amount",null),o("voluntary_upgrading_type","first_hours_free")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"First X hours free"),"first_hours_free"===m.voluntary_upgrading_type?n.createElement(ir.a,null,n.createElement(ki,{disabled:"first_hours_free"!==m.voluntary_upgrading_type,id:"voluntary_upgrading_first_hours_free",fieldName:"voluntary_upgrading_amount",selectName:"voluntary_upgrading_amount_unit",fieldValue:"first_hours_free"===m.voluntary_upgrading_type?m.voluntary_upgrading_amount:0,selectValue:"hours",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},disableSelect:!0})):null)}),n.createElement(Ft.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(He.a,{checked:"rate"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),o("voluntary_upgrading_amount",null),o("voluntary_upgrading_type","rate")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Rate"),"rate"===m.voluntary_upgrading_type?n.createElement(n.Fragment,null,n.createElement(ir.a,null,n.createElement(Ii,{disabled:"rate"!==m.voluntary_upgrading_type,id:"voluntary_upgrading_rate",fieldName:"voluntary_upgrading_amount",selectName:"voluntary_upgrading_amount_unit",fieldValue:"rate"===m.voluntary_upgrading_type?m.voluntary_upgrading_amount:0,selectValue:"percent",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},disableSelect:!0})),n.createElement(ct.a,{variant:"caption",style:{fontStyle:"italic"},display:"block"},"Formula: 30% [Room charged \u2014 ] \u2014 [Room \u2014 allowed amount]")):null)}))))))};Wi.defaultProps=Mi;var Yi=function(e){var t=e.viewOnly,a=e.formHeader,r=e.rows;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},t?null:a)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,{rows:r,columns:[{name:"name",title:"Category"},{name:"description",title:"Description"}]})))};Yi.defaultProps=Mi;var zi=function(e){var t=e.formHeader,a=e.viewOnly,r=e.setSubForm,i=e.rows,l=e.subFormNode,s={};l&&l.custom_metadata&&(s=l.custom_metadata);var o=i;return a&&(o=i.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"age_limit",title:"Minimum Age",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:0}},{name:"max_availee",title:"Max. Availee",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.max_availee?e.custom_metadata.max_availee:0}},{name:"payment",title:"Payment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.payment?e.custom_metadata.payment:""}},{name:"required",title:"Required",getCellValue:function(e){return!(!e.custom_metadata||!e.custom_metadata.required)&&e.custom_metadata.required}}],formattedColumns:{eligible_availees:["eligible_availees"],age_limit:["age_limit"],required:["required"],number:["max_availee"],payment:["payment"]},columnExtensions:[{columnName:"parent_name",width:100,wordWrapEnabled:!0},{columnName:"name",wordWrapEnabled:!0},{columnName:"age_limit",width:100,wordWrapEnabled:!0},{columnName:"max_availee",width:100,wordWrapEnabled:!0},{columnName:"payment",width:150,wordWrapEnabled:!0},{columnName:"required",width:125,wordWrapEnabled:!0}]},e,{rows:o}))),n.createElement(_.a,{item:!0,sm:12},a?s.mobile_ape_availees?n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Mobile APE"),n.createElement(ji,{label:"Min no. of availees in a shift (8 hrs)",value:s.mobile_ape_availees})):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Mobile APE"),n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"Min no. of availees in a shift (8 hrs)"),n.createElement(wt.a,{onChange:r,value:s.mobile_ape_availees?s.mobile_ape_availees:0,type:"number",onKeyPress:function(e){return"-"===e.key||"."===e.key||"e"===e.key?(e.preventDefault(),!1):e.key},labelWidth:0,name:"mobile_ape_availees",id:"mobileAPEs",inputProps:{min:"0"}})))))};zi.defaultProps=Mi;var Ki=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return r&&(i=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"age_limit",title:"Minimum Age",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:0}},{name:"max_availee",title:"Max. Availee",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.max_availee?e.custom_metadata.max_availee:0}},{name:"payment",title:"Payment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.payment?e.custom_metadata.payment:""}},{name:"required",title:"Required",getCellValue:function(e){return!(!e.custom_metadata||!e.custom_metadata.required)&&e.custom_metadata.required}}],formattedColumns:{eligible_availees:["eligible_availees"],age_limit:["age_limit"],required:["required"],number:["max_availee"],payment:["payment"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"category",width:100,wordWrapEnabled:!0},{columnName:"age_limit",width:125,wordWrapEnabled:!0},{columnName:"required",width:125,wordWrapEnabled:!0}]},e,{rows:i}))))};Ki.defaultProps=Mi;var Xi=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm,l=e.subFormNode,s={};l&&l.custom_metadata&&(s=l.custom_metadata);var o=r;return a&&(o=r.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Benefit"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:o}))),n.createElement(_.a,{item:!0,sm:12},a?s.amt_limit&&s.amt_limit_unit?n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(ji,{label:"Amount Limit for all procedures",value:s.amt_limit+" "+{amt_limit:"Amount Limit",max_session:"Max Session",max_amount:"Max Amount",percent_mbl:"Percent of MBL",percent_abl:"Percent of ABL",no_visits:"No. of Visits"}[s.amt_limit_unit]})):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"Amount Limit for all procedures"),n.createElement(ct.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(Ti,{id:"amt_limit",fieldName:"amt_limit",selectName:"amt_limit_unit",fieldValue:s.amt_limit,selectValue:s.amt_limit_unit,fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0})))))};Xi.defaultProps=Mi;var Ji=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return r&&(i=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,columns:[{name:"name",title:"Category"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150},{columnName:"limit",width:150}]},e,{rows:i}))))};Ji.defaultProps=Mi;var Zi=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.setSubForm,l=e.setSubForm2,s=e.subFormNode,o=Fi();console.log(a),console.log(e);var c={};s&&s.custom_metadata&&(c=s.custom_metadata);var m=a;return r&&(m=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,columns:[{name:"name",title:"Category"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:m}))),n.createElement(_.a,{item:!0,sm:12},r?c.waiting_period_type&&c.waiting_period_unit?n.createElement(ji,{label:"Activation",value:c.waiting_period_type+" "+c.waiting_period_unit}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"waiting_period"},n.createElement(Ft.a,{classes:o,value:"waiting_period_effectivity",control:n.createElement(He.a,{checked:"effectivity"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),l("waiting_period_type","effectivity")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(ir.a,null,n.createElement(Di,{disabled:"effectivity"!==c.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===c.waiting_period_type?c.waiting_period:0,selectValue:"effectivity"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0})))}),n.createElement(Ft.a,{classes:o,value:"waiting_period_hire",control:n.createElement(He.a,{checked:"date_of_hire"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),l("waiting_period_type","date_of_hire")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(ir.a,null,n.createElement(Di,{disabled:"date_of_hire"!==c.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===c.waiting_period_type?c.waiting_period:0,selectValue:"date_of_hire"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0})))}))))))};Zi.defaultProps=Mi;var Qi=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.subFormNode,l=e.setSubForm,s=e.setSubForm2,o=Fi(),c={};i&&i.custom_metadata&&(c=i.custom_metadata),console.log(a);var m=a;return r&&(m=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,columns:[{name:"name",title:"Medicine"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"availment",title:"Availment Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.availment?e.custom_metadata.availment:[]}}],formattedColumns:{limit_type:["limit_type"],limit:["limit"],availment:["availment"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"availment",width:175,wordWrapEnabled:!0}]},e,{rows:m}))),n.createElement(_.a,{item:!0,sm:12},r?c.limit_for_all&&c.limit_for_all_unit?n.createElement(ji,{label:"Limit for All",value:c.limit_for_all+" "+c.limit_for_all_unit}):null:n.createElement(n.Fragment,null,n.createElement(ir.a,{style:{marginBottom:"20px"}},n.createElement(ct.a,{variant:"body1"},"Limit for All"),n.createElement(Ai,{id:"limit_for_all",fieldName:"limit_for_all",selectName:"limit_for_all_unit",fieldValue:void 0!==c.limit_for_all?c.limit_for_all:0,selectValue:void 0!==c.limit_for_all_unit?c.limit_for_all_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0}})))),n.createElement(_.a,{item:!0,sm:12},r?c.waiting_period&&c.waiting_period_unit?n.createElement(ji,{label:"Waiting period after effectivity of member",value:c.waiting_period+" "+c.waiting_period_unit}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"waiting_period"},n.createElement(Ft.a,{classes:o,value:"waiting_period_effectivity",control:n.createElement(He.a,{checked:"effectivity"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),s("waiting_period_type","effectivity")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(ir.a,null,n.createElement(Di,{disabled:"effectivity"!==c.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===c.waiting_period_type?c.waiting_period:0,selectValue:"effectivity"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},noDefault:!0})))}),n.createElement(Ft.a,{classes:o,value:"waiting_period_hire",control:n.createElement(He.a,{checked:"date_of_hire"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),s("waiting_period_type","date_of_hire")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(ir.a,null,n.createElement(Di,{disabled:"date_of_hire"!==c.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===c.waiting_period_type?c.waiting_period:0,selectValue:"date_of_hire"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},noDefault:!0})))}))))))};Qi.defaultProps=Mi;var $i=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly;console.log(a);var i=[{name:"parent_name",title:"Type"},{name:"name",title:"Item"}],l={};return r||(i.push({name:"included",title:"Include item?"}),l={exclusions_checkbox:["included"]}),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({},e,{viewOnly:r,disableSelect:!0,columns:i,formattedColumns:l}))))};$i.defaultProps=Mi;var el=a(168),tl=a.n(el),al=a(772),nl=a(773),rl=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.subFormNode,l=e.setRowMetadata2,s=e.setSubForm2,o=Object(n.useState)([]),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)(null),f=Object(p.a)(d,2),h=f[0],g=f[1],E=Object(n.useState)(!1),b=Object(p.a)(E,2),v=b[0],y=b[1],C=[],N=[],S="";i&&(i.custom_metadata&&i.custom_metadata.groups&&(N=i.custom_metadata.groups),i.custom_metadata&&i.custom_metadata.type&&(S=i.custom_metadata.type));var O=function(e){var t=N.findIndex(function(t){return e===t}),a=Object(ue.a)(N);t>-1?a.splice(t,1):a.push(e),s("groups",a)},A=function(e){s("type",e)},I=function(e){console.log(e),y(!1)},k=[{name:"included",title:"Status",getCellValue:function(e){return void 0!==e.included?e.included:null}},{name:"name",title:"Name"},{name:"type",title:"Category"},{name:"street",title:"Address"},{name:"city",title:"City"},{name:"province",title:"Province"}],R=a.find(function(e){return e.code===S});return R&&R.custom_metadata.partner_network_list&&(C=R.custom_metadata.partner_network_list),Object(n.useEffect)(function(){g(null),T.a.get('facilities?filter={"where":{"type":"Clinic-based"}}',function(e){e&&void 0===e.error?u(e):console.log("getfacilities api error: ")},function(e){console.log("getfacilities api error: ",e)})},[S]),r&&(N=N.reduce(function(e,t){return"top_5_hospitals"===t&&e.push("Top 5 Hospitals"),"top_6_hospitals"===t&&e.push("Top 6 Hospitals"),"healthway_clinics"===t&&e.push("Healthway Clinics"),"medical_city_network"===t&&e.push("Medical City Network"),e},new Array)),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),r?""!==S?n.createElement(_.a,{item:!0,sm:12},n.createElement(ji,{label:"Type",value:"OD"===S?"Open Door":"Clinic-based"})):null:n.createElement(_.a,{item:!0,sm:12},n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Type*"),n.createElement(Lt.a,{name:"type"},n.createElement(Ft.a,{onClick:function(){return A("OD")},value:"open_door",control:n.createElement(He.a,{checked:"OD"===S}),label:"Open Door"}),n.createElement(Ft.a,{onClick:function(){return A("CB")},value:"clinic_based",control:n.createElement(He.a,{checked:"CB"===S}),label:"Clinic-based"}))),r?N.length>0?n.createElement(_.a,{item:!0,sm:12},n.createElement(ji,{label:"Group",value:N.join(", ")})):null:n.createElement(_.a,{item:!0,sm:12},n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Group"),n.createElement(al.a,null,n.createElement(Ft.a,{onClick:function(){return O("top_5_hospitals")},value:"top_5_hospitals",control:n.createElement(oe.a,{checked:N.includes("top_5_hospitals")}),label:"Top 5 Hospitals"}),n.createElement(Ft.a,{onClick:function(){return O("top_6_hospitals")},value:"top_6_hospitals",control:n.createElement(oe.a,{checked:N.includes("top_6_hospitals")}),label:"Top 6 Hospitals"}),n.createElement(Ft.a,{onClick:function(){return O("healthway_clinics")},value:"healthway_clinics",control:n.createElement(oe.a,{checked:N.includes("healthway_clinics")}),label:"Healthway Clinics"}),n.createElement(Ft.a,{onClick:function(){return O("medical_city_network")},value:"medical_city_network",control:n.createElement(oe.a,{checked:N.includes("medical_city_network")}),label:"Medical City Network"}))),n.createElement(n.Fragment,null,n.createElement("div",{id:"snkbrcont",style:{display:"block",zIndex:1e3}},n.createElement(De.a,{id:"rejmsg",key:"close",anchorOrigin:{horizontal:"center",vertical:"top"},open:v,autoHideDuration:5e3,onClose:function(){I("none")}},n.createElement(nl.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.75)"},message:"Hospital/Clinic Has Already Been Added",action:[n.createElement(jr.a,{key:"close","aria-label":"close",color:"inherit",onClick:function(){I("none")}},n.createElement(tl.a,null))]})))),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,{setRowMetadata2:l,viewOnly:r,dropdownHeader:!r,disablePaging:!0,disableSearch:!0,disableFilter:!0,disableSelect:!0,formattedColumns:{partner_checkbox:["included"]},columnExtensions:[{columnName:"included",width:125,wordWrapEnabled:!0},{columnName:"name",width:350,wordWrapEnabled:!0}],rows:C,columns:k,dropdownData:m,selectedOption:h,setSelectedOption:g,setAddDropdown:function(e){if(""!==S&&m&&m.length>0&&e){var t=m.find(function(t){return t.name===e.label&&t.facility_id===e.value}),n=a.find(function(e){return e.code===S}),r=[];n&&n.custom_metadata.partner_network_list&&(r=Object(ue.a)(n.custom_metadata.partner_network_list));var i=r.filter(function(e){return e._id===t._id});if(t&&0===i.length){var s=Object.assign({},t);s.included=!0,s.parent=n.id,s.index=r.length,r.push(s),l("partner_network_list",r,n.id),g(null)}else y(!0)}}})))};rl.defaultProps=Mi;var il=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.subFormNode,l=e.setSubForm;console.log(a);var s={};i&&i.custom_metadata&&(s=i.custom_metadata);var o=a;return r&&(o=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,columns:[{name:"name",title:"Procedure"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:o}))),n.createElement(_.a,{item:!0,sm:12},r?s.limit_for_all&&s.limit_for_all_unit?n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(ji,{label:"Peso Limit for all procedures",value:s.limit_for_all+" "+s.limit_for_all_unit})):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"Peso Limit for all procedures"),n.createElement(ct.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(Ri,{id:"amt_limit",fieldName:"amt_limit",selectName:"amt_limit_unit",fieldValue:void 0!==s.amt_limit?s.amt_limit:0,selectValue:void 0!==s.amt_limit_unit?s.amt_limit_unit:"",inputProps:{min:0},fieldOnChange:l,selectOnChange:l})))))};il.defaultProps=Mi;var ll=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm,l=e.setSubForm2,s=e.subFormNode,o=Fi();console.log(e);var c={};s&&s.custom_metadata&&(c=s.custom_metadata);var m={premium:"Imputed in premiums",billback:"Bill back with admin fee (15%)",rider_fee:"1-time rider fee to be upon enrollment"},u=r;return a&&(u=r.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:a,columns:[{name:"name",title:"Provision"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"availment",title:"Availment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.availment?e.custom_metadata.availment:[]}}],formattedColumns:{maternity_eligible_availees:["eligible_availees"],limit_type:["limit_type"],limit:["limit"],availment:["availment"]},columnExtensions:[{columnName:"eligible_availees",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:u}))),n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{item:!0,sm:12},a?c.availment_per_year?n.createElement(ji,{label:"Availment Per Year",value:c.availment_per_year}):null:n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"availmentPerYear"},"Availment Per Year"),n.createElement(ir.a,{margin:"normal",style:{marginBottom:"20px"}},n.createElement(wt.a,{onChange:i,value:c.availment_per_year?c.availment_per_year:0,type:"number",labelWidth:0,name:"availment_per_year",id:"availmentPerYear",inputProps:{min:0}})))),n.createElement(_.a,{item:!0,sm:12},a?c.waiting_period_type&&c.waiting_period_unit?n.createElement(ji,{label:"Activation",value:c.waiting_period_type+" "+c.waiting_period_unit}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"waiting_period"},n.createElement(Ft.a,{classes:o,value:"waiting_period_effectivity",control:n.createElement(He.a,{checked:"effectivity"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),l("waiting_period_type","effectivity")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(ir.a,null,n.createElement(Di,{disabled:"effectivity"!==c.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===c.waiting_period_type?c.waiting_period:0,selectValue:"effectivity"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0})))}),n.createElement(Ft.a,{classes:o,value:"waiting_period_hire",control:n.createElement(He.a,{checked:"date_of_hire"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),l("waiting_period_type","date_of_hire")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(ir.a,null,n.createElement(Di,{disabled:"date_of_hire"!==c.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===c.waiting_period_type?c.waiting_period:0,selectValue:"date_of_hire"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0})))}))))),n.createElement(_.a,{item:!0,sm:12},a?m[c.billing_arangement]?n.createElement(ji,{label:"Billing arrangement",value:m[c.billing_arangement]}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(Lt.a,{name:"billing_arangement"},n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"premium",control:n.createElement(He.a,{checked:"premium"===c.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),l("billing_arangement","premium")}}),label:m.premium})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{classes:o,value:"billback",control:n.createElement(He.a,{checked:"billback"===c.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),l("billing_arangement","billback")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},m.billback),n.createElement("div",{style:{display:"billback"===c.billing_arangement?"block":"none"}},n.createElement(Vi,{id:"billback_fee",variant:"outlined",fieldName:"billback_fee",selectName:"billback_type",fieldValue:"billback"===c.billing_arangement?c.billback_fee:0,selectValue:"billback"===c.billing_arangement?c.billback_type:"percent",fieldOnChange:i,selectOnChange:i})))})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{classes:o,value:"rider_fee",control:n.createElement(He.a,{checked:"rider_fee"===c.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),l("billing_arangement","rider_fee")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},m.rider_fee),n.createElement("div",{style:{display:"rider_fee"===c.billing_arangement?"block":"none"}},n.createElement(ct.a,{variant:"body1"},"Fee"),n.createElement(Ai,{id:"fee_field",disabled:"rider_fee"!==c.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===c.billing_arangement?c.rider_fee:0,selectValue:"rider_fee"===c.billing_arangement?c.rider_fee_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0}})))})))))))};ll.defaultProps=Mi;var sl=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly;console.log(a);var i=a;if(r){var l=!0;i=a.filter(function(e){return!(!l||!e.included)&&(l=!1,!0)})}return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,selectionType:"radio",formattedColumns:{member_type:["member_type"]},columnExtensions:[{columnName:"member_type",width:250,wordWrapEnabled:!0}],columns:[{name:"plan",title:"Plan",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"member_type",title:"Member Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.member_type?e.custom_metadata.member_type:[]}}]},e,{rows:i}))))};sl.defaultProps=Mi;var ol=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return r&&(i=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"cost",width:150,wordWrapEnabled:!0}],formattedColumns:{php:["cost"],limit:["limit"],limit_type:["limit_type"]},columns:[{name:"provision",title:"Provision",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}]},e,{rows:i}))))};ol.defaultProps=Mi;var cl=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return r&&(i=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,formattedColumns:{member_type:["member_type"],plan_type:["plan_type"],php:["peso_limit_amt"]},columns:[{name:"name",title:"Provision"},{name:"member_type",title:"Member Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.member_type?e.custom_metadata.member_type:[]}},{name:"plan_type",title:"Plan Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.plan_type?e.custom_metadata.plan_type:[]}},{name:"peso_limit_amt",title:"Peso Limit Amount",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.peso_limit_amt?e.custom_metadata.peso_limit_amt:""}}],columnExtensions:[{columnName:"peso_limit_amt",width:150,wordWrapEnabled:!0}]},e,{rows:i}))))};cl.defaultProps=Mi;var ml=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.setSubForm2,l=e.subFormNode,s=e.setSubForm,o=Fi(),c={};l&&l.custom_metadata&&(c=l.custom_metadata);var m={premium:"Imputed in premiums",fixed_rate_rider:"Scheduled fixed rate for the entire rider",fixed_rate_personnel:"Scheduled fixed rate per personnel deployed",soa_rate:"Scheduled SOA based on fixed rate/hour/personnel deployed",soa_actual_cost:"Scheduled SOA based on actual cost of personnel deployed",rider_fee:"1-time rider fee to be upon start of contract"},u=a;return r&&(u=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:r,columnExtensions:[{columnName:"number",width:100,wordWrapEnabled:!0},{columnName:"no_of_days",width:100,wordWrapEnabled:!0},{columnName:"time_from",width:100,filteringEnabled:!1,wordWrapEnabled:!0},{columnName:"time_to",width:100,filteringEnabled:!1,wordWrapEnabled:!0}],formattedColumns:{day:["days_deployed"],number:["number","no_of_days"],time:["time_from","time_to"]},columns:[{name:"name",title:"Personnel"},{name:"number",title:"Number",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.number?e.custom_metadata.number:""}},{name:"no_of_days",title:"No. of Days",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.no_of_days?e.custom_metadata.no_of_days:""}},{name:"days_deployed",title:"Days Deployed",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.days_deployed?e.custom_metadata.days_deployed:[]}},{name:"time_from",title:"Time From",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.time_from?e.custom_metadata.time_from:""}},{name:"time_to",title:"Time To",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.time_to?e.custom_metadata.time_to:""}}]},e,{rows:u}))),n.createElement(_.a,{item:!0,sm:12},r?c.billing_arangement?n.createElement(ji,{label:"Billing arrangement",value:m[c.billing_arangement]}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"billing_arangement"},n.createElement(Ft.a,{value:"premium",control:n.createElement(He.a,{checked:"premium"===c.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),i("billing_arangement","premium")}}),label:m.premium}),n.createElement(Ft.a,{value:"fixed_rate_rider",control:n.createElement(He.a,{checked:"fixed_rate_rider"===c.billing_arangement,name:"fixed_rate_rider",onClick:function(e){e.stopPropagation(),i("billing_arangement","fixed_rate_rider")}}),label:m.fixed_rate_rider}),n.createElement(Ft.a,{value:"fixed_rate_personnel",control:n.createElement(He.a,{checked:"fixed_rate_personnel"===c.billing_arangement,name:"fixed_rate_personnel",onClick:function(e){e.stopPropagation(),i("billing_arangement","fixed_rate_personnel")}}),label:m.fixed_rate_personnel}),n.createElement(Ft.a,{value:"soa_rate",control:n.createElement(He.a,{checked:"soa_rate"===c.billing_arangement,name:"soa_rate",onClick:function(e){e.stopPropagation(),i("billing_arangement","soa_rate")}}),label:m.soa_rate}),n.createElement(Ft.a,{value:"soa_actual_cost",control:n.createElement(He.a,{checked:"soa_actual_cost"===c.billing_arangement,name:"soa_actual_cost",onClick:function(e){e.stopPropagation(),i("billing_arangement","soa_actual_cost")}}),label:m.soa_actual_cost}),n.createElement(Ft.a,{classes:o,value:"rider_fee",control:n.createElement(He.a,{checked:"rider_fee"===c.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),i("billing_arangement","rider_fee")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},m.rider_fee),n.createElement(ct.a,{variant:"body1"},"Fee"),n.createElement(Ai,{id:"fee_field",disabled:"rider_fee"!==c.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===c.billing_arangement?c.rider_fee:0,selectValue:"rider_fee"===c.billing_arangement?c.rider_fee_unit:"PHP",fieldOnChange:s,selectOnChange:s,inputProps:{min:0}}))}))))))};ml.defaultProps=Mi;var ul=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.subFormNode,l=e.setSubForm,s=e.setSubForm2,o=Fi(),c=Object(n.useState)("inpatient"),m=Object(p.a)(c,2),u=m[0],d=m[1],f={};i&&i.custom_metadata&&(f=i.custom_metadata);var h={imputed_in_premiums:"Imputed in premiums",billback:"Bill back with admin fee",billback_net:"Bill back, net of APE cost with admin fee",rider_fee:"1-time rider fee to be upon enrollment"},g=r;return a&&(g=r.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Type"),n.createElement(Lt.a,{name:"type",value:u,row:!0},n.createElement(Ft.a,{onClick:function(){return d("inpatient")},value:"inpatient",control:n.createElement(He.a,{checked:"inpatient"===f.benefit_type,name:"inpatient",onClick:function(e){e.stopPropagation(),s("benefit_type","inpatient")}}),label:"Inpatient"}),n.createElement(Ft.a,{onClick:function(){return d("outpatient")},value:"outpatient",control:n.createElement(He.a,{checked:"outpatient"===f.benefit_type,name:"outpatient",onClick:function(e){e.stopPropagation(),s("benefit_type","outpatient")}}),label:"Outpatient"}))),n.createElement(_.a,{item:!0,sm:12},n.createElement(Ni,Object.assign({viewOnly:a,columnExtensions:[{columnName:"benefit",wordWrapEnabled:!0},{columnName:"number",width:100},{columnName:"peso_limit",width:125}],formattedColumns:{number:["number"],php:["peso_limit"],eligibility:["eligibility"],no_of_members:["no_of_members"]},columns:[{name:"benefit",title:"Benefit",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"eligibility",title:"Eligibility",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligibility?e.custom_metadata.eligibility:[]}},{name:"no_of_members",title:"No. of Members",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.no_of_members?e.custom_metadata.no_of_members:0}},{name:"number",title:"Number",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.number?e.custom_metadata.number:0}},{name:"peso_limit",title:"Peso Limit",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.peso_limit?e.custom_metadata.peso_limit:""}}]},e,{rows:g}))),n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{item:!0,sm:12},a?f.waiting_period_type&&f.waiting_period_unit?n.createElement(ji,{label:"Activation",value:f.waiting_period_type+" "+f.waiting_period_unit}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(ir.a,{component:"fieldset"},n.createElement(Lt.a,{name:"waiting_period"},n.createElement(Ft.a,{classes:o,value:"waiting_period_effectivity",control:n.createElement(He.a,{checked:"effectivity"===f.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),s("waiting_period_type","effectivity")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(ir.a,null,n.createElement(Di,{disabled:"effectivity"!==f.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===f.waiting_period_type?f.waiting_period:0,selectValue:"effectivity"===f.waiting_period_type?f.waiting_period_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},noDefault:!0})))}),n.createElement(Ft.a,{classes:o,value:"waiting_period_hire",control:n.createElement(He.a,{checked:"date_of_hire"===f.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),s("waiting_period_type","date_of_hire")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(ir.a,null,n.createElement(Di,{disabled:"date_of_hire"!==f.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===f.waiting_period_type?f.waiting_period:0,selectValue:"date_of_hire"===f.waiting_period_type?f.waiting_period_unit:"",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},noDefault:!0})))}))))),a?h[f.billing_arangement]?n.createElement(ji,{label:"Billing arrangement",value:h[f.billing_arangement]}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(Lt.a,{name:"billing_arangement"},n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"imputed_in_premiums",control:n.createElement(He.a,{checked:"imputed_in_premiums"===f.billing_arangement,name:"imputed_in_premiums",onClick:function(e){e.stopPropagation(),s("billing_arangement","imputed_in_premiums")}}),label:h.imputed_in_premiums})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"billback",control:n.createElement(He.a,{checked:"billback"===f.billing_arangement,name:"billback",onClick:function(e){e.stopPropagation(),s("billing_arangement","billback")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},h.billback),n.createElement("div",{style:{display:"billback"===f.billing_arangement?"block":"none"}},n.createElement(Vi,{id:"billback_fee",variant:"outlined",fieldName:"billback_fee",selectName:"billback_type",fieldValue:"billback"===f.billing_arangement?f.billback_fee:0,selectValue:"billback"===f.billing_arangement?f.billback_type:"percent",fieldOnChange:l,selectOnChange:l})))})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{value:"billback_net",control:n.createElement(He.a,{checked:"billback_net"===f.billing_arangement,name:"billback_net",onClick:function(e){e.stopPropagation(),s("billing_arangement","billback_net")}}),label:h.billback_net})),n.createElement(ir.a,{component:"fieldset"},n.createElement(Ft.a,{classes:o,value:"rider_fee",control:n.createElement(He.a,{checked:"rider_fee"===f.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),s("billing_arangement","rider_fee")}}),label:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"body1",gutterBottom:!0},h.rider_fee),n.createElement("div",{style:{display:"rider_fee"===f.billing_arangement?"block":"none"}},n.createElement(ct.a,{variant:"body1"},"Fee"),n.createElement(Ai,{id:"fee_field",disabled:"rider_fee"!==f.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===f.billing_arangement?f.rider_fee:0,selectValue:"rider_fee"===f.billing_arangement?f.rider_fee_unit:"PHP",fieldOnChange:l,selectOnChange:l,inputProps:{min:0}})))}))))))};ul.defaultProps=Mi;var dl=a(759),pl=Object(kt.a)({root:{marginTop:"16px",marginBottom:"8px",width:"200px"},adornedStart:{paddingLeft:0}}),fl=Object(kt.a)({notchedOutline:{borderTopRightRadius:0,borderBottomRightRadius:0,width:"65px"},input:{width:"35px",padding:"12px 14px",textTransform:"uppercase"},root:{height:"2.90em"}}),hl=function(e){var t=pl(),a=fl(),r=e.id,i=e.label,l=e.minValue,s=e.maxValue,o=e.minName,c=e.maxName,m=[{id:"Min",name:o,value:l,onChange:e.minOnChange},{id:"Max",name:c,value:s,onChange:e.maxOnChange}];return n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:r+"_label"},i),m.map(function(i,l){return n.createElement(n.Fragment,null,n.createElement(wt.a,{key:l,id:r,value:i.value,onChange:i.onChange,name:i.name,classes:t,type:"number",labelWidth:0,inputProps:{min:e.minValue},startAdornment:n.createElement(Pt.a,{position:"start"},n.createElement(wt.a,{classes:a,labelWidth:0,id:r+"_adornment",value:i.id,disabled:!0}))}),0===l?n.createElement(ct.a,{style:{marginTop:"1.5em",marginLeft:"5px",marginRight:"5px",display:"inline-block"},variant:"body1"},"\u2014"):null)}))},gl=a(189),El=a(240),bl=a(211),vl=E.a.UI.InputTextField.InputTextField,_l=E.a.UI.InputSelect.InputSelect,yl=function(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)("civil"),s=Object(p.a)(l,2),o=s[0],c=s[1],m=Boolean(r),u=e.formHeader,d=e.rows,f=e.viewOnly,h=e.setSubForm,g=e.subFormNode,E=e.createRelationship,b=e.createCivilStatus,v=e.deleteCivilStatus,y={};g&&g.custom_metadata&&(y=g.custom_metadata);var S=function(e,t){var a=e.currentTarget;c(t),i(a)},O=function(){i(null)},A=[{name:"name",title:"Relationship"},{name:"type",title:"Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.type?e.custom_metadata.type:[]}},{name:"hierarchy",title:"Hierarchy",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.hierarchy?e.custom_metadata.hierarchy:[]}},{name:"enrollment_period",title:"Enrollment Period \n(x days from)",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.enrollment_period?e.custom_metadata.enrollment_period:[]}},{name:"effectivity_coverage",title:"Effectivity Coverage \n(x days from)",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.effectivity_coverage?e.custom_metadata.effectivity_coverage:[]}},{name:"age_limit",title:"Age Limit \n(min-max)",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:[]}}],T={type:["type"],hierarchy:["hierarchy"],enrollment_period:["enrollment_period"],effectivity_coverage:["effectivity_coverage"],eligibility_age_limit:["age_limit"]},I=[{columnName:"name",width:125,wordWrapEnabled:!0},{columnName:"hierarchy",width:100,wordWrapEnabled:!0},{columnName:"type",width:120,wordWrapEnabled:!0},{columnName:"enrollment_period",width:250,wordWrapEnabled:!0,align:"center"},{columnName:"effectivity_coverage",width:250,wordWrapEnabled:!0,align:"center"},{columnName:"age_limit",width:280,wordWrapEnabled:!0,align:"center"}],k=d;return f&&(k=d.reduce(function(e,t){var a=Object(ue.a)(t.child_nodes);return a=a.filter(function(e){return!!e.included&&e.included}),t.child_nodes=a,e.push(t),e},new Array)),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},f?null:u,n.createElement(_.a,{item:!0,sm:12,style:{marginBottom:"20px"}},f?y.principal_age_min||y.principal_age_max?n.createElement(ji,{label:"Principal Age",value:"".concat(y.principal_age_min?y.principal_age_min:"0","-",y.principal_age_max?y.principal_age_max:"0")}):null:n.createElement(n.Fragment,null,n.createElement(ln.a,{htmlFor:"principal_age"},"Principal Age"),n.createElement(hl,{minValue:y.principal_age_min?y.principal_age_min:0,maxValue:y.principal_age_max?y.principal_age_max:0,minOnChange:h,maxOnChange:h,minName:"principal_age_min",maxName:"principal_age_max"})))),n.createElement(_.a,{item:!0,sm:12,style:{marginBottom:"20px"}},f?y.no_of_dependents?n.createElement(ji,{label:"No. of Dependents",value:y.no_of_dependents}):null:n.createElement(n.Fragment,null,n.createElement(ct.a,{variant:"overline",display:"block",gutterBottom:!0},"Dependents"),n.createElement(ln.a,{htmlFor:"noDependents"},"No. of Dependents"),n.createElement(ir.a,{margin:"normal"},n.createElement(wt.a,{inputProps:{min:"0"},onChange:h,value:y.no_of_dependents?y.no_of_dependents:0,type:"number",labelWidth:0,name:"no_of_dependents",id:"no_of_dependents"})))),f?null:n.createElement(_.a,{item:!0,sm:12},n.createElement(C.a,{style:{color:"#3AB77D",marginTop:"20px"},onClick:function(e){return S(e,"civil")}},n.createElement(pe.a,{icon:N.B})," Add a Civil Status")),k.map(function(t,a){return!t.included||f&&0===t.child_nodes.length?null:n.createElement(_.a,{item:!0,sm:12,key:a},n.createElement(xt.a,{disableGutters:!0,style:{justifyContent:"space-between"}},n.createElement("span",null,t.name,"\xa0",f?null:n.createElement("span",{onClick:function(){return v(t.id)}},n.createElement(pe.a,{className:"fa-sm",icon:N.v,style:{color:"#FD5451",fontSize:"15px",marginLeft:"5px"}}))),f?null:n.createElement(C.a,{style:{color:"#3AB77D",width:"150px",marginLeft:"10px",textAlign:"right"},onClick:function(e){return S(e,"relationship")}},n.createElement(pe.a,{icon:N.B})," Add a Relationship")),n.createElement(Ni,Object.assign({viewOnly:f,formattedColumns:T,disableSearch:!0,disableFilter:!0,disablePaging:!0,disableMargin:!0,columnExtensions:I,columns:A},e,{rows:t.child_nodes})))}),n.createElement(dl.a,{open:m,anchorEl:r,onClose:O,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},"civil"===o?n.createElement(Cl,{onSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";b(e,t)},onClose:O,rows:d}):null,"relationship"===o?n.createElement(Nl,{onSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;E(e,t,a,n,r)},onClose:O,rows:d}):null)))},Cl=function(e){var t=e.onClose,a=e.onSubmit,r=Object(n.useState)(""),i=Object(p.a)(r,2),l=i[0],s=i[1],o=Object(n.useState)(""),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)(""),f=Object(p.a)(d,2),h=f[0],g=f[1],E=Object(n.useState)(!1),b=Object(p.a)(E,2),v=b[0],y=b[1],C=function(){s(""),u(""),g(""),y(!1)};return n.createElement(_.a,{item:!0,sm:12,style:{padding:"10px"}},n.createElement(El.a,{id:"form-dialog-title"},"Add a Civil Status"),n.createElement(gl.a,null,n.createElement(_.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},n.createElement(_.a,{item:!0,xs:12},n.createElement(vl,{label:"Name",value:l,error:m.length>0,onChange:function(e){s(e),u("")},errorMessage:m})),n.createElement(_.a,{item:!0,xs:12},n.createElement(vl,{label:"Description",value:h,error:v,onChange:function(e){g(e),y(0===e.length)},errorMessage:"Input Description",multiline:!0})))),n.createElement(bl.a,null,n.createElement(_.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},n.createElement(_.a,{item:!0,xs:5},n.createElement(Ie.a,{variant:"outlined",color:"default",fullWidth:!0,onClick:function(){C(),t()}},"Cancel")),n.createElement(_.a,{item:!0,xs:5},n.createElement(Ie.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){for(var n=0,r=0;r<e.rows.length;r++)e.rows[r].name.toUpperCase().trim()===l.toUpperCase().trim()&&(n=1);0!==l.trim().length&&1!==n||u(1===n?"Name is Already Used":"Input Name"),0===h.length&&y(!0),l.trim().length>0&&h.length>0&&0===n&&(C(),a(l,h),t())}},"Add")))))},Nl=function(e){var t=e.onClose,a=e.onSubmit,r=e.rows,i=Object(n.useState)(""),l=Object(p.a)(i,2),s=l[0],o=l[1],c=Object(n.useState)(!1),m=Object(p.a)(c,2),u=m[0],d=m[1],f=Object(n.useState)(""),h=Object(p.a)(f,2),g=h[0],E=h[1],b=Object(n.useState)(""),v=Object(p.a)(b,2),y=v[0],C=v[1],N=Object(n.useState)(""),S=Object(p.a)(N,2),O=S[0],A=S[1],T=Object(n.useState)(""),I=Object(p.a)(T,2),k=I[0],R=I[1],D=Object(n.useState)(!1),w=Object(p.a)(D,2),P=w[0],x=w[1],j=Object(n.useState)(""),F=Object(p.a)(j,2),L=F[0],M=F[1],U=Object(n.useState)(!1),B=Object(p.a)(U,2),H=B[0],V=B[1],G=Object(n.useState)(""),q=Object(p.a)(G,2),W=q[0],Y=q[1],z=Object(n.useState)(!1),K=Object(p.a)(z,2),X=K[0],J=K[1],Z=Object(n.useState)(""),Q=Object(p.a)(Z,2),$=Q[0],ee=Q[1],te=Object(n.useState)(!1),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)(""),le=Object(p.a)(ie,2),se=le[0],oe=le[1],ce=Object(n.useState)(!1),me=Object(p.a)(ce,2),ue=me[0],de=me[1],pe=Object(n.useState)(""),fe=Object(p.a)(pe,2),he=fe[0],ge=fe[1],Ee=Object(n.useState)(!1),be=Object(p.a)(Ee,2),ve=be[0],_e=be[1],ye=Object(n.useState)(""),Ce=Object(p.a)(ye,2),Ne=Ce[0],Se=Ce[1],Oe=Object(n.useState)(!1),Ae=Object(p.a)(Oe,2),Te=Ae[0],ke=Ae[1],Re=Object(n.useState)(""),De=Object(p.a)(Re,2),we=De[0],Pe=De[1],xe=Object(n.useState)(!1),je=Object(p.a)(xe,2),Fe=je[0],Le=je[1],Me=Object(n.useState)(""),Ue=Object(p.a)(Me,2),Be=Ue[0],He=Ue[1],Ve=Object(n.useState)(!1),Ge=Object(p.a)(Ve,2),qe=Ge[0],We=Ge[1],Ye=Object(n.useState)(""),ze=Object(p.a)(Ye,2),Ke=ze[0],Xe=ze[1],Je=Object(n.useState)(!1),Ze=Object(p.a)(Je,2),Qe=Ze[0],$e=Ze[1],et=function(){o(""),d(!1),E(""),C(""),A(""),R(""),x(!1),M(""),V(!1),Y(""),J(!1),ee(""),re(!1),oe(""),de(!1),ge(""),_e(!1)},tt=function(){return zr};return n.createElement(_.a,{item:!0,sm:12,style:{padding:"10px"}},n.createElement(El.a,{id:"form-dialog-title"},"Add a Relationship"),n.createElement(gl.a,null,n.createElement(_.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},n.createElement(_.a,{item:!0,sm:12},n.createElement(_l,{id:"civil-status-select",label:"Civil Status",data:r.reduce(function(e,t,a){if(t.included){var n={id:a,label:t.name,value:t.code};e.push(n)}return e},new Array),value:s,error:u,onChange:function(e){var t=e.value;o(t),d(0===t.length)}})),n.createElement(_.a,{item:!0,sm:12},n.createElement(_l,{id:"relationship-select",label:"Relationship to Principal",data:function(){var t=e.rows.find(function(e){return e.code===s});return void 0!==t?ii.reduce(function(e,a){return t.child_nodes.find(function(e){return e.code===a.value})||e.push(a),e},new Array):ii}(),value:g,error:""!==O,onChange:function(e){var t=e.label,a=e.value;E(t),C(a),A("")}})),n.createElement(_.a,{item:!0,sm:8},n.createElement(_l,{id:"type-select",label:"Type",data:ei,value:k,error:P,onChange:function(e){var t=e.value;R(t),x(0===t.length)}})),n.createElement(_.a,{item:!0,sm:4},n.createElement(_l,{id:"hierarchy-select",label:"Hierarchy",data:ti,value:L,error:H,onChange:function(e){var t=e.value;M(t),V(0===t.length)}})),n.createElement(_.a,{item:!0,sm:3},n.createElement(vl,{id:"enrollment-select",label:"Enrollment Period (x days from)",value:W,error:X,onChange:function(e){Y(e),J(0===e.length)}})),n.createElement(_.a,{item:!0,sm:9},n.createElement(_l,{id:"enrollment-unit-select",label:"\xa0",data:ai,value:$,error:ne,onChange:function(e){var t=e.value;ee(t),re(0===t.length)}})),n.createElement(_.a,{item:!0,sm:3},n.createElement(vl,{id:"effectivity-select",label:"Effectivity Coverage (x days from)",value:se,error:ue,onChange:function(e){oe(e),de(0===e.length)}})),n.createElement(_.a,{item:!0,sm:9},n.createElement(_l,{id:"effectivity-unit-select",label:"\xa0",data:ni,value:he,error:ve,onChange:function(e){var t=e.value;ge(t),_e(0===t.length)}})),n.createElement(_.a,{item:!0,sm:3},n.createElement(vl,{id:"age-limit-min-select",label:"Age Limit (min)",value:Ne,error:Te,onChange:function(e){Se(e),ke(0===e.length)}})),n.createElement(_.a,{item:!0,sm:3},n.createElement(_l,{id:"age-limit-min-unit-select",label:"\xa0",data:tt(),value:we,error:Fe,onChange:function(e){var t=e.value;Pe(t),Le(0===t.length)}})),n.createElement(_.a,{item:!0,sm:3},n.createElement(vl,{id:"age-limit-max-select",label:"Age Limit (max)",value:Be,error:qe,onChange:function(e){He(e),We(0===e.length)}})),n.createElement(_.a,{item:!0,sm:3},n.createElement(_l,{id:"age-limit-max-unit-select",label:"\xa0",data:tt(),value:Ke,error:Qe,onChange:function(e){var t=e.value;Xe(t),$e(0===t.length)}})),n.createElement(_.a,{item:!0,sm:12}))),n.createElement(bl.a,null,n.createElement(_.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},n.createElement(_.a,{item:!0,xs:5},n.createElement(Ie.a,{variant:"outlined",color:"default",fullWidth:!0,onClick:function(){et(),t()}},"Cancel")),n.createElement(_.a,{item:!0,xs:5},n.createElement(Ie.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){var n=0,i=0;if(0===s.length)d(!0);else{for(var l=0;l<e.rows.length;l++)s===e.rows[l].code&&(n=l);for(var o=0;o<e.rows[n].child_nodes.length;o++)g.toUpperCase().trim()===e.rows[n].child_nodes[o].name.toUpperCase().trim()&&(i=1)}if(0===k.length&&x(!0),0===g.trim().length||1===i?A(1===i?"Relationship is Already used in Selected Civil Status":"Relationship is Required"):A(""),0===W.length&&J(!0),0===$.length&&re(!0),0===se.length&&de(!0),0===he.length&&_e(!0),0===Ne.length&&ke(!0),0===we.length&&Le(!0),0===Be.length&&We(!0),0===Ke.length&&Le(!0),s.length>0&&k.length>0&&g.length>0&&W.length>0&&$.length>0&&se.length>0&&he.length>0&&Ne.length>0&&we.length>0&&Be.length>0&&Ke.length>0&&0===i){var c=r.find(function(e){return s===e.code}),m={type:k,relationship:g,hierarchy:L.length>0?L:null,enrollment_period:W,enrollment_period_unit:$,effectivity_coverage:se,effectivity_coverage_unit:he,age_limit_min:Ne,age_limit_min_unit:we,age_limit_max:Be,age_limit_max_unit:Ke};et(),a(g,y,"description",m,c),t()}}},"Add")))))};yl.defaultProps=Mi;var Sl=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly;console.log(a);var i=a;return r&&(i=a.filter(function(e){return(!e.is_base||!e.included)&&(!!e.included&&e.included)})),n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(_.a,{item:!0,sm:12},n.createElement(xt.a,{disableGutters:!0,style:{justifyContent:"space-between"}},"BASIS FOR ENROLLMENT"),n.createElement(Ni,Object.assign({viewOnly:r,formattedColumns:{identifier:["value"]},columnExtensions:[],columns:[{name:"data",title:"Data",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"value",title:"Value",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.value?e.custom_metadata.value:""}}],disableSearch:!0,disableFilter:!0,disablePaging:!0,disableMargin:!0},e,{rows:i}))))};Sl.defaultProps=Mi;var Ol=function(e){var t=e.rows,a=e.selectedPlanType,r=e.selectedBenefitCategory,i=null;return"BASE"===a&&(i=n.createElement(_.a,{item:!0,sm:12},n.createElement(ct.a,{variant:"h6"},"Base Plan"),n.createElement(ct.a,{variant:"body1",gutterBottom:!0},"You can use everything in this base plan or ",n.createElement(C.a,null,"create your own")))),"RBC"===r?n.createElement(Wi,Object.assign({formHeader:i},e)):"APE"===r?n.createElement(zi,Object.assign({formHeader:i},e)):"PPE"===r?(console.log("PPE SELECTED"),n.createElement(Ki,Object.assign({formHeader:i},e))):"IP"===r?n.createElement(Ui,Object.assign({formHeader:i},e)):"OP"===r?n.createElement(Xi,Object.assign({formHeader:i},e)):"DNT"===r?n.createElement(Zi,Object.assign({formHeader:i},e)):"EM"===r?n.createElement(Ji,Object.assign({formHeader:i},e)):"OM"===r?n.createElement(Qi,Object.assign({formHeader:i},e)):"EX"===r?n.createElement($i,Object.assign({formHeader:i},e)):"NT"===r?n.createElement(rl,Object.assign({formHeader:i},e)):"SD"===r?n.createElement(il,Object.assign({formHeader:i},e)):"MT"===r?n.createElement(ll,Object.assign({formHeader:i},e)):"SH"===r?n.createElement(sl,Object.assign({formHeader:i},e)):"PV"===r?n.createElement(ol,Object.assign({formHeader:i},e)):"ADD"===r?n.createElement(cl,Object.assign({formHeader:i},e)):"CC"===r?n.createElement(ml,Object.assign({formHeader:i},e)):"EC"===r?n.createElement(ul,Object.assign({formHeader:i},e)):"EL"===r?n.createElement(yl,Object.assign({formHeader:i},e)):"ID"===r?n.createElement(Sl,Object.assign({formHeader:i},e)):t.length>0?n.createElement(Yi,Object.assign({formHeader:i},e)):null};Ol.defaultProps={selectedPlanType:"",selectedBenefitCategory:"",subFormNode:{},rows:[],setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a){return console.log("setRowMetadata2",e,t,a)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setSubForm:function(e){return console.log("setSubForm",e)},setSubForm2:function(e){return console.log("setSubForm",e)},createRelationship:function(e){return console.log("createRelationship",e)},createCivilStatus:function(e){return console.log("createCivilStatus",e)},deleteCivilStatus:function(e){return console.log("deleteCivilStatus",e)},viewOnly:!1};var Al=a(820),Tl=Object(kt.a)({root:{justifyContent:"space-between"}}),Il=function(e){var t=e.selectionKey,a=e.sidebarList,r=e.name,i=e.value,l=e.onClick;return a.length>0?n.createElement(tn.a,{key:i,style:{paddingTop:4,paddingBottom:4}},n.createElement(C.a,{onClick:l,underline:"none"},n.createElement(an.a,{style:t===i?{color:"#2C2E8E",fontWeight:600,textDecoration:"underline",cursor:"default"}:{color:"#272E4C",fontWeight:400,cursor:"pointer"},disableTypography:!0,primary:r}))):null},kl=function(e){var t=e.children,a=e.itemAdornment,r=e.itemAdornmentOnClick,i=e.subheader,l=e.selectionKey,s=e.sidebarList,o=e.nameKey,c=e.valueKey,m=e.onClick,u=Tl();return n.createElement(en.a,null,null!=i?n.createElement(Al.a,{disableSticky:!0},i):null,s.map(function(e){return e[o]&&e[c]&&e.included?n.createElement(tn.a,{key:"".concat(e[c]),classes:u,style:{paddingTop:4,paddingBottom:4}},n.createElement(C.a,{onClick:function(){return m(e)},underline:"none"},n.createElement(an.a,{style:l===e[c]?{color:"#2C2E8E",fontWeight:600,textDecoration:"underline",cursor:"default"}:{color:"#272E4C",fontWeight:400,cursor:"pointer"},disableTypography:!0,primary:"".concat(e[o])})),null!=a?n.createElement("div",{onClick:function(){return r(e)}},a(e)):null):null}),t)},Rl=function(e){var t=e.children;return n.createElement("div",{style:{marginTop:"27.5px",marginRight:"40px",borderRight:"1px solid #D8D9DF"}},t)},Dl=function(e){var t=e.name,a=e.value,r=e.onClick;return n.createElement(tn.a,{key:a},n.createElement(C.a,{onClick:r},n.createElement(an.a,{disableTypography:!0,style:{color:"#3AB77D"}},n.createElement(pe.a,{icon:N.B})," ",t," ")))},wl=function(e){var t=e.contractNum,a=e.selectedBenefitCategory,r=e.roomAndBoardList,i=e.riderList,l=e.coverageList,s=e.setSelectedPlanPackage,o=e.setSelectedBenefitCategory,c=e.deleteBenefitCategory,m=e.setPopoverOpen,u=e.viewOnly,d=e.selectedPlanType;return n.createElement(Rl,null,n.createElement(ct.a,{style:{marginLeft:16,textTransform:"uppercase",fontSize:"0.625rem",fontWeight:600,color:"rgba(21, 28, 27, 0.45)"}},"Contract Id"),n.createElement(ct.a,{style:{marginLeft:16,fontSize:"1rem",color:"rgba(21, 28, 27, 1)",marginBottom:24}},t),n.createElement(Il,{sidebarList:r,name:"Room and Board",value:"RBC",selectionKey:a,onClick:function(){s("RB"),o("RBC")}}),n.createElement(kl,{sidebarList:l,subheader:"Coverage",nameKey:"name",valueKey:"code",selectionKey:a,onClick:function(e){s("CV"),o("".concat(e.code))},itemAdornment:function(e){return u||"BASE"!==d?!u&&"BASE"!==d&&e.base_disabled?n.createElement(pe.a,{icon:N.v,style:{color:"#B0AFB8"}}):null:n.createElement(pe.a,{icon:N.v,style:{color:"#B0AFB8"}})},itemAdornmentOnClick:function(e){return c(e)}},u?null:n.createElement(Dl,{name:"Add Coverage",value:"coverage",onClick:function(e){e.persist(),m(e,"CV")}})),n.createElement(kl,{sidebarList:i,subheader:"Riders",nameKey:"name",valueKey:"code",selectionKey:a,onClick:function(e){s("RI"),o("".concat(e.code))},itemAdornment:function(e){return u||"BASE"!==d?!u&&"BASE"!==d&&e.base_disabled?n.createElement(pe.a,{icon:N.v,style:{color:"#B0AFB8"}}):null:n.createElement(pe.a,{icon:N.v,style:{color:"#B0AFB8"}})},itemAdornmentOnClick:function(e){return c(e)}},u?null:n.createElement(Dl,{name:"Add Riders",value:"coverage",onClick:function(e){e.persist(),m(e,"RI")}})))};wl.defaultProps={contractNum:"-",roomAndBoardList:[],riderList:[],coverageList:[],setPopoverOpen:function(e,t){return console.log("setPopoverOpen",e,t)},selectedBenefitCategory:"",setSelectedPlanPackage:function(e){return console.log("setSelectedPlanPackage",e)},setSelectedBenefitCategory:function(e){return console.log("setSelectedBenefitCategory",e)},deleteBenefitCategory:function(e){return console.log("deleteBenefitCategory",e)},viewOnly:!1};var Pl=function(e){console.log("TEST",e.roomAndBoardList);var t=e.categoryNode,a=e.rows,r=e.planTypeList,i=e.roomAndBoardList,l=e.coverageList,s=e.riderList,o=e.selectedPlanType,c=e.selectedBenefitCategory,m=e.SetSelectedPlanType,u=e.SetSelectedPlanPackage,d=e.SetSelectedBenefitCategory;return n.createElement("div",null,n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,sm:12},n.createElement(Lr,{selectedPlanType:o,planTypeList:r,setSelectedPlanType:m,setModalOpen:function(){},viewOnly:!0,showEditPlanType:function(){}})),n.createElement(_.a,{item:!0,sm:12},n.createElement(wr.a,{variant:"middle"})),n.createElement(_.a,{item:!0,sm:12,md:3},n.createElement(wl,{contractNum:"-",selectedBenefitCategory:c,roomAndBoardList:i,riderList:s,coverageList:l,setSelectedPlanPackage:u,setSelectedBenefitCategory:d,deleteBenefitCategory:function(){},setPopoverOpen:function(){},viewOnly:!0})),n.createElement(_.a,{item:!0,sm:12,md:9},n.createElement(Ol,{selectedPlanType:o,selectedBenefitCategory:c,setRowSelection:function(){},setRowLimits:function(){},setRowMetadata:function(){},setRowMetadata2:function(){},setSubForm:function(){},setSubForm2:function(){},createCivilStatus:function(){},createRelationship:function(){},subFormNode:t,rows:a,viewOnly:!0}))))},xl=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"getMatchByPlanCode",value:function(e,t,a){return e.findIndex(function(e){return 8===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]&&t.tree_path[6]===e.tree_path[6]&&t.tree_path[7]===e.tree_path[7]:7===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]&&t.tree_path[6]===e.tree_path[6]:6===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]:5===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]:4===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]:3===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]:t.name===e.name&&t.code===e.code&&t.level===e.level})}}]),e}();xl.getNodeTree=function(e,t){var a=e,n=[],r=2;return(n=Array.isArray(a.tree_path)?Object(ue.a)(a.tree_path).reverse():Object.values(a.tree_path).reverse()).shift(),3===a.level&&(r=1),n.reduce(function(e,n){if(void 0!==a&&a.level>r){var i={id:a.id,name:a.name,code:a.code};a.original_id&&(i.original_id=a.original_id),e.push(i),a=t.find(function(e){return e.level===a.level-1&&e.code===n&&e.children.includes(a.id)})}return e},new Array).reverse()},xl.convertNodeData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[],n=Object(ue.a)(e);return t||(n=n.filter(function(e){return 1===e.level||2===e.level||e.level>2&&"BASE"===e.tree_path[2]})),n=(n=(n=n.sort(function(e,t){return 3===e.level&&"BASE"===e.code?-1:3===t.level&&"BASE"===t.code?1:e.sort_index>t.sort_index?-1:e.sort_index<t.sort_index?1:e.name>t.name?1:e.name<t.name?-1:0})).map(function(e,n){var r=e._id,i="BASE";e.level>2&&"BASE"!==e.tree_path[2]&&(i=e.tree_path[2]);var l="NODE-"+i+"-"+n.toString().padStart(3,"0");e.included=!0;var s={id:r,newID:l},o=Object.assign({},e.custom_metadata);if(o.included_facilities&&o.included_facilities.length>0){var c=Object(ue.a)(o.included_facilities);o.partner_network_list=c.map(function(e,t){var a=Object.assign({},e);return a.parent=l,a.included=!0,a.index=t,a}),delete o.included_facilities}if(o.excluded_facilties&&o.excluded_facilties.length>0){var m=Object(ue.a)(o.excluded_facilties),u=[];void 0!==o.partner_network_list&&(u=Object(ue.a)(o.partner_network_list)),m=m.map(function(e,t){var a=Object.assign({},e);return a.parent=l,a.included=!1,a.index=t,a}),o.partner_network_list=[].concat(Object(ue.a)(u),Object(ue.a)(m)),delete o.excluded_facilties}return e.custom_metadata=o,a.push(s),t&&(e.original_id=e._id),e.id=l,delete e._id,Object.assign({},e)})).map(function(e){return t&&(e.original_children=Object(ue.a)(e.children)),e.children.length>0&&(e.children=e.children.reduce(function(e,t){var n=a.find(function(e){return e.id===t});return n&&e.push(n.newID),e},[])),e})},xl.createExclusionList=function(e){return e.reduce(function(t,a){if(6===a.level&&"EX"===a.tree_path[3]){var n=xl.getNodeTree(a,e);t.push(n)}return t},[])},xl.combineNodes=function(e,t){return e.reduce(function(e,a){return a.children.map(function(n){var r=t.find(function(e){return n===e.id});if(r){var i=Object.assign({},r);i.parent_name=a.name,i.parent_code=a.code,i.disabled=!1,e.push(i)}}),e},[])},xl.combineNodes2=function(e,t){return e.reduce(function(e,a){var n=Object.assign({},a),r=[];return n.children.map(function(e){var a=t.find(function(t){return e===t.id});if(a){var n=Object.assign({},a);n.disabled=!1,r.push(n)}}),n.child_nodes=r,n.disabled=!1,e.push(n),e},[])},xl.getFilteredNodes=function(e,t){return e.filter(function(e){return e.level===t})},xl.getSidebarList=function(e,t,a){return e.reduce(function(n,r){if(r.tree_path[2]===t&&r.tree_path[3]===a){var i=Object.assign({},r);if("BASE"!==t){var l=e.find(function(e){return e.name===i.name&&e.code===i.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===i.tree_path[3]&&e.tree_path[4]===i.tree_path[4]});l&&!1===l.included?i.base_disabled=!0:i.base_disabled=!1}n.push(i)}return n},new Array)},xl.getRows=function(e,t,a,n,r,i,l,s){var o=[];if(["EX"].includes(s))e.length>0&&(o=e.reduce(function(e,t){if(t[0].code===i){var n=Object.assign({},t[t.length-1]),r=Object.assign({},t[t.length-2]);n.parent_name=r.name,n.parent_code=r.code,n.disabled=!1,n.included=!1;var l=a.find(function(e){return e.id===n.id});if(l&&l.custom_metadata&&void 0!==l.custom_metadata.is_excluded){var s=Object.assign({},l.custom_metadata);n.included=s.is_excluded}e.push(n)}return e},[]));else if(["ID","NT"].includes(s)){var c=t.filter(function(e){return e.tree_path[2]===i&&e.tree_path[3]===s}),m=a.filter(function(e){return e.tree_path[2]===i&&e.tree_path[3]===s});o=xl.combineNodes2(c,m)}else if(["EL"].includes(s)){var u=n.filter(function(e){return e.tree_path[2]===i&&e.tree_path[3]===l&&e.tree_path[4]===s&&"DP"===e.tree_path[5]}),d=r.filter(function(e){return e.tree_path[2]===i&&e.tree_path[3]===l&&e.tree_path[4]===s&&"DP"===e.tree_path[5]});o=xl.combineNodes2(u,d),"BASE"!==i&&(o=o.map(function(e){return e.child_nodes.map(function(e){var t=r.find(function(t){return t.name===e.name&&t.code===e.code&&"BASE"===t.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]&&t.tree_path[6]===e.tree_path[6]&&t.tree_path[7]===e.tree_path[7]});return t&&!0===t.included?e.disabled=!0:e.disabled=!1,e}),e}))}else if(["RBC"].includes(s))o=(o=(o=Object(ue.a)(t)).filter(function(e){return e.tree_path[2]===i&&e.tree_path[3]===l})).map(function(e){return e.disabled=!1,e});else{if(["EM","DNT","CC","EC","PV","SH","ADD","SD"].includes(s))return o=(o=Object(ue.a)(a)).filter(function(e){return e.tree_path[2]===i&&e.tree_path[3]===l&&e.tree_path[4]===s}),o="BASE"!==i&&"SH"!==s?o.map(function(e){var t=a.find(function(t){return t.name===e.name&&t.code===e.code&&"BASE"===t.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]});return t&&!0===t.included?e.disabled=!0:e.disabled=!1,e}):o.map(function(e){return e.disabled=!1,e});if(["MT","APE","IP","OP","OM","PPE"].includes(s)){var p=a.filter(function(e){return e.tree_path[2]===i&&e.tree_path[4]===s}),f=n.filter(function(e){return e.tree_path[2]===i&&e.tree_path[3]===l&&e.tree_path[4]===s});o=xl.combineNodes(p,f),"BASE"!==i&&(o=o.map(function(e){var t=n.find(function(t){return t.name===e.name&&t.code===e.code&&"BASE"===t.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]&&t.tree_path[6]===e.tree_path[6]});return t&&!0===t.included?e.disabled=!0:e.disabled=!1,e}))}else o=n.filter(function(e){return e.tree_path[2]===i&&e.tree_path[3]===l&&e.tree_path[4]===s})}return"EX"!==s&&(o=o.filter(function(e){return!e.custom_metadata||void 0===e.custom_metadata.standard_exclusion||!e.custom_metadata.standard_exclusion})),o},xl.getContractNode=function(e){return e.find(function(e){return"CT"===e.code})},xl.getCategoryNode=function(e,t,a,n,r){return["RBC","EX"].includes(r)?e.find(function(e){return e.code===n&&e.tree_path[2]===a&&e.tree_path[3]===n}):"NT"===r?e.find(function(e){return e.code===r&&e.tree_path[2]===a&&e.tree_path[3]===r}):t.find(function(e){return e.code===r&&e.tree_path[2]===a&&e.tree_path[3]===n&&e.tree_path[4]===r})},xl.getPlanTypeList=function(e,t,a,n){var r=["EM","SD","PV"],i=["DNT","EC","CC","SH","ADD"],l=[].concat(Object(ue.a)(t),Object(ue.a)(a),Object(ue.a)(n));return e.map(function(e){return e.count=l.reduce(function(n,l){if(6===l.level&&l.tree_path[2]===e.code&&l.included&&["CV"].includes(l.tree_path[3])&&r.includes(l.tree_path[4]))if("BASE"!==l.tree_path[2]){var s=a.find(function(e){return e.name===l.name&&e.code===l.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===l.tree_path[3]&&e.tree_path[4]===l.tree_path[4]&&e.tree_path[5]===l.tree_path[5]});s&&!s.included&&n++}else n++;else if(6===l.level&&l.tree_path[2]===e.code&&l.included&&["RI"].includes(l.tree_path[3])&&i.includes(l.tree_path[4]))if("BASE"!==l.tree_path[2]){var o=a.find(function(e){return e.name===l.name&&e.code===l.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===l.tree_path[3]&&e.tree_path[4]===l.tree_path[4]&&e.tree_path[5]===l.tree_path[5]});o&&!o.included&&"SH"!==l.tree_path[4]&&n++}else n++;else if(7===l.level&&l.tree_path[2]===e.code&&l.included&&!["EM","EC","EL"].includes(l.tree_path[4]))if("BASE"!==l.tree_path[2]){var c=t.find(function(e){return e.name===l.name&&e.code===l.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===l.tree_path[3]&&e.tree_path[4]===l.tree_path[4]&&e.tree_path[5]===l.tree_path[5]&&e.tree_path[6]===l.tree_path[6]});c&&!c.included&&n++}else n++;else if(8===l.level&&l.tree_path[2]===e.code&&l.included&&!["OP"].includes(l.tree_path[4]))if("BASE"!==l.tree_path[2]){var m=t.find(function(e){return e.name===l.name&&e.code===l.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===l.tree_path[3]&&e.tree_path[4]===l.tree_path[4]&&e.tree_path[5]===l.tree_path[5]&&e.tree_path[6]===l.tree_path[6]});m&&!m.included&&n++}else n++;return n},0),e})},xl.generatePlanNodes=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"BASE",i=Object(ue.a)(e),l="";i=i.filter(function(e){return e.level>2&&e.tree_path[2]===r});var s=[];return{planNodes:i=(i=i.map(function(e,i){var o=Object.assign({},e),c=o.id,m="NODE-"+a+"-"+i.toString().padStart(3,"0");o.level>2&&o.tree_path[2]===r&&(o.tree_path=Object.assign({},o.tree_path),o.tree_path[2]=a),3===o.level&&o.code===r&&(o.name=t,o.code=a,o.custom_metadata||(o.custom_metadata={}),o.custom_metadata_schema||(o.custom_metadata_schema={}),o.custom_metadata=Object.assign({},o.custom_metadata),o.description="Specific Plan Type Template",o.sort_index=2,o.custom_metadata.title="Benefits for "+t,o.custom_metadata.contract_plan_type=n.contractPlanType?n.contractPlanType:n.requestedRate?"HMO":"",o.custom_metadata.requested_rate=n.requestedRate?n.requestedRate:0,o.custom_metadata.admin_fee=n.adminFee?n.adminFee:0,o.custom_metadata.naf=n.naf?n.naf:0,o.custom_metadata.rsd=n.rsdFee?n.rsdFee:0,o.custom_metadata.indicative_principals=n.indicativeNumOfPrincipals?n.indicativeNumOfPrincipals:0,o.custom_metadata.indicative_dependents=n.indicativeNumOfDependents?n.indicativeNumOfDependents:0,o.custom_metadata_schema={properties:{title:{type:"string"},contract_plan_type:{type:"string"},requested_rate:{type:"number"},admin_fee:{type:"number"},naf:{type:"number"},rsd:{type:"number"},indicative_principals:{type:"number"},indicative_dependents:{type:"number"}}},l=m);var u={id:c,newID:m};return s.push(u),o.id=m,o.edited=!1,delete o.original_children,delete o.original_id,o})).map(function(e){if(e.children.length>0&&(e.children=e.children.reduce(function(e,t){var a=s.find(function(e){return e.id===t});return a&&e.push(a.newID),e},[])),e.limits&&(e.limits=Object(ue.a)(e.limits)),e.custom_metadata&&e.custom_metadata.partner_network_list){var t=Object.assign({},e.custom_metadata),a=Object(ue.a)(e.custom_metadata.partner_network_list);a=a.reduce(function(t,a){var n=Object.assign({},a);return n.parent=e.id,t.push(n),t},new Array),t.partner_network_list=a,e.custom_metadata=t}if(e.original_node){var n=s.find(function(t){return t.id===e.original_node});n&&(e.original_node=n.newID)}return e}),planTypeID:l}},xl.combineBaseBenefitNodes=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.reduce(function(e,t){return 3===t.level&&"BASE"!==t.code&&e.push(t),e},[]),r=Object(ue.a)(e);r=(r=r.filter(function(e){return!([7,8].includes(e.level)&&"TC"===e.tree_path[3]&&"EL"===e.tree_path[4])})).map(function(e){if(6===e.level&&"TC"===e.tree_path[3]&&"EL"===e.tree_path[4]){var t=Object.assign({},e);return t.children=t.children.filter(function(e){return!!r.find(function(t){return t.id===e})}),t}return e}),(r=(r=n.reduce(function(e,t){var a=xl.generatePlanNodes(e,t.name,t.code,t),n=a.planNodes,r=a.planTypeID,i=e.findIndex(function(e){return 2===e.level&&"CT"===e.code});return e[i].children.push(r),[].concat(Object(ue.a)(e),Object(ue.a)(n))},r)).map(function(e){var n=Object.assign({},e),r=t.find(function(e){return 8===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]&&n.tree_path[4]===e.tree_path[4]&&n.tree_path[5]===e.tree_path[5]&&n.tree_path[6]===e.tree_path[6]&&n.tree_path[7]===e.tree_path[7]:7===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]&&n.tree_path[4]===e.tree_path[4]&&n.tree_path[5]===e.tree_path[5]&&n.tree_path[6]===e.tree_path[6]:6===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]&&n.tree_path[4]===e.tree_path[4]&&n.tree_path[5]===e.tree_path[5]:5===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]&&n.tree_path[4]===e.tree_path[4]:4===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]:3===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]:"CT"===n.code?"CT"===e.code:"MCT"===n.code?"MCT"===e.code:n.name===e.name&&n.code===e.code&&n.level===e.level});if(r){var i=Object.assign({},r);delete i.id,delete i.children,delete i.node_path,delete i.tree_id,delete i.tree_path,n=Object.assign({},n,i),a&&n.level>3&&"BASE"!==n.tree_path[2]&&(n.edited=!0)}else(n.level>6||5===n.level&&["RI","CV","RB","ID"].includes(n.tree_path[3])||6===n.level&&"EX"===n.tree_path[3]||6===n.level&&"RI"===n.tree_path[3]&&"OM"===n.tree_path[4]||6===n.level&&["EM","CC","EC","DNT","ADD","SH","SD","PV"].includes(n.tree_path[4]))&&(n.included=!1);return n})).map(function(e,t){if(e.level>3&&"BASE"!==e.tree_path[2]&&"RB"!==e.tree_path[3]){var n=xl.getMatchByPlanCode(r,r[t],"BASE");if(a&&("EX"===e.tree_path[3]||"RI"===e.tree_path[3]&&"OM"===e.tree_path[4])){if(n>-1&&r[n].custom_metadata.is_excluded&&!0===r[n].custom_metadata.is_excluded){var i=Object.assign({},r[t]);a&&(i.is_base=!0),r[t]=i}}else if(n>-1&&r[n].included&&!0===r[n].included){var l=Object.assign({},r[t]);if(!1===l.included){var s=Object.assign({},r[n]);delete s.id,delete s.children,delete s.original_id,delete s.original_children,delete s.node_path,delete s.tree_id,delete s.tree_path,(l=Object.assign({},l,s)).included=!0}a&&!l.edited&&(l.is_base=!0),r[t]=l}}});var i=0,l=t.filter(function(e){return[7,8].includes(e.level)&&"TC"===e.tree_path[3]&&"EL"===e.tree_path[4]});return(l=l.sort(function(e,t){return e.level<t.level?-1:e.level>t.level?1:0})).map(function(e){var t="NODE-LOAD-"+i.toString().padStart(3,"0"),a=e.level-1,n=e.tree_path[e.level-2],l=r.findIndex(function(t){return 5===e.level?n===t.code&&a===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]:6===e.level?n===t.code&&a===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]:7===e.level?n===t.code&&a===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]&&e.tree_path[5]===t.tree_path[5]:8===e.level&&(n===t.code&&a===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]&&e.tree_path[5]===t.tree_path[5]&&e.tree_path[6]===t.tree_path[6])}),s=Object.assign({},e);if(s.children=[],r[l]&&void 0!==r[l]){var o=Object(ue.a)(r[l].children);o.push(t),r[l].children=o}s.included=!0,s.id=t,r.push(s),i++}),r};var jl=Object(mt.a)(function(e){return{main:{minHeight:500,backgroundColor:"#F5F7FB"},gridHeader:{backgroundColor:"#FFFFFF",padding:"32px 24px"},gridContainer:{padding:"32px 24px"},breadCrumbs:{marginBottom:"10px"},headerTitle:{fontSize:25,fontWeight:600,color:"#272E4C"},gridItemLayout:{padding:e.spacing(1)},avatar:{width:"130px",height:"130px"},sideNavHeader:{fontSize:13,fontWeight:700,color:"rgba(39, 46, 76, 0.3)"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"#2c2e8e",cursor:"pointer",textDecoration:"underline"},listItemTextPrimaryNotSelected:{fontSize:14,color:"#272e4c",cursor:"pointer"},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},table:{marginTop:10,boxShadow:"0px 3px 6px #00000029"},tabs:{marginTop:10},tab:{fontWeight:"normal"},subSectionTitle:{fontSize:16,fontWeight:400,color:"#272e4c"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},inputLabel:{color:"#272e4c"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},title:{marginTop:20,fontSize:24,fontWeight:700},subTitle:{merginTop:2,fontSize:14},iconsSpan:{color:"#0D5E40",fontSize:"14px",fontWeight:600,cursor:"pointer"},icons:{color:"#0D5E40",fontSize:"22px",paddingRight:"6px",paddingTop:"3px"},popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},textLabel:{fontSize:"12px",fontWeight:700},text:{fontSize:"12px"},paper:{padding:"20px",width:300},downloadBtn:{width:135,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},downloadReport:{marginTop:20,textAlign:"right"},uploadFile:{border:"0.5px dashed",color:"#7b8099",backgroundColor:"#E6E8EE",textAlign:"center",borderRadius:5,width:182,height:182,padding:"46px"},dropzoneFinalize:{display:"flex",width:182,height:182,marginBottom:"46px"},uploaded:{width:182,height:182,border:"0.5px solid",borderRadius:5,paddingRight:1,paddingBottom:1,objectFit:"cover"},uploadFiles:{marginRight:"55px",marginBottom:"55px"},uploadFilesContainer:{marginTop:e.spacing(5),minHeight:"70vh",marginBottom:20},thumbnail:{width:182,height:182,border:"0.5px solid",borderRadius:5,paddingRight:1,paddingBottom:1,position:"relative",textAlign:"center",verticalAlign:"middle"},pdfIcon:{position:"absolute",top:"40%",bottom:"50%",left:"45%",right:"50%"}}}),Fl=function(e){var t=jl(),a=Object(n.useState)(!1),r=Object(p.a)(a,2),i=r[0],l=r[1],s=Object(n.useState)(""),o=Object(p.a)(s,2),c=o[0],m=o[1],u=Object(n.useState)("BASE"),d=Object(p.a)(u,2),f=d[0],h=d[1],g=Object(n.useState)("RB"),E=Object(p.a)(g,2),b=E[0],v=E[1],y=Object(n.useState)("RBC"),C=Object(p.a)(y,2),N=C[0],S=C[1],O=Object(n.useState)([]),A=Object(p.a)(O,2),k=A[0],R=A[1],D=Object(n.useState)([]),w=Object(p.a)(D,2),P=w[0],x=w[1],j=Object(n.useState)([]),F=Object(p.a)(j,2),L=F[0],M=F[1],U=Object(n.useState)([]),B=Object(p.a)(U,2),H=B[0],V=B[1],G=Object(n.useState)([]),q=Object(p.a)(G,2),W=q[0],Y=q[1],z=Object(n.useState)([]),K=Object(p.a)(z,2),X=K[0],J=K[1],Z=Object(n.useState)([]),Q=Object(p.a)(Z,2),$=Q[0],ee=Q[1],te=Object(n.useState)([]),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1];return Object(n.useEffect)(function(){l(!0),T.a.get("base-benefit-plans/",function(t){if(t&&void 0===t.error&&t.length>0){var a,n=Object(ue.a)(t);a=xl.convertNodeData(n),T.a.get("benefit-plans/tree/".concat(e.contractId),function(e){if(e&&void 0===e.error&&e.length>0){localStorage.setItem("client_benefits",JSON.stringify(e));var t,n=Object(ue.a)(e),r=Object(ue.a)(k);t=xl.convertNodeData(n,!0);var i=xl.combineBaseBenefitNodes(a,t);r=xl.createExclusionList(i),R(r),v("RB"),S("RBC"),x(xl.getFilteredNodes(i,2)),M(xl.getFilteredNodes(i,3)),V(xl.getFilteredNodes(i,4)),Y(xl.getFilteredNodes(i,5)),J(xl.getFilteredNodes(i,6)),ee(xl.getFilteredNodes(i,7)),re(xl.getFilteredNodes(i,8)),l(!1)}else console.log("get client benefits error",e.error),localStorage.setItem("client_benefits",""),l(!1),m("An error occurred while loading client benefits.")},function(e){console.log("get client benefits error",e),localStorage.setItem("client_benefits",""),l(!1),m("An error occurred while loading client benefits.")})}else console.log("get client benefits error",t.error),localStorage.setItem("client_benefits",""),l(!1),m("An error occurred while loading client benefits.")},function(e){console.log("get client benefits error",e),localStorage.setItem("client_benefits",""),l(!1),m("An error occurred while loading client benefits.")})},[]),n.createElement("div",{className:"section"},i?n.createElement(I.a,{height:"10rem"}):n.createElement("div",null,n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Client Benefits"),n.createElement(_.a,{container:!0,className:"sub-section",spacing:5,style:{paddingRight:24}},n.createElement(Pl,{classes:t,planTypeList:xl.getPlanTypeList(L,$,X,ne),contractNode:xl.getContractNode(P),categoryNode:xl.getCategoryNode(H,W,f,b,N),roomAndBoardList:xl.getSidebarList(W,f,"RB"),coverageList:xl.getSidebarList(W,f,"CV"),riderList:xl.getSidebarList(W,f,"RI"),rows:xl.getRows(k,W,X,$,ne,f,b,N),selectedPlanType:f,selectedBenefitCategory:N,SetSelectedPlanType:h,SetSelectedPlanPackage:v,SetSelectedBenefitCategory:S})),n.createElement("div",{className:"section"})),n.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!c,autoHideDuration:6e3,onClose:function(){m("")},message:c}))},Ll=a(776),Ml=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:parseInt(e.target.value,10),page:0})},a.getSlicedData=function(){if(a.props.rowsPerPageOptions){var e=a.state.page*a.state.rowsPerPage;return a.props.rows.slice(e,e+a.state.rowsPerPage)}return a.props.rows},a.state={page:0,rowsPerPage:0,filterData:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.rowsPerPageOptions&&this.setState({rowsPerPage:this.props.rowsPerPageOptions[0]})}},{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement("div",{id:"CustCont",style:{width:"100%"}},n.createElement(vt.a,{style:{overflowX:"auto"},className:"".concat(this.props.className?this.props.className:""," table"),stickyHeader:!!this.props.stickyHeader&&this.props.stickyHeader},n.createElement(_t.a,null,this.props.columns?n.createElement(F.a,null,this.props.columns.map(function(e){return n.createElement(j.a,null,e.label)})):this.props.renderHeader?n.createElement(F.a,null,this.props.renderHeader()):null),n.createElement(yt.a,null,this.props.renderRow?this.getSlicedData().map(function(t,a){return e.props.renderRow(t,a)}):null))),this.props.rowsPerPageOptions?n.createElement(Ll.a,{className:"".concat(this.props.paginationClass?this.props.paginationClass:""," pagination MuiTablePagination-root"),rowsPerPageOptions:this.props.rowsPerPageOptions,count:this.props.rows.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,labelDisplayedRows:function(t){return e.props.onChangeInfo?e.props.onChangeInfo(t):"".concat(t.from,"-").concat(t.to," of ").concat(t.count)},labelRowsPerPage:this.props.labelRowsPerPage?this.props.labelRowsPerPage:"Rows per page:",onChangePage:function(t,a){e.setState({page:a})},onChangeRowsPerPage:function(t){e.setState({rowsPerPage:parseInt(t.target.value,10),page:0})}}):null)}}]),t}(n.PureComponent),Ul=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"icon-button",onClick:function(){return e.props.onClick()}},this.props.icon?n.createElement(pe.a,{icon:this.props.icon,size:this.props.size}):null)}}]),t}(n.Component),Bl=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value||this.props.error!==e.error}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:this.props.disabled?"text-disabled text":"text"},this.props.placeholder):null,n.createElement("input",{type:"text",disabled:this.props.disabled,className:this.props.disabled?"text-field-disabled text-field":"text-field",style:t,value:this.props.value,onChange:function(t){(!e.props.charLimit||t.target.value.length<=e.props.charLimit)&&e.props.onChange(t.target.value)}}),this.props.charLimit?n.createElement(n.Fragment,null,n.createElement("div",{className:"text"}),n.createElement("div",{className:this.props.disabled?"text-disabled text":"text",style:{textAlign:"right"}},"".concat(this.props.value.length,"/").concat(this.props.charLimit))):null)}}]),t}(n.Component),Hl=Object(mt.a)({grid:function(e){return{height:e.height}}}),Vl=function(e){var t=Hl(e);return n.createElement(_.a,{item:!0,xs:12,className:t.grid})};Vl.defaultProps={height:"10px"};var Gl=Object(kt.a)(function(){return{benefitTable:{boxShadow:"0px 3px 6px #00000029"},searchField:{backgroundColor:"white",marginLeft:"4%",width:"92%"},searchInputAdornment:{color:"#00000061",marginRight:"8px"}}}),ql=function(e){var t=e.contractID,a=Object(n.useState)([]),r=Object(p.a)(a,2),i=r[0],l=r[1],s=Object(n.useState)(!0),o=Object(p.a)(s,2),c=o[0],m=o[1],u=Object(n.useState)([]),d=Object(p.a)(u,2),f=d[0],h=d[1],g=Object(n.useState)(),E=Object(p.a)(g,2),b=E[0],v=E[1],y=Object(n.useState)(),S=Object(p.a)(y,2),O=S[0],A=S[1],k=Object(n.useState)(!0),R=Object(p.a)(k,2),D=R[0],w=R[1],P=Object(n.useState)(0),x=Object(p.a)(P,2),L=x[0],M=x[1],U=Object(n.useState)("BASE"),B=Object(p.a)(U,2),H=B[0],V=B[1],G=Gl(),q=Object(n.useState)(""),W=Object(p.a)(q,2),z=W[0],K=W[1],X=Object(n.useState)({}),J=Object(p.a)(X,2),Z=J[0],Q=J[1],$=Object(n.useState)(!1),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(p.a)(ne,2),ie=re[0],le=re[1],se=[{name:"parent_name",title:"Type"},{name:"name",title:"Item"}],oe=function(e){var t=i;return""!==z.trim()&&(console.log("largeSearch",z,t),t=t.filter(function(e){return e.name.toString().toLowerCase().includes(z.toLocaleLowerCase().trim())||e.parent_name.toString().toLowerCase().includes(z.toLocaleLowerCase().trim())})),e.map(function(e){t=t.filter(function(t){return!f[e.name]||(""===f[e.name]||t[e.name]&&t[e.name].toString().toLowerCase().includes(f[e.name].toLowerCase()))})}),t=t.filter(function(e){return e.plan_type===H}),Z.name&&(t="name"===Z.name?1===Z.direction?t.sort(function(e,t){return e.name&&t.name&&e.name>t.name?1:-1}):t.sort(function(e,t){return e.name&&t.name&&e.name>t.name?-1:1}):1===Z.direction?t.sort(function(e,t){return e.parent_name&&t.parent_name&&e.parent_name>t.parent_name?1:-1}):t.sort(function(e,t){return e.parent_name&&t.parent_name&&e.name>t.parent_name?-1:1})),t},ce=function(){return n.createElement(Ml,{className:"ticket-list-table",canOverflow:!0,rows:oe(se),stickyHeader:!0,renderHeader:function(){return de(se,se)},renderRow:function(e,t){return ge(e,t,se)},rowsPerPageOptions:[5,10,15]})},me=function(){L&&clearTimeout(L),M(setTimeout(function(){fe()},2e3))},ue=function(e){console.log("rendertabs",e);var t=e.map(function(e){return console.log("item",e),n.createElement(ct.a,{style:{display:"inline-block",marginRight:"10px"}},n.createElement(C.a,{onClick:function(){V(e),fe()}},n.createElement("span",null,e)))});return console.log("tabelem",t),t};c&&(v(ce()),m(!1));var de=function(e,t){var a=0;return n.createElement(n.Fragment,null,e.map(function(r,i){var l=t.filter(function(e){return e===r.name})[0],s=!0;l&&e[i+1]&&(s=!!t.filter(function(t){return t===e[i+1].name})[0]);var o={left:l?125*a:0,zIndex:l?125:0,width:"version"===r.name?"100px":"150px",paddingRight:"0px",paddingLeft:"10px",borderRight:s?void 0:"#9EA3AC 2px solid"};return l&&a++,n.createElement(j.a,{style:o},n.createElement("span",{className:"header-2"},r.title),n.createElement("div",{style:{float:"right"}},n.createElement(Ul,{icon:N.H,onClick:function(){!function(e){var t=0;t=Z.name===e?1===Z.direction?-1:-1===Z.direction?1:-1:1,Q({name:e,direction:t}),fe()}(r.name),m(!0)}})),n.createElement(Bl,{value:f[r.name],onChange:function(e){f[r.name]=e,h(f),me()}}))}))},fe=function(){w(!0),T.a.get("benefit-plans/tree/"+t,function(e){console.log("benefits",e),console.log("exclusions",e.filter(function(e){return"EX"===e.tree_path[3]}));var t=e.filter(function(e){return 5===e.level&&"EX"===e.tree_path[3]});console.log("parents",t);var a=[];t.map(function(t){t.children.forEach(function(n){var r=e.filter(function(e){return e._id===n&&e.custom_metadata.is_excluded});r.length>0&&a.push({name:r[0].name,parent_name:t.name,code:r[0].code,parent_code:t.code,plan_type:t.tree_path[2]})})});var n=e.filter(function(e){return 3===e.level}),r=[];n.map(function(e){r.push(e.code)}),console.log("tabs",r),A(ue(r)),l(a),console.log("exclusions",a),w(!1)},function(e){console.log(e),le(e),ae(!0)})};n.useEffect(function(){fe()},[]),n.useEffect(function(){v(ce())},[i]);var he={left:0,position:"relative",fontSize:"12px",minWidth:"10px",maxWidth:"300px",paddingRight:"0px",paddingLeft:"10px"},ge=function(e,t,a){var r=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r}},a.map(function(t){return n.createElement(j.a,{style:he,onClick:function(){console.log("href")}},e[t.name])}))};return n.createElement(n.Fragment,null,D?n.createElement(I.a,{height:"10rem"}):n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section"},n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},n.createElement(_.a,{item:!0,sm:12,style:{marginBottom:"10px",fontSize:"14px",marginTop:"14px",marginLeft:"2%",fontWeight:"bold"}},"Check Exclusions"),n.createElement(_.a,{item:!0,sm:12},n.createElement("div",{style:{borderBottom:"1px solid #C3C3C3",marginLeft:"4%",width:"92%"}},O)))),n.createElement(Vl,{height:"30px"}),n.createElement(_.a,{item:!0,sm:12},n.createElement(Mt.a,{id:"history_search",placeholder:"Search a benefit or benefit category",className:G.searchField,margin:"dense",variant:"outlined",fullWidth:!0,value:z,onChange:function(e){K(e.target.value.trim()),me()},inputProps:{"aria-label":"bare"},InputProps:{startAdornment:n.createElement(pe.a,{icon:N.G,className:G.searchInputAdornment})}})),n.createElement(_.a,{item:!0,sm:12},n.createElement("div",{style:{marginLeft:"4%",width:"92%"}},b)),n.createElement(Y,{isOpen:te,header:n.createElement(ct.a,null,"Error"),content:n.createElement("div",{style:{width:"100%"}},n.createElement(ct.a,null,ie)),footer:n.createElement(Ie.a,{onClick:function(){ae(!1)}},"Okay")})),n.createElement("div",{className:"section"})))},Wl=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).requestTypes=[{value:"1",label:"Contract Revision"},{value:"2",label:"Corporate Guarantee and BillBack Arrangements"},{value:"3",label:"Sponsorship"},{value:"4",label:"Special Accomodation - Enrollment"},{value:"5",label:"Special Accomodation - Termination / Cancellation"},{value:"6",label:"Special Accomodation - Availment"},{value:"7",label:"Others"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"availment-section"},n.createElement("div",{style:{paddingTop:"5rem"}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"REQUEST DETAILS"),n.createElement(z.a,{placeholder:"Summary of Request (Title)*",value:this.props.requestApproval.title,charLimit:50,error:this.props.createTicketAttemp&&""===this.props.requestApproval.title,onChange:function(t){e.props.requestApproval.title=t,e.props.refreshRequestApprovalState()}}),n.createElement(Z.a,{placeholder:"Request Type*",choices:this.requestTypes,value:this.props.requestApproval.type,error:this.props.createTicketAttemp&&""===this.props.requestApproval.type.value,onChange:function(t){e.props.requestApproval.type=t,e.props.refreshRequestApprovalState()}}),n.createElement(z.a,{placeholder:"Background / Details of Request",value:this.props.requestApproval.background,onChange:function(t){e.props.requestApproval.background=t,e.props.refreshRequestApprovalState()}}),n.createElement(z.a,{placeholder:"Notes",value:this.props.requestApproval.notes,onChange:function(t){e.props.requestApproval.notes=t,e.props.refreshRequestApprovalState()}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2",style:{paddingBottom:"1em"}},"RECOMMENDATION"),n.createElement("div",{className:"text"},"Choose Recommendation*"),n.createElement(Ve,{label:"Approve",checkedCondition:"Approved"===this.props.requestApproval.recommendation,onChange:function(){e.props.requestApproval.recommendation="Approved",e.props.refreshRequestApprovalState()}}),n.createElement(Ve,{label:"Disapprove",checkedCondition:"Disapproved"===this.props.requestApproval.recommendation,onChange:function(){e.props.requestApproval.recommendation="Disapproved",e.props.refreshRequestApprovalState()}}),n.createElement(z.a,{placeholder:"Basis for Recommendation*",value:this.props.requestApproval.basisRecommendation,error:this.props.createTicketAttemp&&""===this.props.requestApproval.basisRecommendation,onChange:function(t){e.props.requestApproval.basisRecommendation=t,e.props.refreshRequestApprovalState()}})))}}]),t}(n.Component),Yl=a(35),zl=a.n(Yl),Kl=a(59),Xl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleGroupNamesCommaDelimited=function(e){if(void 0===e||null===e||0===e.length)return a.state.supervisorDept;for(var t="",n=0;n<e.length;n++)n===e.length-1?t+=e[n]:t+=e[n]+", ";return t},a.isValid=function(){return""!==a.state.notes||(a.setState({isError:!0}),!1)},a.onFinalAssessment=function(){if(a.isValid()&&!a.state.hasPendingRequest){a.props.onBeforeMainAction(),a.setState({hasPendingRequest:!0});var e=a.props.login,t=a.props.amountLimit,n=e.group?e.group.department:"",r="Inpatient"===a.props.ticket.specificType,i="";a.props.caseData&&a.props.caseData.task&&"Outpatient - Comment"===a.props.caseData.task||(i="&requesting_group=".concat(Object(Ma.get)(e,"group.name",""))),T.a.get("group/pmaker_uids?amount_limit=".concat(t,"&department=").concat(n)+"".concat(i,"&role=Ticket Approver&with_names=true"),function(e){var t=[];if(Array.isArray(e.group_pmaker_ids)&&0===e.group_pmaker_ids.length?t.push(a.state.supervisingDepartmentPMakerId):t=e.group_pmaker_ids,a.props.caseId){var n={button_pressed:"PROCEED WITH FINAL ASSESSMENT",within_limit:!r,next_user:t};a.props.caseData&&a.props.caseData.task&&"Outpatient - Comment"===a.props.caseData.task&&(n={button_pressed:"SUBMIT FOR ASSESSMENT",within_limit:!1,next_user:t});var i={assign_to:e&&e.group_names&&e.group_names.length>0?a.handleGroupNamesCommaDelimited(e.group_names):a.state.supervisorDept,assigned_by:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),assign_remarks:a.state.notes};Ae.a.put("cases/".concat(a.props.caseId,"/variable"),n,function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.onSuccessWithCallback&&a.props.onSuccessWithCallback(function(e){T.a.patch("customer-care/tickets/".concat(a.props.ticket.id),i,e)})})})}else a.props.onSuccess&&a.props.onSuccess(a.props.amountLimit,a.state.notes,e.group_names)})}},a.state={supervisingDepartmentPMakerId:"",notes:"",supervisorDept:"",isError:!1,hasPendingRequest:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getSupervisingDepartmentPMakerId()}},{key:"getSupervisingDepartmentPMakerId",value:function(){var e=Object(Kl.a)(zl.a.mark(function e(){var t=this;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.c.StorageService("user_data","cc_data").then(function(e){console.log(e);var a=e.result;t.setState({supervisorDept:a.supervising_department,supervisingDepartmentPMakerId:a.supervising_department_pmaker_id})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t="Inpatient"===this.props.ticket.specificType;return n.createElement(Y,{className:"modal",isOpen:this.props.isOpen,handleClose:function(){return e.props.onClose()},header:"Amount is outside ".concat(this.props.assigneeIsMe?"your":"assignee's"," limit"),content:n.createElement(n.Fragment,null,n.createElement("div",{style:{padding:"0.5rem 0"}},"This ticket will be assigned to an approver or group of approvers who are authorized to assess availment tickets with this amount. You can add a few notes for additional details or instruction."),n.createElement("div",{style:{padding:"0.5rem 0"}},n.createElement(ge,{error:this.state.isError&&""===this.state.notes,placeholder:"Notes",defaultRows:4,value:this.state.notes,onChange:function(t){e.setState({notes:t})}}))),footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.props.onClose()}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(ke,{className:"button".concat(t?"-special":""),text:t?"Proceed with Final Assessment":"Assign to Authorized Approver",onClick:function(){e.onFinalAssessment()}}))})}}]),t}(n.Component),Jl=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).requestTypes=[{value:"1",label:"Enrollment Endorsement"},{value:"2",label:"Member Information Update Endorsement"},{value:"3",label:"Termination Endorsement"},{value:"4",label:"Cancellation Endorsement"},{value:"5",label:"Card Printing / Reprinting Endorsement"},{value:"6",label:"Card Replacement Endorsement"},{value:"7",label:"Activation of Membership"},{value:"8",label:"Submission of Supporting Documents Endorsement"},{value:"9",label:"Other APD Endorsements"},{value:"10",label:"Request for Availment Details"},{value:"11",label:"Wellness Session / Program"},{value:"12",label:"Client Orientation"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"availment-section"},n.createElement("div",{style:{paddingTop:"5rem"}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"REQUEST DETAILS"),n.createElement(Z.a,{choices:this.requestTypes,placeholder:"Request Type*",value:this.props.endorsement.requestType,error:this.props.createTicketAttemp&&""===this.props.endorsement.requestType.value,onChange:function(t){e.props.endorsement.requestType=t,e.props.refreshEndorsementState()}}),n.createElement(z.a,{placeholder:"Background / Details of Request*",value:this.props.endorsement.background,error:this.props.createTicketAttemp&&""===this.props.endorsement.background,onChange:function(t){e.props.endorsement.background=t,e.props.refreshEndorsementState()}}),n.createElement(z.a,{placeholder:"Notes",value:this.props.endorsement.notes,onChange:function(t){e.props.endorsement.notes=t,e.props.refreshEndorsementState()}}),n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement(fe,{accept:"image/*, .pdf, .doc, .docx, .csv, .odt, .ods, .xls, .xlsx, .txt",placeholder:"Request Files",onDrop:function(t){e.props.endorsement.requestFiles.push(t[0]),e.props.refreshEndorsementState()}}),this.props.endorsement.requestFiles.map(function(t,a){return void 0===t?(e.props.callSnackbar&&(e.props.endorsement.requestFiles.splice(a,1),e.props.callSnackbar("Unsupported file type")),null):n.createElement(be,{label:t.name,value:a.toString(),onDelete:function(t){e.props.endorsement.requestFiles.splice(parseInt(t),1),e.props.refreshEndorsementState()}})})))),n.createElement("div",{className:"section"}))}}]),t}(n.Component),Zl=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement(dt.a,{open:this.props.isOpen,anchorEl:this.props.anchor,transition:!0},function(t){var a=t.TransitionProps;return n.createElement(q.a,Object.assign({},a,{timeout:350}),n.createElement("div",{style:{height:"".concat(32+28*e.props.items.length,"px")}},n.createElement("div",{className:"item-list"},n.createElement(en.a,null,e.props.items.map(function(e){return n.createElement(tn.a,{className:"small-text",button:!0,disabled:e.disabled,onClick:function(){e.onClick()}},e.content)}))),"`"))})}}]),t}(n.Component),Ql=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement(O.a,{icon:this.props.icon,label:this.props.label,underline:"none",color:this.props.color,onClick:function(){}})}}]),t}(n.Component),$l=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).complaintTypes=[{value:"1",label:"Complaint - Member Coverage and Benefits"},{value:"2",label:"Complaint - Member Network Access"},{value:"3",label:"Complaint - Network-Related"},{value:"4",label:"Complaint - Availment-Related"},{value:"5",label:"Complaint - HMO Servicing"},{value:"6",label:"Complaint - HMO Personnel"},{value:"7",label:"Complaint - SLA-Related / Delays"},{value:"8",label:"Complaint - Member Status"},{value:"9",label:"Complaint - Others"},{value:"10",label:"Concern - Request for Investigation"},{value:"11",label:"Concern - Billing Adjustment / Dispute"},{value:"12",label:"Concern - Others"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"availment-section"},r.a.createElement("div",{style:{paddingTop:"5rem"}}),r.a.createElement("div",{className:"sub-section"},r.a.createElement("div",{className:"header-2"},"Complaint Type"),r.a.createElement(Z.a,{choices:this.complaintTypes,placeholder:"Request Type*",value:this.props.complaint.type,error:this.props.createTicketAttemp&&""===this.props.complaint.type.value,onChange:function(t){e.props.complaint.type=t,e.props.refreshComplaintState()}}),r.a.createElement(z.a,{placeholder:"Summary of Complaint (Title)*",value:this.props.complaint.summary,error:this.props.createTicketAttemp&&""===this.props.complaint.summary,onChange:function(t){e.props.complaint.summary=t,e.props.refreshComplaintState()},charLimit:60}),r.a.createElement(z.a,{placeholder:"Specifics",value:this.props.complaint.specifics,onChange:function(t){e.props.complaint.specifics=t,e.props.refreshComplaintState()},charLimit:50}),r.a.createElement(z.a,{placeholder:"Background / Details of Complaint*",value:this.props.complaint.details,error:this.props.createTicketAttemp&&""===this.props.complaint.details,onChange:function(t){e.props.complaint.details=t,e.props.refreshComplaintState()}}),r.a.createElement(z.a,{placeholder:"Notes",value:this.props.complaint.notes,onChange:function(t){e.props.complaint.notes=t,e.props.refreshComplaintState()}})),r.a.createElement("div",{className:"section"}))}}]),t}(r.a.Component),es=a(169),ts=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).filterType=void 0,a.memberType=void 0,a.memberStatus=void 0,a.gender=void 0,a.memberTableRef=void 0,a.clientTableRef=void 0,a.getUrl=function(e,t,n){var r=a.state.searchFor.toLowerCase(),i={where:{},skip:e,limit:t},l="";if("Member"===a.state.searchFor){var s=a.state.memberFilter,o="Contains"===s.companyFilterType.value,c="Contains"===s.lastNameFilterType.value,m="Contains"===s.firstNameFilterType.value,u="Contains"===s.middleNameFilterType.value,d=n.name?[{last_name:{regexp:"/".concat(n.name,"/i")}},{first_name:{regexp:"/".concat(n.name,"/i")}},{middle_name:{regexp:"/".concat(n.name,"/i")}}]:void 0;i.where={member_type:""!==s.type.value?s.type.value:void 0,member_status:""!==s.status.value?s.status.value:void 0,or:d,last_name:s.lastName.length?c?{regexp:"/".concat(s.lastName,"/i")}:s.lastName:void 0,first_name:s.firstName.length?m?{regexp:"/".concat(s.firstName,"/i")}:s.firstName:void 0,middle_name:s.middleName.length?u?{regexp:"/".concat(s.middleName,"/i")}:s.middleName:void 0,date_of_birth:s.birthDate?{between:[S.a.getDate(new Date(s.birthDate.getTime()-864e5)),S.a.getDate(new Date(s.birthDate.getTime()+864e5))]}:void 0,gender:""!==s.gender.value?s.gender.value:void 0,member_card_no:""!==s.cardNo?{regexp:"/".concat(s.cardNo,"/i")}:void 0,member_id:n.memberId?{regexp:"/".concat(n.memberId,"/i")}:void 0,registered_name:n.clientName?{regexp:"/".concat(n.clientName,"/i")}:void 0,plan_type:n.planType?{regexp:"/".concat(n.planType,"/i")}:void 0},s.company.length&&(l="company_name=".concat(s.company,"&")+"search_type=".concat(o?"contains":"exactly"))}if("Client"===a.state.searchFor){var p=a.state.clientFilter,f="Contains"===p.registeredNameFilterType.value;i.where={and:[p.registeredName.length?{registered_name:f?{regexp:"/".concat(p.registeredName,"/i")}:p.registeredName}:void 0,p.corporateName.length?{name_on_card:{regexp:"/".concat(p.corporateName,"/i")}}:void 0,p.tradeName.length?{brand_name:{regexp:"/".concat(p.tradeName,"/i")}}:void 0,p.effectivityDate?{coverage_start_date:{between:[S.a.getDate(new Date(p.effectivityDate.getTime()-864e5)),S.a.getDate(new Date(p.effectivityDate.getTime()+864e5))]}}:void 0,p.expirationDate?{coverage_end_date:{between:[S.a.getDate(new Date(p.expirationDate.getTime()-864e5)),S.a.getDate(new Date(p.expirationDate.getTime()+864e5))]}}:void 0,""!==p.status.value?{status:p.status.value}:void 0,""!==p.industryType.value?{industry:p.industryType.value}:void 0,n.clientId?{corporate_account_no:{regexp:"/".concat(n.clientId,"/i")}}:void 0,n.name?{registered_name:{regexp:"/".concat(n.name,"/i")}}:void 0,n.effectivityDate?{coverage_start_date:{between:[S.a.getDate(new Date(n.effectivityDate.getTime()-864e5)),S.a.getDate(new Date(n.effectivityDate.getTime()+864e5))]}}:void 0,n.location?{or:[{"main_office_address.city":{like:{regexp:"/".concat(n.location,"/i")}}},{"main_office_address.region":{like:{regexp:"/".concat(n.location,"/i")}}}]}:void 0].filter(function(e){return e})},0===i.where.and.length&&(i.where={})}return r||l?"customer-care/advanced-search/".concat(r,"?").concat(l,"&filter=").concat(JSON.stringify(i)):"customer-care/advanced-search/filter=".concat(JSON.stringify(i))},a.isDisabledSearch=function(){return!("Member"===a.state.searchFor&&null!==a.state.memberFilter&&void 0!==a.state.memberFilter&&(""!==a.state.memberFilter.type.value||""!==a.state.memberFilter.status.value||a.state.memberFilter.lastName.trim().length>0||a.state.memberFilter.firstName.trim().length>0||a.state.memberFilter.middleName.trim().length>0||null!==a.state.memberFilter.birthDate&&S.a.isValidDate(a.state.memberFilter.birthDate)||""!==a.state.memberFilter.gender.value||a.state.memberFilter.cardNo.trim().length>0||a.state.memberFilter.company.trim().length>0)||"Client"===a.state.searchFor&&null!==a.state.clientFilter&&void 0!==a.state.clientFilter&&(a.state.clientFilter.registeredName.trim().length>0||a.state.clientFilter.corporateName.trim().length>0||a.state.clientFilter.tradeName.trim().length>0||null!==a.state.clientFilter.effectivityDate&&S.a.isValidDate(a.state.clientFilter.effectivityDate)||null!==a.state.clientFilter.expirationDate&&S.a.isValidDate(a.state.clientFilter.expirationDate)||""!==a.state.clientFilter.status.value||""!==a.state.clientFilter.industryType.value))},a.state={searchFor:"Member",isSearching:!1,members:[],clients:[],itemCount:0,clientFilter:{registeredName:"",corporateName:"",tradeName:"",effectivityDate:null,renewalDate:null,expirationDate:null,status:{value:"",label:""},industryType:{value:"",label:""},registeredNameFilterType:{value:"Contains",label:"Contains"}},memberFilter:{company:"",type:{value:"",label:""},status:{value:"",label:""},lastName:"",firstName:"",middleName:"",birthDate:null,gender:{value:"",label:""},cardNo:"",companyFilterType:{value:"Contains",label:"Contains"},lastNameFilterType:{value:"Contains",label:"Contains"},firstNameFilterType:{value:"Contains",label:"Contains"},middleNameFilterType:{value:"Contains",label:"Contains"}}},a.filterType=[{value:"",label:""},{value:"Exactly",label:"Exactly"},{value:"Contains",label:"Contains"}],a.memberType=[{value:"",label:""},{value:"Principal",label:"Principal"},{value:"Dependent",label:"Dependent"}],a.memberStatus=[{value:"",label:""},{value:"Active",label:"Active"},{value:"Awaiting Activation",label:"Awaiting Activation"},{value:"For Validation",label:"For Validation"},{value:"Disapproved",label:"Disapproved"},{value:"Terminated",label:"Terminated"},{value:"Suspended",label:"Suspended"},{value:"Cancelled",label:"Cancelled"},{value:"Expired",label:"Expired"}],a.gender=[{value:"",label:""},{value:"Unspecified",label:"Unspecified"},{value:"Male",label:"Male"},{value:"Female",label:"Female"}],a.memberTableRef=n.createRef(),a.clientTableRef=n.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"customer-care-main"},n.createElement("div",{className:"large-section"},n.createElement("div",{style:{float:"right"}},n.createElement(ke,{variant:"outlined",text:"Go Back",onClick:function(){e.props.onClose()}})),n.createElement("div",{className:"header-1"},"Advanced Search"),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"bordered-section"},n.createElement(_.a,{container:!0,spacing:6},n.createElement(_.a,{item:!0,xs:3},n.createElement("div",{className:"header-2"},"SEARCH FOR A"),n.createElement(Ve,{label:"Member",checkedCondition:"Member"===this.state.searchFor,onChange:function(){e.setState({searchFor:"Member",members:[],itemCount:0})}}),n.createElement(Ve,{label:"Corporate Client",checkedCondition:"Client"===this.state.searchFor,onChange:function(){e.setState({searchFor:"Client",clients:[],itemCount:0})}})),"Member"===this.state.searchFor?this.renderMemberFilter(this.state.memberFilter):"Client"===this.state.searchFor?this.renderClientFilter(this.state.clientFilter):null)),n.createElement("div",{style:{textAlign:"center",marginTop:"-1rem"}},n.createElement(ke,{style:{width:"200px"},text:"Search",disabled:this.isDisabledSearch(),onClick:function(){"Member"===e.state.searchFor?e.memberTableRef.current.apiCall(!0):"Client"===e.state.searchFor&&e.clientTableRef.current.apiCall(!0)}}))),this.state.isSearching?n.createElement(I.a,{height:"10rem"}):"Member"===this.state.searchFor?this.renderMemberTable(this.state.members,this.state.itemCount):"Client"===this.state.searchFor?n.createElement("div",null,this.renderClientTable(this.state.clients,this.state.itemCount)):null))}},{key:"renderMemberFilter",value:function(e){var t=this;return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:3},n.createElement("div",{className:"header-2"},"SEARCH BY COMPANY"),n.createElement(x,{placeholder:"Company",type:e.companyFilterType,value:e.company,choices:this.filterType,onChangeType:function(a){e.companyFilterType=a,t.setState({memberFilter:t.state.memberFilter})},onChangeValue:function(a){e.company=a,t.setState({memberFilter:t.state.memberFilter})}}),n.createElement(Z.a,{placeholder:"Member Type",value:e.type,choices:this.memberType,onChange:function(a){e.type=a,t.setState({memberFilter:t.state.memberFilter})}}),n.createElement(Z.a,{placeholder:"Member Status",value:e.status,choices:this.memberStatus,onChange:function(a){e.status=a,t.setState({memberFilter:t.state.memberFilter})}})),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"header-2"},"SEARCH BY MEMBER DETAILS"),n.createElement(_.a,{container:!0,spacing:6},n.createElement(_.a,{item:!0,xs:6},n.createElement(x,{placeholder:"Last Name",type:e.lastNameFilterType,value:e.lastName,choices:this.filterType,onChangeType:function(a){e.lastNameFilterType=a,t.setState({memberFilter:t.state.memberFilter})},onChangeValue:function(a){e.lastName=a,t.setState({memberFilter:t.state.memberFilter})}}),n.createElement(x,{placeholder:"First Name",type:e.firstNameFilterType,value:e.firstName,choices:this.filterType,onChangeType:function(a){e.firstNameFilterType=a,t.setState({memberFilter:t.state.memberFilter})},onChangeValue:function(a){e.firstName=a,t.setState({memberFilter:t.state.memberFilter})}}),n.createElement(x,{placeholder:"Middle Name",type:e.middleNameFilterType,value:e.middleName,choices:this.filterType,onChangeType:function(a){e.middleNameFilterType=a,t.setState({memberFilter:t.state.memberFilter})},onChangeValue:function(a){e.middleName=a,t.setState({memberFilter:t.state.memberFilter})}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(ee.a,{placeholder:"Date of Birth",value:e.birthDate,onChange:function(a){e.birthDate=a,t.setState({memberFilter:t.state.memberFilter})}}),n.createElement(Z.a,{placeholder:"Gender",value:e.gender,choices:this.gender,onChange:function(a){e.gender=a,t.setState({memberFilter:t.state.memberFilter})}}),n.createElement(z.a,{placeholder:"Current card no.",value:e.cardNo,onChange:function(a){e.cardNo=a,t.setState({memberFilter:t.state.memberFilter})}})))))}},{key:"renderClientFilter",value:function(e){var t=this;return n.createElement(_.a,{item:!0,xs:9},n.createElement("div",{className:"header-2"},"SEARCH BY COMPANY"),n.createElement(_.a,{container:!0,spacing:6},n.createElement(_.a,{item:!0,xs:4},n.createElement(x,{placeholder:"Registered Name",type:e.registeredNameFilterType,value:e.registeredName,choices:this.filterType,onChangeType:function(a){e.registeredNameFilterType=a,t.setState({clientFilter:t.state.clientFilter})},onChangeValue:function(a){e.registeredName=a,t.setState({clientFilter:t.state.clientFilter})}}),n.createElement(z.a,{placeholder:"Corporate Account Name (Card Name)",value:e.corporateName,onChange:function(a){e.corporateName=a,t.setState({clientFilter:t.state.clientFilter})}}),n.createElement(z.a,{placeholder:"Brand/Trade Name",value:e.tradeName,onChange:function(a){e.tradeName=a,t.setState({clientFilter:t.state.clientFilter})}})),n.createElement(_.a,{item:!0,xs:4},n.createElement(ee.a,{placeholder:"Effectivity Date",value:e.effectivityDate,onChange:function(a){e.effectivityDate=a,t.setState({clientFilter:t.state.clientFilter})}}),n.createElement(ee.a,{placeholder:"Renewal Date",value:e.renewalDate,disabled:!0,onChange:function(a){e.renewalDate=a,t.setState({clientFilter:t.state.clientFilter})}}),n.createElement(ee.a,{placeholder:"Expiration Date",value:e.expirationDate,onChange:function(a){e.expirationDate=a,t.setState({clientFilter:t.state.clientFilter})}})),n.createElement(_.a,{item:!0,xs:4},n.createElement(Z.a,{placeholder:"Status",value:e.status,choices:this.memberStatus,onChange:function(a){e.status=a,t.setState({clientFilter:t.state.clientFilter})}}),n.createElement(Z.a,{placeholder:"Industry Type",value:e.industryType,choices:te.INDUSTRIES,onChange:function(a){e.industryType=a,t.setState({clientFilter:t.state.clientFilter})}}))))}},{key:"renderMemberTable",value:function(e,t){var a=this;return n.createElement("div",{className:"sub-section",id:"member-section"},n.createElement("div",{className:"header-3"},"SEARCH RESULTS (".concat(t,")")),n.createElement(L.a,{ref:this.memberTableRef,columns:[{name:"Member ID",key:"memberId",filterType:"string",sortType:"string"},{name:"Name",key:"name",filterType:"string",sortType:"string"},{name:"Corporate/s",key:"clientName",filterType:"string",sortType:"string"},{name:"Plan Type",key:"planType",filterType:"string",sortType:"string",style:{width:"150px"}},{name:"Action",key:"action",style:{width:"100px",textAlign:"center"}}],rows:e,renderRow:function(e,t){var r=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r}},n.createElement(j.a,null,e.memberId),n.createElement(j.a,null,e.name,n.createElement("div",{className:"light-text"},e.type.toUpperCase())),n.createElement(j.a,null,e.clientName),n.createElement(j.a,null,e.planType),n.createElement(j.a,{style:{textAlign:"center"}},n.createElement(O.a,{icon:N.C,onClick:function(){a.props.onChooseItem(e.memberId,"Member")}})))},rowsPerPageOptions:[10,25,50],serverSideOption:{disabled:this.isDisabledSearch(),getUrl:function(e,t,n){return a.getUrl(e,t,n)},onSuccess:function(e){a.setState({members:e.members.map(function(e){return{memberId:e.member_id?e.member_id:"---",status:e.member_status,name:S.a.toWholeNameFormat(e.first_name,e.middle_name,e.last_name),type:e.member_type,clientName:e.registered_name,planType:e.plan_type}}),itemCount:e.count,isSearching:!1})},getCount:function(e){return e.count}}}))}},{key:"renderClientTable",value:function(e,t){var a=this;return n.createElement("div",{className:"sub-section",id:"client-section"},n.createElement("div",{className:"header-3"},"SEARCH RESULTS (".concat(t,")")),n.createElement(L.a,{ref:this.clientTableRef,columns:[{name:"Client ID",key:"clientId",filterType:"string",sortType:"string"},{name:"Name",key:"name",filterType:"string",sortType:"string"},{name:"Effectivity Date",key:"effectivityDate",filterType:"date",sortType:"date",style:{width:"150px"}},{name:"Renewal Date",key:"renewalDate",filterType:"date",sortType:"date",style:{width:"150px"},filterDisabled:!0},{name:"Location",key:"location",filterType:"string",sortType:"string"},{name:"Action",key:"action",style:{width:"100px",textAlign:"center"}}],rows:e,renderRow:function(e,t){var r=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r}},n.createElement(j.a,null,e.clientId),n.createElement(j.a,null,e.name),n.createElement(j.a,null,e.effectivityDate?S.a.toCommonDateString(e.effectivityDate):"---"),n.createElement(j.a,null,e.renewalDate?S.a.toCommonDateString(e.renewalDate):"---"),n.createElement(j.a,null,e.location),n.createElement(j.a,{style:{textAlign:"center"}},n.createElement(O.a,{icon:N.C,onClick:function(){a.props.onChooseItem(e.clientId,"Client")}})))},rowsPerPageOptions:[10,25,50],serverSideOption:{disabled:this.isDisabledSearch(),getUrl:function(e,t,n){return a.getUrl(e,t,n)},onSuccess:function(e){a.setState({clients:e.clients.map(function(e){return{clientId:te.get(e.corporate_account_no,"---"),status:"",name:te.get(e.registered_name,"---"),effectivityDate:null,renewalDate:null,location:e.main_office_address?te.toAddress(e.main_office_address.brgy,e.main_office_address.city,e.main_office_address.region):"---"}}),itemCount:e.count,isSearching:!1})},getCount:function(e){return e.count}}}))}}]),t}(n.Component);function as(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ns=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).clientTabList=[{value:1,label:"Ticket Details"},{value:2,label:"Client Profile"},{value:3,label:"Benefits"},{value:4,label:"Partner Network"},{value:5,label:"Exclusion"},{value:6,label:"Utilization"},{value:7,label:"Tickets"},{value:8,label:"Contract"}],a.memberTabList=[{value:1,label:"Ticket Details"},{value:2,label:"Member Profile"},{value:3,label:"Benefits"},{value:4,label:"Partner Network"},{value:5,label:"Exclusion"},{value:6,label:"Utilization"},{value:7,label:"Tickets"},{value:8,label:"Contract"}],a.facilities=void 0,a.errors=void 0,a.leftPanelSection=void 0,a.onResetAllFields=function(){a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?as(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):as(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({disableButtons:!1,searchIDType:"",tabSelected:1,buttonClicked:"",createTicketAttemp:!1,isLoading:!0,snackbarMessage:null,isProcessMakerErrorModalOpen:!1,isCloseTicketModalOpen:!1,isOutsideTheLimitModalOpen:!1,isValidationModalOpen:!1},V.a.getCreateTicketResetFields()),a.setState({client:a.state.client,member:a.state.member,assignees:a.state.assignees,doctors:a.state.doctors,ticket:a.state.ticket,availment:a.state.availment,confinement:a.state.confinement,consultation:a.state.consultation,complaint:a.state.complaint,inquiries:a.state.inquiries,endorsement:a.state.endorsement,requestApproval:a.state.requestApproval})},a.loadFacilities=function(){T.a.pnGet("p/f/partners/bare-facilities",function(e){a.facilities=e.data.map(function(e){return{value:e.facility_id,label:e.facility_name}})},function(){a.setState({snackbarMessage:"Failed to get facilities data."})})},a.loadAssignees=function(e,t){var n=[];t&&"Request Requiring Approval"!==e&&"Inpatient"!==t&&n.push("Customer Service"),"Inquiry"!==e&&"Request/Endorsement"!==e&&"Complaint/Concern"!==e&&"Inpatient"!==t&&"Outpatient Procedure"!==t||n.push("Patient Relations"),"Availment"!==e&&n.push("AMD");var r=encodeURIComponent(n.join());T.a.get("user-groups/customer-care?department=".concat(r),function(e){if(a.state.login){var t=e.groups.map(function(e){return{value:e.pmaker_uid,label:e.name,params:[!0,e]}}),n=e.users.map(function(e){return{value:e.pmaker_uid,label:"".concat(e.first_name," ").concat(e.last_name),params:[!1,e]}}),r=t.concat(n);console.log("combined",r),S.a.setMeInAssignees(r,a.state.login.pmakerUid),a.setState({assignees:r})}},function(){a.setState({snackbarMessage:"Failed to get assignees."})})},a.loadDoctors=function(e){""!==e&&T.a.pnGet("p/f/partners/facilities/".concat(e,"/doctor-procedures"),function(e){var t=e.data.doctors.map(function(e){return{value:e.doctor_id,label:e.doctor_name,params:e.type?[e.type]:[""]}});a.setState({doctors:t})},function(){a.setState({doctors:[]}),a.setState({snackbarMessage:"Failed to get doctors data."})})},a.loadMemberAndClient=function(e,t){"Member"===t&&T.a.get("customer-care/members/".concat(e),function(t){a.setState({member:V.a.getMemberData(t)}),T.a.get("customer-care/members/".concat(e,"/benefits"),function(){})},function(){a.setState({snackbarMessage:"Failed to get member data."})}),"Client"===t&&T.a.get("customer-care/clients/".concat(e),function(e){a.setState({client:V.a.getClientData(e)})},function(){a.setState({snackbarMessage:"Failed to get client data."})})},a.getValidationErrorList=function(){var e=[],t=a.state.client,n=a.state.member,r=a.state.ticket,i=a.state.confinement,l=a.state.inquiries,s=a.state.availment,o=a.state.consultation,c=a.state.complaint,m=a.state.requestApproval,u=a.state.endorsement,d=[];switch(0===r.ticketChannel.length&&d.push("Received via"),0===r.transactionNo.length&&d.push("Transaction No."),0===r.ticketSource.length&&d.push("Received From"),0===r.contactNo.length&&d.push("Contact No."),0===r.ticketType.length&&d.push("Ticket Type"),0===r.specificType.length&&d.push("Specific Type"),0===r.urgency.length&&d.push("Urgency"),0===r.assignee.name.length&&d.push("Assign To"),"Me"!==r.assignee.name&&""===r.additionalNotes&&d.push("Additional Notes"),r.ticketSource){case"Member":n?(""===r.memberSourceChoice.value&&d.push("Caller"),"Other"===r.memberSourceChoice.value&&(r.relationshipToMember&&r.relationshipToMember.trim()||d.push("Relationship to Member"),0===r.callerName.length&&d.push("Name of Caller"))):t&&0===r.callerName.length&&d.push("Name of Caller");break;case"Corporate Client":""===r.corporateSourceChoice.value&&d.push("Caller"),0===r.callerName.length&&d.push("Name of Caller"),"Other"===r.corporateSourceChoice.value&&(r.companyPosition&&r.companyPosition.trim()||d.push("Company Designation/Position"));break;case"Broker":""===r.brokerName.value&&d.push("Broker Name"),0===r.callerName.length&&d.push("Name of Caller");break;case"Agent":0===r.callerName.length&&d.push("Name of Caller");break;case"Clinic/Hospital":""===r.facility.value&&d.push("Name of Hospital"),"NOT AFFILIATED"===r.facility.value&&""===r.otherFacility.trim()&&d.push("Clinic/Hospital Name"),""===r.department.trim()&&d.push("Department/Section"),0===r.callerName.length&&d.push("Name of Caller")}if(n||t||e.push({message:"Choose a member/client first before submitting the ticket.",targets:[]}),d.length>0&&e.push({message:"Please fill up the required fields before submitting the ticket:",targets:d}),"Inquiry"===r.ticketType){var p=[];0===l.length&&p.push("Please add an inquiry details."),l.forEach(function(e){0===e.detail.length&&p.push("".concat(e.inquiry.label,": Details of inquiry")),"Resolve and Close"===a.state.buttonClicked&&""===e.answer&&p.push("".concat(e.inquiry.label,": Answer"))}),p.length>0&&e.push({message:"Ticket Type: Inquiry",targets:p})}if("Outpatient Procedure"===r.specificType||"Emergency Room"===r.specificType){var f=[];0===s.diagnoses.length&&f.push("Please add an availment details."),""===s.provider.value&&f.push("Provider"),"Emergency Room"===r.specificType&&(s.chiefComplaint&&""!==s.chiefComplaint||f.push("Chief Complaint")),s.diagnoses.forEach(function(e){var t=e.procedures.filter(function(e){return""!==e.cptCode.value});0===t.length&&"Outpatient Procedure"===r.specificType&&f.push("".concat(e.icd10Code.value,": Please add atleast one procedure.")),t.forEach(function(t){0===t.amount&&f.push("".concat(e.icd10Code.value,": ")+"".concat(t.cptCode.value,": ")+"Amount should not be 0.")})}),f.length>0&&e.push({message:"Ticket Type: ".concat(r.specificType),targets:f})}if("Inpatient"===r.specificType){var h=[];""===i.provider.value&&h.push("Provider"),""===i.confinementKind&&h.push("Kind of Confinement"),""===i.initialDiagnosis.value&&h.push("Initial Diagnosis"),S.a.isValidDate(i.dateAdmitted,!0)||h.push("Date and Time admitted (Invalid Format)"),h.length>0&&e.push({message:"Ticket Type: Inpatient",targets:h})}if("Request Requiring Approval"===r.ticketType){var g=[];""===m.title&&g.push("Summary of Request (Title)"),""===m.type.value&&g.push("Request Type"),""===m.recommendation&&g.push("Recommendation"),""===m.basisRecommendation&&g.push("Basis for Recommendation"),g.length>0&&e.push({message:"Ticket Type: Request Requiring Approval",targets:g})}if("Consultation"===r.specificType){var E=[];""===o.provider.value&&E.push("Provider"),""===o.doctor.value&&E.push("Doctor"),E.length>0&&e.push({message:"Ticket Type: Consultation",targets:E})}if("Complaint/Concern"===r.ticketType){var b=[];""===c.type.value&&b.push("Request Type"),""===c.summary&&b.push("Summary of Complaint (Title)"),""===c.details&&b.push("Background / Details of Complaint"),b.length>0&&e.push({message:"Ticket Type: Complaint/Concern",targets:b})}if("Request/Endorsement"===r.ticketType){var v=[];""===u.requestType.value&&v.push("Request Type"),""===u.background&&v.push("Background / Details of Request"),v.length>0&&e.push({message:"Ticket Type: Request/Endorsement",targets:v})}return a.setState({createTicketAttemp:!0}),e},a.onUploadFiles=function(e,t,n){var r=!1,i=new FormData;e.forEach(function(e){e.field||(i.append(t,e),r=!0)}),a.setState({isLoading:!0}),r?T.a.postFormData("tmp/upload?path=customer-care",i,function(e){n(e)},function(){a.setState({isLoading:!1,snackbarMessage:"Failed to upload files."})}):n([])},a.onCheckApprovalLimit=function(e,t,n){if(a.state.login&&a.state.login.ccData){var r=S.a.getAvailmentCost(t);r>(n?n.amount_limit:a.state.login.ccData.amount_limit)?a.setState({isOutsideTheLimitModalOpen:!0}):a.onSubmitTicket(e,a.state.login,r,!0)}},a.onSubmitTicket=function(e,t,n,r){var i=a.state.ticket,l=a.state.endorsement;a.setState({isLoading:!0});var s=function(l,s,o){var c=V.a.getPostTicketPayload(i,l,s,o,t,a.state.member,a.state.client,a.state.confinement,a.state.availment,a.state.inquiries,a.state.consultation,a.state.complaint,a.state.endorsement,a.state.requestApproval,"RESOLVE"===e);T.a.post("customer-care/tickets",JSON.stringify(c),function(i){if(i._id){var l="Inpatient"===a.state.ticket.specificType;a.onSubmitTicketProcessmaker(e,i._id,t,n,r,l)}else a.setState({disableButtons:!1,isLoading:!1,snackbarMessage:"Failed to create ticket."})},function(){a.setState({disableButtons:!1,isLoading:!1,snackbarMessage:"Failed to create ticket."})})};a.onUploadFiles(i.additionalFiles,"supporting_document",function(e){var t=!e.error&&e.length>0?i.additionalFiles.filter(function(e){return e.field}).concat(e):i.additionalFiles;if("Inquiry"===i.ticketType&&a.state.inquiries.length>0){var n=[];a.state.inquiries.forEach(function(e){a.onUploadFiles(e.supportDocs,"supporting_document",function(r){n.push(!r.error&&r.length>0?e.supportDocs.filter(function(e){return e.field}).concat(r):e.supportDocs),a.state.inquiries.length===n.length&&s(t,n,[])})})}else"Request/Endorsement"===i.ticketType?a.onUploadFiles(l.requestFiles,"supporting_document",function(e){var a=!e.error&&e.length>0?l.requestFiles.filter(function(e){return e.field}).concat(e):l.requestFiles;s(t,[],a)}):s(t,[],[])})},a.onSubmitTicketProcessmaker=function(e,t,n,r,i,l){var s={pro_uid:"4807840465def02dbed2df0067603401",tas_uid:"2282187525e2cf3be040094086096323"},o=[],c=function(e,n,r,i){Ae.a.shortcutCall(e,n,r,i,function(){T.a.delete("customer-care/tickets/".concat(t),null,function(){a.setState({disableButtons:!1,isLoading:!1,isProcessMakerErrorModalOpen:!0})})})},m=function(){var r=V.a.getPostTicketPayloadProcessmaker(e,a.state.ticket,t,n,o,a.state.member,a.state.client,i);c("POST","cases",s,function(t){var n=t.app_uid,i=t.app_number,s=l?"5880415115e61cbbe9cc794028029118":"1110479535e2e737cb64e60095828706";n&&c("PUT","cases/".concat(n,"/execute-trigger/5737759115def02dc44ad03013650160"),{},function(){c("PUT","cases/".concat(n,"/variable"),r,function(){c("PUT","cases/".concat(n,"/execute-trigger/").concat(s),{},function(){"RESOLVE"===e||"SUBMIT FOR ASSESSMENT"===e||"Inpatient"===a.state.ticket.specificType?c("PUT","cases/".concat(n,"/route-case"),{},function(){u(n,i)}):c("PUT","cases/".concat(n,"/route-case"),{},function(){c("PUT","cases/".concat(n,"/route-case"),{},function(){u(n,i)})})})})})})},u=function(e,r){var i=a.state.ticket;if(n.group&&i.assignee.customData){var l={ticket_id:S.a.generateTicketNumber(i.ticketType,i.specificType,r),pmaker_case_uid:e,assigned_by:"".concat(n.firstName," ").concat(n.lastName),assign_remarks:i.additionalNotes,ticket_owner_department:"Inpatient"===i.specificType?i.assignee.customData.department:n.group.department};T.a.patch("customer-care/tickets/".concat(t),l,function(){d(e)},function(){a.setState({disableButtons:!1,isLoading:!1,snackbarMessage:"Failed to create ticket.",isOutsideTheLimitModalOpen:!1})})}},d=function(e){var n=a.state.ticket,r="Availment"!==n.ticketType||"Inpatient"===n.specificType?"#/customer-care/update-ticket/".concat(e,"/").concat(t):"#/customer-care/resolve-ticket/".concat(e,"/").concat(t);a.props.history.push(r),window.location.reload(),a.setState({isLoading:!1,disableButtons:!0})};if(void 0===i||i)m();else{var p=n.group?n.group.department:"";T.a.get("group/pmaker_uids?amount_limit=".concat(r,"&")+"department=".concat(p,"&")+"requesting_group=".concat(Object(Ma.get)(n,"group.name",""),"&")+"role=Ticket Approver&with_names=true",function(e){if(0===e.group_pmaker_ids.length){var t=n&&n.ccData?n.ccData.supervising_department_pmaker_id:"";o.push(t)}else o=e.group_pmaker_ids;m()})}},a.onSaveForNow=function(){var e=a.state.login,t=a.state.ticket,n=a.state.inquiries,r=a.state.endorsement,i=a.state.requestApproval,l=a.state.complaint,s=function(s,o,c){if(e){var m=V.a.saveInCreateTicketPayload(e,a.state.doctors,t,a.state.availment,a.state.confinement,a.state.consultation,n,r,i,l,s,o,c,a.state.member,a.state.client);T.a.post("tmp",JSON.stringify(m),function(e){e._id?a.setState({isLoading:!1,snackbarMessage:"Progress saved.",lastSave:new Date}):a.setState({isLoading:!1,snackbarMessage:"Failed to save progress."})},function(){a.setState({isLoading:!1,snackbarMessage:"Failed to save progress."})})}};a.onUploadFiles(a.state.ticket.additionalFiles,"supporting_document",function(e){var i=!e.error&&e.length>0?t.additionalFiles.filter(function(e){return e.field}).concat(e):t.additionalFiles;if("Inquiry"===t.ticketType&&n.length>0){var l=[];n.forEach(function(e){a.onUploadFiles(e.supportDocs,"supporting_document",function(t){l.push(!t.error&&t.length>0?e.supportDocs.filter(function(e){return e.field}).concat(t):e.supportDocs),n.length===l.length&&s(i,l,[])})})}else"Request/Endorsement"===t.ticketType?a.onUploadFiles(r.requestFiles,"supporting_document",function(e){var t=!e.error&&e.length>0?r.requestFiles.filter(function(e){return e.field}).concat(e):r.requestFiles;s(i,[],t)}):s(i,[],[])})},a.callSnackbar=function(e){a.setState({snackbarMessage:e})},a.state={disableButtons:!1,searchBarData:{value:"",type:{value:"",label:""}},tabSelected:1,buttonClicked:"",createTicketAttemp:!1,isLoading:!0,snackbarMessage:null,popperAnchor:null,isOtherActionsPopperOpen:!1,isCloseTicketModalOpen:!1,isOutsideTheLimitModalOpen:!1,isValidationModalOpen:!1,isProcessMakerErrorModalOpen:!1,isResetFieldsModalOpen:!1,isAdvanceSearchOpen:!1,isInitiateSearch:!1,assignees:[],doctors:[],ticket:{ticketChannel:"Call",transactionNo:"9999-9999",ticketSource:"",memberSourceChoice:{value:"",label:""},memberName:"",relationshipToMember:"",corporateSourceChoice:{value:"",label:""},clientName:"",companyPosition:"",brokerName:{value:"",label:""},facility:{value:"",label:""},otherFacility:"",department:"",callerName:"",contactNo:"",ticketType:"",ticketCategory:{},specificType:"",urgency:"High",assignee:{id:"",name:"",isGroup:!1},additionalNotes:"",additionalFiles:[],ticketNo:"",pmCaseId:"",ticketOwnerId:"",status:"Open",createdBy:{id:"",name:"",isGroup:!1},dateCreated:new Date,dateUpdated:new Date,dateEscalated:null,totalAmount:0},availment:{provider:{value:"",label:""},diagnoses:[]},confinement:{provider:{value:"",label:""},dateAdmitted:new Date,confinementKind:"",roomType:{value:"",label:""},roomNo:"",costPerDay:0,doctor:{value:"",label:""},initialDiagnosis:{value:"",label:""},amount:0},consultation:{provider:{value:"",label:""},diagnosis:{value:"",label:""},doctor:{value:"",label:""},notes:"",assessmentRemarks:"",assessmentType:"",approvedAmount:0,loaNo:0},complaint:{type:{value:"",label:""},summary:"",specifics:"",details:"",notes:"",files:[],rootCause:"",resolution:"",acknowledgedBy:""},inquiries:[],endorsement:{requestType:{value:"",label:""},background:"",notes:"",requestFiles:[]},requestApproval:{title:"",type:{value:"",label:""},background:"",notes:"",recommendation:"",basisRecommendation:"",assessmentType:"",assessmentRemarks:""}},a.facilities=[],a.errors=[],a.leftPanelSection=n.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadFacilities(),te.loadIcd10Codes(void 0,function(){e.setState({snackbarMessage:"Failed to get ICD10 codes."})}),te.loadCptCodes(void 0,function(){e.setState({snackbarMessage:"Failed to get CPT codes."})}),E.c.StorageService("user_data").then(function(t){e.setState({login:V.a.getLoginData(t)}),e.state.login?(T.a.get("tmp?"+"filter[where][and][0][user_id]=".concat(e.state.login.userId,"&")+"filter[where][and][1][module]=Customer%20Care&filter[where][and][2][process]=Create%20Ticket",function(t){if((t=t.filter(function(e){return"Create Ticket"===e.process})).length>0){e.setState({lastSave:new Date(t[0].timestamp),ticket:t[0].data.ticket,availment:t[0].data.availment,confinement:t[0].data.confinement,consultation:t[0].data.consultation,complaint:t[0].data.complaint,inquiries:t[0].data.inquiries,endorsement:t[0].data.endorsement,requestApproval:t[0].data.requestApproval,doctors:t[0].data.doctors});var a=t[0].data.client_id?t[0].data.client_id:t[0].data.member_id?t[0].data.member_id:"",n=t[0].data.client_id?"Client":"Member";e.loadMemberAndClient(a,n),""!==e.state.ticket.ticketType&&e.loadAssignees(e.state.ticket.ticketType)}e.setState({isLoading:!1})},function(){e.setState({isLoading:!1})}),e.state.login&&e.state.login.group&&"Customer Service Specialist GROUP"===e.state.login.group.name&&e.setState({searchBarData:{value:"",type:{value:"2",label:"Member ID"}}})):e.setState({snackbarMessage:"Failed to get user data. Please try to re-login."})}).catch(function(){e.setState({snackbarMessage:"Failed to get user data. Please try to re-login."})})}},{key:"render",value:function(){var e=this;return console.log("Create Ticket Page - state:",this.state),console.log("Create Ticket Page - Facilities count",this.facilities.length),console.log("Create Ticket Page - ICD10 Codes count",te.ICD10_CODES?te.ICD10_CODES.length:void 0),console.log("Create Ticket Page - CPT Codes count",te.CPT_CODES?te.CPT_CODES.length:void 0),this.state.isInitiateSearch&&this.leftPanelSection.current&&this.setState({isInitiateSearch:!1}),this.state.isAdvanceSearchOpen?n.createElement(ts,{onChooseItem:function(t,a){e.setState({isAdvanceSearchOpen:!1,searchBarData:{value:"",type:{value:"Client"===a?"1":"2",label:"Client"===a?"Client ID":"Member ID"}}}),e.onResetAllFields(),e.loadMemberAndClient(t,a)},onClose:function(){e.setState({isAdvanceSearchOpen:!1})}}):this.renderMainContent()}},{key:"renderMainContent",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement(_.a,{container:!0,className:"customer-care-main"},this.state.isLoading?n.createElement(es.a,null):null,n.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!this.state.snackbarMessage,autoHideDuration:6e3,onClose:function(){e.setState({snackbarMessage:null})},message:this.state.snackbarMessage}),n.createElement(Y,{className:"modal",isOpen:this.state.isValidationModalOpen,handleClose:function(){return e.setState({isValidationModalOpen:!1})},header:"Missing Fields",content:n.createElement("div",{className:"text"},this.errors.map(function(e){return n.createElement(n.Fragment,null,n.createElement("p",{className:"header-2"},e.message),n.createElement("p",null,e.targets.map(function(e){return n.createElement("div",null,"- ".concat(e))})))})),footer:n.createElement(ke,{text:"Okay",variant:"outlined",onClick:function(){e.setState({isValidationModalOpen:!1})}})}),n.createElement(Y,{className:"modal",isOpen:this.state.isProcessMakerErrorModalOpen,handleClose:function(){e.setState({isProcessMakerErrorModalOpen:!1})},header:"Failed to Submit",content:n.createElement("div",{style:{marginBottom:"30px"}},n.createElement("div",null,"Error in Submitting Ticket."),n.createElement("div",null,"Would you like to try again?")),footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.setState({isProcessMakerErrorModalOpen:!1})}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(ke,{text:"Retry",onClick:function(){e.state.login&&("Consultation"===e.state.ticket.specificType?e.onSubmitTicket("SUBMIT",e.state.login,0,!0):e.onSubmitTicket("SUBMIT",e.state.login,0))}}))}),n.createElement(Y,{className:"modal",isOpen:this.state.isCloseTicketModalOpen,handleClose:function(){e.setState({isCloseTicketModalOpen:!1})},header:"Resolve and Close Ticket",content:n.createElement(n.Fragment,null,n.createElement("div",{style:{padding:"0.5rem 0"}},"Marking this as resolve will no longer allow you to add updates in this ticket."),n.createElement("div",{style:{padding:"0.5rem 0"}},'If you need to add more question and answers, click Cancel and choose "Submit Ticket" instead.')),footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.setState({isCloseTicketModalOpen:!1})}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(ke,{text:"Resolve and Close",onClick:function(){e.state.login&&(e.setState({isCloseTicketModalOpen:!1}),e.onSubmitTicket("RESOLVE",e.state.login,0))}}))}),n.createElement(Y,{className:"modal",isOpen:this.state.isResetFieldsModalOpen,handleClose:function(){e.setState({isResetFieldsModalOpen:!1})},header:"Reset Fields",content:"Are you sure you want to reset the fields? This will clear all the fields you have entered so far.",footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.setState({isResetFieldsModalOpen:!1})}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(ke,{text:"Confirm",onClick:function(){e.onResetAllFields(),e.setState({isResetFieldsModalOpen:!1})}}))}),!this.state.login||"Outpatient Procedure"!==this.state.ticket.specificType&&"Emergency Room"!==this.state.ticket.specificType?null:n.createElement(Xl,{ticket:this.state.ticket,login:this.state.login,isOpen:this.state.isOutsideTheLimitModalOpen,assigneeIsMe:"Me"===this.state.ticket.assignee.name,amountLimit:"Outpatient Procedure"===this.state.ticket.specificType||"Emergency Room"===this.state.ticket.specificType?S.a.getAvailmentCost(this.state.availment):0,onBeforeMainAction:function(){e.setState({isLoading:!0,isOutsideTheLimitModalOpen:!1})},onSuccess:function(t,a,n){e.state.login&&(void 0!==a&&(e.state.ticket.additionalNotes=a,e.state.ticket.assignee.name=n?n.join(", "):e.state.ticket.assignee.name),e.setState({isOutsideTheLimitModalOpen:!1,ticket:e.state.ticket}),e.onSubmitTicket("SUBMIT FOR ASSESSMENT",e.state.login,t,!1))},onClose:function(){e.setState({isOutsideTheLimitModalOpen:!1})}}),n.createElement(Zl,{isOpen:this.state.isOtherActionsPopperOpen,anchor:this.state.popperAnchor,items:[{disabled:!1,content:n.createElement(Ql,{icon:N.i,label:"For Approval",color:"initial"}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1})}},{disabled:!1,content:n.createElement(Ql,{icon:N.l,label:"For Comment",color:"initial"}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1})}},{disabled:!0,content:n.createElement(Ql,{icon:N.N,label:"Cancel Ticket",color:"initial"}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1})}}].filter(function(e){return!e.disabled})}),n.createElement(J,{ref:this.leftPanelSection,client:this.state.client,member:this.state.member,searchBarData:this.state.searchBarData,task:"Create",disableLinkedTickets:!0,promptChooseMember:this.state.createTicketAttemp,onSetSearchBarData:function(t){e.setState({searchBarData:t})},onUpdateMemberStateChange:function(t){t&&(t.contract&&"Active"===t.contract.status||"Availment"!==e.state.ticket.ticketType||(e.state.ticket.ticketType="",e.setState({ticket:Object.assign({},e.state.ticket)})));e.setState({member:t})},onUpdateClientStateChange:function(t){"Availment"===e.state.ticket.ticketType&&(e.state.ticket.ticketType="",e.state.ticket.specificType=""),e.setState({client:t})},onOpenAdvanceSearch:function(){e.setState({isAdvanceSearchOpen:!0})}}),n.createElement(xe,{tabList:this.state.member?this.memberTabList:this.state.client?this.clientTabList:[],selectedTab:this.state.tabSelected,setSelectedTab:function(t){e.setState({tabSelected:t})}}),this.state.client?n.createElement("div",{className:"main-content".concat(1===this.state.tabSelected?"-flex":"")},1===this.state.tabSelected?this.renderRightContent():2===this.state.tabSelected?n.createElement(nt,{clientId:this.state.client.id,history:this.props.history}):3===this.state.tabSelected?n.createElement(Fl,{contractId:this.state.client&&this.state.client.contract?this.state.client.contract.id:""}):4===this.state.tabSelected?n.createElement(Wa,{clientId:this.state.client.id,planType:void 0}):5===this.state.tabSelected&&this.state.client&&this.state.client.contract?n.createElement(ql,{contractID:this.state.client.contract.id}):6===this.state.tabSelected?n.createElement(Xa,{member:this.state.member,client:this.state.client}):7===this.state.tabSelected?n.createElement(Qa,{clientId:this.state.client.corporateAccountNo}):8===this.state.tabSelected&&this.state.client&&this.state.client.contract?n.createElement($a.a,{clientId:this.state.client.corporateAccountNo,contractId:this.state.client.contract.id}):null):this.state.member?n.createElement("div",{className:"main-content".concat(1===this.state.tabSelected?"-flex":"")},1===this.state.tabSelected?this.renderRightContent():2===this.state.tabSelected?n.createElement(qa,{memberNumber:this.state.member.memberId,history:this.props.history}):3===this.state.tabSelected?n.createElement(Dr,{memberId:this.state.member.memberId}):4===this.state.tabSelected?n.createElement(Wa,{clientId:this.state.member.client&&this.state.member.client.id?this.state.member.client.id:"",planType:this.state.member.planType}):5===this.state.tabSelected?n.createElement(ql,{contractID:this.state.member.contract?this.state.member.contract.id:""}):6===this.state.tabSelected&&this.state.member?n.createElement(Xa,{member:this.state.member}):7===this.state.tabSelected?n.createElement(Qa,{memberId:this.state.member.memberId}):8===this.state.tabSelected&&this.state.member&&this.state.member.contract?n.createElement($a.a,{memberId:this.state.member.memberId,contractId:this.state.member.contract.id}):null):n.createElement("div",{className:"main-content-flex"},this.renderRightContent())),n.createElement(Re,{lastSave:this.state.lastSave,onSaveForNow:function(){e.state.disableButtons?console.log("Save For Now button is still disabled"):e.setState({buttonClicked:"Save For Now"},function(){e.onSaveForNow()})},onResolveAndCloseTicket:"Me"!==this.state.ticket.assignee.name||"Inquiry"!==this.state.ticket.ticketType&&"Request/Endorsement"!==this.state.ticket.ticketType?void 0:function(){e.state.disableButtons?console.log("Resolve and close button is still disabled"):e.setState({buttonClicked:"Resolve and Close"},function(){e.errors=e.getValidationErrorList(),0===e.errors.length?e.setState({isCloseTicketModalOpen:!0}):e.setState({isValidationModalOpen:!0})})},onSubmitTicket:function(){e.state.disableButtons?console.log("Submit button is still disabled"):e.setState({buttonClicked:"Submit"},function(){if(e.errors=e.getValidationErrorList(),0===e.errors.length&&e.state.login){var t=e.state.ticket.assignee.id===e.state.login.pmakerUid,a=e.state.login.group&&e.state.ticket.assignee.id===e.state.login.group.pmaker_uid;!e.state.login||"Outpatient Procedure"!==e.state.ticket.specificType&&"Emergency Room"!==e.state.ticket.specificType||!t&&!a?"Consultation"===e.state.ticket.specificType?e.onSubmitTicket("SUBMIT",e.state.login,0,!0):e.onSubmitTicket("SUBMIT",e.state.login,0):e.onCheckApprovalLimit("SUBMIT",e.state.availment)}else e.setState({isValidationModalOpen:!0})})},onProceedWithApproval:"Outpatient Procedure"===this.state.ticket.specificType||"Consultation"===this.state.ticket.specificType||"Emergency Room"===this.state.ticket.specificType?function(){e.state.disableButtons?console.log("Proceed with approval button is still disabled"):(e.errors=e.getValidationErrorList(),0==e.errors.length&&e.state.login?!e.state.login||"Outpatient Procedure"!==e.state.ticket.specificType&&"Emergency Room"!==e.state.ticket.specificType?"Consultation"===e.state.ticket.specificType?e.onSubmitTicket("SUBMIT FOR ASSESSMENT",e.state.login,0,!0):e.onSubmitTicket("SUBMIT FOR ASSESSMENT",e.state.login,0):e.onCheckApprovalLimit("SUBMIT FOR ASSESSMENT",e.state.availment,e.state.ticket.assignee.customData):e.setState({isValidationModalOpen:!0}))}:void 0}))}},{key:"renderRightContent",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement("div",{className:"top-bar"},n.createElement("div",{style:{textAlign:"right",padding:"0 0.75rem"}},n.createElement(O.a,{icon:N.P,label:"Reset Fields",onClick:function(){e.setState({isResetFieldsModalOpen:!0})}}))),this.state.login?n.createElement(_e,{login:this.state.login,clientOrMember:this.state.client&&!this.state.member?"client":!this.state.client&&this.state.member?"member":null,searchIDType:this.state.searchBarData.type.label,ticket:this.state.ticket,facilities:this.facilities,assignees:this.state.assignees,isMember:!!this.state.member,createTicketAttemp:this.state.createTicketAttemp,loadAssignees:this.loadAssignees,refreshTicketState:function(){e.setState({ticket:Object.assign({},e.state.ticket)})},callSnackbar:this.callSnackbar}):null,"Availment"===this.state.ticket.ticketType?"Outpatient Procedure"===this.state.ticket.specificType?n.createElement(me,{availment:this.state.availment,facilities:this.facilities,doctors:this.state.doctors,createTicketAttemp:this.state.createTicketAttemp,loadDoctors:this.loadDoctors,loadFacilities:this.loadFacilities,refreshAvailmentState:function(){e.setState({availment:e.state.availment})}}):"Inpatient"===this.state.ticket.specificType?n.createElement(le,{confinement:this.state.confinement,facilities:this.facilities,doctors:this.state.doctors,createTicketAttemp:this.state.createTicketAttemp,loadDoctors:this.loadDoctors,loadFacilities:this.loadFacilities,refreshConfinementState:function(){e.setState({confinement:e.state.confinement})}}):"Emergency Room"===this.state.ticket.specificType?n.createElement(Te,{availment:this.state.availment,facilities:this.facilities,doctors:this.state.doctors,createTicketAttemp:this.state.createTicketAttemp,loadDoctors:this.loadDoctors,loadFacilities:this.loadFacilities,refreshAvailmentState:function(){e.setState({availment:e.state.availment})}}):"Consultation"===this.state.ticket.specificType?n.createElement(Oe,{consultation:this.state.consultation,facilities:this.facilities,doctors:this.state.doctors,createTicketAttemp:this.state.createTicketAttemp,loadDoctors:this.loadDoctors,loadFacilities:this.loadFacilities,refreshConsultationState:function(){e.setState({consultation:e.state.consultation})}}):null:"Request/Endorsement"===this.state.ticket.ticketType?n.createElement(Jl,{endorsement:this.state.endorsement,createTicketAttemp:this.state.createTicketAttemp,refreshEndorsementState:function(){e.setState({endorsement:e.state.endorsement})},callSnackbar:this.callSnackbar}):"Request Requiring Approval"===this.state.ticket.ticketType?n.createElement(Wl,{requestApproval:this.state.requestApproval,createTicketAttemp:this.state.createTicketAttemp,refreshRequestApprovalState:function(){e.setState({requestApproval:e.state.requestApproval})}}):"Complaint/Concern"===this.state.ticket.ticketType?n.createElement($l,{complaint:this.state.complaint,createTicketAttemp:this.state.createTicketAttemp,refreshComplaintState:function(){e.setState({complaint:e.state.complaint})}}):"Inquiry"===this.state.ticket.ticketType?n.createElement(Se,{inquiries:this.state.inquiries,buttonClicked:this.state.buttonClicked,createTicketAttemp:this.state.createTicketAttemp,refreshInquiryState:function(){e.setState({inquiries:e.state.inquiries})},callSnackbar:this.callSnackbar}):null)}}]),t}(n.Component),rs=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getTotalAccommodationCost=function(){var e=0;return a.props.confinement.accommodations.map(function(t){e+=t.costPerDay*t.days}),e},a.getTotalPhysicianCost=function(){var e=0;return a.props.confinement.physicians.map(function(t){e+=t.amount}),e},a.getTotalProcedureCost=function(){var e=0;return a.props.confinement.procedures.map(function(t){e+=t.amount}),e},a.getTotalItemCost=function(){var e=0;return a.props.confinement.items.map(function(t){e+=t.amount}),e},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log("EDITABLE?",this.props.editable),n.createElement("div",{className:"section"},n.createElement("div",{className:"header-1"},"Review Summary"),this.renderSection("UPDATES","update",2,n.createElement(L.a,{className:"custom-table",rows:this.props.confinement.updates,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Remarks"),n.createElement(j.a,{style:{width:"200px"}},"As of Date"),n.createElement(j.a,{style:{textAlign:"right",width:"200px"}},"Running Hospital Bill"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.remarks),n.createElement(j.a,null,S.a.toCommonDateString(e.date)),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.hospitalBill,!0)," PHP")))}})),this.renderSection("ROOM ACCOMMODATIONS","room",3,n.createElement(L.a,{className:"custom-table",rows:this.props.confinement.accommodations,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Room Type"),n.createElement(j.a,{style:{textAlign:"center",width:"150px"}},"Room No."),n.createElement(j.a,{style:{textAlign:"center",width:"150px"}},"No. of Days"),n.createElement(j.a,{style:{textAlign:"right",width:"200px"}},"Cost Per Day"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.roomType.value),n.createElement(j.a,{style:{textAlign:"center"}},e.roomNo),n.createElement(j.a,{style:{textAlign:"center"}},e.days),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.costPerDay,!0)," PHP")))}}),this.getTotalAccommodationCost()),this.renderSection("DIAGNOSES","diagnosis",4,n.createElement(L.a,{className:"custom-table",rows:this.props.confinement.diagnoses,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{width:"300px"}},"Diagnosis"),n.createElement(j.a,null,"Remarks"),n.createElement(j.a,{style:{textAlign:"center",width:"100px"}},"Type"),n.createElement(j.a,{style:{textAlign:"center",width:"175px"}},"Primary Diagnosis?"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,"".concat(e.diagnosis.value," - ").concat(e.diagnosis.label)),n.createElement(j.a,null,e.remarks),n.createElement(j.a,{style:{textAlign:"center"}},e.isFinal?"Final":"Initial"),n.createElement(j.a,{style:{textAlign:"center"}},e.isPrimary?"Yes":"No"))}})),this.renderSection("PHYSICIANS","physicians",5,n.createElement(L.a,{className:"custom-table",rows:this.props.confinement.physicians,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{width:"250px"}},"Specialization - Doctor Name"),n.createElement(j.a,{style:{width:"100px"}},"Diagnosis"),n.createElement(j.a,null,"Remarks"),n.createElement(j.a,{style:{textAlign:"right",width:"125px"}},"No. of Visits"),n.createElement(j.a,{style:{textAlign:"right",width:"200px"}},"Amount"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},e.physician.params?n.createElement(j.a,null,n.createElement("div",{className:"text"},"".concat(e.physician.params[0]," - ").concat(e.physician.label)),n.createElement("div",{className:"light-text"},"".concat(e.physician.params[1]," Physician"))):"",n.createElement(j.a,null,e.diagnosis.value),n.createElement(j.a,null,e.remarks),n.createElement(j.a,{style:{textAlign:"right"}},e.visits),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.amount,!0)," PHP")))}}),this.getTotalPhysicianCost()),this.renderSection("PROCEDURES","procedures",6,n.createElement(L.a,{className:"custom-table",rows:this.props.confinement.procedures,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{width:"200px"}},"Procedure"),n.createElement(j.a,{style:{width:"100px"}},"Diagnosis"),n.createElement(j.a,{style:{width:"175px"}},"Doctor"),n.createElement(j.a,{style:{width:"150px"}},"Date"),n.createElement(j.a,{style:{minWidth:"100px"}},"Remarks"),n.createElement(j.a,{style:{textAlign:"right",width:"150px"}},"Amount"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,"".concat(e.procedure.value," - ").concat(e.procedure.label)),n.createElement(j.a,null,e.diagnosis.value),n.createElement(j.a,null,e.physician.label),n.createElement(j.a,null,S.a.toCommonDateString(e.date)),n.createElement(j.a,null,e.remarks),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.amount,!0)," PHP")))}}),this.getTotalProcedureCost()),this.renderSection("OTHER DETAILS","item",8,n.createElement(L.a,{className:"custom-table",rows:this.props.confinement.items,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Item"),n.createElement(j.a,{style:{width:"250px"}},"Type"),n.createElement(j.a,{style:{textAlign:"right",width:"250px"}},"Amount"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.name),n.createElement(j.a,null,e.type.label),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.amount,!0)," PHP")))}}),this.getTotalItemCost()),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2"},"INFORMATION"),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"PROVIDER"),n.createElement("div",{className:"small-text"},this.props.confinement.provider.value+" - "+this.props.confinement.provider.label)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"KIND OF CONFINEMENT"),n.createElement("div",{className:"small-text"},this.props.confinement.confinementKind)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DATE ADMITTED"),n.createElement("div",{className:"small-text"},S.a.toCommonDateString(this.props.confinement.dateAdmitted)))),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2"},"DISCHARGE DETAILS"),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"FINAL HOSPITAL BILL AMOUNT"),n.createElement("div",{className:"small-text"},S.a.formatNumber(this.props.confinement.finalBill,!0)+" PHP")),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"GIFT GIVEN"),n.createElement("div",{className:"small-text"},this.props.confinement.giftGiven?"Yes":"No")),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DISCHARGE DATE"),n.createElement("div",{className:"small-text"},this.props.confinement.dischargeDate?S.a.toCommonDateString(this.props.confinement.dischargeDate):"---"))),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2"},"PHILHEALTH"),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"PHILHEALTH COVERAGE"),n.createElement("div",{className:"small-text"},this.props.confinement.coverage.label)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"TICKET NUMBER"),n.createElement("div",{className:"small-text"},this.props.ticketNo)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"PHILHEALTH AMOUNT"),n.createElement("div",{className:"small-text"},S.a.formatNumber(this.props.confinement.philhealthAmount,!0)+" PHP"))),n.createElement(_.a,{item:!0,xs:4},n.createElement(O.a,{label:this.props.editable?"Edit Confinement Details":void 0,onClick:function(){window.scroll(0,-window.pageYOffset),e.props.setTabSelected(3)}})),n.createElement(_.a,{item:!0,xs:4},n.createElement(O.a,{label:this.props.editable?"Edit Discharge Details":void 0,onClick:function(){window.scroll(0,-window.pageYOffset),e.props.setTabSelected(7)}})),n.createElement(_.a,{item:!0,xs:4},n.createElement(O.a,{label:this.props.editable?"Edit PhilHealth":void 0,onClick:function(){window.scroll(0,-window.pageYOffset),e.props.setTabSelected(7)}})))),n.createElement("div",{className:"section"}))}},{key:"renderSection",value:function(e,t,a,r,i){var l=this;return n.createElement("div",{className:"sub-section"},n.createElement("div",{style:{float:"right"}},n.createElement(O.a,{label:this.props.editable?"Add / Edit ".concat(t):void 0,onClick:function(){window.scroll(0,-window.pageYOffset),l.props.setTabSelected(a)}})),n.createElement("div",{className:"header-2"},e),r,i?n.createElement("div",{className:"sub-section"},n.createElement("div",{style:{float:"right"}},n.createElement("span",{className:"small-text"},"TOTAL AMOUNT"),n.createElement("span",{style:{marginLeft:"1rem"}}),n.createElement("span",{className:"header-2"},S.a.formatNumber(i,!0)+" PHP"))):null)}}]),t}(n.Component);function is(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ls(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?is(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):is(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ss=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleOnChange=function(e){return function(t){a.setState(function(a){return{data:ls({},a.data,Object(v.a)({},e,t))}})}},a.state={rowToEdit:-1,data:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderCell",value:function(e,t,a,r){return n.createElement(j.a,{key:t,style:this.state.rowToEdit===e?{padding:"8px"}:void 0},this.state.rowToEdit===e?this.props.editField?this.props.editField(t,this.state.data[a],this.handleOnChange(a)):r:this.props.onFormat?this.props.onFormat(e,t,r):r)}},{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2"},this.props.placeholder),n.createElement(vt.a,{className:(this.props.className?this.props.className:"")+" table"},n.createElement(_t.a,null,n.createElement(F.a,null,this.props.cols.map(function(t,a){return e.props.headerStyles?n.createElement(j.a,{key:a,style:e.props.headerStyles[a]},t):n.createElement(j.a,{key:a},t)}),n.createElement(j.a,{style:{minWidth:"80px"}}))),n.createElement(yt.a,null,this.props.rows.length>0?this.props.rows.map(function(t,a){var r=a%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r},key:a},Object.keys(t).map(function(n,r){return e.renderCell(a,r,n,t[n])}),n.createElement(j.a,{style:{minWidth:"80px"}},e.state.rowToEdit!==a?n.createElement(n.Fragment,null,void 0!==e.props.editable&&!0===e.props.editable?n.createElement(n.Fragment,null,n.createElement("div",{style:{display:"inline-block",paddingRight:"0.5rem"}},n.createElement(W.a,{icon:N.y,onClick:function(){e.setState({rowToEdit:a}),e.setState({data:t})}})),n.createElement("div",{style:{display:"inline-block"}},n.createElement(W.a,{icon:N.v,onClick:function(){e.props.onDeleteRow(a)}}))):null):n.createElement(n.Fragment,null,n.createElement("div",{style:{display:"inline-block",paddingRight:"0.5rem"}},n.createElement(W.a,{icon:N.i,onClick:function(){e.props.onSaveEditRow(a,e.state.data),e.setState({rowToEdit:-1})}})),n.createElement("div",{style:{display:"inline-block"}},n.createElement(W.a,{icon:N.O,onClick:function(){e.setState({rowToEdit:-1})}})))))}):n.createElement(F.a,null,n.createElement(j.a,{colSpan:999,style:{textAlign:"center"}},this.props.noRowsMessage?this.props.noRowsMessage:"No data found")))))}}]),t}(n.Component),os=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).onFormatCRUDTable=function(e,t){return 1===e?n.createElement("div",null,S.a.toCommonDateString(t)):2===e?n.createElement("div",{style:{textAlign:"right"}},S.a.formatNumber(t,!0)+" PHP"):t},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Add Update"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Remarks",value:this.props.state.remarks,disabled:!this.props.editable,charLimit:100,onChange:function(t){e.props.state.remarks=t,e.props.refreshUpdatesState()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(ee.a,{placeholder:"As of Date",value:this.props.state.date,disabled:!this.props.editable,onChange:function(t){e.props.state.date=t,e.props.refreshUpdatesState()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement($,{placeholder:"Running Hospital Bill",detail:"PHP",isFloat:!0,disabled:!this.props.editable,value:this.props.state.hospitalBill,onChange:function(t){e.props.state.hospitalBill=t,e.props.refreshUpdatesState()}}))),n.createElement("div",{style:{paddingTop:"5px"}}),""!==this.props.state.remarks&&S.a.isValidDate(this.props.state.date,!0)&&0!==this.props.state.hospitalBill&&this.props.editable?n.createElement(O.a,{label:"Add update",icon:N.B,onClick:function(){var t=e.props.state,a={remarks:t.remarks,date:t.date,hospitalBill:t.hospitalBill};e.props.updates.unshift(a),e.props.state.remarks="",e.props.state.date=new Date,e.props.state.hospitalBill=0,e.props.refreshUpdatesState()}}):null),n.createElement("div",{className:"sub-section"},n.createElement(ss,{editable:this.props.editable,className:"custom-table",placeholder:"UPDATES",cols:["Remarks","As of Date","Running Hospital Bill"],rows:this.props.updates,headerStyles:[{minWidth:"200px"},{width:"200px"},{width:"200px",textAlign:"right"}],onSaveEditRow:function(t,a){e.props.updates[t]=a,e.props.refreshUpdatesState()},onDeleteRow:function(t){e.props.updates.splice(t,1),e.props.refreshUpdatesState()},onFormat:function(t,a,n){return e.onFormatCRUDTable(a,n)},editField:function(e,t,a){return 0===e?n.createElement(z.a,{value:t,onChange:function(e){return a(e)}}):1===e?n.createElement(ee.a,{value:t,onChange:function(e){return a(e)}}):n.createElement($,{detail:"PHP",isFloat:!0,value:t,onChange:function(e){return a(e)}})}})),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"OTHER DETAILS"),n.createElement(ce,{label:"Gift Given?",disabled:!this.props.editable,value:this.props.confinement.giftGiven,onChange:function(t){e.props.confinement.giftGiven=t,e.props.refreshUpdatesState()}})),n.createElement("div",{className:"section"}))}}]),t}(n.Component),cs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).confinementTypes=void 0,a.onFormatCRUDTable=function(e,t){var a=3===e?"right":1===e||2===e?"center":"left";return n.createElement("div",{style:{textAlign:a}},3===e?S.a.formatNumber(t,!0)+" PHP":0===e?t.value:t)},a.getTotalCost=function(){var e=0;return a.props.accommodations.map(function(t){e+=t.costPerDay*t.days}),e},a.confinementTypes=[{value:"1",label:"Elective / Scheduled"},{value:"2",label:"ER leading to confinement"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderConfinementDetails",value:function(){return n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"CONFINEMENT DETAILS"),n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{placeholder:"Provider",value:this.props.provider,choices:[],disabled:!0,onChange:function(e){return null}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(ee.a,{placeholder:"Date Admitted",value:this.props.dateAdmitted,disabled:!0,onChange:function(e){return null}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(Z.a,{placeholder:"Kind of Confinement",value:{value:"",label:this.props.confinementKind},choices:this.confinementTypes,disabled:!0,onChange:function(e){return null}}))))}},{key:"renderAddRoomAccommodation",value:function(){var e=this;return n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(Z.a,{placeholder:"Room Type",choices:this.props.roomTypes,value:this.props.state.roomType,disabled:!this.props.editable,onChange:function(t){e.props.state.roomType=t,e.props.refreshAccommodationsState()}})),n.createElement(_.a,{item:!0,xs:2},n.createElement(z.a,{placeholder:"Room No.",value:this.props.state.roomNo,disabled:!this.props.editable,onChange:function(t){e.props.state.roomNo=t,e.props.refreshAccommodationsState()}})),n.createElement(_.a,{item:!0,xs:2},n.createElement(se.a,{placeholder:"No. of Days",value:this.props.state.days,disabled:!this.props.editable,onChange:function(t){e.props.state.days=t,e.props.refreshAccommodationsState()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement($,{placeholder:"Cost Per Day",detail:"PHP",isFloat:!0,disabled:!this.props.editable,value:this.props.state.costPerDay,onChange:function(t){e.props.state.costPerDay=t,e.props.refreshAccommodationsState()}}))),n.createElement("div",{style:{paddingTop:"5px"}}),this.props.state.days>0&&this.props.editable?n.createElement(O.a,{label:"Add room",icon:N.B,onClick:function(){var t=e.props.state,a={roomType:t.roomType,roomNo:t.roomNo,days:t.days,costPerDay:t.costPerDay};e.props.accommodations.unshift(a),e.props.state.roomType={value:"",label:""},e.props.state.days=0,e.props.state.costPerDay=0,e.props.refreshAccommodationsState()}}):null)}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Add Room Accommodation"),this.renderAddRoomAccommodation(),n.createElement("div",{className:"sub-section"}),this.renderConfinementDetails(),n.createElement("div",{className:"sub-section"},n.createElement(ss,{editable:this.props.editable,className:"custom-table",placeholder:"ROOM ACCOMMODATIONS",cols:["Room Type","Room No.","No. of Days","Cost Per Day"],rows:this.props.accommodations,headerStyles:[{minWidth:"200px"},{width:"150px",textAlign:"center"},{width:"150px",textAlign:"center"},{width:"200px",textAlign:"right"}],onSaveEditRow:function(t,a){e.props.accommodations[t]=a,e.props.refreshAccommodationsState()},onDeleteRow:function(t){e.props.accommodations.splice(t,1),e.props.refreshAccommodationsState()},onFormat:function(t,a,n){return e.onFormatCRUDTable(a,n)},editField:function(t,a,r){return 0===t?n.createElement(Z.a,{choices:e.props.roomTypes,value:a,onChange:function(e){r(e)}}):1===t?n.createElement(z.a,{value:a,onChange:function(e){return r(e)}}):2===t?n.createElement(se.a,{value:a,onChange:function(e){return r(e<1?1:e)}}):n.createElement($,{detail:"PHP",isFloat:!0,value:a,onChange:function(e){return r(e)}})}}),n.createElement("div",{className:"sub-section"},n.createElement("div",{style:{float:"right"}},n.createElement("span",{className:"small-text"},"TOTAL AMOUNT"),n.createElement("span",{style:{marginLeft:"1rem"}}),n.createElement("span",{className:"header-2"},S.a.formatNumber(this.getTotalCost(),!0)+" PHP")))),n.createElement("div",{className:"section"}))}}]),t}(n.Component),ms=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).getFilteredICD10Codes=function(){return te.ICD10_CODES?te.ICD10_CODES.filter(function(e){return void 0===a.props.diagnoses.find(function(t){return t.diagnosis.value===e.value})}):[]},a.onFormatCRUDTable=function(e,t,r){return 0===t?n.createElement("div",{style:{minWidth:"200px",maxWidth:"200px"}},r.value+" - "+r.label):2===t?n.createElement("div",null,r?"Final":"Initial"):3===t?n.createElement("div",{style:{textAlign:"center"}},n.createElement(Ve,{disabled:!a.props.diagnoses[e].isFinal||!a.props.editable,checkedCondition:a.props.primaryDiagnosisIndex===e,onChange:function(){a.props.setPrimaryDiagnosisIndex(e)}})):r},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Add Diagnosis"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{placeholder:"Diagnosis",value:this.props.state.diagnosis,disabled:!this.props.editable,choices:this.getFilteredICD10Codes(),onChange:function(t){e.props.state.diagnosis=t,e.props.refreshDiagnosisStateChange()}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Remarks",value:this.props.state.remarks,charLimit:100,disabled:!this.props.editable,onChange:function(t){e.props.state.remarks=t,e.props.refreshDiagnosisStateChange()}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(ce,{label:"Final Diagnosis?",value:this.props.state.isFinal,disabled:!this.props.editable,onChange:function(t){e.props.state.isFinal=t,e.props.refreshDiagnosisStateChange()}}))),n.createElement("div",{style:{paddingTop:"5px"}}),""!==this.props.state.diagnosis.value&&this.props.editable?n.createElement(O.a,{label:"Add diagnosis",icon:N.B,onClick:function(){var t=e.props.state,a={diagnosis:t.diagnosis,remarks:t.remarks,isFinal:t.isFinal,isPrimary:!1};e.props.diagnoses.unshift(a),e.props.state.diagnosis={value:"",label:""},e.props.state.remarks="",e.props.state.isFinal=!1,e.props.refreshDiagnosisStateChange(),e.props.setPrimaryDiagnosisIndex(e.props.primaryDiagnosisIndex+1)}}):null),n.createElement("div",{className:"sub-section"},n.createElement(ss,{editable:this.props.editable,className:"custom-table",placeholder:"DIAGNOSES",cols:["Diagnosis","Remarks","Type","Primary Diagnosis?"],rows:this.props.diagnoses,headerStyles:[{width:"250px"},{minWidth:"150px"},{width:"100px"},{width:"180px",textAlign:"center"}],onSaveEditRow:function(t,a){e.props.diagnoses[t]=a,e.props.diagnoses[t].isFinal||!0===e.props.diagnoses[t].isPrimary&&(e.props.diagnoses[t].isPrimary=!1,e.props.resetPrimaryDiagnosisIndex&&e.props.resetPrimaryDiagnosisIndex()),e.props.refreshDiagnosisStateChange()},onDeleteRow:function(t){e.props.physicians.filter(function(a){return a.diagnosis.label!==e.props.diagnoses[t].diagnosis.label}),e.props.diagnoses.splice(t,1),e.props.refreshDiagnosisStateChange(),e.props.setPrimaryDiagnosisIndex(e.props.primaryDiagnosisIndex!=t?e.props.primaryDiagnosisIndex-1:-1)},onFormat:function(t,a,n){return e.onFormatCRUDTable(t,a,n)},editField:function(t,a,r){return 0===t?n.createElement(Q,{choices:e.getFilteredICD10Codes(),value:a,onChange:function(e){return r(e)}}):1===t?n.createElement(z.a,{value:a,onChange:function(e){return r(e)}}):2===t?n.createElement(ce,{label:"Is Final?",value:a,onChange:function(e){return r(e)}}):n.createElement("div",null)}})),n.createElement("div",{className:"section"}))}}]),t}(n.Component);function us(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ds=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).onFormatCRUDTable=function(e,t){return 0===e?n.createElement("div",null,n.createElement("div",null,t.params[0]+" - "+t.label),n.createElement("div",{className:"light-text"},t.params[1]+" Physician")):1===e?n.createElement("div",null,t.value):3===e||4===e?n.createElement("div",{style:{textAlign:"right"}},4===e?S.a.formatNumber(t,!0)+" PHP":t):t},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Add Physician"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{placeholder:"Doctor",detail:this.props.state.physician.params?this.props.state.physician.params[0]:"",value:this.props.state.physician,disabled:!this.props.editable,choices:this.props.physiciansList,onChange:function(t){t.params&&e.props.state.physician.params&&(e.props.state.physician=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?us(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):us(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,{params:[t.params[0],e.props.state.physician.params[1]]}),e.props.refreshPhysiciansStateChange())}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{placeholder:"Diagnosis",value:this.props.state.diagnosis,disabled:!this.props.editable,choices:this.props.diagnosesList.map(function(e){return e.diagnosis}),onChange:function(t){e.props.state.diagnosis=t,e.props.refreshPhysiciansStateChange()}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Remarks",value:this.props.state.remarks,disabled:!this.props.editable,charLimit:100,onChange:function(t){e.props.state.remarks=t,e.props.refreshPhysiciansStateChange()}})),n.createElement(_.a,{item:!0,xs:1},n.createElement(se.a,{placeholder:"Visits",value:this.props.state.visits,disabled:!this.props.editable,onChange:function(t){e.props.state.visits=t,e.props.refreshPhysiciansStateChange()}})),n.createElement(_.a,{item:!0,xs:2},n.createElement($,{placeholder:"Amount",detail:"PHP",isFloat:!0,value:this.props.state.amount,disabled:!this.props.editable,onChange:function(t){e.props.state.amount=t,e.props.refreshPhysiciansStateChange()}})),this.props.state.physician.params?n.createElement(_.a,{item:!0,xs:3},n.createElement("div",null,n.createElement(_.a,{container:!0,style:{paddingTop:"1rem"}},n.createElement(_.a,{item:!0,xs:6},n.createElement(He.a,{className:"check-box",style:{height:"100%",width:0},disabled:!this.props.editable,checked:"Admitting"===this.props.state.physician.params[1],value:"Admitting",onChange:function(t){e.props.state.physician.params&&(e.props.state.physician.params[1]=t.target.value),e.props.refreshPhysiciansStateChange()}})," Admitting"),n.createElement(_.a,{item:!0,xs:6},n.createElement(He.a,{className:"check-box",style:{height:"100%",width:0},disabled:!this.props.editable,checked:"Attending"===this.props.state.physician.params[1],value:"Attending",onChange:function(t){e.props.state.physician.params&&(e.props.state.physician.params[1]=t.target.value),e.props.refreshPhysiciansStateChange()}})," Attending")))):null),n.createElement("div",{style:{paddingTop:"5px"}}),""!==this.props.state.physician.value&&""!==this.props.state.diagnosis.value&&this.props.editable?n.createElement(O.a,{label:"Add physician",icon:N.B,onClick:function(){var t=e.props.state,a={physician:{value:t.physician.value,label:t.physician.label,params:t.physician.params?t.physician.params:void 0},diagnosis:t.diagnosis,remarks:t.remarks,visits:t.visits,amount:t.amount};e.props.physicians.unshift(a),e.props.state.physician={value:"",label:"",params:["","Admitting"]},e.props.state.diagnosis={value:"",label:""},e.props.state.remarks="",e.props.state.visits=0,e.props.state.amount=0,e.props.refreshPhysiciansStateChange()}}):null),n.createElement("div",{className:"sub-section",style:{overflowX:"auto"}},n.createElement(ss,{editable:this.props.editable,className:"custom-table",placeholder:"PHYSICIANS",cols:["Specialization - Doctor Name","Diagnosis","Remarks","No. of Visits","Amount"],rows:this.props.physicians,headerStyles:[{minWidth:"250px"},{minWidth:"125px"},{minWidth:"200px"},{minWidth:"125px",textAlign:"right"},{minWidth:"150px",textAlign:"right"}],onSaveEditRow:function(t,a){e.props.physicians[t]=a,e.props.refreshPhysiciansStateChange()},onDeleteRow:function(t){e.props.physicians.splice(t,1),e.props.refreshPhysiciansStateChange()},onFormat:function(t,a,n){return e.onFormatCRUDTable(a,n)},editField:function(t,a,r){return 0===t?n.createElement(Q,{detail:a.params[0],choices:e.props.physiciansList,value:a,onChange:function(e){return r({value:e.value,label:e.label,params:[e.params?e.params[0]:"",a.params[1]]})}}):1===t?n.createElement("div",null,a.value):2===t?n.createElement(z.a,{value:a,onChange:function(e){return r(e)}}):3===t?n.createElement(se.a,{value:a,onChange:function(e){return r(e)}}):n.createElement($,{detail:"PHP",isFloat:!0,value:a,onChange:function(e){return r(e)}})}})),n.createElement("div",{className:"section"}))}}]),t}(n.Component),ps=Object(kt.a)(function(){return{benefitTable:{boxShadow:"0px 3px 6px #00000029"},searchField:{backgroundColor:"white",marginLeft:"4%",width:"92%"},searchInputAdornment:{color:"#00000061",marginRight:"8px"}}}),fs=function(e){var t=e.memberId,a=e.clientId,r=Object(n.useState)([]),i=Object(p.a)(r,2),l=i[0],s=i[1],o=Object(n.useState)(!0),c=Object(p.a)(o,2),m=c[0],u=c[1],d=Object(n.useState)([]),f=Object(p.a)(d,2),h=f[0],g=f[1],E=Object(n.useState)(),b=Object(p.a)(E,2),v=b[0],y=b[1],S=Object(n.useState)(),O=Object(p.a)(S,2),A=O[0],k=O[1],R=Object(n.useState)(!0),D=Object(p.a)(R,2),w=D[0],P=D[1],x=Object(n.useState)(0),M=Object(p.a)(x,2),U=M[0],B=M[1],H=Object(n.useState)("BASE"),V=Object(p.a)(H,2),G=V[0],q=V[1],K=ps(e),X=Object(n.useState)(""),J=Object(p.a)(X,2),Z=J[0],Q=J[1],$=Object(n.useState)({}),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(p.a)(ne,2),ie=re[0],le=re[1],se=Object(n.useState)("check"),oe=Object(p.a)(se,2),ce=oe[0],me=oe[1],ue=[{name:"parent_name",title:"Type"},{name:"name",title:"Item"}],de=function(e){var t=l;return""!==Z.trim()&&(console.log("largeSearch",Z,t),t=t.filter(function(e){return e.name.toString().toLowerCase().includes(Z.toLocaleLowerCase().trim())||e.parent_name.toString().toLowerCase().includes(Z.toLocaleLowerCase().trim())})),e.map(function(e){t=t.filter(function(t){return!h[e.name]||(""===h[e.name]||t[e.name]&&t[e.name].toString().toLowerCase().includes(h[e.name].toLowerCase()))})}),t=t.filter(function(e){return e.plan_type===G}),te.name&&(t="name"===te.name?1===te.direction?t.sort(function(e,t){return e.name&&t.name&&e.name>t.name?1:-1}):t.sort(function(e,t){return e.name&&t.name&&e.name>t.name?-1:1}):1===te.direction?t.sort(function(e,t){return e.parent_name&&t.parent_name&&e.parent_name>t.parent_name?1:-1}):t.sort(function(e,t){return e.parent_name&&t.parent_name&&e.name>t.parent_name?-1:1})),t};Object(n.useEffect)(function(){P(!0),be()},[]);var fe=function(){return n.createElement(L.a,{className:"ticket-list-table",canOverflow:!0,rows:de(ue),stickyHeader:!0,renderHeader:function(){return Ee(ue,ue)},renderRow:function(e,t){return _e(e,t,ue)},rowsPerPageOptions:[5,10,15]})},he=function(){U&&clearTimeout(U),B(setTimeout(function(){be()},2e3))},ge=function(e){console.log("rendertabs",e);var t=e.map(function(e){return console.log("item",e),n.createElement(ct.a,{style:{display:"inline-block",marginRight:"10px"}},n.createElement(C.a,{onClick:function(){q(e),be()}},n.createElement("span",null,e)))});return console.log("tabelem",t),t};m&&(y(fe()),u(!1));var Ee=function(e,t){var a=0;return n.createElement(n.Fragment,null,e.map(function(r,i){var l=t.filter(function(e){return e===r.name})[0],s=!0;l&&e[i+1]&&(s=!!t.filter(function(t){return t===e[i+1].name})[0]);var o={left:l?125*a:0,zIndex:l?125:0,width:"version"===r.name?"100px":"150px",paddingRight:"0px",paddingLeft:"10px",borderRight:s?void 0:"#9EA3AC 2px solid"};return l&&a++,n.createElement(j.a,{style:o},n.createElement("span",{className:"header-2"},r.title),n.createElement("div",{style:{float:"right"}},n.createElement(W.a,{icon:N.H,onClick:function(){!function(e){var t=0;t=te.name===e?1===te.direction?-1:-1===te.direction?1:-1:1,ae({name:e,direction:t}),be()}(r.name),u(!0)}})),n.createElement(z.a,{value:h[r.name],onChange:function(e){h[r.name]=e,g(h),he()}}))}))},be=function(){P(!0),t?T.a.get("customer-care/members/".concat(t),function(e){T.a.get("customer-care/members/".concat(e._id,"/contracts/").concat(e.latest_contract._id),function(e){var t=e.benefits.filter(function(e){return 5===e.level&&"EX"===e.tree_path[3]}),a=[];t.map(function(t){t.children.forEach(function(n){var r=e.benefits.filter(function(e){return e._id===n&&e.custom_metadata.is_excluded});console.log("load",t,r),r.length>0&&a.push({name:r[0].name,parent_name:t.name,code:r[0].code,parent_code:t.code,plan_type:t.tree_path[2]})})});var n=e.benefits.filter(function(e){return 3===e.level}),r=[];n.map(function(e){r.push(e.code)}),P(!1),k(ge(r)),s(a)},function(e){console.log(e),me(e),le(!0)})},function(e){console.log(e)}):a&&T.a.get("customer-care/clients/".concat(a),function(e){console.log("get client:",e),T.a.get("benefit-plans/tree/"+e.latest_contract._id,function(e){console.log("benefits",e),console.log("exclusions",e.filter(function(e){return"EX"===e.tree_path[3]}));var t=e.filter(function(e){return 5===e.level&&"EX"===e.tree_path[3]});console.log("parents",t);var a=[];t.map(function(t){t.children.forEach(function(n){var r=e.filter(function(e){return e._id===n&&e.custom_metadata.is_excluded});r.length>0&&a.push({name:r[0].name,parent_name:t.name,code:r[0].code,parent_code:t.code,plan_type:t.tree_path[2]})})});var n=e.filter(function(e){return 3===e.level}),r=[];n.map(function(e){r.push(e.code)}),console.log("tabs",r),P(!1),k(ge(r)),s(a),console.log("exclusions",a)},function(e){console.log(e),me(e),le(!0)})},function(e){console.log(e),me(e),le(!0)})};n.useEffect(function(){y(fe())},[l]);var ve={left:0,position:"relative",fontSize:"12px",minWidth:"10px",maxWidth:"300px",paddingRight:"0px",paddingLeft:"10px"},_e=function(e,t,a){var r=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r}},a.map(function(t){return n.createElement(j.a,{style:ve,onClick:function(){console.log("href")}},e[t.name])}))};return n.createElement(n.Fragment,null,w?n.createElement(I.a,{height:"10rem"}):n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section"},n.createElement(_.a,{item:!0,sm:12},n.createElement(_.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},n.createElement(_.a,{item:!0,sm:12},n.createElement("div",{style:{borderBottom:"1px solid #C3C3C3",marginLeft:"4%",width:"92%"}},A)))),n.createElement(_.a,{item:!0,sm:12},n.createElement(Mt.a,{id:"history_search",placeholder:"Search a benefit or benefit category",className:K.searchField,margin:"dense",variant:"outlined",fullWidth:!0,value:Z,onChange:function(e){Q(e.target.value.trim()),he()},inputProps:{"aria-label":"bare"},InputProps:{startAdornment:n.createElement(pe.a,{icon:N.G,className:K.searchInputAdornment})}})),n.createElement(_.a,{item:!0,sm:12},n.createElement("div",{style:{marginLeft:"4%",width:"92%"}},v))),n.createElement("div",{className:"section"}),n.createElement(Y,{isOpen:ie,header:n.createElement(ct.a,null,"Error"),content:n.createElement("div",{style:{width:"100%"}},n.createElement(ct.a,null,ce)),footer:n.createElement(Ie.a,{onClick:function(){le(!1)}},"Okay")})))},hs=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).onFormatCRUDTable=function(e,t){return 0===e?n.createElement("div",null,t.value+" - "+t.label):1===e?n.createElement("div",null,t.value):2===e?n.createElement("div",null,t.label):3===e?n.createElement("div",null,S.a.toShortDateString(t)):5===e?n.createElement("div",{style:{textAlign:"right"}},S.a.formatNumber(t,!0)+" PHP"):t},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Add Procedure"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{placeholder:"Procedure",value:this.props.state.procedure,disabled:!this.props.editable,choices:this.props.proceduresList,onChange:function(t){e.props.state.procedure=t,e.props.refreshProceduresStateChange()}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{placeholder:"Diagnosis",value:this.props.state.diagnosis,disabled:!this.props.editable,choices:this.props.diagnosesList.map(function(e){return e.diagnosis}),onChange:function(t){e.props.state.diagnosis=t,e.props.refreshProceduresStateChange()}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(Q,{placeholder:"Doctor",detail:this.props.state.physician.params?this.props.state.physician.params[0]:void 0,value:this.props.state.physician,disabled:!this.props.editable,choices:this.props.physiciansList,onChange:function(t){e.props.state.physician=t,e.props.refreshProceduresStateChange()}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Remarks",value:this.props.state.remarks,disabled:!this.props.editable,charLimit:100,onChange:function(t){e.props.state.remarks=t,e.props.refreshProceduresStateChange()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(ee.a,{placeholder:"Date",value:this.props.state.date,disabled:!this.props.editable,onChange:function(t){e.props.state.date=t,e.props.refreshProceduresStateChange()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement($,{placeholder:"Amount",detail:"PHP",isFloat:!0,disabled:!this.props.editable,value:this.props.state.amount,onChange:function(t){e.props.state.amount=t,e.props.refreshProceduresStateChange()}}))),n.createElement("div",{style:{paddingTop:"5px"}}),""!==this.props.state.physician.value&&""!==this.props.state.diagnosis.value&&""!==this.props.state.procedure.value&&this.props.editable?n.createElement(O.a,{label:"Add procedure",icon:N.B,onClick:function(){var t=e.props.state,a={procedure:t.procedure,diagnosis:t.diagnosis,physician:t.physician,date:t.date,remarks:t.remarks,amount:t.amount};e.props.procedures.unshift(a),e.props.state.procedure={value:"",label:""},e.props.state.diagnosis={value:"",label:""},e.props.state.physician={value:"",label:""},e.props.state.remarks="",e.props.state.date=new Date,e.props.state.amount=0,e.props.refreshProceduresStateChange()}}):null),n.createElement("div",{className:"sub-section",style:{overflowX:"auto"}},n.createElement(ss,{editable:this.props.editable,className:"custom-table",placeholder:"PROCEDURES",cols:["Procedure","Diagnosis","Doctor","Date","Remarks","Amount"],rows:this.props.procedures,headerStyles:[{minWidth:"200px"},{minWidth:"100px"},{minWidth:"150px"},{minWidth:"150px"},{minWidth:"200px"},{minWidth:"125px",textAlign:"right"}],onSaveEditRow:function(t,a){e.props.procedures[t]=a,e.props.refreshProceduresStateChange()},onDeleteRow:function(t){e.props.procedures.splice(t,1),e.props.refreshProceduresStateChange()},onFormat:function(t,a,n){return e.onFormatCRUDTable(a,n)},editField:function(t,a,r){return 0===t?n.createElement(Q,{choices:e.props.proceduresList,value:a,onChange:function(e){return r(e)}}):1===t?n.createElement("div",null,a.value):2===t?n.createElement(Z.a,{choices:e.props.physiciansList,value:a,onChange:function(e){return r(e)}}):3===t?n.createElement(ee.a,{value:a,onChange:function(e){return r(e)}}):4===t?n.createElement(z.a,{value:a,onChange:function(e){return r(e)}}):n.createElement($,{detail:"PHP",isFloat:!0,value:a,onChange:function(e){return r(e)}})}})),n.createElement("div",{className:"section"}))}}]),t}(n.Component),gs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).itemTypes=void 0,a.onFormatCRUDTable=function(e,t){return 1===e?t.label:2===e?n.createElement("div",{style:{textAlign:"right"}},S.a.formatNumber(t,!0)+" PHP"):t},a.itemTypes=[{value:"1",label:"Medicine"},{value:"2",label:"Non-coverable"},{value:"3",label:"Rooms"},{value:"4",label:"Miscellaneous"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.items),n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Add Other Details"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Item",value:this.props.state.name,disabled:!this.props.editable,onChange:function(t){e.props.state.name=t,e.props.refreshItemsStateChange()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(Z.a,{placeholder:"Type",value:this.props.state.type,choices:this.itemTypes,disabled:!this.props.editable,onChange:function(t){e.props.state.type=t,e.props.refreshItemsStateChange()}})),n.createElement(_.a,{item:!0,xs:3},n.createElement($,{placeholder:"Amount",detail:"PHP",isFloat:!0,value:this.props.state.amount,disabled:!this.props.editable,onChange:function(t){e.props.state.amount=t,e.props.refreshItemsStateChange()}}))),n.createElement("div",{style:{paddingTop:"5px"}}),0!=this.props.state.name.trim().length&&""!==this.props.state.type.value&&0!=this.props.state.amount&&this.props.editable?n.createElement(O.a,{label:"Add item",icon:N.B,onClick:function(){var t=e.props.state,a={name:t.name,type:{value:t.type.value,label:t.type.label},amount:t.amount};e.props.items.unshift(a),e.props.state.name="",e.props.state.type={value:"",label:""},e.props.state.amount=0,e.props.refreshItemsStateChange()}}):null),n.createElement("div",{className:"sub-section"},n.createElement(ss,{editable:this.props.editable,className:"custom-table",placeholder:"OTHER DETAILS",cols:["Item","Type","Amount"],rows:this.props.items,headerStyles:[{minWidth:"250px"},{width:"150px"},{width:"200px"}],onSaveEditRow:function(t,a){e.props.items[t]=a,e.props.refreshItemsStateChange()},onDeleteRow:function(t){e.props.items.splice(t,1),e.props.refreshItemsStateChange()},onFormat:function(t,a,n){return e.onFormatCRUDTable(a,n)},editField:function(t,a,r){return 0===t?n.createElement(z.a,{value:a,onChange:function(e){return r(e)}}):1===t?n.createElement(Z.a,{choices:e.itemTypes,value:a,onChange:function(e){return r(e)}}):n.createElement($,{detail:"PHP",isFloat:!0,value:a,onChange:function(e){return r(e)}})}})),n.createElement("div",{className:"section"}))}}]),t}(n.Component),Es=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).coverageList=void 0,a.coverageList=[{value:"1",label:"Filed"},{value:"2",label:"Corporate Guarantee"},{value:"3",label:"Not Compensable"},{value:"4",label:"Less than 24 hours"},{value:"5",label:"Paid"},{value:"6",label:"PH Rider"},{value:"7",label:"Non-PNDF"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Set PhilHealth"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(Z.a,{placeholder:"Coverage",choices:this.coverageList,disabled:!this.props.editable,value:this.props.coverage,onChange:function(t){e.props.onUpdateTicketStateChange("coverage",t)}})),"Corporate Guarantee"===this.props.coverage.label?n.createElement(_.a,{item:!0,xs:3},n.createElement(z.a,{disabled:!this.props.editable,placeholder:"Ticket Number",value:this.props.ticketNo,onChange:function(t){e.props.onUpdateTicketStateChange("ticketNo",t)}})):null,"Paid"===this.props.coverage.label?n.createElement(_.a,{item:!0,xs:3},n.createElement(z.a,{placeholder:"Paid by",value:this.props.paidBy,disabled:!this.props.editable,onChange:function(t){e.props.onUpdateTicketStateChange("paidBy",t)}})):null,"Filed"===this.props.coverage.label||"Corporate Guarantee"===this.props.coverage.label||"Paid"===this.props.coverage.label?n.createElement(_.a,{item:!0,xs:3},n.createElement($,{placeholder:"Amount",disabled:!this.props.editable,detail:"PHP",isFloat:!0,value:this.props.philhealthAmount,onChange:function(t){e.props.onUpdateTicketStateChange("philhealthAmount",t)}})):null)),n.createElement("div",{className:"header-1"},"Add Discharge Details"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:3},n.createElement($,{placeholder:"Final Hospital Bill Amount",disabled:!this.props.editable,detail:"PHP",isFloat:!0,value:this.props.finalBill,onChange:function(t){e.props.onUpdateTicketStateChange("finalBill",t)}})),n.createElement(_.a,{item:!0,xs:3},n.createElement(ee.a,{placeholder:"Discharge Date",value:this.props.dischargeDate||null,disabled:!this.props.editable,minDate:this.props.dateAdmitted,onChange:function(t){e.props.onUpdateTicketStateChange("dischargeDate",t)}})))),n.createElement("div",{className:"section"}))}}]),t}(n.Component),bs=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.files),n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Upload Documents"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:6},this.props.editable?n.createElement(fe,{accept:"image/*, .pdf, .doc, .docx, .csv, .odt, .ods, .xls, .xlsx, .txt",onDrop:function(t){void 0!==t[0]?(e.props.state.file=t[0],e.props.refreshFilesStateChange()):e.props.callSnackbar&&e.props.callSnackbar("Unsupported file type")}}):null,n.createElement("div",null,this.props.state.file?this.props.state.file.name:null),n.createElement("div",{className:"sub-section"}),n.createElement(z.a,{placeholder:"Document Name",value:this.props.state.docName,onChange:function(t){e.props.state.docName=t,e.props.refreshFilesStateChange()},disabled:!this.props.editable})),n.createElement(_.a,{item:!0,xs:6})),n.createElement("div",{style:{paddingTop:"5px"}}),this.props.editable?n.createElement(O.a,{label:"Add document",icon:N.B,onClick:function(){var t=e.props.state;if(null!==t.file){var a={docName:t.docName,file:t.file};e.props.files.unshift(a),e.props.state.docName="",e.props.state.file=null,e.props.refreshFilesStateChange()}}}):null),n.createElement("div",{className:"sub-section"},n.createElement(ss,{editable:this.props.editable,className:"custom-table",placeholder:"UPLOADED DOCUMENTS",cols:["Document Name","Filename"],rows:this.props.files,onSaveEditRow:function(t,a){e.props.files[t]=a,e.props.refreshFilesStateChange()},onDeleteRow:function(t){e.props.files.splice(t,1),e.props.refreshFilesStateChange()},onFormat:function(e,t,a){return 1===t?a.name:a},editField:function(e,t,a){return 0===e?n.createElement(z.a,{value:t,onChange:function(e){return a(e)}}):t.name}})),n.createElement("div",{className:"section"}))}}]),t}(n.Component),vs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).inquiries=void 0,a.state={inquiry:{value:"",label:""},itemToEditIndex:-1,inquiryToEdit:{value:"",label:""}},a.inquiries=[{value:"1",label:"Member Status / Card Inquiry"},{value:"2",label:"Member Network Access Inquiry"},{value:"3",label:"Member Benefit Inquiry - General [Outpatient]"},{value:"4",label:"Member Benefit Inquiry - General [Inpatient]"},{value:"5",label:"Member Benefit Inquiry - General [Emergency]"},{value:"6",label:"Member Benefit Inquiry - General [Dental]"},{value:"7",label:"Member Benefit Inquiry - General [APE / ECU]"},{value:"8",label:"Member Benefit Inquiry - General [Riders]"},{value:"9",label:"Member Coverage Inquiry - Specific Benefit"},{value:"10",label:"Member Availment Inquiry - CanAvail"},{value:"11",label:"Member Eligibility Inquiry"},{value:"12",label:"Reimbursement Status Inquiry"},{value:"13",label:"General Affiliated Network Inquiry - Facility"},{value:"14",label:"General Affiliated Network Inquiry - Doctor"},{value:"15",label:"General Affiliated Network Inquiry - Dentist"},{value:"16",label:"Procedural Inquiry - Outpatient"},{value:"17",label:"Procedural Inquiry - Inpatient"},{value:"18",label:"Procedural Inquiry - Emergency"},{value:"19",label:"Procedural Inquiry - Dental"},{value:"20",label:"Procedural Inquiry - APE / ECU"},{value:"21",label:"Procedural Inquiry - Member Enrolment / Cancellation / Update"},{value:"22",label:"Procedural Inquiry - Reimbursement"},{value:"23",label:"Procedural Inquiry - Others"}],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getFilteredInquiries",value:function(){for(var e=[],t=0;t<this.inquiries.length;t++){for(var a=!1,n=0;n<this.props.inquiries.length;n++)a=this.props.inquiries[n].inquiry.value===this.inquiries[t].value||a;a||(e=e.concat(this.inquiries[t]))}return e}},{key:"onAddInquiry",value:function(){""!==this.state.inquiry.value&&(this.props.inquiries.push({inquiry:this.state.inquiry,detail:"",specificDetail:[],answer:"",remarks:"",relatedTickets:[],supportDocs:[]}),this.props.refreshInquiryState(),this.setState({inquiry:{value:"",label:""}}))}},{key:"onRemoveInquiry",value:function(e){this.props.inquiries.splice(e,1),this.props.refreshInquiryState()}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section",style:{paddingTop:64}},this.props.permission.canUpdate?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-1"},"Update Inquiry"),n.createElement("div",{className:"text"},"Add an inquiry type and then add the question and its details after")):n.createElement(n.Fragment,null,n.createElement("div",{className:"header-1"},"Details"),n.createElement("div",{className:"text"})),n.createElement("div",{className:"sub-section"},n.createElement(L.a,{className:this.props.permission.canUpdate?void 0:"custom-table",rows:this.props.inquiries,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.props.permission.canUpdate?e.renderEditabletableRow(t,a):e.renderViewTableRow(t,a)}})))}},{key:"renderTableHeader",value:function(){var e=this;return this.props.permission.canUpdate?n.createElement(n.Fragment,null,n.createElement(j.a,null,n.createElement(Z.a,{choices:this.getFilteredInquiries(),value:this.state.inquiry,onChange:function(t){e.setState({inquiry:t})}})),n.createElement(j.a,{style:{width:"200px",textAlign:"center"}},n.createElement(O.a,{icon:N.B,label:"Add inquiry",onClick:function(){e.onAddInquiry()}}))):n.createElement(j.a,null,"Inquiries")}},{key:"renderEditabletableRow",value:function(e,t){var a=this,r=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:r}},n.createElement(j.a,{colSpan:2},n.createElement(_.a,{container:!0,spacing:1},this.state.itemToEditIndex===t?n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:10},n.createElement(Z.a,{choices:this.getFilteredInquiries(),value:this.state.inquiryToEdit,onChange:function(e){a.setState({inquiryToEdit:e})}})),n.createElement(_.a,{item:!0,xs:2,style:{textAlign:"right"}},n.createElement(W.a,{icon:N.i,onClick:function(){a.props.inquiries[t].inquiry=a.state.inquiryToEdit,a.props.refreshInquiryState(),a.setState({itemToEditIndex:-1})}}),n.createElement(W.a,{icon:N.O,onClick:function(){a.setState({itemToEditIndex:-1})}}))):n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:11,className:"header-2"},e.inquiry.label),n.createElement(_.a,{item:!0,xs:1,style:{textAlign:"right"}},n.createElement(W.a,{icon:N.y,onClick:function(){a.setState({itemToEditIndex:t,inquiryToEdit:{value:e.inquiry.value,label:e.inquiry.label}})}}),n.createElement(W.a,{icon:N.v,onClick:function(){a.onRemoveInquiry(t)}})))),n.createElement("div",{style:{position:"relative"}},n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement("div",{className:"line-border"}),n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(z.a,{placeholder:"Details of inquiry (Question)*",error:this.props.isResolveTicketAttempt&&0===e.detail.length,value:e.detail,onChange:function(t){e.detail=t,a.props.refreshInquiryState()}})),n.createElement(_.a,{item:!0,xs:6},n.createElement(Ne,{placeholder:"Specific Details (Optional, press enter to add)",value:e.specificDetail,onAdd:function(t){e.specificDetail.push(t),a.props.refreshInquiryState()},onDelete:function(t){e.specificDetail.splice(t,1),a.props.refreshInquiryState()}}))),n.createElement(z.a,{placeholder:"Answer*",error:this.props.isResolveTicketAttempt&&"Resolve and Close"===this.props.buttonClicked&&""===e.answer,value:e.answer,onChange:function(t){e.answer=t,a.props.refreshInquiryState()}}),n.createElement(z.a,{placeholder:"Remarks (Optional)",value:e.remarks,onChange:function(t){e.remarks=t,a.props.refreshInquiryState()}}),n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement(Ne,{placeholder:"Related Tickets (Optional, press enter to add)",value:e.relatedTickets,onAdd:function(t){e.relatedTickets.push(t),a.props.refreshInquiryState()},onDelete:function(t){e.relatedTickets.splice(t,1),a.props.refreshInquiryState()}})),n.createElement(_.a,{item:!0,xs:4},n.createElement(fe,{accept:"image/*, .pdf, .doc, .docx, .csv, .odt, .ods, .xls, .xlsx, .txt",onDrop:function(t){e.supportDocs.push(t[0]),a.props.refreshInquiryState()}})),n.createElement(_.a,{item:!0,xs:2},e.supportDocs.map(function(t,r){var i=t.url?t.url.replace("public/",T.a.getUrl()):void 0;return t?n.createElement(be,{label:t.name,value:r.toString(),downloadLink:i,onDelete:function(t){e.supportDocs.splice(parseInt(t),1),a.props.refreshInquiryState()}}):(a.props.callSnackbar&&(e.supportDocs.splice(r,1),a.props.callSnackbar("Unsupported file type")),null)}))))))}},{key:"renderViewTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA",r=e.detail.length>0?e.detail:"---",i=e.specificDetail.length>0?e.specificDetail.join(", "):"---",l=e.answer.length>0?e.answer:"---",s=e.remarks.length>0?e.remarks:"---",o=e.relatedTickets.length>0?e.relatedTickets.join(", "):"---";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,{colSpan:2},n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:12,className:"header-2"},e.inquiry.label)),n.createElement("div",{style:{position:"relative"}},n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement("div",{className:"line-border"}),n.createElement("div",{style:{paddingTop:"0.5rem"}}),n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"light-text"},"Details of inquiry (Question)"),n.createElement("div",{className:"small-text"},r)),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"light-text"},"Specific Details"),n.createElement("div",{className:"small-text"},i)),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",null,n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:12},n.createElement("div",{className:"light-text"},"Answer"),n.createElement("div",{className:"small-text"},l)),n.createElement(_.a,{item:!0,xs:12},n.createElement("div",{className:"light-text"},"Remarks (Optional)"),n.createElement("div",{className:"small-text"},s)),n.createElement(_.a,{item:!0}),n.createElement(_.a,{item:!0,xs:12},n.createElement("div",{className:"light-text"},"Related Tickets"),n.createElement("div",{className:"small-text"},o))))),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"light-text"},"Supporting Documents"),e.supportDocs.map(function(e){var t=e.url?e.url.replace("public/",T.a.getUrl()):"";return n.createElement("div",{className:"small-text"},n.createElement(O.a,{label:e.name,downloadLink:t}))}))))))}}]),t}(n.Component),_s=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).interval=void 0,a.onAddComment=function(){if(a.props.comments&&a.props.caseData){a.props.comments.unshift({sender:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),senderId:a.props.login.userId,message:a.state.comment,date:new Date}),a.props.refreshComments(),a.setState({isSending:!0});var e=V.a.getPatchCommentPayload(a.props.comments,a.props.login.userId,a.props.caseData.task);T.a.patch("customer-care/tickets/".concat(a.props.ticketId),e,function(e){console.log("Patch Response: ",e),e.status<400?a.setState({comment:"",snackbarMessage:"You added new comment."}):(a.setState({comment:"",snackbarMessage:"Failed to add comment."}),a.props.comments&&(a.props.comments.shift(),a.props.refreshComments())),a.setState({isSending:!1})},function(e){console.log(e),a.setState({comment:"",isSending:!1,snackbarMessage:"Failed to add comment."}),a.props.comments&&(a.props.comments.shift(),a.props.refreshComments())})}},a.state={comment:"",timeNow:0,snackbarMessage:null,isSending:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.setState({timeNow:Date.now()})},5e3)}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section",style:{width:"100%"}},n.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!this.state.snackbarMessage,autoHideDuration:6e3,onClose:function(){e.setState({snackbarMessage:null})},message:this.state.snackbarMessage}),this.props.comments?n.createElement(n.Fragment,null,n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Comments (".concat(this.props.comments.length,")")),n.createElement("div",{className:"sub-section"},n.createElement(L.a,{className:this.props.canComment?void 0:"custom-table",rows:this.props.comments,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}}))):n.createElement(I.a,{height:"10rem"}),n.createElement("div",{className:"section"}))}},{key:"renderTableHeader",value:function(){var e=this;return this.props.canComment?n.createElement(n.Fragment,null,n.createElement(j.a,null,n.createElement(z.a,{value:this.state.comment,innerPlaceholder:"Type in a comment",onChange:function(t){e.setState({comment:t})},onKeyDown:function(t){"Enter"!==t||e.state.isSending||""===e.state.comment||e.onAddComment()}})),this.state.comment&&!this.state.isSending?n.createElement(j.a,{style:{width:"150px",textAlign:"center"}},n.createElement(O.a,{icon:N.B,label:"Add comment",onClick:function(){e.onAddComment()}})):this.state.isSending?n.createElement(j.a,{style:{width:"150px",textAlign:"center"}},n.createElement(I.a,{height:"none",size:16})):null):n.createElement(j.a,null,"Comments")}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA",r=S.a.getTimeDeffirence(new Date(e.date),new Date);return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,{colSpan:2},n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:7,className:"header-2"},e.sender),n.createElement(_.a,{item:!0,xs:5,className:"light-text",style:{textAlign:"right"}},(r.length>0?r+" ago ":" ")+"(".concat(S.a.toDateAndTime(e.date,{dateTimeDivider:" at ",showDayFromWeek:!0}),")")),n.createElement(_.a,{item:!0,xs:12,className:"text"},e.message))))}}]),t}(n.Component),ys=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).isValid=function(){return"Me"===a.state.assignee.label||""!==a.state.notes||(a.setState({isError:!0}),!1)},a.onReassign=function(){if(a.isValid()&&a.state.assignee.params){var e=a.state.assignee,t=a.props.ticket,n=a.props.currentCase,r=a.props.login,i=a.state.assignee.params[1].amount_limit;if(a.props.totalAmount<=i){a.props.onBeforeMainAction();var l={button_pressed:"ASSIGN",next_user:e.value,assign_to_group:!!(e.params&&e.params.length>0)&&e.params[0],within_limit:!0},s={assign_to:e.label,assigned_by:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),assign_remarks:a.state.notes,ticket_history_info:{assignee_id:r.userId,assignee_name:"".concat(r.firstName," ").concat(r.lastName),pmaker_task:n.task,action:"Reassigned Ticket"}};te.NEW_ASSIGNEE=s.assign_to,Ae.a.put("cases/".concat(a.props.caseId,"/variable"),l,function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){"Inquiry - Comment"===n.task||"Outpatient - Comment"===n.task||"Complaint - Resolve Ticket"===n.task?a.props.onSuccess(!0,function(e){T.a.patch("customer-care/tickets/".concat(t.id),s,e)}):Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.onSuccess(!0,function(e){T.a.patch("customer-care/tickets/".concat(t.id),s,e)})})})})}else a.props.onSuccess(!1)}},a.state={assignees:[],assignee:{value:"",label:""},notes:"",isError:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];"Request Requiring Approval"!==this.props.ticket.ticketType&&"Inpatient"!==this.props.ticket.specificType&&t.push("Customer Service"),("Availment"!==this.props.ticket.ticketType&&"Request Requiring Approval"!==this.props.ticket.ticketType||"Availment"===this.props.ticket.ticketType&&"Inpatient"===this.props.ticket.specificType||"Availment"===this.props.ticket.ticketType&&"Outpatient Procedure"===this.props.ticket.specificType)&&t.push("Patient Relations"),"Availment"!==this.props.ticket.ticketType&&t.push("AMD");var a=encodeURIComponent(t.join());T.a.get("user-groups/customer-care?department=".concat(a),function(t){var a=t.groups.map(function(e){return{value:e.pmaker_uid,label:e.name,params:[!0,e]}}),n=t.users.map(function(e){return{value:e.pmaker_uid,label:"".concat(e.first_name," ").concat(e.last_name),params:[!1,e]}}),r=a.concat(n);S.a.setMeInAssignees(r,e.props.login.pmakerUid),e.setState({assignees:r.filter(function(e){return"Me"!==e.label})})})}},{key:"render",value:function(){var e=this;return n.createElement(Y,{className:"modal",isOpen:this.props.isOpen,handleClose:function(){return e.props.onClose()},header:"Re-assign Ticket",content:n.createElement(n.Fragment,null,n.createElement("div",{style:{padding:"0.5rem 0"}},"Re-assigning this ticket to another user will allow him/her to manage this ticket instead."),n.createElement("div",{style:{padding:"0.5rem 0"}},n.createElement(Z.a,{handleBlur:!0,placeholder:"Enter New Assignee",choices:this.state.assignees,value:this.state.assignee,showAllResult:!0,onChange:function(t){e.setState({assignee:t})}})),n.createElement("div",{style:{padding:"0.5rem 0"}},n.createElement(ge,{placeholder:"Notes",defaultRows:4,error:this.state.isError&&""===this.state.notes,value:this.state.notes,onChange:function(t){e.setState({notes:t})}}))),footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.props.onClose()}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(ke,{text:"Re-assign",variant:"contained",onClick:function(){e.onReassign()}}))})}}]),t}(n.Component),Cs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).isValid=function(){return""!==a.state.notes||(a.setState({isError:!0}),!1)},a.onEscalate=function(){if(a.isValid()){var e=a.props.ticket,t=a.props.login,n=t.group?t.group.department:"",r=function(n,r){a.props.onBeforeMainAction();var i=t.ccData?t.ccData.supervising_department_pmaker_id:"",l=t.ccData?t.ccData.supervising_department:"",s={button_pressed:r?"ASSIGN":"ESCALATE",assign_to_group:!!r||void 0,next_user:n&&n.group_pmaker_ids&&n.group_pmaker_ids.length>0?n.group_pmaker_ids:i},o={assign_to:n&&n.group_names&&n.group_names.length>0?n.group_names.join(", "):l,assigned_by:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),assign_remarks:a.state.notes,ticket_history_info:a.props.caseData?{assignee_id:t.userId,assignee_name:"".concat(t.firstName," ").concat(t.lastName),pmaker_task:a.props.caseData.task,action:"Escalated Ticket"}:void 0};te.NEW_ASSIGNEE=o.assign_to,Ae.a.put("cases/".concat(a.props.caseId,"/variable"),s,function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.onSuccess(function(t){a.onPatch("customer-care/tickets/".concat(e.id),o,t)})})})};if(a.props.caseData)if("Complaint - Close Ticket"===a.props.caseData.task||"Complaint - Claim Close Task"===a.props.caseData.task||"Complaint - Escalate Ticket 3"===a.props.caseData.task||"Complaint - Resolve Ticket"===a.props.caseData.task||"Complaint - Escalate Ticket 2"===a.props.caseData.task){var i="Complaint - Resolve Ticket"===a.props.caseData.task||"Complaint - Escalate Ticket 2"===a.props.caseData.task?"Ticket Approver":"Ticket Reviewer";"Ticket Reviewer"===i?T.a.get("group/pmaker_uids?"+"department=".concat(n,"&")+"role=".concat(i,"&")+"with_names=true",function(e){r(e)}):T.a.get("group/pmaker_uids?"+"department=".concat(n,"&")+"requesting_group=".concat(Object(Ma.get)(t,"group.name",""),"&")+"role=".concat(i,"&")+"with_names=true",function(e){r(e)})}else"Complaint - Comment 2"===a.props.caseData.task||"Complaint - Comment 3"===a.props.caseData.task?r([],!0):r();else r()}},a.onForComment=function(){if(a.isValid()&&a.props.caseData){a.props.onBeforeMainAction();var e=a.props.ticket,t=a.props.login,n={button_pressed:"ASSIGN",next_user:t.ccData?t.ccData.supervising_department_pmaker_id:"",assign_to_group:!0},r={assign_to:t.ccData?t.ccData.supervising_department:"",assigned_by:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),assign_remarks:a.state.notes,ticket_history_info:{assignee_id:t.userId,assignee_name:"".concat(t.firstName," ").concat(t.lastName),pmaker_task:a.props.caseData.task,action:"Escalated Ticket for Comment"}};te.NEW_ASSIGNEE=r.assign_to,Ae.a.put("cases/".concat(a.props.caseId,"/variable"),n,function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.caseData&&"Approval - View Ticket Details 2"===a.props.caseData.task?Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.onSuccess(function(t){a.onPatch("customer-care/tickets/".concat(e.id),r,t)})}):a.props.onSuccess(function(t){a.onPatch("customer-care/tickets/".concat(e.id),r,t)})})})}},a.onForApproval=function(){if(a.isValid()&&a.props.caseData){a.props.onBeforeMainAction();var e=a.props.ticket,t=a.props.login,n={button_pressed:"ESCALATE",next_user:t.ccData?t.ccData.supervising_department_pmaker_id:""},r={assign_to:t.ccData?t.ccData.supervising_department:"",assigned_by:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),assign_remarks:a.state.notes,ticket_history_info:{assignee_id:t.userId,assignee_name:"".concat(t.firstName," ").concat(t.lastName),pmaker_task:a.props.caseData.task,action:"Escalated Ticket for Approval"}};te.NEW_ASSIGNEE=r.assign_to,Ae.a.put("cases/".concat(a.props.caseId,"/variable"),n,function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.onSuccess(function(t){a.onPatch("customer-care/tickets/".concat(e.id),r,t)})})})}},a.onForAssessment=function(){if(a.isValid()&&a.props.caseData){a.props.onBeforeMainAction();var e=a.props.ticket,t=a.props.login,n={button_pressed:"PROCEED WITH FINAL ASSESSMENT",next_user:t.ccData?t.ccData.supervising_department_pmaker_id:""},r={assign_to:t.ccData?t.ccData.supervising_department:"",assigned_by:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),assign_remarks:a.state.notes,ticket_history_info:{assignee_id:t.userId,assignee_name:"".concat(t.firstName," ").concat(t.lastName),pmaker_task:a.props.caseData.task,action:"Escalated Ticket for Approval"}};te.NEW_ASSIGNEE=r.assign_to,Ae.a.put("cases/".concat(a.props.caseId,"/variable"),n,function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.onSuccess(function(t){a.onPatch("customer-care/tickets/".concat(e.id),r,t)})})})}},a.onPatch=function(e,t,a){T.a.patch(e,t,function(){a()})},a.state={notes:"",isError:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement(Y,{className:"modal",isOpen:this.props.isEscalateModalOpen||this.props.isForApprovalModalOpen||this.props.isForCommentModalOpen||this.props.isForAssessmentModalOpen,handleClose:function(){return e.props.onClose()},header:this.props.isEscalateModalOpen?"Escalate Ticket":this.props.isForApprovalModalOpen?"For Approval":this.props.isForCommentModalOpen?"For Comment":this.props.isForAssessmentModalOpen?"Proceed with Final Assessment":"",content:n.createElement(n.Fragment,null,n.createElement("div",{style:{padding:"0.5rem 0"}},"This ticket will be automatically assigned to your supervisor for ticket updates."),n.createElement("div",{style:{padding:"0.5rem 0"}},n.createElement(ge,{placeholder:"Notes",defaultRows:4,value:this.state.notes,error:this.state.isError&&""===this.state.notes,onChange:function(t){e.setState({notes:t})}}))),footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.props.onClose()}}),n.createElement("span",{style:{padding:"1rem"}}),this.props.isEscalateModalOpen?n.createElement(ke,{text:"Escalate",onClick:function(){e.onEscalate()}}):this.props.isForCommentModalOpen?n.createElement(ke,{text:"Escalate For Comment",onClick:function(){e.onForComment()}}):this.props.isForApprovalModalOpen?n.createElement(ke,{text:"Escalate For Approval",onClick:function(){"Update Ticket"===e.props.currentPage?e.onForAssessment():e.onForApproval()}}):this.props.isForAssessmentModalOpen?n.createElement(ke,{className:"button-special",text:"Proceed with Final Assessment",onClick:function(){e.onForAssessment()}}):null)})}}]),t}(n.Component),Ns=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).onTransferOwnership=function(){a.props.onBeforeMainAction();var e=a.state.assignee,t=a.props.ticket;if(e.params){var n={button_pressed:"TRANSFER",next_user:e.value,assign_to_group:e.params[0]},r={assign_to:e.label,assigned_by:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),ticket_owner_name:e.label,ticket_owner_department:e.params[1].department};Ae.a.put("cases/".concat(a.props.caseId,"/variable"),n,function(){Ae.a.put("cases/".concat(a.props.caseId,"/execute-trigger/7061593985e476d59d59896067924079"),{},function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.onSuccess(function(e){T.a.patch("customer-care/tickets/".concat(t.id),r,e)})})})})}},a.state={assignees:[],assignee:{value:"",label:""}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];"Request Requiring Approval"!==this.props.ticket.ticketType&&"Inpatient"!==this.props.ticket.specificType&&t.push("Customer Service"),"Inquiry"!==this.props.ticket.ticketType&&"Inpatient"!==this.props.ticket.specificType||t.push("Patient Relations"),"Availment"!==this.props.ticket.ticketType&&t.push("AMD");var a=encodeURIComponent(t.join());T.a.get("user-groups/customer-care?department=".concat(a),function(t){var a=t.groups.map(function(e){return{value:e.pmaker_uid,label:e.name,params:[!0,e]}}),n=t.users.map(function(e){return{value:e.pmaker_uid,label:"".concat(e.first_name," ").concat(e.last_name),params:[!1,e]}}),r=a.concat(n);S.a.setMeInAssignees(r,e.props.login.pmakerUid),e.setState({assignees:r})})}},{key:"render",value:function(){var e=this;return n.createElement(Y,{className:"modal",isOpen:this.props.isOpen,handleClose:function(){return e.props.onClose()},header:"Transfer Ownership",content:n.createElement(n.Fragment,null,n.createElement("div",{style:{padding:"0.5rem 0"}},"Please assign a PRO or a group of PROs to handle ownership of Inpatient Tickets."),n.createElement("div",{style:{padding:"0.5rem 0"}},n.createElement(Z.a,{handleBlur:!0,placeholder:"Enter New Assignee",choices:this.state.assignees,value:this.state.assignee,showAllResult:!0,onChange:function(t){e.setState({assignee:t})}})),n.createElement("div",{className:"section"})),footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.props.onClose()}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(ke,{text:"Transfer Ownership",variant:"contained",onClick:function(){e.onTransferOwnership()}}))})}}]),t}(n.Component),Ss=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement(Y,{className:"modal",isOpen:this.props.assigneeNotes.isModalOpen,handleClose:this.props.onClose,header:"Assignee Notes",content:n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"PREVIOUS ASSIGNEE"),n.createElement("div",{className:"text"},this.props.assigneeNotes.previousAssignee)),this.props.assigneeNotes.notes&&""!==this.props.assigneeNotes.notes?n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"NOTES"),n.createElement("div",{className:"text"},this.props.assigneeNotes.notes?this.props.assigneeNotes.notes:"None")):null)})}}]),t}(n.Component),Os=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).interval=void 0,a.onAddUpdate=function(){if(a.props.updates){a.props.updates.unshift({sender:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),senderId:a.props.login.userId,message:a.state.update,date:new Date}),a.props.refreshUpdateState(),a.setState({isSending:!0});var e=V.a.getPatchUpdatePayload(a.props.updates);T.a.patch("customer-care/tickets/".concat(a.props.ticketId),e,function(e){console.log("Patch Response: ",e),e.status<400?a.setState({update:"",snackbarMessage:"You added new update."}):(a.setState({update:"",snackbarMessage:"Failed to add update."}),a.props.updates&&(a.props.updates.shift(),a.props.refreshUpdateState())),a.setState({isSending:!1})},function(e){console.log(e),a.setState({update:"",isSending:!1,snackbarMessage:"Failed to add update."}),a.props.updates&&(a.props.updates.shift(),a.props.refreshUpdateState())})}},a.state={update:"",timeNow:0,snackbarMessage:null,isSending:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.setState({timeNow:Date.now()})},5e3)}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"section"},n.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!this.state.snackbarMessage,autoHideDuration:6e3,message:this.state.snackbarMessage,onClose:function(){e.setState({snackbarMessage:null})}}),n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Request/Endorsement Details"),n.createElement(_.a,{className:"sub-section",container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"light-text"},"REQUEST TYPE"),n.createElement("div",{className:"small-text"},this.props.endorsement.requestType.label)),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"light-text"},"NOTES"),n.createElement("div",{className:"small-text"},this.props.endorsement.notes)),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"light-text"},"BACKGROUND/DETAILS"),n.createElement("div",{className:"small-text"},this.props.endorsement.background)),n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"light-text"},"FILES"),this.props.permission.canUploadFile?n.createElement(fe,{accept:"image/*, .pdf, .doc, .docx, .csv, .odt, .ods, .xls, .xlsx, .txt",placeholder:"Request Files",size:"small",onDrop:function(t){e.props.endorsement.requestFiles.push(t[0]),e.props.refreshEndorsementState()}}):null,this.props.endorsement.requestFiles.map(function(t,a){var r=t.url?t.url.replace("public/",T.a.getUrl()):void 0;return t?e.props.permission.canUpdate?n.createElement(be,{label:t.name,value:a.toString(),downloadLink:r,onDelete:function(t){e.props.endorsement.requestFiles.splice(parseInt(t),1),e.props.refreshEndorsementState()}}):n.createElement("div",{className:"small-text"},n.createElement(O.a,{label:t.name,downloadLink:r})):(e.props.callSnackbar&&(e.props.endorsement.requestFiles.splice(a,1),e.props.callSnackbar("Unsupported file type")),null)}))),n.createElement("div",{className:"sub-section"},n.createElement(L.a,{className:this.props.permission.canUpdate?void 0:"custom-table",rows:this.props.updates,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}})))}},{key:"renderTableHeader",value:function(){var e=this;return this.props.permission.canUpdate?n.createElement(n.Fragment,null,n.createElement(j.a,null,n.createElement(z.a,{value:this.state.update,innerPlaceholder:"Type in an update",onChange:function(t){e.setState({update:t})},onKeyDown:function(t){"Enter"!==t||e.state.isSending||""===e.state.update||e.onAddUpdate()}})),this.state.update&&!this.state.isSending?n.createElement(j.a,{style:{width:"150px",textAlign:"center"}},n.createElement(O.a,{icon:N.B,label:"Add Update",onClick:function(){e.onAddUpdate()}})):this.state.isSending?n.createElement(j.a,{style:{width:"150px",textAlign:"center"}},n.createElement(I.a,{height:"none",size:16})):null):n.createElement(j.a,null,"Updates")}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA",r=S.a.getTimeDeffirence(e.date,new Date);return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,{colSpan:2},n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:7,className:"header-2"},e.sender),n.createElement(_.a,{item:!0,xs:5,className:"light-text",style:{textAlign:"right"}},(r.length>0?r+" ago ":" ")+"(".concat(S.a.toDateAndTime(e.date,{dateTimeDivider:" at ",showDayFromWeek:!0}),")")),n.createElement(_.a,{item:!0,xs:12,className:"text"},e.message))))}}]),t}(n.Component),As=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).interval=void 0,a.onAddUpdate=function(){if(a.props.updates){a.props.updates.unshift({sender:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),senderId:a.props.login.userId,message:a.state.update,date:new Date}),a.props.refreshUpdateState(),a.setState({isSending:!0});var e=V.a.getPatchUpdatePayload(a.props.updates);T.a.patch("customer-care/tickets/".concat(a.props.ticketId),e,function(e){e.status<400?a.setState({update:"",snackbarMessage:"You added new update."}):(a.setState({update:"",snackbarMessage:"Failed to add update."}),a.props.updates&&(a.props.updates.shift(),a.props.refreshUpdateState())),a.setState({isSending:!1})},function(){a.setState({update:"",isSending:!1,snackbarMessage:"Failed to add update."}),a.props.updates&&(a.props.updates.shift(),a.props.refreshUpdateState())})}},a.state={update:"",timeNow:0,snackbarMessage:null,isSending:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.setState({timeNow:Date.now()})},5e3)}},{key:"render",value:function(){var e=this,t=this.props.requestApproval;return n.createElement("div",{className:"section"},n.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!this.state.snackbarMessage,autoHideDuration:6e3,message:this.state.snackbarMessage,onClose:function(){e.setState({snackbarMessage:null})}}),n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1",style:{display:"inline-block"}},"Resolve Request Requiring Approval"),this.props.onBack?n.createElement("div",{style:{float:"right"}},n.createElement(ke,{className:"button",text:"Edit Summary",onClick:this.props.onBack})):null,n.createElement(_.a,{className:"sub-section",container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:6},this.renderInfoItem("SUMMARY OF REQUEST (TITLE)",t.title),this.renderInfoItem("REQUEST TYPE",t.type.label),this.renderInfoItem("RECOMMENDATION",t.recommendation)),n.createElement(_.a,{item:!0,xs:6},this.renderInfoItem("BACKGROUND DETAILS",t.background?t.background:"N/A"),this.renderInfoItem("NOTES",t.notes?t.notes:"N/A"),this.renderInfoItem("FILES",n.createElement(n.Fragment,null,this.props.ticket.additionalFiles.length>0?this.props.ticket.additionalFiles.map(function(e){var t=e.url?e.url.replace("public/",T.a.getUrl()):"";return n.createElement("div",{className:"small-text"},n.createElement(O.a,{label:e.name,downloadLink:t}))}):"N/A")),this.renderInfoItem("REASON FOR RECOMMENDATION",t.basisRecommendation))),this.props.permission.canSummarize?n.createElement(_.a,{className:"sub-section",container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"header-2"},"ASSESSMENT"),n.createElement("div",{className:"text"},"Choose Recommendation"),n.createElement(Ve,{label:"Approve",checkedCondition:"Approved"===t.assessmentType,onChange:function(){t.assessmentType="Approved",e.props.refreshRequestApprovalState()}}),n.createElement(Ve,{label:"Disapprove",checkedCondition:"Disapproved"===t.assessmentType,onChange:function(){t.assessmentType="Disapproved",e.props.refreshRequestApprovalState()}}),n.createElement(Ve,{label:"Cancel",checkedCondition:"Canceled"===t.assessmentType,onChange:function(){t.assessmentType="Canceled",e.props.refreshRequestApprovalState()}}),n.createElement(z.a,{placeholder:"Reason".concat("Canceled"===t.assessmentType?"*":""),value:t.assessmentRemarks,error:this.props.isShowRequiredField&&"Canceled"===t.assessmentType&&""===t.assessmentRemarks,onChange:function(a){t.assessmentRemarks=a,e.props.refreshRequestApprovalState()}}))):n.createElement(_.a,{className:"sub-section",container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"header-2"},"ASSESSMENT"),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"small-text"},""!==t.assessmentType?t.assessmentType:"N/A")),""!==t.assessmentType?n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"REASON"),n.createElement("div",{className:"small-text"},""!==t.assessmentRemarks?t.assessmentRemarks:"N/A")):null)),n.createElement("div",{className:"sub-section"},n.createElement(L.a,{className:this.props.permission.canUpdate?void 0:"custom-table",rows:this.props.updates,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}})))}},{key:"renderTableHeader",value:function(){var e=this;return this.props.permission.canUpdate?n.createElement(n.Fragment,null,n.createElement(j.a,null,n.createElement(z.a,{value:this.state.update,innerPlaceholder:"Type in an update",onChange:function(t){e.setState({update:t})},onKeyDown:function(t){"Enter"!==t||e.state.isSending||""===e.state.update||e.onAddUpdate()}})),this.state.update&&!this.state.isSending?n.createElement(j.a,{style:{width:"150px",textAlign:"center"}},n.createElement(O.a,{icon:N.B,label:"Add Update",onClick:function(){e.onAddUpdate()}})):this.state.isSending?n.createElement(j.a,{style:{width:"150px",textAlign:"center"}},n.createElement(I.a,{height:"none",size:16})):null):n.createElement(j.a,null,"Updates")}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA",r=S.a.getTimeDeffirence(e.date,new Date);return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,{colSpan:2},n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:7,className:"header-2"},e.sender),n.createElement(_.a,{item:!0,xs:5,className:"light-text",style:{textAlign:"right"}},(r.length>0?r+" ago ":" ")+"(".concat(S.a.toDateAndTime(e.date,{dateTimeDivider:" at ",showDayFromWeek:!0}),")")),n.createElement(_.a,{item:!0,xs:12,className:"text"},e.message))))}},{key:"renderInfoItem",value:function(e,t){return n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},e),n.createElement("div",{className:"small-text"},t))}}]),t}(n.Component),Ts=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).interval=void 0,a.onAddUpdate=function(){if(a.props.updates){a.props.updates.unshift({sender:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName),senderId:a.props.login.userId,message:a.state.update,date:new Date}),a.props.refreshUpdateState(),a.setState({isSending:!1});var e=V.a.getPatchUpdatePayload(a.props.updates);T.a.patch("customer-care/tickets/".concat(a.props.ticketId),e,function(e){console.log("Patch Response: ",e),e.status<400?a.setState({update:"",snackbarMessage:"You added new update."}):(a.setState({update:"",snackbarMessage:"Failed to add update."}),a.props.updates&&(a.props.updates.shift(),a.props.refreshUpdateState())),a.setState({isSending:!1})},function(e){console.log(e),a.setState({update:"",isSending:!1,snackbarMessage:"Failed to add update."}),a.props.updates&&(a.props.updates.shift(),a.props.refreshUpdateState())})}},a.state={update:"",timeNow:0,snackbarMessage:null,isSending:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.setState({timeNow:Date.now()})},5e3)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"section"},r.a.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!this.state.snackbarMessage,autoHideDuration:6e3,message:this.state.snackbarMessage,onClose:function(){e.setState({snackbarMessage:null})}}),r.a.createElement("div",{style:{paddingTop:"2.5rem"}}),r.a.createElement("div",{className:"header-1"},"Update Complaint/Concern"),r.a.createElement("div",{className:"sub-section"},r.a.createElement(_.a,{container:!0,spacing:2},r.a.createElement(_.a,{item:!0,xs:6},this.renderInfoItem("SUMMARY OF COMPLAINT (TITLE)",this.props.complaint.summary),this.renderInfoItem("COMPLAINT TYPE",this.props.complaint.type.label),this.renderInfoItem("SPECIFICS",this.props.complaint.specifics)),r.a.createElement(_.a,{item:!0,xs:6},this.renderInfoItem("BACKGROUND DETAILS",this.props.complaint.details),this.renderInfoItem("NOTES",this.props.complaint.notes),r.a.createElement("div",{className:"sub-section"},r.a.createElement("div",{className:"light-text"},"FILES"),this.props.permission.canUploadFile?r.a.createElement(fe,{accept:"image/*, .pdf, .doc, .docx, .csv, .odt, .ods, .xls, .xlsx, .txt",size:"small",onDrop:function(t){e.props.complaint.files.push(t[0]),e.props.refreshComplaintState()}}):null,this.props.complaint.files.map(function(t,a){var n=t.url?t.url.replace("public/",T.a.getUrl()):void 0;return t?e.props.permission.canUploadFile?r.a.createElement(be,{label:t.name,value:a.toString(),downloadLink:n,onDelete:function(t){e.props.complaint.files.splice(parseInt(t),1),e.props.refreshComplaintState()}}):r.a.createElement("div",{className:"small-text"},r.a.createElement(O.a,{label:t.name,downloadLink:n})):(e.props.callSnackbar&&(e.props.complaint.files.splice(a,1),e.props.callSnackbar("Unsupported file type")),null)}))))),"Resolve Ticket"===this.props.currentPage?r.a.createElement("div",{className:"sub-section"},this.props.permission.canResolve?r.a.createElement(_.a,{container:!0,spacing:2},r.a.createElement(_.a,{item:!0,xs:6},r.a.createElement(z.a,{placeholder:"Root Cause*",value:this.props.complaint.rootCause,error:this.props.isShowRequiredField&&""===this.props.complaint.rootCause,onChange:function(t){e.props.complaint.rootCause=t,e.props.refreshComplaintState()}}),r.a.createElement(z.a,{placeholder:"Resolution Acknowledged By*",value:this.props.complaint.acknowledgedBy,charLimit:50,error:this.props.isShowRequiredField&&""===this.props.complaint.acknowledgedBy,onChange:function(t){e.props.complaint.acknowledgedBy=t,e.props.refreshComplaintState()}})),r.a.createElement(_.a,{item:!0,xs:6},r.a.createElement(z.a,{placeholder:"Resolution*",value:this.props.complaint.resolution,error:this.props.isShowRequiredField&&""===this.props.complaint.resolution,onChange:function(t){e.props.complaint.resolution=t,e.props.refreshComplaintState()}}),r.a.createElement("div",{className:"light-text"},"Supporting Documents"),r.a.createElement(fe,{accept:"image/*, .pdf, .doc, .docx, .csv, .odt, .ods, .xls, .xlsx, .txt",size:"small",onDrop:function(t){e.props.complaint.files.push(t[0]),e.props.refreshComplaintState()}}),this.props.complaint.files.map(function(t,a){var n=t.url?t.url.replace("public/",T.a.getUrl()):void 0;return t?r.a.createElement(be,{key:a,label:t.name,value:a.toString(),downloadLink:n,onDelete:function(t){e.props.complaint.files.splice(parseInt(t),1),e.props.refreshComplaintState()}}):(e.props.callSnackbar&&(e.props.complaint.files.splice(a,1),e.props.callSnackbar("Unsupported file type")),null)}))):r.a.createElement(_.a,{container:!0,spacing:2},r.a.createElement(_.a,{item:!0,xs:6},this.renderInfoItem("ROOT CAUSE",this.props.complaint.rootCause),this.renderInfoItem("RESOLUTION ACKNOWLEDGED BY",this.props.complaint.acknowledgedBy)),r.a.createElement(_.a,{item:!0,xs:6},this.renderInfoItem("RESOLUTION",this.props.complaint.resolution),this.renderInfoItem("SUPPORTING DOCUMENTS",r.a.createElement(r.a.Fragment,null,this.props.complaint.files.map(function(e){return r.a.createElement("div",{className:"small-text"},r.a.createElement(O.a,{label:e.name,onClick:function(){}}))})))))):null,r.a.createElement("div",{className:"sub-section"},r.a.createElement("div",{className:"header-2",style:{marginBottom:"10px"}},"UPDATES"),r.a.createElement(L.a,{className:this.props.permission.canUpdate?void 0:"custom-table",rows:this.props.updates,renderHeader:function(){return e.renderTableHeader()},renderRow:function(t,a){return e.renderTableRow(t,a)}})))}},{key:"renderTableHeader",value:function(){var e=this;return this.props.permission.canUpdate?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(z.a,{value:this.state.update,innerPlaceholder:"Add update",onChange:function(t){e.setState({update:t})},onKeyDown:function(t){"Enter"!==t||e.state.isSending||""===e.state.update||e.onAddUpdate()}})),this.state.update&&!this.state.isSending?r.a.createElement(j.a,{style:{width:"150px",textAlign:"center"}},r.a.createElement(O.a,{icon:N.B,label:"Add update",onClick:function(){e.onAddUpdate()}})):this.state.isSending?r.a.createElement(j.a,{style:{width:"150px",textAlign:"center"}},r.a.createElement(I.a,{height:"none",size:16})):null):r.a.createElement(j.a,null,"Updates")}},{key:"renderTableRow",value:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA",n=S.a.getTimeDeffirence(new Date(e.date),new Date);return r.a.createElement(F.a,{style:{backgroundColor:a}},r.a.createElement(j.a,{colSpan:2},r.a.createElement(_.a,{container:!0,spacing:1},r.a.createElement(_.a,{item:!0,xs:7,className:"header-2"},e.sender),r.a.createElement(_.a,{item:!0,xs:5,className:"light-text",style:{textAlign:"right"}},(n.length>0?n+" ago ":" ")+"(".concat(S.a.toDateAndTime(e.date,{dateTimeDivider:" at ",showDayFromWeek:!0}),")")),r.a.createElement(_.a,{item:!0,xs:12,className:"text"},e.message))))}},{key:"renderInfoItem",value:function(e,t){return r.a.createElement("div",{className:"sub-section-2"},r.a.createElement("div",{className:"light-text"},e),r.a.createElement("div",{className:"small-text"},t))}}]),t}(r.a.Component),Is=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={errorModal:!1,errorModalMessage:"",reason:"",successModal:!1},a.onCancel=function(){var e=a.props.ticket,t=a.props.login,n=a.props.caseData,r={status:"Cancelled",ticket_history_info:{assignee_id:t.userId,assignee_name:"".concat(t.firstName," ").concat(t.lastName),pmaker_task:n?n.task:"",action:"Cancelled Ticket"},cancellation_reason:a.state.reason};n?Ae.a.put("cases/".concat(a.props.caseId,"/variable"),{button_pressed:"CANCEL"},function(){Ae.a.put("case/".concat(a.props.caseId,"/route-case"),{},function(){T.a.patch("customer-care/tickets/".concat(e.id),r,function(){var e=Object(Kl.a)(zl.a.mark(function e(t){var n;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),a.props.onClose(),204!==t.status){e.next=5;break}return a.setState({successModal:!0}),e.abrupt("return");case 5:return e.next=7,t.json();case 7:(n=e.sent)&&n.error&&a.setState({errorModalMessage:n.error.message},function(){a.setState({errorModal:!0})}),a.setState({successModal:!0});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())})}):T.a.patch("customer-care/tickets/".concat(e.id),r,function(){var e=Object(Kl.a)(zl.a.mark(function e(t){var n;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),a.props.onClose(),204!==t.status){e.next=5;break}return a.setState({successModal:!0}),e.abrupt("return");case 5:return e.next=7,t.json();case 7:(n=e.sent)&&n.error&&a.setState({errorModalMessage:n.error.message},function(){a.setState({errorModal:!0})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},a.handleFieldChanges=function(e){var t=e.target.value;a.setState({reason:t})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement(Y,{className:"modal",isOpen:this.state.errorModal,handleClose:function(){return e.setState({errorModal:!1})},header:"Unable to Cancel Ticket",content:n.createElement("div",{style:{padding:"0.5rem 0"}},this.state.errorModalMessage),footer:n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section"},n.createElement(ke,{style:{width:310},text:"Okay",onClick:function(){e.setState({errorModal:!1})}})))}),n.createElement(Y,{className:"modal",isOpen:this.state.successModal,handleClose:function(){return e.props.onSuccess()},header:"Ticket ".concat(this.props.ticket.ticketNo," has been cancelled successfully."),content:"",footer:n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section"},n.createElement(ke,{style:{width:310},text:"Okay",onClick:function(){e.props.onSuccess()}})))}),n.createElement(Y,{className:"modal",isOpen:this.props.isOpen,handleClose:function(){return e.props.onClose()},header:"Are you sure you want to cancel this ticket?",content:n.createElement(n.Fragment,null,n.createElement("div",{style:{padding:"0.5rem 0"}},"Cancelling this ticket will invalidate any assessment or approval for this confinement.\v"),n.createElement("div",{style:{padding:"0.5rem 0"}},"You will no longer be able to edit or update this ticket after cancellation. You can still view this ticket in the Tickets List."),n.createElement("div",{style:{padding:"0.5rem 0"}},"Are you sure you want to cancel this ticket?"),n.createElement("div",{style:{marginTop:15}},n.createElement("div",{style:{fontSize:11,color:"#272E4C"}},"*Reason for Cancellation"),n.createElement(Mt.a,{multiline:!0,fullWidth:!0,rows:3,value:this.state.reason,onChange:this.handleFieldChanges,variant:"outlined"}))),footer:n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section"},n.createElement(ke,{style:{minWidth:311,color:"".concat(""===this.state.reason?"":"#FD5451"),borderColor:"".concat(""===this.state.reason?"":"#FD5451")},text:"Yes, cancel this ticket",variant:"outlined",disabled:""===this.state.reason,onClick:function(){e.onCancel()}})),n.createElement("div",null,n.createElement(ke,{style:{minWidth:311},text:"No, do not cancel this ticket",onClick:function(){e.props.onClose()}})))}))}}]),t}(n.Component);function ks(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Rs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ks(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ks(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ds=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).tabList=[{value:1,label:"Summary"},{value:2,label:"Updates"},{value:3,label:"Room Accommodations"},{value:4,label:"Diagnoses"},{value:5,label:"Physicians"},{value:6,label:"Procedures"},{value:7,label:"PhilHealth & Discharge Details"},{value:8,label:"Other Details"},{value:9,label:"Uploaded Documents"},{value:10,label:"Comments"},{value:11,label:"Member Status"},{value:12,label:"Benefits"},{value:13,label:"Partner Network"},{value:14,label:"Exclusion"},{value:15,label:"Utilization"},{value:16,label:"Tickets"},{value:17,label:"Contract"}],a.icd10Codes=void 0,a.cptCodes=void 0,a.agents=void 0,a.errors=void 0,a.callSnackbar=function(e){a.setState({snackbarMessage:e})},a.loadTicketData=function(e){T.a.get(e,function(e){var t=e.ticket_category,n=t.confinement_details,r=t.inquiry_details,i=t.request_details,l=t.complaint_details;a.setState({ticket:V.a.getTicketData(e)});var s=V.a.getTicketData(e);if(e&&e.assigned_by&&e.assign_remarks&&a.setState({assigneeNotes:{isModalOpen:!1,previousAssignee:e.assigned_by,notes:e.assign_remarks}}),Ae.a.get("cases",function(t){var n=s.ticketNo,r=S.a.extractTicketNumber(n),i=t.find(function(e){return e.app_number===r}),l=!1;if(i&&(l=!0,a.setState({currentCase:{task:i.app_tas_title,appTitle:i.app_title}}),"Inquiry - Comment"===i.app_tas_title||"Inquiry - Escalate Ticket"===i.app_tas_title||"Endorsement - Comment"===i.app_tas_title||"Endorsement - Escalate Ticket"===i.app_tas_title||"Complaint - Comment"===i.app_tas_title||"Complaint - Escalate Ticket"===i.app_tas_title?a.setState({permission:{canAssign:!0,canEscalate:!0,canComment:!0}}):"Inquiry - View Details"===i.app_tas_title||"Inquiry - View Ticket Details 2"===i.app_tas_title?a.setState({permission:{canUpdate:!0,canUploadFile:!0,canAssign:!0,canEscalate:!0,canResolve:!0,canClose:!0,canComment:!0}}):"Endorsement - View Ticket Details 2"===i.app_tas_title?a.setState({permission:{canUpdate:!0,canUploadFile:!0,canAssign:!0,canEscalate:!0,canResolve:!0,canClose:!0,canComment:!0}}):"Inpatient - View Details"===i.app_tas_title?a.setState({permission:{canUpdate:!0,canUploadFile:!0,canTransfer:!0,canProceedToAssessment:!0}}):"Complaint - View Ticket Details 2"===i.app_tas_title?a.setState({permission:{canComment:!0,canUpdate:!0,canUploadFile:!0,canAssign:!0,canEscalate:!0,canSubmitForResolution:!0}}):"Approval - View Ticket Details 2"===i.app_tas_title?a.setState({permission:{canComment:!0,canUpdate:!0,canAssign:!0,canEscalateApproval:!0,canEscalateComment:!0,canProceedToAssessment:!0}}):"Approval - Comment"!==i.app_tas_title&&"Approval - Escalate Ticket"!==i.app_tas_title||a.setState({permission:{canComment:!0,canAssign:!0,canEscalateComment:!0}}),a.state.login)){var o=e.notes_showed;i.previous_usr_uid===a.state.login.pmakerUid||o||a.state.assigneeNotes&&(a.state.assigneeNotes.isModalOpen=!0,a.setState({assigneeNotes:a.state.assigneeNotes}))}a.state.login&&a.state.login.group&&e.ticket_owner_department===a.state.login.group.department&&a.state.ticket&&("Closed"!==a.state.ticket.status&&l||"Closed"===a.state.ticket.status)&&(a.state.permission.canCancel=!0,a.setState({permission:a.state.permission})),a.setState({isSaving:!1})},function(){a.setState({isSaving:!1})}),n){a.setState({confinement:V.a.getConfinementData(n,e)});var o=a.state.confinement?a.state.confinement.provider.label:"";T.a.pnGet("p/f/partners/facilities/".concat(o,"/doctor-procedures"),function(e){var t=e.data.doctors.map(function(e){return{value:e.doctor_id,label:e.doctor_name,params:e.type?[e.type]:[""]}});a.setState({doctors:t})},function(){a.setState({snackbarMessage:"Failed to get doctors data."})})}else r?(a.tabList[0].label="Inquiry Details",a.setState({inquiries:V.a.getInquiryData(r)})):i&&a.state.ticket?(a.tabList[0].label="Request Updates","Request/Endorsement"===a.state.ticket.ticketType?a.setState({endorsement:V.a.getEndorsementData(i)}):a.setState({requestApproval:V.a.getRequestApprovalData(i)})):l&&(a.tabList[0].label="Complaint Details",a.setState({complaint:V.a.getComplaintData(l)}));a.setState({comments:V.a.getCommentData(e.comments)}),e.updates&&a.setState({updates:V.a.getUpdateData(e.updates)}),e.member_id.trim().length>0&&T.a.get("customer-care/members/".concat(e.member_id),function(e){a.setState({member:V.a.getMemberData(e)}),T.a.get("customer-care/members/".concat(e.member_id,"/benefits"),function(){})}),e.client_id.trim().length>0&&T.a.get("customer-care/clients/".concat(e.client_id),function(e){a.setState({client:V.a.getClientData(e)})})},function(e){a.setState({snackbarMessage:e.toString()})})},a.getValidationErrorList=function(){var e=[],t=a.state.confinement,n=a.state.inquiries;if(t){0===t.diagnoses.length&&e.push({message:"Please add atleast one diagnosis before proceeding:",targets:[]}),0===t.accommodations.length&&e.push({message:"Please add atleast one room accomodation before proceeding",targets:[]});var r=!1;t.physicians.forEach(function(e){e.physician.params&&e.physician.params.includes("Admitting")&&(r=!0)}),r||e.push({message:"Please add atleast one admitting physician before proceeding",targets:[]});var i=t.diagnoses.filter(function(e){var a=!1;return t.physicians.map(function(t){a=t.diagnosis.value===e.diagnosis.value||a}),!a});i.length>0&&(e.push({message:"Please assign a physician for the following diagnoses before proceding:",targets:i.map(function(e){return"".concat(e.diagnosis.value," ").concat(e.diagnosis.label)})}),a.setState({tabSelected:5}));var l=[];!t.dischargeDate||t.dischargeDate&&!ft()(t.dischargeDate).isValid()?l.push("Discharge Date"):t.dischargeDate&&ft()(t.dischargeDate).isValid()&&ft()(t.dateAdmitted).isValid()&&ft()(t.dischargeDate).startOf("day").diff(ft()(t.dateAdmitted).startOf("day"))<0&&e.push({message:"Discharge date cannot be before admitted date.",targets:[]}),t.finalBill||l.push("Final Hospital Bill Amount"),l.length>0&&(e.push({message:"Please fill up the following fields before proceding:",targets:l}),a.setState({tabSelected:7}));var s=t.diagnoses.filter(function(e){return e.isPrimary}).length;0===s?(e.push({message:"Please choose atleast one primary diagnosis.",targets:[]}),a.setState({tabSelected:4})):s>1&&(e.push({message:"There cannot be more than one primary diagnosis.",targets:[]}),a.setState({tabSelected:4}))}if(n){0===n.length&&e.push({message:"Please add atleast one inquiry before proceeding.",targets:[]});var o=[];n.forEach(function(e){0===e.detail.length&&o.push("".concat(e.inquiry.label,": Details of inquiry")),""===e.answer&&o.push("".concat(e.inquiry.label,": Answer"))}),o.length>0&&e.push({message:"Please fill up the required fields for the following inquiries before proceding:",targets:o.map(function(e){return e})})}return e},a.onUploadConfinementFiles=function(e,t,n){var r=!1,i=new FormData;e.forEach(function(e){e.file&&e.file.path&&!e.file.field&&(i.append(t,e.file),r=!0)}),a.setState({isSaving:!0}),r?T.a.postFormData("tmp/upload?path=customer-care",i,function(e){n(e)},function(e){console.log(e),a.setState({isSaving:!1,snackbarMessage:"Failed to upload files."})}):n([])},a.onUploadFiles=function(e,t,n){var r=!1,i=new FormData;e.forEach(function(e){e.field||(i.append(t,e),r=!0)}),a.setState({isSaving:!0}),r?T.a.postFormData("tmp/upload?path=customer-care",i,function(e){n(e)},function(e){console.log(e),a.setState({isSaving:!1,snackbarMessage:"Failed to upload files."})}):n([])},a.onUpdateTicket=function(e,t,n,r,i){var l=a.state.ticket,s=a.state.confinement,o=a.state.inquiries,c=a.state.endorsement,m=a.state.complaint;if(l){var u=a.state.confinement?a.state.confinement.files.filter(function(e){return!!e.file&&!e.file.field}):[],d=function(o,c,m,d){var p=V.a.getPutTicketPayload(l,!o.error&&o.length>0?s?s.files.map(function(e){return Rs({},e.file,{docName:e.docName})}).filter(function(e){return!!e&&e.field}).concat(o.map(function(e,t){return Rs({},e,{docName:u[t].docName})})):[]:s?s.files.map(function(e){return Rs({},e.file,{docName:e.docName})}):[],c,m,d,t,n,r,e,a.state.member,a.state.client,a.state.confinement,a.state.inquiries,a.state.endorsement,a.state.complaint,a.state.requestApproval);T.a.put("customer-care/tickets/".concat(a.props.match.params.ticketId),p,function(){e.includes("Mark as Resolve")?f():i()},function(){a.setState({isSaving:!1,snackbarMessage:"Failed to update ticket."})})};a.setState({isSaving:!0}),a.onUploadConfinementFiles(u,"supporting_document",function(e){if(o&&o.length>0){var t=[];o.forEach(function(n){a.onUploadFiles(n.supportDocs,"supporting_document",function(a){t.push(!a.error&&a.length>0?n.supportDocs.filter(function(e){return e.field}).concat(a):n.supportDocs),o&&o.length===t.length&&d(e,t,[],[])})})}else c?a.onUploadFiles(c.requestFiles,"supporting_document",function(t){var a=!t.error&&t.length>0?c.requestFiles.filter(function(e){return e.field}).concat(t):c.requestFiles;d(e,[],a,[])}):m?a.onUploadFiles(m.files,"supporting_document",function(t){var a=!t.error&&t.length>0?m.files.filter(function(e){return e.field}).concat(t):m.files;d(e,[],[],a)}):d(e,[],[],[])});var p=function(e,t,n,r){Ae.a.shortcutCall(e,t,n,r,function(){a.setState({isSaving:!1,snackbarMessage:"Failed to update ticket."})})},f=function(){var e=a.props.match.params.caseId;p("PUT","cases/".concat(e,"/variable"),{button_pressed:"RESOLVE"},function(){p("PUT","cases/".concat(e,"/route-case"),{},function(){i()})})}}},a.onProceedWithFinalAssessment=function(e,t,n,r,i){var l=function(){var i=function(e,t,n,r){Ae.a.shortcutCall(e,t,n,r,function(){a.setState({isSaving:!1,snackbarMessage:"Failed to proceed with final assessment."})})},l=a.props.match.params.caseId;i("PUT","cases/".concat(l,"/variable"),{button_pressed:"PROCEED WITH FINAL ASSESSMENT",within_limit:!0},function(){i("PUT","cases/".concat(l,"/route-case"),{},function(){a.onUpdateTicket(e,"Proceed with Final Assessment",t,n,r)})})};if(a.state.login&&a.state.login.ccData)if(i){var s=a.state.login.ccData.amount_limit;i.finalBill<=s?(a.setState({isSaving:!0}),l()):a.setState({isFinalAssessmentModalOpen:!0})}else a.setState({isSaving:!0}),l()},a.onSubmitForResolution=function(e,t,n,r){!function(){var i=function(e,t,n,r){Ae.a.shortcutCall(e,t,n,r,function(){a.setState({isSaving:!1,snackbarMessage:"Failed to proceed with submit for resolution."})})},l=a.props.match.params.caseId;i("PUT","cases/".concat(l,"/variable"),{button_pressed:"PROCEED",within_limit:!0},function(){i("PUT","cases/".concat(l,"/route-case"),{},function(){a.onUpdateTicket(e,"Updated Ticket",t,n,r)})})}()},a.onSaveForNow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=a.state.login,n=a.state.ticket,r=a.state.confinement,i=a.state.inquiries,l=a.state.endorsement,s=a.state.complaint;if(n){var o=function(o,c,m,u){if(t){var d=V.a.saveInUpdateTicketPayload(t,n,a.state.tabSelected,a.state.updateState,a.state.accommodationState,a.state.diagnosisState,a.state.physicianState,a.state.procedureState,a.state.otherDetailState,a.state.fileState,o,c,m,u,a.state.permission,a.state.comments,a.state.updates,a.state.member,a.state.client,r,i,l,s,a.state.requestApproval,a.state.currentCase);T.a.post("tmp",JSON.stringify(d),function(t){t._id?a.setState({isSaving:!1,snackbarMessage:"Progress saved.",lastSave:new Date},function(){e&&e(!0)}):a.setState({isSaving:!1,snackbarMessage:"Failed to save progress."},function(){e&&e(!1)})},function(){a.setState({isSaving:!1,snackbarMessage:"Failed to save progress."},function(){e&&e(!1)})})}};a.onUploadConfinementFiles(r?r.files:[],"supporting_document",function(e){var t=!e.error&&e.length>0?n.additionalFiles.filter(function(e){return e.field}).concat(e):n.additionalFiles;if(i&&i.length>0){var r=[];i.forEach(function(e){a.onUploadFiles(e.supportDocs,"supporting_document",function(a){r.push(!a.error&&a.length>0?e.supportDocs.filter(function(e){return e.field}).concat(a):e.supportDocs),i&&i.length===r.length&&o(t,r,[],[])})})}else l?a.onUploadFiles(l.requestFiles,"supporting_document",function(e){var a=!e.error&&e.length>0?l.requestFiles.filter(function(e){return e.field}).concat(e):l.requestFiles;o(t,[],a,[])}):s?a.onUploadFiles(s.files,"supporting_document",function(e){var a=!e.error&&e.length>0?s.files.filter(function(e){return e.field}).concat(e):s.files;o(t,[],[],a)}):o(t,[],[],[])})}},a.onPatchStatus=function(e){a.state.ticket&&a.setState({isSaving:!0,ticket:Rs({},a.state.ticket,{status:e})},function(){a.onSaveForNow(function(){if(a.state.ticket&&a.state.login&&a.state.currentCase){var t=a.props.match.params.ticketId,n={status:e,ticket_history_info:{assignee_id:a.state.login.userId,assignee_name:"".concat(a.state.login.firstName," ").concat(a.state.login.lastName),pmaker_task:a.state.currentCase.task,action:"Pending"===e?"Marked Ticket as Pending":"Open"===e?"Resumed Ticket":""}};T.a.patch("customer-care/tickets/".concat(t),n,function(){window.location.reload()},function(){a.setState({snackbarMessage:"An error occurred while updating ticket status."})})}})})},a.getFilteredCptCodes=function(){if(""===a.state.procedureState.diagnosis.value){if(te.CPT_CODES){var e=[];return a.state.confinement&&a.state.confinement.procedures.forEach(function(t){e.push(t.procedure)}),e.length>0?te.CPT_CODES.filter(function(t){return void 0===e.find(function(e){return e.value===t.value})}):te.CPT_CODES}}else if(te.CPT_CODES){var t=[];return a.state.confinement&&a.state.confinement.procedures.forEach(function(e){e.diagnosis.value===a.state.procedureState.diagnosis.value&&t.push(e.procedure)}),t.length>0?te.CPT_CODES.filter(function(e){return void 0===t.find(function(t){return t.value===e.value})}):te.CPT_CODES}return[]},a.state={tabSelected:1,isAssessmentModalOpen:!1,isAssignModalOpen:!1,isEscalateModalOpen:!1,isForCommentModalOpen:!1,isForApprovalModalOpen:!1,isTransferModalOpen:!1,isFinalAssessmentModalOpen:!1,isForAssessmentModalOpen:!1,isResolveAndCloseModalOpen:!1,isOtherActionsPopperOpen:!1,isReassignInformModalOpen:!1,isCancelTicketModalOpen:!1,buttonClicked:"",isResolveTicketAttempt:!1,isSaving:!0,snackbarMessage:null,popperAnchor:null,permission:{},updateState:{remarks:"",date:new Date,hospitalBill:0},accommodationState:{roomType:{value:"",label:""},roomNo:"",days:0,costPerDay:0},diagnosisState:{diagnosis:{value:"",label:""},remarks:"",isFinal:!1,isPrimary:!1},physicianState:{physician:{value:"",label:"",params:["","Admitting"]},diagnosis:{value:"",label:""},remarks:"",visits:0,amount:0},procedureState:{procedure:{value:"",label:""},diagnosis:{value:"",label:""},physician:{value:"",label:""},remarks:"",date:new Date,amount:0},otherDetailState:{name:"",type:{value:"",label:""},amount:0},fileState:{docName:"",file:null},comments:[],updates:[],doctors:[],roomTypes:[]},a.agents=[],a.cptCodes=[],a.icd10Codes=[],a.errors=[],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.c.StorageService("user_data").then(function(t){e.setState({login:V.a.getLoginData(t)}),e.state.login&&T.a.get("tmp?"+"filter[where][and][0][user_id]=".concat(e.state.login.userId,"&")+"filter[where][and][1][module]=Customer%20Care&filter[where][and][2][process]=Update%20Ticket&"+"filter[where][and][3][ticket_no]=".concat(e.props.match.params.ticketId),function(t){t.length>0?(e.setState({isSaving:!1,lastSave:new Date(t[0].timestamp),tabSelected:t[0].data.tab_selected,ticket:t[0].data.ticket,confinement:t[0].data.confinement,endorsement:t[0].data.endorsement,complaint:t[0].data.complaint,requestApproval:t[0].data.requestApproval,inquiries:t[0].data.inquiries,updateState:t[0].data.update_state,accommodationState:t[0].data.accommodation_state,diagnosisState:t[0].data.diagnosis_state,physicianState:t[0].data.physician_state,procedureState:t[0].data.procedure_state,otherDetailState:t[0].data.other_detail_state,fileState:t[0].data.file_state,permission:t[0].data.permission,comments:t[0].data.comments,updates:t[0].data.updates,currentCase:t[0].data.current_case}),t[0].data.member_id&&T.a.get("customer-care/members/".concat(t[0].data.member_id),function(t){e.setState({member:V.a.getMemberData(t)}),T.a.get("customer-care/members/".concat(t.member_id,"/benefits"),function(){})}),t[0].data.client_id&&T.a.get("customer-care/clients/".concat(t[0].data.client_id),function(t){e.setState({client:V.a.getClientData(t)})})):e.loadTicketData("customer-care/tickets/".concat(e.props.match.params.ticketId))},function(){e.loadTicketData("customer-care/tickets/".concat(e.props.match.params.ticketId))})}),te.loadIcd10Codes(void 0,function(){e.setState({snackbarMessage:"Failed to get ICD10 codes."})}),te.loadCptCodes(void 0,function(){e.setState({snackbarMessage:"Failed to get CPT codes."})}),T.a.get("customer-care/room-categories",function(t){var a=[];t.forEach(function(e){a.push({value:e.category,label:e.category})}),e.setState({roomTypes:a})},function(e){console.log("error",e)})}},{key:"render",value:function(){var e=this;return console.log("Update Ticket Page - state:",this.state),console.log("Update Ticket Page - ICD10 Codes count",te.ICD10_CODES?te.ICD10_CODES.length:void 0),console.log("Update Ticket Page - CPT Codes count",te.CPT_CODES?te.CPT_CODES.length:void 0),n.createElement(_.a,{container:!0,className:"customer-care-main"},!this.state.ticket||this.state.isSaving?n.createElement(es.a,null):null,n.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!this.state.snackbarMessage,autoHideDuration:6e3,onClose:function(){e.setState({snackbarMessage:null})},message:this.state.snackbarMessage}),n.createElement(Y,{className:"modal",isOpen:this.state.isAssessmentModalOpen,handleClose:function(){return e.setState({isAssessmentModalOpen:!1})},header:"Missing Information",content:n.createElement("div",{className:"text"},this.errors.map(function(e){return n.createElement(n.Fragment,null,n.createElement("p",null,e.message),n.createElement("p",null,e.targets.map(function(e){return n.createElement("div",null,"- ".concat(e))})))})),footer:n.createElement(ke,{text:"Okay",variant:"outlined",onClick:function(){e.setState({isAssessmentModalOpen:!1})}})}),this.state.login&&this.state.ticket&&this.state.currentCase?n.createElement(n.Fragment,null,n.createElement(ys,{caseId:this.props.match.params.caseId,login:this.state.login,ticket:this.state.ticket,currentCase:this.state.currentCase,totalAmount:0,isOpen:this.state.isAssignModalOpen,onBeforeMainAction:function(){e.setState({isSaving:!0})},onSuccess:function(t,a){t&&e.state.login&&e.state.ticket&&e.state.currentCase&&a&&e.onUpdateTicket([],"None",e.state.login,e.state.currentCase,function(){a(function(){e.setState({isReassignInformModalOpen:!0,isSaving:!1})})})},onClose:function(){e.setState({isAssignModalOpen:!1})}}),n.createElement(Y,{className:"modal",isOpen:this.state.isReassignInformModalOpen,header:"Re-assigned successfully",content:"Ticket re-assigned to ".concat(te.NEW_ASSIGNEE," successfully"),footer:n.createElement(ke,{text:"Okay",variant:"outlined",onClick:function(){e.setState({isReassignInformModalOpen:!1}),e.state.ticket&&"Request/Endorsement"===e.state.ticket.ticketType?e.props.history.push(window.location.hash):e.props.history.push("#/customer-care/"),window.location.reload()}}),handleClose:function(){e.setState({isReassignInformModalOpen:!1}),e.state.ticket&&"Request/Endorsement"===e.state.ticket.ticketType?e.props.history.push(window.location.hash):e.props.history.push("#/customer-care/"),window.location.reload()}})):null,this.state.ticket&&this.state.login?n.createElement(Cs,{caseId:this.props.match.params.caseId,ticket:this.state.ticket,login:this.state.login,caseData:this.state.currentCase?this.state.currentCase:void 0,isEscalateModalOpen:this.state.isEscalateModalOpen,isForCommentModalOpen:this.state.isForCommentModalOpen,isForApprovalModalOpen:this.state.isForApprovalModalOpen,isForAssessmentModalOpen:this.state.isForAssessmentModalOpen,currentPage:"Update Ticket",amountLimit:this.state.confinement&&"Inpatient"===this.state.ticket.specificType?this.state.confinement.finalBill:this.state.confinement?S.a.getUpdateConfinementCost(this.state.confinement):0,onBeforeMainAction:function(){e.setState({isSaving:!0})},onSuccess:function(t){e.state.login&&e.state.currentCase&&e.onUpdateTicket([],"None",e.state.login,e.state.currentCase,function(){t(function(){e.setState({isReassignInformModalOpen:!0,isSaving:!1})})})},onClose:function(){e.setState({isEscalateModalOpen:!1,isForCommentModalOpen:!1,isForApprovalModalOpen:!1,isForAssessmentModalOpen:!1})}}):null,this.state.login&&this.state.ticket?n.createElement(Ns,{caseId:this.props.match.params.caseId,login:this.state.login,ticket:this.state.ticket,isOpen:this.state.isTransferModalOpen,onBeforeMainAction:function(){e.setState({isSaving:!0})},onSuccess:function(t){e.state.login&&e.state.currentCase&&e.onUpdateTicket([],"None",e.state.login,e.state.currentCase,function(){t(function(){e.setState({isTransferModalOpen:!1}),e.props.history.push("#/customer-care/"),window.location.reload()})})},onClose:function(){e.setState({isTransferModalOpen:!1})}}):null,this.state.login&&this.state.ticket?n.createElement(Y,{className:"modal",isOpen:this.state.isResolveAndCloseModalOpen,handleClose:function(){e.setState({isResolveAndCloseModalOpen:!1})},header:"Resolve and Close Ticket",content:"Resolving and closing will no longer allow you to modify your approval/disapproval to this ticket. Are you sure you want to resolve and close?",footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.setState({isResolveAndCloseModalOpen:!1})}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(ke,{text:"Resolve and Close",onClick:function(){e.setState({isResolveAndCloseModalOpen:!1},function(){e.state.login&&e.state.currentCase&&e.onUpdateTicket(["Mark as Resolve"],"Resolve and Closed Ticket",e.state.login,e.state.currentCase,function(){e.state.ticket&&"Inquiry"!==e.state.ticket.ticketType&&"Request/Endorsement"!==e.state.ticket.ticketType&&e.props.history.push("#/customer-care/"),window.location.reload()})})}}))}):null,this.state.ticket&&this.state.login&&this.state.currentCase?n.createElement(Xl,{caseId:this.props.match.params.caseId,ticket:this.state.ticket,login:this.state.login,isOpen:this.state.isFinalAssessmentModalOpen,assigneeIsMe:JSON.parse(this.state.currentCase.appTitle).ticket_owner_user_id===this.state.login.userId,amountLimit:this.state.confinement&&"Inpatient"===this.state.ticket.specificType?this.state.confinement.finalBill:this.state.confinement?S.a.getUpdateConfinementCost(this.state.confinement):0,onBeforeMainAction:function(){e.setState({isSaving:!0})},onSuccessWithCallback:function(t){e.state.login&&e.state.currentCase&&e.onUpdateTicket([],"None",e.state.login,e.state.currentCase,function(){t(function(){e.setState({isFinalAssessmentModalOpen:!1}),e.props.history.push("#/customer-care/resolve-ticket/"+e.props.match.params.caseId+"/"+e.props.match.params.ticketId),window.location.reload()})})},onClose:function(){e.setState({isFinalAssessmentModalOpen:!1})}}):null,this.state.ticket&&this.state.login?n.createElement(Is,{caseId:this.props.match.params.caseId,caseData:this.state.currentCase,ticket:this.state.ticket,login:this.state.login,isOpen:this.state.isCancelTicketModalOpen,onClose:function(){e.setState({isCancelTicketModalOpen:!1})},onSuccess:function(){window.location.reload()}}):null,this.state.assigneeNotes?n.createElement(Ss,{assigneeNotes:this.state.assigneeNotes,onClose:function(){if(e.state.assigneeNotes){Ae.a.put("cases/".concat(e.props.match.params.caseId,"/variable"),{show:!1},function(){}),e.state.assigneeNotes.isModalOpen=!1,e.setState({assigneeNotes:e.state.assigneeNotes})}}}):null,n.createElement(Zl,{isOpen:this.state.isOtherActionsPopperOpen,anchor:this.state.popperAnchor,items:[{disabled:this.state.ticket&&"Open"!==this.state.ticket.status,content:n.createElement(O.a,{icon:N.x,label:"Mark as Pending",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.onPatchStatus("Pending")}},{disabled:this.state.ticket&&"Pending"!==this.state.ticket.status,content:n.createElement(O.a,{icon:N.A,label:"Resume Ticket",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.onPatchStatus("Open")}},{disabled:!this.state.permission.canEscalate,content:n.createElement(O.a,{icon:N.e,label:"Escalate",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isEscalateModalOpen:!0})}},{disabled:!this.state.permission.canEscalateApproval,content:n.createElement(O.a,{icon:N.e,label:"For Approval",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isForApprovalModalOpen:!0})}},{disabled:!this.state.permission.canEscalateComment,content:n.createElement(O.a,{icon:N.e,label:"For Comment",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isForCommentModalOpen:!0})}},{disabled:!this.state.permission.canTransfer,content:n.createElement(O.a,{icon:N.Q,label:"Transfer Ownership",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isTransferModalOpen:!0})}},{disabled:!this.state.permission.canCancel,content:n.createElement(O.a,{icon:N.N,label:"Cancel Ticket",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isCancelTicketModalOpen:!0})}}].filter(function(e){return!e.disabled})}),this.state.ticket?n.createElement(J,{openAsigneeNotesModal:function(){void 0!==e.state.ticket&&void 0!==e.state.ticket.additionalNotes&&void 0!==e.state.assigneeNotes&&void 0!==e.state.assigneeNotes.isModalOpen&&(e.state.assigneeNotes.isModalOpen=!0,e.setState({assigneeNotes:e.state.assigneeNotes}))},member:this.state.member,client:this.state.client,ticket:this.state.ticket,task:this.state.permission.canUpdate?"Update":"View",disableLinkedTickets:!0}):null,this.renderCommonTabBar(this.state.confinement&&this.state.ticket?this.renderInpatientContent(this.state.confinement,this.state.ticket):this.state.inquiries?this.renderInquiryContent(this.state.inquiries):this.state.endorsement&&this.state.login?this.renderEndorsementContent(this.state.endorsement,this.state.login):this.state.requestApproval&&this.state.ticket&&this.state.login?this.renderRequestApprovalContent(this.state.requestApproval,this.state.ticket,this.state.login):this.state.complaint&&this.state.login?this.renderComplaintContent(this.state.complaint,this.state.login):null),")}",this.state.ticket?n.createElement(Re,{disableFinalAssessment:"Inquiry"===this.state.ticket.ticketType,lastSave:this.state.lastSave,onSaveForNow:this.state.permission.canUpdate?function(){e.setState({buttonClicked:"Save For Now"},function(){e.onSaveForNow()})}:void 0,onResolveAndCloseTicket:this.state.permission.canResolve?function(){e.errors=e.getValidationErrorList(),0===e.errors.length?e.setState({isResolveTicketAttempt:!0,buttonClicked:"Resolve and Close",isResolveAndCloseModalOpen:!0}):e.setState({isAssessmentModalOpen:!0})}:void 0,onFinalAssessment:this.state.permission.canProceedToAssessment?function(){if(e.state.ticket)if(e.errors=e.getValidationErrorList(),0==e.errors.length)if("Inpatient"===e.state.ticket.specificType){if(!e.state.login||!e.state.currentCase)return;e.onProceedWithFinalAssessment([],e.state.login,e.state.currentCase,function(){e.props.history.push("#/customer-care/resolve-ticket/"+e.props.match.params.caseId+"/"+e.props.match.params.ticketId),window.location.reload()},e.state.confinement)}else"Request Requiring Approval"===e.state.ticket.ticketType&&e.setState({isForAssessmentModalOpen:!0});else e.setState({isAssessmentModalOpen:!0})}:void 0,onSubmitForResolution:this.state.permission.canSubmitForResolution?function(){e.errors=e.getValidationErrorList(),0==e.errors.length&&e.state.complaint&&e.state.login&&e.state.currentCase?e.onUpdateTicket([],"Updated Ticket",e.state.login,e.state.currentCase,function(){e.state.login&&e.state.currentCase&&e.onSubmitForResolution([],e.state.login,e.state.currentCase,function(){e.props.history.push("#/customer-care/resolve-ticket/"+e.props.match.params.caseId+"/"+e.props.match.params.ticketId),window.location.reload()})}):e.setState({isAssessmentModalOpen:!0})}:void 0,onUpdateTicket:this.state.permission.canUpdate?function(){e.setState({buttonClicked:""},function(){e.state.login&&e.state.currentCase&&e.onUpdateTicket([],"Updated Ticket",e.state.login,e.state.currentCase,function(){window.location.reload()})})}:void 0,leftButtons:[this.state.permission.canEscalateApproval||this.state.permission.canEscalateComment||this.state.permission.canEscalate||this.state.permission.canTransfer||this.state.permission.canCancel?n.createElement(ke,{className:"button transparent-2",text:n.createElement("div",null,"Other Actions",n.createElement("span",{style:{paddingRight:"0.5rem"}}),n.createElement(pe.a,{icon:N.n})),onClick:function(t){e.setState({popperAnchor:t.currentTarget,isOtherActionsPopperOpen:!e.state.isOtherActionsPopperOpen})}}):void 0,this.state.permission.canAssign?n.createElement(ke,{className:"button black-text",color:"default",text:"Assign Ticket",onClick:function(){e.setState({isAssignModalOpen:!0})}}):void 0].filter(function(e){return e})}):null)}},{key:"renderCommonTabBar",value:function(e){var t=this,a=this.state.confinement,r=this.tabList;this.state.member?r[10].label="Member Profile":this.state.member?r=this.tabList.filter(function(e){return 11!==e.value}):r[10].label="Client Profile";var i=this.state.confinement?r.filter(function(e){return e.value<10||11===e.value}):r.filter(function(e){return 1===e.value||e.value>=10});return n.createElement("div",{className:"main-content"},n.createElement(xe,{tabList:i,selectedTab:this.state.tabSelected,setSelectedTab:function(e){t.setState({tabSelected:e})}}),1===this.state.tabSelected?e:2===this.state.tabSelected&&a?n.createElement(os,{confinement:a,updates:a.updates,state:this.state.updateState,refreshUpdatesState:function(){t.setState({confinement:a})},editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate}):3===this.state.tabSelected&&a?this.state.ticket?n.createElement(cs,{accommodations:a.accommodations,state:this.state.accommodationState,provider:a.provider,dateAdmitted:a.dateAdmitted,roomTypes:this.state.roomTypes,confinementKind:a.confinementKind,refreshAccommodationsState:function(){t.setState({confinement:a})},editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate}):null:4===this.state.tabSelected&&a?this.state.ticket?n.createElement(ms,{diagnoses:a.diagnoses,state:this.state.diagnosisState,physicians:a.physicians,procedures:a.procedures,primaryDiagnosisIndex:a.primaryDiagnosisIndex,resetPrimaryDiagnosisIndex:function(){a.primaryDiagnosisIndex=-1,t.setState({confinement:a})},refreshDiagnosisStateChange:function(){t.setState({confinement:a})},setPrimaryDiagnosisIndex:function(e){t.setState(function(t){return Rs({},t,{confinement:Rs({},a,{primaryDiagnosisIndex:e})})}),a.primaryDiagnosisIndex=e,a&&a.diagnoses&&a.diagnoses[e]&&void 0!==a.diagnoses[e].isPrimary&&(a.diagnoses[e].isPrimary=!0),t.setState({confinement:a})},editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate}):null:5===this.state.tabSelected&&a?n.createElement(ds,{physicians:a.physicians,state:this.state.physicianState,physiciansList:this.state.doctors,diagnosesList:a.diagnoses,refreshPhysiciansStateChange:function(){t.setState({confinement:a})},editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate}):6===this.state.tabSelected&&a?n.createElement(hs,{procedures:a.procedures,state:this.state.procedureState,proceduresList:te.CPT_CODES?this.getFilteredCptCodes():[],diagnosesList:a.diagnoses,physiciansList:this.state.doctors,refreshProceduresStateChange:function(){t.setState({confinement:a})},editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate}):7===this.state.tabSelected&&a?n.createElement(Es,{dateAdmitted:a.dateAdmitted,coverage:a.coverage,ticketNo:a.ticketNo,paidBy:a.paidBy,philhealthAmount:a.philhealthAmount,finalBill:a.finalBill,dischargeDate:a.dischargeDate,onUpdateTicketStateChange:function(e,n){t.setState(function(t){return Rs({},t,{confinement:Rs({},a,Object(v.a)({},e,n))})})},editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate}):8===this.state.tabSelected&&a?n.createElement(gs,{items:a.items,state:this.state.otherDetailState,refreshItemsStateChange:function(){t.setState({confinement:a})},editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate}):9===this.state.tabSelected&&a?n.createElement(bs,{files:a.files,state:this.state.fileState,refreshFilesStateChange:function(){t.setState({confinement:a})},editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate,callSnackbar:this.callSnackbar}):10===this.state.tabSelected&&this.state.login?n.createElement(_s,{ticketId:this.props.match.params.ticketId,canComment:this.state.permission.canComment,comments:this.state.comments,login:this.state.login,caseData:this.state.currentCase,refreshComments:function(){t.setState({comments:t.state.comments})}}):11===this.state.tabSelected&&this.state.member?n.createElement(qa,{memberNumber:this.state.member.memberId,history:this.props.history}):11===this.state.tabSelected&&this.state.client?n.createElement(nt,{clientId:this.state.client.id,history:this.props.history}):12===this.state.tabSelected&&this.state.member?n.createElement(Dr,{memberId:this.state.member.memberId}):12===this.state.tabSelected&&this.state.client?n.createElement(Fl,{contractId:this.state.client.contract?this.state.client.contract.id:""}):13===this.state.tabSelected?n.createElement(Wa,{clientId:this.state.member&&this.state.member.client?this.state.member.client.id:this.state.client?this.state.client.id:"",planType:this.state.member&&this.state.member.planType?this.state.member.planType:void 0}):14===this.state.tabSelected?n.createElement(fs,{memberId:this.state.member?this.state.member.memberId:"",clientId:this.state.client?this.state.client.corporateAccountNo:""}):15===this.state.tabSelected?n.createElement(Xa,{member:this.state.member,client:this.state.client}):16===this.state.tabSelected?n.createElement(Qa,{memberId:this.state.member?this.state.member.memberId:void 0,clientId:this.state.client?this.state.client.corporateAccountNo:void 0}):17===this.state.tabSelected&&this.state.client&&this.state.client.contract?n.createElement($a.a,{memberId:this.state.member?this.state.member.memberId:void 0,clientId:this.state.client.corporateAccountNo,contractId:this.state.client.contract.id}):null)}},{key:"renderComplaintContent",value:function(e,t){var a=this;return n.createElement(Ts,{complaint:e,ticketId:this.props.match.params.ticketId,updates:this.state.updates,permission:this.state.permission,currentPage:"Update Ticket",login:t,refreshUpdateState:function(){a.setState({updates:a.state.updates})},refreshComplaintState:function(){a.setState({complaint:a.state.complaint})},callSnackbar:this.callSnackbar})}},{key:"renderEndorsementContent",value:function(e,t){var a=this;return n.createElement(Os,{ticketId:this.props.match.params.ticketId,endorsement:e,updates:this.state.updates,permission:this.state.permission,login:t,refreshEndorsementState:function(){a.setState({endorsement:e})},refreshUpdateState:function(){a.setState({updates:a.state.updates})},callSnackbar:this.callSnackbar})}},{key:"renderInpatientContent",value:function(e,t){var a=this;return n.createElement(rs,{editable:!(!this.state.permission||!this.state.permission.canUpdate)&&this.state.permission.canUpdate,ticketNo:t.ticketNo,confinement:e,setTabSelected:function(e){return a.setState({tabSelected:e})}})}},{key:"renderInquiryContent",value:function(e){var t=this;return n.createElement(vs,{callSnackbar:this.callSnackbar,inquiries:e,permission:this.state.permission,buttonClicked:this.state.buttonClicked,isResolveTicketAttempt:this.state.isResolveTicketAttempt,refreshInquiryState:function(){t.setState({inquiries:e})}})}},{key:"renderRequestApprovalContent",value:function(e,t,a){var r=this;return n.createElement(As,{ticketId:this.props.match.params.ticketId,ticket:t,permission:this.state.permission,requestApproval:e,updates:this.state.updates,login:a,refreshRequestApprovalState:function(){r.setState({requestApproval:r.state.requestApproval})},refreshUpdateState:function(){r.setState({updates:r.state.updates})}})}}]),t}(n.Component),ws=a(128),Ps=E.c.loadable,xs=E.a.UI.LoadingIndicator,js=Ps(Object(Kl.a)(zl.a.mark(function e(){var t,n,r,i,l;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(4).then(a.bind(null,1895));case 2:return t=e.sent,n=t.HomePage,r=t.mapStateToProps,i=t.mapDispatchToProps,l=Object(ws.c)(r,i)(n),e.abrupt("return",{default:l});case 8:case"end":return e.stop()}},e)})),{fallback:n.createElement(xs,null)}),Fs=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"complex-table"},n.createElement(_.a,{className:"header",container:!0,spacing:1},this.props.renderHeader()),this.props.data.length>0?this.props.data.map(function(t,a){var r=a%2===0?"#FFFFFF":"#F6F7FA";return n.createElement("div",{className:"item",style:{backgroundColor:r}},e.props.renderRow(t,a))}):n.createElement("div",{style:{backgroundColor:"#FFFFFF",textAlign:"center",padding:"1rem"}},"No data"))}}]),t}(n.Component),Ls=a(286),Ms=Object(mt.a)(function(e){return{dialog:{},dialogTitle:{fontWeight:600},dialogContent:{minWidth:320,maxHeight:"90vh",overflowY:"auto"},dialogAction:{marginTop:16,marginBottom:e.spacing(2)},tableHeader:{fontSize:"14px",lineHeight:"17px",fontWeight:"bold",fontFamily:"Usual"},radio:{"&.Mui-checked":{color:"#1e2071"}},stepHeader:{fontSize:"11px",lineHeight:"13px",fontFamily:"Usual",fontWeight:"bold",background:"#F6F7FA 0% 0% no-repeat padding-box",border:"1px solid #F5F5F5"},stepTable:{boxShadow:"0px 3px 6px #00000029",background:"#DDDFE3 0% 0% no-repeat padding-box"},stepCell:{fontSize:"11px",lineHeight:"13px",fontFamily:"Usual",background:"#FFFFFF 0% 0% no-repeat padding-box"},stepCell1st:{fontSize:"11px",lineHeight:"13px",fontFamily:"Usual",background:"#FFFFFF 0% 0% no-repeat padding-box",paddingLeft:"51px"},approved:{color:"#3AB77D",marginRight:"19px"},disapproved:{color:"#FD5451",marginRight:"19px"},unknown:{color:"#C3C3C3",marginRight:"19px"},typomessage:{fontSize:"11px",lineHeight:"13px",fontFamily:"Usual"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),Us=function(e){var t=e.procedure,a=e.contractId,i=e.clientName,l=e.diagnosis,s=e.ticketData,o=e.availment,c=e.confinement,m=e.adjudicationSteps,u=e.memberData,d=e.systemassess,f=e.changeTreeId,h=e.adjudicationFacilities,g=Ms(),E=function(){e.onClose()},b=Object(n.useState)([]),v=Object(p.a)(b,1)[0];return Object(n.useEffect)(function(){console.log("Procedure",t),console.log("contractId",a),console.log("diagnosis",l),console.log("availment",o),console.log("confinement",c),console.log("ticket",s),console.log("adjudicationsteps",m)},[]),r.a.createElement("div",null,r.a.createElement(Ls.a,{open:e.isModalOpen,onClose:E,"aria-labelledby":"form-dialog-title",maxWidth:"xl",className:g.dialog,fullWidth:!0},r.a.createElement(El.a,{id:"form-dialog-title",className:g.dialogTitle},"System Assessment Details",r.a.createElement(jr.a,{"aria-label":"close",className:g.closeButton,onClick:e.onClose},r.a.createElement(tl.a,null))),r.a.createElement(gl.a,{className:g.dialogContent},r.a.createElement(_.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement("span",{style:{fontSize:"12px",lineHeight:"14px",fontFamily:"Usual"}},"ASSESSMENT SUMMARY:"),r.a.createElement("span",{style:{fontSize:"12px",lineHeight:"14px",fontFamily:"Usual",color:"Disapproved"===d?"#FD5451":"Approved"===d?"#3AB77D":"#C3C3C3"}},"\xa0",d)),r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(vt.a,{className:g.stepTable},r.a.createElement(_t.a,null,r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.tableHeader,style:{width:"40%"}},"Adjudication Step"),r.a.createElement(j.a,{className:g.tableHeader,style:{width:"30%"}},"Details"),r.a.createElement(j.a,{className:g.tableHeader,style:{width:"30%"}},"Assessment"))),r.a.createElement(yt.a,null,r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},"1. MEMBER ACCOUNT VALIDATION")),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the member account exists"),r.a.createElement(j.a,{className:g.stepCell},u&&u.member_id?u.member_id:"\u2014\u2014\u2014"),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:u&&u.member_id?g.approved:g.disapproved,icon:u&&u.member_id?N.h:N.N}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the member account details match (caller's information vs. system)"),r.a.createElement(j.a,{className:g.stepCell},u&&u.first_name&&u.date_of_birth&&u.gender?u.first_name+" "+(u.middle_name?u.middle_name.toString().substring(0,1)+". ":"")+(u.last_name?u.last_name:"")+"/"+ft()(u.date_of_birth).format("MMMM d, YYYY")+"/"+u.gender.toString().substring(0,1)+"/"+i:"\u2014\u2014\u2014"),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:u.first_name&&u.date_of_birth&&u.gender?g.approved:g.disapproved,icon:u.first_name&&u.date_of_birth&&u.gender?N.h:N.N}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the member is active"),r.a.createElement(j.a,{className:g.stepCell},u&&u.member_status?u.member_status:"\u2014\u2014\u2014"),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:u&&"Active"===u.member_status?g.approved:g.disapproved,icon:u&&"Active"===u.member_status?N.h:N.N}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},"2. Availment Validation")),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the availment type is coverable"),r.a.createElement(j.a,{className:g.stepCell},s.specificType),r.a.createElement(j.a,{className:g.stepCell},m&&m.AVAILMENT_VALIDATION?m.AVAILMENT_VALIDATION.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.unknown,icon:N.D}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},"3. Illness/Diagnosis Validation")),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if diagnosis is coverable"),r.a.createElement(j.a,{className:g.stepCell},l.icd10Code.label),r.a.createElement(j.a,{className:g.stepCell},m&&m.DIAGNOSIS_VALIDATION_COVERABLE?m.DIAGNOSIS_VALIDATION_COVERABLE.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.approved,icon:N.h}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check what the applicable limit is"),r.a.createElement(j.a,{className:g.stepCell},l.icd10Code.label),r.a.createElement(j.a,{className:g.stepCell},m&&m.DIAGNOSIS_VALIDATION_APPLICABLE_LIMIT&&m.DIAGNOSIS_VALIDATION_APPLICABLE_LIMIT.assessments?m.DIAGNOSIS_VALIDATION_APPLICABLE_LIMIT.assessments.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.approved,icon:N.h}))),t?r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},"4. Procedure Validation")):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the procedure is coverable"),r.a.createElement(j.a,{className:g.stepCell},m&&m.PROCEDURE_VALIDATION_COVERABLE&&m.PROCEDURE_VALIDATION_COVERABLE.length>1?r.a.createElement(Lt.a,{value:t&&t.tree_id?t.tree_id:"",onChange:f},m.PROCEDURE_VALIDATION_COVERABLE.forEach(function(e){return r.a.createElement(Ft.a,{value:e.message,classes:{label:g.typomessage},control:r.a.createElement(He.a,{color:"primary",classes:{colorPrimary:g.radio}}),label:e.message})})):t?t.cptCode.label:""),r.a.createElement(j.a,{className:g.stepCell},m&&m.PROCEDURE_VALIDATION_COVERABLE?m.PROCEDURE_VALIDATION_COVERABLE.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}))}):r.a.createElement(pe.a,{className:g.approved,icon:N.h}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check the member\u2019s data"),r.a.createElement(j.a,{className:g.stepCell},u.plan_type),r.a.createElement(j.a,{className:g.stepCell},m&&m.PROCEDURE_VALIDATION_MEMBERS_DATA?m.PROCEDURE_VALIDATION_MEMBERS_DATA.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.unknown,icon:N.D}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if there are inner limits"),r.a.createElement(j.a,{className:g.stepCell},t?t.cptCode.label:""),r.a.createElement(j.a,{className:g.stepCell},m&&m.PROCEDURE_VALIDATION_INNER_LIMITS&&m.PROCEDURE_VALIDATION_INNER_LIMITS.assessments?m.PROCEDURE_VALIDATION_INNER_LIMITS.assessments.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.unknown,icon:N.D}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the procedure is valid for member\u2019s gender"),r.a.createElement(j.a,{className:g.stepCell},u.gender),r.a.createElement(j.a,{className:g.stepCell},m&&m.PROCEDURE_VALIDATION_GENDER?m.PROCEDURE_VALIDATION_GENDER.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.approved,icon:N.h}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},"5. ICD10 (Diagnosis) - CPT (Procedure) Correlation Validation")):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the procedure is valid per ICD10 diagnosis"),r.a.createElement(j.a,{className:g.stepCell},(t?t.cptCode.label:"")+"/"+l.icd10Code.label),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D}))):null,r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},t?"6":"4",". Affiliated Network Access Validation")),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the facility is Intellicare-affiliated"),r.a.createElement(j.a,{className:g.stepCell},"Outpatient Procedure"===s.specificType?s.ticketCategory.availment_details.provider:"Emergency Room"===s.specificType?s.ticketCategory.er_details.provider:"Inpatient"===s.specificType?s.ticketCategory.confinement_details.provider:""),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:h.facility_is_affiliated?g.approved:g.disapproved,icon:h.facility_is_affiliated?N.h:N.N}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the member has access to the facility"),r.a.createElement(j.a,{className:g.stepCell},"Outpatient Procedure"===s.specificType?s.ticketCategory.availment_details.provider+"/"+s.specificType+(t?"/".concat(t.cptCode.label):""):"Emergency Room"===s.specificType?s.ticketCategory.er_details.provider+"/"+s.specificType+(t?"/".concat(t.cptCode.label):""):"Inpatient"===s.specificType?s.ticketCategory.confinement_details.provider+"/"+s.specificType+(t?"/".concat(t.cptCode.label):""):""),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the requesting physician is Intellicare-affiliated"),r.a.createElement(j.a,{className:g.stepCell},l.doctors[0].name),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:h.doctor_is_affiliated?g.approved:g.disapproved,icon:h.doctor_is_affiliated?N.h:N.N}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the member has Point of Service (POS) for the specific availment type / benefit"),r.a.createElement(j.a,{className:g.stepCell},l.doctors[0].name),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D}))),t?r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},"7. PROCEDURE RATE VALIDATION")):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check the given procedure rates against the facility rates"),r.a.createElement(j.a,{className:g.stepCell},t?t.cptCode.label:""),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check the given procedure rates against the RUV"),r.a.createElement(j.a,{className:g.stepCell},t?t.cptCode.label:""),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check the co-pay/co-insurance section of the member plan package"),r.a.createElement(j.a,{className:g.stepCell},t?t.cptCode.label:""),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the availment details of the member are coverable by Philhealth"),r.a.createElement(j.a,{className:g.stepCell},t?t.cptCode.label:""),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if the diagnosis is coverable"),r.a.createElement(j.a,{className:g.stepCell},l.icd10Code.label),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},"8. Member Limits/Balance Validation")):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check the amount against the balance of the illness/diagnosis limit"),r.a.createElement(j.a,{className:g.stepCell},l.icd10Code.label),r.a.createElement(j.a,{className:g.stepCell},m&&m.MEMBER_LIMIT_VALIDATION_DIAGNOSIS_LIMIT&&m.MEMBER_LIMIT_VALIDATION_DIAGNOSIS_LIMIT.assessments?m.MEMBER_LIMIT_VALIDATION_DIAGNOSIS_LIMIT.assessments.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.unknown,icon:N.D}))):null,t?r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check the procedure against the balance of the procedure limit / inner limit"),r.a.createElement(j.a,{className:g.stepCell},t?t.cptCode.label:""),r.a.createElement(j.a,{className:g.stepCell},m&&m.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT&&m.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.assessments?m.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.assessments.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.unknown,icon:N.D}))):null,r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},t?"9":"5",". Availment Instructions / Benefit Administration Validation")),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check how the benefit is to be administered (reimbursement, outright coverage)"),r.a.createElement(j.a,{className:g.stepCell},t?t.cptCode.label:"N/A"),r.a.createElement(j.a,{className:g.stepCell},m&&m.AVAILMENT_INSTRUCTION_OUTRIGHT?m.AVAILMENT_INSTRUCTION_OUTRIGHT.map(function(e){return r.a.createElement(ct.a,{className:g.typomessage},r.a.createElement(pe.a,{className:e.approved?g.approved:g.disapproved,icon:e.approved?N.h:N.N}),e.message)}):r.a.createElement(pe.a,{className:g.unknown,icon:N.D}))),r.a.createElement(F.a,null,r.a.createElement(j.a,{colSpan:3,className:g.stepHeader},t?"10":"6",". Outstanding Receivables Validation")),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:g.stepCell1st},"Check if there is any outstanding receivables from the member"),r.a.createElement(j.a,{className:g.stepCell},"None"),r.a.createElement(j.a,{className:g.stepCell},r.a.createElement(pe.a,{className:v.member?v.member.member_id?g.approved:g.disapproved:g.unknown,icon:v.member?v.member.member_id?N.h:N.N:N.D})))))))),r.a.createElement(bl.a,{className:Object(st.default)(g.dialogAction)},r.a.createElement(_.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},r.a.createElement(_.a,{item:!0,xs:4},r.a.createElement(Ie.a,{onClick:E,variant:"contained",color:"primary",fullWidth:!0},"Okay"))))))};function Bs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Hs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bs(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bs(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}Us.defaultProps={isModalOpen:!1};var Vs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){console.log(a.props);var e=0;a.props.availment.diagnoses.forEach(function(t){t.doctors.length>0&&t.doctors.forEach(function(t){e+=t.fee}),t.procedures.length>0&&t.procedures.forEach(function(t){e+=t.amount})}),console.log("totalamount",e),T.a.get("customer-care/tickets/"+a.props.ticketData.id,function(t){console.log(t),T.a.get("customer-care/members/".concat(t.member_data._id,"/contracts/").concat(a.props.contractId),function(t){console.log("benefits",t),T.a.get("/customer-care/member-utilization-loa/contract/".concat(a.props.contractId,"/member/").concat(t.member.member_id),function(n){a.props.availment.diagnoses.forEach(function(r){if(r.procedures.length>0)r.procedures.forEach(function(i){var l=Object(Ma.cloneDeep)(t.benefits);try{console.log("canAvail_procedure_amount",i.amount),console.log("canAvail_total_amount",e);var s=S.a.canCoverCanAvail(a.props.contractId,r.icd10Code.label,i.cptCode.label,"Outpatient Procedure"===a.props.ticketData.specificType?"Procedures":"Emergency Room"===a.props.ticketData.specificType?"Emergency":"Consultation"===a.props.ticketData.specificType?"Consultations":"",n,t.member,l,e,i.amount),o=[];s.map(function(e){e.assessments?e.assessments.forEach(function(e){o.push(e.approved)}):e.forEach(function(e){o.push(e.approved)})}),t.member.member_id?o.push(!0):o.push(!1),t.member.first_name&&t.member.registered_name&&t.member.date_of_birth&&t.member.gender?o.push(!0):o.push(!1),"Active"===t.member.member_status?o.push(!0):o.push(!1),console.log("Checker",r.icd10Code.label,s,o),a.state.canCoverCanAvailResults.unshift({diagnosisname:r.icd10Code.label,procedurename:i.cptCode.label,canCoverCanAvailstep:s,status:-1===o.findIndex(function(e){return!e})?"Approved":"Disapproved",remaining_balance:s.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT&&s.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.remaining_balance?s.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.remaining_balance:void 0})}catch(c){console.log("error with procedure ApproveAvailmentSection canCoverCanAvail",c)}});else try{console.log("diagnosis no procedure",r);var i=Object(Ma.cloneDeep)(t.benefits),l=S.a.canCoverCanAvail(a.props.contractId,r.icd10Code.label,"PsuedoProcedure","Outpatient Procedure"===a.props.ticketData.specificType?"Procedures":"Emergency Room"===a.props.ticketData.specificType?"Emergency":"Consultation"===a.props.ticketData.specificType?"Consultations":"",n,t.member,i),s=[];l.map(function(e){console.log("item",e),e.forEach(function(e){console.log("item2",e),s.push(e.approved)})}),t.member.member_id?s.push(!0):s.push(!1),t.member.first_name&&t.member.registered_name&&t.member.date_of_birth&&t.member.gender?s.push(!0):s.push(!1),"Active"===t.member.member_status?s.push(!0):s.push(!1),console.log("Checker no procedure",r.icd10Code.label,l,s),a.state.canCoverCanAvailResults.unshift({diagnosisname:r.icd10Code.label,procedurename:"PsuedoProcedure",canCoverCanAvailstep:l,status:-1===s.findIndex(function(e){return!e})?"Approved":"Disapproved"})}catch(o){console.log("error ApproveAvailmentSection canCoverCanAvail",o)}}),a.setState({loading:!1,member:t.member,canCoverCanAvailResults:a.state.canCoverCanAvailResults})},function(e){console.log("utilization error",e),a.setState({loading:!1})})},function(e){console.log(e),a.setState({loading:!1})})},function(e){console.log(e)})},a.getProceduresCost=function(e){var t=0;return e.procedures.filter(function(e){return"Approved"===e.assessmentType||""===e.assessmentType}).map(function(e){t+=e.approvedAmount>0?e.approvedAmount:e.amount}),t},a.getApprovedAvailmentsCost=function(){var e=0;return a.props.availment.diagnoses.map(function(t){var a=t.procedures.length>0,n=!0;t.procedures.map(function(t){"Approved"!==t.assessmentType&&""!==t.assessmentType||(n=!1,e+=t.approvedAmount>0?t.approvedAmount:t.amount)}),(a&&!n||!a&&("Approved"===t.assessmentType||""===t.assessmentType))&&(e+=t.approvedAmount>0?t.approvedAmount:t.doctors[0].fee)}),e},a.onChangeProcedure=function(e,t,n){var r=a.props.availment;r.diagnoses[e].procedures[t].tree_id=n,a.props.updateAvailment(r)},a.state={isModalOpen:!1,procedure:{cptCode:{value:"",label:""},isPHIC:!1,amount:0,notes:"",loaNo:0,doctor:"",dateAdded:new Date,assessmentType:"Approved",assessmentRemarks:"",approvedAmount:0},diagnosis:{icd10Code:{value:"",label:""},loaNo:0,remarks:"",isPrimary:!1,isFinal:!1,doctors:[],procedures:[],dateAdded:new Date,assessmentType:"Approved",assessmentRemarks:"",approvedAmount:0},renderAdjudication:!1,adjudicationmodal:n.createElement("div",null),adjudicationSteps:[],procedurenum:0,utilization:{},benefits:[],member:{},loading:!0,canCoverCanAvailResults:[],isErrorModalOpen:!1,ErrorMessage:"",ErrorHeader:"",systemassess:"",procIndex:0,diagIndex:0,adjudicationFacilities:{facility_is_affiliated:!0,doctor_is_affiliated:!0,procedure_is_valid:!0}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.renderAdjudication&&this.setState({adjudicationmodal:n.createElement(Us,{memberData:this.state.member,contractId:this.props.contractId,adjudicationSteps:this.state.adjudicationSteps,systemassess:this.state.systemassess,procedure:this.state.procedure,diagnosis:this.state.diagnosis,availment:this.props.availment,clientName:this.props.clientName,ticketData:this.props.ticketData,isModalOpen:this.state.isModalOpen,adjudicationFacilities:this.state.adjudicationFacilities,onClose:function(){e.setState({isModalOpen:!1,renderAdjudication:!0})},changeTreeId:function(t){e.onChangeProcedure(e.state.diagIndex,e.state.procIndex,t.target.value)}}),renderAdjudication:!1}),n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Approve or Disapprove Availments"),n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"light-text"},"PROVIDER"),n.createElement("div",{className:"small-text"},this.props.availment.provider.value+" - "+this.props.availment.provider.label)),this.props.availment.chiefComplaint?n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"light-text"},"CHIEF COMPLAINT"),n.createElement("div",{className:"small-text"},this.props.availment.chiefComplaint)):null,this.props.availment.history?n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"light-text"},"CHIEF COMPLAINT"),n.createElement("div",{className:"small-text"},this.props.availment.history)):null)),n.createElement("div",{className:"sub-section"},n.createElement("div",{style:{float:"right"}},n.createElement("span",{className:"small-text"},"TOTAL AMOUNT"),n.createElement("span",{style:{marginLeft:"1rem"}}),n.createElement("span",{className:"header-2"},"PHP "+S.a.formatNumber(this.getApprovedAvailmentsCost(),!0)))),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:this.props.availment.diagnoses,renderHeader:function(){return e.renderHeader()},renderRow:function(t,a){return e.renderRow(t,a)}})),n.createElement("div",{className:"section"}),this.state.adjudicationmodal,n.createElement(Y,{isOpen:this.state.isErrorModalOpen,header:n.createElement(ct.a,{style:{fontSize:"16px",lineHeight:"17px",fontWeight:"bold",fontFamily:"Usual",marginBottom:"27px"}},this.state.ErrorHeader),content:n.createElement(ct.a,{style:{fontSize:"14px",lineHeight:"13px",fontFamily:"Usual",marginBottom:"27px"}},this.state.ErrorMessage),footer:n.createElement(Ie.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({isErrorModalOpen:!1})}},"Confirm")}))}},{key:"renderHeader",value:function(){var e={margin:0,padding:"12px 0 12px 0"};return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2",style:e},"Diagnosis")),n.createElement(_.a,{item:!0,xs:3},n.createElement("div",{className:"header-2",style:e},"Doctor")),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"header-2",style:e},"Professional Fee")),n.createElement(_.a,{item:!0,xs:3},n.createElement("div",{className:"header-2",style:Hs({},e,{textAlign:"right"})},"Total Amt. of Procedures")))}},{key:"renderRow",value:function(e,t){var a=this;return n.createElement(n.Fragment,null,n.createElement(_.a,{className:"small-section",container:!0},n.createElement(_.a,{item:!0,xs:4},e.icd10Code.value+" - "+e.icd10Code.label),n.createElement(_.a,{item:!0,xs:3},e.doctors[0].name),n.createElement(_.a,{item:!0,xs:2},"PHP "+S.a.formatNumber(e.procedures&&0===e.procedures.length&&"Approved"===e.assessmentType&&e.approvedAmount>0?e.approvedAmount:"Disapproved"===e.assessmentType||"Pending"===e.assessmentType?0:e.doctors[0].fee,!0)),n.createElement(_.a,{item:!0,xs:3,style:{fontWeight:"bold",textAlign:"right"}},"PHP "+S.a.formatNumber(this.getProceduresCost(e),!0))),0===e.procedures.length?n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),this.renderDiagnosisAssessment(e)):n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),e.procedures.map(function(n,r){return a.renderProcedureAssessment(n,r,e,t)})))}},{key:"renderDiagnosisAssessment",value:function(e){var t=this,a=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===e.icd10Code.label&&"PsuedoProcedure"===t.procedurename});return n.createElement(_.a,{style:{padding:"0.5rem 1.5rem"},container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:4},this.renderInfoItem("DATE OF AVAILMENT",S.a.toCommonDateString(e.dateAdded)),this.renderInfoItem("SYSTEM ASSESSMENT",n.createElement(n.Fragment,null,a.length>0?"".concat(a[0].status,"*"):"Unavailable",n.createElement(C.a,{onClick:function(){a.length>0?(t.setState({isModalOpen:!0,renderAdjudication:!0}),t.setState({procedure:void 0,diagnosis:e,renderAdjudication:!0,adjudicationSteps:a.length>0?a[0].canCoverCanAvailstep:[],systemassess:a[0].status,diagIndex:0,procIndex:0})):t.setState({isErrorModalOpen:!0,ErrorMessage:"Please contact your administrator for support",ErrorHeader:"Unavailable Assessment"})}},n.createElement(pe.a,{style:{color:"#C3C3C3"},icon:N.u}))))),n.createElement(_.a,{item:!0,xs:3},this.renderInfoItem("REMAINING BALANCE","PHP ".concat(S.a.formatNumber(0,!0),"*")),this.renderInfoItem("CLAUSE","Laboratory tests, x-rays, and other diagnostic examinations prescribed by the INTELLICARE physician*")),n.createElement(_.a,{item:!0,xs:2},this.renderInfoItem("Choose Assessment",n.createElement(n.Fragment,null,n.createElement(Ve,{label:"Approve",checkedCondition:"Approved"===e.assessmentType,onChange:function(){e.assessmentType="Approved",t.props.refreshAvailmentState()}}),"Approved"===e.assessmentType?n.createElement(se.a,{value:e.approvedAmount,placeholder:"Partial (optional)",isFloat:!0,onChange:function(a){e.approvedAmount=a,t.props.refreshAvailmentState()}}):null,n.createElement(Ve,{label:"Disapprove",checkedCondition:"Disapproved"===e.assessmentType,onChange:function(){e.assessmentType="Disapproved",t.props.refreshAvailmentState()}}),n.createElement(Ve,{label:"Pending",checkedCondition:"Pending"===e.assessmentType,onChange:function(){e.assessmentType="Pending",t.props.refreshAvailmentState()}})))),n.createElement(_.a,{item:!0,xs:3},this.renderInfoItem("Remarks",n.createElement(ge,{value:e.assessmentRemarks,defaultRows:5,onChange:function(a){e.assessmentRemarks=a,t.props.refreshAvailmentState()}}))))}},{key:"renderProcedureAssessment",value:function(e,t,a,r){var i=this,l=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===a.icd10Code.label&&t.procedurename===e.cptCode.label});return n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),n.createElement("div",{className:"section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",null,n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:2,style:{padding:"0 0.5rem",marginTop:"-3px"}},n.createElement("div",{className:"number-item"},t+1)),n.createElement(_.a,{item:!0,xs:10,className:"header-2"},e.cptCode.value+" - "+e.cptCode.label))))),n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",null,n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:2}),n.createElement(_.a,{item:!0,xs:10},this.renderInfoItem("AMOUNT","PHP ".concat(S.a.formatNumber(e.amount,!0))),this.renderInfoItem("PHILHEALTH REQUIRED?",e.isPHIC?"Yes":"No"),this.renderInfoItem("DATE OF AVAILMENT",S.a.toCommonDateString(e.dateAdded)))))),n.createElement(_.a,{item:!0,xs:3},this.renderSystemAssessment(e,t,a,r),this.renderInfoItem("REMAINING BALANCE","PHP ".concat(S.a.formatNumber(l.length>0&&l[0]&&l[0].remaining_balance?l[0].remaining_balance:0,!0),"*")),this.renderInfoItem("CLAUSE","Laboratory tests, x-rays, and other diagnostic examinations prescribed by the INTELLICARE physician*")),n.createElement(_.a,{item:!0,xs:2},this.renderInfoItem("Choose Assessment",n.createElement(n.Fragment,null,n.createElement(Ve,{label:"Approve",checkedCondition:"Approved"===e.assessmentType,onChange:function(){e.assessmentType="Approved",i.props.refreshAvailmentState()}}),"Approved"===e.assessmentType?n.createElement(se.a,{value:e.approvedAmount,placeholder:"Partial (optional)",isFloat:!0,onChange:function(t){e.approvedAmount=t,i.props.refreshAvailmentState()}}):null,n.createElement(Ve,{label:"Disapprove",checkedCondition:"Disapproved"===e.assessmentType,onChange:function(){e.assessmentType="Disapproved",i.props.refreshAvailmentState()}}),n.createElement(Ve,{label:"Pending",checkedCondition:"Pending"===e.assessmentType,onChange:function(){e.assessmentType="Pending",i.props.refreshAvailmentState()}})))),n.createElement(_.a,{item:!0,xs:3},this.renderInfoItem("Remarks",n.createElement(ge,{value:e.assessmentRemarks,defaultRows:5,onChange:function(t){e.assessmentRemarks=t,i.props.refreshAvailmentState()}}))))))}},{key:"renderSystemAssessment",value:function(e,t,a,r){var i=this,l=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===a.icd10Code.label&&t.procedurename===e.cptCode.label});return console.log("canCover",this.state.canCoverCanAvailResults),this.renderInfoItem("SYSTEM ASSESSMENT",n.createElement(n.Fragment,null,l.length>0?"".concat(l[0].status,"*"):"Unavailable",n.createElement(C.a,{onClick:function(){l.length>0?(i.setState({isModalOpen:!0,renderAdjudication:!0}),i.setState({procedure:e,diagnosis:a,renderAdjudication:!0,adjudicationSteps:l.length>0?l[0].canCoverCanAvailstep:[],systemassess:l[0].status,diagIndex:r,procIndex:t})):i.setState({isErrorModalOpen:!0,ErrorMessage:"Please contact your administrator for support",ErrorHeader:"Unavailable Assessment"})}},n.createElement(pe.a,{style:{color:"#C3C3C3"},icon:N.u}))))}},{key:"renderInfoItem",value:function(e,t){return n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},e),n.createElement("div",{className:"small-text"},t))}}]),t}(n.Component);function Gs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function qs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gs(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gs(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ws=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){console.log("props summary availment",a.props);var e=0;a.props.availment.diagnoses.forEach(function(t){t.doctors.length>0&&t.doctors.forEach(function(t){e+=t.fee}),t.procedures.length>0&&t.procedures.forEach(function(t){e+=t.amount})}),console.log("totalamount",e),Ae.a.get("cases/".concat(a.props.ticket.pmCaseId),function(e){a.setState({hideloa:"Inpatient - Approver Summarize Assessment"===e.current_task[0].tas_title||"Inpatient - Approver Proceed with Final Assessment"===e.current_task[0].tas_title})},function(e){console.log(e)}),console.log(0),T.a.get("customer-care/tickets/"+a.props.ticket.id,function(t){console.log(t),T.a.get("customer-care/members/".concat(t.member_data._id,"/contracts/").concat(a.props.contractId),function(t){console.log("benefits",t),T.a.get("/customer-care/member-utilization-loa/contract/".concat(a.props.contractId,"/member/").concat(t.member.member_id),function(n){var r=[];a.props.availment.diagnoses.forEach(function(i){if(i.procedures.length>0)i.procedures.forEach(function(l){console.log("canAvail_procedure_amount",l.amount),console.log("canAvail_total_amount",e);var s=Object(Ma.cloneDeep)(t.benefits);try{var o=S.a.canCoverCanAvail(a.props.contractId,i.icd10Code.label,l.cptCode.label,"Outpatient Procedure"===a.props.ticket.specificType?"Procedures":"Emergency Room"===a.props.ticket.specificType?"Emergency":"Consultation"===a.props.ticket.specificType?"Consultations":"",n,t.member,s,e,l.amount),c=[];o.map(function(e){e.assessments?e.assessments.forEach(function(e){c.push(e.approved)}):e.forEach(function(e){c.push(e.approved)})}),t.member.member_id?c.push(!0):c.push(!1),t.member.first_name&&t.member.registered_name&&t.member.date_of_birth&&t.member.gender?c.push(!0):c.push(!1),"Active"===t.member.member_status?c.push(!0):c.push(!1),console.log("Checker",i.icd10Code.label,l.cptCode.label,o,c),r.unshift({diagnosisname:i.icd10Code.label,procedurename:l.cptCode.label,canCoverCanAvailstep:o,status:-1===c.findIndex(function(e){return!e})?"Approved":"Disapproved",remaining_balance:o.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT&&o.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.remaining_balance?o.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.remaining_balance:void 0})}catch(m){console.log("diagnosis with procedure",m)}});else try{console.log("diagnosis no procedure",i);var l=Object(Ma.cloneDeep)(t.benefits),s=S.a.canCoverCanAvail(a.props.contractId,i.icd10Code.label,"PsuedoProcedure","Outpatient Procedure"===a.props.ticket.specificType?"Procedures":"Emergency Room"===a.props.ticket.specificType?"Emergency":"Consultation"===a.props.ticket.specificType?"Consultations":"",n,t.member,l),o=[];s.map(function(e){console.log("item",e),e.forEach(function(e){console.log("item2",e),o.push(e.approved)})}),t.member.member_id?o.push(!0):o.push(!1),t.member.first_name&&t.member.registered_name&&t.member.date_of_birth&&t.member.gender?o.push(!0):o.push(!1),"Active"===t.member.member_status?o.push(!0):o.push(!1),console.log("Checker",i.icd10Code.label,s,o),r.unshift({diagnosisname:i.icd10Code.label,procedurename:"PsuedoProcedure",canCoverCanAvailstep:s,status:-1===o.findIndex(function(e){return!e})?"Approved":"Disapproved"})}catch(c){console.log("error SummaryAvailmentSection canCoverCanAvail",c)}}),a.setState({loading:!1,canCoverCanAvailResults:r,member:t.member})},function(e){console.log("utilization error",e),a.setState({loading:!1})})},function(e){console.log(e),a.setState({loading:!1})})},function(e){console.log(e)})},a.getProceduresCost=function(e){var t=0;return e.procedures.filter(function(e){return"Approved"===e.assessmentType}).map(function(e){t+=e.approvedAmount>0?e.approvedAmount:e.amount}),t},a.getApprovedAvailments=function(e){return e.diagnoses.map(function(e){return qs({},e,{procedures:e.procedures.filter(function(e){return"Approved"===e.assessmentType}).map(function(e){return e})})}).filter(function(e){return e.procedures.length>0||"Approved"===e.assessmentType})},a.getDisapprovedAvailments=function(e){return e.diagnoses.map(function(e){return qs({},e,{procedures:e.procedures.filter(function(e){return"Disapproved"===e.assessmentType}).map(function(e){return e})})}).filter(function(e){return e.procedures.length>0||"Disapproved"===e.assessmentType})},a.getPendingAvailments=function(e){return e.diagnoses.map(function(e){return qs({},e,{procedures:e.procedures.filter(function(e){return"Pending"===e.assessmentType}).map(function(e){return e})})}).filter(function(e){return e.procedures.length>0||"Pending"===e.assessmentType})},a.getNoAvailments=function(e){return e.diagnoses.map(function(e){var t=e.procedures.filter(function(e){return""===e.assessmentType}).map(function(e){return e});return qs({},e,{procedures:t,hasOriginalProcedures:e.procedures.length>0})}).filter(function(e){return e.hasOriginalProcedures&&e.procedures.length>0||!e.hasOriginalProcedures&&""===e.assessmentType})},a.getApprovedAvailmentsCost=function(e){var t=0;return e.diagnoses.map(function(e){var a=e.procedures.length>0,n=!0;e.procedures.map(function(e){"Approved"!==e.assessmentType&&""!==e.assessmentType||(n=!1,t+=e.approvedAmount>0?e.approvedAmount:e.amount)}),(a&&!n||!a&&("Approved"===e.assessmentType||""===e.assessmentType))&&(t+=e.approvedAmount>0?e.approvedAmount:e.doctors[0].fee)}),t},a.applyOneLoa=function(e){var t=a.getApprovedAvailments(a.props.availment);if(t&&void 0!==t&&t.length>0)for(var n in t)if(t[n].procedures&&void 0!==t[n].procedures)for(var r in t[n].procedures)t[n].procedures[r]&&void 0!==t[n].procedures[r]&&void 0!==e&&(t[n].procedures[r].loaNo=e);a.props.refreshLOAStates()},a.onChangeProcedure=function(e,t,n){var r=a.props.availment;r.diagnoses[e].procedures[t].tree_id=n,a.props.updateAvailment(r)},a.state={adjudicationFacilities:{facility_is_affiliated:!0,doctor_is_affiliated:!0,procedure_is_valid:!0},totalAmount:0,status:{value:"",label:""},benefits:[],member:{},amount:0,loaDate:new Date,notes:"",loading:!0,utilization:{},isModalOpen:!1,systemassess:"",procedure:{cptCode:{value:"",label:""},isPHIC:!1,amount:0,notes:"",loaNo:0,doctor:"",dateAdded:new Date,assessmentType:"Approved",assessmentRemarks:"",approvedAmount:0},diagnosis:{icd10Code:{value:"",label:""},loaNo:0,remarks:"",isPrimary:!1,isFinal:!1,doctors:[],procedures:[],dateAdded:new Date,assessmentType:"Approved",assessmentRemarks:"",approvedAmount:0},adjudicationSteps:[],procedurenum:0,renderAdjudication:!1,adjudicationmodal:n.createElement("div",null),canCoverCanAvailResults:[],isErrorModalOpen:!1,ErrorMessage:"",ErrorHeader:"",procIndex:0,diagIndex:0,hideloa:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.renderAdjudication&&this.setState({adjudicationmodal:n.createElement(Us,{memberData:this.state.member,contractId:this.props.contractId,adjudicationFacilities:this.state.adjudicationFacilities,adjudicationSteps:this.state.adjudicationSteps,systemassess:this.state.systemassess,procedure:this.state.procedure,diagnosis:this.state.diagnosis,clientName:this.props.clientName,ticketData:this.props.ticket,isModalOpen:this.state.isModalOpen,onClose:function(){e.setState({isModalOpen:!1,renderAdjudication:!0})},changeTreeId:function(t){e.onChangeProcedure(e.state.diagIndex,e.state.procIndex,t.target.value)}}),renderAdjudication:!1}),this.props.availment&&!this.state.loading?this.renderAvailment(this.props.availment,this.props.ticket):n.createElement(I.a,{height:"10rem"})}},{key:"renderAvailment",value:function(e,t){var a=this,r=this.getApprovedAvailments(e),i=this.getDisapprovedAvailments(e),l=this.getPendingAvailments(e),s=this.getNoAvailments(e),o=void 0!==r&&r.length>0&&this.props.canEditLOAs&&this.props.permission&&void 0!==this.props.permission&&!0===this.props.permission.canGenerateApprovalCode&&void 0!==this.props.ticket&&"Outpatient Procedure"===Object(Ma.get)(this.props.ticket,"specificType","")&&(r.length>1||r[0].procedures&&r[0].procedures.length>1);return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1",style:{display:"inline-block"}},"Summary of Approved Diagnosis and Procedures"),this.props.onBack?n.createElement("div",{style:{float:"right"}},n.createElement(ke,{className:"button",text:"Edit Summary",onClick:this.props.onBack})):null,n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"light-text"},"PROVIDER"),n.createElement("div",{className:"small-text"},e.provider.value+" - "+e.provider.label)),e.chiefComplaint?n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"light-text"},"CHIEF COMPLAINT"),n.createElement("div",{className:"small-text"},e.chiefComplaint)):null,e.history?n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"light-text"},"HISTORY"),n.createElement("div",{className:"small-text"},e.history)):null,t.approverName?n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"APPROVER NAME"),n.createElement("div",{className:"small-text"},t.approverName)):null)),n.createElement("div",{className:"sub-section"},void 0!==r&&r.length>0&&this.props.canEditLOAs&&this.props.permission&&void 0!==this.props.permission&&!0===this.props.permission.canGenerateApprovalCode&&void 0!==this.props.ticket&&"Outpatient Procedure"===Object(Ma.get)(this.props.ticket,"specificType","")?n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement(_.a,{container:!0,item:!0},n.createElement(_.a,{item:!0,xs:3},o?n.createElement(ce,{label:"Use One LOA",value:!!this.props.useOneLoa,onChange:function(e){a.props.updateOneLoa(e),a.props.updateLoaNumber(0),a.applyOneLoa(0)}}):null),n.createElement(_.a,{item:!0,xs:4},this.props.useOneLoa?n.createElement(se.a,{value:this.props.loaNumber,disableDelimiter:!0,onChange:function(e){a.props.updateLoaNumber(e),a.applyOneLoa(e)}}):null))),n.createElement(_.a,{item:!0,xs:6,style:{textAlign:"right",paddingTop:"10px"}},n.createElement("span",{className:"small-text"},"TOTAL AMOUNT"),n.createElement("span",{style:{marginLeft:"1rem"}}),n.createElement("span",{className:"header-2"},"PHP "+S.a.formatNumber(this.getApprovedAvailmentsCost(e),!0)))):n.createElement("div",{style:{float:"right"}},n.createElement("span",{className:"small-text"},"TOTAL AMOUNT"),n.createElement("span",{style:{marginLeft:"1rem"}}),n.createElement("span",{className:"header-2"},"PHP "+S.a.formatNumber(this.getApprovedAvailmentsCost(e),!0)))),r.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2"},"APPROVED AVAILMENTS"),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:r,renderHeader:function(){return a.renderHeader()},renderRow:function(e,t){return a.renderRow(e,t,!0)}})),n.createElement("div",{className:"sub-section"},this.props.ticket.loa&&(this.props.canEditLOAs||!this.props.canEditLOAs&&this.props.ticket.loa.loaNo)?this.renderLOAInputFields(this.props.ticket.loa):null)):null,i.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2",style:{color:"#FD5451"}},"Disapproved Availments"),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:this.getDisapprovedAvailments(e),renderHeader:function(){return a.renderHeader()},renderRow:function(e,t){return a.renderRow(e,t,!1)}})),n.createElement("div",{className:"sub-section"})):null,l.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2",style:{color:"#FD5451"}},"Pending Availments"),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:this.getPendingAvailments(e),renderHeader:function(){return a.renderHeader()},renderRow:function(e,t){return a.renderRow(e,t,!1)}})),n.createElement("div",{className:"sub-section"})):null,s.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2",style:{color:"#FD5451"}},"No Assessment Yet"),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:this.getNoAvailments(e),renderHeader:function(){return a.renderHeader()},renderRow:function(e,t){return a.renderRow(e,t,!1)}}))):null,n.createElement("div",{className:"section"}),this.state.adjudicationmodal,n.createElement(Y,{isOpen:this.state.isErrorModalOpen,header:n.createElement(ct.a,{style:{fontSize:"16px",lineHeight:"17px",fontWeight:"bold",fontFamily:"Usual",marginBottom:"27px"}},this.state.ErrorHeader),content:n.createElement(ct.a,{style:{fontSize:"14px",lineHeight:"13px",fontFamily:"Usual",marginBottom:"27px"}},this.state.ErrorMessage),footer:n.createElement(ke,{text:"Confirm",variant:"contained",color:"primary",onClick:function(){a.setState({isErrorModalOpen:!1})}})}))}},{key:"renderLOAInputFields",value:function(e){var t=this;return n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2"},this.props.canEditLOAs?"ADD LOA":"LOA DETAILS"),n.createElement(_.a,{className:"sub-section",container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:this.props.canEditLOAs?6:2},this.props.canEditLOAs?n.createElement(se.a,{placeholder:"LOA Number*",value:e.loaNo,disableDelimiter:!0,onChange:function(a){e.loaNo=a,t.props.refreshLOAStates()}}):this.renderInfoItem("LOA NUMBER",e.loaNo)),n.createElement(_.a,{item:!0,xs:3},this.props.canEditLOAs?n.createElement(ee.a,{placeholder:"LOA Date",value:e.loaDate,onChange:function(a){e.loaDate=a,t.props.refreshLOAStates()}}):this.renderInfoItem("LOA DATE",S.a.toShortDateString(e.loaDate))),n.createElement(_.a,{item:!0,xs:3},this.props.canEditLOAs?n.createElement($,{placeholder:"Amount",detail:"PHP",value:e.loaAmount,isFloat:!0,onChange:function(a){e.loaAmount=a,t.props.refreshTicketStates()}}):this.renderInfoItem("AMOUNT","PHP ".concat(S.a.formatNumber(e.loaAmount,!0)))),n.createElement(_.a,{item:!0,xs:this.props.canEditLOAs?6:4},this.props.canEditLOAs?n.createElement(z.a,{placeholder:"Notes",value:e.loaNotes,onChange:function(a){e.loaNotes=a,t.props.refreshTicketStates()}}):this.renderInfoItem("NOTES",""===e.loaNotes?"---":e.loaNotes)),this.props.canEditLOAs?null:n.createElement(_.a,{item:!0,xs:6},this.renderInfoItem("APPROVAL CODE",n.createElement("b",null,e.approvalCode)))))}},{key:"renderHeader",value:function(){var e={margin:0,padding:"12px 0 12px 0"};return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2",style:e},"Diagnosis")),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2",style:e},"Doctor")),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"header-2",style:e},"Professional Fee")),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"header-2",style:qs({},e,{textAlign:"right"})},"Total Amt. of Procedures")))}},{key:"renderRow",value:function(e,t,a){var r=this;return console.log("diagnosis",e),n.createElement(n.Fragment,null,n.createElement(_.a,{className:"small-section",container:!0},n.createElement(_.a,{item:!0,xs:4},e.icd10Code.value+" - "+e.icd10Code.label),n.createElement(_.a,{item:!0,xs:4},e.doctors[0].name),n.createElement(_.a,{item:!0,xs:2},"PHP "+S.a.formatNumber("Approved"===e.assessmentType&&e.approvedAmount>0?e.approvedAmount:"Disapproved"===e.assessmentType||"Pending"===e.assessmentType?0:e.doctors[0].fee,!0)),n.createElement(_.a,{item:!0,xs:2,style:{fontWeight:"bold",textAlign:"right"}},"PHP "+S.a.formatNumber(this.getProceduresCost(e),!0))),0===e.procedures.length?n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),this.renderDiagnosisAssessment(e)):n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),e.procedures.map(function(n,i){return r.renderProcedureAssessment(n,i,a,e,t)})))}},{key:"renderDiagnosisAssessment",value:function(e){var t=this,a=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===e.icd10Code.label&&"PsuedoProcedure"===t.procedurename});return n.createElement(_.a,{style:{padding:"0.5rem 1.5rem"},container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:4},this.renderInfoItem("DATE OF AVAILMENT",S.a.toCommonDateString(e.dateAdded)),this.renderInfoItem("SYSTEM ASSESSMENT",n.createElement(n.Fragment,null,a.length>0?"".concat(a[0].status,"*"):"Unavailable",n.createElement(C.a,{onClick:function(){a.length>0?(t.setState({isModalOpen:!0,renderAdjudication:!0}),t.setState({procedure:void 0,diagnosis:e,renderAdjudication:!0,adjudicationSteps:a.length>0?a[0].canCoverCanAvailstep:[],systemassess:a[0].status,diagIndex:0,procIndex:0})):t.setState({isErrorModalOpen:!0,ErrorMessage:"Please contact your administrator for support",ErrorHeader:"Unavailable Assessment"})}},n.createElement(pe.a,{style:{color:"#C3C3C3"},icon:N.u}))))),n.createElement(_.a,{item:!0,xs:4},this.renderInfoItem("REMAINING BALANCE","PHP ".concat(S.a.formatNumber(0,!0),"*")),this.renderInfoItem("CLAUSE","Laboratory tests, x-rays, and other diagnostic examinations prescribed by the INTELLICARE physician*")),n.createElement(_.a,{item:!0,xs:2},this.renderInfoItem("ASSESSMENT",e.assessmentType.length>0?e.assessmentType:"None"),this.renderInfoItem("REMARKS",e.assessmentRemarks?e.assessmentRemarks:"None")))}},{key:"renderProcedureAssessment",value:function(e,t,a,r,i){var l=this,s=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===r.icd10Code.label&&t.procedurename===e.cptCode.label});return n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),n.createElement("div",{className:"section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:2,style:{padding:"0 0.5rem",marginTop:"-3px"}},n.createElement("div",{className:"number-item"},t+1)),n.createElement(_.a,{item:!0,xs:10,className:"header-2"},e.cptCode.value+" - "+e.cptCode.label)))),n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:2}),n.createElement(_.a,{item:!0,xs:10},this.renderInfoItem("AMOUNT","PHP ".concat(S.a.formatNumber("Approved"===e.assessmentType&&e.approvedAmount>0?e.approvedAmount:e.amount,!0))),this.renderInfoItem("PHILHEALTH REQUIRED?",e.isPHIC?"Yes":"No"),this.renderInfoItem("DATE OF AVAILMENT",S.a.toCommonDateString(e.dateAdded))))),n.createElement(_.a,{item:!0,xs:4},this.renderSystemAssessment(e,t,r,i),this.renderInfoItem("REMAINING BALANCE","PHP ".concat(S.a.formatNumber(s.length>0&&s[0]&&s[0].remaining_balance?s[0].remaining_balance:0,!0),"*")),this.renderInfoItem("CLAUSE","Laboratory tests, x-rays, and other diagnostic examinations prescribed by the INTELLICARE physician*")),n.createElement(_.a,{item:!0,xs:2},this.renderInfoItem("ASSESSMENT",e.assessmentType.length>0?e.assessmentType:"None"),this.renderInfoItem("REMARKS",e.assessmentRemarks?e.assessmentRemarks:"None")),n.createElement(_.a,{item:!0,xs:2},a&&"Outpatient Procedure"===this.props.ticket.specificType?this.props.canEditLOAs?!1===this.props.useOneLoa?n.createElement(se.a,{placeholder:"LOA Number",value:e.loaNo,disableDelimiter:!0,onChange:function(t){e.loaNo=t,l.props.refreshLOAStates()}}):null:e.loaNo>0?n.createElement(n.Fragment,null,this.renderInfoItem("LOA NUMBER",e.loaNo),this.renderInfoItem("APPROVAL CODE",e.approvalCode)):null:null))))}},{key:"renderSystemAssessment",value:function(e,t,a,r){var i=this,l=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===a.icd10Code.label&&t.procedurename===e.cptCode.label});return this.renderInfoItem("SYSTEM ASSESSMENT",n.createElement(n.Fragment,null,l.length>0?"".concat(l[0].status,"*"):"Unavailable",n.createElement(C.a,{onClick:function(){l.length>0?(i.setState({isModalOpen:!0,renderAdjudication:!0}),i.setState({procedure:e,diagnosis:a,renderAdjudication:!0,adjudicationSteps:l.length>0?l[0].canCoverCanAvailstep:[],systemassess:l[0].status,diagIndex:r,procIndex:t})):i.setState({isErrorModalOpen:!0,ErrorMessage:"Please contact your administrator for support",ErrorHeader:"Unavailable Assessment"})}},n.createElement(pe.a,{style:{color:"#C3C3C3"},icon:N.u}))))}},{key:"renderInfoItem",value:function(e,t){return n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},e),n.createElement("div",{className:"small-text"},t))}}]),t}(n.Component),Ys=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){console.log("inpatient props",a.props),T.a.get("customer-care/tickets/"+a.props.ticketData.id,function(e){console.log(e),T.a.get("customer-care/members/".concat(e.member_data._id,"/contracts/").concat(a.props.contractId),function(e){console.log("benefits",e),T.a.get("/customer-care/member-utilization-loa/contract/".concat(a.props.contractId,"/member/").concat(e.member.member_id),function(t){var n=[];a.props.confinement.diagnoses.forEach(function(r){if(r.procedures.length>0)r.procedures.forEach(function(i){var l=Object(Ma.cloneDeep)(e.benefits);try{console.log("canAvail_procedure_amount",i.amount),console.log("canAvail_total_amount",a.props.confinement.finalBill);var s=[],o=S.a.canCoverCanAvail(a.props.contractId,r.icd10Code.label,i.cptCode.label,"Outpatient Procedure"===a.props.ticketData.specificType?"Procedures":"Emergency Room"===a.props.ticketData.specificType?"Emergency":"Consultation"===a.props.ticketData.specificType?"Consultations":"",t,e.member,l,a.props.confinement.finalBill,i.amount);o.map(function(e){e.assessments?e.assessments.forEach(function(e){s.push(e.approved)}):e.forEach(function(e){s.push(e.approved)})}),e.member.member_id?s.push(!0):s.push(!1),e.member.first_name&&e.member.registered_name&&e.member.date_of_birth&&e.member.gender?s.push(!0):s.push(!1),"Active"===e.member.member_status?s.push(!0):s.push(!1),console.log("Checker",o,s),n.push({diagnosisname:r.icd10Code.label,procedurename:i.cptCode.label,canCoverCanAvailstep:o,status:-1===s.findIndex(function(e){return!e})?"Approved*":"Disapproved*",remaining_balance:o.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT&&o.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.remaining_balance?o.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.remaining_balance:void 0})}catch(c){console.log("error ApproveConfinementSection canCoverCanAvail",c)}});else try{var i=Object(Ma.cloneDeep)(e.benefits);console.log("diagnosis no procedure",r);var l=S.a.canCoverCanAvail(a.props.contractId,r.icd10Code.label,"PsuedoProcedure","Outpatient Procedure"===a.props.ticketData.specificType?"Procedures":"Emergency Room"===a.props.ticketData.specificType?"Emergency":"Consultation"===a.props.ticketData.specificType?"Consultations":"",t,e.member,i),s=[];l.map(function(e){console.log("item",e),e.forEach(function(e){console.log("item2",e),s.push(e.approved)})}),e.member.member_id?s.push(!0):s.push(!1),e.member.first_name&&e.member.registered_name&&e.member.date_of_birth&&e.member.gender?s.push(!0):s.push(!1),"Active"===e.member.member_status?s.push(!0):s.push(!1),console.log("Checker",r.icd10Code.label,l,s),n.unshift({diagnosisname:r.icd10Code.label,procedurename:"PsuedoProcedure",canCoverCanAvailstep:l,status:-1===s.findIndex(function(e){return!e})?"Approved":"Disapproved"})}catch(o){console.log("error ApproveConfinementSection canCoverCanAvail",o)}}),a.setState({loading:!1,member:e.member,canCoverCanAvailResults:n})},function(e){console.log("utilization error",e),a.setState({loading:!1})})},function(e){console.log(e),a.setState({loading:!1})})},function(e){console.log(e)})},a.getTotalAccommodationCost=function(e){var t=0;return e.isPrimary&&a.props.confinement.accommodations.map(function(e){t+=e.costPerDay*e.days}),t},a.getProceduresCost=function(e){var t=0;return e.procedures.filter(function(e){return"Approved"===e.assessmentType||""===e.assessmentType}).map(function(e){t+=e.approvedAmount>0?e.approvedAmount:e.amount}),t},a.onModalClose=function(){a.setState({isModalOpen:!1,renderAdjudication:!0})},a.onModalOpen=function(){a.setState({isModalOpen:!0,renderAdjudication:!0})},a.getAttendingPhysicianCost=function(e){var t=0;return e.doctors.filter(function(e){return"Attending"===e.type}).map(function(e){t+=e.fee}),t},a.getAdmittingPhysicianCost=function(e){var t=0;return e.doctors.filter(function(e){return"Admitting"===e.type}).map(function(e){t+=e.fee}),t},a.handleErrorModalClose=function(){a.setState({isErrorModalOpen:!1})},a.getAvailmentCost=function(e){if("Approved"===e.assessmentType||""===e.assessmentType){var t=a.getTotalAccommodationCost(e),n=a.getAttendingPhysicianCost(e),r=a.getAdmittingPhysicianCost(e),i=e.approvedAmount>0?e.approvedAmount:r>0?r:n;return 0+a.getProceduresCost(e)+(r>0?i+n:i)+t}return 0},a.getAllAvailmentsCost=function(){var e=0;return a.props.confinement.diagnoses.filter(function(e){return"Approved"===e.assessmentType||""===e.assessmentType}).map(function(t){e+=a.getAvailmentCost(t)}),e},a.getAllProceduresCount=function(){var e=0;return a.props.confinement.diagnoses.map(function(t){e+=t.procedures.length}),e},a.onChangeProcedure=function(e,t,n){var r=a.props.confinement;r.diagnoses[e].procedures[t].tree_id=n,a.props.updateConfinement(r)},a.state={selectedTab:0,adjudicationFacilities:{facility_is_affiliated:!0,doctor_is_affiliated:!0,procedure_is_valid:!0},procedure:{cptCode:{value:"",label:""},isPHIC:!1,amount:0,notes:"",loaNo:0,doctor:"",dateAdded:new Date,assessmentType:"Approved",assessmentRemarks:"",approvedAmount:0},diagnosis:{icd10Code:{value:"",label:""},loaNo:0,remarks:"",isPrimary:!1,isFinal:!1,doctors:[],procedures:[],dateAdded:new Date,assessmentType:"Approved",assessmentRemarks:"",approvedAmount:0},renderAdjudication:!1,adjudicationmodal:n.createElement("div",null),contractId:"",isModalOpen:!1,adjudicationSteps:[],procedurenum:0,utilization:{},benefits:[],member:{},loading:!0,canCoverCanAvailResults:[],isErrorModalOpen:!1,ErrorMessage:"",ErrorHeader:"",systemassess:"",procIndex:0,diagIndex:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.confinement;return this.state.renderAdjudication&&this.setState({adjudicationmodal:n.createElement(Us,{memberData:this.state.member,contractId:this.props.contractId,adjudicationSteps:this.state.adjudicationSteps,systemassess:this.state.systemassess,procedure:this.state.procedure,diagnosis:this.state.diagnosis,clientName:this.props.clientName,confinement:this.props.confinement,ticketData:this.props.ticketData,isModalOpen:this.state.isModalOpen,adjudicationFacilities:this.state.adjudicationFacilities,onClose:this.onModalClose,changeTreeId:function(t){e.onChangeProcedure(e.state.diagIndex,e.state.procIndex,t.target.value)}}),renderAdjudication:!1}),n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Approve or Disapprove Inpatient"),n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"PROVIDER"),n.createElement("div",{className:"small-text"},"".concat(t.provider.value," - ").concat(t.provider.label))),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"KIND OF CONFINEMENT"),n.createElement("div",{className:"small-text"},t.confinementKind))),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"DATE ADMITTED"),n.createElement("div",{className:"small-text"},S.a.toDateAndTime(t.dateAdmitted))),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"PHILHEALTH"),n.createElement("div",{className:"small-text"},t.coverage.label))),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"LINKED TICKETS"),n.createElement("div",{className:"small-text"},"---*")),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"GIFT GIVEN"),n.createElement("div",{className:"small-text"},t.giftGiven?"Yes":"No")))),this.renderTabs(),0===this.state.selectedTab?this.renderSummarySection(t):this.renderDiagnosisSection(t.diagnoses.filter(function(t){return t.icd10Code.value===e.state.selectedTab})[0],t.diagnoses.findIndex(function(t){return t.icd10Code.value===e.state.selectedTab})),n.createElement("div",{className:"section"}),this.state.adjudicationmodal,n.createElement(Y,{isOpen:this.state.isErrorModalOpen,header:n.createElement(ct.a,{style:{fontSize:"16px",lineHeight:"17px",fontWeight:"bold",fontFamily:"Usual",marginBottom:"27px"}},this.state.ErrorHeader),content:n.createElement(ct.a,{style:{fontSize:"14px",lineHeight:"13px",fontFamily:"Usual",marginBottom:"27px"}},this.state.ErrorMessage),footer:n.createElement(Ie.a,{variant:"contained",color:"primary",onClick:this.handleErrorModalClose},"Confirm")}))}},{key:"renderTabs",value:function(){var e=this;return n.createElement("div",{className:"sub-section"},n.createElement(we.a,{className:"custom-tabs",value:this.state.selectedTab,variant:"scrollable",scrollButtons:"auto",indicatorColor:"primary",onChange:function(t,a){e.setState({selectedTab:a})}},n.createElement(Pe.a,{value:0,label:n.createElement("div",null,n.createElement("div",{className:"header-2"},"SUMMARY OF DIAGNOSIS"),n.createElement("div",{className:"smaller-text"},"".concat(S.a.formatNumber(this.getAllAvailmentsCost(),!0)," PHP \n                                        (").concat(this.getAllProceduresCount()," Procedures)")))}),this.props.confinement.diagnoses.filter(function(e){return e.isPrimary}).map(function(t){var a=e.getAvailmentCost(t),r=t.procedures.length;return n.createElement(Pe.a,{value:t.icd10Code.value,label:n.createElement("div",null,n.createElement("div",{className:"header-2"},"PRIMARY DIAGNOSIS"),n.createElement("div",{className:"smaller-text"},"".concat(S.a.formatNumber(a,!0)," PHP \n                                                    (").concat(r," Procedure").concat(r>1?"s":"",")")))})}),this.props.confinement.diagnoses.filter(function(e){return!e.isPrimary}).map(function(t,a){var r=e.getAvailmentCost(t),i=t.procedures.length;return n.createElement(Pe.a,{value:t.icd10Code.value,label:n.createElement("div",null,n.createElement("div",{className:"header-2"},"DIAGNOSIS ".concat(a+1)),n.createElement("div",{className:"smaller-text"},"".concat(S.a.formatNumber(r,!0)," PHP \n                                                (").concat(i," Procedure").concat(i>1?"s":"",")")))})})),n.createElement("div",{style:{borderBottom:"2px solid #1E2071"}}))}},{key:"renderSummarySection",value:function(e){var t=this,a=e.diagnoses.find(function(e){return e.isPrimary});return n.createElement("div",null,a?this.renderDiagnosisInfo(a,0):null,e.diagnoses.filter(function(e){return!e.isPrimary}).map(function(e,n){return t.renderDiagnosisInfo(e,n+(a?1:0))}))}},{key:"renderDiagnosisInfo",value:function(e,t){var a=this,r=this.getProceduresCost(e),i=this.getTotalAccommodationCost(e),l=this.getAttendingPhysicianCost(e),s=this.getAdmittingPhysicianCost(e),o=e.approvedAmount>0?e.approvedAmount:i+l+s;return n.createElement(_.a,{container:!0,className:"sub-section"},n.createElement("div",{style:{width:"2rem"}},n.createElement("div",{className:"number-item"},t+1)),n.createElement("div",{style:{width:"calc(100% - 2rem)"}},n.createElement("div",{style:{marginBottom:"1rem"}},n.createElement("div",{className:"text"},"".concat(e.icd10Code.value," \u2014 ").concat(e.icd10Code.label),e.isPrimary?n.createElement("span",{className:"header-2"}," (PRIMARY)"):null),e.doctors.filter(function(e){return"Admitting"===e.type}).map(function(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"small-text"},e.name),n.createElement("div",{className:"small-text"},"PHP ".concat(S.a.formatNumber(e.fee,!0))))}),n.createElement("div",{className:"small-text"},"Remarks: ".concat(e.remarks?e.remarks:"None")),n.createElement("div",{className:"small-text"},"PHIC: No*"),n.createElement("div",{className:"header-2"},"TOTAL AMOUNT: ".concat(S.a.formatNumber("Approved"===e.assessmentType||""===e.assessmentType?r+o:0,!0)," PHP")),n.createElement(O.a,{label:"Approve/Disapprove Diagnosis",onClick:function(){window.scroll(0,-window.pageYOffset),a.setState({selectedTab:e.icd10Code.value})}})),this.renderTableSection("PROCEDURES",n.createElement(L.a,{className:"custom-table",rows:e.procedures,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,{style:{width:"150px"}},"Procedure"),n.createElement(j.a,{style:{textAlign:"right",width:"150px"}},"Amount"),n.createElement(j.a,{style:{width:"150px"}},"Date"),n.createElement(j.a,null,"Clause"),n.createElement(j.a,{style:{textAlign:"right",width:"150px"}},"Remaining Bal."))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,"".concat(e.cptCode.value," \u2014 ").concat(e.cptCode.label)),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.amount,!0)," PHP")),n.createElement(j.a,null,S.a.toShortDateString(e.dateAdded)),n.createElement(j.a,null,"This is the clause*"),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(9999,!0)," PHP*")))}}),r),e.isPrimary?this.renderTableSection("ROOM ACCOMMODATIONS",n.createElement(L.a,{className:"custom-table",rows:this.props.confinement.accommodations,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Room Type"),n.createElement(j.a,{style:{textAlign:"center",width:"150px"}},"Room no."),n.createElement(j.a,{style:{textAlign:"center",width:"150px"}},"No. of days"),n.createElement(j.a,{style:{textAlign:"right",width:"200px"}},"Cost per day"),n.createElement(j.a,{style:{textAlign:"center",width:"200px"}},"HIMS Assessment"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.roomType),n.createElement(j.a,{style:{textAlign:"center"}},e.roomType),n.createElement(j.a,{style:{textAlign:"center"}},e.days),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.costPerDay,!0)," PHP")),n.createElement(j.a,{style:{textAlign:"center"}},"Approve*"))}}),i):null,this.renderTableSection("ATTENDING PHYSICIANS",n.createElement(L.a,{className:"custom-table",rows:e.doctors.filter(function(e){return"Attending"===e.type}),renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Name of Doctor"),n.createElement(j.a,{style:{width:"200px"}},"Specialization"),n.createElement(j.a,{style:{textAlign:"right",width:"125px"}},"No. of Visits"),n.createElement(j.a,{style:{textAlign:"right",width:"200px"}},"Amount"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.name),n.createElement(j.a,null,e.specialization),n.createElement(j.a,{style:{textAlign:"right"}},e.noOfVisits),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.fee,!0)," PHP")))}}),l)))}},{key:"renderTableSection",value:function(e,t,a){return n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},e),t,a?n.createElement("div",{className:"sub-section"},n.createElement("div",{style:{float:"right"}},n.createElement("span",{className:"small-text"},"TOTAL AMOUNT"),n.createElement("span",{style:{marginLeft:"1rem"}}),n.createElement("span",{className:"header-2"},S.a.formatNumber(a,!0)+" PHP"))):null)}},{key:"renderDiagnosisSection",value:function(e,t){var a=this,r=this.getProceduresCost(e),i=this.getTotalAccommodationCost(e),l=this.getAttendingPhysicianCost(e),s=this.getAdmittingPhysicianCost(e),o=e.approvedAmount>0?e.approvedAmount:s>0?s:l,c=[];return 0===e.procedures.length&&(c=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===e.icd10Code.label&&"PsuedoProcedure"===t.procedurename})),n.createElement("div",{className:"sub-section",style:{marginLeft:"1rem"}},n.createElement(_.a,{container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"text"},"".concat(e.icd10Code.value," \u2014 ").concat(e.icd10Code.label),e.isPrimary?n.createElement("span",{className:"header-2"}," (PRIMARY)"):null),e.doctors.filter(function(e){return"Admitting"===e.type}).map(function(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"small-text"},e.name),n.createElement("div",{className:"small-text"},"PHP ".concat(S.a.formatNumber(e.fee,!0))))}),n.createElement("div",{className:"small-text"},"Remarks: ".concat(e.remarks?e.remarks:"None")),n.createElement("div",{className:"small-text"},"PHIC: No*"),n.createElement("div",{className:"header-2"},"TOTAL AMOUNT: ".concat(S.a.formatNumber("Approved"===e.assessmentType||""===e.assessmentType?r+(s>0?o+l:o)+i:0,!0)," PHP")),0===e.procedures.length?n.createElement(n.Fragment,null,n.createElement("div",{className:"light-text",style:{marginTop:"15px"}},"SYSTEM ASSESSMENT"),n.createElement("div",{className:"small-text"},c.length>0?"".concat(c[0].status,"*"):"Unavailable",n.createElement(C.a,{onClick:function(){c.length>0?(a.setState({isModalOpen:!0,renderAdjudication:!0}),a.setState({procedure:void 0,diagnosis:e,renderAdjudication:!0,adjudicationSteps:c.length>0?c[0].canCoverCanAvailstep:[],systemassess:c[0].status,diagIndex:0,procIndex:0})):a.setState({isErrorModalOpen:!0,ErrorMessage:"Please contact your administrator for support",ErrorHeader:"Unavailable Assessment"})}},n.createElement(pe.a,{style:{color:"#C3C3C3"},icon:N.u})))):null),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"light-text"},"Choose Assessment"),n.createElement(Ve,{label:"Approve",checkedCondition:"Approved"===e.assessmentType,onChange:function(){e.assessmentType="Approved",e.procedures.forEach(function(e){"Disapproved"===e.assessmentType&&(e.assessmentType="")}),a.props.refreshConfinementState()}}),"Approved"===e.assessmentType?n.createElement(se.a,{value:e.approvedAmount,placeholder:"Partial (optional)",isFloat:!0,onChange:function(t){e.approvedAmount=t,a.props.refreshConfinementState()}}):null,n.createElement(Ve,{label:"Disapprove",checkedCondition:"Disapproved"===e.assessmentType,onChange:function(){e.assessmentType="Disapproved",e.procedures.forEach(function(e){e.assessmentType="Disapproved"}),a.props.refreshConfinementState()}})),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"light-text"},"Remarks"),n.createElement(ge,{value:e.assessmentRemarks,defaultRows:5,onChange:function(t){e.assessmentRemarks=t,a.props.refreshConfinementState()}}))),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:e.procedures,renderHeader:function(){return a.renderHeader()},renderRow:function(n,r){return a.renderRow(n,r,e,t)}})),e.isPrimary?this.renderTableSection("ROOM ACCOMMODATIONS",n.createElement(L.a,{className:"custom-table",rows:this.props.confinement.accommodations,renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Room Type"),n.createElement(j.a,{style:{textAlign:"center",width:"150px"}},"Room no."),n.createElement(j.a,{style:{textAlign:"center",width:"150px"}},"No. of days"),n.createElement(j.a,{style:{textAlign:"right",width:"200px"}},"Cost per day"),n.createElement(j.a,{style:{textAlign:"center",width:"200px"}},"HIMS Assessment"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.roomType),n.createElement(j.a,{style:{textAlign:"center"}},e.roomType),n.createElement(j.a,{style:{textAlign:"center"}},e.days),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.costPerDay,!0)," PHP")),n.createElement(j.a,{style:{textAlign:"center"}},"Approve*"))}}),i):null,this.renderTableSection("ATTENDING PHYSICIANS",n.createElement(L.a,{className:"custom-table",rows:e.doctors.filter(function(e){return"Attending"===e.type}),renderHeader:function(){return n.createElement(n.Fragment,null,n.createElement(j.a,null,"Name of Doctor"),n.createElement(j.a,{style:{width:"200px"}},"Specialization"),n.createElement(j.a,{style:{textAlign:"right",width:"125px"}},"No. of Visits"),n.createElement(j.a,{style:{textAlign:"right",width:"200px"}},"Amount"))},renderRow:function(e,t){var a=t%2===0?"#FFFFFF":"#F6F7FA";return n.createElement(F.a,{style:{backgroundColor:a}},n.createElement(j.a,null,e.name),n.createElement(j.a,null,e.specialization),n.createElement(j.a,{style:{textAlign:"right"}},e.noOfVisits),n.createElement(j.a,{style:{textAlign:"right"}},"".concat(S.a.formatNumber(e.fee,!0)," PHP")))}}),l),n.createElement("div",{className:"section"}))}},{key:"renderHeader",value:function(){var e={margin:0,padding:"12px 0 12px 0"};return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2",style:e},"Procedure Details")),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2",style:e},"System Details")),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2",style:e},"Assessment")))}},{key:"renderRow",value:function(e,t,a,r){var i=this,l=[];return l=e?this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===a.icd10Code.label&&t.procedurename===e.cptCode.label}):this.state.canCoverCanAvailResults.filter(function(e){return"PsuedoProcedure"===e.procedurename}),n.createElement("div",{className:"section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",null,n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:2,style:{padding:"0 0.5rem",marginTop:"-3px"}},n.createElement("div",{className:"number-item"},t+1)),n.createElement(_.a,{item:!0,xs:10,className:"header-2"},e.cptCode.value+" - "+e.cptCode.label))))),n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",null,n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:2}),n.createElement(_.a,{item:!0,xs:10},n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"AMOUNT"),n.createElement("div",{className:"small-text"},"PHP "+S.a.formatNumber(e.amount,!0))),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"PHILHEALTH REQUIRED?"),n.createElement("div",{className:"small-text"},e.isPHIC?"Yes":"No")),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"DATE OF AVAILMENT"),n.createElement("div",{className:"small-text"},S.a.toCommonDateString(e.dateAdded))))))),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"SYSTEM ASSESSMENT"),n.createElement("div",{className:"small-text"},l.length>0?"".concat(l[0].status,"*"):"Unavailable",n.createElement(C.a,{onClick:function(){l.length>0?(i.onModalOpen(),i.setState({procedure:e,diagnosis:a,renderAdjudication:!0,adjudicationSteps:l.length>0?l[0].canCoverCanAvailstep:[],systemassess:l[0].status,diagIndex:r,procIndex:t})):i.setState({isErrorModalOpen:!0,ErrorMessage:"Please contact your administrator for support",ErrorHeader:"Unavailable Assessment"})}},n.createElement(pe.a,{style:{color:"#C3C3C3"},icon:N.u})))),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"REMAINING BALANCE"),n.createElement("div",{className:"small-text"},"PHP "+(l.length>0&&l[0]&&l[0].remaining_balance?l[0].remaining_balance:0)+".00 *")),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"CLAUSE"),n.createElement("div",{className:"small-text"},"Laboratory tests, x-rays, and other diagnostic examinations prescribed by the INTELLICARE physician*"))),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"Choose Assessment"),n.createElement(Ve,{label:"Approve",checkedCondition:"Approved"===e.assessmentType,onChange:function(){e.assessmentType="Approved",i.props.refreshConfinementState()}}),"Approved"===e.assessmentType?n.createElement(se.a,{value:e.approvedAmount,placeholder:"Partial (optional)",isFloat:!0,onChange:function(t){e.approvedAmount=t,i.props.refreshConfinementState()}}):null,n.createElement(Ve,{label:"Disapprove",checkedCondition:"Disapproved"===e.assessmentType,onChange:function(){e.assessmentType="Disapproved",i.props.refreshConfinementState()}}))),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"Remarks"),n.createElement(ge,{value:e.assessmentRemarks,defaultRows:5,onChange:function(t){e.assessmentRemarks=t,i.props.refreshConfinementState()}})))))}}]),t}(n.Component),zs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={selectedTab:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.consultation;return n.createElement(_.a,{container:!0,className:"section"},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1"},"Resolve Consultation"),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"PROVIDER"),n.createElement("div",{className:"small-text"},"".concat(t.provider.value," - ").concat(t.provider.label))),t&&t.diagnosis&&t.diagnosis.value&&" - "!==t.diagnosis.value?n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"DIAGNOSIS"),n.createElement("div",{className:"small-text"},"".concat(t.diagnosis.value," - ").concat(t.diagnosis.label))):null,n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"DOCTOR"),n.createElement("div",{className:"small-text"},t.doctor.label)),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"NOTES"),n.createElement("div",{className:"small-text"},t.notes?t.notes:"None")),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"header-2"},"ASSESSMENT"),n.createElement(Ve,{label:"Approve",checkedCondition:"Approved"===t.assessmentType,onChange:function(){t.assessmentType="Approved",e.props.refreshConsultationState()}}),n.createElement(Ve,{label:"Disapprove",checkedCondition:"Disapproved"===t.assessmentType,onChange:function(){t.assessmentType="Disapproved",e.props.refreshConsultationState()}}),n.createElement(Ve,{label:"Pending",checkedCondition:"Pending"===t.assessmentType,onChange:function(){t.assessmentType="Pending",e.props.refreshConsultationState()}}),n.createElement(ge,{placeholder:"Reason",value:t.assessmentRemarks,defaultRows:1,onChange:function(a){t.assessmentRemarks=a,e.props.refreshConsultationState()}})),n.createElement("div",{className:"section"})))}}]),t}(n.Component);function Ks(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Xs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ks(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ks(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Js=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){console.log("props summary confinement",a.props),Ae.a.get("cases/".concat(a.props.ticket.pmCaseId),function(e){a.setState({hideLoa:"Inpatient - Approver Summarize Assessment"===e.current_task[0].tas_title||"Inpatient - Approver Proceed with Final Assessment"===e.current_task[0].tas_title})},function(e){console.log(e)}),T.a.get("customer-care/tickets/"+a.props.ticket.id,function(e){console.log(e),T.a.get("customer-care/members/".concat(e.member_data._id,"/contracts/").concat(a.props.contractId),function(e){console.log("benefits",e),T.a.get("/customer-care/member-utilization-loa/contract/".concat(a.props.contractId,"/member/").concat(e.member.member_id),function(t){var n=[];a.props.confinement.diagnoses.forEach(function(r){if(r.procedures.length>0)r.procedures.forEach(function(i){var l=Object(Ma.cloneDeep)(e.benefits);try{console.log("canAvail_procedure_amount",i.amount),console.log("canAvail_total_amount",a.props.confinement.finalBill);var s=S.a.canCoverCanAvail(a.props.contractId,r.icd10Code.label,i.cptCode.label,"Outpatient Procedure"===a.props.ticket.specificType?"Procedures":"Emergency Room"===a.props.ticket.specificType?"Emergency":"Consultation"===a.props.ticket.specificType?"Consultations":"",t,e.member,l,a.props.confinement.finalBill,i.amount),o=[];s.map(function(e){e.assessments?e.assessments.forEach(function(e){o.push(e.approved)}):e.forEach(function(e){o.push(e.approved)})}),e.member.member_id?o.push(!0):o.push(!1),e.member.first_name&&e.member.registered_name&&e.member.date_of_birth&&e.member.gender?o.push(!0):o.push(!1),"Active"===e.member.member_status?o.push(!0):o.push(!1),console.log("Checker",s,o),n.unshift({diagnosisname:r.icd10Code.label,procedurename:i.cptCode.label,canCoverCanAvailstep:s,status:-1===o.findIndex(function(e){return!e})?"Approved":"Disapproved",remaining_balance:s.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT&&s.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.remaining_balance?s.MEMBER_LIMIT_VALIDATION_PROCEDURE_LIMIT.remaining_balance:void 0})}catch(c){console.log("error SummaryConfinementSection canCoverCanAvail",c)}});else try{var i=Object(Ma.cloneDeep)(e.benefits);console.log("diagnosis no procedure",r);var l=S.a.canCoverCanAvail(a.props.contractId,r.icd10Code.label,"PsuedoProcedure","Outpatient Procedure"===a.props.ticket.specificType?"Procedures":"Emergency Room"===a.props.ticket.specificType?"Emergency":"Consultation"===a.props.ticket.specificType?"Consultations":"",t,e.member,i),s=[];l.map(function(e){console.log("item",e),e.forEach(function(e){console.log("item2",e),s.push(e.approved)})}),e.member.member_id?s.push(!0):s.push(!1),e.member.first_name&&e.member.registered_name&&e.member.date_of_birth&&e.member.gender?s.push(!0):s.push(!1),"Active"===e.member.member_status?s.push(!0):s.push(!1),console.log("Checker",r.icd10Code.label,l,s),n.unshift({diagnosisname:r.icd10Code.label,procedurename:"PsuedoProcedure",canCoverCanAvailstep:l,status:-1===s.findIndex(function(e){return!e})?"Approved":"Disapproved"})}catch(o){console.log("error SummaryConfinementSection canCoverCanAvail",o)}}),a.setState({loading:!1,member:e.member,canCoverCanAvailResults:n})},function(e){console.log("utilization error",e),a.setState({loading:!1})})},function(e){console.log(e),a.setState({loading:!1})})},function(e){console.log(e)})},a.getProceduresCost=function(e){var t=0;return e.procedures.filter(function(e){return"Approved"===e.assessmentType}).map(function(e){t+=e.approvedAmount>0?e.approvedAmount:e.amount}),t},a.getApprovedAvailments=function(e){return e.diagnoses.map(function(e){return Xs({},e,{procedures:e.procedures.filter(function(e){return"Approved"===e.assessmentType}).map(function(e){return e})})}).filter(function(e){return e.procedures.length>0||"Approved"===e.assessmentType})},a.getDisapprovedAvailments=function(e){return e.diagnoses.map(function(e){return Xs({},e,{procedures:e.procedures.filter(function(e){return"Disapproved"===e.assessmentType}).map(function(e){return e})})}).filter(function(e){return e.procedures.length>0||"Disapproved"===e.assessmentType})},a.getApprovedAvailmentsCost=function(e){var t=0;return e.diagnoses.map(function(e){e.procedures.map(function(e){t+="Approved"===e.assessmentType?e.amount:0})}),t},a.getPendingAvailments=function(e){return e.diagnoses.map(function(e){return Xs({},e,{procedures:e.procedures.filter(function(e){return"Pending"===e.assessmentType}).map(function(e){return e})})}).filter(function(e){return e.procedures.length>0||"Pending"===e.assessmentType})},a.getNoAvailments=function(e){return e.diagnoses.map(function(e){return Xs({},e,{procedures:e.procedures.filter(function(e){return""===e.assessmentType}).map(function(e){return e})})}).filter(function(e){return e.procedures.length>0||""===e.assessmentType})},a.onChangeProcedure=function(e,t,n){var r=a.props.confinement;r.diagnoses[e].procedures[t].tree_id=n,a.props.updateConfinement(r)},a.state={adjudicationFacilities:{facility_is_affiliated:!0,doctor_is_affiliated:!0,procedure_is_valid:!0},hideLoa:!1,isModalOpen:!1,loaNumber:0,procedure:{cptCode:{value:"",label:""},isPHIC:!1,amount:0,notes:"",loaNo:0,doctor:"",dateAdded:new Date,assessmentType:"Approved",assessmentRemarks:"",approvedAmount:0},diagnosis:{icd10Code:{value:"",label:""},loaNo:0,remarks:"",isPrimary:!1,isFinal:!1,doctors:[],procedures:[],dateAdded:new Date,assessmentType:"Approved",assessmentRemarks:"",approvedAmount:0},renderAdjudication:!1,adjudicationmodal:n.createElement("div",null),adjudicationSteps:[],procedurenum:0,utilization:{},benefits:[],member:{},loading:!0,canCoverCanAvailResults:[],isErrorModalOpen:!1,ErrorMessage:"",ErrorHeader:"",systemassess:"",procIndex:0,diagIndex:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.renderAdjudication&&this.setState({adjudicationmodal:n.createElement(Us,{memberData:this.state.member,contractId:this.props.contractId,adjudicationSteps:this.state.adjudicationSteps,systemassess:this.state.systemassess,procedure:this.state.procedure,adjudicationFacilities:this.state.adjudicationFacilities,diagnosis:this.state.diagnosis,clientName:this.props.clientName,ticketData:this.props.ticket,isModalOpen:this.state.isModalOpen,onClose:function(){e.setState({isModalOpen:!1,renderAdjudication:!0})},changeTreeId:function(t){e.onChangeProcedure(e.state.diagIndex,e.state.procIndex,t.target.value)}}),renderAdjudication:!1}),this.state.loading?n.createElement(I.a,{height:"10rem"}):this.renderAvailment(this.props.confinement,this.props.ticket)}},{key:"renderAvailment",value:function(e,t){var a=this,r=this.getApprovedAvailments(e),i=this.getDisapprovedAvailments(e),l=this.getPendingAvailments(e),s=this.getNoAvailments(e);return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1",style:{display:"inline-block"}},"Summary of Approved Diagnosis and Procedures"),this.props.onBack?n.createElement("div",{style:{float:"right"}},n.createElement(ke,{className:"button",text:"Edit Summary",onClick:this.props.onBack})):null,n.createElement("div",{className:"sub-section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2"},"INFORMATION"),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"PROVIDER"),n.createElement("div",{className:"small-text"},this.props.confinement.provider.value+" - "+this.props.confinement.provider.label)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"KIND OF CONFINEMENT"),n.createElement("div",{className:"small-text"},this.props.confinement.confinementKind)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DATE ADMITTED"),n.createElement("div",{className:"small-text"},S.a.toDateAndTime(this.props.confinement.dateAdmitted))),t.approverName?n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"APPROVER NAME"),n.createElement("div",{className:"small-text"},t.approverName)):null),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2"},"DISCHARGE DETAILS"),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"FINAL HOSPITAL BILL AMOUNT"),n.createElement("div",{className:"small-text"},S.a.formatNumber(this.props.confinement.finalBill,!0)+" PHP")),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"GIFT GIVEN"),n.createElement("div",{className:"small-text"},this.props.confinement.giftGiven?"Yes":"No")),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DISCHARGE DATE"),n.createElement("div",{className:"small-text"},this.props.confinement.dischargeDate?S.a.toCommonDateString(this.props.confinement.dischargeDate):"---"))),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2"},"PHILHEALTH"),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"PHILHEALTH COVERAGE"),n.createElement("div",{className:"small-text"},this.props.confinement.coverage.label)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"TICKET NUMBER"),n.createElement("div",{className:"small-text"},this.props.ticketNo)),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"PHILHEALTH AMOUNT"),n.createElement("div",{className:"small-text"},S.a.formatNumber(this.props.confinement.philhealthAmount,!0)+" PHP"))))),r.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:this.getApprovedAvailments(e),renderHeader:function(){return a.renderHeader()},renderRow:function(e,t){return a.renderRow(e,t)}})),n.createElement("div",{className:"sub-section"},this.props.ticket.loa&&!this.state.hideLoa?this.renderLOAInputFields(this.props.ticket.loa):null)):null,i.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-1",style:{color:"#FD5451"}},"Disapproved Availments"),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:this.getDisapprovedAvailments(e),renderHeader:function(){return a.renderHeader()},renderRow:function(e,t){return a.renderRow(e,t)}})),n.createElement("div",{className:"section"})):null,l.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-1",style:{color:"#FD5451"}},"Pending Availments"),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:this.getPendingAvailments(e),renderHeader:function(){return a.renderHeader()},renderRow:function(e,t){return a.renderRow(e,t)}})),n.createElement("div",{className:"sub-section"})):null,s.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"header-1",style:{color:"#FD5451"}},"No Assessment Yet"),n.createElement("div",{className:"sub-section"},n.createElement(Fs,{data:this.getNoAvailments(e),renderHeader:function(){return a.renderHeader()},renderRow:function(e,t){return a.renderRow(e,t)}}))):null,n.createElement("div",{className:"section"}),this.state.adjudicationmodal,n.createElement(Y,{isOpen:this.state.isErrorModalOpen,header:n.createElement(ct.a,{style:{fontSize:"16px",lineHeight:"17px",fontWeight:"bold",fontFamily:"Usual",marginBottom:"27px"}},this.state.ErrorHeader),content:n.createElement(ct.a,{style:{fontSize:"14px",lineHeight:"13px",fontFamily:"Usual",marginBottom:"27px"}},this.state.ErrorMessage),footer:n.createElement(ke,{text:"Confirm",variant:"contained",color:"primary",onClick:function(){a.setState({isErrorModalOpen:!1})}})}))}},{key:"renderLOAInputFields",value:function(e){var t=this;return n.createElement(n.Fragment,null,n.createElement("div",{className:"header-2"},this.props.canEditLOAs?"ADD LOA":"LOA DETAILS"),n.createElement(_.a,{className:"sub-section",container:!0,spacing:2},n.createElement(_.a,{item:!0,xs:this.props.canEditLOAs?6:2},this.props.canEditLOAs?n.createElement(se.a,{placeholder:"LOA Number*",value:e.loaNo,disableDelimiter:!0,onChange:function(a){e.loaNo=a,t.props.refreshLOAStates()}}):this.renderInfoItem("LOA NUMBER",e.loaNo)),n.createElement(_.a,{item:!0,xs:3},this.props.canEditLOAs?n.createElement(ee.a,{placeholder:"LOA Date",value:e.loaDate,onChange:function(a){e.loaDate=a,t.props.refreshLOAStates()}}):this.renderInfoItem("LOA DATE",S.a.toShortDateString(e.loaDate))),n.createElement(_.a,{item:!0,xs:3},this.props.canEditLOAs?n.createElement($,{placeholder:"Amount*",detail:"PHP",value:e.loaAmount,isFloat:!0,onChange:function(a){e.loaAmount=a,t.props.refreshTicketStates()}}):this.renderInfoItem("AMOUNT","PHP ".concat(S.a.formatNumber(e.loaAmount,!0)))),n.createElement(_.a,{item:!0,xs:this.props.canEditLOAs?6:4},this.props.canEditLOAs?n.createElement(z.a,{placeholder:"Notes",value:e.loaNotes,onChange:function(a){e.loaNotes=a,t.props.refreshTicketStates()}}):this.renderInfoItem("NOTES",""===e.loaNotes?"---":e.loaNotes)),this.props.canEditLOAs?null:n.createElement(_.a,{item:!0,xs:6},this.renderInfoItem("APPROVAL CODE",n.createElement("b",null,e.approvalCode)))))}},{key:"renderHeader",value:function(){var e={margin:0,padding:"12px 0 12px 0"};return n.createElement(n.Fragment,null,n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2",style:e},"Diagnosis")),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"header-2",style:e},"Doctor")),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"header-2",style:e},"Professional Fee")),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"header-2",style:Xs({},e,{textAlign:"right"})},"Total Amt. of Procedures")))}},{key:"renderRow",value:function(e,t){var a=this;return n.createElement(n.Fragment,null,n.createElement(_.a,{className:"small-section",container:!0},n.createElement(_.a,{item:!0,xs:4},e.icd10Code.value+" - "+e.icd10Code.label),n.createElement(_.a,{item:!0,xs:4},e.doctors[0].name),n.createElement(_.a,{item:!0,xs:2},"PHP "+S.a.formatNumber("Approved"===e.assessmentType&&e.approvedAmount>0?e.approvedAmount:e.doctors[0].fee,!0)),n.createElement(_.a,{item:!0,xs:2,style:{fontWeight:"bold",textAlign:"right"}},"PHP "+S.a.formatNumber(this.getProceduresCost(e),!0))),0===e.procedures.length?n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),this.renderDiagnosisAssessment(e)):n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),e.procedures.map(function(n,r){return a.renderProcedureAssessment(n,r,e,t)})))}},{key:"renderDiagnosisAssessment",value:function(e){var t=this,a=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===e.icd10Code.label&&"PsuedoProcedure"===t.procedurename});return n.createElement(_.a,{style:{padding:"0.5rem 1.5rem"},container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:4},this.renderInfoItem("DATE OF AVAILMENT",S.a.toCommonDateString(this.props.ticket.dateCreated)),this.renderInfoItem("SYSTEM ASSESSMENT",n.createElement(n.Fragment,null,a.length>0?"".concat(a[0].status,"*"):"Unavailable",n.createElement(C.a,{onClick:function(){a.length>0?(t.setState({isModalOpen:!0,renderAdjudication:!0}),t.setState({procedure:void 0,diagnosis:e,renderAdjudication:!0,adjudicationSteps:a.length>0?a[0].canCoverCanAvailstep:[],systemassess:a[0].status,diagIndex:0,procIndex:0})):t.setState({isErrorModalOpen:!0,ErrorMessage:"Please contact your administrator for support",ErrorHeader:"Unavailable Assessment"})}},n.createElement(pe.a,{style:{color:"#C3C3C3"},icon:N.u}))))),n.createElement(_.a,{item:!0,xs:4},this.renderInfoItem("REMAINING BALANCE","PHP ".concat(S.a.formatNumber(0,!0),"*")),this.renderInfoItem("CLAUSE","Laboratory tests, x-rays, and other diagnostic examinations prescribed by the INTELLICARE physician*")),n.createElement(_.a,{item:!0,xs:2},this.renderInfoItem("ASSESSMENT",e.assessmentType?e.assessmentType:"None"),this.renderInfoItem("REMARKS",e.assessmentRemarks?e.assessmentRemarks:"None")))}},{key:"renderProcedureAssessment",value:function(e,t,a,r){var i=this,l=this.state.canCoverCanAvailResults.filter(function(t){return t.diagnosisname===a.icd10Code.label&&t.procedurename===e.cptCode.label});return n.createElement(n.Fragment,null,n.createElement("div",{className:"line-border"}),n.createElement("div",{className:"section"},n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",null,n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:2,style:{padding:"0 0.5rem",marginTop:"-3px"}},n.createElement("div",{className:"number-item"},t+1)),n.createElement(_.a,{item:!0,xs:10,className:"header-2"},e.cptCode.value+" - "+e.cptCode.label))))),n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:4},n.createElement("div",null,n.createElement(_.a,{container:!0},n.createElement(_.a,{item:!0,xs:2}),n.createElement(_.a,{item:!0,xs:10},n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"AMOUNT"),n.createElement("div",{className:"small-text"},"PHP "+S.a.formatNumber("Approved"===e.assessmentType&&e.approvedAmount>0?e.approvedAmount:e.amount,!0))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"PHILHEALTH REQUIRED?"),n.createElement("div",{className:"small-text"},e.isPHIC?"Yes":"No")),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"DATE OF AVAILMENT"),n.createElement("div",{className:"small-text"},S.a.toCommonDateString(e.dateAdded))))))),n.createElement(_.a,{item:!0,xs:4},n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"SYSTEM ASSESSMENT"),n.createElement("div",{className:"small-text"},l.length>0?"".concat(l[0].status,"*"):"Unavailable",n.createElement(C.a,{onClick:function(){l.length>0?(i.setState({isModalOpen:!0,renderAdjudication:!0}),i.setState({procedure:e,diagnosis:a,renderAdjudication:!0,adjudicationSteps:l.length>0?l[0].canCoverCanAvailstep:[],systemassess:l[0].status,diagIndex:r,procIndex:t})):i.setState({isErrorModalOpen:!0,ErrorMessage:"Please contact your administrator for support",ErrorHeader:"Unavailable Assessment"})}},n.createElement(pe.a,{style:{color:"#C3C3C3"},icon:N.u})))),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"REMAINING BALANCE"),n.createElement("div",{className:"small-text"},"PHP "+(l.length>0&&l[0]&&l[0].remaining_balance?l[0].remaining_balance:0)+".00 *")),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"CLAUSE"),n.createElement("div",{className:"small-text"},"Laboratory tests, x-rays, and other diagnostic examinations prescribed by the INTELLICARE physician*"))),n.createElement(_.a,{item:!0,xs:2},n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"ASSESSMENT"),n.createElement("div",{className:"header-2"},e.assessmentType?e.assessmentType:"None")),n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"REMARKS"),n.createElement("div",{className:"small-text"},e.assessmentRemarks?e.assessmentRemarks:"None"))))))}},{key:"renderInfoItem",value:function(e,t){return n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},e),n.createElement("div",{className:"small-text"},t))}}]),t}(n.Component),Zs=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onReturnAssessment=function(){a.props.onBeforeMainAction();var e=a.props.ticket,t={assign_to:e.ticket_owner_name?e.ticket_owner_name:e.createdBy.name,assigned_by:e.assignee.name,assign_remarks:""};Ae.a.put("cases/".concat(a.props.caseId,"/variable"),{button_pressed:"RETURN ASSESSMENT"},function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){a.props.onSuccess(function(a){T.a.patch("customer-care/tickets/".concat(e.id),t,a)})})})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement(Y,{className:"modal",isOpen:this.props.isOpen,handleClose:function(){return e.props.onClose()},header:"Return Assessments",content:"Returning your assessment will send the ticket back to the ticket owner for resolving and closing. Are you sure you want to finish approvals?",footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:function(){e.props.onClose()}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(ke,{text:"Confirm",variant:"contained",onClick:function(){e.setState({loading:!0}),e.onReturnAssessment()}}))})}}]),t}(n.Component),Qs=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.ticket,a=this.props.consultation;return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement("div",{className:"header-1",style:{display:"inline-block"}},"Resolve Consultation"),this.props.onBack?n.createElement("div",{style:{float:"right"}},n.createElement(ke,{className:"button",text:"Edit Assessment",onClick:this.props.onBack})):null,n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"PROVIDER"),n.createElement("div",{className:"small-text"},"".concat(a.provider.value," - ").concat(a.provider.label))),a&&a.diagnosis&&a.diagnosis.value&&" - "!==a.diagnosis.value?n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"DIAGNOSIS"),n.createElement("div",{className:"small-text"},"".concat(a.diagnosis.value," - ").concat(a.diagnosis.label))):null,n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"DOCTOR"),n.createElement("div",{className:"small-text"},a.doctor.label)),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"NOTES"),n.createElement("div",{className:"small-text"},a.notes?a.notes:"None")),t.approverName?n.createElement("div",{className:"sub-section"},n.createElement("div",{className:"light-text"},"APPROVER NAME"),n.createElement("div",{className:"small-text"},t.approverName)):null,""!==a.assessmentType?n.createElement(_.a,{className:"sub-section",container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"header-2"},"ASSESSMENT"),n.createElement("div",{className:"small-text"},a.assessmentType),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"REASON"),n.createElement("div",{className:"small-text"},a.assessmentRemarks?a.assessmentRemarks:"None")))):n.createElement(_.a,{className:"sub-section",container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"header-2"},"ASSESSMENT"),n.createElement("div",{className:"small-text"},"None"))),this.props.canEditLOAs&&"Approved"===a.assessmentType?n.createElement(_.a,{className:"sub-section",container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"header-2"},"ADD LOA"),n.createElement(_.a,{container:!0,spacing:1},n.createElement(_.a,{item:!0,xs:6},n.createElement(se.a,{placeholder:"LOA Number*",value:a.loaNo,disableDelimiter:!0,onChange:function(t){a.loaNo=t,e.props.refreshLOAStates()}}))))):a.loaNo?n.createElement(_.a,{className:"sub-section",container:!0},n.createElement(_.a,{item:!0,xs:6},n.createElement("div",{className:"header-2"},"LOA DETAILS"),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"LOA NUMBER"),n.createElement("div",{className:"small-text"},a.loaNo)),n.createElement("div",{className:"sub-section-2"},n.createElement("div",{className:"light-text"},"APPROVAL CODE"),n.createElement("div",{className:"small-text"},a.approvalCode?a.approvalCode:"")))):null,n.createElement("div",{className:"section"}))}}]),t}(n.Component),$s=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onResolveAndSkipGenerateApprovalCode=function(){a.props.onBeforeMainAction();var e=a.props.caseId,t=a.props.login,n=a.props.caseData;Ae.a.put("cases/".concat(e,"/variable"),{button_pressed:"GENERATE APPROVAL CODE"},function(){Ae.a.put("cases/".concat(e,"/route-case"),{},function(){T.a.get("group/pmaker_uids?department="+Object(Ma.get)(t,"group.department","")+"&role=Ticket Reviewer&with_names=true",function(r){var i=[];void 0!==r&&void 0!==r.group_pmaker_ids&&(i=r.group_pmaker_ids);var l={button_pressed:"RESOLVE",next_user:i&&i.length>0?i:Object(Ma.get)(t,"ccData.supervising_department_pmaker_id","")},s={status:"Closed",ticket_history_info:{assignee_id:t.userId,assignee_name:"".concat(t.firstName," ").concat(t.lastName),pmaker_task:n.task,action:"Resolved Ticket"}};Ae.a.put("cases/".concat(e,"/variable"),l,function(){Ae.a.put("cases/".concat(e,"/route-case"),{},function(){T.a.patch("customer-care/tickets/".concat(a.props.ticket.id),s,function(){a.props.onSuccess()})})})})})})},a.onResolve=function(){var e=a.props.login,t=a.props.caseData,n=a.props.ticket;a.props.onBeforeMainAction(),T.a.get("group/pmaker_uids?"+"department=".concat(Object(Ma.get)(e,"group.department",""),"&")+"role=Ticket Reviewer&with_names=true",function(r){var i=[];void 0!==r&&void 0!==r.group_pmaker_ids&&(i=r.group_pmaker_ids);var l={assign_to:r&&r.group_names&&r.group_names.length>0?r.group_names.join(", "):"",assigned_by:"".concat(a.props.login.firstName," ").concat(a.props.login.lastName)},s={button_pressed:"RESOLVE",next_user:i&&i.length>0?i:Object(Ma.get)(e,"ccData.supervising_department_pmaker_id","")},o={status:"Resolved",assign_remarks:"",ticket_history_info:{assignee_id:e.userId,assignee_name:"".concat(e.firstName," ").concat(e.lastName),pmaker_task:t.task,action:"Resolved Ticket"}};Ae.a.put("cases/".concat(a.props.caseId,"/variable"),s,function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){T.a.patch("customer-care/tickets/".concat(n.id),o,function(){a.props.onSuccess(function(e){T.a.patch("customer-care/tickets/".concat(n.id),l,e)})})})})})},a.onResolveAndClose=function(){var e=a.props.login,t=a.props.caseData;a.props.onBeforeMainAction(),T.a.get("group/pmaker_uids?department="+Object(Ma.get)(e,"group.department","")+"&role=Ticket Reviewer&with_names=true",function(n){var r=[];void 0!==n&&void 0!==n.group_pmaker_ids&&(r=n.group_pmaker_ids);var i={button_pressed:"RESOLVE",next_user:r&&r.length>0?r:Object(Ma.get)(e,"ccData.supervising_department_pmaker_id","")},l={status:"Closed",ticket_history_info:{assignee_id:e.userId,assignee_name:"".concat(e.firstName," ").concat(e.lastName),pmaker_task:t.task,action:"Resolve and Closed Ticket"}};Ae.a.put("cases/".concat(a.props.caseId,"/variable"),i,function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){T.a.patch("customer-care/tickets/".concat(a.props.ticket.id),l,function(){a.props.onSuccess()})})})})},a.onClose=function(){a.props.onBeforeMainAction();var e=a.props.login,t=a.props.caseData,n={status:"Closed",ticket_history_info:{assignee_id:e.userId,assignee_name:"".concat(e.firstName," ").concat(e.lastName),pmaker_task:t.task,action:"Closed Ticket"}};Ae.a.put("cases/".concat(a.props.caseId,"/variable"),{button_pressed:"CLOSE"},function(){Ae.a.put("cases/".concat(a.props.caseId,"/route-case"),{},function(){T.a.patch("customer-care/tickets/".concat(a.props.ticket.id),n,function(){a.props.onSuccess()})})})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.createElement(Y,{className:"modal",isOpen:this.props.isCloseTicketModalOpen||this.props.isResolveTicketModalOpen||this.props.isResolveAndCloseModalOpen,handleClose:function(){e.props.onClose()},header:"".concat("Resolve"===this.props.action?"Resolve":"Close"===this.props.action?"Close":"Resolve and Close"," Ticket"),content:"".concat("Resolve"===this.props.action?"Resolving":"Close"===this.props.action?"Closing":"Resolving and closing"," ")+"will no longer allow you to modify your approval/disapproval to this ticket. Are you sure "+"you want to ".concat("Resolve"===this.props.action?"resolve":"Close"===this.props.action?"close":"resolve and close","?"),footer:n.createElement(n.Fragment,null,n.createElement(ke,{text:"Cancel",variant:"outlined",onClick:this.props.onClose}),n.createElement("span",{style:{padding:"1rem"}}),this.props.isResolveTicketModalOpen?n.createElement(ke,{text:"Resolve",onClick:function(){e.props.isSkipGenerateApprovalCode?e.onResolveAndSkipGenerateApprovalCode():e.onResolve()}}):this.props.isCloseTicketModalOpen?n.createElement(ke,{text:"Close",onClick:function(){e.props.isSkipGenerateApprovalCode?e.onResolveAndSkipGenerateApprovalCode():e.onClose()}}):this.props.isResolveAndCloseModalOpen?n.createElement(ke,{text:"Resolve and Close",onClick:function(){e.props.isSkipGenerateApprovalCode?e.onResolveAndSkipGenerateApprovalCode():e.onResolveAndClose()}}):null)})}}]),t}(n.Component),eo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).tabList=[{value:1,label:""},{value:2,label:"Comments"},{value:3,label:"Benefits"},{value:4,label:"Partner Network"},{value:5,label:"Exclusion"},{value:6,label:"Utilization"},{value:7,label:"Tickets"},{value:8,label:"Contract"}],a.errors=void 0,a.loadTicketData=function(e,t){if(a.state.ticket){var n=a.state.ticket.ticketNo,r=S.a.extractTicketNumber(n),i=t?t.find(function(e){return e.app_number===r}):void 0,l=!1;if(i&&(l=!0,a.setState({currentCase:{task:i.app_tas_title,appTitle:i.app_title}}),"Inpatient - Approvers Proceed with Final Assessment"===i.app_tas_title||"Inpatient - Approver Proceed with Final Assessment"===i.app_tas_title||"Inpatient - Proceed with Final Assessment"===i.app_tas_title||"Outpatient - Approvers Submit for Assessment"===i.app_tas_title||"Outpatient - Approver Submit for Assessment"===i.app_tas_title||"Outpatient - Submit for Assessment"===i.app_tas_title?(a.setState({permission:{canComment:!0,canSummarize:!0,canEscalate:!0}}),a.setState({currentStep:"Approve/Disapprove"})):"Outpatient - Summarize Assessment"===i.app_tas_title||"Inpatient - Summarize Assessment"===i.app_tas_title?(a.setState({permission:{canComment:!0,canGenerateApprovalCode:!0,canBack:!0,canEscalate:!0}}),a.setState({currentStep:"Summarize Assessment"},function(){if(a.state.ticket&&"Inpatient"===a.state.ticket.specificType&&a.allAvailmentIsDisapproved()){var e=Object.assign(a.state.permission,{canResolve:!0,canClose:!1,canGenerateApprovalCode:!1});a.setState({permission:e})}})):"Outpatient - Approver Summarize Assessment"===i.app_tas_title||"Inpatient - Approver Summarize Assessment"===i.app_tas_title?a.setState({permission:{canComment:!0,canReturnAssessment:!0,canEscalate:!0,canBack:!0}}):"Outpatient - Generate Approval Code"===i.app_tas_title?(a.setState({permission:{canComment:!0,canGenerateApprovalCode:!0,canEscalate:!0}}),a.setState({currentStep:"Summarize Assessment"})):"Outpatient - Generate Approval Code"===i.app_tas_title?(a.setState({permission:{canComment:!0,canGenerateApprovalCode:!0}}),a.setState({currentStep:"Summarize Assessment"})):"Inpatient - Generate Approval Code"===i.app_tas_title?(a.setState({permission:{canComment:!0,canGenerateApprovalCode:!0,canTransfer:!0,canResolve:a.allAvailmentIsDisapproved()}}),a.setState({currentStep:"Summarize Assessment"})):"Inpatient - Resolve Ticket"===i.app_tas_title?a.setState({permission:{canComment:!0,canResolve:!0}}):"Inpatient - Review Ticket"===i.app_tas_title?a.setState({permission:{canComment:!0,canClose:!0}}):"Outpatient - Comment"===i.app_tas_title?a.setState({permission:{canComment:!0,canAssign:!0}}):"Outpatient - Resolve Ticket"===i.app_tas_title?a.setState({permission:{canComment:!0,canClose:!0,canResolve:!0}}):"Complaint - Resolve Ticket"===i.app_tas_title?a.setState({permission:{canComment:!0,canAssign:!0,canEscalate:!0,canResolve:!0}}):"Complaint - Escalate Ticket 2"===i.app_tas_title||"Complaint - Comment 2"===i.app_tas_title||"Complaint - Comment 3"===i.app_tas_title?a.setState({permission:{canComment:!0,canAssign:!0,canEscalate:!0}}):"Complaint - Escalate Ticket 3"===i.app_tas_title?a.setState({permission:{canComment:!0,canAssign:!0,canEscalate:!0,canClose:!0}}):"Complaint - Claim Close Task"===i.app_tas_title?a.setState({permission:{canClose:!0,canEscalate:!0,canAssign:!0,canComment:!0}}):"Approval - Approver Submit for Assessment"===i.app_tas_title?(a.setState({permission:{canComment:!0,canSummarize:!0,canAssign:!0,canEscalateApproval:!0,canEscalateComment:!0}}),a.setState({currentStep:"Approve/Disapprove"})):"Approval - Approver Summarize Assessment"===i.app_tas_title?a.setState({permission:{canComment:!0,canEscalateApproval:!0,canBack:!0,canReturnAssessment:!0}}):"Approval - Resolve Ticket"===i.app_tas_title?a.setState({permission:{canComment:!0,canEscalateApproval:!0,canEscalateComment:!0,canAssign:!0,canResolve:!0}}):"Approval - Claim Close Ticket"===i.app_tas_title?a.setState({permission:{canComment:!0,canEscalateApproval:!0,canEscalateComment:!0,canAssign:!0,canClose:!0}}):"Approval - Comment 2"===i.app_tas_title||"Approval - Comment 3"===i.app_tas_title?a.setState({permission:{canComment:!0,canEscalateComment:!0,canAssign:!0}}):"Approval - Escalate Ticket 2"===i.app_tas_title||"Approval - Escalate Ticket 3"===i.app_tas_title?a.setState({permission:{canComment:!0,canEscalateApproval:!0,canEscalateComment:!0,canAssign:!0}}):"Approval - Comment 4"===i.app_tas_title?a.setState({permission:{canComment:!0,canEscalateComment:!0,canAssign:!0}}):"Approval - Escalate Ticket 4"===i.app_tas_title&&a.setState({permission:{canComment:!0,canEscalateApproval:!0,canEscalateComment:!0,canAssign:!0,canClose:!0}}),a.state.login)){var s=e.notes_showed;i.previous_usr_uid===a.state.login.pmakerUid||s||a.state.assigneeNotes&&(a.state.assigneeNotes.isModalOpen=!0,a.setState({assigneeNotes:a.state.assigneeNotes}))}a.state.login&&a.state.login.group&&e.ticket_owner_department===a.state.login.group.department&&a.state.ticket&&("Closed"!==a.state.ticket.status&&l||"Closed"===a.state.ticket.status)&&(a.state.permission.canCancel=!0,a.setState({permission:a.state.permission}))}a.setState({isLoading:!1})},a.getValidationErrorList=function(){var e=[],t=a.state.ticket,n=a.state.confinement,r=a.state.availment,i=a.state.consultation,l=a.state.complaint,s=a.state.requestApproval;if(n&&t)if("Approve/Disapprove"===a.state.currentStep){var o=n.diagnoses.map(function(e){return{code:e.icd10Code.value,name:""===e.assessmentType?"".concat(e.icd10Code.value," ").concat(e.icd10Code.label):void 0,procedures:e.procedures.filter(function(e){return""===e.assessmentType}).map(function(e){return"".concat(e.cptCode.value," ").concat(e.cptCode.label)})}});o.find(function(e){return e.name})&&e.push({message:"Please choose an assessment for the following diagnosis:",targets:o.filter(function(e){return e.name}).map(function(e){return e.name})}),o.forEach(function(t){t.procedures.length>0&&e.push({message:"Please choose an assessment for the following procedures in ".concat(t.code,":"),targets:t.procedures})})}else if("Summarize Assessment"===a.state.currentStep&&!a.allAvailmentIsDisapproved()){var c=[];void 0===t||void 0===t.loa||null===t.loa.loaDate||void 0===t.loa.loaDate||ft()(t.loa.loaDate).isValid()||e.push({message:"Please enter a valid LOA Date.",targets:[]}),t.loa&&(t.loa.loaNo||c.push("LOA Number"),t.loa.loaAmount||c.push("LOA Amount")),c.length>0&&e.push({message:"Please fill up required LOA fields before proceding:",targets:c})}if(r&&t)if("Approve/Disapprove"===a.state.currentStep){var m=r.diagnoses.map(function(e){return{code:e.icd10Code.value,name:""===e.assessmentType?"".concat(e.icd10Code.value," ").concat(e.icd10Code.label):void 0,procedures:e.procedures.filter(function(e){return""===e.assessmentType}).map(function(e){return"".concat(e.cptCode.value," ").concat(e.cptCode.label)})}});"Emergency Room"===t.specificType&&m.find(function(e){return e.name&&0===r.diagnoses[m.indexOf(e)].procedures.length})&&e.push({message:"Please choose an assessment for the following diagnosis:",targets:m.filter(function(e){return e.name}).map(function(e){return e.name})}),m.forEach(function(t){t.procedures.length>0&&e.push({message:"Please choose an assessment for the following procedures in ".concat(t.code,":"),targets:t.procedures})})}else if("Summarize Assessment"===a.state.currentStep)if(void 0===t||void 0===t.loa||null===t.loa.loaDate||void 0===t.loa.loaDate||ft()(t.loa.loaDate).isValid()||e.push({message:"Please enter a valid LOA Date.",targets:[]}),"Emergency Room"===t.specificType)t.loa&&!t.loa.loaNo&&e.push({message:"Please add a LOA Number before proceding",targets:[]});else{var u=[];r.diagnoses.forEach(function(e){u.push({code:e.icd10Code.value,procedures:e.procedures.filter(function(e){return!e.loaNo&&"Approved"===e.assessmentType}).map(function(e){return"".concat(e.cptCode.value," ").concat(e.cptCode.label)})})}),u.length>0&&u.map(function(t){t.procedures.length>0&&e.push({message:"Please add a LOA number for the following procedures in ".concat(t.code,":"),targets:t.procedures.map(function(e){return e})})})}if(i&&("Approve/Disapprove"===a.state.currentStep?""===i.assessmentType&&e.push({message:"",targets:["Please choose an assessment first (Approve/Disapprove/Pending)"]}):"Summarize Assessment"===a.state.currentStep&&0===i.loaNo&&e.push({message:"",targets:["Please add a LOA number before generating an approval code"]})),l){var d=[];""===l.rootCause&&d.push("Root Cause"),""===l.resolution&&d.push("Resolution"),""===l.acknowledgedBy&&d.push("Resolution Acknowledged By"),d.length>0&&e.push({message:"Please fill up the required fields before resolving:",targets:d})}if(s){var p=[];""===s.assessmentType&&p.push("Choose Recommendation"),""===s.assessmentRemarks&&"Canceled"===s.assessmentType&&p.push("Reason"),p.length>0&&e.push({message:"Please fill up the required fields before resolving:",targets:p})}return a.setState({isShowRequiredField:!0}),e},a.onUploadFiles=function(e,t,n){var r=!1,i=new FormData;e.forEach(function(e){e.field||(i.append(t,e),r=!0)}),a.setState({isLoading:!0}),r?T.a.postFormData("tmp/upload?path=customer-care",i,function(e){n(e)},function(e){console.log(e),a.setState({isLoading:!1})}):n([])},a.callSnackbar=function(e){a.setState({snackbarMessage:e})},a.onBack=function(){var e=a.props.match.params.caseId;a.setState({isLoading:!0}),Ae.a.put("cases/".concat(e,"/variable"),{button_pressed:"BACK"},function(){Ae.a.put("cases/".concat(e,"/route-case"),{},function(){a.onUpdateAssessment(["Reset Assessment"],"Reset Assessment")})})},a.onSummarizeAssessment=function(){var e=a.props.match.params.caseId,t=a.state.login,n={button_pressed:"SUMMARIZE ASSESSMENT",next_user:t?t.pmakerUid:void 0};a.setState({isLoading:!0}),Ae.a.put("cases/".concat(e,"/variable"),n,function(){Ae.a.put("cases/".concat(e,"/route-case"),{},function(){a.onUpdateAssessment([],"Summarized Availments")})})},a.onGenerateApprovalCode=function(){var e=a.props.match.params.caseId;a.setState({isLoading:!0}),Ae.a.put("cases/".concat(e,"/variable"),{button_pressed:"GENERATE APPROVAL CODE"},function(){Ae.a.put("cases/".concat(e,"/route-case"),{},function(){a.onUpdateAssessment(["Generate Approval Code"],"Generated Approval Code")})})},a.onUpdateAssessment=function(e,t,n,r){var i=a.state.complaint;if((a.state.member||a.state.client)&&a.state.ticket&&a.state.login){var l=function(l){if(a.state.ticket&&a.state.login&&a.state.currentCase){var s=V.a.getPutUpdateAssessmentPayload(a.state.ticket,t,a.state.login,a.state.currentCase,l,e,a.state.member,a.state.client,a.state.availment,a.state.confinement,a.state.consultation,i,a.state.requestApproval);T.a.put("customer-care/tickets/".concat(a.props.match.params.ticketId),s,function(){r?r():(n&&a.props.history.push("#/customer-care"),window.location.reload())})}};i?a.onUploadFiles(i.files,"supporting_document",function(e){var t=!e.error&&e.length>0?i.files.filter(function(e){return e.field}).concat(e):i.files;l(t)}):l([])}},a.allAvailmentIsDisapproved=function(){if(a.state.availment)if(a.state.ticket&&"Outpatient Procedure"===a.state.ticket.specificType){var e=!0,t=!1,n=void 0;try{for(var r,i=a.state.availment.diagnoses[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var l=r.value,s=!0,o=!1,c=void 0;try{for(var m,u=l.procedures[Symbol.iterator]();!(s=(m=u.next()).done);s=!0){if("Approved"===m.value.assessmentType)return!1}}catch(x){o=!0,c=x}finally{try{s||null==u.return||u.return()}finally{if(o)throw c}}}}catch(x){t=!0,n=x}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}else{var d=!0,p=!1,f=void 0;try{for(var h,g=a.state.availment.diagnoses[Symbol.iterator]();!(d=(h=g.next()).done);d=!0){var E=h.value;if("Approved"===E.assessmentType)return!1;var b=!0,v=!1,_=void 0;try{for(var y,C=E.procedures[Symbol.iterator]();!(b=(y=C.next()).done);b=!0){if("Approved"===y.value.assessmentType)return!1}}catch(x){v=!0,_=x}finally{try{b||null==C.return||C.return()}finally{if(v)throw _}}}}catch(x){p=!0,f=x}finally{try{d||null==g.return||g.return()}finally{if(p)throw f}}}if(a.state.confinement){var N=!0,S=!1,O=void 0;try{for(var A,T=a.state.confinement.diagnoses[Symbol.iterator]();!(N=(A=T.next()).done);N=!0){var I=A.value;if("Approved"===I.assessmentType)return!1;var k=!0,R=!1,D=void 0;try{for(var w,P=I.procedures[Symbol.iterator]();!(k=(w=P.next()).done);k=!0){if("Approved"===w.value.assessmentType)return!1}}catch(x){R=!0,D=x}finally{try{k||null==P.return||P.return()}finally{if(R)throw D}}}}catch(x){S=!0,O=x}finally{try{N||null==T.return||T.return()}finally{if(S)throw O}}}return!a.state.consultation||"Approved"!==a.state.consultation.assessmentType},a.onPatchStatus=function(e,t){if(a.state.login&&a.state.currentCase){var n=a.props.match.params.ticketId,r={status:e,ticket_history_info:{assignee_id:a.state.login.userId,assignee_name:"".concat(a.state.login.firstName," ").concat(a.state.login.lastName),pmaker_task:a.state.currentCase.task,action:t}};a.setState({isLoading:!0}),T.a.patch("customer-care/tickets/".concat(n),r,function(){window.location.reload()})}},a.state={snackbarMessage:null,tabSelected:1,complaintTicketCurrentStep:"Resolve",currentStep:"View Assessment",isLoading:!0,permission:{},useOneLoa:!1,loaNumber:0,popperAnchor:null,isAssessmentModalOpen:!1,isReturnModalOpen:!1,isResolveTicketModalOpen:!1,isAssignModalOpen:!1,isOutsideTheLimitModalOpen:!1,isCloseTicketModalOpen:!1,isResolveAndCloseModalOpen:!1,isEscalateModalOpen:!1,isForApprovalModalOpen:!1,isForCommentModalOpen:!1,isTransferModalOpen:!1,isOtherActionsPopperOpen:!1,isShowRequiredField:!1,isReassignInformModalOpen:!1,isCancelTicketModalOpen:!1},a.errors=[],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.c.StorageService("user_data").then(function(t){e.setState({login:V.a.getLoginData(t)}),T.a.get("customer-care/tickets/"+e.props.match.params.ticketId,function(t){var a=t.ticket_category,n=a.availment_details,r=a.er_details,i=a.confinement_details,l=a.consultation_details,s=a.complaint_details,o=a.request_details;e.setState({ticket:"-"===t.ticket_id||"---"===t.ticket_id?V.a.getTicketDataTVS(t):V.a.getTicketData(t)}),n&&(e.setState({availment:V.a.getAvailmentData(n)}),e.tabList[0].label="Availments"),r&&(e.setState({availment:V.a.getAvailmentData(r)}),e.tabList[0].label="ER Details"),i&&(e.setState({confinement:V.a.getResolveConfinementData(i)}),e.tabList[0].label="Inpatient"),l&&(e.setState({consultation:V.a.getConsultationData(l)}),e.tabList[0].label="Consultation Details"),s&&(e.setState({complaint:V.a.getComplaintData(s)}),e.tabList[0].label="Complaint Details"),o&&e.state.ticket&&(e.tabList[0].label="Request Updates",e.setState({requestApproval:V.a.getRequestApprovalData(o)})),e.setState({comments:V.a.getCommentData(t.comments)}),t.updates&&e.setState({updates:V.a.getUpdateData(t.updates)}),t.member_id?(e.tabList.push({value:9,label:"Member Profile"}),T.a.get("customer-care/members/".concat(t.member_id),function(a){e.setState({member:V.a.getMemberData(a)}),T.a.get("customer-care/members/".concat(t.member_id,"/benefits"),function(){})}),t.client_id&&T.a.get("customer-care/clients/".concat(t.client_id),function(t){e.setState({client:V.a.getClientData(t)})})):(e.tabList.push({value:10,label:"Client Profile"}),T.a.get("customer-care/clients/".concat(t.client_id),function(t){e.setState({client:V.a.getClientData(t)})})),t&&t.assigned_by&&t.assign_remarks&&e.setState({assigneeNotes:{isModalOpen:!1,previousAssignee:t.assigned_by,notes:t.assign_remarks}}),Ae.a.get("cases",function(a){e.loadTicketData(t,a)},function(){e.loadTicketData(t)})})})}},{key:"render",value:function(){var e=this;return n.createElement(_.a,{container:!0,className:"customer-care-main"},!this.state.ticket||!this.state.member&&!this.state.client||this.state.isLoading?n.createElement(es.a,null):null,n.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!this.state.snackbarMessage,autoHideDuration:6e3,onClose:function(){e.setState({snackbarMessage:null})},message:this.state.snackbarMessage}),this.state.assigneeNotes?n.createElement(Ss,{assigneeNotes:this.state.assigneeNotes,onClose:function(){if(e.state.assigneeNotes){Ae.a.put("cases/".concat(e.props.match.params.caseId,"/variable"),{show:!1},function(){}),e.state.assigneeNotes.isModalOpen=!1,e.setState({assigneeNotes:e.state.assigneeNotes})}}}):null,n.createElement(Y,{className:"modal",isOpen:this.state.isAssessmentModalOpen,handleClose:function(){return e.setState({isAssessmentModalOpen:!1})},header:"Missing Assessments",content:n.createElement("div",{className:"text"},this.errors.map(function(e){return n.createElement(n.Fragment,null,n.createElement("p",{className:"text"},e.message),n.createElement("p",null,e.targets.map(function(e){return n.createElement("div",null,"- ".concat(e))})))})),footer:n.createElement(ke,{text:"Okay",variant:"outlined",onClick:function(){e.setState({isAssessmentModalOpen:!1})}})}),this.state.ticket?n.createElement(Zs,{caseId:this.props.match.params.caseId,ticket:this.state.ticket,isOpen:this.state.isReturnModalOpen,onBeforeMainAction:function(){e.setState({isLoading:!0})},onSuccess:function(t){e.onUpdateAssessment([],"Returned Assessment",!0,function(){t(function(){e.props.history.push("#/customer-care"),window.location.reload()})})},onClose:function(){e.setState({isReturnModalOpen:!1})}}):null,this.state.login&&this.state.ticket&&this.state.currentCase?n.createElement($s,{caseId:this.props.match.params.caseId,ticket:this.state.ticket,login:this.state.login,caseData:this.state.currentCase,isCloseTicketModalOpen:this.state.isCloseTicketModalOpen,isResolveTicketModalOpen:this.state.isResolveTicketModalOpen,isResolveAndCloseModalOpen:this.state.isResolveAndCloseModalOpen,action:this.state.permission.canResolve&&!this.state.permission.canClose?"Resolve":!this.state.permission.canResolve&&this.state.permission.canClose?"Close":"Resolve and Close",isSkipGenerateApprovalCode:"Summarize Assessment"===this.state.currentStep&&this.state.permission.canGenerateApprovalCode&&this.allAvailmentIsDisapproved(),onBeforeMainAction:function(){e.setState({isLoading:!0})},onSuccess:function(t){if(e.state.ticket)if(e.state.complaint||e.state.requestApproval){var a=e.state.permission.canResolve?"Mark as Resolve":"Close Ticket";e.onUpdateAssessment([a],"None",!1,t?function(){t(function(){e.props.history.push("#/customer-care"),window.location.reload()})}:void 0)}else e.props.history.push("#/customer-care"),window.location.reload()},onClose:function(){e.setState({isCloseTicketModalOpen:!1,isResolveTicketModalOpen:!1,isResolveAndCloseModalOpen:!1})}}):null,this.state.login&&this.state.ticket&&this.state.currentCase?n.createElement(n.Fragment,null,n.createElement(ys,{caseId:this.props.match.params.caseId,login:this.state.login,ticket:this.state.ticket,currentCase:this.state.currentCase,isOpen:this.state.isAssignModalOpen,totalAmount:this.state.ticket.totalAmount,onBeforeMainAction:function(){e.setState({isLoading:!0})},onSuccess:function(t,a){t&&a&&e.state.ticket?a(function(){e.setState({isReassignInformModalOpen:!0,isLoading:!1})}):e.setState({isOutsideTheLimitModalOpen:!0,isAssignModalOpen:!1})},onClose:function(){e.setState({isAssignModalOpen:!1})}}),n.createElement(Y,{className:"modal",isOpen:this.state.isReassignInformModalOpen,header:"Re-assigned successfully",content:"Ticket re-assigned to ".concat(te.NEW_ASSIGNEE," successfully"),footer:n.createElement(ke,{text:"Okay",variant:"outlined",onClick:function(){e.setState({isReassignInformModalOpen:!1}),e.props.history.push("#/customer-care/"),window.location.reload()}}),handleClose:function(){e.setState({isReassignInformModalOpen:!1}),e.props.history.push("#/customer-care/"),window.location.reload()}})):null,this.state.login&&this.state.ticket?n.createElement(Xl,{caseData:this.state.currentCase,caseId:this.props.match.params.caseId,ticket:this.state.ticket,login:this.state.login,isOpen:this.state.isOutsideTheLimitModalOpen,assigneeIsMe:"Me"===this.state.ticket.assignee.name,amountLimit:this.state.confinement?this.state.confinement.finalBill:this.state.ticket.totalAmount,onBeforeMainAction:function(){e.setState({isLoading:!0})},onSuccessWithCallback:function(t){e.state.login&&e.onUpdateAssessment([],"Escalated Ticket for Approval",!1,function(){t(function(){e.setState({isOutsideTheLimitModalOpen:!1}),window.location.reload()})})},onClose:function(){e.setState({isOutsideTheLimitModalOpen:!1})}}):null,this.state.ticket&&this.state.login?n.createElement(Cs,{caseId:this.props.match.params.caseId,caseData:this.state.currentCase,ticket:this.state.ticket,login:this.state.login,isEscalateModalOpen:this.state.isEscalateModalOpen,isForCommentModalOpen:this.state.isForCommentModalOpen,isForApprovalModalOpen:this.state.isForApprovalModalOpen,isForAssessmentModalOpen:!1,currentPage:"Resolve Ticket",amountLimit:this.state.confinement?this.state.confinement.finalBill:this.state.ticket.totalAmount,onBeforeMainAction:function(){e.setState({isLoading:!0})},onSuccess:function(t){e.setState({isEscalateModalOpen:!1}),!e.state.currentCase||"Approval - Approver Summarize Assessment"!==e.state.currentCase.task&&"Approval - Resolve Ticket"!==e.state.currentCase.task&&"Approval - Claim Close Ticket"!==e.state.currentCase.task&&"Approval - Escalate Ticket 4"!==e.state.currentCase.task&&"Approval - Escalate Ticket 3"!==e.state.currentCase.task&&"Approval - Comment 4"!==e.state.currentCase.task&&"Approval - Comment 3"!==e.state.currentCase.task?e.onUpdateAssessment(["Reset Assessment","Escalate"],"None",!1,function(){t(function(){e.setState({isReassignInformModalOpen:!0,isLoading:!1}),window.location.reload()})}):e.onUpdateAssessment(["Escalate"],"Escalated Ticket",!1,function(){t(function(){e.setState({isReassignInformModalOpen:!0,isLoading:!1})})})},onClose:function(){e.setState({isEscalateModalOpen:!1,isForCommentModalOpen:!1,isForApprovalModalOpen:!1})}}):null,this.state.login&&this.state.ticket?n.createElement(Ns,{caseId:this.props.match.params.caseId,login:this.state.login,ticket:this.state.ticket,isOpen:this.state.isTransferModalOpen,onBeforeMainAction:function(){e.setState({isLoading:!0})},onSuccess:function(){e.setState({isTransferModalOpen:!1}),e.props.history.push("#/customer-care/"),window.location.reload()},onClose:function(){e.setState({isTransferModalOpen:!1})}}):null,this.state.ticket&&this.state.login?n.createElement(Is,{caseId:this.props.match.params.caseId,caseData:this.state.currentCase,ticket:this.state.ticket,login:this.state.login,isOpen:this.state.isCancelTicketModalOpen,onClose:function(){e.setState({isCancelTicketModalOpen:!1})},onSuccess:function(){window.location.reload()}}):null,n.createElement(Zl,{isOpen:this.state.isOtherActionsPopperOpen,anchor:this.state.popperAnchor,items:[{disabled:this.state.ticket&&"Open"!==this.state.ticket.status,content:n.createElement(O.a,{icon:N.x,label:"Mark as Pending",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.onPatchStatus("Pending","Marked Ticket as Pending")}},{disabled:this.state.ticket&&"Pending"!==this.state.ticket.status,content:n.createElement(O.a,{icon:N.A,label:"Resume Ticket",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.onPatchStatus("Open","Resumed Ticket")}},{disabled:!this.state.permission.canEscalate,content:n.createElement(O.a,{icon:N.e,label:"Escalate",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isEscalateModalOpen:!0})}},{disabled:!this.state.permission.canEscalateApproval,content:n.createElement(O.a,{icon:N.e,label:"For Approval",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isForApprovalModalOpen:!0})}},{disabled:!this.state.permission.canEscalateComment,content:n.createElement(O.a,{icon:N.e,label:"For Comment",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isForCommentModalOpen:!0})}},{disabled:!this.state.permission.canTransfer,content:n.createElement(O.a,{icon:N.Q,label:"Transfer Ownership",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isTransferModalOpen:!0})}},{disabled:!this.state.permission.canCancel,content:n.createElement(O.a,{icon:N.N,label:"Cancel Ticket",underline:"none",color:"initial",onClick:function(){}}),onClick:function(){e.setState({isOtherActionsPopperOpen:!1,isCancelTicketModalOpen:!0})}}].filter(function(e){return!e.disabled})}),n.createElement(J,{openAsigneeNotesModal:function(){void 0!==e.state.ticket&&void 0!==e.state.ticket.additionalNotes&&void 0!==e.state.assigneeNotes&&void 0!==e.state.assigneeNotes.isModalOpen&&(e.state.assigneeNotes.isModalOpen=!0,e.setState({assigneeNotes:e.state.assigneeNotes}))},member:this.state.member,client:this.state.client,ticket:this.state.ticket,task:this.state.permission.canSummarize||this.state.permission.canGenerateApprovalCode||this.state.permission.canReturnAssessment||this.state.permission.canResolve?"Resolve":"View",disableLinkedTickets:!0}),n.createElement(xe,{tabList:this.tabList,selectedTab:this.state.tabSelected,setSelectedTab:function(t){e.setState({tabSelected:t})}}),n.createElement("div",{className:"main-content"},1===this.state.tabSelected&&this.state.ticket&&this.state.login?this.state.availment?this.renderOutpatientContent(this.state.availment):this.state.confinement?this.renderInpatientContent(this.state.confinement):this.state.consultation?this.renderConsultationContent(this.state.consultation,this.state.ticket):this.state.complaint?this.renderComplaintContent(this.state.complaint,this.state.login):this.state.requestApproval?this.renderRequestApprovalContent(this.state.requestApproval,this.state.ticket,this.state.login):null:2===this.state.tabSelected&&this.state.login?n.createElement(_s,{ticketId:this.props.match.params.ticketId,canComment:this.state.permission.canComment,comments:this.state.comments,login:this.state.login,caseData:this.state.currentCase,refreshComments:function(){e.setState({comments:e.state.comments})}}):3===this.state.tabSelected&&this.state.member?n.createElement(Dr,{memberId:this.state.member.memberId}):3===this.state.tabSelected&&this.state.client?n.createElement(Fl,{contractId:this.state.client&&this.state.client.contract?this.state.client.contract.id:""}):4===this.state.tabSelected?n.createElement(Wa,{clientId:this.state.member&&this.state.member.client?this.state.member.client.id:this.state.client?this.state.client.id:"",planType:this.state.member&&this.state.member.planType?this.state.member.planType:void 0}):5===this.state.tabSelected?n.createElement(fs,{memberId:this.state.member?this.state.member.memberId:"",clientId:this.state.client?this.state.client.corporateAccountNo:""}):6===this.state.tabSelected?n.createElement(Xa,{member:this.state.member,client:this.state.client}):7===this.state.tabSelected?n.createElement(Qa,{memberId:this.state.member?this.state.member.memberId:void 0,clientId:this.state.client?this.state.client.corporateAccountNo:void 0}):8===this.state.tabSelected&&this.state.client&&this.state.client.contract?n.createElement($a.a,{memberId:this.state.member?this.state.member.memberId:void 0,clientId:this.state.client.corporateAccountNo,contractId:this.state.client.contract.id}):9===this.state.tabSelected?n.createElement(qa,{memberNumber:this.state.member?this.state.member.memberId:"",history:this.props.history}):10===this.state.tabSelected?n.createElement(nt,{clientId:this.state.client?this.state.client.id:"",history:this.props.history}):null),this.state.ticket?n.createElement(Re,{onSummarizeAssessment:"Approve/Disapprove"===this.state.currentStep&&this.state.permission.canSummarize?function(){e.errors=e.getValidationErrorList(),0==e.errors.length?e.onSummarizeAssessment():e.setState({isAssessmentModalOpen:!0})}:void 0,onReturnAssessment:"View Assessment"===this.state.currentStep&&this.state.permission.canReturnAssessment?function(){e.errors=e.getValidationErrorList(),0==e.errors.length?e.setState({isReturnModalOpen:!0}):e.setState({isAssessmentModalOpen:!0})}:void 0,onGenerateApprovalCode:"Summarize Assessment"===this.state.currentStep&&this.state.permission.canGenerateApprovalCode&&!this.allAvailmentIsDisapproved()?function(){e.errors=e.getValidationErrorList(),0==e.errors.length?e.onGenerateApprovalCode():e.setState({isAssessmentModalOpen:!0})}:void 0,onResolveTicket:("View Assessment"===this.state.currentStep||"Summarize Assessment"===this.state.currentStep&&this.state.confinement)&&this.state.permission.canResolve&&!this.state.permission.canClose?function(){e.errors=e.getValidationErrorList(),0==e.errors.length?e.setState({isResolveTicketModalOpen:!0}):e.setState({isAssessmentModalOpen:!0})}:void 0,onCloseTicket:"View Assessment"===this.state.currentStep&&this.state.permission.canClose&&!this.state.permission.canResolve?function(){e.setState({isCloseTicketModalOpen:!0})}:void 0,onResolveAndCloseTicket:"View Assessment"===this.state.currentStep&&this.state.permission.canClose&&this.state.permission.canResolve||!this.state.confinement&&"Summarize Assessment"===this.state.currentStep&&this.state.permission.canGenerateApprovalCode&&this.allAvailmentIsDisapproved()?function(){e.setState({isResolveAndCloseModalOpen:!0})}:void 0,leftButtons:[this.state.permission.canEscalateApproval||this.state.permission.canEscalateComment||this.state.permission.canEscalate||this.state.permission.canTransfer||this.state.permission.canCancel?n.createElement(ke,{className:"button transparent-2",text:n.createElement("div",null,"Other Actions",n.createElement("span",{style:{paddingRight:"0.5rem"}}),n.createElement(pe.a,{icon:N.n})),onClick:function(t){e.setState({popperAnchor:t.currentTarget,isOtherActionsPopperOpen:!e.state.isOtherActionsPopperOpen})}}):void 0,this.state.permission.canAssign?n.createElement(ke,{className:"button black-text",color:"default",text:"Assign Ticket",onClick:function(){e.setState({isAssignModalOpen:!0})}}):void 0].filter(function(e){return e})}):null)}},{key:"renderOutpatientContent",value:function(e){var t=this;return"Approve/Disapprove"===this.state.currentStep?n.createElement(Vs,{memberId:this.state.member&&this.state.member.id?this.state.member.id:"",contractId:this.state.ticket&&this.state.ticket.contractId?this.state.ticket.contractId:"",ticketData:this.state.ticket,clientName:this.state.member&&this.state.member.client&&this.state.member.client.registeredName?this.state.member.client.registeredName:"",availment:e,updateAvailment:function(e){t.setState({availment:e})},refreshAvailmentState:function(){t.setState({availment:t.state.availment})}}):"Summarize Assessment"!==this.state.currentStep&&"View Assessment"!==this.state.currentStep||!this.state.ticket?null:n.createElement(Ws,{permission:this.state.permission,memberId:this.state.member&&this.state.member.id?this.state.member.id:"",contractId:this.state.ticket&&this.state.ticket.contractId?this.state.ticket.contractId:"",ticket:this.state.ticket,clientName:this.state.member&&this.state.member.client&&this.state.member.client.registeredName?this.state.member.client.registeredName:"",availment:e,canEditLOAs:"Summarize Assessment"===this.state.currentStep,useOneLoa:this.state.useOneLoa,loaNumber:this.state.loaNumber,updateOneLoa:function(e){t.setState({useOneLoa:e})},updateLoaNumber:function(e){t.setState({loaNumber:e})},updateAvailment:function(e){t.setState({availment:e})},refreshLOAStates:function(){t.setState({availment:t.state.availment})},refreshTicketStates:function(){t.setState({ticket:t.state.ticket})},onBack:this.state.permission.canBack&&this.state.ticket&&this.state.login&&this.state.ticket.approverId===this.state.login.pmakerUid?function(){t.onBack()}:void 0})}},{key:"renderInpatientContent",value:function(e){var t=this;return"Approve/Disapprove"===this.state.currentStep?n.createElement(Ys,{memberId:this.state.member&&this.state.member.id?this.state.member.id:"",contractId:this.state.ticket&&this.state.ticket.contractId?this.state.ticket.contractId:"",ticketData:this.state.ticket,clientName:this.state.member&&this.state.member.client&&this.state.member.client.registeredName?this.state.member.client.registeredName:"",confinement:e,updateConfinement:function(e){t.setState({confinement:e})},refreshConfinementState:function(){t.setState({confinement:t.state.confinement})}}):"Summarize Assessment"!==this.state.currentStep&&"View Assessment"!==this.state.currentStep||!this.state.ticket?null:n.createElement(Js,{memberId:this.state.member&&this.state.member.id?this.state.member.id:"",contractId:this.state.ticket&&this.state.ticket.contractId?this.state.ticket.contractId:"",clientName:this.state.member&&this.state.member.client&&this.state.member.client.registeredName?this.state.member.client.registeredName:"",ticketNo:this.state.ticket.ticketNo,ticket:this.state.ticket,confinement:e,canEditLOAs:"Summarize Assessment"===this.state.currentStep,refreshLOAStates:function(){t.setState({confinement:t.state.confinement})},refreshTicketStates:function(){t.setState({ticket:t.state.ticket})},updateConfinement:function(e){t.setState({confinement:e})},onBack:this.state.permission.canBack&&this.state.ticket&&this.state.login&&this.state.ticket.approverId===this.state.login.pmakerUid?function(){t.onBack()}:void 0})}},{key:"renderComplaintContent",value:function(e,t){var a=this;return n.createElement(Ts,{complaint:e,ticketId:this.props.match.params.ticketId,updates:this.state.updates||[],permission:this.state.permission,currentPage:"Resolve Ticket",isShowRequiredField:this.state.isShowRequiredField,login:t,refreshUpdateState:function(){a.setState({updates:a.state.updates})},refreshComplaintState:function(){a.setState({complaint:a.state.complaint})},callSnackbar:this.callSnackbar})}},{key:"renderConsultationContent",value:function(e,t){var a=this;return"Approve/Disapprove"===this.state.currentStep?n.createElement(zs,{consultation:e,refreshConsultationState:function(){a.setState({consultation:a.state.consultation})}}):"Summarize Assessment"===this.state.currentStep||"View Assessment"===this.state.currentStep?n.createElement(Qs,{ticket:t,consultation:e,canEditLOAs:"Summarize Assessment"===this.state.currentStep,refreshLOAStates:function(){a.setState({consultation:a.state.consultation})},onBack:this.state.permission.canBack&&this.state.ticket&&this.state.login&&this.state.ticket.approverId===this.state.login.pmakerUid?function(){a.onBack()}:void 0}):null}},{key:"renderRequestApprovalContent",value:function(e,t,a){var r=this;return n.createElement(As,{ticketId:this.props.match.params.ticketId,ticket:t,permission:this.state.permission,requestApproval:e,updates:this.state.updates||[],isShowRequiredField:this.state.isShowRequiredField,login:a,refreshRequestApprovalState:function(){r.setState({requestApproval:r.state.requestApproval})},refreshUpdateState:function(){r.setState({updates:r.state.updates})},onBack:this.state.permission.canBack?function(){r.onBack()}:void 0})}}]),t}(n.Component),to=E.c.loadable,ao=E.a.UI.LoadingIndicator,no=to(Object(Kl.a)(zl.a.mark(function e(){var t,n,r,i,l;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a.e(2),a.e(5)]).then(a.bind(null,1894));case 2:return t=e.sent,n=t.TicketListPage,r=t.mapStateToProps,i=t.mapDispatchToProps,l=Object(ws.c)(r,i)(n),e.abrupt("return",{default:l});case 8:case"end":return e.stop()}},e)})),{fallback:n.createElement(ao,null)}),ro=a(126),io=(a(746),Object(mt.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700}}})),lo=function(e){var t=io();return r.a.createElement(Ls.a,{open:e.isModalOpen,onClose:e.onClose,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},r.a.createElement("div",null,r.a.createElement(_.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},r.a.createElement(_.a,{item:!0,xs:!0},r.a.createElement(El.a,{className:t.dialogTitle,disableTypography:!1,id:"form-dialog-title"},r.a.createElement(it.a,{fontWeight:700},e.title),r.a.createElement(jr.a,{"aria-label":"close",className:t.closeButton,onClick:e.onClose},r.a.createElement(tl.a,null)))),r.a.createElement(_.a,{item:!0,xs:!0,className:t.dialogContentContainer},r.a.createElement(gl.a,null,r.a.createElement(_.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},r.a.createElement(_.a,{item:!0,xs:12},e.message))),r.a.createElement(bl.a,{className:t.dialogAction},void 0!==e.buttons?e.buttons:null)))))};lo.defaultProps={isModalOpen:!1};var so=Object(mt.a)({select:{backgroundColor:"transparent"}}),oo=function(e){var t=e.id,a=e.value,r=e.items,i=e.onChange,l=so();return n.createElement(Rt.a,{id:t,classes:l,value:a,onChange:i,disableUnderline:!0,style:{backgroundColor:"transparent",color:"#272E4C",fontSize:"0.875rem",border:"1px solid #DDDFE3",padding:"2px 8px",borderRadius:12},renderValue:function(e){if(null!=e){var t=r.find(function(t){return t.value===e});return t?t.name:"\u2014"}return"\u2014"}},r.map(function(e){return n.createElement(Dt.a,{style:{color:"#272E4C",fontSize:"0.875rem"},key:e.value,value:e.value},e.name)}))},co=[{name:"Assigned To Me",value:"assigned_to_me"},{name:"Created Tickets",value:"created_tickets"}],mo={high:1,medium:2,low:3},uo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).reset=function(){a.setState({loading:!1,proTicketList:[],nonProTicketList:[],confinedPatientChangesList:[],ticket_type_1:co[0].value,ticket_type_2:co[0].value})},a.handleTicketTypeSelect=function(e,t){a.setState(Object(v.a)({},t,e.target.value),function(){a.getOpenTickets(a.state.ticket_type_1,a.state.ticket_type_2)})},a.getApprovedTickets=function(){a.state.isPRO&&Ae.a.get("cases/unassigned",function(e){e.map(function(e){var t=JSON.parse(e.app_title);a.state.role.findIndex(function(e){return e&&e.name&&"ticket reviewer"===e.name.toLocaleLowerCase()})>=0&&("Inpatient - Approvers Proceed with Final Assessment"===e.app_tas_title||"Inpatient - Approver Proceed with Final Assessment"===e.app_tas_title||"Inpatient - Approver Summarize Assessment"===e.app_tas_title)&&a.state.approveTicketList.unshift({id:t.ticket_id,name:"".concat(e.app_number,": ").concat(t.ticket_type_title),name2:"".concat(e.app_number," - ").concat(t.ticket_type_title),app_uid:e.app_uid,app_tas_title:e.app_tas_title}),-1===a.state.role.findIndex(function(e){return e&&e.name&&"ticket reviewer"===e.name.toLocaleLowerCase()})&&a.state.role.findIndex(function(e){return e&&e.name&&"ticket approver"===e.name.toLocaleLowerCase()})>=0&&("Inpatient - Approvers Proceed with Final Assessment"===e.app_tas_title||"Inpatient - Approver Proceed with Final Assessment"===e.app_tas_title||"Inpatient - Approver Summarize Assessment"===e.app_tas_title)&&a.state.approveTicketList.unshift({id:t.ticket_id,name:"".concat(e.app_number,": ").concat(t.ticket_type_title),name2:"".concat(e.app_number," - ").concat(t.ticket_type_title),app_uid:e.app_uid,app_tas_title:e.app_tas_title}),a.setState({unassignedTicketList:a.state.unassignedTicketList})})})},a.getClosedTickets=function(){a.state.isPRO&&Ae.a.get("cases/unassigned",function(e){e.map(function(e){var t=JSON.parse(e.app_title);a.state.role.findIndex(function(e){return e&&e.name&&"ticket reviewer"===e.name.toLocaleLowerCase()})>=0&&"Inpatient - Review"===e.app_tas_title&&a.state.closeAccountTicketList.unshift({id:t.ticket_id,name:"".concat(e.app_number,": ").concat(t.ticket_type_title),name2:"".concat(e.app_number," - ").concat(t.ticket_type_title),app_uid:e.app_uid,app_tas_title:e.app_tas_title}),a.setState({unassignedTicketList:a.state.unassignedTicketList})})})},a.getOpenTickets=function(e,t){if(a.setState({proTicketList:[],nonProTicketList:[]}),a.state.isPRO){var n={member:[]},r="assigned_to_me"===e?"cases":"cases/participated";T.a.get("customer-care/tickets?filter=".concat(JSON.stringify({where:{$and:[{$or:[{status:"Open"},{status:"Pending"},{status:"Resolved"}]},{ticket_id:{$ne:null}},{"ticket_category.specific_type":"Inpatient"},{member_id:{$ne:" "}}]}})),function(e){Ae.a.get(r,function(t){e.map(function(r,l){t.map(function(t){if(t.app_uid===r.pmaker_case_uid&&"COMPLETED"!==t.app_status){var s=r.ticket_category.confinement_details,o=r.member_data,c=s?new Date(s.date_admitted):new Date,m=JSON.parse(t.app_title).ticket_owner_user_id;a.state.proTicketList.unshift({id:r._id,ticket_no:r.ticket_id,app_uid:r.pmaker_case_uid,path:"Inpatient - Proceed with Final Assessment"===t.app_tas_title||"Inpatient - Approver Proceed with Final Assessment"===t.app_tas_title||"Inpatient - Approvers Proceed with Final Assessment"===t.app_tas_title||"Inpatient - Generate Approval Code"===t.app_tas_title||"Inpatient - Approver Summarize Assessment"===t.app_tas_title||"Inpatient - Summarize Assessment"===t.app_tas_title||"Inpatient - Resolve Ticket"===t.app_tas_title||"Inpatient - Review Ticket"===t.app_tas_title||"Complaint - Resolve Ticket"===t.app_tas_title||"Complaint - Escalate Ticket 2"===t.app_tas_title||"Complaint - Close Ticket"===t.app_tas_title||"Complaint - Comment 2"===t.app_tas_title||"Complaint - Escalate Ticket 3"===t.app_tas_title||"Complaint - Claim Close Task"===t.app_tas_title||"Complaint - Comment 3"===t.app_tas_title||t.app_tas_title.includes("Outpatient")||"Approval - Approver Submit for Assessment"===t.app_tas_title||"Approval - Approver Summarize Assessment"===t.app_tas_title||"Approval - Resolve Ticket"===t.app_tas_title||"Approval - Claim Close Ticket"===t.app_tas_title||"Approval - Escalate Ticket 2"===t.app_tas_title||"Approval - Escalate Ticket 3"===t.app_tas_title||"Approval - Escalate Ticket 4"===t.app_tas_title||"Approval - Comment 2"===t.app_tas_title||"Approval - Comment 3"===t.app_tas_title||"Approval - Comment 4"===t.app_tas_title?"resolve-ticket":"update-ticket",name:o?S.a.toNameFormat(o.last_name,o.middle_name,o.first_name):"---",ticket_owner_user_id:m,is_view:t.usr_uid!==a.state.pmaker_uid,date_admitted:c,task_title:t.app_tas_title,hospital:s?s.provider.split(" - ")[1]:"",no_of_days:i(c,s.discharge_date?new Date(s.discharge_date):void 0),status:r.status.toLocaleLowerCase(),urgency:r.ticket_category.urgency.toLocaleLowerCase()}),o&&o._id&&n.member.push({member_id:o._id,date_admitted:c}),l+1===e.length&&(a.loadTaskTray(n),a.setState({proTicketList:a.state.proTicketList})),a.setState({proTicketList:a.state.proTicketList})}})})})});var i=function(e,t){var a=new Date;return Math.abs(Math.floor(((t?t.getTime():a.getTime())-e.getTime())/864e5))}}var l="assigned_to_me"===t?"cases":"cases/participated";Ae.a.get(l,function(e){e.filter(function(e){return e.app_title.length>5}).map(function(e){var t=JSON.parse(e.app_title.replace("\\","")),n=t.ticket_owner_user_id,r=t.ticket_type_title;"COMPLETED"!==e.app_status&&"Inpatient"!==r&&a.state.nonProTicketList.push({app_uid:e.app_uid,id:t.ticket_id,path:"Inpatient - Proceed with Final Assessment"===e.app_tas_title||"Inpatient - Approver Proceed with Final Assessment"===e.app_tas_title||"Inpatient - Approvers Proceed with Final Assessment"===e.app_tas_title||"Inpatient - Approver Summarize Assessment"===e.app_tas_title||"Inpatient - Generate Approval Code"===e.app_tas_title||"Inpatient - Summarize Assessment"===e.app_tas_title||"Inpatient - Resolve Ticket"===e.app_tas_title||"Inpatient - Review Ticket"===e.app_tas_title||"Complaint - Resolve Ticket"===e.app_tas_title||"Complaint - Escalate Ticket 2"===e.app_tas_title||"Complaint - Close Ticket"===e.app_tas_title||"Complaint - Comment 2"===e.app_tas_title||"Complaint - Escalate Ticket 3"===e.app_tas_title||"Complaint - Claim Close Task"===e.app_tas_title||"Complaint - Comment 3"===e.app_tas_title||e.app_tas_title.includes("Outpatient")||"Approval - Approver Submit for Assessment"===e.app_tas_title||"Approval - Approver Summarize Assessment"===e.app_tas_title||"Approval - Resolve Ticket"===e.app_tas_title||"Approval - Claim Close Ticket"===e.app_tas_title||"Approval - Escalate Ticket 2"===e.app_tas_title||"Approval - Escalate Ticket 3"===e.app_tas_title||"Approval - Escalate Ticket 4"===e.app_tas_title||"Approval - Comment 2"===e.app_tas_title||"Approval - Comment 3"===e.app_tas_title||"Approval - Comment 4"===e.app_tas_title?"resolve-ticket":"update-ticket",ticket_owner_user_id:n,is_view:e.usr_uid!==a.state.pmaker_uid,ticket_id:e.app_number,task_title:e.app_tas_title,due_date:t.due_date,ticket_type_title:t.ticket_type_title,name:t.name})}),a.setState({nonProTicketList:a.state.nonProTicketList})})},a.loadTaskTray=function(e){T.a.post("customer-care/task-tray",JSON.stringify(e),function(e){e.map(function(e){e.changes.map(function(t){a.state.confinedPatientChangesList.push({id:t._id,name:e.member_name,description:S.a.capitalizeEachWord(t.description.includes("member")&&t.description.includes("status")?t.field_value:t.description),status:t.field_value.toLowerCase(),field_value:t.field_value})})}),a.setState({confinedPatientChangesList:a.state.confinedPatientChangesList})})},a.getUnassignedTickets=function(){Ae.a.get("cases/unassigned",function(e){e.map(function(e){var t=JSON.parse(e.app_title);"Outpatient - Approvers Submit for Assessment"!==e.app_tas_title&&"Inpatient - Approvers Proceed with Final Assessment"!==e.app_tas_title&&"Inpatient - Review Ticket"!==e.app_tas_title&&"Complaint - Close Ticket"!==e.app_tas_title&&"Complaint - Resolve Ticket"!==e.app_tas_title?a.state.unassignedTicketList.unshift({id:t.ticket_id,name:"".concat(e.app_number,": ").concat(t.ticket_type_title),name2:"".concat(e.app_number," - ").concat(t.ticket_type_title),app_uid:e.app_uid,app_tas_title:e.app_tas_title}):(a.state.role.findIndex(function(e){return e&&e.name&&("ticket approver"===e.name.toLocaleLowerCase()||"ticket reviewer"===e.name.toLocaleLowerCase())})>=0&&("Outpatient - Approvers Submit for Assessment"===e.app_tas_title||"Inpatient - Approvers Proceed with Final Assessment"===e.app_tas_title||"Inpatient - Review Ticket"===e.app_tas_title)||a.state.role.findIndex(function(e){return e&&e.name&&"ticket reviewer"===e.name.toLocaleLowerCase()})>=0&&("Inpatient - Review Ticket"===e.app_tas_title||"Complaint - Close Ticket"===e.app_tas_title||"Complaint - Resolve Ticket"===e.app_tas_title))&&a.state.unassignedTicketList.unshift({id:t.ticket_id,name:"".concat(e.app_number,": ").concat(t.ticket_type_title),name2:"".concat(e.app_number," - ").concat(t.ticket_type_title),app_uid:e.app_uid,app_tas_title:e.app_tas_title}),a.setState({unassignedTicketList:a.state.unassignedTicketList})})})},a.handleClaim=function(e,t){a.state.disableButtons||"unassigned"===e&&(a.setState({disableButtons:!0}),Ae.a.postclaim("light/case/".concat(t.app_uid,"/claim"),function(){var e={assign_to:"".concat(localStorage.first_name," ").concat(localStorage.last_name),ticket_owner_name:"Inpatient - Claim Task"===t.app_tas_title||"Inpatient - Claim Task 2"===t.app_tas_title||"Inpatient - Claim Task 3"===t.app_tas_title?"".concat(localStorage.first_name," ").concat(localStorage.last_name):void 0,ticket_history_info:{assignee_id:a.state.user_id,assignee_name:"".concat(localStorage.first_name," ").concat(localStorage.last_name),pmaker_task:t.app_tas_title,action:"Claimed Ticket"}};T.a.patch("customer-care/tickets/".concat(t.id),e,function(){if("Inquiry - Claim Task"===t.app_tas_title||"Inpatient - Claim Task"===t.app_tas_title||"Inpatient - Claim Task 2"===t.app_tas_title||"Inpatient - Claim Task 3"===t.app_tas_title||"Outpatient - Claim Task"===t.app_tas_title||"Endorsement - Claim Task"===t.app_tas_title||"Complaint - Claim Task"===t.app_tas_title||"Complaint - Claim Task 2"===t.app_tas_title||"Complaint - Claim Task 3"===t.app_tas_title||"Approval - Claim Task"===t.app_tas_title||"Approval - Claim Task 2"===t.app_tas_title||"Approval - Claim Task 3"===t.app_tas_title||"Approval - Claim Task 4"===t.app_tas_title)Ae.a.put("cases/".concat(t.app_uid,"/route-case"),{},function(){var e=t.app_tas_title.includes("Inpatient")?"1110479535e2e737cb64e60095828706":"7569582035e2fc4b6c71d60000740292";Ae.a.put("cases/".concat(t.app_uid,"/execute-trigger/").concat(e),{},function(e){Ae.a.put("cases/".concat(t.app_uid,"/route-case"),{},function(){e&&e.status&&200===e.status&&a.setState({loading:!1,isModalOpen:!0,modalMessage:"Ticket No. ".concat(t.name2," was claimed successfully."),modalTitle:"Ticket Claimed"})},function(){return a.setState({disableButtons:!1})})},function(){return a.setState({disableButtons:!1})})});else if("Complaint - Close Ticket"===t.app_tas_title||"Approval - Close Ticket"===t.app_tas_title||"Approval - Approvers Submit for Assessment"===t.app_tas_title){var e="Approval - Approvers Submit for Assessment"===t.app_tas_title?"4625875985e61afc51abee3010372382":"5001778465e5ca4050dcd11005578736",n={next_user:a.state.pmaker_uid};Ae.a.put("cases/".concat(t.app_uid,"/variable"),n,function(){Ae.a.put("cases/".concat(t.app_uid,"/execute-trigger/").concat(e),{},function(){Ae.a.put("cases/".concat(t.app_uid,"/route-case"),{},function(){a.setState({loading:!1,isModalOpen:!0,modalMessage:"Ticket No. ".concat(t.name2," was claimed successfully."),modalTitle:"Ticket Claimed"})},function(){return a.setState({disableButtons:!1})})},function(){return a.setState({disableButtons:!1})})},function(){return a.setState({disableButtons:!1})})}else a.setState({loading:!1,isModalOpen:!0,modalMessage:"Ticket No. ".concat(t.name2," was claimed successfully."),modalTitle:"Ticket Claimed"})},function(){a.setState({disableButtons:!1})})},function(){a.setState({disableButtons:!1})}))},a.handleRecreateName=function(e){var t=e.split(" ");return 3===t.length?t[2]+" "+t[1]+" "+t[0]:2===t.length?t[1]+" "+t[0]:e},a.state={disableButtons:!1,loading:!1,proTicketList:[],nonProTicketList:[],confinedPatientChangesList:[],ticket_type_1:co[0].value,ticket_type_2:co[0].value,unassignedTicketList:[],closeAccountTicketList:[],approveTicketList:[],resolveTicketList:[],isModalOpen:!1,modalTitle:"",modalMessage:"",role:[],user_id:"",group:[],pmaker_uid:"",isPRO:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.c.StorageService("user_data").then(function(t){var a=t.find(function(e){return"group"===e.key}).value.department;e.setState({user_id:t.find(function(e){return"user_id"===e.key}).value,role:t[t.findIndex(function(e){return e&&e.key&&"role"===e.key})].value,group:t[t.findIndex(function(e){return e&&e.key&&"group"===e.key})].value,pmaker_uid:t.find(function(e){return"pmaker_uid"===e.key}).value,isPRO:"Patient Relations"===a}),e.setState(function(){e.getUnassignedTickets(),e.getOpenTickets(e.state.ticket_type_1,e.state.ticket_type_2),e.getClosedTickets()})})}},{key:"renderPROTable",value:function(e){var t=this;return n.createElement(vt.a,{size:"small",className:Object(st.default)("dashboard-table")},n.createElement(_t.a,null,n.createElement(F.a,null,n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Member Name"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell"),style:{paddingRight:"5px"}},"Date Admitted"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Hospital"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell"),style:{paddingRight:"5px"}},"Length of Stay"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell"),style:{minWidth:"100px"}},"Action"))),n.createElement(yt.a,null,e.map(function(e,a){return n.createElement(F.a,{style:{cursor:"pointer"},key:a,className:Object(st.default)(a%2===0?"high"===e.urgency?"dashboard-table-hg-even-row":"dashboard-table-even-row":"high"===e.urgency?"dashboard-table-hg-odd-row":"dashboard-table-odd-row"),onClick:function(){window.location.replace("#/customer-care/".concat(e.path,"/").concat(e.app_uid,"/").concat(e.id))}},n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),component:"th",scope:"row"},n.createElement(it.a,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(ct.a,{style:{marginRight:8},className:Object(st.default)("urgency-indicator","urgency-".concat(mo[e.urgency])),align:"center"},mo[e.urgency]),n.createElement(pe.a,{style:{marginRight:8},className:Object(st.default)("status-circle","status-circle-".concat(e.status?e.status.toLowerCase():"default")),title:e.status,icon:N.k}),n.createElement(Ct.b,{className:Object(st.default)("dashboard-table-data-cell-link"),to:"#"},t.handleRecreateName(e.name)))),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell")},ft()(e.date_admitted).format("MMM D, YYYY")),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm")},e.hospital),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm")},e.no_of_days),t.renderAction(e))})))}},{key:"renderNonPROTable",value:function(e){var t=this;return n.createElement(vt.a,{size:"small",className:Object(st.default)("dashboard-table")},n.createElement(_t.a,null,n.createElement(F.a,null,n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"ID"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Due Date"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Ticket Type"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Member/Client Name"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Action"))),n.createElement(yt.a,null,e.map(function(e,a){return n.createElement(F.a,{style:{cursor:"pointer"},key:a,className:Object(st.default)(a%2===0?"high"===e.urgency?"dashboard-table-hg-even-row":"dashboard-table-even-row":"high"===e.urgency?"dashboard-table-hg-odd-row":"dashboard-table-odd-row"),onClick:function(){window.location.replace("#/customer-care/".concat(e.path,"/").concat(e.app_uid,"/").concat(e.id))}},n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),component:"th",scope:"row"},n.createElement(Ct.b,{className:Object(st.default)("dashboard-table-data-cell-link"),to:"#"},e.ticket_id)),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell")},ft()(e.due_date).format("MMM D, YYYY")),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm")},e.ticket_type_title),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm")},e.name),t.renderAction(e))})))}},{key:"renderAction",value:function(e){return n.createElement(j.a,null,e.is_view?n.createElement(ct.a,{className:Object(st.default)("dashboard-claim-link")},"View"):"Complaint - Close Ticket"===e.task_title||"Complaint - Claim Close Task"===e.task_title||"Complaint - Escalate Ticket 3"===e.task_title||"Inpatient - Review Ticket"===e.task_title||"Approval - Claim Close Ticket"===e.task_title||"Approval - Escalate Ticket 4"===e.task_title?n.createElement(ct.a,{className:Object(st.default)("dashboard-claim-link")},"Close"):"Outpatient - Approvers Submit for Assessment"===e.task_title||"Outpatient - Approver Submit for Assessment"===e.task_title||"Outpatient - Approver Summarize Assessment"===e.task_title||"Outpatient - Submit for Assessment"===e.task_title||"Outpatient - Summarize Assessment"===e.task_title||"Inpatient - Approvers Proceed with Final Assessment"===e.task_title||"Inpatient - Approver Proceed with Final Assessment"===e.task_title||"Inpatient - Approver Summarize Assessment"===e.task_title||"Inpatient - Proceed with Final Assessment"===e.task_title||"Inpatient - Summarize Assessment"===e.task_title||"Approval - Approvers Submit for Assessment"===e.task_title||"Approval - Approver Submit for Assessment"===e.task_title||"Approval - Approver Summarize Assessment"===e.task_title?n.createElement(ct.a,{className:Object(st.default)("dashboard-claim-link")},"Approve"):"Inquiry - Comment"===e.task_title||"Inquiry - Escalate Ticket"===e.task_title||"Outpatient - Comment"===e.task_title||"Complaint - Comment"===e.task_title||"Complaint - Comment 2"===e.task_title||"Complaint - Escalate Ticket"===e.task_title||"Complaint - Escalate Ticket 2"===e.task_title||"Endorsement - Comment"===e.task_title||"Endorsement - Escalate Ticket"===e.task_title||"Approval - Comment"===e.task_title||"Approval - Comment 2"===e.task_title||"Approval - Comment 3"===e.task_title||"Approval - Comment 4"===e.task_title?n.createElement(ct.a,{className:Object(st.default)("dashboard-claim-link")},"Comment"):n.createElement(ct.a,{className:Object(st.default)("dashboard-claim-link")},"Update"))}},{key:"renderCard",value:function(e,t,a,r){var i=this;return n.createElement(n.Fragment,null,n.createElement(ct.a,{className:Object(st.default)("sub-title")},e),n.createElement(Fe.a,{className:Object(st.default)("content"),style:{height:"100%"}},n.createElement(it.a,{className:Object(st.default)("card-header"),display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(it.a,null,n.createElement(ct.a,{className:Object(st.default)("dashboard-count"),style:{color:"#3AB77D"}},t),n.createElement(ct.a,{className:Object(st.default)("dashboard-count-description")},"Open and Pending Tickets")),n.createElement(it.a,null,n.createElement(oo,{items:co,value:this.state[r],onChange:function(e){i.handleTicketTypeSelect(e,r)}}))),n.createElement(it.a,{className:Object(st.default)("card-content")},a)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.confinedPatientChangesList,i=t.unassignedTicketList,l=t.closeAccountTicketList,s=t.approveTicketList,o=t.role,c=t.isModalOpen,m=t.modalTitle,u=t.modalMessage,d=t.group,p=t.isPRO,f=this.state.proTicketList,h=this.state.nonProTicketList;return"created_tickets"===this.state.ticket_type_1&&(f=this.state.proTicketList.filter(function(t){return t.ticket_owner_user_id===e.state.user_id})),"created_tickets"===this.state.ticket_type_2&&(h=this.state.nonProTicketList.filter(function(t){return t.ticket_owner_user_id===e.state.user_id})),n.createElement("div",{className:Object(st.default)("Dashboard")},a?n.createElement(Ba.a,null):null,n.createElement(_.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},n.createElement(_.a,{item:!0,xs:12},n.createElement(_.a,{container:!0,justify:"flex-start",alignItems:"flex-start"},n.createElement(_.a,{item:!0,xs:12},n.createElement(ct.a,{className:Object(st.default)("title")},"Dashboard \xa0\xa0",n.createElement("span",{style:{color:"#3AB77D",fontSize:"18px",cursor:"pointer"},onClick:function(){return window.location.reload()}},n.createElement(pe.a,{icon:N.E}),"\xa0",n.createElement(Ct.b,{to:"#",style:{color:"#3AB77D"}},"Refresh Page")))))),n.createElement(_.a,{item:!0,xs:12,md:12},n.createElement(_.a,{container:!0,justify:"space-between",spacing:4,alignItems:"flex-start"},n.createElement(_.a,{item:!0,xs:12,md:8},p?this.renderCard("Your Ticket List",f.length,this.renderPROTable(f),"ticket_type_1"):null,this.renderCard(p?"":"Your Ticket List",h.length,this.renderNonPROTable(h),"ticket_type_2")),n.createElement(_.a,{item:!0,xs:12,md:4},n.createElement(ct.a,{className:Object(st.default)("sub-title")},"Your Task Tray"),n.createElement(Fe.a,{className:Object(st.default)("content"),style:{display:d&&d.department&&"Patient Relations"===d.department?"block":"none"}},n.createElement(it.a,{className:Object(st.default)("card-header")},n.createElement(ct.a,{className:Object(st.default)("dashboard-count"),style:{color:"#FD5451"}},r.length),n.createElement(ct.a,{className:Object(st.default)("dashboard-count-description")},"Changes in Status and Benefits",n.createElement("br",null),"of Confined Patients")),n.createElement(it.a,{className:Object(st.default)("card-content"),alignItems:"flex-start"},n.createElement(vt.a,{size:"small",className:Object(st.default)("dashboard-table")},n.createElement(_t.a,null,n.createElement(F.a,null,n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Name"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell"),style:{textAlign:"right"}},"Change"))),n.createElement(yt.a,null,r.map(function(e,t){return n.createElement(F.a,{style:{cursor:"pointer"},key:t,className:Object(st.default)(t%2===0?"dashboard-table-even-row":"dashboard-table-odd-row")},n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),component:"th",scope:"row"},n.createElement(it.a,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(pe.a,{style:{visibility:"terminated"===e.status?"visible":"hidden",color:"#FD5451",marginRight:"4px"},icon:N.o}),n.createElement(Ct.b,{className:Object(st.default)("dashboard-table-data-cell-link"),to:"#"},e.name))),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm")},e.description))}))))),n.createElement(Fe.a,{className:Object(st.default)("content")},n.createElement(it.a,{className:Object(st.default)("card-header")},n.createElement(ct.a,{className:Object(st.default)("dashboard-count"),style:{color:"#FD5451"}},i.length),n.createElement(ct.a,{className:Object(st.default)("dashboard-count-description")},"Unassigned Tickets")),n.createElement(it.a,{className:Object(st.default)("card-content"),alignItems:"flex-start"},n.createElement(vt.a,{size:"small",className:Object(st.default)("dashboard-table")},n.createElement(_t.a,null,n.createElement(F.a,null,n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Name"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell"),style:{textAlign:"right"}},"Action"))),n.createElement(yt.a,null,i.map(function(t,a){return n.createElement(F.a,{key:a,className:Object(st.default)(a%2===0?"dashboard-table-even-row":"dashboard-table-odd-row")},n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),component:"th",scope:"row"},n.createElement(it.a,{display:"flex",flexDirection:"row",alignItems:"center"},t.name)),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),style:{textAlign:"right"}},n.createElement(Ct.b,{className:Object(st.default)("dashboard-claim-link"),style:{cursor:"pointer"},to:"#",onClick:function(){e.handleClaim("unassigned",t)}},"Claim")))}))))),n.createElement(Fe.a,{className:Object(st.default)("content"),style:{display:o.length>0&&p&&o.findIndex(function(e){return e&&e.name&&("ticket reviewers"===e.name.toLocaleLowerCase()||"ticket lead"===e.name.toLocaleLowerCase())})>=0?"block":"none"}},n.createElement(it.a,{className:Object(st.default)("card-header")},n.createElement(ct.a,{className:Object(st.default)("dashboard-count"),style:{color:"#FD5451"}},l.length),n.createElement(ct.a,{className:Object(st.default)("dashboard-count-description")},"Tickets to Close")),n.createElement(it.a,{className:Object(st.default)("card-content"),alignItems:"flex-start"},n.createElement(vt.a,{size:"small",className:Object(st.default)("dashboard-table")},n.createElement(_t.a,null,n.createElement(F.a,null,n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Name"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell"),style:{textAlign:"right"}},"Action"))),n.createElement(yt.a,null,l.map(function(t,a){return n.createElement(F.a,{key:a,className:Object(st.default)(a%2===0?"dashboard-table-even-row":"dashboard-table-odd-row")},n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),component:"th",scope:"row"},n.createElement(it.a,{display:"flex",flexDirection:"row",alignItems:"center"},t.name)),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),style:{textAlign:"right"}},n.createElement(Ct.b,{className:Object(st.default)("dashboard-claim-link"),to:"#",style:{cursor:"pointer"},onClick:function(){e.handleClaim("closeaccount",t)}},"Claim")))}))))),n.createElement(Fe.a,{className:Object(st.default)("content"),style:{display:o.length>0&&p&&o.findIndex(function(e){return e&&e.name&&("ticket reviewers"===e.name.toLocaleLowerCase()||"ticket lead"===e.name.toLocaleLowerCase()||"ticket approvers"===e.name.toLocaleLowerCase())})>=0?"block":"none"}},n.createElement(it.a,{className:Object(st.default)("card-header")},n.createElement(ct.a,{className:Object(st.default)("dashboard-count"),style:{color:"#FD5451"}},s.length),n.createElement(ct.a,{className:Object(st.default)("dashboard-count-description")},"Tickets to Approve")),n.createElement(it.a,{className:Object(st.default)("card-content"),alignItems:"flex-start"},n.createElement(vt.a,{size:"small",className:Object(st.default)("dashboard-table")},n.createElement(_t.a,null,n.createElement(F.a,null,n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell")},"Name"),n.createElement(j.a,{className:Object(st.default)("dashboard-table-header-cell"),style:{textAlign:"right"}},"Action"))),n.createElement(yt.a,null,s.map(function(t,a){return n.createElement(F.a,{key:a,className:Object(st.default)(a%2===0?"dashboard-table-even-row":"dashboard-table-odd-row")},n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),component:"th",scope:"row"},n.createElement(it.a,{display:"flex",flexDirection:"row",alignItems:"center"},t.name)),n.createElement(j.a,{className:Object(st.default)("dashboard-table-data-cell-sm"),style:{textAlign:"right"}},n.createElement(Ct.b,{className:Object(st.default)("dashboard-claim-link"),to:"#",style:{cursor:"pointer"},onClick:function(){e.handleClaim("approveticket",t)}},"Claim")))})))))))),n.createElement(lo,{isModalOpen:c,title:m,message:u,onClose:function(){e.setState({isModalOpen:!1},function(){e.getOpenTickets(e.state.ticket_type_1,e.state.ticket_type_2),e.getUnassignedTickets()}),window.location.reload()},buttons:n.createElement(Ie.a,{style:{backgroundColor:"#3AB77D",color:"white",padding:"10px 30px"},onClick:function(){e.setState({isModalOpen:!1},function(){e.getOpenTickets(e.state.ticket_type_1,e.state.ticket_type_2),e.getUnassignedTickets()}),window.location.reload()},variant:"contained"},"Okay")})))}}]),t}(n.Component),po=a(265);a(747);function fo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ho="",go=!1,Eo=!1,bo=new(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).DB_OBJECT=void 0,a.STORE_OBJECT=void 0,a.initStorage=function(e){a.openDb(e).then(function(e){a.DB_OBJECT=e.result;"upgradeneeded"===e.cbType&&[{name:"user_data",keyPath:"key"},{name:"icd10",keyPath:"key"},{name:"cpt",keyPath:"key"},{name:"icd10_list",keyPath:"_id"},{name:"cpt_list",keyPath:"_id"},{name:"tmp",keyPath:"key"},{name:"config",keyPath:"key"}].forEach(function(e){if(!Object(ue.a)(a.DB_OBJECT.objectStoreNames).includes(e))if("cpt_list"===e.name){a.createStoreOnDb(a.DB_OBJECT,e.name,e.keyPath,[{name:"label",keyPath:"label",unique:!1}])}else if("icd10_list"===e.name){a.createStoreOnDb(a.DB_OBJECT,e.name,e.keyPath,[{name:"full_code",keyPath:"full_code",unique:!1},{name:"full_description",keyPath:"full_description",unique:!1}])}else a.createStoreOnDb(a.DB_OBJECT,e.name,e.keyPath).then(function(e){return console.log(e)}).catch(function(e){return e})})}).catch(function(e){return console.log(e)})},a.saveEntry=function(e,t){return a.openDb("himsDb").then(function(n){return a.DB_OBJECT=n.result,a.saveToStore(a.DB_OBJECT,t,e)})},a.getSingleEntryByKeyReturnValue=function(e,t){return a.openDb("himsDb").then(function(n){return a.DB_OBJECT=n.result,a.getByKeyReturnValue(a.DB_OBJECT,e,t)})},a.getAllEntry=function(e){return a.openDb("himsDb").then(function(t){return a.DB_OBJECT=t.result,a.getAll(a.DB_OBJECT,e)})},a.updateEntry=function(e,t,n){return a.openDb("himsDb").then(function(r){return a.DB_OBJECT=r.result,a.updateEntryByKey(a.DB_OBJECT,e,t,n)})},a.deleteEntry=function(e,t){return new Promise(function(n,r){a.openDb("himsDb").then(function(i){a.DB_OBJECT=i.result,a.deleteEntryByKey(a.DB_OBJECT,e,t).then(function(e){n(e)}).catch(function(e){return r(e)})})})},a.validateStoreCount=function(e,t){return a.openDb(e).then(function(e){return a.DB_OBJECT=e.result,a.getStoreCount(a.DB_OBJECT,t)})},a.clearUser=function(e){return a.openDb(e).then(function(e){return a.DB_OBJECT=e.result,a.clearStore(a.DB_OBJECT,"user_data")})},a}return Object(d.a)(t,e),t}(function e(){Object(o.a)(this,e),this.deleteDb=function(e){var t=window.indexedDB.deleteDatabase(e);return new Promise(function(e,a){t.onerror=function(e){console.log("Error deleting database."),a(e)},t.onsuccess=function(t){e(t)}})},this.openDb=function(e){var t=window.indexedDB.open(e,3);return new Promise(function(e,a){var n={cbType:"",result:{}};t.onerror=function(){a("Error opening database.")},t.onsuccess=function(t){var a=t.target.result;n.cbType=t.type,n.result=a,e(n)},t.onupgradeneeded=function(t){var a=t.target.result;n.cbType=t.type,n.result=a,e(n)}})},this.createStoreOnDb=function(e,t,a,n){var r=e.createObjectStore(t,{keyPath:a,autoIncrement:!1});return new Promise(function(e,t){var a={cbType:"",result:{}};n&&n.length>0&&n.forEach(function(e){r.createIndex(e.name,e.keyPath,{unique:e.unique})}),r.transaction.onerror=function(){t("error creating store on db.")},r.transaction.oncomplete=function(t){var n=t.target.result;a.cbType=t.type,a.result=n,e(a)}})},this.saveToStore=function(e,t,a){var n=e.transaction([t],"readwrite"),r=n.objectStore(t);return new Promise(function(e,t){var i={cbType:"",result:{}};(!a||a.length<0)&&t({type:"error",message:"entries invalid"}),a.forEach(function(e){r.put(e)}),n.oncomplete=function(t){i.cbType=t.type,i.result="Saved complete.",e(i)}})},this.getByKeyReturnValue=function(e,t,a){return new Promise(function(n,r){try{e.transaction(t,"readonly");var i=e.transaction(t,"readonly").objectStore(t),l={cbType:"",result:{}};i.get(a).onsuccess=function(e){var t=e.target.result;void 0===t?(l.cbType="error",l.result=null,r(l)):(l.cbType=e.type,l.result=t.value,n(l))}}catch(s){r("store not found.")}})},this.updateEntryByKey=function(e,t,a,n){return new Promise(function(r,i){try{e.transaction([t],"readwrite");var l=e.transaction([t],"readwrite").objectStore(t),s={cbType:"",result:{}};e.onerror=function(e){console.log(e)},l.get(a).onsuccess=function(e){var t=e.target.result;void 0!==t?(t.value=n,l.put(t).onsuccess=function(e){s.cbType=e.type,s.result={message:"value updated."}},r(s)):(s.cbType="error",s.result={message:"error updating value."},i(s))}}catch(o){i("store not found.")}})},this.getAll=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readonly").objectStore(t).getAll();r.onerror=function(){n("Error getting all data.")},r.onsuccess=function(e){a(e.target.result)}})},this.deleteEntryByKey=function(e,t,a){return new Promise(function(n,r){var i=e.transaction(t,"readwrite").objectStore(t),l={cbType:"",result:{}};i.delete(a).onsuccess=function(e){void 0===e.target.result?(l.cbType="error",l.result=null,r(l)):(l.cbType=e.type,l.result="entry deleted",n(l))}})},this.getStoreCount=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readwrite").objectStore(t).count();r.onerror=function(){n("error getting store count.")},r.onsuccess=function(e){a(e.target.result)}})},this.filterBy=function(e,t,a,n,r){return new Promise(function(i,l){var s=e.transaction(t,"readwrite").objectStore(t).index(a);if(0!==n.length){var o=s.openCursor(),c=[];o.onerror=function(){l("error filter")},o.onsuccess=function(e){var t=e.target.result;if(t){switch(r){case"startsWith":t.value[a].toLowerCase().startsWith(n.toLowerCase())&&c.push(t.value);break;case"match":t.value[a].toLowerCase().match(n.toLowerCase())&&c.push(t.value);break;default:t.value[a].toLowerCase().startsWith(n.toLowerCase())&&c.push(t.value)}t.continue()}else i(c)}}else i([])})},this.clearStore=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readwrite").objectStore(t).clear();r.onerror=function(){n("error clearing store")},r.onsuccess=function(){a("store cleared")}})}})),vo=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(p.a)(e,2),i=t[0],l=t[1],s=0,o=[],c=0,m=[];Object(n.useEffect)(function(){var e={PARTNER_URL:Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_PARTNER_URL:"http://18.138.94.224:5101/",REACT_APP_RENDER_CONTRACT_BASE_URL:"http%3A%2F%2Fhims-api-dev.seerlabs.com%2Fclient%2Fapi%2F",REACT_APP_PMAKER_BASE_URL:"http://18.136.38.239/api/1.0/workflow/",REACT_APP_PMAKER_ROOT_URL:"http://18.136.38.239/workflow/",REACT_APP_BASE_URL:"http://hims-api-dev.seerlabs.com/client/api/"}).REACT_APP_HIMS_API_PARTNER_URL,CLIENT_URL:Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_PARTNER_URL:"http://18.138.94.224:5101/",REACT_APP_RENDER_CONTRACT_BASE_URL:"http%3A%2F%2Fhims-api-dev.seerlabs.com%2Fclient%2Fapi%2F",REACT_APP_PMAKER_BASE_URL:"http://18.136.38.239/api/1.0/workflow/",REACT_APP_PMAKER_ROOT_URL:"http://18.136.38.239/workflow/",REACT_APP_BASE_URL:"http://hims-api-dev.seerlabs.com/client/api/"}).REACT_APP_HIMS_API_CLIENT_URL},t=Object.entries(e).map(function(e){return{key:e[0],value:e[1]}});bo.initStorage("himsDb"),bo.saveEntry(t,"config").then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),bo.clearUser("himsDb").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},[]);var u=function(){console.log(ho),"Underwriting"===ho?(localStorage.setItem("sidebar","dashboard"),window.location.replace("underwriting/index.html#/underwriting/")):"Customer Care"===ho?window.location.replace("customer-care/index.html#/customer-care/"):"Membership"===ho?(localStorage.setItem("sidebar","dashboard"),window.location.replace("membership/index.html#/membership/")):"Claims"===ho?(localStorage.setItem("sidebar","dashboard"),window.location.replace("claims")):window.location.replace("system-admin/index.html#/system-admin/")},d=function(){var e=Object(Kl.a)(zl.a.mark(function e(){var t,a,n;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={limit:2e4,skip:c},a="".concat("http://hims-api-dev.seerlabs.com/client/api/","icd10-codes?filter=").concat(JSON.stringify(t)),n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=5,fetch(a,n).then(function(e){return e.json()}).then(function(e){e.length>0?(c+=e.length,m.push.apply(m,Object(ue.a)(e)),d()):bo.saveEntry(m,"icd10_list").then(function(){Eo=!0,go&&u()}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(Kl.a)(zl.a.mark(function e(){var t,a,n;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo.getSingleEntryByKeyReturnValue("icd10","date_updated");case 2:return t=e.sent,a="".concat("http://hims-api-dev.seerlabs.com/client/api/","icd10-codes/latest/").concat(t.result),n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=7,fetch(a,n).then(function(e){return e.json()}).then(function(e){var t=[];e.forEach(function(e){var a={key:"",value:{}};a.key=e._id,a.value=e,t.push(a),bo.saveEntry(t,"icd10_list").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})})}).catch(function(e){return console.log(e)});case 7:Eo=!0,go&&u();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(Kl.a)(zl.a.mark(function e(){var t,a,n;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={limit:1e3,skip:s},a="".concat("http://hims-api-dev.seerlabs.com/client/api/","cpts?filter=").concat(JSON.stringify(t)),n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=5,fetch(a,n).then(function(e){return e.json()}).then(function(e){e.length>0?(s+=e.length,o.push.apply(o,Object(ue.a)(e)),h()):bo.saveEntry(o,"cpt_list").then(function(){go=!0,Eo&&u()}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(Kl.a)(zl.a.mark(function e(){var t,a,n;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo.getSingleEntryByKeyReturnValue("cpt","date_updated");case 2:return t=e.sent,a="".concat("http://hims-api-dev.seerlabs.com/client/api/","cpts/latest/").concat(t.result),n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=7,fetch(a,n).then(function(e){return e.json()}).then(function(e){var t=[];e.forEach(function(e){var a={key:"",value:{}};a.key=e._id,a.value=e,t.push(a),bo.saveEntry(t,"cpt_list").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})})}).catch(function(e){return console.log(e)});case 7:go=!0,Eo&&u();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(Kl.a)(zl.a.mark(function e(t){var a,n,r;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.entries(t.login).map(function(e){return{key:e[0],value:e[1]}}),n=Object.entries(t.icd10).map(function(e){return{key:e[0],value:e[1]}}),r=Object.entries(t.cpt).map(function(e){return{key:e[0],value:e[1]}}),bo.saveEntry(a,"user_data").then(function(e){console.log(e)}).catch(function(e){return console.log(e)}),bo.getSingleEntryByKeyReturnValue("icd10","date_updated").then(function(e){e.result===t.icd10.date_updated?bo.validateStoreCount("himsDb","icd10_list").then(function(e){console.log(e),0===e?d():u()}):(f(),bo.updateEntry("icd10","date_updated",t.icd10.date_updated).then(function(){}).catch(function(e){return console.log(e)}))}).catch(function(){bo.saveEntry(n,"icd10").then(function(e){console.log(e),d()}).catch(function(e){return console.log(e)})}),bo.getSingleEntryByKeyReturnValue("cpt","date_updated").then(function(e){e.result===t.cpt.date_updated?bo.validateStoreCount("himsDb","cpt_list").then(function(e){0===e?h():u()}):(g(),bo.updateEntry("cpt","date_updated",t.cpt.date_updated).then(function(e){console.log(e)}).catch(function(e){return console.log(e)}))}).catch(function(){bo.saveEntry(r,"cpt").then(function(){h()}).catch(function(e){return console.log(e)})});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=Object(n.useRef)(null),y=Object(n.useRef)(null),N=function(e){return function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fo(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fo(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},i,Object(v.a)({},e,t.target.value));l(a)}},S=function(){var e=Object(Kl.a)(zl.a.mark(function e(){var t,a;return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("http://hims-api-dev.seerlabs.com/client/api/","login"),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},k(!0),e.next=5,fetch(t,a).then(function(e){return e.json()}).then(function(){var e=Object(Kl.a)(zl.a.mark(function e(t){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error){e.next=17;break}return localStorage.setItem("api_token",t.login.access_token),localStorage.setItem("pm_token",t.login.access_token),localStorage.setItem("user_id",t.login.user_id),localStorage.setItem("employee_id",t.login.employee_id),localStorage.setItem("first_name",t.login.first_name),localStorage.setItem("last_name",t.login.last_name),localStorage.setItem("XDEV_PARTNER_URL","http://18.138.94.224:5101/"),localStorage.setItem("XDEV_CLIENT_URL","http://18.141.77.243:4101/api/"),localStorage.setItem("XDEV_PMAKER_BASE_URL","http://18.136.38.239/api/1.0/workflow/"),"Underwriting"===t.login.main_module?localStorage.setItem("sidebar","dashboard"):"Customer Care"===t.login.main_module||"Membership"===t.login.main_module&&localStorage.setItem("sidebar","dashboard"),ho=t.login.main_module,t.login.pm_token=t.login.access_token,e.next=15,E(t);case 15:e.next=20;break;case 17:k(!1),alert(t.error.message),window.location.reload();case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){alert(e.message),window.location.reload()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(Kl.a)(zl.a.mark(function e(){return zl.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.username.length){e.next=4;break}return alert("Username is required."),window.location.reload(),e.abrupt("return");case 4:if(0!==i.password.length){e.next=8;break}return alert("Password is required."),window.location.reload(),e.abrupt("return");case 8:return e.next=10,S();case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),A=Object(n.useState)(!1),T=Object(p.a)(A,2),I=T[0],k=T[1];return r.a.createElement(_.a,{container:!0,className:"login-main"},r.a.createElement("img",{alt:"shape1",className:"login-shape-1",src:a(748)}),r.a.createElement("img",{alt:"shape2",className:"login-shape-2",src:a(749)}),r.a.createElement(_.a,{item:!0,xs:6}),r.a.createElement(_.a,{item:!0,xs:6,className:"login-block"},r.a.createElement("img",{alt:"logo",className:"login-logo",src:a(750)}),r.a.createElement("div",{className:"login-project-name"},"Intellicare HIMS"),r.a.createElement("div",{className:"login-input-area"},r.a.createElement("span",{className:"login-text"},"Username"),r.a.createElement(po.a,{className:"login-text-field",fullWidth:!0,value:i.username,onChange:N("username"),inputRef:b})),r.a.createElement("div",{className:"login-input-area"},r.a.createElement(_.a,{container:!0,className:"login-text"},r.a.createElement(_.a,{item:!0,xs:6},"Password"),r.a.createElement(_.a,{item:!0,xs:6,style:{textAlign:"right"}},r.a.createElement(C.a,{className:"login-link",onClick:function(){alert("onForgotPassword() clicked")}},"Forgot Password"))),r.a.createElement(po.a,{className:"login-text-field",fullWidth:!0,type:"password",onChange:N("password"),inputRef:y})),r.a.createElement(Ie.a,{disabled:!!I,className:"login-button",onClick:O},I?"Initializing...":"LOG IN"),r.a.createElement("div",{style:{paddingTop:"2.5rem"}},"Problems logging in? Please \xa0",r.a.createElement(C.a,{className:"login-link",onClick:function(){alert("onContact() clicked")}},"contact your IT Team"),"\xa0 for assistance.")))},_o=Object(b.a)(),yo=E.b.NotFoundPage;function Co(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],i=function(e,t){return function(a){function i(){return Object(o.a)(this,i),Object(m.a)(this,Object(u.a)(i).apply(this,arguments))}return Object(d.a)(i,a),Object(c.a)(i,[{key:"componentDidMount",value:function(){r(e)}},{key:"render",value:function(){return n.createElement(t,this.props)}}]),i}(n.Component)},l=[{path:"/home",component:i("dashboard",js)},{path:"/dashboard",component:i("dashboard",uo)},{path:"/",component:i("dashboard",uo),exact:!0},{path:"/login",component:i("dashboard",vo)},{path:"/tickets",component:i("tickets",no)},{path:"/create-ticket",component:i("create_ticket",ns)},{path:"/update-ticket/:caseId/:ticketId",component:i("create_ticket",Ds)},{path:"/resolve-ticket/:caseId/:ticketId",component:i("create_ticket",eo)}];return l.map(function(e){return e.path="".concat("/customer-care").concat(e.path)}),n.createElement("div",null,n.createElement(f.Helmet,{titleTemplate:"NEO - %s",defaultTitle:"NEO"},n.createElement("meta",{name:"description",content:"NEO application"})),n.createElement("div",{className:"side-bar"},n.createElement(E.a.UI.PageLayout,{history:_o,page:"customer care",selectedMenu:a,setSelectedMenu:r})),n.createElement("div",{className:"main"},n.createElement(g.c,null,Object(h.a)(l),n.createElement(g.a,{path:"",component:yo}))))}var No,So=a(429),Oo={en:E.b.Message.formatTranslationMessages("en",So)},Ao=a(277);!function(e){e.LOAD_REPOS="boilerplate/App/LOAD_REPOS",e.LOAD_REPOS_SUCCESS="boilerplate/App/LOAD_REPOS_SUCCESS",e.LOAD_REPOS_ERROR="boilerplate/App/LOAD_REPOS_ERROR"}(No||(No={}));var To=No;function Io(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ko={loading:!1,error:!1,currentUser:"",userData:{repositories:[]}};var Ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case To.LOAD_REPOS:return{currentUser:e.currentUser,loading:!0,error:!1,userData:{repositories:[]}};case To.LOAD_REPOS_SUCCESS:return{currentUser:t.payload.username,loading:!1,error:e.error,userData:{repositories:t.payload.repos}};case To.LOAD_REPOS_ERROR:e.error,e.loading;var a=Object(k.a)(e,["error","loading"]);return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Io(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Io(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({error:t.payload,loading:!1},a);default:return e}};function Do(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var wo=E.c.configureStore,Po=E.c.history,xo=E.b.Message.Provider,jo=E.a.Services.ServiceWorker,Fo=new s.a("Open Sans",{}),Lo=wo(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=E.c.history;return Object(ro.c)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Do(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Do(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({global:Ro,language:E.b.Message.messageProviderReducer,router:Object(Ao.b)(t)},e))},{},Po),Mo=document.getElementById("app"),Uo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co,a=E.b.Document.Component;i.render(n.createElement(a,{Component:t,store:Lo,componentProps:{}},n.createElement(xo,{messages:e},n.createElement(t,null))),Mo)};Fo.load(void 0,6e4).then(function(){document.body.classList.add("fontLoaded")}),window.Intl?Uo(Oo):new Promise(function(e){e(Promise.all([a.e(6),a.e(9)]).then(a.t.bind(null,1890,7)))}).then(function(){return Promise.all([a.e(8).then(a.t.bind(null,1891,7)),a.e(7).then(a.t.bind(null,1892,7))])}).then(function(){return Uo(Oo)}).catch(function(e){throw e}),jo.register()},79:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(8),r=a(9),i=a(14),l=a(12),s=a(13),o=a(0),c=(a(74),a(274)),m=a(84),u=a(767),d=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:"date-picker"},this.props.placeholder?o.createElement("div",{className:"text"},this.props.placeholder):null,o.createElement(m.a,{utils:c.a},o.createElement(u.a,{className:this.props.disabled?"text-field-disabled text-field":"text-field",disabled:this.props.disabled,variant:"dialog",format:"MM/DD/YYYY",minDate:this.props.minDate?this.props.minDate:new Date(1900,1,1),value:this.props.value,onChange:function(t){e.props.onChange(t?t.toDate():null)}})))}}]),t}(o.Component)}},[[480,1,3]]]);
//# sourceMappingURL=main.92f5bc5c.chunk.js.map