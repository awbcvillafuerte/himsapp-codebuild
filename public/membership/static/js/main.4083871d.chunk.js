(window.webpackJsonpmembership=window.webpackJsonpmembership||[]).push([[0],{138:function(e,t,a){},139:function(e,t,a){},155:function(e,t,a){},175:function(e,t,a){},2011:function(e,t,a){},2012:function(e,t,a){e.exports=a.p+"static/media/shape-1.23abf4d3.png"},2013:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAACQCAYAAABjwAWWAAAfU0lEQVR4Xu2de5Bc1X3nv79zz3309LylkTTSSPPQY9ALgaQBJPEUCGTsymYdC5Ja1vb6QeFNtuxUkt2qrL1F7cabRyUuZ7eylS3vJl4UArEMCBACIUW8JR4WVrDAmIcRBiNghIQ0mlF33/PYP27f7tvd93b3jEajeZxPFSUxBcy9Q3/0O+f3OId6rv2ylxv6hLVlhli2McUasy7LOGT5mWHLk5z5nFmCk2X7sAQna+8DP/jO3DntX4TBYBg1DDgKALAsR1vc1sCnsIZHNFmWHiGuiTHNfKFyllSWL9XN2+747qnTZ/bW+g8bDIZKGE+lNHM8DQA4Dpy2uGYs/Cujs1woRpYmZmkipn0h1R3//o//cORs5nCt/7jBYCjFasdSjvY2NIocKTVEynMpoxzyvCykskhnbeKcCEKAW5ogNH346Wl5/NiJ/Zs2XbqFW1ZrrW9iMBgCrM7OSy1/8AMaam1BWghSKZe0Gib3rENwXWh5lhwH0Moi32LEwaEtn95+852sY7vPXbx6+WcZo1Stb2QwGABrzpyVltYaaD+FIdFA6TPFKOdmzpJ2XWQzFjlODtrX5DNFtuAQXNChl1451d3b9fKSvu7PERGv9c0MhpmOtWjRlQxQ8AdHSIdRbtgl7Q1TRjnkODYBOeSyjGzbhvYt4lwAwiJhWfTU/hc/6lvc9XJvd9dNRGTX+oYGw0zGmj8flhBtFEa5RtFASg0RNTYCOoNslmBzi6B9OA6gNUgIDs590kKTtAj7nzp4rK97weHFvYtuNpHOYEjG6u/vZ0p1IYxyQ60taCUL6oxHypOklUNeLovo0lJpRYLb4JoRpIQFTY8/dfDYquX9ry/qmrfFSGcwxGP19PSwXO4oRaPcEFqQFqdKl5YZm+Dm4OecIOLls5YEDsEt4lLhkX1P/2r1ioveWLSw86agxmcwGKJYRwcGqF8IKPURgLnQJyMJFDVElGkEUhlkQXBdF0AOfk6Tbdvw/RxxToDQJDiHJQQ9su/pdwfWXvze/M6OLbW+ucEw07CwciU7OjJC/a5bkC5MoLSShbA2R5SGl81Ahfs5AcBx4Ps5sm0GCE3StmEJQTsf/ee3bty8yW9va7mi1gMYDDMJhh0rNTo6dPSLnKc0dwf1R46nLcvR7plGxfgZPWTZ2s7klGW7KmMJxblQluWoHLcVy7d++YwrS9ry8//m937wwQcf/9/kb20wzDyCfdYO4MmODt3U1KQ975fadRs1fz+Q7kS6RVnWKW19amvuZtWwnVIF6bKusrivrJxUvu1KZknFpZY+U8qStvzMF772vWPHBrfXegiDYaaQT2ys1ADwJIA46Y7brnbdjKqUTpRIl7OCSMcsqXymFBNcbf2tr/6Zkc5gCGDAncFyMrK0DKRrK0jHnOMl0jHrjB5iXLPhEW3ZfkE6LrTMWbbiUktmSSUsLY10BkORfIS7M/glv7QM/uYQQum8wVbFHE8ft13N+Wltn2lQ3MmqEdtT/GxORaULRnmMdAZDHGGtTAfSrdTR/RxwqPAP8mODmjmePuk1qQrpbK8gnW0rWS6dZaQzGAAAFgAq/u2TBNwCvDZIRwfSKKnPaQ2cPgXd2oKzZKGkRpeN1ugcuI6A9nXQjeIzElyCgwBp0fYf73zuN2++obmpKb2m2oMZDNORMuFQt3SFGt2wS5TOJUonbWakMxjyxAgHANcSMKeqdOH8HGNZBIXxSulsniMIwEhnMARY+V9joty1AOYAKwfpaDpeuuH29kC6bDOUJ4koBy9LQF464btGOoMhghX5fbx0r9Uj3amCdLl6pJMSnBvpDDOPqHCYMOl0pXQ333g1a21pHoDBMI0pFw5jkq79FIZZqXQZNUKpnFW3dP94/8MvmYZnw3QnTjjUlK5suiAc6YlKpxs0RivdvTt3/fTqjetPzumYdVV8MsdgmNokCYeq0g0Mo37pHErl/ETpbLIhhE+hdD/e9dirl6+75L3OeR3XmiFWw3SjmnAYH+nOVpVOcKqQbuejj7+5ZlX/mwu7OrcY6QzTiVrC4XxKV+xIIdgkIYQmyQmWtGjX3v1HL1l90dtd8+dtJqJ6ntNgmPTU+0EeF+ly+anxULryNjCbbGjhF6R7+PH97yxd3Hukp3vB9eYIPsN0oF7hMB7SKe9MRcmgVLog0ul8pOOK47Ennnp/QWfnoWVLurca6QxTndEIh/GRrrJOVxnp8tJZgXT7n33uowWdnYeW9C26gTHmJj2cwTDZGa1wGBfphiXl0vHSkWDwuUU2SZAkCAvEFccTzx38sKWt7cCKZX1bjXSGqcpYhMM5S8eSpXOcXEE6DlGUTlp47sWXjre0tR1YvrT3estiDUkPZzBMVsYqHCZCOiFtcO4TSYK0GSzB6LkXXzp++tTIY5etW7WJc6s96eEMhsnIuQiHMUkX7b1kWVCmEZlUJlY6gIrS5QvllhB05I23ho+8+vYj11w9cInr2POTHs5gmGycq3AYtXSRhudwiDWULpsluNks4FKFdLYtC4fNcqnw3ocf+o/vPbj7M1uu7EulvMVJD2cwTCbGQziMVbqhyOR48Uh1L146wQvSCc7BpcLpsyPyh9sf3Pubn93cZMZ7DFOB8RIOtaTrGRkhd5TSsZSthe/CdUXhmizbzmcvuSAuAXCG7ffcf+D6azacmTWrbVPSwxkMk4HxFA7VpDs6BulSvg+dj3SuKwBihQtESNqQtoIlNEHZ+NFDu1+58rL1H82dO+tq039pmKyMt3CoJd1AOg2RcEZKuXQ5SiO4my5cXvoAORBSBldlCR5IpzVBcty3+7HXV6+46OddC+ZuNl0phsnI+RAO1aR7beUgVZMuegSf9oapQjrhA7YNISUcmwE+I2krSAT9l4/s2//u3Hlznl/W132TKZAbJhvnSzhUle61QRoYiJcuPPeymbLQZ1Ogxhyy2itKF16VZdvwhShIBy4hEbSCPfncwcGmdNMzK5b3XWMxqzHpAQ2GieZ8Codqp4HVkm4YQDNloYZdKpXOhWBKOzlNsAV8ATg2A8nS/ssDh17+5PSpkX3r167cYHM+K+kBDYaJ5HwLh1rSlZ976ThpTafPQDY3UJJ05KXgk4DruyBHIBdpeo62gh154xdnXv/Fu49uvuqyy22bz016QINhopgI4VD13Msy6TjvA6AQSHeChtGMZsoinKnLag/hIGsupuk57L8Mu1J+dexY7sALrzx643VX9Lue25P0gAbDRDBRwiFGutgTnnO5o1SUjoE6hjEkGqhRD6PaIGuh/9KxwXXYChZ0pXx88oS458cP7/nsTde1NjWmVyc9oMFwvplI4TAW6fRJDeoYrjLImgUQ6Urxi61gxQI5QWjS2+/d+czmTQOnZ89u32hqdYYLwUQLh7FKVz5TR40MGZ2Bl/WAhK4UzkVpgVxy/OjhR3+2cumSny1aNP8GU6szTDQXQjjES1d5a4/rfgKluiqka6UM1JlI03NCV0p5gTy802D3/iffa5vVdqB/cc81lmWlkx7SYBhvLpRwiD/otVS6oBWsTLp6u1IqCuQ+CQmEZ6U88/xLgydOD+257JKVA7Ztd8Q9oMEw3lxI4TA66aq3gsUVyH0B2PkCubSdsrKBxGtv/HL4mQOHd229YdNK13UWxT2gwTCeXGjhUF262v2XYVdKRa2uIa1BAsK3Sm9kLZQNbFhC0PFTn4q/+387H9l6w0bV1toyYI5YN5xPJoNwSJau2H+ZdHNPUldK9NDZaK1OODZslA6zgjPc8+Ndh1avWPpG14J51xERj3tIg+FcmSzChYzq5p5iV0plgTxHaWSzmZIbWQtlA+HDtlk+0hUzmI/se+KdWW3tzy5b1r3JYlZz0kMaDGNlsgmH0UhXXiAvr9UVrkHOT5BLkdJBBtMpztXlM5jBtIGgp184dPydXx7bteHyS1a4rtOV9JAGw1iYrPuVmOe6M/+1VwnbgGsHB2loaIiAdchkTlI2e4ZE11kS2Q5qHz7FpGwhIbLkN44wkXNZkxLkew6TPmeezDLhcCalz5TNmSMtJkTWUtxithJMcYt5bgN/8N7/+e25c2bdUvksBsPYmIwRLqSuAnnVWl1S2SCSwYQQCI9YD5MpXCr4SmD7P+56+tpNaz+ZPbt9o7lQxDAeTPYPUU3pKsoGJyszmPpsqmyY1QUxpcMMZskZmAIIDykCZ9jx4GOvLpg79/nFfYuuZhYzRXLDOTHZhUP90lWelRLNYEaHWRuE1PFnYIrYZMr+Awc/+vjkyd2Xrb14rWPGfAznwFQQDtVbwYJaXT1lg6RpgzCZojUnIXyUJ1O4Unj9zaMjD+9+6uGtN2yck043LE96UIOhGlNFONSq1VUrG5SP+ITTBtksoUFIHbSD+XAlAU5wSJG0GWxpg6QsFMmHs2fVXXfvevKqKy79uKOjfZPZ1xlGy1T7wIxKuuQRn+CI9dJkils4L4W5Sof31XEIRGfrwBnue+ixn3d2dLywZHH3VWZfZxgNU024kLpqdXGNz8Pt7SUng8Wdl1LSmVIxWwdAcjxx8PmPPj55cveGdRdv4DafnfSgBkOUqSocEpMpr1XJYMacDBZtB0tMpgg/KB3kZ+ui+7r9T//koS3XX9Gd8rwlSQ9qMIRMZeEwXhnMYjKlOEXOWHGgFeQAZfs6YVnEpcSJ06flD7c/tHfD5Zccmztn1kbTh2moxlQXDvVkMMunDZKTKcF1yL5o0sXZuvAcTAEIoLCvixTJwRkeeHjP680NjU9dtLzvaotZTUkPa5jZTAfhUCuZUj5tEJdMaaUMMDKMyhOfg32d8N3YfV20XvfsT35y4q23fv3QxsvX9Luua+brDBVMF+FCxpxMKe9MqXtfV1ave+f9X2f/7q4HH7nx+g259raWAXNYkSHKdBMOo0um5KWrq0genA4mRUq7UgBOdF9X2oepLdA/7djz08XdnYe6Fy24kpn7yA15pqNwqD+ZUprB5CM5HZ74XFkk94pF8ormZ7tQryv0YSqGx59+9oPB4yceWbd29SpzNbIBk3g8ZzyIezcC7gx+t+1V2gZgsOaYT46EaCa/cYQp2Uhp/yyT6QYSfoZJ32aem2VS2EzKHHNszpS0mLQFU9JitmJMcck8t4Hfd9f3vrWga96/m+Y/c0MNpmuEC6k7mVJxDmakSF6+rys/vsFxciDm6WhLmBZ+cLGIlPC11Hf/0+7nL1rS/UrXgnkbLbPEnLFMd+FCkpMpSbN1Nep14SR5cACtgOMAQPJ8HRTDo0889d6xDz/eNbB29TLXdRYmPKthGjOTljd1TZEDwNDQEGUyfZTNniEAyHR8ylRuNs32sxSdJA+XmMEkeZYp5VFxiWkxx/Zjl5haMrbz3r/+Rm/Pwjtm0B96hhn4P7tmkTzameJ5F+nyM1Oik+TReh01pHVc6cBxuIbPCFJC2Za2hCBwwr079hzqXjD7pZ7ehRvMpZEzh5kmHGrt66KzdXH7uqR6XSrnR+44EHBdCg4rEiLY15EsnTpQDPuePXjszdfffWjTxrXLzRJzZjCTlpRRqmcwqywxhThLojNL0SVmtvEMU8Kn0sOKskxKzlKepHqWmDvu+qsvLV3a8/umF3N6MxMjXJQ663VuWR9m+bF8lfN14cnP0SWmVEqH1yOHl0aGvZg/emDfv6Rse+9F/b2XcJubuw6mKTNdONSzr4s2P8eVDlrJAsUuMV2wVL4PUwogf89BaaFcIpixIxz86cuf3vfgvp1XX7neb21pXkdEpi1smmGEC6i7Xpd0sUhs6QBUvEZL+xCS68oG6NIZu7N+Tt27Y8/Lra3NTy9b0r2Oc6st7oENUxMjXJHqxzfUmK+z5uZ0cdQnYYlZUii3dHiVFpX1YoIzPHPwxeN7/vngA5uvvKyxsSm9egbvt6cVRrhKqiwxA+miS0zPu0gzxoJRn+Hh6t0phSWmyM/Y5a/SclxtozjuI2Vwh92p4VNy+z2PPNffs+Dw/IXz1nLL3Hcw1THCxZMQ7W5JaAk7Wdc0uW85unTGLjiINrxghHMCU66mfItYGO0e2//M+y+8eOSBqzaunZVuSJkj+qYwRrhk6j4hrHyJyUdyunSaPFhiltxf56VKzsQEBcfzlZ4UpjWXBFIKH5044d9198NPrljWe6Rr/twBc1rY1MQIV5046QLxXiu/pbW0OyVuiRkeWOQzocvPxCxNqORPgBYcgktIcHApQbald+998ldHXnt757pLVjY2NTasNHu7qYURrj6qLjEru1OqLzGpkQE6PqHieVKH0a50uFVBKaa54njvww+y/3DPrmeW9HQe6lrYOcAtc4bKVMEIVz9jWmJGDywq9GKeKT0TM5pQ8XPBcKvrKl1ePgCXQfkgH+327H/2gxcOHL5/wxVrm020mxoY4UZHgnRPIrrETDqwqLwXMymhQvnDaKPlg/JoxyVAytYfffqJb6Ld1MEINzaqLjErDywqPxNzCMNoRlxCJXpokRQp7QgfsAWYtHRJsVwphAOuJtpNHYxwY6euJWZiL2Y+oRK2hYUJlfJLRsIj+iqiXcmAqyyJdgs75zzf3b1gDedWe9yDGy4c5k/BcyPp55efPAimDoCEK5IrJg9Kz09pkj75KYcJP8O09EjKLHMdn2nlUsn0gRJMOzbZUjClLKa4YO3pZvtv/9effHHp4kXfYIylEp7TMMGYCDc+jHmJyUc8XUyolDZB5yiNbDZTiHZULdrlG6EVBZnMszKrdtz3+OHhU0O7Vq/s73Y9pyfuwQ0Ti4lw40ddM3YYHKRr8zN2ldGug1QuE3uUQ1y0i521i4l2WjL2N9/7zjUbLltzp7np58JiItz4klwoD6NdpGYXdy5mtHxQGu1K93aJmUySYJLp6AQCOMPuxw8c/dnh1+5bv+7ihkaTVLlgGOHOD3VNHhwdGaH+mA6VypGf0umDMJPJ8ktMX/gldTvBBRyldbGEQIAkvD/4YW77PbuebWttfnpxT9cq27bNoOsEY/6UO38k/GzvLH5926sEJB/lgB5AZDtobi5DmcwQE6KZZKtP5cc5KCVI+jZrSAkSgjMpfaYkZ64jKVxmKm4xRytS3GJKCcaZY/39//7Tf7V8We+3bJvPin9Ww3hjItz5pcoSM7l8EB35iSuWU4aVRrv84UUlPZlgEMKHdLgOSwiCS9iKaVIKikHfv/PRXxx++ec71q5dSU1N6VXmzvLzj/kBTwwJ4oWXjFTvx6y5t4OHlO+X9mQqqeE4gBCQ0tVhwVwprYsnh9n49Scf5+6+d/cLIpd7dNmSnrmplNcX9wKG8cEIN3HUHe2i/ZjV93ZBtGNNUpcf1VdypEMkqcIhgqSKUpCcYCutwRkOvXLk9N9vf/DxxT3zX+rq6lxjjnY4P5g93MRTX/kgYW8HAOFlI3NzGfL9LGWzHgv3duUXjmgpKTiuzyMpckzKHPNcl4J9XnBkn6NsUvl9npaCNTW18v/zN3fesqSv73c5Zy0xz2sYIybCXRhqlw9qzNolZTKjEwiWkLrYDE2F0R+/xjIzp7Jqx/37jhx9+937Vq3s95qa0ivMxZLjgxHuwpJcPkDl3i5atysf+4kmVViz0BldPamC/DmZQe1OBSWE6DJTMbz1/rvZu+/d/SxJ7OlbsnBWyvMWm1XRuWGEu/DU3tvFRLvysZ9wyLVRD4POjhSiXVxSJbzFlYW1u7JsplRaSx4Uzcm29EuH/+XTH9714N6Oea1Pd83v7HJdpyvuRQy1MX9aTR5q7O2S63YAEL1IstgeliPR2kxS+CSyLlPSp4ranRYkHM60UoWGaK0dUtJn0raYVorscH+nFWnJ2Pf/7I82bLh83TdTDd7KmGc2VMEIN7moMX2A2HsPoj2ZiCRVon2Z4f0Hhb5M32EqLSh6zZZSQTJFK4fC3kytFUnbYrYUTGtOikumtSJbMvaDv/3u51asWvofXNsx1ynXiRFucnLu0a6iGToY/SnvVIlmMz3Jmco3RCstSdmcuarYrRI2RRfEk4x1zZllf+8v/9Mtfb29d9i2KSXUwuzhJi917+1i7z4oK5iXd6qEtbtczs83RAdnZZbv74qJFVmo3ynb0uGVW6ezw3LH/fuOHH75yI9Wr74o19zcuJIROXEvZDARbipwzsvM8r5MPxz/ac2SnymO/6iq+7sc065LjvSZVjaFV245WpFSFtN2sL9bvKjT/dPv/v62vt7uL9vcnpfw7DMWI9zUoG7pcA7LzELRXDZQdH8XbYrWKr/U1IqUtJhygl/LxZvT1mR//y//879esqznK65tspohRripRd3ilUY7oHo2M4h2UlR2qyiZnFhRtl9TvGbPsf7qL75948Wrl3zNS3n9Cc8/YzDCTU1qJ1VGscxMEi8usZKU0dQ1xLO1ou//j/9y3aWrVtyeTnurYp5/RmCEm7rUHe2AWuL1QGSHK/Z3SfW76BEPBfFchxxRn3jf/a/fGtiwceDrzU3pDQnvMG0xwk19xixe0jKzE4CfUL9T4yje175066LPb9vy1Y7Zsz5LRG7Ce0wrjHDTgzqki6/dIb+/Sy6aVyZWqokX1vC065ASPnPzXStR8coL6Ddu2dB++9dv++0F8+featt8Wp+laYSbXpyDeLW6VfLiSZ9US23xohEvFE8rSdIWTOuwgB4c+aC1IihOi+bNdv/kv/3h55YtXfTFfKP0tMMINz2pQ7za+zuMQ8SLiqeVIkdaLCqeoxQpJZi2g5k8KE62VvTnf/4fN65fu/pLLc1NGxPeZUpiOk2mNzHi5Y92yI//lHerREeAOHcK0wjW3Jwu7VjJlkwkREeByLNA+a6Vwoli0tJMai0kQTpa2zLoXAln8WylNeWnExTTes/eg+//w13379KW9dj8eXNEKuX1Mcam/D7PRLjpTx3Rrvr+DpHCeWUpob6Ip5QslBOinSthr6bWimITLPkJhf6eLu/OO7/5G329C29Ned6yhHea9BjhZg7nIF6wzERV8YKToqPiheWEYh2vUrxok7SOJFiK+7xigiVcbn77O7+7ZtOG9b89u731RppifZtGuJnHeRavMuJVihcU0HVKUEqVZjbDkkLYr6m1TeFMnrbtIOJpTloKdvP1l7fdfvsXty3smrNtqvRtGuFmLnWIVz2xgnMQL9oyprWgkgSLcki7qtAoHczkCaaVTeVlBShOnudYf/Hf/+DqS1ctv7W5uXHTZP5cT9oHM0wI1f7/j5N41ZaagpRsoLjMZvk+L1pIj5YVtLYputdbu2pZwzd/78vX9/Uu3Nrc0riBiOzkV5x4jHAGTIx4OQI6UN4kHdwKlGFR8ZSShQmFcJ8XbZYuRr3gCIgw6mlbF0oLWivatP7ipjvuuG1Lb3fn1ubmpgEAPPk1JwYjnCFKfeLl93cYg3gAEBf1wsxm+T6vISVIqehyU1JcdrOkpheJeqF8W66+vOUrX/nCTQsXzt/a3Jhed6GO/TPCGeKosr8Dake80nICygroxV7N5JJCuM8Lo54ns0xFlptxSZby0kL5kjPMcm69adOsf3vbb920oGveZxobGtZMpAcT9o0MU5LzJh4A1Jdgie7zakc9nW8hq1xyKipmOYvyDay/uOnrX/2dq3t6529ubWm6kjHWEPfC44URzlAPYxYPMZMJABDebw50oWKfV2W5GUY96dssmt2M7vU8V5GK1vW0Iu0EUbCafJ2dc5w/+KOvb1ixrHdzW2vrteejkdoIZxgNdYoX2eflr1jGOOzzyssKSVGvXD4ZKS8E8gW1vXj5ggRMilvsO3/8jUsvXbfmutntLZtdx1lY8dZjwAhnGAvVPjexBfTRigcAcWUFAKi21wsznBXyxe334uSL7vngIBAwSLp8ftuN63sXLlrX1tK4PtWQWjaWXmQjnOFcGL149ezz8ocdoWyfF7fcLEQ9KQjNzahXPk+VRj4AiGY7Cx0tti5ZemqtyAGwZs3y9G23/cbaJX0969pnta1r8NxVRFSz7GCEM4wH5yQekkaDyqJeXHYTACr2evlTx6JLTgAI5POCr0eWndpVFQmXUL7y6AcHiBNw4cJO947bb13T3790ffus1nVN6YaLicgr+1kY4QzjSv3iVUmwlC83kRD1ELPXA9qgpD8O8pUuPeECpdEvRkAAoYS21tTXu9D9wu98ZnH/4iVLZ89uXdqcblhqhDOcD0YhXjHqbQMwWMdyMynqxS05AaBasgUF+coTLkGpIQVAxQioHUWAi6iAgINwCQoEIkLlv56PhEY4w/mk1ucrdrkZJ15S1Ku25ASAcvniki0AkLTnA4C46AcAcREw/HecqIRak7aDr9f6gRgM48Uool615Wb1qIeEJSdmA9EeTpTJBwDl0U9rQemGIMJFox8ARAVEPpppZRd+nyShEc4w0YxCvPiohxp7vZryRSJf+Z4PABKjnxaERAElae0SvOD3biQKIiKhEc5woaj12UuMemNZcqJCvtJlJwAoEZQZlPSpBYDKt5YBzSXRD0jn93WlERAA4qIgAISRsNZLGwwTweiiXo0MJ4BRyxdNuCBSakAk6YJI9ENeyEBAoDwBE3ytUkIjnGEyUevzmBj1cI7yhQkXJEa/JAFLIyAARKMgADRoQcozwhkmL/V8LutacmIMy07k28pQFv3CxAtiBAyXoMhHQeSTMCiLhPW8mMFwIan1Ga265ByNfBitgGUREPk+T1SRsNbLGAyTiVqf13OWDzHRD6hfwPIoiDIJa72AwTAZqedzOyr5cI4Clu8BkyT8/68ZL/z8I1i9AAAAAElFTkSuQmCC"},2014:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAABECAYAAABnAhz7AAAAAXNSR0IArs4c6QAAI9dJREFUeAHt3AW4pkX1APDZEpCSDhEWMLELFGvFbn3sBLs7HvVRwfaxu7u7O7HFbsUAVFSkpWv3/Z/fYc/H3I/v3vvdy4L+153d9877zpw5NWfO9LdkiNA2hA0aWEcaWLqO8GxAs0EDqYENBrXBENapBpavU2z/g8jWrFnTPMuWLRtJbxSxdOn/Zltdrw1KxS5Zcm49j48Ul0TG+OBxLejIMOZ7gZ8xnXLKKe2kk04KWkvalltu2TbddNP5iq63+et5M1oTFTe0YRB3T1jOGulr/62J/HPfF1fPH/vYx9oBBxyQzxe/+MXFIVlPSq0fHmpN+BquKP7npDW9T3inYWmaEaOKjqmdHZW2YknAclcRLwkbW9KWtyFelqyJtjWE11oqb3W8a2tL0uso73088Ei6tiOOOKJ94xvfyPfb3/72/7PdHf2sHwa1dGZl5xe74YeG1fHo3qLy41kdxnTWknPa8hjzLI1/y9LkAiYLhQGFUni0c99m4h03KN+MylPv4nO72vnLZqH17M96YVC9/6jKjVoNI1rdTl96Sjvq9GPbSWec3o455uh26OF/aCefcmLbZcdd22X2vEzbetPN2vabbNM2W3qJtmytV0pvt4CKHtGMMjxW/70ANOsF6HphUGqiN6rs9iJhdXRfvznx1+3gI7/dfveXP7dvRrd04ikntbOGM9vGG2/a9txjj3bD6+zTrrzdXu3mu92mbdN2iC5xWeCCbbrAeJJeB35hGtQ4rY5svl6YtMdpTfpeLwxqUueiCztx9UntG0d8p/36jN+2L//oq+24k4/NTm7p6qXt5NNPaL/888/biu2XtNNWnNm2WnHJdrNdbt5WTNLSAtIuzArtjcn7OeecM+Js+fLzqvLC5GFEcJaX87iYBeD/RXLvnjC8dkxzxrLT29Grj2/HnnpiO/WE02JqZ9C9Oj3XmmWr29IzV7ejjz62nXDFk9rfTz+yhu1rx0+Lk7yv9MVhmLsUY1m9enU7/vjj29vf/vZ25plntu23377d4x73aFtsscXchS+C3BkG1Sujt3LpHml9+jh/k8r3aeDnKj+ObyHf56MTRrZ0ydI2nBN8nxPGk6Pu6M6Wnp1jq3NH4fFtprdkeTtndcCFjGZ/Lbo9+efxOskHnsfdeXDnpV1Yb+Q0Tvv3v//dXvrSl7bjjjuuXe1qV2u3vvWt06AuSl4myThjHQoztfLbA2sRHnnjFVdwlVflwfVP756rzLqKa8yD/1KotI2HjdouW+zUttpy87bx1svDTta05auXtxWxRLAiDGn58iVtu+23bpufvVm7/HaXC6Nbu9p97pRvavZm08nUCBYBOJKz0/N/w+r8DA/FGE4//fT28Y9/vP3xj38ceaXrXOc67Va3ulUa1GyyE5BizzjjjPbpT3+6/fa3v01Q6de61rXabW9729mKrpP0kYID24CXcCqbDlu1/Xa9ZVvyt1ge2Huj9p1v/qCdcOLx7cw1Z7ctY1B+2d12bfvuuU/be8d921W33is8WhjdWjkK30KZW2y5hdIZh2dMZdj/KR7wNMOgJFzsYhdrRx55ZHvBC14wYnCvvfZq++67b9t8882BzAiEqEqQcdhhh2XZ3/zmN5m+2Wabtbe+9a1pjJNaUJUvpD2uSqt4kqKUL0WC45mCIytQMQBf0y670Z5t293u1vbbcb9230sf1w7966HtpNNOaTttu1Pba9fd2tZbbtF22mS3tsnqkG1ZGKJ/gbNCz1+9F4+T+KlyfVzlpHnvv2eD69Nne+/1CWeFeh/nr9Jno1/lJ8XjuCbBSJthUDyU2cLd7na39opXvKKdcMIJaQi/+93v2mc/+9l2r3vda9Sl9AgxqCwBv/vd77bf//73IyPbZ599mmecIfDKlVJKSLFHAKNcPeM0fRf8efh5SguT54aNh+Vt54vt2HbcaId25c2XtRvtcYO2JhY7lywNb5SmtyRmdtQQM6YqFF9Fu8ePRn2LfRf/a8mNeK/vigve0KHKFA0w3qWDEwq+YmlgbEKLPZVXste3uA/9t/cerspWXHlVvtLre754hkFh1lhn9913bw984APby172slFlvuMd72h3vOMdz+eliiBlnHXWWe29731vCovwJpts0m55y1vmLARcMSsWpOkizVhssOpu5fFql7jEJdrFL37xfPqyWTD+FA6KFfANzvPvE09sx8dg9bTTzm5Llq9pO++yY9t0s83bRrGivia2adYEzNLo9oZlK8IpGTedhZlAeq5FwSHAbfBr4/fkk0/OceSKFSvaVlttlfyRb5pQ+PCIb7LCB7dZmnwzNDLrBcrgSiZlNHRxjWXRLbz4BCv2KF84wJWuahO7HIX6Lrp0XfjQEOAAo3zlZcYcf2YYlIKQKPzoRz+6ffCDH8zuTzov9f3vf7/d9KY3TZieiHfhm9/8ZvvRj340InepS10qDUolCL2QZ599dvv5z3/ePvGJT2Q5XeWJYQjCTjvt1K5whSu0G93oRs3e2OUud7mRYPJLuGOOOabZmGWQO+64Y7vd7W6XON8WXewPDjmkHXXUMW3zLS/eXvKSF7f973NAO+O0M9p73vfedsxxx8fM7+z28Ec9qm2x+ZYxWI/Kig6SGLwbeY499tj2la98JT0zPg0DNBjGvns0uOtf//rZwMR9KN76tNKP+Dvf+U6OMXnyP//5z2msjGWXXXZpV73qVRMnOTQ0+md422yzTdt///1zOALHq1/96vavf/0rYdCjhze96U1pjPR2m9vcpm200UbJAnhG++Uvf7l95jOfyfo5/PDDs6wGseuuu7a999476d785jfPfUljYPVz2ctett3pTneacTSnl2viexAchbDuoZ6w0uFJT3rSEBY6hCEMYRT5HQIO0RoG+QUrDu8y3OIWt0hY8J6nPvWpQ1TCCE6ZYDSfd73rXcMVr3jFxBuMxTh6ST7elRXHeG6IsdvwpS99aQgFZ7me7i9+8YshjC3hY+A/hFKH3XbbbcQzPFEZw0c+8pHkOabYQ1Ra0iHXX/7yl0wvBZCDbP/4xz+G+9///sPWW289Q56eT/zuueeeQ4wPh6c//ekjnFHZiQ4uQUzm8A7DS17ykiGMcQgDGslacovxtN122w0PeMADhp/+9KdDVHbChZEM0WhS53Btu+22I76qfkrnMSwZwvMlLF1Fwxge/vCHD9HgEj86YMfp7rzzzsOBBx44RAMfwlMmzJ3vfOfUe8mSAs3zR2schSooxsz3vve9IVrOiIFrXvOaQ7Sq8xkU2PBOQ7jrVBaFqci//vWvMwwPHAOLFjBE60ihwG688cbDHnvsMcAfayrDDjvskGklPMX++te/Trp4K/4YVLSi5E+sLAXDffnLX3649rWvPUTrG8CpiDIohgEOf4WPErxrGPe85z0zvyopuoNh5cqVie/qV7968sfY5TPg8AgpC5yvetWrUp+Fl8waw+tf//ohvNsIr/IMFs8aA/zS6AOe8Aype7zGpCgNqhoj4yj6eCgdhlca7nOf+wzh6VMWRvzYxz42G20ZEccQPUDqmr4ZknJo0neMny88g1IBGMQEggi/853vHFl/VSyFPeEJT0g4TIH1rbWXYmnZd7j6bIUEjLHIcN/73nf46le/mgqT71HRsQqcikYbbHQtw9FHHz2D9i9/+cs0KPQYEcO8xjWukQYb456EJQP+VKz3q1zlKun94OwNCp/RNQzPec5zsoLkx0G5IZY7hk996lPZ0vGmQfztb38b3vzmNw8x2UiZq0LwMW5Q8B5yyCEjT0oeRsnA4thLGjoYvEUXO9z97nfPhgmXhz7LoMiAR94rlnbSIOXz9DFpGn74wx8Of/jDHxKG8X34wx8eeSb62W+//Yb3v//9w9///veRtz/qqKOGD33oQ8NNbnKTpEfuonuBPVQ2rbV/qnIRi1OIIy91gxvcIFsx4TzgYlaXrRczBNwtWu3PfvazUeWDo7QYDKaBYlhrfdrTnpaKrHwwPd5YehhiHJW0tcLXvOY1SQ9NsGVQaHpizDbEGG6EA4xQ+OcyKDAq6tKXvnQqlJHoKv75z3+Oyhee4vEnP/lJ8keeqogyqOIR7EMe8pBRZV3pSlcaDj744DRyvPU8KqO7fcQjHjHSN7kYFN3BBUYc64TZ9clnoLpvuDzy+yEImBgfDfTJ0Iq3gvcNX29UPCODYsALCTO6vL4gpjz6Yy4ZU5SmhWlJxRhm3vOe9wy6hYJ50IMeNIyPteDinYwh4Lnuda87HHbYYSMllWLxABZ+3iAGpiODphR4SxG9QcH5uMc9LiuqlF7yFLxxyCQPhZ4yr3zlK0dyGLtp7cVL8SeWVmXwZ0xDdoZVYyj5YGPwPPLIYD75yU+mXJVfPBZOMjN84yYyVZfHoEoOcRmUfN0mbyddgIux17CC5+Ylq86Kdg+P7uGHH54eDZ+exRjUjK2XYG4UQph8dz46uq+ctkoIxecaVTCQs61grkWXkFN++TEuyFX1fhoqPZhvhx56aMy8jvKZMxow0Y3ljMpMxXs9ZllmbzGeylmf8tF6EzYRdH9Ch3mOO4w0+QxlJG/SPYI0ob7zY+0feaeddlqLsVbKEeOTFq21maUKpYu+rDLSzfLM+mYL3/rWt3K/Tb7ZlB2Hwlc8yav3MMpcPrBsM1co+Cpb38WjWV109YnCck+Ml/K94MT1XnTIa0+wcFT6QuIZywbjBUtw09hwq+3HP/5xgog917ve9dqf/vSn9vWvfz2Zw2B4gEyvssUcg4hWlFNYad/+9rdzrcu7cgU3zoMpLyMDo9Kj9eZUt1eGd5cDLB14r2ccl+++XOXj7dRTTx0Ze7TolENcfPXl+ncGH7O9kW7g7GVipIXDkgtjre+iL+551khjQpFT/1qb62HrvfAUvcIjruUbeNVf5fW8Z2L8qbrybZvs3e9+d653Vf5C4jkNqhCF68x1qZjO5vqE9aLPf/7zKXSMGUbrR+BjEN9i6ltFRzGhLahVsK5V+32lmMrr414BFM2oJgWLgp5euZPgJtFCg8e15iOodIYi9PQzYeyPyogx4/mMpOjEGGxUouDmw6mstScLqAxqPvgRge6FN4cnxp4tZtBz4gCHhoZFbvVtEXQxYSqDQuyGN7xhus2YSaRRceW8jMW3CitXrmx3uctdZjCvbM+wd8/97ne/7AKqbMXjyit4+VaRKafw9WViEJ2GoILHcRSceFJepRVe3ypi2qAiKhQuMXwaQQU4K7/SJsW9x5iUPykNrT4YmqAFV48PXP+tTPE6Dtvjm/Z9aq3xOlZSY/aWrZl3ee5zn5utGkOUFQuZuVUyiTgYYyZMqwAbzg972MNGCpZfoZQj9lRevdd3wcMnrxRVcJU/X6x8TDZG9+lUBi9choLeOM3CCSaWEeoz+fAhXRktXown3bV074Lx0qQABn3PYoNDd+jCZSwqzCUDOPozxuUVFxtmHZT3CBHjARxBsS0i6B5i4TPfKSjWQnKbJBPG/hCE8mIRLXN8/+pXv8rx1BjojM8yDPTrfTalzJY+A+EsHxTJzVdXTaG6ZHTnCniyBWILZTzgxxPLBMk7WF5dPF9QTk9Qg+r54CflG8viP2Z2OcYtGLgn8VDpxl69V61y08ZTGRRkWi3l6PpUAKaKMcaiq9Pny8NcHwgmLdZ4RuMcHi4W2Hqw873DZdwFtlz4+YDWQQI5eE/7YDytiYA9Nx4C3+Py9CR/8IMftJhuj5LgKnjvZp51kzgWcEfGVzCjgt0LQ4oF5C5l+lc0PbENll6XDt/3vvfl7Fi6MIk2ODPrC3pRdSqDomQDVa34kY98ZCoIUx6MMBTT7NlceMHGdkjC+naAz/jL4I+gjM7Tv/MUFBsrvHl0JhYeZ3iNUtD06p68bKA8GR0ktOyBv4MPPrjFmlEalxZb/IkZtzQyxIp5Gn3JTh+CGJ6VMa6MxeD8ZihPfvKTc9YKDxz9A6/uyVAitpoSz7R/0BIqNlszrBB0Y7GPmBvRvSze6dDD08aCasIWjiy8wD9TGVSP0474He5wh0zCCOKxmj1inqImBbDWOXSblM2QYvthVCElWMWWCuTXuSznsVSg/AsS5lKWqbpxIhqOljzvec9rb3nLW7IipJGtYl2SMaMTFmVEPV/FJ3rGimZtghMMz372s/MgYg/vXcW//OUvb294wxsyS9m5+J0rT+M/4IADRuNWDdMpBV4Ibx7lGZXza894xjPyNELJUvyP8zjf99SD8kJk8MpLqeDqEmIzdeTWC25SzAs8+MEPzrL6aq3ioIMOarHnlAtqWpRKM/C3tqWr0/0IsfufhkwJpYxJNBaTVjgdTYm9vBy/MF6D7ThJ0D760Y/mgiRPrCHgzYN/M8/LXOYyue6jMsYrAm4eyq0UR0wsT8TOQh5E5HktdtIp78vYVC5PRhcqvxaCJ8k1TquHQTdWuluc1Ei86urFL35xHp2xHhZ7nulpNQizdd02Dymd7ItdNqCABYWw6NzNtisdChziAF3uG4UhzIsHjPI2J50CiG40l/hD+BlxKCa/4bfnZ/fftony/RPnlHLTVXnbQzGQHm2LjPPju9/Liy4q97/wU7Bi2xMxLhrsuUUDSBkr7vks3myCP/GJT0x+wdnLg7MPvmNRdwjPnhvYaCtfT4/X1patlK997Wu5JyrP5u+4/LGgPNryqb08dEoeMVliATqP7MDb0/NedL3bnrnZzW42xAHJPG0grzaH4Zo2LAsPcVBv2ZPeA9mMZOMF1hz7RelGHdISgokZcJM+4OIJVq1alV2FVmjGGJU5AoffrDIU22JjNccdBvwV0IFHKzIbg0+LNo6zYh4KStBxfngHPIO/5CUv2XrP2sOacmupPIWutxZTC6/xpFkt3h4Vh/RsG1kS0KXf+MY3Tl4KtnTnZCSZeWmwutSSGW0yW+l3oM14x3KDVXZjOgcMHTSkEwFOK/tkiX3EnEwYhJNL6GWBRzdOdnzSWdEFyzvuHltH9773vfNaljweig7onxfFc49TudlCXEUbs5bZINemI6iI7iBOIrTHP/7xSWwaosopjzkxpUTLza7NILRW0hnola985dzSWBmDWkJXULaEqwo3NaZsyi2l93DKoqcR6ELA44UBwF2wxR9jAG+AbGtJFxwbxVnOjI2ibUUVb7oTvDMKBsCoi8eiXfzj2TIDeXVzKpjuNAhTfRMXK/541KWGd8h8Sy7wC/iUX6vhZGA4fR2QtTdqjcJeKrqxqZ6NhSzGxGa3Tmf6NhFieOia+dY6WuEqOWaLpzIoAgi9kmZDeFGlq3B8Edw7gT1lHBVfVPxcFHSqHiq2lsdQeExerJYn/pP1NNUsrwSo+KJQ3jQ0tELXveyQm3HxFHj8Typ0Gr7XBQw5TQx0ZyY6uub/hvqZapangjBb7ve/ocKKJ7Mia0a8k27gv4G3dWEw8+EgJ89s2FBjvP8G2afyUITDvDM2+mGeobqc2QSXb1wRpzJz4Ero+VrQeP74d0+L8qqLA1ff0ir05fv3yr8gMXzjzzT4+jLTwhccGXs5yVr4Kk+8LgK8iwnnaX+O0pAzEANoq6niuQiCFcwsXL2y5SDMVUb+uDLGv8FUGMfVf5dyC7biHqbSFhsXjT4u/BUX7v674Cuv4h5GWv9d7xVXGbiE2XAW3ELiolG4F1IW7FQGBRABxCxIMipTy9lCMVNxle+/pRXzYk8ZYuEd/670Pi4chXscFxzjMJPK93B9fr0X3klxla28KtPHldfHfT7+x/N8CyWbuGj1Zed6H8c5F2zlVZn6Xkg81RiqXGshNmZ50YtelCuvpuoYIGwJDq7/rnzp48z6piRrUX4PwVTZSUnnnkxlS4Hj+OCqqbE8eCqtptfKVp7YGLDyfFcAVyvydUpTfsEUj+CL/75rrfTCZ23N+phYsGa1e6z1mNYL6Ak9ft8lg3SygTcutB4VN3RyScIpWenj9PvyxaM0MhdsH5dewVjGMJShA3xaurD80uugyoKfMwTxqUIImLdOYmqaB/nFsSc141JAMDljJTtmHnkrxJ25WN9IOgUTguZKboyz8nKAS5OhqNEVnhBoiM3avOQZ46/RwX7l4Igbw3n3zwpvGEle8XItyyXF8J556SC2bvIOnTuCVrSVrfIlNFxRablC7CoSOSfBxM3hvNgZ60x5Dy8MfwQLnnxulbix4n4inqIS8ol9tVzJd4Mo1p2SnjIV8BDDg9xBiPPfKZdVaqvcbhnZUaAbelS+ysY+p1aU6S589LoN48jrZO4nukSx//77z7iGhh49xYJpXheDH79ooenWUumi6BW/c8VaxVShN6g4QD+sWrUqK++1r33toMKLqLgEm2RQiMmHD9MuSVI+w3CFyV03Ww+UIN1NWnfl3L4pAZWP/bU07FjUG217wOGxLYEPhnLAAQckHpcbY+w34rOEBhfLDXkVyaXI8JQJUzIUr7Fhm8qO1eghNnCzISnricXKvO/mRg2eVQpZbC+5TBmrznlbKBYKB7pz7ayXBQ14XKGKSwxZse4X0o0ytoFsr7jN3JcbNygywQPGzaRYLM2Gdte73nV0F49O5DOmWNVPQ9UA3KjGqwZJBjTVT8lY+povXrBBEfCggw4aYg0kGdZi3/a2t408CMunIGGSQZXyXJaMM1SpaJX9whe+cIgBfCo7Fuzy4iJFaDk8DBolnNglTZcdGbaWxQhd53JNifEVneie0zjBHBhXrZWVVw/luhaPjtYcrj8NUb48cayuZ0umaJXUKxqMC5WxopwV4fqTK/EuXTIcXjLOGA1x5DmNg7HFNkcaT8lTvDAoe6PR1aTXiDPoQ6yzDfYs6aSudYEXyqBcx3ejGz78xHn/9KZoaVD2TqUXPe/vjAu77lvynhosmWIVfdBw0OXt4xzVSF9JcIo/CzYoDDAolu43A3RN0e/m7V9pnhJYtxAH8tIl910ewdwM5k14GN6GIZbQYg/3riJUNo/l0mXBgOcZYhc/3b6NTfnS4K9KinFMbnIyKF5D1yUfn2IeiTHK97ibV3IULY3HlW35Ln/qTipPJfNMeIztouymKh8P4Dxk8VsPuig6e+Mb35j0CxYv+GdQ6DAGHpP3LFrwlWy9QekKeWV8x8HA1Dd+4rZLGlOVU0Z5uoszV0lDD4CudI/G6FazS6+lS+nThqlneTUQq4Ga2Lkov/Noo9N5GouMfQgmRp/gKwSDeVUnBMvLCv35qoJR1sAwrqrnRqUNVetg8MgLhWUMvtLG0+XZF3MGyzETJ0SdSAwFjwbEsaufM1b7YR4/jmaCEJWqeA6KHSsxWbD5Gi1+tP8HD54Oj6MfeLWvaT9O2SpfsfNJdOTnjcjtYJ6YHGBKhortCfoVldpOwUuvT999UM6vxDjAF7eIWzSwFjetcy+uh/MO1vks8uKhTsTKQ++hD33oSA6wCwkLNihCIUIJlGHZP27s5izBzjthKJrRCMWQcvWY/RA+WmHe4TPLiEFlzjZsxvbfaNgYhcehNrirkqQVTrSk11N0xatWrcqTouEN8nyQBVflwmvk2Szpjuo6YaBROJ9VwW9DuciKrguTNoYFeG2k1n6aDW1bQOj3tL0XvzZbGR3jQ4ecAl4EsPXudIVN2+hmRzjHZctC8Ue6maCfYIquK49jaxg2v4t2xcp49yNwZtJW2p35Aq9hkLMetBcaplo2KKSEJXQpDGFWzqJNa10QjLNB7XWve93o0mWVrVhZO/68GsGspMNRiiwaBY+GPTqBlwr3n+WULT4KtuLxdEdV/CofZTNKRutgm9jhMsHtaEbuifHa6Iz8F77whTxp4ASB1l9KRkPrtuOPR0sDllCk++558F7fDumB4y1N1RlN5RX/dMBD1cXVSu/j0pc0PDzmMY9Jvfrpymc+85lZtuALf5XxjV+9y/7xu1Mu7fJSTou6Cc1JMDhy0HOVK3xzxQv2UD2yIkZBTjo6k60LwJhuQ+iZIQgmtWzvHl6qf7Te/lurdtNm5cqV2eX0+HpeZntHA59+ztEZH8qvlXunFXlGRzicYtQdufli0TYG83nEw9kkPLtC7oZwT997jFsyTZeGlrQyukk8ySOjUHrocUqHh9z4niY4YuIsmIbJU9k01vAmhaKFj/3irJOFagZEbt2606S62mc961l59JnsVWYSvvG0BXkogo4HaR6VpWVj7p1xfplXiJ+myTz5mPJ41/rEKkGZ6kYqX55QZcRCGVt+TPGn6KoY3aYVfoYfk4n0qro2MLwTI3YmycKhI788k/1HXkT3o7tTYb2x6I4dnIOfh1aJ8lVCD1f8Y1kXw9PK1xDBlrwlEnj54+mVPymOH4fL8aIz8AcddFCOhei/xmhVpnDiGR16cW6/GpHu3U0eDclQgL7UE9gqW7gmxdM1gUkl16b1RHaPVVYr6MYTz3/+8/P6DkY8QjHF42gRWqh+m4EZJFKwdO/9I92j8hYa8FePU4nGFVaxGZEukBFp3WAozoUCyubFKBXPBtrGWELJ4J0XcZ5cpcFpXNTnF7y0enhw3pvMPONcodftfHAG04YPrrMZIz7lKU/JSwcM1lOhcOJHEGtMusCYwbaYfeZkiw78hCJD60OV69P693VmUBjFuOs7WojWfOCBB+aYBHNCCcYwVJBvB/djejqq9J5h70fERrTfT9BVGeijU0qBs4f3PVsAx5D9cIT3WGNJfDyPmWDh0W0bP/A4toLQ0hXWxKDg0FER5FBeJRrYaiQCuIKtd43HuMW3c0waTy9LFlzkH7rkSc0kjQ95QYNt4yM0ipeix5saTxoHFn+84soYWqxatSrrz4QklhSSo4Kp8rOxeYEMqhgVMxoMiY03XBXSgvuxVBkW5vy2Aa9jEKw1UTYhi3GCmgXFgmcqhhdRyZVfMdrzCVnCMwAzMYNdQbfs4irjL97EZquxRpYwjFCrl15PZsQfPBjE1q+bfOADH8ipOuPvZWFkTl34iR4TEmMxnrC6teIfvoUE8CW/mBxwa4D244wPHTx0fJnB4UmjdLTZwB3fGoFuWIDPzFc3D5YOqlcoOvPxN9UYai5BSxkIUThYivIrLJhzabFCz5SKdEmAi42V6uwuVI5KJowZWPxIVp67ZgjxI2bpJeAqfsRF33s9lVZ0xdIolQd1/06lOxeu2+n58s5LSdeC/eJMrByPUI3j1tXwCpZCPve5z2U3abDPS+heNQznuF1D10B0dSoZ7eJLXN6XDPRY/Hrvg/w+9LyX/Hg303aJgiG79uaunyGJwMD9jACvqhdxxtw4lkGS2fhRHTjXbxYK77jcPQ8z3gN43hAVkauw9u3C6+Qqayhg1nLgg6Fc5Y11l1xJtt8nvYJ8K+kxiM8V2zDCjGMcM1pBDyFy28WvwilvJVg5tMX9SnnM0nLFt/D3tKQpU+VslURFjX4vVD54Dxqh8CEUnT8ka9tFucofx4sPq91Wm+3T4R/uaASpqzC4XBmXFgY2xLgk8SvXB99W8a2Uk9svKo/D9Dzgqd96iQaYvJec5CBndNW5JWTVnCxh4PngIxpK8hqGlDrHu3e8Wn2PceFI3+Ny97z371Ndo2KBwWi2MIM0Ldw4Q5hkuZXGZbJyay41ra28YDoHwaaoWjOvJugmDcgdupdnCULMSylb5cUhZLpvM0w4PAUHV8F67wMvyPvxFFa/Cy4Uk2B4qe7jRnErWjqYgqsYsHfw8BgX4QFfyhvkG9do/Ty2rojuSlY6qIAGHRu3+M1yeHjKHqZg4Rd0XfRlQRafJQue4NP91YTGOA8vvBT6JhOufIHzra7AqC/DEavsJldFH85e7uJlPJ7q1gsBECYsN6lfxRxisxEBL4+SDOyMW8yG+gBGgD9aY3YbpqrKWUis/rvo9LSULRrKFy2wBd/T8l70xIfHmE1XVrDK9/nGFXjChyC/p5+JY3/Ag8GPQbFlB9+6OV2j9zImRXt69T5OA3/jAawHbMUFU2mlk0n5PYxyumvDE0Fjtk0Fpp7MmPLP1AZV+DBaQk5DEDyhhKq8wiW9HmnwVfCuglRApVcMpnCKK71/r7TCV3SkV1l5vgu20jWCSiv43hAK53hMVkGZXk+VLm8SnqJbMTjv8JSupVXo4fo08MWvdHT7tHqvMpVfsXQwFfr3SpsvnsqgxgUoYaclWAwrtxgFEaJolkDjPFU6nsZhK69i+T1ML8c43oLrYQrPeNyXrXIFU3m9/JXWw4zTGf8u2PG4pzeOt2B7XOMw9d3D9O+FY754KoOaD8mG/A0aKA2cv4OunA3xBg0sQgMbDGoRSttQZHYNbDCo2XWzIWcRGthgUItQ2oYis2tgg0HNrpsNOYvQwP8BmqQOPxJ7+Z4AAAAASUVORK5CYII="},2015:function(e,t,a){"use strict";a.r(t);a(533),a(542);var n=a(0),r=a.n(n),i=a(36),o=a(488),l=a.n(o),s=(a(737),a(13)),c=a.n(s),m=a(27),d=a(18),u=a(19),p=a(21),f=a(20),b=a(22),g=a(1),_=a(489),h=a(502),v=a(159),E=a(503),y=a(2066),x=a(2067),O=a(16),C=a(142),S=a(119),w=a(2072),k=a(333),j=a(2068),N=a(216),D=a(2071),T=a(257),M=a.n(T),F=a(338),P=a(339),A=a(2028),B=a(346),I=a.n(B),R=a(334),L=a(182),W=a.n(L),z=a(2079),U=a(2080),Y=a(2074),V=a(2075),H=a(2076),q=a(2078),G=a(2112),J=a(2073),K=a(2077),X=a(12),Z=a(11),Q=a(180),$=a(6),ee=a.n($),te=a(2081),ae=a(2082),ne=a(508),re=a(2083),ie=a(788),oe=a(212),le=a.n(oe),se=a(39),ce=a(2070),me=a(2022),de=a(2084),ue=a(2085),pe=a(2086),fe=a(65),be=a.n(fe),ge=a(342),_e=a.n(ge),he=a(117),ve=a.n(he),Ee=a(210),ye=a.n(Ee),xe=a(47),Oe=a(433),Ce=a(271),Se=a(504),we=a(505),ke=a(69),je=a.n(ke),Ne=a(145),De=a(344),Te=a.n(De),Me=a(273),Fe=a.n(Me),Pe=a(491),Ae=a.n(Pe),Be=a(274),Ie=a(2111),Re=a(2117),Le=a(2113),We=a(143),ze=a.n(We),Ue=a(509),Ye=a(2108),Ve=a(2088),He=a(2089),qe=a(2087),Ge=a(8),Je=a.n(Ge),Ke=a(24),Xe=a.n(Ke),Ze=a(494),Qe=a.n(Ze),$e=a(266),et=a.n($e),tt=a(3),at=a(2065),nt=a(345),rt=a(277),it=Object.freeze({}),ot=Object.freeze({}),lt=Object.freeze({}),st=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ct(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var mt=Object.freeze({register:function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="./service-worker.js";st?(!function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ct(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ct(t,e)})}},unregister:function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}}),dt=Object.freeze({ServiceWorker:mt}),ut=Object.freeze({}),pt=Object(E.a)({palette:{primary:{main:"#3ab77d",contrastText:"#ffffff"},secondary:{main:"#ffffff",contrastText:"#3ab77d"}},typography:{fontFamily:"Usual, Roboto, Helvetica, Arial, sans-serif",button:{fontFamily:"Usual, Roboto, Helvetica, Arial, sans-serif",fontWeight:700,fontSize:13,textTransform:"none"}},overrides:{MuiDialog:{root:{width:"100%"}},MuiDialogTitle:{root:{fontFamily:"Usual, Roboto, Helvetica, Arial, sans-serif",fontWeight:550,fontSize:"1em",color:"#272E4C"}},MuiDialogContentText:{root:{fontSize:".8em",color:"#272E4C"}},MuiFormControlLabel:{label:{fontSize:".8em",color:"#272E4C"}},MuiIconButton:{root:{fontSize:".9em"}},MuiButton:{containedPrimary:{boxShadow:"0px 3px 6px #1e207129","&:hover":{backgroundColor:"#008650"}},containedSecondary:{border:"1px solid #0000001A",boxShadow:"0px 1px 3px #00000033","&:hover":{backgroundColor:"#3ab77d1a"}},outlinedSecondary:{border:"1px solid #3ab77d",boxShadow:"0px 1px 3px #00000033","&:hover":{backgroundColor:"#3ab77d1a"}}}}}),ft=function(e,t){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};function bt(e,t){function a(){this.constructor=e}ft(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var gt=function(){return(gt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function _t(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function l(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,l)}s((n=n.apply(e,t||[])).next())})}function ht(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function vt(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<a;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,r++)n[r]=i[o];return n}var Et={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},yt=Object(y.a)(function(e){return Object(x.a)({root:{width:"100%"},control:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":Et,"&:hover fieldset":Et,"&.Mui-focused fieldset":gt(gt({},Et),{borderColor:"rgba(39,52,76,0.5)"})}},input:{display:"flex"},label:{},select:{marginTop:e.spacing(1),backgroundColor:"white",width:"100%"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:999,left:0,right:0}})});function xt(e){var t=e.inputRef,a=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["inputRef"]);return r.a.createElement("div",gt({ref:t},a))}var Ot={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,i=e.selectProps,o=i.classes,l=i.TextFieldProps;return r.a.createElement(j.a,gt({className:o.control,InputProps:{inputComponent:xt,inputProps:gt({className:o.input,ref:n,children:t},a)}},l,{variant:"outlined",fullWidth:!0}))},Menu:function(e){return r.a.createElement(N.a,gt({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},Option:function(e){return r.a.createElement(D.a,gt({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},NoOptionsMessage:function(e){return r.a.createElement(S.a,gt({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Placeholder:function(e){var t=e.selectProps,a=e.innerProps,n=void 0===a?{}:a,i=e.children;return r.a.createElement(S.a,gt({color:"textSecondary",className:t.classes.placeholder},n),i)},SingleValue:function(e){return r.a.createElement(S.a,gt({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},Ct=function(e){var t=yt(),a=r.a.useState(null),n=a[0],i=a[1];return r.a.createElement(k.a,{className:t.root},r.a.createElement(S.a,{className:t.label,color:"textPrimary"},e.label),r.a.createElement(w.a,null,r.a.createElement(C.a,{className:t.select,classes:t,inputId:e.inputId,TextFieldProps:{error:e.error},placeholder:"",options:e.suggestions,components:Ot,value:n,onChange:function(t){i(t),e.onChange&&e.onChange(t)},isSearchable:!0,isClearable:!0})))};Ct.defaultProps={error:!1};var St=Object.freeze({InputAutocomplete:Ct}),wt={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},kt=Object(y.a)(function(e){return{root:{width:"100%"},label:{},textField:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":wt,"&:hover fieldset":wt,"&.Mui-focused fieldset":gt(gt({},wt),{borderColor:"rgba(39,52,76,0.5)"})},"&":{marginTop:e.spacing(1),backgroundColor:"white",width:"100%"}}}}),jt=function(e){var t=kt(),a=Object(n.useState)(e.value||[]),i=a[0],o=a[1];return r.a.createElement(k.a,{className:t.root},r.a.createElement(S.a,{className:t.label,color:"textPrimary"},e.label),r.a.createElement(M.a,{id:e.id,className:t.textField,defaultValue:i,onChange:function(t){o(t),e.onChange&&e.onChange(t)},error:e.error,variant:"outlined"}))};jt.defaultProps={label:"",value:[],error:!1,multiline:!1,rows:1,onChange:function(e){console.log(e)}};var Nt=Object.freeze({InputChipTextField:jt}),Dt={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},Tt={root:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":Dt,"&:hover fieldset":Dt,"&.Mui-focused fieldset":gt(gt({},Dt),{borderColor:"rgba(39,52,76,0.5)"})}}},Mt=Object(y.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{width:"100%"},label:{fontSize:".8em"},select:{marginTop:e.spacing(1),backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)},icon:{marginRight:e.spacing(2.5),color:"rgba(39,52,76,0.3)"}}}),Ft=Object(O.a)(Tt)(P.a),Pt=function(e){var t={id:-1,value:"",label:""},a=vt([t],e.data),i=function(){if(e.value){var n=a.find(function(t){return t.value===e.value});if(n)return n}return t},o=Mt(),l=Object(n.useState)(i()),s=l[0],c=l[1],m=r.a.useRef(null),d=r.a.useState(0)[0];return e.controlled&&s.value!==e.value&&(console.log(s.value,e.value),c(i())),r.a.createElement("div",{className:o.formControl},e.label?r.a.createElement(F.a,{color:"textPrimary",className:o.label,ref:m,htmlFor:e.id,error:e.error},e.label):null,r.a.createElement(A.a,{className:o.select,value:s.value,onChange:function(n){var r=a.find(function(e){return e.value===n.target.value})||t;c(r),e.onChange&&e.onChange(r)},input:r.a.createElement(Ft,{id:e.id,name:e.id,error:e.error,labelWidth:d,fullWidth:!0}),IconComponent:function(){return r.a.createElement(I.a,{className:o.icon})}},a.map(function(t){return function(e,t){if(e.displaySelectItem)return e.displaySelectItem(t);var a=-1===t.id&&e.required;return r.a.createElement(D.a,{key:t.id,value:t.value,disabled:a},t.label)}(e,t)})))};Pt.defaultProps={value:"",error:!1,required:!1,onChange:function(e){console.log(e)}};var At=Object.freeze({InputSelect:Pt}),Bt={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},It={root:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":Bt,"&:hover fieldset":Bt,"&.Mui-focused fieldset":gt(gt({},Bt),{borderColor:"rgba(39,52,76,0.5)"})}},input:{fontSize:14}},Rt=Object(y.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{width:"100%"},label:{fontSize:".8em"},select:{marginTop:e.spacing(1),backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)},icon:{marginRight:e.spacing(2.5),color:"rgba(39,52,76,0.3)"},error:{color:"#E53935",fontSize:"12px"},errorIcon:{color:"#E53935",fontSize:"small",float:"right"}}}),Lt=Object(O.a)(It)(P.a),Wt=function(e){var t=vt(e.data),a=Rt(),n=r.a.useRef(null),i=r.a.useState(0)[0];return r.a.createElement("div",{className:a.formControl},r.a.createElement(F.a,{color:"textPrimary",className:a.label,ref:n,htmlFor:e.id},e.label),r.a.createElement(A.a,{className:a.select,value:e.value,onChange:function(a){var n=t.find(function(e){return e.value===a.target.value});e.onChange&&e.onChange(n)},disabled:e.disabled,input:r.a.createElement(Lt,{id:e.id,name:e.id,error:e.error,labelWidth:i,fullWidth:!0,disabled:e.disabled}),IconComponent:function(){return r.a.createElement(I.a,{className:a.icon})}},t.map(function(t){return function(e,t){if(e.displaySelectItem)return e.displaySelectItem(t);var a=-1===t.id&&e.required;return r.a.createElement(D.a,{key:t.id,value:t.value,disabled:a},t.label)}(e,t)})),e.error&&r.a.createElement("div",{className:a.formControl},r.a.createElement(R.a,{id:"component-error-text",className:a.error},e.errorMessage,r.a.createElement(W.a,{className:a.errorIcon}))))};Wt.defaultProps={label:"",value:"",error:!1,errorMessage:"",required:!1,disabled:!1,onChange:function(e){console.log(e)}};var zt=Object.freeze({InputSelectSetValue:Wt}),Ut=Object(y.a)(function(e){return{root:{width:"100%"},label:{fontSize:".8em"},textField:{marginTop:e.spacing(1),backgroundColor:"white",fontSize:"14px"},error:{color:"#E53935",fontSize:"12px"},errorIcon:{color:"#E53935",fontSize:"small",float:"right"}}}),Yt={borderColor:"rgba(39,52,76,0.3)",borderRadius:5},Vt=Object(O.a)({root:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(39,52,76,0.3)"},"& .MuiOutlinedInput-root":{"& fieldset":Yt,"&:hover fieldset":Yt,"&.Mui-focused fieldset":gt(gt({},Yt),{borderColor:"rgba(39,52,76,0.5)"})}}})(j.a),Ht=function(e){var t=Ut();return r.a.createElement("div",{className:t.root},e.label?r.a.createElement(F.a,{htmlFor:e.id,className:t.label,color:"textPrimary"},e.label):null,r.a.createElement(Vt,{id:e.id,className:t.textField,value:e.value,onChange:function(t){var a=t.target.value;e.onChange&&e.onChange(a)},error:e.error,multiline:e.multiline,rows:e.rows,type:e.type,fullWidth:!0,disabled:e.disabled,variant:"outlined"}),e.error&&r.a.createElement("div",{className:t.root},r.a.createElement(R.a,{id:"component-error-text",className:t.error},e.errorMessage,r.a.createElement(W.a,{className:t.errorIcon}))))};Ht.defaultProps={type:"text",value:"",error:!1,errorMessage:"",multiline:!1,disabled:!1,rows:1,onChange:function(e){console.log("InputTextField.defaultProps - Value: "+e)}};var qt=Object.freeze({InputTextField:Ht}),Gt=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},inputSelect:{marginBottom:e.spacing(1)},dialog:{align:"center",justify:"center",width:"100%"},dialogContent:{paddingTop:"0px"},container:{paddingRight:"15px",paddingLeft:"15px"},dialogTitle:{marginTop:e.spacing(2)},dialogContentTitle:{},dialogContentText:{},formControlLabel:{},textField:{},checkBox:{paddingLeft:"10px"},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},resolveDialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(4),justifyContent:"center"},leftButton:{width:115,marginLeft:15,marginRight:10},rightButton:{width:115,marginLeft:10,marginRight:15}}}),Jt=Object(O.a)({root:{color:"#9EA3AC","&$checked":{color:"#1E2071"}},checked:{}})(G.a),Kt=function(e){var t=Gt(),a=r.a.useState({notes:"",notesError:!1,isResolved:!1}),i=a[0],o=a[1],l=Object(n.useState)(!0),s=l[0],c=l[1],m=function(){c(!0),o({notes:"",notesError:!1,isResolved:!1}),e.onClose()},d=function(e,t){o(function(a){var n;return gt(gt({},a),((n={})[e]=t,n))})},u=function(e,t){o(function(a){var n;return gt(gt({},a),((n={})[e]=t,n))})},p=r.a.createElement("div",null);switch(e.type.toLowerCase()){case"resolve":console.log("in resolve"),p=r.a.createElement("div",null,r.a.createElement(J.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Y.a,{disableTypography:!0,id:"dialog-title",className:t.dialogTitle},e.type," Ticket")),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(H.a,{className:t.dialogContentText,id:"alert-dialog-description"},"How was the issue resolved?"),r.a.createElement(Ht,{value:i.notes,error:i.notesError,multiline:!0,rows:4,onChange:function(e){d("notes",e),u("notesError",0===e.length)}})),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(K.a,{className:t.formControlLabel,control:r.a.createElement(Jt,{icon:r.a.createElement(X.a,{icon:Q.a}),checkedIcon:r.a.createElement(X.a,{icon:Z.i}),color:"primary",checked:i.isResolved,onChange:function(e){d("isResolved",e.target.checked),c(!e.target.checked)},inputProps:{"aria-label":"primary checkbox"}}),label:"Mark as resolved",labelPlacement:"end"}))),r.a.createElement(q.a,{className:t.resolveDialogAction},r.a.createElement(z.a,{className:t.leftButton,variant:"contained",onClick:m,color:"secondary"},"Cancel"),r.a.createElement(z.a,{className:t.rightButton,variant:"contained",disabled:s,onClick:e.onSubmit,color:"primary"},"Resolve")))));break;case"assign":console.log("in assign"),p=r.a.createElement("div",null,r.a.createElement(J.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Y.a,{disableTypography:!0,id:"dialog-title",className:t.dialogTitle},e.type," Ticket")),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(Pt,{id:"modal-input-select",label:"Assign To",data:e.selectItems}),r.a.createElement(H.a,null),r.a.createElement(Ht,{label:"Notes",value:i.notes,error:i.notesError,multiline:!0,rows:4,onChange:function(e){d("notes",e),u("notesError",0===e.length)}})),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(z.a,{className:t.leftButton,variant:"contained",onClick:m,color:"secondary"},"Cancel"),r.a.createElement(z.a,{className:t.rightButton,variant:"contained",onClick:e.onSubmit,color:"primary"},"Assign")))));break;case"escalate":console.log("in escalate"),p=r.a.createElement("div",null,r.a.createElement(J.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Y.a,{disableTypography:!0,id:"dialog-title",className:t.dialogTitle},e.type," Ticket")),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(Pt,{id:"modal-input-select",label:"Escalate To",data:e.selectItems}),r.a.createElement(H.a,null),r.a.createElement(Ht,{label:"Notes",value:i.notes,error:i.notesError,multiline:!0,rows:4,onChange:function(e){d("notes",e),u("notesError",0===e.length)}})),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(z.a,{className:t.leftButton,variant:"contained",onClick:m,color:"secondary"},"Cancel"),r.a.createElement(z.a,{className:t.rightButton,variant:"contained",onClick:e.onSubmit,color:"primary"},"Escalate")))))}return r.a.createElement(U.a,{className:t.dialog,open:e.isModalOpen,"aria-labelledby":"simple-dialog-title"},p)};Kt.defaultProps={isModalOpen:!1,type:"Resolve",selectItems:[{id:0,value:"",label:""}]};var Xt=Object.freeze({TicketModal:Kt}),Zt="index_title__3_oz-",Qt="index_titleBack__ghwZN",$t="index_titleFront__23_8b",ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bt(t,e),t.prototype.render=function(){var e=this.props.text;return r.a.createElement("div",{className:Zt},r.a.createElement("span",{className:Qt},e),r.a.createElement("span",{className:$t},e))},t}(r.a.Component),ta=Object.freeze({SampleCoreComponent:ea}),aa=Object(y.a)(function(e){var t,a;return{appBar:(t={backgroundColor:"#ffffff",color:"#808080"},t[e.breakpoints.up("sm")]={width:"calc(100% - 85px)"},t),menuButton:(a={marginRight:e.spacing(2)},a[e.breakpoints.up("sm")]={display:"none"},a),logo:{height:"40px"},badge:{backgroundColor:"#ff6969",color:"#ffffff",fontWeight:700},grow:{flexGrow:1}}}),na=function(e){var t=aa();return r.a.createElement(te.a,{className:t.appBar},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{edge:"start",className:t.menuButton,onClick:function(){e.menuOnClick&&e.menuOnClick()}},r.a.createElement(le.a,null)),r.a.createElement(re.a,{href:"/"},r.a.createElement("img",{src:e.logoImage,className:t.logo,alt:"logo"})),r.a.createElement("div",{className:t.grow}),r.a.createElement(ne.a,{edge:"end",onClick:function(){e.userOnClick&&e.userOnClick()}},r.a.createElement(ie.a,{src:e.userImage,alt:"avatar"}))))};function ra(e){var t={dispatch:ve.a,subscribe:ve.a,getState:ve.a,replaceReducer:ve.a,runSaga:ve.a,injectedReducers:ye.a,injectedSagas:ye.a};be()(_e()(e,t),"(src/Utils...) injectors: Expected a valid redux store")}na.defaultProps={badgeCount:0},na.propTypes={badgeCount:ee.a.number};var ia="@@saga-injector/daemon",oa="@@saga-injector/once-till-unmount",la=Object.freeze({RESTART_ON_REMOUNT:"@@saga-injector/restart-on-remount",DAEMON:ia,ONCE_TILL_UNMOUNT:oa}),sa=Object(we.a)();function ca(e,t,a){return void 0===a&&(a=!1),function(n,r){a||ra(t),be()(Fe()(n)&&!Te()(n)&&ve()(r),"(src/Utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(t.injectedReducers,n)&&t.injectedReducers[n]===r||(t.injectedReducers[n]=r,t.replaceReducer(e(t.injectedReducers)))}}function ma(e,t){return ra(t),{injectReducer:ca(e,t,!0)}}var da=["@@saga-injector/restart-on-remount",ia,oa],ua=function(e){return be()(Fe()(e)&&!Te()(e),"(src/Utils...) injectSaga: Expected `key` to be a non empty string")},pa=function(e){var t={saga:ve.a,mode:function(e){return Fe()(e)&&da.includes(e||"")}};be()(_e()(e,t),"(src/Utils...) injectSaga: Expected a valid saga descriptor")};function fa(e,t){return void 0===t&&(t=!1),function(a,n,r){void 0===n&&(n={}),t||ra(e);var i=gt(gt({},n),{mode:n.mode||ia}),o=i.saga,l=i.mode;ua(a),pa(i);var s=Reflect.has(e.injectedSagas,a);(!s||s&&l!==ia&&l!==oa)&&(e.injectedSagas[a]=gt(gt({},i),{task:e.runSaga(o,r)}))}}function ba(e,t){return void 0===t&&(t=!1),function(a){if(t||ra(e),ua(a),Reflect.has(e.injectedSagas,a)){var n=e.injectedSagas[a];n.mode&&n.mode!==ia&&(n.task.cancel(),e.injectedSagas[a]="done")}}}function ga(e){return ra(e),{injectSaga:fa(e,!0),ejectSaga:ba(e,!0)}}var _a=function(e){function t(t){var a=e.call(this,t.statusText)||this;return a.response=t,a}return bt(t,e),t}(Error);function ha(e){return _t(this,void 0,void 0,function(){return ht(this,function(t){return 204===e.status||205===e.status?[2,null]:[2,e.json()]})})}function va(e){return _t(this,void 0,void 0,function(){var t;return ht(this,function(a){if(e.status>=200&&e.status<300)return[2,e];throw(t=new _a(e)).response=e,t})})}function Ea(e,t,a){var n=0;return n=e.findIndex(function(e){return e._id===t}),e.forEach(function(r,i){r._id===t&&(n=i);var o=r.children,l=[];a&&(e[n].fileType=a&&a.toLowerCase()),e[n].valid_functions.forEach(function(e){r.hasOwnProperty(e)&&""!==r[e]&&void 0!==r[e]&&(r[e]=function(e,t){try{return new Function("return "+t)()}catch(a){console.log("Error in converting fucntion in node _id: "+e)}}(r._id,r[e]))}),r.children.length>0&&o.forEach(function(t){e.find(function(e){e._id===t&&l.push(e)})}),l.sort(function(e,t){return 3===e.level&&3===t.level?e.plan_type_rank-t.plan_type_rank:4===e.level&&4===t.level?e.proposal_rank-t.proposal_rank:e-t}),r.children=l}),e[n]}var ya=function(){return function(){this.deleteDb=function(e){var t=window.indexedDB.deleteDatabase(e);return new Promise(function(e,a){t.onerror=function(e){console.log("Error deleting database."),a(e)},t.onsuccess=function(t){e(t)}})},this.openDb=function(e){var t=window.indexedDB.open(e);return new Promise(function(e,a){var n={cbType:"",result:{}};t.onerror=function(){a("Error opening database.")},t.onsuccess=function(t){var a=t.target.result;n.cbType=t.type,n.result=a,e(n)},t.onupgradeneeded=function(t){var a=t.target.result;n.cbType=t.type,n.result=a,e(n)}})},this.createStoreOnDb=function(e,t,a){var n=e.createObjectStore(t,{keyPath:a,autoIncrement:!1});return new Promise(function(e,t){var a={cbType:"",result:{}};n.transaction.onerror=function(){t("error creating store on db.")},n.transaction.oncomplete=function(t){var n=t.target.result;a.cbType=t.type,a.result=n,e(a)}})},this.saveToStore=function(e,t,a){var n=e.transaction([t],"readwrite"),r=n.objectStore(t);return new Promise(function(e,t){var i={cbType:"",result:{}};(!a||a.length<0)&&t({type:"error",message:"entries invalid"}),a.forEach(function(e){r.put(e)}),n.oncomplete=function(t){i.cbType=t.type,i.result="Saved complete.",e(i)}})},this.getByKeyReturnValue=function(e,t,a){return new Promise(function(n,r){try{e.transaction(t,"readonly");var i=e.transaction(t,"readonly").objectStore(t),o={cbType:"",result:{}};i.get(a).onsuccess=function(e){var t=e.target.result;void 0===t?(o.cbType="error",o.result=null,r(o)):(o.cbType=e.type,o.result=t.value,n(o))}}catch(l){r("store not found.")}})},this.updateEntryByKey=function(e,t,a,n){return new Promise(function(r,i){try{e.transaction([t],"readwrite");var o=e.transaction([t],"readwrite").objectStore(t),l={cbType:"",result:{}};e.onerror=function(e){console.log(e)},o.get(a).onsuccess=function(e){var t=e.target.result;void 0!==t?(t=n,o.put(t).onsuccess=function(e){l.cbType=e.type,l.result={message:"value updated."}},r(l)):(l.cbType="error",l.result={message:"error updating value."},i(l))}}catch(s){i("store not found.")}})},this.getAll=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readonly").objectStore(t).getAll();r.onerror=function(){n("Error getting all data.")},r.onsuccess=function(e){var n=e.target.result;if("icd10_list"===t||"cpt_list"===t){var r=[],i=[];n.filter(function(e){e.hasOwnProperty("status")&&"active"===e.status?i.push(e):r.push(e)}),n=i}a(n)}})},this.deleteEntryByKey=function(e,t,a){return new Promise(function(n,r){var i=e.transaction(t,"readwrite").objectStore(t),o={cbType:"",result:{}};i.delete(a).onsuccess=function(e){void 0===e.target.result?(o.cbType="error",o.result=null,r(o)):(o.cbType=e.type,o.result="entry deleted",n(o))}})},this.getStoreCount=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readwrite").objectStore(t).count();r.onerror=function(){n("error getting store count.")},r.onsuccess=function(e){a(e.target.result)}})},this.clearStore=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readwrite").objectStore(t).clear();r.onerror=function(){n("error clearing store")},r.onsuccess=function(){a("store cleared")}})}}}(),xa=new ya;function Oa(e,t){return xa.openDb("himsDb").then(function(a){return t?xa.getByKeyReturnValue(a.result,e,t):xa.getAll(a.result,e)})}var Ca=new ya,Sa="http://api-dev.hims.veridata.com.ph:4101/api/";var wa=function(){return function(e,t){var a=this;this.index={},this.initFlexSearch=function(e){e.map(function(e){return e.synonyms=JSON.stringify(e.synonyms)}),a.index.add(e)},this.search=function(e,t){return _t(a,void 0,void 0,function(){var a,n;return ht(this,function(r){switch(r.label){case 0:return a=this,n=gt({},t),t&&t.defaultSort&&!0===t.defaultSort&&(n=gt(gt({},n),{sort:function(e,t){return a.periodCheck(e.full_code)?1:a.periodCheck(t.full_code)?-1:0}})),t&&t.customSort&&(n=gt(gt({},n),{sort:n.customSort})),[4,this.index.search(e,n)];case 1:return[2,r.sent()]}})})},this.periodCheck=function(e){return-1!==e.indexOf(".")},this.updateIndex=function(e){a.index.update(e)},this.removeIndex=function(e){a.index.remove(e)},this.clearIndex=function(){a.index.clear()},this.destroyIndex=function(){a.index.destroy()},this.index=Ae.a.create(gt(gt({},t),{async:!0,worker:!1,cache:!0,doc:e}))}}(),ka=Object.freeze({checkStore:ra,configureStore:function(e,t,a){void 0===t&&(t={});var n=xe.d,r=Object(Se.a)({}),i=[r,Object(Oe.a)(a)],o=[xe.a.apply(void 0,i)],l=Object(xe.e)(e(),t,n.apply(void 0,o));return l.runSaga=r.run,l.injectedReducers={},l.injectedSagas={},l},constants:la,history:sa,hocWithReducer:function(e,t){var a=t.key,r=t.reducer;return function(t){var i=function(i){function o(t,n){var o=i.call(this,t,n)||this;return ma(e,n.store).injectReducer(""+a,r),o}return bt(o,i),o.prototype.render=function(){return Object(n.createElement)(t,gt({},this.props))},o.WrappedComponent=t,o.displayName="withReducer("+(t.displayName||t.name||"Component")+")",o}(n.Component);return je()(i,t)}},useInjectReducer:function(e,t){var a=t.key,r=t.reducer,i=Object(Ne.e)();Object(n.useEffect)(function(){ma(e,i).injectReducer(""+a,r)},[])},hocWithSaga:function(e){var t=e.key,a=e.saga,r=e.mode;return function(e){var i=function(i){function o(e,n){var o=i.call(this,e,n)||this;return o.injectors=ga(n.store),o.injectors.injectSaga(t,{saga:a,mode:r},o.props),o}return bt(o,i),o.prototype.componentWillUnmount=function(){this.injectors.ejectSaga(t)},o.prototype.render=function(){return Object(n.createElement)(e,gt({},this.props))},o.WrappedComponent=e,o.displayName="withSaga("+(e.displayName||e.name||"Component")+")",o}(n.Component);return je()(i,e)}},useInjectSaga:function(e){var t=e.key,a=e.saga,r=e.mode,i=Object(Ne.e)();Object(n.useEffect)(function(){var e=ga(i);return e.injectSaga(""+t,{saga:a,mode:r}),function(){e.ejectSaga(""+t)}},[])},loadable:function(e,t){var a=(void 0===t?{fallback:null}:t).fallback,i=void 0===a?null:a,o=Object(n.lazy)(e);return function(e){return r.a.createElement(n.Suspense,{fallback:i},r.a.createElement(o,gt({},e)))}},injectReducerFactory:ca,getReducerInjectors:ma,request:function(e,t){return _t(this,void 0,void 0,function(){return ht(this,function(a){switch(a.label){case 0:return[4,fetch(e,t)];case 1:return[4,va(a.sent())];case 2:return[2,ha(a.sent())]}})})},ResponseError:_a,injectSagaFactory:fa,ejectSagaFactory:ba,getSagaInjectors:ga,traverseTree:Ea,IndexedDBHelper:ya,StorageService:Oa,onLogout:function(){var e=Sa+"logout";Oa("user_data","access_token").then(function(t){console.log(t,"token"),fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:t.result})}).then(function(e){return e.json()}).then(function(e){void 0!==e.count?Ca.openDb("himsDb").then(function(e){localStorage.clear(),Ca.clearStore(e.result,"user_data"),window.location.replace("../index.html#/")}):alert(e.error.message)}).catch(function(e){console.log(e,"error")})})},FlexSearchHelper:wa}),ja=Object(y.a)(function(){return{sideBar:{width:"85px"},listItem:{flexDirection:"column",marginBottom:"10px"},listItemIcon:{minWidth:0},avatar:{backgroundColor:"rgba(158, 164, 172, 0.18)"},avatarSelected:{backgroundColor:"rgba(98, 255, 183, 0.18)"},listItemText:{fontSize:9,color:"#ffffff"},listItemTextSelected:{fontSize:9,color:"rgba(98, 255, 183, 1)"},icon:{color:"white"},iconSelected:{color:"rgba(98, 255, 183, 1)"},divider:{backgroundColor:"transparent",height:"50px"}}});function Na(e){return r.a.createElement(se.b,{to:e.link?e.link:"",style:{textDecoration:"none"}}," ",r.a.createElement(me.a,gt({},e))," ")}var Da=function(e){var t=ja(),a=e.selectedMenu?e.selectedMenu:"dashboard",n=r.a.useState(!1),i=n[0],o=n[1],l={dashboard:!1,create_ticket:!1,members:!1,proposals:!1,clients:!1,tickets:!1,reports:!1,templates:!1,lookup:!1,settings:!1,users:!1,help:!1};l[a]=!0,r.a.useEffect(function(){"customer care"===e.page&&Oa("user_data","role").then(function(e){e&&void 0!==e&&e.result&&void 0!==e.result&&Object(Be.forEach)(e.result,function(e){Object(Be.toLower)(e.name)===Object(Be.toLower)("Ticket Owner")&&o(!0)})})},[]);var s=function(e,t){console.log("handleDashboardOnClick event",e),console.log("handleDashboardOnClick attr",t)},c=function(t){e.setSelectedMenu&&(e.setSelectedMenu(t),console.log(t))};return r.a.createElement("div",{className:t.sideBar},r.a.createElement(ce.a,null,r.a.createElement(Na,{className:t.listItem,link:"membership"===e.page?"/membership/":"customer care"===e.page?"/customer-care/":"system admin"===e.page?"/system-admin":"/underwriting/",onClick:function(){c("dashboard")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.u,className:l.dashboard?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Dashboard",disableTypography:!0,className:l.dashboard?t.listItemTextSelected:t.listItemText})),"customer care"===e.page&&!0===i?r.a.createElement(Na,{className:t.listItem,link:"/customer-care/create-ticket",onClick:function(){c("create_ticket")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.B,className:l.create_ticket?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Create New",disableTypography:!0,className:l.create_ticket?t.listItemTextSelected:t.listItemText})):null,"customer care"!==e.page&&"system admin"!==e.page?r.a.createElement(Na,{className:t.listItem,link:"underwriting"===e.page?"/underwriting/clients":"/membership/clients",onClick:function(){c("clients")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.R,className:l.clients?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Clients",disableTypography:!0,className:l.clients?t.listItemTextSelected:t.listItemText})):null,"customer care"!==e.page&&"system admin"!==e.page?r.a.createElement(Na,{className:t.listItem,link:"underwriting"===e.page?"/underwriting/proposals":"",onClick:function(){c("proposals")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.r,className:l.proposals?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Proposals",disableTypography:!0,className:l.proposals?t.listItemTextSelected:t.listItemText})):null,"membership"===e.page?r.a.createElement(Na,{className:t.listItem,link:"/membership/members",onClick:function(){c("members")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.v,className:l.members?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Members",disableTypography:!0,className:l.members?t.listItemTextSelected:t.listItemText})):null,"customer care"===e.page?r.a.createElement(me.a,{button:!0,className:t.listItem,onClick:function(e){return s(e,"members")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.v,className:l.members?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Members",disableTypography:!0,className:l.members?t.listItemTextSelected:t.listItemText})):null,"customer care"===e.page?r.a.createElement(Na,{className:t.listItem,link:"/customer-care/tickets",onClick:function(){c("tickets")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.L,className:l.tickets?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Tickets",disableTypography:!0,className:t.listItemText})):null,"membership"===e.page?r.a.createElement(Na,{className:t.listItem,link:"/membership/ticketlist",onClick:function(){c("tickets")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.L,className:l.tickets?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Tickets",disableTypography:!0,className:t.listItemText})):null,"customer care"!==e.page&&"system admin"!==e.page&&"membership"!==e.page?r.a.createElement(Na,{button:!0,className:t.listItem,link:"/underwriting/tickets",onClick:function(){c("tickets")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.L,className:l.tickets?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Tickets",disableTypography:!0,className:l.tickets?t.listItemTextSelected:t.listItemText})):null,"system admin"===e.page?r.a.createElement(Na,{button:!0,className:t.listItem,link:"system admin"===e.page?"/system-admin/users":"",onClick:function(){c("users")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.R,className:l.users?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Users",disableTypography:!0,className:l.users?t.listItemTextSelected:t.listItemText})):null,"system admin"===e.page?r.a.createElement(Na,{button:!0,className:t.listItem,link:"system admin"===e.page?"/system-admin/lookup":"",onClick:function(){c("lookup")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.e,className:l.lookup?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Lookup",disableTypography:!0,className:l.lookup?t.listItemTextSelected:t.listItemText})):null,"system admin"===e.page?r.a.createElement(Na,{button:!0,className:t.listItem,link:"system admin"===e.page?"/system-admin/reports":"",onClick:function(){c("reports")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.K,className:l.reports?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Reports",disableTypography:!0,className:l.reports?t.listItemTextSelected:t.listItemText})):null,"system admin"===e.page?r.a.createElement(Na,{button:!0,className:t.listItem,link:"system admin"===e.page?"/system-admin/settings":"",onClick:function(){c("settings")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.D,className:l.settings?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Settings",disableTypography:!0,className:l.settings?t.listItemTextSelected:t.listItemText})):null,"customer care"!==e.page&&"system admin"!==e.page?r.a.createElement(me.a,{button:!0,className:t.listItem,onClick:function(e){s(e,"reports")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.K,className:l.reports?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Reports",disableTypography:!0,className:l.reports?t.listItemTextSelected:t.listItemText})):null,"underwriting"===e.page?r.a.createElement(me.a,{button:!0,className:t.listItem,onClick:function(e){return s(e,"templates")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.t,className:l.templates?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Templates",disableTypography:!0,className:l.templates?t.listItemTextSelected:t.listItemText})):null,"membership"===e.page?r.a.createElement(me.a,{button:!0,className:t.listItem,onClick:function(e){s(e,"users")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.Q,className:t.icon}))),r.a.createElement(ue.a,{primary:"Users",disableTypography:!0,className:t.listItemText})):null,"membership"===e.page?r.a.createElement(me.a,{button:!0,className:t.listItem,onClick:function(e){return s(e,"settings")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.D,className:t.icon}))),r.a.createElement(ue.a,{primary:"settings",disableTypography:!0,className:t.listItemText})):null,r.a.createElement(pe.a,{className:t.divider}),r.a.createElement(me.a,{button:!0,className:t.listItem,onClick:function(e){return s(e,"help")}},r.a.createElement(de.a,{className:t.listItemIcon},r.a.createElement(ie.a,{className:t.avatar},r.a.createElement(X.a,{icon:Z.f,className:l.help?t.iconSelected:t.icon}))),r.a.createElement(ue.a,{primary:"Help",disableTypography:!0,className:l.help?t.listItemTextSelected:t.listItemText}))))},Ta=Object(y.a)(function(e){var t;return{root:{display:"flex"},drawer:(t={},t[e.breakpoints.up("sm")]={width:"72px",flexShrink:0},t),drawerPaper:{backgroundColor:"#1e2071"},content:{flexGrow:1,padding:"0 "+e.spacing(5)+"px"},toolbar:e.mixins.toolbar}}),Ma=Object(y.a)({root:{backgroundColor:"#ffffff",padding:"10px"},gridContainer:{height:"100px"},breadCrumbs:{marginBottom:"10px"},headerTitle:{fontSize:25},linkPrevious:{fontSize:12,fontWeight:300,color:"black",cursor:"pointer"},linkCurrent:{fontSize:12,color:"black",cursor:"pointer"}}),Fa=Object.freeze({default:function(){var e=Ma();return Object(n.createElement)("div",{className:e.root},Object(n.createElement)(J.a,{container:!0,justify:"space-between",alignItems:"center",className:e.gridContainer},Object(n.createElement)(J.a,{item:!0},Object(n.createElement)(Le.a,{className:e.breadCrumbs},Object(n.createElement)(re.a,{className:e.linkPrevious},"CLIENTS"),Object(n.createElement)(re.a,{className:e.linkCurrent},"HAPPY INNOVATIVE TECHNOLOGIES, INC.")),Object(n.createElement)(S.a,{className:e.headerTitle},"Happy Innovative Technologies, Inc.")),Object(n.createElement)(J.a,{item:!0},Object(n.createElement)(z.a,{variant:"contained",color:"primary"},"Edit Client"))))}}),Pa=Object(y.a)({root:{padding:"5px 5px"},name:function(e){return{fontSize:e.nameFontSize,color:"rgba(39, 46, 76, 0.6)"}},value:function(e){return{fontSize:e.valueFontSize,color:"rgb(39, 46, 76)"}}}),Aa=function(e){var t=Pa(e);return Object(n.createElement)("div",{className:t.root},Object(n.createElement)(S.a,{className:t.name},e.name),Object(n.createElement)(S.a,{className:t.value},e.value))};Aa.defaultProps={nameFontSize:12,valueFontSize:16};var Ba=Object(y.a)({grid:function(e){return{height:e.height}}}),Ia=function(e){var t=Ba(e);return Object(n.createElement)(J.a,{item:!0,xs:12,className:t.grid})};Ia.defaultProps={height:"10px"},Ia.propTypes={height:ee.a.string};var Ra=Object(y.a)(function(e){var t={width:"100%",height:"100%",position:"absolute",left:"0",top:"0"};e.rotate&&Object.assign(t,{transform:"rotate("+e.rotate+"deg)"});return e.delay&&Object.assign({content:"",display:"block",margin:"0 auto",width:"15%",height:"15%",backgroundColor:"#999",borderRadius:"100%","@keyframes circleFadeDelay":{"0%,39%,100%":{opacity:0},"40%":{opacity:1}},animation:"$circleFadeDelay 1.2s infinite ease-in-out both"},{animationDelay:e.delay+"s"}),{root:t}}),La=function(e){var t=Ra(e);return Object(n.createElement)("div",{className:t.root})},Wa=Object(y.a)({root:{margin:"2em auto",width:"40px",height:"40px",position:"relative"}}),za=function(e){var t=Wa();return r.a.createElement("div",gt({className:t.root},e))},Ua=Object(y.a)({previous_page:{fontWeight:300,textDecoration:"underline"},current_page:{fontWeight:600}}),Ya=function(e){var t=e.items,a=Ua();return Object(n.createElement)(Le.a,{"aria-label":"breadcrumb"},t.map(function(e,t){return""!=e.url?Object(n.createElement)(re.a,{className:a.previous_page,key:t,color:"inherit",href:e.url},e.label):Object(n.createElement)(S.a,{className:a.current_page,key:t,color:"textPrimary"},e.label)}))};Ya.defaultProps={items:[{label:"SAMPLE",url:""}]};var Va=Object(y.a)(function(e){var t;return{appBar:(t={top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},t[e.breakpoints.up("sm")]={width:"calc(100% - 72px)"},t),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}}}),Ha=function(e){var t=Va();return Object(n.createElement)(J.a,{container:!0},Object(n.createElement)(J.a,{item:!0,xs:12},Object(n.createElement)(te.a,{className:t.appBar},Object(n.createElement)(ae.a,null,e.rightButtons,Object(n.createElement)("div",{className:t.grow}),e.leftButtons))))};Ha.defaultProps={leftButtons:null,rightButtons:null};var qa=Object(y.a)(function(e){return{main:{padding:e.spacing(5),backgroundColor:"#FFFFFF",position:"relative",minWidth:300},title:{color:"#272E4C",fontSize:16,fontWeight:"bold",marginBottom:0},subtitle:{color:"#272E4C",fontSize:12},bodyText:{marginTop:20,marginBottom:15,fontSize:14,color:"#272E4C"},modules:{},module:{marginTop:5,marginBottom:5,fontSize:14,color:"#272E4C",display:"block"},selected:{color:"#3AB77D"},fillButton:{backgroundColor:"#3AB77D !important",color:"#FFFFFF",width:125,height:40},outlineButton:{backgroundColor:"transparent !important",borderColor:"#3AB77D",color:"#3AB77D",width:125,height:40}}}),Ga=function(e){var t=qa();r.a.useEffect(function(){a()},[]);var a=function(){return _t(void 0,void 0,void 0,function(){var e;return ht(this,function(t){switch(t.label){case 0:return[4,Oa("user_data","modules").catch(function(e){console.log(e)})];case 1:return(e=t.sent())&&o(e.result),[2]}})})},n=r.a.useState([]),i=n[0],o=n[1],l=r.a.useState(""),s=l[0],c=l[1];return r.a.createElement(U.a,{maxWidth:"sm",onClose:function(){e.onClose(),c("")},open:e.open},r.a.createElement("div",{className:t.main},r.a.createElement("h2",{className:t.title},"Switch Modules"),r.a.createElement("span",{className:t.subtitle},"You\u2019re currently in ",e.currentModule),r.a.createElement("p",{className:t.bodyText},"You can access modules that you have access to.",r.a.createElement("br",null)," Choose one:"),r.a.createElement("div",{className:t.modules},e.modulesList?e.modulesList.map(function(a){return a.name!==e.currentModule?r.a.createElement("span",{onClick:function(){c(a.dashboard_url)},className:t.module+" "+(s===a.dashboard_url&&t.selected)},a.name):""}):i.map(function(a){return a.name!==e.currentModule?r.a.createElement("span",{onClick:function(){c(a.dashboard_url)},className:t.module+" "+(s===a.dashboard_url&&t.selected)},a.name):""})),r.a.createElement(J.a,{container:!0,spacing:2,style:{marginTop:60}},r.a.createElement(J.a,{item:!0,xs:6,style:{textAlign:"center"}},r.a.createElement(z.a,{className:t.outlineButton,onClick:function(){e.onClose(),c("")},variant:"outlined"},"Cancel")),r.a.createElement(J.a,{item:!0,xs:6,style:{textAlign:"center"}},r.a.createElement(z.a,{className:t.fillButton,onClick:function(){var t;if(t=e.modulesList?e.modulesList.find(function(t){return t.name===e.currentModule}):i.find(function(t){return t.name===e.currentModule})){var a=window.location.href.replace(t.dashboard_url,s);window.location.replace(a)}}},"Switch")))))},Ja=Object(y.a)(function(e){var t,a;return{root:{display:"flex",backgroundColor:"#ffffff"},drawer:(t={},t[e.breakpoints.up("sm")]={width:"72px",flexShrink:0},t),drawerPaper:{backgroundColor:"#1e2071"},content:{flexGrow:1},toolbar:e.mixins.toolbar,menuButton:(a={marginRight:e.spacing(2)},a[e.breakpoints.up("sm")]={display:"none"},a),logo:{height:"40px"},badge:{backgroundColor:"#ff6969",color:"#ffffff",fontWeight:700},grow:{flexGrow:1},sidebar:{maxWidth:"85px"},contentgrid:{maxWidth:"calc(100% - 85px)",flexBasis:"calc(100% - 85px)"},profileContent:{width:280,padding:15,borderBottom:"1px solid #B5B8C1"},profileFooter:{width:280,padding:15,textAlign:"center"},logoutButton:{fontSize:16,fontWeight:500,backgroundColor:"transparent",border:"none",outline:"none",color:"#B5B8C1",textAlign:"center",cursor:"pointer"},buttons:{width:"120px",height:"45px",lineHeight:"110%"},linkProfile:{position:"absolute",width:"100%",height:"100%",zIndex:1,color:"#fff",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center"}}}),Ka=a(793),Xa=a(126),Za=a(794),Qa=a(795),$a=a(796);$a.vfs=Qa.pdfMake.vfs;var en=function(e){function t(t){var a=e.call(this,t)||this;return a.printRender=function(){var e=a.props.html.html.replace(/\s\s+/g," ");if(console.log(e),console.log(a.props.html.params.default_style),"string"==typeof a.props.fileType&&"docx"==a.props.fileType.toLowerCase())try{a.printDocx(e)}catch(t){a.props.onError()}else try{a.printPdf(e)}catch(n){a.props.onError()}},a.printPdf=function(e){var t="";if("renderProposal"==a.props.renderType){t="Proposal",void 0!==(i=Za(e,{defaultStyles:void 0!==a.props.html.params.default_style?JSON.parse(a.props.html.params.default_style):{}}))[0].stack[0].table&&i[0].stack[0].table.body[0].map(function(e){e.border=[!1,!1,!1,!1]});var n={content:[i],styles:void 0!==a.props.html.params.pdfmake_style?JSON.parse(a.props.html.params.pdfmake_style):{},pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1}},r=$a.createPdf(n)}else if("renderContract"==a.props.renderType){t="Contract";var i=Za(e,{defaultStyles:void 0!==a.props.html.params.default_style?JSON.parse(a.props.html.params.default_style):{}}),o={footer:void 0!==a.props.html.params.default_footer?JSON.parse(a.props.html.params.default_footer):{},content:[i],styles:void 0!==a.props.html.params.pdfmake_style?JSON.parse(a.props.html.params.pdfmake_style):{},pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1}};r=$a.createPdf(o)}var l=t+"-"+a.props.clientName+"-"+Je()().format("MMDDYYYY-hmssa");""!==a.props.clientName&&void 0!==a.props.clientName&&null!==a.props.clientName||(l=t+"-"+a.props.clientID+"-"+Je()().format("MMDDYYYY-hmssa")),r.download(l+".pdf"),a.props.onStartDownload(),a.props.resetFlag&&a.props.resetFlag()},a.printDocx=function(e){var t="";if("renderProposal"===a.props.renderType){var n=Ka.asBlob(e,{orientation:"portrait",margins:{top:720}});t="Proposal"}else if("renderContract"===a.props.renderType){n=Ka.asBlob(e,{orientation:"portrait",margins:{top:720,left:720,right:720,bottom:720}});t="Contract"}var r=t+"-"+a.props.clientName+"-"+Je()().format("MMDDYYYY-hmssa");""!==a.props.clientName&&void 0!==a.props.clientName&&null!==a.props.clientName||(r=t+"-"+a.props.clientID+"-"+Je()().format("MMDDYYYY-hmssa")),Xa(n,r+".docx"),a.props.resetFlag&&a.props.resetFlag(),a.props.onStartDownload()},a}return bt(t,e),t.prototype.componentWillReceiveProps=function(){this.printRender()},t.prototype.componentDidMount=function(){this.printRender()},t.prototype.render=function(){return Object(n.createElement)(n.Fragment,null)},t}(n.Component),tn=function(e){function t(t){var a=e.call(this,t)||this;return a.getBenefitsTree=function(){var e=a.props.apiUrl+"benefit-plans/tree/"+a.props.objId;return a.props.apiContext&&(e=""+a.props.apiUrl+a.props.apiContext+"/tree/"+a.props.objId),fetch(e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},a.handleOnClick=function(){if(a.props.treeObj){a.props.treeObj.sort(function(e,t){return e.level-t.level});var e=Ea(a.props.treeObj,a.props.objId,a.props.fileType);a.setState({reset:!0,htmlData:e[a.props.renderType]()})}else a.getBenefitsTree().then(function(e){e.sort(function(e,t){return e.level-t.level});var t=Ea(e,a.props.objId,a.props.fileType);a.setState({reset:!0,htmlData:t[a.props.renderType]()})})},a.setReset=function(){a.setState({reset:!1})},a.state={reset:!1,treeObj:[],htmlData:"",nodeToExecute:0},a}return bt(t,e),t.prototype.componentDidMount=function(){this.setState({reset:!1})},t.prototype.ElToString=function(e){return console.log(e),this.state.htmlData},t.prototype.render=function(){var e=this;return this.props.download&&!0===this.props.download&&!1===this.state.reset&&(this.props.setDownload(!1),this.handleOnClick()),Object(n.createElement)(n.Fragment,null,this.props.hideButton?null:Object(n.createElement)(J.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"10px"}},Object(n.createElement)(z.a,{className:"makeStyles-downloadBtn-311",variant:"contained",color:"primary",onClick:function(){return e.handleOnClick()}},this.props.label?this.props.label:"Download file")),!0===this.state.reset&&Object(n.createElement)(en,{clientID:this.props.clientID,clientName:this.props.clientName,fileType:this.props.fileType?this.props.fileType:"pdf",html:this.ElToString(this.props.renderType?this.props.renderType:"renderProposal"),renderType:this.props.renderType?this.props.renderType:"renderProposal",resetFlag:this.setReset,onStartDownload:function(){return e.props.onStartDownload()},onError:function(){return void 0!==e.props.onError&&e.props.onError()}}))},t}(n.Component),an=Object(y.a)(function(e){var t;return{root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"},mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px",position:"relative"},headMain:{},gridContainer:{padding:e.spacing(1),paddingBottom:"75px"},gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},sideBarContainer:{borderRight:"1px solid #ccc",paddingRight:"25px"},contentContainer:{paddingLeft:"25px"},sideBarLists:{padding:0,margin:0,listStyle:"none"},sideBarLink:{color:"#272e4c",margin:"0 0 10px",display:"block"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:(t={top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},t[e.breakpoints.up("sm")]={width:"calc(100% - 72px)"},t),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"},userImage:{width:e.spacing(15),height:e.spacing(15)}}}),nn=Object(y.a)(function(e){return{root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container2:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"},dialog:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogTitle:{marginTop:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},inputTextField:{width:"100%",marginTop:e.spacing(1),marginBottom:e.spacing(1),paddingRight:0},iconEye:{color:"#9EA3AC"},labelNote:{color:"#797F92",fontSize:12},errorMessage:{color:"#E53935",fontSize:14},errorIcon:{color:"#E53935"}}}),rn=Object(y.a)(function(e){return{dialog:{},dialogTitle:{fontWeight:600},dialogContent:{minWidth:320},dialogAction:{marginTop:16,marginBottom:e.spacing(2)}}}),on=function(e){var t=rn(),a=function(){e.onClose()};return r.a.createElement(U.a,{open:e.isModalOpen,onClose:a,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},r.a.createElement(Y.a,{id:"form-dialog-title",className:t.dialogTitle},e.title),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("span",{style:{display:"inline-block",maxWidth:e.messageMaxWidth}},e.message)))),r.a.createElement(q.a,{className:Object(tt.default)(t.dialogAction)},r.a.createElement(J.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(z.a,{onClick:a,variant:"contained",color:"primary",fullWidth:!0},"Okay")))))};on.defaultProps={isModalOpen:!1};var ln,sn=function(e){var t=e.visible,a=e.onClose,n=nn(),i=function(e,t){var a,n=e.target.value;d(gt(gt({},m),((a={})[t]=n,a)))},o=function(){d({oldPassword:"",newPassword:"",confirmPassword:""}),f(gt(gt({},p),{error:!1})),_(gt(gt({},g),{error:!1})),E(gt(gt({},v),{error:!1})),a()},l=function(e){return!(e.length<6)},s=function(e,t){return""===e||""===t||e===t},c=r.a.useState({oldPassword:"",newPassword:"",confirmPassword:""}),m=c[0],d=c[1],u=r.a.useState({message:"",error:!1}),p=u[0],f=u[1],b=r.a.useState({message:"",error:!1}),g=b[0],_=b[1],h=r.a.useState({message:"",error:!1}),v=h[0],E=h[1],y=r.a.useState({message:"",title:"",visible:!1}),x=y[0],O=y[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{open:t,onClose:o,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:n.dialog},r.a.createElement(J.a,{container:!0,className:n.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Y.a,{className:n.dialogTitle,disableTypography:!1,id:"form-dialog-title"},r.a.createElement(Ye.a,{fontWeight:700},"Change Password"),r.a.createElement(ne.a,{"aria-label":"close",className:n.closeButton,onClick:o},r.a.createElement(Xe.a,null)))),r.a.createElement(J.a,{item:!0,xs:!0,className:n.dialogContentContainer},r.a.createElement(V.a,null,r.a.createElement(J.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(cn,{id:"oldPassword",error:p.error,errorMsg:p.message,label:"Enter your old password",value:m.oldPassword,onChange:i,classes:n})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(cn,{id:"newPassword",error:g.error,errorMsg:g.message,label:"Enter your new password",note:"At least 6 alphanumeric characters",value:m.newPassword,onChange:i,classes:n})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(cn,{id:"confirmPassword",error:v.error,errorMsg:v.message,label:"Confirm your new password",value:m.confirmPassword,onChange:i,classes:n})))),r.a.createElement(q.a,{className:n.dialogAction},r.a.createElement(J.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(z.a,{onClick:o,className:n.button,variant:"outlined",color:"secondary"},"Cancel")),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(z.a,{onClick:function(){var t=m.oldPassword,n=m.newPassword,r=m.confirmPassword;if(l(t)?f({message:"",error:!1}):f({message:"Invalid input",error:!0}),l(n)?_({message:"",error:!1}):_({message:"Invalid input",error:!0}),l(r)?s(n,r)?(_({message:"",error:!1}),E({message:"",error:!1})):(_(gt(gt({},g),{error:!0})),E({message:"Password doesn\u2019t match",error:!0})):E({message:"Invalid input",error:!0}),l(t)&&l(n)&&l(r)&&s(n,r)){var i={old_password:t,new_password:n,conf_password:r};e.setLoading(!0),Oa("user_data","access_token").then(function(t){var n=t.result;fetch(e.url+"user/password",{method:"PUT",body:JSON.stringify(i),headers:{Authorization:"Bearer "+n,"Content-type":"application/json"}}).then(function(t){return _t(void 0,void 0,void 0,function(){return ht(this,function(n){switch(n.label){case 0:return[4,t.json()];case 1:return n.sent().error?O({title:"Error",message:"Something went wrong. Your password has not been changed.",visible:!0}):(O({title:"Change Password Success",message:"You have successfully changed your password.",visible:!0}),d({oldPassword:"",newPassword:"",confirmPassword:""}),a()),e.setLoading(!1),[2]}})})}).catch(function(t){t.message.includes("UM21")&&f({message:"Incorrect Password",error:!0}),O({title:"Error",message:"Something went wrong. Your password has not been changed.",visible:!0}),e.setLoading(!1)})})}},className:n.button,variant:"contained",color:"primary"},"Change"))))))),r.a.createElement(on,{isModalOpen:x.visible,onClose:function(){O({message:"",title:"",visibile:!1})},title:x.title,message:x.message}))},cn=function(e){var t=e.classes,a=e.label,n=e.onChange,i=e.value,o=e.note,l=e.id,s=e.error,c=e.errorMsg,m=r.a.useState("password"),d=m[0],u=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{className:t.inputLabel,htmlFor:"role_id"},a),r.a.createElement("span",{className:t.labelNote},o&&o),r.a.createElement(P.a,{id:l,error:s,type:d,onChange:function(e){return n(e,l)},value:i,className:t.inputTextField,labelWidth:0,endAdornment:r.a.createElement(Ve.a,{position:"end"},r.a.createElement(ne.a,{"aria-label":"toggle password visibility",onClick:function(){u("password"===d?"text":"password")}},"text"===d?r.a.createElement(Qe.a,{className:t.iconEye}):r.a.createElement(et.a,{className:t.iconEye})))}),s&&r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:9},r.a.createElement("span",{className:t.errorMessage},c)),r.a.createElement(J.a,{item:!0,xs:3,style:{textAlign:"right"}},r.a.createElement(W.a,{className:t.errorIcon,fontSize:"small"}))))},mn=Object(y.a)(function(){return{label:{color:"#272E4C",fontSize:12,opacity:.6},value:{color:"#272E4C",fontSize:16,fontWeight:800},linkAction:{color:"#3AB77D",textDecoration:"underline",fontSize:12,cursor:"pointer"}}}),dn=function(e){var t=mn(),a=Object(n.useState)(!1),r=a[0],i=a[1];return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(J.a,{container:!0,spacing:5},Object(n.createElement)(J.a,{item:!0,xs:12},Object(n.createElement)(S.a,null,Object(n.createElement)("b",null,"ACCOUNT"))),Object(n.createElement)(J.a,{item:!0,xs:6},Object(n.createElement)(S.a,{className:t.label},"USERNAME"),Object(n.createElement)(S.a,{className:t.value},e.userData.username?e.userData.username:"N/A")),Object(n.createElement)(J.a,{item:!0,xs:6},Object(n.createElement)(S.a,{className:t.label},"PRIMARY ROLE AND MODULE"),Object(n.createElement)(S.a,{className:t.value},e.userData.main_role&&e.userData.main_role.name+" - "+e.userData.main_module))),Object(n.createElement)(J.a,{container:!0,spacing:5},Object(n.createElement)(J.a,{item:!0,xs:6},Object(n.createElement)(S.a,{className:t.label},"EMAIL"),Object(n.createElement)(S.a,{className:t.value},e.userData.email?e.userData.email:"N/A")),Object(n.createElement)(J.a,{item:!0,xs:6},Object(n.createElement)(S.a,{className:t.label},"USER GROUP"),Object(n.createElement)(S.a,{className:t.value},null==e.userData.group?"N/A":e.userData.group.name))),Object(n.createElement)(J.a,{container:!0,spacing:5},Object(n.createElement)(J.a,{item:!0,xs:6},Object(n.createElement)(S.a,{className:t.label},"PASSWORD"),Object(n.createElement)(S.a,{className:t.value},"*****"),e.userIdDb===e.userData._id&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)(re.a,{onClick:function(){i(!0)}},"Change Password"),Object(n.createElement)(sn,{setLoading:e.setLoading,url:e.url,userId:e.userData.user_id,visible:r,onClose:function(){i(!1)}}))),Object(n.createElement)(J.a,{item:!0,xs:6},Object(n.createElement)(S.a,{className:t.label},"ROLES FROM USER GROUPS"),Object(n.createElement)(S.a,{className:t.value},Object(n.createElement)("u",null,e.userData.hasOwnProperty("group_roles")&&e.userData.group_roles.length>0?e.userData.group_roles.map(function(t,a){return t.name+(a!==e.userData.group_roles.length-1?", ":"")}):"N/A")))),Object(n.createElement)(J.a,{container:!0,spacing:5},Object(n.createElement)(J.a,{item:!0,xs:6},Object(n.createElement)(S.a,{className:t.label},"STATUS"),Object(n.createElement)(S.a,{className:t.value},Object(n.createElement)("b",null,e.userData.is_locked&&e.userData.is_locked?"Locked":"Unlocked"))),Object(n.createElement)(J.a,{item:!0,xs:6},Object(n.createElement)(S.a,{className:t.label},"OTHER ROLES"),Object(n.createElement)(S.a,{className:t.value},Object(n.createElement)("u",null,e.userData.hasOwnProperty("roles")&&e.userData.roles.length>0?e.userData.roles.map(function(t,a){return t.name+(a!==e.userData.roles.length-1?", ":"")}):"N/A")))),Object(n.createElement)(J.a,{container:!0,spacing:5},Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"SUPERVISOR"),e.userData.reports_to?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(S.a,{className:t.value},e.userData.reports_to.first_name," ",e.userData.reports_to.last_name),Object(n.createElement)(S.a,{style:{color:"rgba(60, 57, 74, 0.7)"}},Object(n.createElement)("small",null,Object(n.createElement)("b",null,e.userData.reports_to.job_title?e.userData.reports_to.job_title:"N/A"))),Object(n.createElement)(S.a,{style:{color:"rgba(60, 57, 74, 0.7)"}},Object(n.createElement)("small",null,Object(n.createElement)("i",null,e.userData.reports_to.employee_id?e.userData.reports_to.employee_id:"N/A")))):Object(n.createElement)(S.a,{className:t.value},"N/A"))),Object(n.createElement)(J.a,{container:!0,spacing:5,style:{paddingBottom:30}},Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"EFFECTIVITY DATE"),Object(n.createElement)(S.a,{className:t.value},e.userData.effectivity_date?Je()(e.userData.effectivity_date).format("MMM DD, YYYY"):"N/A")),Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"EXPIRY DATE (If applicable)"),Object(n.createElement)(S.a,{className:t.value},e.userData.expiry_date?Je()(e.userData.expiry_date).format("MMM DD, YYYY"):"N/A"))),Object(n.createElement)(J.a,{container:!0,spacing:5},Object(n.createElement)(J.a,{item:!0,xs:12},Object(n.createElement)(S.a,null,Object(n.createElement)("b",null,"PROFILE"))),Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"FIRST NAME"),Object(n.createElement)(S.a,{className:t.value},e.userData.first_name?e.userData.first_name:"N/A")),Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"MIDDLE NAME"),Object(n.createElement)(S.a,{className:t.value},e.userData.middle_name?e.userData.middle_name:"N/A")),Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"LAST NAME"),Object(n.createElement)(S.a,{className:t.value},e.userData.last_name?e.userData.last_name:"N/A"))),Object(n.createElement)(J.a,{container:!0,spacing:5},Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"EMPLOYEE ID NUMBER"),Object(n.createElement)(S.a,{className:t.value},e.userData.employee_id?e.userData.employee_id:"N/A")),Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"DEPARTMENT"),Object(n.createElement)(S.a,{className:t.value},e.userData.department?e.userData.department.name:"N/A")),Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"JOB POSITION / RANK"),Object(n.createElement)(S.a,{className:t.value},e.userData.job_title?e.userData.job_title:"N/A"))),Object(n.createElement)(J.a,{container:!0,spacing:5},Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"SECTION"),Object(n.createElement)(S.a,{className:t.value},e.userData.section?e.userData.section:"N/A")),Object(n.createElement)(J.a,{item:!0,xs:3},Object(n.createElement)(S.a,{className:t.label},"LOCATION"),Object(n.createElement)(S.a,{className:t.value},e.userData.location?e.userData.location:"N/A"))))},un=Object(y.a)({grayBg:{backgroundColor:"#F5F7FB",padding:"25px 24px"},mainContainer:{padding:"25px 24px"},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"}}),pn=function(e){var t=e.buttonName,a=e.headingTitle,r=e.breadCrumbsArray,i=e.buttonFunc,o=e.layoutType,l=e.menuItemsArray,s=e.activeItems,c=e.enableButton,m=un(),d=Object(n.useState)(0),u=d[0],p=d[1];return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"layout_1"===o?m.mainContainer:m.grayBg},Object(n.createElement)(J.a,{container:!0,xs:12,alignItems:"center"},Object(n.createElement)(J.a,{item:!0,xs:6},"layout_1"===o&&Object(n.createElement)(S.a,{gutterBottom:!0,className:m.subSectionTitle},r&&r.length>0&&r.map(function(e,t){return r.length===t+1?Object(n.createElement)("b",null,e.name?e.name:e):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(se.b,{to:""+(e.link?e.link:""),style:{color:"#272E4C",textDecoration:"none"}},e.name?e.name:e)," / ")})),Object(n.createElement)(S.a,{gutterBottom:!0,className:m.sectionTitle},a),"layout_2"===o&&Object(n.createElement)("ul",{style:{padding:"0",margin:"0"}},l.length>0&&l.map(function(e,t){return Object(n.createElement)("li",{className:m.menuList},Object(n.createElement)(re.a,{className:m.menuLink+" "+(u===t?m.LinkActive:""),onClick:function(){return a=e.name,n=t,void 0!==s&&s(a),void p(n);var a,n}},e.name))}))),Object(n.createElement)(J.a,{item:!0,xs:6,className:m.alignRight},c?Object(n.createElement)(z.a,{id:"button-id",variant:"contained",color:"primary",className:m.editBtn,onClick:function(){void 0!==i&&i()}},t):""))))},fn=Object.freeze({BaseTheme:pt,SampleCoreComponent:ta,InputAutocomplete:St,InputChipTextField:Nt,InputSelect:At,InputSelectSetValue:zt,InputTextField:qt,LoadingIndicator:function(){return Object(n.createElement)(za,null,Object(n.createElement)(La,null),Object(n.createElement)(La,{rotate:30,delay:-1.1}),Object(n.createElement)(La,{rotate:60,delay:-1}),Object(n.createElement)(La,{rotate:90,delay:-.9}),Object(n.createElement)(La,{rotate:120,delay:-.8}),Object(n.createElement)(La,{rotate:150,delay:-.7}),Object(n.createElement)(La,{rotate:180,delay:-.6}),Object(n.createElement)(La,{rotate:210,delay:-.5}),Object(n.createElement)(La,{rotate:240,delay:-.4}),Object(n.createElement)(La,{rotate:270,delay:-.3}),Object(n.createElement)(La,{rotate:300,delay:-.2}),Object(n.createElement)(La,{rotate:330,delay:-.1}))},AppHeader:na,AppSidebar:Da,AuthenticatedLayout:function(e){var t=Ta(),a=Object(n.useState)(!1),i=a[0],o=a[1],l=function(){o(!i)};return r.a.createElement("div",{className:t.root},r.a.createElement(na,{logoImage:"intellicare.png",userImage:"user.jpg",badgeCount:8,menuOnClick:l}),r.a.createElement("nav",{className:t.drawer},r.a.createElement(Ie.a,{smUp:!0,implementation:"css"},r.a.createElement(Re.a,{classes:{paper:t.drawerPaper},variant:"temporary",open:i,onClose:l},r.a.createElement(Da,gt({},e)))),r.a.createElement(Ie.a,{xsDown:!0,implementation:"css"},r.a.createElement(Re.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},r.a.createElement(Da,gt({},e))))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),e.children))},PageHeader:Fa,ClientInfoItem:Aa,GridHorizontalDivider:Ia,TicketModal:Xt,BreadcrumbsComponent:Ya,FloatingButtons:Ha,PageLayout:function(e){var t=Ja(),a=Object(n.useState)(!1),i=a[0],o=a[1],l=Object(n.useState)(!1),s=l[0],c=l[1],m=r.a.useState(null),d=m[0],u=m[1],p=Object(n.useRef)(null),f=r.a.useState(!1),b=f[0],g=f[1],_=r.a.useState(),h=_[0],v=_[1],E=r.a.useState([]),y=E[0],x=E[1];r.a.useEffect(function(){document.addEventListener("mousedown",C),S()},[]);var O,C=function(e){p&&(!p.current||p.current.contains(e.target)||g(!1))},S=function(){return _t(void 0,void 0,void 0,function(){var e;return ht(this,function(t){switch(t.label){case 0:return[4,Oa("user_data","modules")];case 1:return(e=t.sent())&&e.result.length>0&&x(e.result),[2]}})})},w="/";switch(e.page){case"membership":w="#/membership";break;case"underwriting":w="#/underwriting";break;case"system admin":w="#/system-admin"}return r.a.createElement("div",{className:t.root},r.a.createElement(Ga,{modulesList:e.modules,currentModule:e.currentModule?e.currentModule:"",open:s,onClose:function(){return c(!1)}}),r.a.createElement(qe.a,{open:b,anchorEl:d,placement:h,style:{zIndex:9998},transition:!0},function(a){var n=a.TransitionProps;return r.a.createElement(Ue.a,gt({},n,{timeout:350}),r.a.createElement(N.a,{ref:p},r.a.createElement("div",{className:t.profileContent},r.a.createElement(ie.a,{style:{width:120,height:120,margin:"0 auto"},src:e.profilePic&&"DEFAULT_PIC"!==e.profilePic?"data:image/jpeg;base64,"+e.profilePic:"profile_pic-01.png",alt:"avatar"}),r.a.createElement("div",null,r.a.createElement("h2",{style:{fontSize:"16",margin:0,paddingBottom:5}},e.fullname&&e.fullname),r.a.createElement("p",{style:{color:"#000000",opacity:.5,fontSize:12,paddingBottom:20,margin:0}},e.username&&"@"+e.username)),r.a.createElement(J.a,{container:!0,spacing:1},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(z.a,{className:t.buttons,variant:"contained",color:"primary",style:{position:"relative"}},r.a.createElement(se.b,{to:"/profile",onClick:function(){return g(!1)},className:t.linkProfile},"View Profile"))),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(z.a,{disabled:!(y.length>0),onClick:function(){c(!0),g(!1)},className:t.buttons,style:{border:"1px solid #3AB77D",backgroundColor:"transparent"},variant:"contained",color:"secondary"},"Switch modules")))),r.a.createElement("div",{className:t.profileFooter},r.a.createElement("button",{className:t.logoutButton,onClick:function(){e.onLogout&&e.onLogout(),g(!1)}},"Log out"))))}),r.a.createElement(J.a,{container:!0,direction:"row",justify:"flex-start"},r.a.createElement(J.a,{item:!0,xs:1,className:t.sidebar},r.a.createElement("nav",{className:t.drawer},r.a.createElement(Ie.a,{smUp:!0,implementation:"css"},r.a.createElement(Re.a,{classes:{paper:t.drawerPaper},variant:"temporary",open:i,onClose:function(){o(!i)}},r.a.createElement(Da,gt({},e)))),r.a.createElement(Ie.a,{xsDown:!0,implementation:"css"},r.a.createElement(Re.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},r.a.createElement(Da,gt({},e)))))),r.a.createElement(J.a,{item:!0,xs:11,className:t.contentgrid},r.a.createElement(J.a,{container:!0,direction:"column"},"customer care"!==e.page?r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{edge:"start",className:t.menuButton},r.a.createElement(le.a,null)),r.a.createElement("a",{href:w},r.a.createElement("img",{src:"intellicare.png",className:t.logo,alt:"logo"})),r.a.createElement("div",{className:t.grow}),e.username,r.a.createElement(ie.a,{style:{marginLeft:10},src:e.profilePic&&"DEFAULT_PIC"!==e.profilePic?"data:image/jpeg;base64,"+e.profilePic:"profile_pic-01.png",alt:"avatar"}),r.a.createElement(ne.a,{edge:"end",onClick:(O="bottom-end",function(e){u(e.currentTarget),g(function(e){return h!==O||!e}),v(O)})},r.a.createElement(ze.a,null)))):null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("main",{className:t.content},e.children))))))},RendererButton:tn,ProfilePage:function(e){var t=an(),a=Object(n.useState)(""),r=a[0],i=a[1],o=Object(n.useState)(!1),l=o[0],s=o[1],c=Object(n.useState)([]),m=c[0],d=c[1],u=Object(n.useState)(""),p=u[0],f=u[1];console.log(e),Object(n.useEffect)(function(){Oa("user_data","user_id").then(function(e){f(e.result)}).catch(function(e){return console.log(e),s(!1),!1}),s(!0),Oa("user_data","access_token").then(function(t){var a=t.result;fetch(e.url+"profile",{method:"GET",headers:{Authorization:"Bearer "+a}}).then(function(e){return _t(void 0,void 0,void 0,function(){var t;return ht(this,function(a){switch(a.label){case 0:return[4,e.json()];case 1:return(t=a.sent()).error?console.log(t.err.message):(i(t.body.first_name+" "+t.body.last_name),d(t.body)),s(!1),[2]}})})}).catch(function(e){s(!1),console.log(e)})}).catch(function(e){console.log("There was an error retrieving token in indexeddb: ",e)})},[]);return console.log(m),Object(n.createElement)(n.Fragment,null,Object(n.createElement)(pn,{headingTitle:r,breadCrumbsArray:[{name:"ACCOUNT",link:"/system-admin/users"}],layoutType:"layout_1"}),Object(n.createElement)("div",{className:t.main},l?Object(n.createElement)("div",{className:t.root},Object(n.createElement)("div",{className:t.container},Object(n.createElement)(He.a,{size:150}))):null,Object(n.createElement)(J.a,{container:!0,xs:12},Object(n.createElement)(J.a,{item:!0,xs:3,className:t.sideBarContainer},Object(n.createElement)(ne.a,{edge:"end",onClick:function(){}},Object(n.createElement)(ie.a,{className:t.userImage,src:"DEFAULT_PIC"!==m.profile_pic?"data:image/jpeg;base64,"+m.profile_pic:"user.jpg",alt:"avatar"}))),Object(n.createElement)(J.a,{item:!0,xs:9,className:t.contentContainer},Object(n.createElement)(dn,{setLoading:s,url:e.url,userData:m,userIdDb:p})))))}}),bn=Object.freeze({Actions:it,Definitions:ot,Reducers:lt,Services:dt,Stores:ut,UI:fn}),gn=Object(E.a)({palette:{primary:{main:"#3ab77d",contrastText:"#ffffff"},secondary:{main:"#ffffff",contrastText:"#3ab77d"}},typography:{fontFamily:'"Usual", "Roboto", "Helvetica", "Arial", sans-serif',button:{fontFamily:"Usual, Roboto, Helvetica, Arial, sans-serif",fontWeight:700,fontSize:13,textTransform:"none"}},overrides:{MuiButton:{containedPrimary:{boxShadow:"0px 3px 6px #1e207129","&:hover":{backgroundColor:"#008650"}},containedSecondary:{border:"1px solid #0000001A",boxShadow:"0px 1px 3px #00000033","&:hover":{backgroundColor:"#3ab77d1a"}}}}}),_n=Object.freeze({Component:function(e){var t=e.Component,a=e.store,r=e.componentProps;return Object(n.createElement)(at.a,{theme:gn},Object(n.createElement)(Ne.a,{store:a},Object(n.createElement)(Ce.a,{history:sa},Object(n.createElement)(se.a,{basename:"/"},Object(n.createElement)(t,gt({},r))))))}});!function(e){e.CHANGE_LOCALE="hims/MsgProvider/CHANGE_LOCALE"}(ln||(ln={}));var hn=ln,vn={locale:"en"};var En=function(e){return e.language||vn},yn=a(434),xn=function e(t,a){var n="en"!==t?e("en",yn):{};return Object.keys(a).reduce(function(e,r){var i,o=a[r]||"en"===t?a[r]:n[r];return gt(gt({},e),((i={})[r]=o,i))},{})},On=(xn("en",yn),Object(nt.a)(Object(nt.a)(En,function(e){return e.locale}),function(e){return{locale:e}})),Cn=Object.freeze({Provider:function(e){var t=Object(Ne.d)(On).locale;return r.a.createElement(rt.b,{locale:t,key:t,messages:e.messages[t]},r.a.Children.only(e.children))},appLocales:["en"],formatTranslationMessages:xn,messageProviderReducer:function(e,t){switch(void 0===e&&(e=vn),t.type){case hn.CHANGE_LOCALE:return{locale:t.payload};default:return e}}}),Sn=Object(rt.c)({header:{id:"boilerplate.containers.NotFoundPage.header",defaultMessage:"Page not found."}}),wn=Object.freeze({Document:_n,Message:Cn,NotFoundPage:function(){return Object(n.createElement)("article",null,Object(n.createElement)("h1",null,Object(n.createElement)(rt.a,gt({},Sn.header))))}}),kn=a(71),jn=a(25),Nn=a(2110),Dn=a(2097),Tn=a(2),Mn=a.n(Tn),Fn="http://api-dev.hims.veridata.com.ph:4101/api/",Pn=Fn,An=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"getUserDataFromDb",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n,r,i,o,l,s,m,d,u,p,f,b,g,_;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.StorageService("user_data","user_id");case 2:return t=e.sent,e.next=5,ka.StorageService("user_data","first_name");case 5:return a=e.sent,e.next=8,ka.StorageService("user_data","last_name");case 8:return n=e.sent,e.next=11,ka.StorageService("user_data","pmaker_uid");case 11:return r=e.sent,e.next=14,ka.StorageService("user_data","username");case 14:return i=e.sent,e.next=17,ka.StorageService("user_data","role");case 17:return o=e.sent,e.next=20,ka.StorageService("user_data","group");case 20:return l=e.sent,e.next=23,ka.StorageService("user_data","profile_pic");case 23:return s=e.sent,m=Object(Tn.get)(t,"result",""),d=Object(Tn.get)(a,"result",""),u=Object(Tn.get)(n,"result",""),p=Object(Tn.get)(r,"result",""),f=Object(Tn.get)(i,"result",""),b=Object(Tn.get)(o,"result",""),g=Object(Tn.get)(l,"result",""),_=Object(Tn.get)(s,"result",""),e.abrupt("return",{userId:m,userName:"".concat(d," ").concat(u),pmakerUid:p,loginUsername:f,loginRole:b,groupName:g.name,profilePic:_});case 33:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getUserPmakerUId",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.StorageService("user_data","pmaker_uid");case 2:return t=e.sent,e.abrupt("return",Object(Tn.get)(t,"result",""));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getUserGroup",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.StorageService("user_data","group");case 2:return t=e.sent,e.abrupt("return",Object(Tn.get)(t,"result",""));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getUsername",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.StorageService("user_data","username");case 2:return t=e.sent,e.abrupt("return",Object(Tn.get)(t,"result",""));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getUserFullName",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.StorageService("user_data","first_name");case 2:return t=e.sent,e.next=5,ka.StorageService("user_data","last_name");case 5:return a=e.sent,n=Object(Tn.get)(t,"result",""),r=Object(Tn.get)(a,"result",""),e.abrupt("return","".concat(n," ").concat(r));case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getAccessTokenFromDb",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.StorageService("user_data","access_token");case 2:return t=e.sent,e.abrupt("return",Object(Tn.get)(t,"result",null));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getProcessMakerToken",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccessTokenFromDb();case 3:if(t=e.sent,Object(Tn.isNil)(t)||""===Object(Tn.trim)(t)){e.next=6;break}return e.abrupt("return",t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("getProcessMakerToken Error",e.t0);case 11:if(a=localStorage.getItem("pm_token"),Object(Tn.isNil)(a)||""===Object(Tn.trim)(a)){e.next=14;break}return e.abrupt("return",a);case 14:throw new Error("USER_DATA_NOT_FOUND");case 15:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"getUserData",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,this.getProcessMakerToken();case 4:t=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 10:return a=Fn+"login/"+t,e.abrupt("return",fetch(a,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTicketData",value:function(e){return fetch(Fn+"tickets/"+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getTicketAssignees",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",!a){e.next=5;break}n=a,e.next=8;break;case 5:return e.next=7,this.getUsername();case 7:n=e.sent;case 8:return r=Fn+"user-groups/membership"+("?ticket_type="+t+"&requesting_username="+n),e.abrupt("return",fetch(r,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 11:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getClientsData",value:function(){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/clients/",{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getClient",value:function(e){var t=Fn+"clients/id";return e&&e.trim().length>0&&(t=Fn+"clients/"+e),fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getClientsInfo",value:function(e){return fetch(Fn+"/clients/account/hmo-info/"+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getClientsWithCorporateNo",value:function(){var e="".concat(Fn,"clients/corporate-account-no?filter=").concat(JSON.stringify({order:"registered_name ASC"}));return fetch(e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getClientContracts",value:function(e){var t=Fn+"clients/contracts";if(e){var a={where:{_id:e}};t=t+"?filter="+JSON.stringify(a)}return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getClientDataMap",value:function(e){var t=Fn+"members/data-mapping";if(e){var a={where:{client_id:e}};t=t+"?filter="+JSON.stringify(a)}return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"postNewDataMap",value:function(e){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/data-mapping",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"patchDataMap",value:function(e,t){return fetch(Fn+"members/data-mapping/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"patchMembersTicket",value:function(e,t){return fetch(Fn+"members/ticket/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e}).catch(function(e){console.log("client error: ",e)})}},{key:"postUploadMember",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r,i,o,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserDataFromDb();case 3:n=e.sent,t.user_id=n.userId,t.user_name=n.userName,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("USER_DATA_NOT_FOUND");case 11:return r="",e.prev=12,e.next=15,this.getProcessMakerToken();case 15:r=e.sent,t.pmaker_token=r,e.next=22;break;case 19:throw e.prev=19,e.t1=e.catch(12),new Error("USER_DATA_NOT_FOUND");case 22:return i="".concat(Fn,"clients/member-upload/contract/background"),o={token:r,case_id:a},l="".concat(i,"?pmaker=").concat(JSON.stringify(o)),e.abrupt("return",fetch(l,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 26:case"end":return e.stop()}},e,this,[[0,8],[12,19]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUploadMember",value:function(e){return fetch(Fn+"member-upload/"+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"patchUploadMember",value:function(e,t){return fetch(Fn+"member-upload/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"patchValidateResolve",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,this.getProcessMakerToken();case 4:n=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 10:return r={token:n,case_id:a},i="".concat(Fn,"member-upload/validate-resolve/").concat(t,"?pmaker=").concat(JSON.stringify(r)),e.abrupt("return",fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"sendEmailReport",value:function(e){return console.log("sendEmailReport emails: ",e),"response"}},{key:"downloadExceptionReport",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserDataFromDb();case 2:return n=e.sent,r=Fn+"member-upload/download/"+t+"?userData="+JSON.stringify(n),e.abrupt("return",fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){var t=e.blob(),a=e.json();return a.then(function(e){return void 0!==e.error?a:t}).catch(function(e){return console.log("downloadExceptionReport error: ",e),t})}).catch(function(e){console.log("downloadExceptionReport error: ",e)}));case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUploadMemberList",value:function(){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/member-upload",{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getMemberData",value:function(e){return fetch(Fn+"members/"+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getMemberStatusActionDependents",value:function(e){return fetch(Fn+"members/"+e+"/dependents",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("Member Action Dependents error: ",e)})}},{key:"putMemberSuspension",value:function(e){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/suspension",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("Member Suspension error: ",e)})}},{key:"patchMemberLiftSuspension",value:function(e){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/suspension",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("Member Lift Suspension error: ",e)})}},{key:"deleteMemberCancelSuspension",value:function(e){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/suspension",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("Member Cancel Suspension error: ",e)})}},{key:"deleteMemberCancelTermination",value:function(e){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/termination",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("Member Cancel Termination error: ",e)})}},{key:"putMemberReactivation",value:function(e){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/reactivation",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("Member Reactivation error",e)})}},{key:"putMemberTerminationByFileUpload",value:function(e){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/termination/upload",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("Member Termination by File Upload error: ",e)})}},{key:"suspendMember",value:function(e,t){return fetch(Fn+"members/"+e+"/suspension",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"cancelMemberTermination",value:function(e){return fetch(Fn+"members/"+e+"/termination",{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"cancelSuspension",value:function(){var e=Object(m.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,this.getUserDataFromDb();case 4:n=e.sent,a=n.userName,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return r="".concat(Fn,"members/").concat(t,"/suspension?username=").concat(a),e.abrupt("return",fetch(r,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"viewMemberDependents",value:function(e){var t="".concat(Fn,"members/").concat(e,"/dependents");return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"memberTerminateBatch",value:function(e){var t="".concat(Fn,"members/termination");return fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getMemberDependents",value:function(e){var t=JSON.stringify({where:{principal_temp_id:e}}),a="".concat(Fn,"members?filter=").concat(t);return fetch(a,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getMemberPrincipal",value:function(e){var t=JSON.stringify({where:{temp_id:e}}),a="".concat(Fn,"members?filter=").concat(t);return fetch(a,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"patchMemberDependents",value:function(e,t){return e.map(function(e){return new Promise(function(a){fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/"+e,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("api_token")},body:JSON.stringify(t[e])}).then(function(){a("")}).catch(function(e){a(e.message)})})})}},{key:"liftSuspensionMember",value:function(e,t){return fetch(Fn+"members/"+e+"/suspension",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"patchMemberData",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserDataFromDb();case 2:return n=e.sent,r="".concat(Fn,"members/").concat(t,"?userData=").concat(JSON.stringify(n)),e.abrupt("return",fetch(r,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("api_token")},body:JSON.stringify(a)}).then(function(e){return e}).catch(function(e){return e}));case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getMemberLogs",value:function(e){return fetch(Fn+"member-logs?filter[order]=activity_id%20DESC&filter[where][member_id]="+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"generateContractFileURL",value:function(e){return Fn+"base-benefit-plans/contracts?id="+e}},{key:"getMembers",value:function(e,t){var a={limit:e,skip:t},n=Fn+"members/?filter=".concat(JSON.stringify(a),"&count=",!0);return fetch(n,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"searchMembers",value:function(e,t,a,n,r,i){var o=Fn+"members/search?query=".concat(a,"&filters=").concat(JSON.stringify(n),"&sorting=").concat(JSON.stringify(r));return 0!==e&&(o+="&limit=".concat(e,"&offset=").concat(t)),Object(Tn.isNil)(i)||(o+="&clientId=".concat(i)),fetch(o,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getMemberListReport",value:function(e,t,a){var n=Fn+"members/generate-csv?query=".concat(e,"&filters=").concat(JSON.stringify(t),"&sorting=").concat(JSON.stringify(a));return fetch(n,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){var t=e.blob(),a=e.json();return a.then(function(e){return void 0!==e.error?a:t}).catch(function(e){return console.log("downloadExceptionReport error: ",e),t})}).catch(function(e){console.log("downloadExceptionReport error: ",e)})}},{key:"getMemberDocuments",value:function(e){return fetch(Fn+"members/documents/"+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"putMemberDocuments",value:function(e,t){return fetch(Fn+"members/documents/"+t,{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"postChangeMemberStatus",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserDataFromDb();case 2:return n=e.sent,r="".concat(Fn,"members/").concat(a,"/status?userData=").concat(JSON.stringify(n)),e.abrupt("return",fetch(r,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("api_token")},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"putReactivateMemberStatus",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){var r,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserDataFromDb();case 2:return r=e.sent,i="".concat(Fn,"members/").concat(t,"/reactivation?userData=").concat(JSON.stringify(r)),o={dependents:a,ticket_no:n},e.abrupt("return",fetch(i,{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("api_token")},body:JSON.stringify(o)}).then(function(e){return e.json()}).catch(function(e){return e}));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"putTerminateMember",value:function(e,t){var a="".concat(Fn,"members/").concat(t,"/termination");return fetch(a,{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("api_token")},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getClientHMOInfo",value:function(e){return fetch(Fn+"clients/account/hmo-info/"+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})}},{key:"getContractTree",value:function(e){var t="".concat(Fn,"benefit-plans/tree/").concat(e);return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getMemberBenefits",value:function(e){var t="".concat(Fn,"members/").concat(e,"/benefits");return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getMemberTickets",value:function(e,t,a){var n="".concat(Fn,"customer-care/tickets/members/").concat(e),r="".concat(n,"?query=").concat(t,"&filters=").concat(JSON.stringify(a));return fetch(r,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})}},{key:"generateMemberTicketsReport",value:function(e,t,a){var n="".concat(Fn,"customer-care/tickets/members/").concat(e,"/generate-report"),r="".concat(n,"?query=").concat(t,"&filters=").concat(JSON.stringify(a));return fetch(r,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){var t=e.clone().blob(),a=e.json();return a.then(function(e){return void 0!==e.error?a:t}).catch(function(e){return console.log("generateMemberTicketsReport error: ",e),t})}).catch(function(e){console.log("generateMemberTicketsReport Error: ",e)})}},{key:"getBenefitsByContractAndPlanType",value:function(e,t){var a="".concat(Fn,"benefit-plans/").concat(e,"/benefits/").concat(t);return fetch(a,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"findMemberBenefitsByContact",value:function(e,t){var a="".concat(Fn,"members/").concat(e,"/contracts/").concat(t,"/benefits");return fetch(a,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"uploadMemberDocument",value:function(e,t,a){var n="".concat(Fn,"members/").concat(e,"/uploads?type=").concat(t),r=new FormData;return r.append("attachment",a),fetch(n,{method:"post",headers:{},body:r}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getSaveForNowData",value:function(e,t){var a=JSON.stringify({where:{user_id:e,ticket_no:t},order:["timestamp DESC"],limit:1}),n=Fn+"tmp?filter=".concat(a);return fetch(n,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"saveForNow",value:function(e,t,a,n){var r="".concat(Fn,"tmp"),i={user_id:e,ticket_no:t,module:"Membership",process:a,data:n};return fetch(r,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"patchSaveForNow",value:function(e,t){var a="".concat(Fn,"tmp/").concat(e),n={_id:e,data:t};return fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"deleteSaveForNow",value:function(e){var t="".concat(Fn,"tmp/").concat(e);return fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"verifyMemberSaveToTmp",value:function(e){var t="".concat(Fn,"tmp/");return fetch(t,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"verifyMemberPatchTmp",value:function(e,t){var a="".concat(Fn,"tmp/").concat(e);return fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"verifyDeleteFromTmp",value:function(e){var t="".concat(Fn,"tmp/").concat(e);return fetch(t,{method:"delete",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"loadVerifyDataFromTmp",value:function(e){var t="".concat(Fn,"tmp/?filter[where][ticket_no]=").concat(e,"&filter[where][user_id]=verify-member");return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"startMemberUpload",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,this.getProcessMakerToken();case 4:n=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 10:return r={token:n,case_id:a},i="".concat(Fn,"member-upload/validate-process/start/").concat(t,"?pmaker=").concat(JSON.stringify(r)),e.abrupt("return",fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getMemberUploadStatus",value:function(e){var t="".concat(Fn,"member-upload/validate-process/status/").concat(e);return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"confirmMemberUpload",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,this.getProcessMakerToken();case 4:n=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 10:return r={token:n,case_id:a},i="".concat(Fn,"member-upload/validate-process/confirm/").concat(t,"?pmaker=").concat(JSON.stringify(r)),e.abrupt("return",fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"cancelMemberUpload",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,this.getProcessMakerToken();case 4:n=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 10:return r={token:n,case_id:a},i="".concat(Fn,"member-upload/validate-process/cancel/").concat(t,"?pmaker=").concat(JSON.stringify(r)),e.abrupt("return",fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteMemberUpload",value:function(e){var t="".concat(Fn,"member-upload/").concat(e);return fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("deleteMemberUpload error: ",e)})}},{key:"deleteMemberUploadData",value:function(e){var t="".concat(Fn,"member-upload-members/member-validated/").concat(e);return fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("deleteMemberUploadData error: ",e)})}},{key:"getBenefitTree",value:function(e){var t="".concat(Fn,"benefit-plans/tree/").concat(e);return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getContractsHistory",value:function(e){var t="".concat(Fn,"members/").concat(e,"/contracts/history");return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"getClients",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=Fn+"clients/list/search?";return 0!==e&&(r+="limit=".concat(e,"&")),r+="offset=".concat(t,"&filters=").concat(JSON.stringify(a),"&sorting=").concat(JSON.stringify(n)),fetch(r,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){return console.log("client error: ",e),e})}},{key:"searchClients",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,i=Fn+"clients/list/search?query=".concat(e);return 0!==t&&(i+="&limit=".concat(t)),i+="&offset=".concat(a,"&filters=").concat(JSON.stringify(n),"&sorting=").concat(JSON.stringify(r)),console.log(i),fetch(i,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){return console.log("client error: ",e),e})}},{key:"generateClientReport",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if(0!==Object.entries(a).length){var r={};for(var i in a){var o=a[i];if(o.columnName&&o.value)if(["registered_name","corporate_account_no"].includes(o.columnName))r[o.columnName]={like:o.value,options:"i"};else if(["prev_hmo_effectivity_date","prev_hmo_expiry_date"].includes(o.columnName)){var l=o.value;Je.a.isMoment(o.value)&&(l=o.value.format("YYYY-MM-DD")),r[o.columnName]={like:l,options:"i"}}else r[o.columnName]=o.value}n.where=r}var s=Fn+"clients/generate-report?&format="+e+(t?"&query="+t:"")+(n.where?"&filter="+JSON.stringify(n):"");return console.log("Report: ",s,n),fetch(s,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){var t=e.blob(),a=e.json();return a.then(function(e){return void 0!==e.error?a:t}).catch(function(e){return console.log("downloadExceptionReport error: ",e),t})}).catch(function(e){console.log("client error: ",e)})}},{key:"fetchPrinting",value:function(e,t,a,n,r,i,o,l){void 0!==r&&r.length>0&&(r=r.filter(function(e){return!("member_status"===e.columnName&&"All"===e.value)})),console.log("FILTER",r);var s=Fn+"members/list/printing?client_id=".concat(e,"&limit=").concat(t,"&offset=").concat(a,"&tab=").concat(n).concat(l?"&case_id=".concat(l):"");return null!==o&&""!==o&&(s="".concat(s,"&query=").concat(o)),r.length>0&&(console.log("filters",r),s="".concat(s,"&filters=").concat(JSON.stringify(r))),0!==i.length&&(s="".concat(s,"&order=").concat(JSON.stringify(i))),fetch(s,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){return console.log("client error: ",e),e})}},{key:"postPrint",value:function(e,t,a,n,r){var i=Fn+"members/print?clientId=".concat(e,"&query=").concat(t,"&filters=").concat(JSON.stringify(a),"&sorting=").concat(JSON.stringify(n));return fetch(i,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).catch(function(e){return console.log("client error: ",e),e})}},{key:"patchClient",value:function(e,t){return t&&t.sales_channel&&t.sales_channel.type&&("agent"===t.sales_channel.type?t.sales_channel.display_name=t.sales_channel.agent_name:"bdo"===t.sales_channel.type?t.sales_channel.display_name=t.sales_channel.bdo_name:"broker"===t.sales_channel.type&&(t.sales_channel.display_name=t.sales_channel.contact_person)),fetch(Fn+"clients/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e}).catch(function(e){return e})}},{key:"generatePrintIDCardReport",value:function(e,t){var a={};void 0!==t&&t.length>0&&(t=t.filter(function(e){return!("member_status"===e.columnName&&"All"===e.value)})).map(function(e){a[e.columnName]=e.value});var n="".concat(Fn,"members/generate-report?clientId=").concat(e).concat(t.length>0?"&filter={where:"+JSON.stringify(a)+"}":"");return fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){var t=e.blob(),a=e.json();return a.then(function(e){return void 0!==e.error?a:t}).catch(function(e){return console.log("downloadExceptionReport error: ",e),t})}).catch(function(e){return e})}},{key:"downloadPrintedMembers",value:function(e,t,a,n,r){var i=Fn+"members/print/generate-report?clientId=".concat(e,"&query=").concat(t,"&filters=").concat(JSON.stringify(a),"&sorting=").concat(JSON.stringify(n));return fetch(i,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){console.log("generate-report",e);var t=e.clone().blob(),a=e.json();return a.then(function(e){return void 0!==e.error?a:t}).catch(function(e){return console.log("generateMemberTicketsReport error: ",e),t})}).catch(function(e){console.log("generateMemberTicketsReport Error: ",e)})}},{key:"batchPrinting",value:function(e){return fetch("http://api-dev.hims.veridata.com.ph:4101/api/batch-printing",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){console.log("generateMemberTicketsReport Error: ",e)})}},{key:"generateByBatch",value:function(e,t){var a=Fn+"members/print/generate-by-batch?clientId=".concat(e);return fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){console.log("generate-report",e);var t=e.clone().blob(),a=e.json();return a.then(function(e){return void 0!==e.error?a:t}).catch(function(e){return console.log("generateMemberTicketsReport error: ",e),t})}).catch(function(e){console.log("generateMemberTicketsReport Error: ",e)})}},{key:"postTicket",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.assignee="",t.assignee_pmaker_uid="",!a){e.next=8;break}return e.next=5,this.getUserDataFromDb();case 5:n=e.sent,t.assignee=n.userName,t.assignee_pmaker_uid=n.pmakerUid;case 8:return Fn+"members/ticket/",e.abrupt("return",fetch("http://api-dev.hims.veridata.com.ph:4101/api/members/ticket/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e}).catch(function(e){return console.log("member ticket error: ",e),e}));case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"patchTicket",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.assignee="",t.assignee_pmaker_uid="",!n){e.next=8;break}return e.next=5,this.getUserDataFromDb();case 5:r=e.sent,t.assignee=r.userName,t.assignee_pmaker_uid=r.pmakerUid;case 8:return i=Fn+"members/ticket?where[pmaker_case_uid]=".concat(a),e.abrupt("return",fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e}).catch(function(e){return console.log("member ticket error: ",e),e}));case 10:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"postMemberRemark",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.getUserDataFromDb();case 4:i=e.sent,r.user_id=i.userId,r.user_fullname=i.userName,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 12:return r.member_id=a,r.source=t,r.remarks=n,Fn+"member-remark",e.abrupt("return",fetch("http://api-dev.hims.veridata.com.ph:4101/api/member-remark",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.ok}).catch(function(){return!1}));case 17:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),Bn=(a(797),a(495)),In=Object(y.a)({root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"}}),Rn=function(){var e=In();return n.createElement("div",{className:e.root},n.createElement("div",{className:e.container},n.createElement(He.a,{size:150})))};Rn.defaultProps={};var Ln=a(28),Wn=a(37),zn=a(31),Un=a(10),Yn=(a(798),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={value:""},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.choices.length!=e.choices.length||this.props.value.value!==e.value.value}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"detailed-dropdown"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("div",{className:"autocomplete"},n.createElement("div",{className:this.props.error?"detail-error":"detail"},this.props.value.value?this.props.value.value:null),n.createElement(C.a,{className:"actual-dropdown",classNamePrefix:this.props.error?"actual-dropdown-error":"actual-dropdown",isDisabled:!!this.props.disabled&&this.props.disabled,value:this.props.value,options:this.props.choices,onInputChange:function(t,a){e.setState({value:t})},noOptionsMessage:function(){return 0==e.props.choices.length?"Loading...":e.state.value.length<3?"Enter at least 3 characters to search":"No options"},filterOption:function(t,a){var n=0==a.length,r=e.props.choices.length<=20,i=a.length<3,o=t.label.toLowerCase().includes(a.toLowerCase());return r?!!n||o:!i&&o},onChange:function(t){e.props.onChange(t)}})))}}]),t}(n.Component)),Vn=a(349),Hn=a(330),qn=a(2090),Gn=a(2118),Jn=a(2115),Kn=[{label:"PEC",value:"PEC",type:"PEC"},{label:"Amount",value:"Amount",type:"Amount",limit_unit:"PHP"},{label:"Dreaded Disease",value:"Dreaded Disease",type:"Disease",limit_unit:"PHP"},{label:"Max Amount",value:"Max Amount",type:"Maximum",limit_unit:"PHP"},{label:"% of MBL",value:"% of MBL",type:"% MBL",limit_unit:"Percentage"},{label:"MBL",value:"MBL",type:"MBL"},{label:"% of ABL",value:"% of ABL",type:"% ABL",limit_unit:"Percentage"},{label:"ABL",value:"ABL",type:"ABL"},{label:"Max Session",value:"Max Session",type:"Sessions",limit_unit:"Sessions"},{label:"No. of Visits",value:"No. of Visits",type:"Visits",limit_unit:"Visits"},{label:"% Actual",value:"% Actual",type:"% Actual",limit_unit:"Percentage"},{label:"% of RVS",value:"% of RVS",type:"RVS",limit_unit:"Percentage"}],Xn=[{label:"HMO",value:"HMO"},{label:"TPA",value:"TPA"},{label:"Hybrid",value:"Hybrid"}],Zn=[{label:"Amount",value:"amt_limit"},{label:"Benefit",value:"benefit_limit"},{label:"Max Amount",value:"max_amount"},{label:"Percent of MBL",value:"percent_mbl"},{label:"Percent of ABL",value:"percent_abl"},{label:"MBL",value:"mbl_limit"},{label:"ABL",value:"abl_limit"},{label:"PEC",value:"pec_limit"},{label:"Dreaded Disease",value:"disease_limit"}],Qn=[{label:"ABL",value:"abl"},{label:"MBL",value:"mbl"}],$n=[{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}],er=[{label:"Reimbursement",value:"reimbursement"},{label:"Outright",value:"outright"},{label:"Both",value:"both"}],tr=[{label:"Principals",value:"principals"},{label:"Dependents",value:"dependents"},{label:"Male",value:"male"},{label:"Female",value:"female"}],ar=[{label:"All female employees",value:"all_female_employees"},{label:"All married female employees",value:"all_married_female_employees"},{label:"All female dependents",value:"all_female_dependents"},{label:"All female dependents aged 18 and above",value:"all_female_dependents_aged_18_above"},{label:"Spouses of male employees (Dependent Wife)",value:"spouses_male_employees"},{label:"All female members (Principals and Dependents) aged 18 and above",value:"all_female_members_aged_18_above"},{label:"All female members (Principals and Dependents)",value:"all_female_members"}],nr=[{id:0,label:"years",value:"years"},{id:1,label:"days",value:"days"}],rr=[{label:"Required",value:!0},{label:"Optional",value:!1}],ir=[{label:"Employees",value:"employees"},{label:"Company-Paid Dependents",value:"company_dependents"},{label:"Employee-Paid Dependents",value:"employee_dependents"}],or=[{label:"VIP",value:"vip"},{label:"Manager",value:"mgr"},{label:"Rank and File",value:"raf"}],lr=[{label:"Employees",value:"employees"},{label:"Dependents",value:"dependents"}],sr=[{label:"Max Number",value:"max_number"},{label:"Named Members",value:"named_members"}],cr=[{label:"Mon",value:"Monday"},{label:"Tue",value:"Tuesday"},{label:"Wed",value:"Wednesday"},{label:"Thurs",value:"Thursday"},{label:"Fri",value:"Friday"},{label:"Sat",value:"Saturday"},{label:"Sun",value:"Sunday"}],mr=[{id:1,value:"immediate",label:"Immediate"},{id:2,value:"extended",label:"Extended"}],dr=[{id:0,value:"0",label:"\u2014\u2014"},{id:1,value:"1",label:"1"},{id:2,value:"2",label:"2"},{id:3,value:"3",label:"3"},{id:4,value:"4",label:"4"},{id:5,value:"5",label:"5"},{id:6,value:"6",label:"6"},{id:7,value:"7",label:"7"},{id:8,value:"8",label:"8"},{id:9,value:"9",label:"9"},{id:10,value:"10",label:"10"}],ur=[{id:1,value:"effectivity_date",label:"effectivity of principal"},{id:2,value:"hire_date",label:"hire of principal"},{id:3,value:"endorsement_date",label:"endorsement date"}],pr=[{id:1,value:"hire_date",label:"hire date of principal"},{id:2,value:"endorsement_date",label:"endorsement date"}],fr=[{id:1,value:"bill_back",label:"Bill Back"},{id:2,value:"charge_to_patient",label:"Charge to Patient"},{id:3,value:"included_in_premiums",label:"Included in Premiums"}],br=[{label:"All",value:""},{label:"Active",value:"Active"},{label:"Awaiting Activation",value:"Awaiting Activation"},{label:"Expired",value:"Expired"},{label:"Suspended",value:"Suspended"},{label:"Terminated",value:"Terminated"}],gr=[{label:"All",value:""},{label:"Active",value:"Active"},{label:"Awaiting Activation",value:"Awaiting Activation"},{label:"Cancelled",value:"Cancelled"},{label:"Disapproved",value:"Disapproved"},{label:"Expired",value:"Expired"},{label:"For Validation",value:"For Validation"},{label:"Suspended",value:"Suspended"},{label:"Terminated",value:"Terminated"}],_r=a(2109),hr=a(101),vr=Object(Vn.a)({select:{backgroundColor:"transparent"},disabled:{color:"#272E4C"}}),Er=Object(Vn.a)({select:{backgroundColor:"transparent"},disabled:{color:"#272E4C"},selectMenu:{whiteSpace:"normal",textOverflow:"clip"}}),yr=Object(Vn.a)({input:{borderBottom:"1px solid rgb(39, 46, 76)"}}),xr=Object(Vn.a)({root:{backgroundColor:"transparent"},disabled:{color:"#272E4C"}}),Or=Object(Vn.a)({root:{"& > div":{backgroundColor:"transparent"},"& .Mui-disabled":{color:"#272E4C"}}}),Cr=function(e){var t=e.items,a=e.disabled,r=e.value,i=e.variant,o=Object(Wn.a)(e,["items","disabled","value","variant"]),l=vr();if(a){if(null!=r){var s=t.find(function(e){return e.value===r});return s?s.label:"\u2014\u2014"}return"\u2014\u2014"}return n.createElement(A.a,Object.assign({id:"benefits_table_select","data-cy":"benefits_table_select",classes:l,style:i&&"outlined"===i?{width:"100%"}:{width:"100%",backgroundColor:"transparent"},value:r,variant:i||"standard",renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},o),n.createElement(D.a,{key:-1,value:void 0}),t.map(function(e,t){return n.createElement(D.a,{id:"benefits_table_select_"+e.value,"data-cy":"benefits_table_select_"+e.value,key:t,value:e.value},e.label)}))},Sr=function(e){var t=e.id,a=e.text,r=e.value,i=e.items,o=e.disabled,l=e.isMaternity,s=void 0!==l&&l,c=Object(Wn.a)(e,["id","text","value","items","disabled","isMaternity"]),m=vr();if(s&&(m=Er()),o){if(void 0!==a){var d=i.find(function(e){return e.value===a});return d?d.label:"\u2014\u2014"}var u=[];return r.map(function(e){var t=i.find(function(t){return t.value===e});u.push(t.label)}),u.join(", ")}return n.createElement(A.a,Object.assign({id:"benefits_multiple_select","data-cy":"benefits_multiple_select",multiple:!0,input:n.createElement(Hn.a,{id:t}),value:r,renderValue:function(e){if(void 0!==a){var t=i.find(function(e){return e.value===a});return t?t.label:"\u2014\u2014"}var n=[];return e.map(function(e){var t=i.find(function(t){return t.value===e});n.push(t.label)}),n.join(", ")},style:{width:"100%",backgroundColor:"transparent"},classes:m},c),i.map(function(e,t){return n.createElement(D.a,{key:t,value:e.value},n.createElement(G.a,{id:"benefits_multiple_select"+e.value,checked:r.indexOf(e.value)>-1}),n.createElement(ue.a,{primary:e.label}))}))},wr=function(e){var t=e.row,a=e.style,r=e.selected,i=e.onToggle,o=e.classes,l=Object(Wn.a)(e,["row","style","selected","onToggle","classes"]),s=void 0!==t.disabled&&t.disabled;return n.createElement(qn.a,Object.assign({padding:"checkbox",style:a,classes:o},l),n.createElement(G.a,{id:"benefits_checkbox","data-cy":"benefits_checkbox",icon:n.createElement(X.a,{icon:Q.a}),checkedIcon:n.createElement(X.a,{icon:Z.i}),classes:o,checked:!!s||r,onClick:function(e){e.stopPropagation(),i()},disabled:s}))},kr=function(e){e.style;var t=e.someSelected,a=e.allSelected,r=e.onToggle,i=e.classes,o=Object(Wn.a)(e,["style","someSelected","allSelected","onToggle","classes"]);return n.createElement(qn.a,Object.assign({padding:"checkbox",classes:i},o),n.createElement(G.a,{id:"benefits_header_checkbox","data-cy":"benefits_header_checkbox",icon:n.createElement(X.a,{icon:Q.a}),checkedIcon:a?n.createElement(X.a,{icon:Z.i}):n.createElement(X.a,{icon:Z.y}),classes:i,checked:t||a,onClick:function(e){e.stopPropagation(),r()}}))},jr=function(e){var t=e.children,a=(e.tableRow,e.tableColumn,e.column),r=(e.classes,Object(Wn.a)(e,["children","tableRow","tableColumn","column","classes"]));return n.createElement(zn.e.Cell,Object.assign({},r,{column:a}),n.createElement(S.a,{variant:"body2",align:"center"},t))},Nr=function(e){var t=e.value,a=e.onValueChange;return n.createElement(P.a,{id:"benefits_search_panel","data-cy":"benefits_search_panel",value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:n.createElement(Ve.a,{position:"start"},n.createElement(X.a,{icon:Z.E}))})},Dr=function(e){return"asc"===e.direction?n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.H}):n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.G})},Tr=function(e){var t=e.onSort,a=e.children,r=e.direction;return n.createElement(Gn.a,{id:"benefits_table_sort","data-cy":"benefits_table_sort",hideSortIcon:!0,onClick:t},a,r?n.createElement(Dr,{direction:r}):n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.F}))},Mr=function(e){var t=e.rows,a=e.columns,r=e.formattedColumns,i=e.subFormNode,o=e.setSubForm,l=e.disablePaging,s=e.disableSearch,c=e.disableSelect,m=e.disableSort,d=e.disableFilter,u=e.disableContractType,p=e.selectionType,f=e.columnExtensions,b=e.columnBands,_=e.disableMargin,h=e.dropdownHeader,v=e.setRowSelection,E=e.setRowMetadata,y=e.setRowMetadata2,x=e.setRowLimits,O=e.viewOnly,C=e.dropdownData,w=e.selectedOption,k=e.setSelectedOption,N=e.setAddDropdown,D=e.actionFunction,T=e.defaultSort,A=e.filters,B=e.setFilters,I=Object(n.useState)(0),R=Object(g.a)(I,2),L=R[0],W=R[1],z=Object(n.useState)(5),U=Object(g.a)(z,2),Y=U[0],V=U[1],H=Object(n.useState)([5,10,15,0]),q=Object(g.a)(H,1)[0],J=Object(n.useState)(0),K=Object(g.a)(J,2),$=K[0],ee=K[1],te=Object(n.useState)(!1),ne=Object(g.a)(te,2),ie=ne[0],oe=ne[1],le=Object(n.useRef)(null),se=!1,ce=!0,me=wr,de=function(e){var t=e.style,a=e.classes,r=e.children,i=Object(Wn.a)(e,["style","classes","children"]);return n.createElement(qn.a,Object.assign({style:t,classes:a},i,{ref:le}),r)};p&&("radio"!==p&&"rab"!==p||(me=function(e){var t=e.style,a=e.selected,r=e.onToggle,i=e.classes,o=Object(Wn.a)(e,["style","selected","onToggle","classes"]);return n.createElement(qn.a,Object.assign({padding:"checkbox",style:t,classes:i},o),n.createElement(Jn.a,{id:"benefits_radio","data-cy":"benefits_radio",classes:i,checked:a,onClick:function(e){e.stopPropagation(),r()}}))},se=!0,ce=!1));var ue=t.reduce(function(e,t,a){return se?t.included&&0===e.length&&e.push(a):t.included&&e.push(a),e},new Array),pe=[],fe=[];C&&C.length>0&&(fe=C.map(function(e){return{value:e.facility_id,label:e.name}}));var be=function(e){var t=e.value,a=e.column,r=e.row;var i=Or();return O?n.createElement("span",null,t):n.createElement(j.a,{InputProps:{inputComponent:function(e){var o=e.inputRef,l=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),s=Object(n.useState)(!1),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],b=p[1],_=t;return m&&(_=f),n.createElement(hr.a,Object.assign({},l,{getInputRef:o,classes:i,value:_,name:a.name,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){m&&e&&b(e.floatValue)},onBlur:function(e){d(!1),E&&E(e,r.id)},onFocus:function(){d(!0),b(0===_||"0"===_?"":_)},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))}},id:r.id,name:a.name,value:t,type:"tel",classes:i,disabled:O,inputProps:{min:"0"}})},ge=function(e){var t=e.value,a=e.column,r=e.row,i=tr;return n.createElement(Sr,{onChange:function(e){return E(e,r.id)},name:a.name,items:i,id:"eligble_availees_checkbox",value:t,disabled:O})},_e=function(e){var t=e.value,a=e.column,r=e.row;var i=Or();return O?n.createElement("span",null,t):n.createElement(j.a,{InputProps:{inputComponent:function(e){var o=e.inputRef,l=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),s=Object(n.useState)(!1),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],b=p[1],_=t;return m&&(_=f),n.createElement(hr.a,Object.assign({},l,{getInputRef:o,classes:i,value:_,name:a.name,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){m&&e&&b(e.floatValue)},onBlur:function(e){d(!1),E&&E(e,r.id)},onFocus:function(){d(!0),b(0===_||"0"===_?"":_)},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))}},id:r.id,name:a.name,value:t,type:"tel",classes:i,disabled:O,inputProps:{min:"0"}})},he=function(e){var t=e.value,a=e.column,r=e.row,i=rr;return n.createElement(Cr,{"data-cy":"required",onChange:function(e){return E(e,r.id)},name:a.name,items:i,id:"required",value:t,disabled:O})},ve=function(e){var t=e.column,a=e.row,r=e.value;return n.createElement(n.Fragment,null,r.map(function(e,r){return n.createElement(ye,{key:r,index:r,row:a,column:t,viewOnly:O,value:e,showUnit:!1})}))},Ee=function(e){var t=e.column,a=e.row,r=e.value;return n.createElement(n.Fragment,null,r.map(function(e,r){return n.createElement(ye,{key:r,index:r,row:a,column:t,viewOnly:O,value:e,showUnit:!0})}))},ye=function(e){var t=e.index,a=e.row,r=e.column,i=e.viewOnly,o=e.value,l=e.showUnit,s=xr(),c="",m=!0;return"PHP"===o.limit_unit&&(c="PHP"),("Percentage"===o.limit_unit||["RVS","% of MBL","% of ABL"].includes(o.type))&&(c="%",["ABL","MBL"].includes(o.type)&&(c="% "+o.type)),"Sessions"===o.limit_unit&&(c=1==o[r.name]?"session":"sessions"),"Visits"===o.limit_unit&&(c=1==o[r.name]?"visit":"visits"),!["ABL","MBL","PEC"].includes(o.type)&&(["RVS","% of MBL","% of ABL"].includes(o.type)||void 0!==o.limit_unit&&0!==o.limit_unit.length)?m=!1:l&&(m=!1),i?n.createElement(n.Fragment,null,o[r.name]?function(e){var t="",a=e=e.toString().trim().replace(/,/g,""),n="",r=e.indexOf(".");if(r>-1&&(n=e.substring(r),a=e.substring(0,r)),a.length>3){for(var i=a;i.length>3;){t=","+i.slice(-3)+t,i=i.substring(0,i.length-3)}t=i+t}else t=a;return t+n}(o[r.name]):null," ",o[r.name]?c:null," ",n.createElement("br",null)):n.createElement(n.Fragment,null,n.createElement(Hn.a,{type:"text",style:{visibility:m?"hidden":"visible"},disabled:i||m,id:a.id,inputComponent:function(e){var i=e.inputRef,l=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),c=Object(n.useState)(!1),d=Object(g.a)(c,2),u=d[0],p=d[1],f=Object(n.useState)(""),b=Object(g.a)(f,2),_=b[0],h=b[1],v=o[r.name];return u&&(v=_),n.createElement(hr.a,Object.assign({},l,{getInputRef:i,allowLeadingZeros:!1,classes:s,value:v,onInput:function(e){console.log(e)},name:r.name,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){console.log(e),u&&e&&h(e.floatValue)},onBlur:function(e){p(!1),E&&(e.target.value=e.target.value.replace(/,/g,""),m?x(e,a.id,t,!0):x(e,a.id,t))},onFocus:function(e){p(!0),h(0===v||"0"===v?"":v),e.target.click()},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))},name:r.name,value:o[r.name]?o[r.name]:"",inputProps:{style:{textAlign:"right"}},classes:s,endAdornment:n.createElement(Ve.a,{disableTypography:!0,position:"end"},n.createElement(S.a,{noWrap:!0},c))}),n.createElement("br",null))},xe=function(e){var t=e.column,a=e.row,r=e.value,i=e.items,o=r.reduce(function(e,t){var a=i.find(function(e){return e.type===t.type});return a&&e.push(a.value),e},new Array);return n.createElement(n.Fragment,null,o.length>0?o.map(function(e,r){return n.createElement(n.Fragment,null,n.createElement(Sr,{key:r,onChange:function(e){return x(e,a.id)},value:o,name:t.name,items:i,id:"limit_type",text:e,disabled:O})," ",n.createElement("br",null))}):n.createElement(Sr,{onChange:function(e){return x(e,a.id)},value:[],name:t.name,items:i,id:"limit_type",text:"",disabled:O}))},Oe=function(e){var t=Object(Ln.a)(Kn);return n.createElement(xe,Object.assign({},e,{items:t}))},Ce=function(e){var t=e.value,a=Zn;return n.createElement(n.Fragment,null,t.map(function(e,r){return n.createElement(n.Fragment,null,n.createElement(Sr,{"data-cy":"limit_type",key:r,items:a,id:"limit_type",text:e,value:t,disabled:O})," ",n.createElement("br",null))}))},Se=function(e){var t=e.column,a=e.row,r=e.value,i=xr();return O?n.createElement("span",null,r," ",r?"PHP":null):n.createElement(Hn.a,{inputComponent:function(e){var o=e.inputRef,l=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),s=Object(n.useState)(!1),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],b=p[1],_=r;return m&&(_=f),n.createElement(hr.a,Object.assign({},l,{allowLeadingZeros:!1,getInputRef:o,classes:i,value:_,isAllowed:function(e){var t=e.value;return"undefined"===typeof e.floatValue||"undefined"===typeof t||(!("0"===t.charAt(0)&&t.length>1)||(!t.charAt(1)||"."==t.charAt(1)))},name:t.name,onValueChange:function(e){console.log(e),m&&e&&b(e.floatValue)},onBlur:function(e){d(!1),e.target.value=e.target.value.replace(/,/g,""),E&&E(e,a.id)},onFocus:function(e){d(!0),b(0===_||"0"===_?"":_),e.target.click()},allowNegative:!1,thousandSeparator:!0,isNumericString:!0}))},disabled:O,value:r,type:"text",name:t.name,classes:i,inputProps:{style:{textAlign:"right"},min:0},endAdornment:n.createElement(Ve.a,{disableTypography:!0,position:"end"},n.createElement(S.a,{noWrap:!0},"PHP"))})},we=function(e){var t=e.value,a=Or();return O?n.createElement(n.Fragment,null," ",t," "):n.createElement(j.a,{disabled:O,value:t,classes:a})},ke=function(e){var t=e.value;return n.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},je=function(e){var t=e.column,a=e.row,r=e.value,i=Qn;return n.createElement(Cr,{onChange:function(e){return E(e,a.id)},name:t.name,disabled:O,items:i,id:"rollover",value:r})},Ne=function(e){var t=e.column,a=e.row,r=e.value,i=ar;return n.createElement(Sr,{"data-cy":"maternity_eligible_availees_checkbox",onChange:function(e){return E(e,a.id)},name:t.name,disabled:O,items:i,id:"maternity_eligble_availees_checkbox",value:r,isMaternity:!0})},De=function(e){var t=e.column,a=e.row,r=e.value,i=$n;return n.createElement(Cr,{"data-cy":"refresh",onChange:function(e){return E(e,a.id)},name:t.name,disabled:O,items:i,id:"refresh",value:r})},Te=function(e){var t=e.column,a=e.value,r=e.row,i=er;return n.createElement(Cr,{"data-cy":"availment",onChange:function(e){return E(e,r.id)},name:t.name,disabled:O,items:i,id:"availment",value:a})},Me=function(e){var t=e.value,a=e.column,r=e.row,i=ir;return n.createElement(Sr,{"data-cy":"member_type_checkbox",onChange:function(e){return E(e,r.id)},name:a.name,items:i,id:"member_type_checkbox",value:t,disabled:O})},Fe=function(e){var t=e.value,a=e.row,r=e.column,i=or;return n.createElement(Sr,{"data-cy":"plan_type_checkbox",onChange:function(e){return E(e,a.id)},name:r.name,items:i,id:"plan_type_checkbox",value:t,disabled:O})},Pe=function(e){var t=e.column,a=e.value,r=e.row,i=lr;return n.createElement(Cr,{"data-cy":"eligibility",disabled:O,items:i,id:"eligibility",value:a,onChange:function(e){return E(e,r.id)},name:t.name})},Ae=function(e){var t=e.column,a=e.value,r=e.row,i=sr;return n.createElement(Cr,{"data-cy":"no_of_members",disabled:O,items:i,id:"no_of_members",value:a,onChange:function(e){return E(e,r.id)},name:t.name})},Be=function(e){var t=e.value,a=e.column,r=e.row,i=cr;return n.createElement(Sr,{"data-cy":"day_checkbox",onChange:function(e){return E(e,r.id)},name:a.name,items:i,id:"day_checkbox",value:t,disabled:O})},Ie=function(e){var t=e.column,a=e.value,r=e.row,i=mr;return n.createElement(Cr,{"data-cy":"type",onChange:function(e){return E(e,r.id)},name:t.name,disabled:O,items:i,id:"type",value:a})},Re=function(e){var t=e.column,a=e.value,r=e.row,i=dr;return n.createElement(Cr,{"data-cy":"hierarchy",onChange:function(e){return E(e,r.id)},name:t.name,disabled:O,items:i,id:"hierarchy",value:a})},Le=function(e){var t=e.column,a=e.row,r=nr,i=xr();if(O){if(a.custom_metadata[t.name+"_min"]||a.custom_metadata[t.name+"_min_unit"]||a.custom_metadata[t.name+"_max"]||a.custom_metadata[t.name+"_max_unit"]){var o=["min","to","max"].map(function(e){var i=t.name+"_"+e;if("to"===e)return a.custom_metadata[t.name+"_max"]?n.createElement("span",{style:{width:"30px"}},"to"):null;var o="",l="";if(a.custom_metadata[i]&&(o=a.custom_metadata[i]),a.custom_metadata[i+"_unit"]){var s=r.find(function(e){return e.value===a.custom_metadata[i+"_unit"]});s&&(l=s.label)}return n.createElement("span",null,o," ",l)});return n.createElement("div",{style:{display:"inline-flex"}},o)}return n.createElement("span",null,"\u2014\u2014")}var l=["min","to","max"].map(function(e){var o=t.name+"_"+e;return"to"===e?n.createElement("span",{style:{width:"30px"}},"to"):n.createElement(Cr,{onChange:function(e){return E(e,a.id)},name:o+"_unit",disabled:O,items:r,id:o+"_unit","data-cy":o+"_unit",value:a.custom_metadata[o+"_unit"]?a.custom_metadata[o+"_unit"]:"",startAdornment:n.createElement(Ve.a,{disableTypography:!0,position:"start"},n.createElement(Hn.a,{id:"enrollment_period",inputComponent:function(e){var t=e.inputRef,r=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),l=Object(n.useState)(!1),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)(""),u=Object(g.a)(d,2),p=u[0],f=u[1],b=a.custom_metadata[o];return c&&(b=p),n.createElement(hr.a,Object.assign({},r,{getInputRef:t,classes:i,value:b,name:o,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){console.log(e),c&&e&&f(e.floatValue)},onBlur:function(e){m(!1),E&&E(e,a.id)},onFocus:function(){m(!0),f(0===b||"0"===b?"":b)},allowNegative:!1,thousandSeparator:!0,isNumericString:!0}))},disabled:O,value:a.custom_metadata[o],name:o,classes:i,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})});return n.createElement("div",{style:{display:"inline-flex"}},l)},We=function(e){var t=e.column,a=e.value,r=e.row,i=ur,o=xr();if(O){if(r.custom_metadata[t.name]||r.custom_metadata[t.name+"_unit"]){var l="";if(r.custom_metadata[t.name+"_unit"]&&r.custom_metadata[t.name+"_unit"]){var s=i.find(function(e){return e.value===r.custom_metadata[t.name+"_unit"]});l=s?"days from "+s.label:"days"}return n.createElement("span",null,a," ",l)}return n.createElement("span",null,"\u2014\u2014")}return n.createElement("div",null,n.createElement(Cr,{onChange:function(e){return E(e,r.id)},name:t.name+"_unit",disabled:O,items:i,id:"enrollment_period_unit","data-cy":"enrollment_period_unit",value:r.custom_metadata[t.name+"_unit"]?r.custom_metadata[t.name+"_unit"]:"",startAdornment:n.createElement(Ve.a,{disableTypography:!0,position:"start"},n.createElement(Hn.a,{"data-cy":"enrollment_period",inputComponent:function(e){var i=e.inputRef,l=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),s=Object(n.useState)(!1),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],b=p[1],_=a;return m&&(_=f),n.createElement(hr.a,Object.assign({},l,{getInputRef:i,classes:o,value:_,InputProps:{type:"tel",min:0},name:t.name,id:"enrollment_period",isAllowed:function(e){console.log("val",e);var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){console.log(e),m&&e&&b(e.floatValue)},onBlur:function(e){d(!1),E&&E(e,r.id)},onFocus:function(){d(!0),b(0===_||"0"===_?"":_)},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))},id:"enrollment_period",disabled:O,value:a,name:t.name,classes:o,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))}))},ze=function(e){var t=e.column,a=e.value,r=e.row,i=pr,o=xr();if(O){if(r.custom_metadata[t.name]||r.custom_metadata[t.name+"_unit"]){var l="";if(r.custom_metadata[t.name+"_unit"]&&r.custom_metadata[t.name+"_unit"]){var s=i.find(function(e){return e.value===r.custom_metadata[t.name+"_unit"]});l=s?"days from "+s.label:"days"}return n.createElement("span",null,a," ",l)}return n.createElement("span",null,"\u2014\u2014")}return n.createElement(Cr,{onChange:function(e){return E(e,r.id)},name:t.name+"_unit",disabled:O,items:i,"data-cy":"effectivity_coverage_unit",id:"effectivity_coverage_unit",value:r.custom_metadata[t.name+"_unit"]?r.custom_metadata[t.name+"_unit"]:"",startAdornment:n.createElement(Ve.a,{disableTypography:!0,position:"start"},n.createElement(Hn.a,{inputComponent:function(e){var i=e.inputRef,l=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),s=Object(n.useState)(!1),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],b=p[1],_=a;return m&&(_=f),n.createElement(hr.a,Object.assign({},l,{getInputRef:i,classes:o,value:_,name:t.name,id:"effectivity_coverage",isAllowed:function(e){console.log("val",e);var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){console.log(e),m&&e&&b(e.floatValue)},onBlur:function(e){d(!1),E&&E(e,r.id)},onFocus:function(){d(!0),b(0===_||"0"===_?"":_)},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))},id:"effectivity_coverage","data-cy":"effectivity_coverage",disabled:O,value:a,name:t.name,classes:o,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})},Ue=function(e){var t=e.value,a=e.column,r=e.row,i=Object(n.useState)(!1),o=Object(g.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(""),m=Object(g.a)(c,2),d=m[0],u=m[1],p=Or();return O?n.createElement(n.Fragment,null," ",t," "):n.createElement(j.a,{"data-cy":"time",disabled:O,onFocus:function(e){u(e.target.value),s(!0)},onBlur:function(e){E(e,r.id),s(!0)},type:"time",name:a.name,classes:p,onChange:function(e){u(e.target.value)},value:l?d:t,inputProps:{step:300}})},Ye=function(e){var t=e.column,a=e.value,r=e.row;return n.createElement(n.Fragment,null,n.createElement(Jn.a,{"data-cy":"partner_checkbox_"+r.index,id:"partner_checkbox_"+r.index,name:t.name,disabled:O,checked:!0===a,checkedIcon:n.createElement(X.a,{style:{color:"#3AB77D"},icon:Z.h}),icon:n.createElement(X.a,{style:{color:"#CFCFD2"},icon:Z.h}),onClick:function(e){e.stopPropagation(),y("partner_network_list",null===a||!1===a,r.parent,r.index,t.name)}}),n.createElement(Jn.a,{id:"partner_checkbox_"+r.index,"data-cy":"partner_checkbox_"+r.index,name:t.name,disabled:O,checked:!1===a,checkedIcon:n.createElement(X.a,{style:{color:"#FD5451"},icon:Z.N}),icon:n.createElement(X.a,{style:{color:"#CFCFD2"},icon:Z.N}),onClick:function(e){e.stopPropagation(),y("partner_network_list",null!==a&&!0!==a,r.parent,r.index,t.name)}}))},He=function(e){var t=e.column,a=e.value,r=e.row,i=void 0!==r.disabled&&r.disabled;return n.createElement(n.Fragment,null,n.createElement(G.a,{id:"benefitstable_exclusions_checkbox","data-cy":"benefitstable_exclusions_checkbox",name:t.name,icon:n.createElement(X.a,{icon:Q.a}),checkedIcon:n.createElement(X.a,{icon:Z.i}),onClick:function(e){e.stopPropagation();var t=[{id:r.id,included:!a}];v(t)},checked:a,disabled:i}))},qe=function(e){var t=e.column,a=e.value,r=e.row,i=fr;return n.createElement(n.Fragment,null,n.createElement(Cr,{"data-cy":"payment_dropdown",onChange:function(e){return E(e,r.id)},name:t.name,disabled:O,items:i,id:"payment_dropdown",value:a}))},Ge=function(e){var t=e.row;return n.createElement(n.Fragment,null,n.createElement("span",{id:"additional_actions","data-cy":"additional_actions",onClick:function(e){e.stopPropagation(),D&&(t._id?D(t._id):D(t.id))}},n.createElement(X.a,{className:"fa-sm",icon:Z.x,style:{color:"#AFAFB7",fontSize:"15px",marginLeft:"5px"}})))},Ke=function(e){var t=e.value,a=e.column,r=e.row,i=yr(),o=Or(),l=Object(n.useState)(!1),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)(""),u=Object(g.a)(d,2),p=u[0],f=u[1];if("date"===r.custom_metadata.field_type){var b=t?Je()(t.toString(),"YYYY"):null;return O?n.createElement(n.Fragment,null," ",t," "):n.createElement(_r.a,{id:"benefitstable_date_picker","data-cy":"benefitstable_date_picker",views:["year"],value:b,onChange:function(e){y(a.name,Je()(e).get("year"),r.id)},name:a.name,disableFuture:!0})}if("chip"===r.custom_metadata.field_type){var _=t||[];return O?n.createElement(n.Fragment,null," ",_.join(", ")," "):n.createElement(M.a,{id:"benefitstable_chip_"+r.id,"data-cy":"benefitstable_chip_"+r.id,classes:i,variant:"standard",value:_,onAdd:function(e){var t=[].concat(Object(Ln.a)(_),[e]);y(a.name,t,r.id)},onDelete:function(e){var t=Object(Ln.a)(_).filter(function(t){return t!==e});y(a.name,t,r.id)}})}return O?n.createElement(n.Fragment,null," ",t," "):n.createElement(j.a,{id:"identifier_textfield_"+r.id,"data-cy":"identifier_textfield_"+r.id,disabled:O,value:c?p:t,classes:o,onChange:function(e){f(e.target.value)},onFocus:function(e){f(e.target.value),m(!0)},onBlur:function(e){E(e,r.id),m(!0)},name:a.name})};return void 0!==r&&(void 0!==r.payment&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:qe},e))},{for:r.payment})),void 0!==r.exclusions_checkbox&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:He},e))},{for:r.exclusions_checkbox})),void 0!==r.partner_checkbox&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ye},e))},{for:r.partner_checkbox})),void 0!==r.number&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:be},e))},{for:r.number})),void 0!==r.text&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:we},e))},{for:r.text})),void 0!==r.limit_type&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Oe},e))},{for:r.limit_type})),void 0!==r.limit&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:ve},e))},{for:r.limit})),void 0!==r.rab_limit&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ee},e))},{for:r.rab_limit})),void 0!==r.medicine_limit_type&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ce},e))},{for:r.medicine_limit_type})),void 0!==r.php&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Se},e))},{for:r.php})),void 0!==r.rollover&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:je},e))},{for:r.rollover})),void 0!==r.refresh&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:De},e))},{for:r.refresh})),void 0!==r.eligible_availees&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:ge},e))},{for:r.eligible_availees})),void 0!==r.html&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:ke},e))},{for:r.html})),void 0!==r.maternity_eligible_availees&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ne},e))},{for:r.maternity_eligible_availees})),void 0!==r.age_limit&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:_e},e))},{for:r.age_limit})),void 0!==r.eligibility_age_limit&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Le},e))},{for:r.eligibility_age_limit})),void 0!==r.required&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:he},e))},{for:r.required})),void 0!==r.availment&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Te},e))},{for:r.availment})),void 0!==r.member_type&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Me},e))},{for:r.member_type})),void 0!==r.plan_type&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Fe},e))},{for:r.plan_type})),void 0!==r.day&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({disabled:O,formatterComponent:Be},e))},{for:r.day})),void 0!==r.no_of_members&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ae},e))},{for:r.no_of_members})),void 0!==r.eligibility&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Pe},e))},{for:r.eligibility})),void 0!==r.type&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ie},e))},{for:r.type})),void 0!==r.hierarchy&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Re},e))},{for:r.hierarchy})),void 0!==r.enrollment_period&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:We},e))},{for:r.enrollment_period})),void 0!==r.effectivity_coverage&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:ze},e))},{for:r.effectivity_coverage})),void 0!==r.time&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({disabled:O,formatterComponent:Ue},e))},{for:r.time})),void 0!==r.identifier&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ke},e))},{for:r.identifier})),void 0!==r.actions&&pe.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ge},e))},{for:r.actions}))),Object(n.useEffect)(function(){le&&le.current&&ee(le.current.clientHeight)}),n.createElement("div",{style:_?{}:{marginTop:"30px"}},n.createElement(zn.a,{rows:t,columns:a},pe,s?null:n.createElement(Un.o,null),c||O?null:n.createElement(Un.p,{selection:ue,onSelectionChange:function(e){if(se){var a=e.find(function(e){return-1===ue.indexOf(e)});if(console.log(a),void 0!==a){var n=t.reduce(function(e,t,n){if(!1===t.disabled){var r={id:t.id};"rab"===p?(r.included=n>=a,n!==a&&(r.resetRAB=!0)):r.included=n===a,e.push(r)}return e},new Array);v(n)}}else{var r=t.reduce(function(t,a,n){if(!1===a.disabled){var r={id:a.id};e.includes(n)?r.included=!0:r.included=!1,t.push(r)}return t},new Array);v(r)}}}),l?null:n.createElement(Un.m,{currentPage:L,onCurrentPageChange:W,pageSize:Y,onPageSizeChange:function(e){oe(0===e),V(e)}}),m?null:n.createElement(Un.q,{defaultSorting:T||[{columnName:"category",direction:"asc"}]}),d?null:A&&B?n.createElement(Un.e,{defaultFilters:[],filters:A,onFiltersChange:B}):n.createElement(Un.e,{defaultFilters:[]}),m?null:n.createElement(Un.k,null),c||O?null:n.createElement(Un.j,null),l?null:n.createElement(Un.i,null),d?null:n.createElement(Un.h,null),n.createElement(zn.d,{tableComponent:function(e){var t=e.children,a=Object(Wn.a)(e,["children"]);return n.createElement(zn.d.Table,Object.assign({},a,{stickyHeader:ie}),t)},stubHeaderCellComponent:function(e){var t=e.classes,a=Object(Wn.a)(e,["classes"]);return n.createElement(qn.a,Object.assign({},a,{classes:t,style:{padding:"0px 10px 8px 10px",top:$?$+"px":"0"}}))},containerComponent:function(e){var t=e.children,a=Object(Wn.a)(e,["children"]);return n.createElement("div",Object.assign({},a,{style:{overflow:ie?"auto":"none",height:ie?"70vh":"auto",overflowX:"auto"}}),t)},columnExtensions:f}),c||O?null:n.createElement(zn.h,{showSelectAll:!!ce,cellComponent:me,headerCellComponent:kr}),h?n.createElement(zn.g,{rowComponent:function(e){var t=e.children,a=Object(Wn.a)(e,["children"]);return n.createElement(zn.g.Row,a,n.createElement(qn.a,{colSpan:t.length,style:{justifyContent:"space-between"}},n.createElement(ae.a,{disableGutters:!0,style:{justifyContent:"space-between"}},n.createElement(Yn,{choices:fe,onChange:function(e){k(e)},value:w||{label:"Add a hospital...",value:"Code"}}),n.createElement(re.a,{id:"benefitstable_detailed_dropdown","data-cy":"benefitstable_detailed_dropdown",onClick:function(){return N(w)},style:{color:"#3AB77D",width:"140px",marginLeft:"10px",textAlign:"right"}},n.createElement(X.a,{icon:Z.A})," Add a Hospital"))))},cellComponent:de}):n.createElement(zn.g,{showSortingControls:!m,sortLabelComponent:Tr,cellComponent:de}),d?null:n.createElement(zn.f,{cellComponent:function(e){var t=e.filter,a=e.onFilter,r=e.filteringEnabled,i=e.classes,o=Object(n.useState)(0),l=Object(g.a)(o,2),s=l[0],c=l[1],m=Object(n.useState)(!1),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)(""),b=Object(g.a)(f,2),_=b[0],h=b[1],v=t?t.value:"";return u&&(v=_),r?n.createElement(qn.a,{style:{padding:"0px 10px 8px 10px",top:$?$+"px":"0"},classes:i},n.createElement(P.a,{id:"benefits_table_filter","data-cy":"benefits_table_filter",classes:i,style:{width:"100%"},value:v,labelWidth:0,onChange:function(e){e.persist(),h(e.target.value),p(!0),s&&clearTimeout(s);var t=e.target.value;c(setTimeout(function(){p(!1),a(t?{value:t}:null),h("")},2e3))},placeholder:""})):null},showFilterSelector:!0}),b?n.createElement(zn.e,{columnBands:b,cellComponent:jr}):null,u&&s?null:n.createElement(zn.i,{rootComponent:function(e){var t=e.children,a=Xn,r={};return i&&i.custom_metadata&&(r=i.custom_metadata),n.createElement(ae.a,{disableGutters:!0,style:{justifyContent:s?"start":"space-between",alignItems:"flex-end",paddingBottom:"10px"}},t,O||!i||u?null:n.createElement("div",{style:s?{}:{marginLeft:"10px",width:"150px"}},n.createElement(F.a,{style:{marginBottom:"10px"}},"Contract Type"),n.createElement(Cr,{"data-cy":"contract-plan-type",onChange:function(e){o(e)},name:"contract_plan_type",items:a,id:"contract-plan-type",value:r.contract_plan_type?r.contract_plan_type:"",variant:"outlined",disabled:O})),O&&i&&!u?n.createElement("div",{style:s?{}:{marginLeft:"10px",width:"150px"}},n.createElement(F.a,{style:{marginBottom:"10px"}},"Contract Type"),n.createElement(F.a,null,r.contract_plan_type?r.contract_plan_type:"\u2014\u2014")):null)}}),s?null:n.createElement(zn.c,{inputComponent:Nr}),l?null:n.createElement(zn.b,{pageSizes:q})))};Mr.defaultProps={rows:[],columns:[],columnExtensions:[],columnBands:null,formattedColumns:{},subFormNode:{},dropdownHeader:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,disableMargin:!1,disableContractType:!1,selectionType:null,viewOnly:!1,defaultSort:null,filters:null,setFilters:null,setSubForm:function(e){return console.log("setSubForm",e)},setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a,n){return console.log("setRowMetadata2",e,t,a,n)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setAddDropdown:function(e){return console.log("setAddDropdown",e)},dropdownData:[],selectedOption:null,setSelectedOption:function(e){return console.log("setSelectedOption",e)},actionFunction:function(e){return console.log("actionFunction",e)}};var Fr=a(269),Pr=a(2095),Ar=Object(Vn.a)({root:{marginTop:"16px",marginBottom:"8px",height:"2.90em"},adornedEnd:{paddingRight:0}}),Br=Object(Vn.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px"},root:{height:"2.90em"}}),Ir=function(e){return n.createElement(Ur,Object.assign({},e,{items:[{label:"USD",value:"USD"},{label:"PHP",value:"PHP"},{label:"EUR",value:"EUR"}],type:"number",currency:!0,defaultValue:"PHP"}))},Rr=function(e){var t=Kn,a=!1;return void 0===e.selectValue||""!==e.selectValue&&!["ABL","MBL","PEC"].includes(e.selectValue)||(a=!0),n.createElement(Ur,Object.assign({},e,{items:t,type:"number",currency:"amt_limit"===e.selectValue||"max_amount"===e.selectValue,defaultValue:"percent_mbl",disableInput:a}))},Lr=function(e){return n.createElement(Ur,Object.assign({},e,{items:[{label:"%",value:"percent"}],type:"number",currency:!1,defaultValue:"percent"}))},Wr=function(e){return n.createElement(Ur,Object.assign({},e,{items:[{label:"PHP",value:"php_abl"}],type:"number",currency:!0,defaultValue:"php_abl"}))},zr=function(e){return n.createElement(Ur,Object.assign({},e,{items:[{label:"Months",value:"months"},{label:"Days",value:"days"}],currency:!1,type:"number",defaultValue:"months"}))},Ur=function(e){var t,a,r,i,o,l,s,c,m,d,u,p,f,b,_=Ar(),h=Br(),v=e.noDefault;Object(Fr.a)(e),t=e.id,a=e.label,r=e.items,i=e.fieldName,o=e.selectName,m=e.fieldOnChange,d=e.selectOnChange,s=e.fieldValue,c=e.selectValue,l=e.defaultValue,u=e.disableSelect,p=e.disableInput,b=e.inputProps,f=e.allowNegative,Object(Wn.a)(e,["id","label","items","fieldName","selectName","fieldOnChange","selectOnChange","fieldValue","selectValue","defaultValue","disableSelect","disableInput","inputProps","allowNegative"]),void 0===b&&(b={}),v&&(l="");var E=null;return E=r?1===r.length?n.createElement(A.a,{id:"combo_field","data-cy":"combo_field",value:r[0].label,disabled:u||!1,input:n.createElement(P.a,{classes:h,style:{minWidth:"62.44px"},name:o,labelWidth:0,id:t+"_adornment"}),IconComponent:function(){return n.createElement(Pr.a,{style:{display:"none"}})}},n.createElement(D.a,{id:"combo_field_"+r[0].label,"data-cy":"combo_field_"+r[0].label,key:r[0].label,value:r[0].label},r[0].label)):n.createElement(A.a,{value:void 0!==c?c:l,onChange:function(e){d(e)},disabled:u||!1,input:n.createElement(P.a,{classes:h,name:o,labelWidth:0,id:t+"_adornment"})},n.createElement(D.a,{key:-1,value:""}),r.map(function(e){return n.createElement(D.a,{key:e.value,id:"combo_field_"+r[0].value,"data-cy":"combo_field_"+r[0].value,value:e.value},e.label)})):"",n.createElement(n.Fragment,null,n.createElement(F.a,{htmlFor:t+"_label"},a),n.createElement(P.a,{disabled:p||!1,labelWidth:0,classes:_,style:{outlineOffset:"-2px",outlineColor:"#3AB77D"},value:s,id:"formatted-text-mask-input",inputComponent:function(e){var t=e.inputRef,a=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),r=n.useState(!1),o=Object(g.a)(r,2),l=o[0],c=o[1],d=n.useState(""),u=Object(g.a)(d,2),p=u[0],b=u[1],h=void 0!==s?s:"";return l&&(h=p),n.createElement(hr.a,Object.assign({},a,{getInputRef:t,classes:_,value:h,name:i,isAllowed:function(e){var t=e.value,a=e.floatValue;return"undefined"===typeof a||"undefined"===typeof t||(!("0"===String(a).charAt(0)&&String(a).length>1)||(!t.charAt(1)||"."==t.charAt(1)))},onValueChange:function(e){l&&e&&b(e.floatValue)},onBlur:function(e){c(!1),e.target.value=e.target.value.replace(/,/g,""),m&&m(e),console.log("onChange",e)},onFocus:function(e){c(!0),b(0===h||"0"===h?"":h),e.target.click()},allowNegative:f,thousandSeparator:!0,isNumericString:!0}))},endAdornment:n.createElement(Ve.a,{position:"end"},E)}))},Yr=Object(Vn.a)({root:{lineHeight:"1"},adornedStart:{paddingLeft:0}}),Vr=Object(Vn.a)({root:{fontWeight:"bold"}}),Hr=function(e){var t=Yr(),a=Vr(),r=e.label,i=e.value,o=e.menuItems,l=i;if(void 0!==o&&o.length>0){var s=o.find(function(e){return i===e.value});s&&s.name&&(l=s.name)}return n.createElement(n.Fragment,null,n.createElement(S.a,{classes:t,style:{lineHeight:"1"},variant:"overline"},r),n.createElement(S.a,{classes:a,style:{fontWeight:"bold",marginBottom:"25px"},variant:"body1"},l||"\u2014\u2014"))},qr=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"formatNumber",value:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},{key:"toNameFormat",value:function(t,a,n){return""===t&&""===a&&""===n?"":"".concat(t," ").concat(e.getIntials(a)," ").concat(n)}},{key:"getIntials",value:function(e){for(var t="",a=e.split(" "),n=0;n<a.length;n++)t+=a[n].substring(0,1).toUpperCase()+".";return t}},{key:"toCommonDateString",value:function(e){if(e){var t=e.getDate(),a=e.getMonth(),n=e.getFullYear();return["January","February","March","April","May","June","July","August","September","October","November","December"][a]+" "+t+", "+n}return""}},{key:"getAge",value:function(e){if(e){var t=Date.now()-e;return Math.abs(new Date(t).getUTCFullYear()-1970)}return null}},{key:"getRandomValue",value:function(){return Math.random().toString(36).substr(2,6)}},{key:"toShortDateString",value:function(e){if(null===e)return"";try{var t=Je()(e);if(t&&t.isValid())return t.format("MMM DD, YYYY")}catch(a){return""}return""}},{key:"getDateFromString",value:function(e){var t=Je()(e,"MM/DD/YYYY",!0);if(t.isValid())return t.toDate();var a=Je()(e,"YYYY/MM/DD",!0);if(a.isValid())return a.toDate();var n=new Date(e);return n instanceof Date&&!isNaN(n.getTime())?n:null}},{key:"isValidDate",value:function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}}]),e}(),Gr=Object(Vn.a)({root:{alignItems:"flex-start","& span.MuiButtonBase-root":{paddingTop:"4px",display:"block"}}}),Jr=function(e,t){var a="PHP",n=0;return t&&(a=t),e?(n=e,qr.formatNumber(n)+" "+a):"-"},Kr={formHeader:null,rows:[],setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a){return console.log("setRowMetadata2",e,t,a)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setSubForm:function(e){return console.log("setSubForm",e)},setSubForm2:function(e){return console.log("setSubForm",e)},createRelationship:function(e){return console.log("createRelationship",e)},createCivilStatus:function(e){return console.log("createCivilStatus",e)},subFormNode:null,viewOnly:!1},Xr=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm2,o=e.subFormNode,l={};o&&o.custom_metadata&&o.custom_metadata.limit&&(l=o.custom_metadata.limit);var s=r,c="",m=Object(Ln.a)(Kn).find(function(e){return e.type===l.type});return m&&(c=m.value?m.value:""),n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},a?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"limit_type",title:"Inner Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"daily_limit",title:"Daily Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit","daily_limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"daily_limit",width:150,wordWrapEnabled:!0}]},e,{rows:s}))),n.createElement(J.a,{item:!0,sm:12},a?l.limit&&l.limit_unit?n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(Hr,{label:"Amount Limit for all procedures",value:l.limit+" "+{amt_limit:"Amount Limit",max_session:"Max Session",max_amount:"Max Amount",percent_mbl:"Percent of MBL",percent_abl:"Percent of ABL",no_visits:"No. of Visits"}[l.limit_unit]})):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},"Amount Limit for all procedures"),n.createElement(S.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(Rr,{id:"limit",fieldName:"limit",selectName:"limit_unit",fieldValue:l.limit,selectValue:c,fieldOnChange:function(e){var t=Object.assign({},l);t[e.target.name]=parseFloat(e.target.value),i("limit",t)},selectOnChange:function(e){var t=Object.assign({}),a=e.target.value,n=Object(Ln.a)(Kn).find(function(e){return e.label===a});n?(n.type&&(t.type=n.type),n.limit_unit&&(t.limit_unit=n.limit_unit),i("limit",t)):i("limit",t)},inputProps:{min:0},allowNegative:!1,noDefault:!0})))))};Xr.defaultProps=Kr;var Zr=a(2096),Qr=Object(Vn.a)({adornedEnd:{paddingRight:0}}),$r=Object(Vn.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px",fontSize:12},root:{height:"2.90em"}}),ei=function(e){var t,a,r,i,o,l,s,c,m,d=Qr(),u=$r();return Object(Fr.a)(e),t=e.fieldName,a=e.selectName,o=e.fieldOnChange,l=e.selectOnChange,r=e.fieldValue,i=e.selectValue,s=e.inputProps,c=e.blankField,m=e.allowNegative,Object(Wn.a)(e,["fieldName","selectName","fieldOnChange","selectOnChange","fieldValue","selectValue","inputProps","blankField","allowNegative"]),void 0===s&&(s={}),n.createElement(P.a,{id:"php_perc_field","data-cy":"php_perc_field",classes:d,name:t,labelWidth:0,value:r||(c?"":0),inputComponent:function(e){var a=e.inputRef,l=(e.onChange,Object(Wn.a)(e,["inputRef","onChange"])),s=n.useState(!1),u=Object(g.a)(s,2),p=u[0],f=u[1],b=n.useState(""),_=Object(g.a)(b,2),h=_[0],v=_[1],E=r||(c?"":"0");return p&&(E=h),n.createElement(hr.a,Object.assign({},l,{getInputRef:a,classes:d,type:"tel",value:E,name:t,min:0,isAllowed:function(e){var t=e.value,a=e.floatValue;return!("percent"===i&&t.indexOf(".")>=0)&&("undefined"===typeof a||"undefined"===typeof t||(!("0"===t.charAt(0)&&t.length>1)||(!t.charAt(1)||"."==t.charAt(1))))},onValueChange:function(e){p&&e&&v(e.floatValue)},onBlur:function(e){f(!1),e.target.value=e.target.value.replace(/,/g,""),o&&o(e),console.log("onChange",e)},inputProps:{min:0},onFocus:function(e){f(!0),v(0===E||"0"===E?"":E),e.target.click()},thousandSeparator:!0,isNumericString:!0,allowNegative:m}))},inputProps:{min:"0"},endAdornment:n.createElement(Ve.a,{position:"end"},n.createElement(A.a,{id:"php_perc_select","data-cy":"php_perc_select",value:i||"percent",name:a,onChange:function(e){l(e)},input:n.createElement(P.a,{classes:u,labelWidth:0,id:a})},n.createElement(D.a,{id:"php_perc_percent","data-cy":"php_perc_percent",selected:!0,value:"percent"},"%"),n.createElement(D.a,{id:"php_perc_php","data-cy":"php_perc_php",value:"PHP"},"PHP")))})},ti=Object(Vn.a)({adornedEnd:{paddingRight:0}}),ai=Object(Vn.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px",fontSize:12},root:{height:"2.90em"}}),ni=function(e){var t,a=e.formHeader,r=e.rows,i=e.viewOnly,o=e.subFormNode,l=e.setSubForm,s=e.setSubForm2,c=Gr(),m={},d=[],u=-1,p=-1,f=0,b=ti(),g=ai();if(o&&(o.custom_metadata&&(m=o.custom_metadata),o.limits)){var _=(d=o.limits).findIndex(function(e){return["ABL","MBL"].includes(e.type)});u=_,_=d.findIndex(function(e){return["PEC"].includes(e.type)}),d[p=_]&&d[p].time_based_limit&&(t=d[p].time_based_limit,f=d[p].time_based_limit.length)}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=e.target.name;e.target.value=e.target.value?e.target.value.trim().replace(/,/g,""):"";var i=e.target.value,l=!1;console.log("val:",i);var c=-1,m=[];if(("type"===r||t&&"limit_unit"===r)&&0===i.length&&(l=!0),"limit"===r&&i.toString().indexOf(".")>-1?i=parseFloat(i).toFixed(2):"limit"===r&&(i=0===i.length?0:parseFloat(i)),console.log("After Float: ",i,t),o&&o.limits&&(m=o.limits),console.log("limit",m),c=t?m.findIndex(function(e){return["PEC"].includes(e.type)}):m.findIndex(function(e){return["ABL","MBL"].includes(e.type)}),console.log("newLimits: ",r,i,c,a,f),c>-1&&l){var d=Object(Ln.a)(m);d=d.filter(function(e){return t?!["PEC"].includes(e.type):!["ABL","MBL"].includes(e.type)}),s(r,d,"limits")}else if(c>-1){if(t&&"Months"===m[p].limit_unit&&("number_month"===r||"limit"===r||"limit_type"===r||"day_based"===r)){a||(a=0);var u=[],b={number_month:"number_month"===r?i:m[p].time_based_limit&&a>=0&&m[p].time_based_limit[a]&&m[p].time_based_limit[a].number_month?"day_based"===r?0:m[p].time_based_limit[a].number_month:0,day_based:"day_based"===r?i:m[p].time_based_limit&&a>=0&&m[p].time_based_limit[a]&&m[p].time_based_limit[a].day_based?m[p].time_based_limit[a].day_based:"Months",limit_type:"limit_type"===r?i:m[p].time_based_limit&&a>=0&&m[p].time_based_limit[a]&&m[p].time_based_limit[a].limit_type?m[p].time_based_limit[a].limit_type:"percent",limit:"limit"===r?i:m[p].time_based_limit&&a>=0&&m[p].time_based_limit[a]&&m[p].time_based_limit[a].limit?"limit_type"===r?"":m[p].time_based_limit[a].limit:""};if(f>0)for(var g=0;g<m[p].time_based_limit.length;g++)a===g?u.push(b):u.push(m[p].time_based_limit[g]);else u.push(b);r="time_based_limit",i=u,console.log(u)}if(t&&1===n){for(var _=[],h=0;h<f;h++)_.push({number_month:m[p].time_based_limit[h]&&m[p].time_based_limit[h].number_month?m[p].time_based_limit[h].number_month:0,day_based:m[p].time_based_limit[h]&&m[p].time_based_limit[h].day_based?m[p].time_based_limit[h].day_based:"Months",limit_type:m[p].time_based_limit[h]&&m[p].time_based_limit[h].limit_type?m[p].time_based_limit[h].limit_type:"percent",limit:m[p].time_based_limit[h]&&m[p].time_based_limit[h].limit?m[p].time_based_limit[h].limit:""});0===f&&_.push({number_month:0,day_based:"Months",limit_type:"percent",limit:0}),_.push({number_month:0,day_based:"Months",limit_type:"percent",limit:0}),r="time_based_limit",i=_,f++}else if(t&&-1===n){for(var v=[],E=0;E<f;E++)E!=a&&v.push({number_month:m[p].time_based_limit[E]&&m[p].time_based_limit[E].number_month?m[p].time_based_limit[E].number_month:0,day_based:m[p].time_based_limit[E]&&m[p].time_based_limit[E].day_based?m[p].time_based_limit[E].day_based:"Months",limit_type:m[p].time_based_limit[E]&&m[p].time_based_limit[E].limit_type?m[p].time_based_limit[E].limit_type:"percent",limit:m[p].time_based_limit[E]&&m[p].time_based_limit[E].limit?m[p].time_based_limit[E].limit:""});r="time_based_limit",i=v,f--}console.log("change: ",r,i),"type"===r&&s("limit",0,"limits",c),s(r,i,"limits",c)}else{var y={type:"ABL",limit:"",limit_unit:"PHP"};t&&(y.type="PEC"),y[r]=i;var x=Object(Ln.a)(m);x.push(y),s(r,x,"limits")}},v=null;v=p>-1&&"Percentage"===d[p].limit_unit?Lr:p>-1&&"Months"===d[p].limit_unit?zr:Ir;var E={annual:"Annual",semiannual:"Semi-Annual",quarterly:"Quarterly",monthly:"Monthly"},y=r;if(i){var x=!0;y=r.filter(function(){return!!x&&(x=!1,!0)})}var O="",C="";return i&&(m.voluntary_upgrading_type&&("paid_by_member"===m.voluntary_upgrading_type?O="Room and Board difference is paid by the Member":"first_hours_free"===m.voluntary_upgrading_type?O=m.voluntary_upgrading_amount?"First "+m.voluntary_upgrading_amount+" hours free":"First 0 hour free":"rate"===m.voluntary_upgrading_type&&(O=m.voluntary_upgrading_amount?"Rate: "+m.voluntary_upgrading_amount+" %":"Rate:  0%")),"paid_by_member"===m.involuntary_upgrading_type?C="Room and Board difference is paid by the Member":"first_hours_free"===m.involuntary_upgrading_type&&(C=m.involuntary_upgrading_amount?"First "+m.involuntary_upgrading_amount+" hours free":"First 0 hour free")),n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},i?null:a,n.createElement(J.a,{item:!0,container:!0,sm:8},n.createElement(J.a,{item:!0,sm:5},i?n.createElement(Hr,{label:"Limit Type",value:u>-1&&d[u].type?d[u].type:""}):n.createElement(n.Fragment,null,n.createElement(F.a,{htmlFor:"type"},"Choose Limit Type*"),n.createElement(k.a,{margin:"normal"},n.createElement(A.a,{id:"rab_type","data-cy":"rab_type",onChange:function(e){return h(e,!1)},value:u>-1&&d[u].type?d[u].type:"",name:"type",input:n.createElement(P.a,{labelWidth:0,name:"type",id:"limit"})},n.createElement(D.a,{value:""}),n.createElement(D.a,{id:"rab_abl","data-cy":"rab_abl",value:"ABL"},"ABL"),n.createElement(D.a,{id:"rab_mbl","data-cy":"rab_mbl",value:"MBL"},"MBL"))))),n.createElement(J.a,{item:!0,sm:7},i?n.createElement(Hr,{label:"Limit",value:u>-1&&d[u].limit&&d[u].limit_unit?Jr(d[u].limit,d[u].limit_unit):""}):n.createElement(Ir,{id:"limit",label:"Specify Limit*",fieldName:"limit",selectName:"limit_unit",fieldValue:u>-1&&void 0!==d[u].limit?d[u].limit:"",selectValue:"PHP",fieldOnChange:function(e){return h(e,!1)},inputProps:{min:"0"},disableSelect:!0})),n.createElement(J.a,{item:!0,sm:5},i?n.createElement(Hr,{label:"PEC Limit Type",value:p>-1&&d[p].type?"PHP"===d[p].limit_unit?"Peso":"Months"===d[p].limit_unit?"Time-based":d[p].limit_unit:""}):n.createElement(n.Fragment,null,n.createElement(F.a,{htmlFor:"limit_unit"},"Choose PEC Limit Type*"),n.createElement(k.a,{margin:"normal"},n.createElement(A.a,{id:"rab_pec_limit","data-cy":"rab_pec_limit",onChange:function(e){return h(e,!0)},value:p>-1&&d[p].limit_unit?d[p].limit_unit:"",name:"limit_unit",input:n.createElement(P.a,{labelWidth:0,name:"limit_unit",id:"pecLimit"})},n.createElement(D.a,{value:""}),n.createElement(D.a,{id:"rab_php","data-cy":"rab_php",value:"PHP"},"Peso"),n.createElement(D.a,{id:"rab_percentage","data-cy":"rab_percentage",value:"Percentage"},"Percentage"),n.createElement(D.a,{id:"rab_time_based","data-cy":"rab_time_based",value:"Months"},"Time-based"))))),-1===p||"PHP"===d[p].limit_unit||"Percentage"===d[p].limit_unit?n.createElement(J.a,{item:!0,sm:7},i?n.createElement(Hr,{label:"PEC Limit",value:p>-1&&d[p].limit&&d[p].limit_unit?Jr(d[p].limit,"PHP"===d[p].limit_unit?d[p].limit_unit:"%"):""}):n.createElement(v,{id:"limit",label:"Specify Limit*",fieldName:"limit",selectName:"limit_unit",fieldValue:p>-1&&void 0!==d[p].limit?d[p].limit:"",selectValue:d[p]&&"Percentage"===d[p].limit_unit?"percent":"PHP",fieldOnChange:function(e){return h(e,!0)},inputProps:{min:"0"},disableSelect:!0})):n.createElement(J.a,{item:!0,sm:7},n.createElement(F.a,{style:{height:26,paddingBottom:6},htmlFor:"limit_unit"},"Specify Limit*"),i?"":n.createElement(F.a,{style:{height:26,paddingBottom:5},htmlFor:"limit_unit"},"After n month"),n.createElement(J.a,{container:!0},f>0?t.map(function(e,t){return console.log(e),i?n.createElement(J.a,{container:!0,style:{paddingBottom:5}},n.createElement(Hr,{label:"",value:d[p].time_based_limit&&d[p].time_based_limit[t]&&d[p].time_based_limit[t].number_month&&""!==d[p].time_based_limit[t].number_month&&d[p].time_based_limit[t].limit&&""!==d[p].time_based_limit[t].limit?"After "+(d[p].time_based_limit[t].number_month&&""!==d[p].time_based_limit[t].number_month?d[p].time_based_limit[t].number_month.toString():"\u2014")+" "+(d[p].time_based_limit[t].day_based?d[p].time_based_limit[t].day_based.toString():"Months")+": "+(d[p].time_based_limit[t].limit&&""!==d[p].time_based_limit[t].limit?d[p].time_based_limit[t].limit.toString():"\u2014")+" "+(d[p].time_based_limit[t].limit_type&&"PHP"===d[p].time_based_limit[t].limit_type?"PHP":"%"):"\u2014\u2014"})):n.createElement(J.a,{container:!0,style:{paddingBottom:5}},n.createElement(J.a,{item:!0,sm:1,style:{display:"inline-block",position:"relative",verticalAlign:"middle",marginRight:8}},n.createElement(re.a,{id:"rab_limit","data-cy":"rab_limit",style:{cursor:"pointer",display:f>1?"block":"none",position:"absolute",top:"50%",transform:"translateY(-50%)"},onClick:function(e){return h(e,!0,t,-1)}},n.createElement(X.a,{icon:Z.x,style:{color:"#B0AFB8"}}))),n.createElement(J.a,{item:!0,sm:6,style:{display:"inline-block"}},n.createElement(P.a,{id:"number_month","data-cy":"number_month",labelWidth:0,classes:b,style:{marginRight:8.71},name:"number_month",value:d[p].time_based_limit&&d[p].time_based_limit[t]&&d[p].time_based_limit[t].number_month?d[p].time_based_limit[t].number_month:"",onChange:function(e){return h(e,!0,t)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Ve.a,{position:"end"},n.createElement(A.a,{value:d[p].time_based_limit&&d[p].time_based_limit[t]&&d[p].time_based_limit[t].day_based?d[p].time_based_limit[t].day_based:"Months",name:"day_based",onChange:function(e){return h(e,!0,t)},input:n.createElement(P.a,{"data-cy":"day_based",classes:g,labelWidth:0,id:"day_based"}),disabled:!1},n.createElement(D.a,{id:"rab_days","data-cy":"rab_days",selected:!0,value:"Days"},"Days"),n.createElement(D.a,{id:"rab_weeks","data-cy":"rab_weeks",selected:!0,value:"Weeks"},"Weeks"),n.createElement(D.a,{id:"rab_months","data-cy":"rab_months",selected:!0,value:"Months"},"Months")))})),n.createElement(J.a,{item:!0,sm:4,style:{display:"inline-block"}},n.createElement(ei,{variant:"outlined",fieldName:"limit",selectName:"limit_type",blankField:!0,fieldValue:d[p].time_based_limit&&d[p].time_based_limit[t]&&d[p].time_based_limit[t].limit?d[p].time_based_limit[t].limit:"",selectValue:d[p].time_based_limit&&d[p].time_based_limit[t]&&d[p].time_based_limit[t].limit_type?d[p].time_based_limit[t].limit_type:"percent",fieldOnChange:function(e){return h(e,!0,t)},selectOnChange:function(e){return h(e,!0,t)},allowNegative:!1})))}):i?n.createElement(Hr,{label:"",value:"\u2014\u2014"}):n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,sm:1,style:{position:"relative",verticalAlign:"middle",marginRight:8}},n.createElement(re.a,{style:{display:"none",position:"absolute",top:"50%",transform:"translateY(-50%)"},onClick:function(e){return h(e,!0,0,-1)}},n.createElement(X.a,{icon:Z.x,style:{color:"#B0AFB8"}}))),n.createElement(J.a,{item:!0,sm:6},n.createElement(P.a,{id:"number_month",labelWidth:0,classes:b,style:{marginRight:8.71},name:"number_month",value:d[p].time_based_limit&&d[p].time_based_limit[0].number_month?d[p].time_based_limit[0].number_month:"",onChange:function(e){return h(e,!0,0)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Ve.a,{position:"end"},n.createElement(A.a,{value:d[p].time_based_limit&&d[p].time_based_limit[0]&&d[p].time_based_limit[0].day_based?d[p].time_based_limit[0].day_based:"Months",name:"day_based",onChange:function(e){return h(e,!0,0)},input:n.createElement(P.a,{classes:g,labelWidth:0,id:"per_month_adornment"}),disabled:!1},n.createElement(D.a,{selected:!0,value:"Days"},"Days"),n.createElement(D.a,{selected:!0,value:"Weeks"},"Weeks"),n.createElement(D.a,{selected:!0,value:"Months"},"Months")))})),n.createElement(J.a,{item:!0,sm:4},n.createElement(P.a,{id:"limit",classes:b,name:"limit",labelWidth:0,value:d[p].time_based_limit&&d[p].time_based_limit[0].limit?d[p].time_based_limit[0].limit:"",onChange:function(e){return h(e,!0,0)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},endAdornment:n.createElement(Ve.a,{position:"end"},n.createElement(A.a,{value:d[p].time_based_limit&&d[p].time_based_limit[0].limit_type?d[p].time_based_limit[0].limit_type:"percent",name:"limit_type",onChange:function(e){return h(e,!0,0)},input:n.createElement(P.a,{classes:g,labelWidth:0,id:"limit_type"})},n.createElement(D.a,{selected:!0,value:"percent"},"%"),n.createElement(D.a,{selected:!0,value:"PHP"},"PHP")))}))),n.createElement(J.a,{item:!0,xs:11,style:{display:i?"none":"block",paddingLeft:40}},n.createElement(z.a,{color:"primary",disableFocusRipple:!0,name:"addtimebased",onClick:function(e){return h(e,!0,f,1)},value:"target"},n.createElement(X.a,{icon:Z.A}),"\xa0Add Layer"))))),n.createElement(J.a,{item:!0,sm:4},i?n.createElement(Hr,{label:"Mode of Payment",value:E[m.mode_of_payment]}):n.createElement(n.Fragment,null,n.createElement(F.a,{htmlFor:"mode_of_payment"},"Mode of Payment*"),n.createElement(k.a,{component:"fieldset",margin:"normal"},n.createElement(Zr.a,{name:"mode_of_payment"},n.createElement(K.a,{value:"annual",control:n.createElement(Jn.a,{id:"rab_mop_annual","data-cy":"rab_mop_annual",checked:!!m.mode_of_payment&&"annual"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),s("mode_of_payment","annual")}}),label:E.annual}),n.createElement(K.a,{value:"semiannual",control:n.createElement(Jn.a,{id:"rab_mop_semiannual","data-cy":"rab_mop_semiannual",checked:!!m.mode_of_payment&&"semiannual"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),s("mode_of_payment","semiannual")}}),label:E.semiannual}),n.createElement(K.a,{value:"quarterly",control:n.createElement(Jn.a,{id:"rab_mop_quarterly","data-cy":"rab_mop_quarterly",checked:!!m.mode_of_payment&&"quarterly"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),s("mode_of_payment","quarterly")}}),label:E.quarterly}),n.createElement(K.a,{value:"monthly",control:n.createElement(Jn.a,{id:"rab_mop_monthly","data-cy":"rab_mop_monthly",checked:!!m.mode_of_payment&&"monthly"===m.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),s("mode_of_payment","monthly")}}),label:E.monthly}))))))),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:i,formattedColumns:{rab_limit:["limit"],rollover:["rollover"],refresh:["refresh"]},disableSearch:!0,disablePaging:!0,disableContractType:!0,selectionType:"rab",columnExtensions:[{columnName:"rollover",width:150,wordWrapEnabled:!0},{columnName:"refresh",width:150,wordWrapEnabled:!0}],columns:[{name:"name",title:"Category"},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"rollover",title:"Rollover",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.rollover?e.custom_metadata.rollover:[]}},{name:"refresh",title:"Refresh",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.refresh?e.custom_metadata.refresh:[]}}]},e,{rows:y}))),n.createElement(J.a,{item:!0,sm:12},i?!0===m.except_suite_room||""!==C?n.createElement(Hr,{label:"Involuntary Room Upgrading",value:n.createElement("div",null,!0===m.except_suite_room?n.createElement("div",null,"Except Suite Room"):null,""!==C?n.createElement("div",null,C):null)}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Involuntary Room Upgrading"),n.createElement(k.a,{component:"fieldset"},n.createElement(K.a,{value:"except_suite_room",control:n.createElement(G.a,{id:"rab_except_suite","data-cy":"rab_except_suite",checked:!!m.except_suite_room&&m.except_suite_room,onChange:function(e){s("except_suite_room",e.target.checked),!1===e.target.checked&&s("involuntary_upgrading_type",null)}}),label:"Except Suite Room"}),n.createElement(Zr.a,{name:"involuntary_upgrading",style:{paddingLeft:"30px"}},n.createElement(K.a,{classes:c,value:"involuntary_upgrading_type",control:n.createElement(Jn.a,{id:"rab_difference_paid_member","data-cy":"rab_difference_paid_member",checked:"paid_by_member"===m.involuntary_upgrading_type,name:"involuntary_upgrading_type",onClick:function(e){e.stopPropagation(),s("involuntary_upgrading_amount",null),s("involuntary_upgrading_type","paid_by_member")}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Room and Board difference is paid by the Member"))}),n.createElement(K.a,{classes:c,value:"involuntary_upgrading_type",control:n.createElement(Jn.a,{id:"rab_first_x_free","data-cy":"rab_first_x_free",checked:"first_hours_free"===m.involuntary_upgrading_type,name:"involuntary_upgrading_type",onClick:function(e){e.stopPropagation(),s("involuntary_upgrading_amount",null),s("involuntary_upgrading_type","first_hours_free")}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"First X hours free"),"first_hours_free"===m.involuntary_upgrading_type?n.createElement(k.a,null,n.createElement(P.a,{id:"involuntary_upgrading_first_hours_free",labelWidth:0,classes:b,type:"tel",name:"involuntary_upgrading_amount",value:"first_hours_free"===m.involuntary_upgrading_type?m.involuntary_upgrading_amount:0,onChange:l,inputProps:{min:0}})):null)}))))),n.createElement(J.a,{item:!0,sm:12},i?m.voluntary_upgrading_type?n.createElement(Hr,{label:"Voluntary Room Upgrading",value:O}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Voluntary Room Upgrading"),n.createElement(k.a,{component:"fieldset"},n.createElement(Zr.a,{name:"involuntary_upgrading"},n.createElement(K.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(Jn.a,{id:"voluntary_difference_member_paid","data-cy":"voluntary_difference_member_paid",checked:"paid_by_member"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),s("voluntary_upgrading_amount",null),s("voluntary_upgrading_type","paid_by_member")}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Room and Board difference is paid by the Member"))}),n.createElement(K.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(Jn.a,{id:"voluntary_first_free","data-cy":"voluntary_first_free",checked:"first_hours_free"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),s("voluntary_upgrading_amount",null),s("voluntary_upgrading_type","first_hours_free")}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"First X hours free"),"first_hours_free"===m.voluntary_upgrading_type?n.createElement(k.a,null,n.createElement(P.a,{id:"voluntary_upgrading_amount",labelWidth:0,classes:b,type:"tel",name:"voluntary_upgrading_amount",value:"first_hours_free"===m.voluntary_upgrading_type?m.voluntary_upgrading_amount:0,onChange:l,inputProps:{min:0}})):null)}),n.createElement(K.a,{classes:c,value:"voluntary_upgrading_type",control:n.createElement(Jn.a,{id:"voluntary_upgrade_rate","data-cy":"voluntary_upgrade_rate",checked:"rate"===m.voluntary_upgrading_type,name:"voluntary_upgrading_type",onClick:function(e){e.stopPropagation(),s("voluntary_upgrading_amount",null),s("voluntary_upgrading_type","rate")}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Rate"),"rate"===m.voluntary_upgrading_type?n.createElement(n.Fragment,null,n.createElement(k.a,null,n.createElement(Lr,{disabled:"rate"!==m.voluntary_upgrading_type,id:"voluntary_upgrading_rate",fieldName:"voluntary_upgrading_amount",selectName:"voluntary_upgrading_amount_unit",fieldValue:"rate"===m.voluntary_upgrading_type?m.voluntary_upgrading_amount:0,selectValue:"percent",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},disableSelect:!0})),n.createElement(S.a,{variant:"caption",style:{fontStyle:"italic"},display:"block"},"Formula: 30% [Room charged \u2014 ] \u2014 [Room \u2014 allowed amount]")):null)}))))))};ni.defaultProps=Kr;var ri=function(e){var t=e.viewOnly,a=e.formHeader,r=e.rows;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},t?null:a)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,{rows:r,columns:[{name:"name",title:"Category"},{name:"description",title:"Description"}]})))};ri.defaultProps=Kr;var ii=function(e){var t=e.formHeader,a=e.viewOnly,r=e.setSubForm,i=e.rows,o=e.subFormNode,l=Object(n.useState)(!1),s=Object(g.a)(l,2),c=s[0],m=s[1],d={};o&&o.custom_metadata&&(d=o.custom_metadata);var u=i;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},a?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"age_limit",title:"Minimum Age",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:0}},{name:"max_availee",title:"Max. Availee",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.max_availee?e.custom_metadata.max_availee:0}},{name:"payment",title:"Payment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.payment?e.custom_metadata.payment:""}},{name:"required",title:"Required",getCellValue:function(e){return!(!e.custom_metadata||!e.custom_metadata.required)&&e.custom_metadata.required}}],formattedColumns:{eligible_availees:["eligible_availees"],age_limit:["age_limit"],required:["required"],number:["max_availee"],payment:["payment"]},columnExtensions:[{columnName:"parent_name",width:150,wordWrapEnabled:!0},{columnName:"name",width:250,wordWrapEnabled:!0},{columnName:"eligible_availees",width:150,wordWrapEnabled:!0},{columnName:"age_limit",width:150,wordWrapEnabled:!0},{columnName:"max_availee",width:150,wordWrapEnabled:!0},{columnName:"payment",width:150,wordWrapEnabled:!0},{columnName:"required",width:150,wordWrapEnabled:!0}]},e,{rows:u}))),n.createElement(J.a,{item:!0,sm:12},a?d.mobile_ape_availees?n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Mobile APE"),n.createElement(Hr,{label:"Min no. of availees in a shift (8 hrs)",value:d.mobile_ape_availees})):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Mobile APE"),n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},"Min no. of availees in a shift (8 hrs)"),n.createElement(P.a,{"data-cy":"mobileAPEs",onChange:function(e){m(!1),r(e)},value:c?"":d.mobile_ape_availees?d.mobile_ape_availees:0,type:"number",onKeyPress:function(e){return"-"===e.key||"."===e.key||"e"===e.key?(e.preventDefault(),!1):e.key},onFocus:function(){d.mobile_ape_availees&&0!==d.mobile_ape_availees&&"0"!==d.mobile_ape_availees||m(!0)},onBlur:function(){m(!1)},labelWidth:0,name:"mobile_ape_availees",id:"mobileAPEs",inputProps:{min:"0"}})))))};ii.defaultProps=Kr;var oi=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"age_limit",title:"Minimum Age",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:0}},{name:"max_availee",title:"Max. Availee",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.max_availee?e.custom_metadata.max_availee:0}},{name:"payment",title:"Payment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.payment?e.custom_metadata.payment:""}},{name:"required",title:"Required",getCellValue:function(e){return!(!e.custom_metadata||!e.custom_metadata.required)&&e.custom_metadata.required}}],formattedColumns:{eligible_availees:["eligible_availees"],age_limit:["age_limit"],required:["required"],number:["max_availee"],payment:["payment"]},columnExtensions:[{columnName:"name",width:250,wordWrapEnabled:!0},{columnName:"parent_name",width:150,wordWrapEnabled:!0},{columnName:"eligible_availees",width:150,wordWrapEnabled:!0},{columnName:"age_limit",width:150,wordWrapEnabled:!0},{columnName:"max_availee",width:150,wordWrapEnabled:!0},{columnName:"payment",width:150,wordWrapEnabled:!0},{columnName:"required",width:150,wordWrapEnabled:!0}]},e,{rows:i}))))};oi.defaultProps=Kr;var li=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm2,o=e.subFormNode,l={};o&&o.custom_metadata&&o.custom_metadata.limit&&(l=o.custom_metadata.limit);var s=r,c="",m=Object(Ln.a)(Kn).find(function(e){return e.type===l.type});return m&&(c=m.value?m.value:""),n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},a?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Benefit"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:s}))),n.createElement(J.a,{item:!0,sm:12},a?l.limit&&l.limit_unit?n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(Hr,{label:"Amount Limit for all procedures",value:l.limit+" "+{amt_limit:"Amount Limit",max_session:"Max Session",max_amount:"Max Amount",percent_mbl:"Percent of MBL",percent_abl:"Percent of ABL",no_visits:"No. of Visits"}[l.limit_unit]})):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},"Amount Limit for all procedures"),n.createElement(S.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(Rr,{id:"limit","data-cy":"limit",fieldName:"limit",selectName:"limit_unit",fieldValue:l.limit,selectValue:c,fieldOnChange:function(e){var t=Object.assign({},l);t[e.target.name]=parseFloat(e.target.value),i("limit",t)},selectOnChange:function(e){var t=Object.assign({}),a=e.target.value,n=Object(Ln.a)(Kn).find(function(e){return e.label===a});n?(n.type&&(t.type=n.type),n.limit_unit&&(t.limit_unit=n.limit_unit),i("limit",t)):i("limit",t)},inputProps:{min:0},allowNegative:!1,noDefault:!0})))))};li.defaultProps=Kr;var si=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,columns:[{name:"name",title:"Category"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150},{columnName:"limit",width:150}]},e,{rows:i}))))};si.defaultProps=Kr;var ci=Object(y.a)(function(){return{fieldLabels:{color:"#272E4C",fontSize:"1rem"}}}),mi=function(e){var t=e.toString();if(e>999){var a=Math.floor(e),n=e-a,r=a.toString(),i=r.length%3;if(0===i){var o=r.match(/.{1,3}/g);o&&(t=o.join(",")+(n>0?"."+n:""))}else{var l=r.substring(0,i),s=r.substring(i).match(/.{1,3}/g);s&&(t=l+","+s.join(",")+(n>0?"."+n:""))}}return t},di=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.setSubForm,o=e.setSubForm2,l=e.subFormNode,s=ci(),c=Gr();console.log(a),console.log(e);var m={};l&&l.custom_metadata&&(m=l.custom_metadata);var d=a;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12,style:{paddingTop:24}},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,sm:12,md:5,style:{paddingRight:16}},r?n.createElement(Hr,{label:"Partner",value:m.dental_form_partner?m.dental_form_partner:"-"}):n.createElement(n.Fragment,null,n.createElement(F.a,{htmlFor:"dental_form_partner",className:s.fieldLabels,style:{marginBottom:8}},"Partner"),n.createElement(k.a,{margin:"normal",style:{width:"100%"}},n.createElement(A.a,{id:"dentalform_partner","data-cy":"dentalform_partner",onChange:function(e){o("dental_form_partner",e.target.value)},value:m.dental_form_partner?m.dental_form_partner:"",name:"dental_form_partner",input:n.createElement(P.a,{labelWidth:0,name:"dental_form_partner",id:"dental_form_partner"})},n.createElement(D.a,{value:""}),n.createElement(D.a,{id:"partner_intellicare","data-cy":"partner_intellicare",value:"Intellicare"},"Intellicare"),n.createElement(D.a,{id:"partner_dental_network","data-cy":"partner_dental_network",value:"Dental Network"},"Dental Network"))))),n.createElement(J.a,{item:!0,sm:12,md:4},r?n.createElement(Hr,{label:"Rate/Person",value:mi(m.dental_form_rate?m.dental_form_rate:0)+" PHP"}):n.createElement(n.Fragment,null,n.createElement(S.a,{className:s.fieldLabels},"Rate/Person"),n.createElement(Ir,{id:"dental_form_rate",fieldName:"dental_form_rate",selectName:"dental_form_rate_unit",fieldValue:m.dental_form_rate?m.dental_form_rate:0,selectValue:"PHP",disableSelect:!0,fieldOnChange:i,selectOnChange:i,inputProps:{min:0}}))),n.createElement(J.a,{item:!0,sm:12,md:3}))),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,columns:[{name:"name",title:"Category"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}],disableContractType:!0},e,{rows:d}))),n.createElement(J.a,{item:!0,sm:12},r?m.waiting_period_type&&void 0!==m.waiting_period_type?n.createElement(Hr,{label:"Activation",value:n.createElement("div",null,n.createElement("div",null,"effectivity"===m.waiting_period_type?"Waiting period after effectivity of member":"date_of_hire"===m.waiting_period_type?"Waiting period after date of hire":null),m.waiting_period?n.createElement("div",null,m.waiting_period_unit?Jr(m.waiting_period,m.waiting_period_unit):qr.formatNumber(m.waiting_period)):null)}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(k.a,{component:"fieldset"},n.createElement(Zr.a,{name:"waiting_period"},n.createElement(K.a,{classes:c,value:"waiting_period_effectivity",control:n.createElement(Jn.a,{id:"waiting_period_effectivity","data-cy":"waiting_period_effectivity",checked:"effectivity"===m.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"effectivity"!==m.waiting_period_type&&(o("waiting_period",""),o("waiting_period_unit",""),o("waiting_period_type","effectivity"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(k.a,null,n.createElement(zr,{disableSelect:"effectivity"!==m.waiting_period_type,disableInput:"effectivity"!==m.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===m.waiting_period_type?m.waiting_period:0,selectValue:"effectivity"===m.waiting_period_type?m.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0,allowNegative:!1})))}),n.createElement(K.a,{classes:c,value:"waiting_period_hire",control:n.createElement(Jn.a,{id:"waiting_period_hire","data-cy":"waiting_period_hire",checked:"date_of_hire"===m.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"date_of_hire"!==m.waiting_period_type&&(o("waiting_period",""),o("waiting_period_unit",""),o("waiting_period_type","date_of_hire"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(k.a,null,n.createElement(zr,{disableSelect:"date_of_hire"!==m.waiting_period_type,disableInput:"date_of_hire"!==m.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===m.waiting_period_type?m.waiting_period:0,selectValue:"date_of_hire"===m.waiting_period_type?m.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0,allowNegative:!1})))}))))))};di.defaultProps=Kr;var ui=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.subFormNode,o=e.setSubForm,l=e.setSubForm2,s=Gr(),c={};i&&i.custom_metadata&&(c=i.custom_metadata);var m=a.filter(function(e){return!!e.custom_metadata.is_excluded&&e.custom_metadata.is_excluded});return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,disableSelect:!0,columns:[{name:"name",title:"Excluded Medicine"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"availment",title:"Availment Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.availment?e.custom_metadata.availment:[]}}],formattedColumns:{limit_type:["limit_type"],limit:["limit"],availment:["availment"]},columnExtensions:[{columnName:"name",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"availment",width:175,wordWrapEnabled:!0}]},e,{rows:m}))),n.createElement(J.a,{item:!0,sm:12},r?c.limit_for_all&&c.limit_for_all_unit?n.createElement(Hr,{label:"Limit for All",value:c.limit_for_all+" "+c.limit_for_all_unit}):null:n.createElement(n.Fragment,null,n.createElement(k.a,{style:{marginBottom:"20px"}},n.createElement(S.a,{variant:"body1"},"Limit for All*"),n.createElement(Ir,{id:"limit_for_all",fieldName:"limit_for_all",selectName:"limit_for_all_unit",fieldValue:void 0!==c.limit_for_all&&""!==c.limit_for_all?c.limit_for_all:"",selectValue:void 0!==c.limit_for_all_unit?c.limit_for_all_unit:"",fieldOnChange:o,selectOnChange:o,inputProps:{min:0},allowNegative:!1})))),n.createElement(J.a,{item:!0,sm:12},r?c.waiting_period_type&&void 0!==c.waiting_period_type?n.createElement(Hr,{label:"Activation",value:n.createElement("div",null,n.createElement("div",null,"effectivity"===c.waiting_period_type?"Waiting period after effectivity of member":"date_of_hire"===c.waiting_period_type?"Waiting period after date of hire":null),c.waiting_period?n.createElement("div",null,c.waiting_period_unit?Jr(c.waiting_period,c.waiting_period_unit):qr.formatNumber(c.waiting_period)):null)}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(k.a,{component:"fieldset"},n.createElement(Zr.a,{name:"waiting_period"},n.createElement(K.a,{classes:s,value:"waiting_period_effectivity",control:n.createElement(Jn.a,{id:"outpatient_waiting_effectivity","data-cy":"outpatient_waiting_effectivity",checked:"effectivity"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"effectivity"!==c.waiting_period_type&&(l("waiting_period",""),l("waiting_period_unit",""),l("waiting_period_type","effectivity"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(k.a,null,n.createElement(zr,{disableSelect:"effectivity"!==c.waiting_period_type,disableInput:"effectivity"!==c.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===c.waiting_period_type?c.waiting_period:0,selectValue:"effectivity"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:o,selectOnChange:o,inputProps:{min:0},allowNegative:!1,noDefault:!0})))}),n.createElement(K.a,{classes:s,value:"waiting_period_hire",control:n.createElement(Jn.a,{id:"outpatient_waiting_hire","data-cy":"outpatient_waiting_hire",checked:"date_of_hire"===c.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"date_of_hire"!==c.waiting_period_type&&(l("waiting_period",""),l("waiting_period_unit",""),l("waiting_period_type","date_of_hire"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(k.a,null,n.createElement(zr,{disableSelect:"date_of_hire"!==c.waiting_period_type,disableInput:"date_of_hire"!==c.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===c.waiting_period_type?c.waiting_period:0,selectValue:"date_of_hire"===c.waiting_period_type?c.waiting_period_unit:"",fieldOnChange:o,selectOnChange:o,inputProps:{min:0},allowNegative:!1,noDefault:!0})))}))))))};ui.defaultProps=Kr;var pi=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.subFormNode,o=e.setSubForm;console.log(a);var l={};i&&i.custom_metadata&&(l=i.custom_metadata);var s=a;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,columns:[{name:"name",title:"Procedure"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],disableContractType:!0,formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:s}))),n.createElement(J.a,{item:!0,sm:12},r?l.limit_for_all&&l.limit_for_all_unit?n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(Hr,{label:"Peso Limit for all procedures",value:l.limit_for_all+" "+l.limit_for_all_unit})):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},"Peso Limit for all procedures"),n.createElement(S.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(Wr,{id:"amt_limit",fieldName:"amt_limit",selectName:"amt_limit_unit",fieldValue:void 0!==l.amt_limit?l.amt_limit:0,selectValue:void 0!==l.amt_limit_unit?l.amt_limit_unit:"",inputProps:{min:0},fieldOnChange:o,selectOnChange:o,allowNegative:!1})))))};pi.defaultProps=Kr;var fi=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.setSubForm,o=e.setSubForm2,l=e.subFormNode,s=Gr(),c=Object(n.useState)(!1),m=Object(g.a)(c,2),d=m[0],u=m[1],p={};l&&l.custom_metadata&&(p=l.custom_metadata);var f={premium:"Imputed in premiums",billback:"Bill back with admin fee",rider_fee:"1-time rider fee to be upon enrollment"},b=r;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},a?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:a,columns:[{name:"name",title:"Provision"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"availment",title:"Availment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.availment?e.custom_metadata.availment:[]}}],formattedColumns:{maternity_eligible_availees:["eligible_availees"],limit_type:["limit_type"],limit:["limit"],availment:["availment"]},columnExtensions:[{columnName:"eligible_availees",wordWrapEnabled:!0},{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:b}))),n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{item:!0,sm:12},a?p.availment_per_year?n.createElement(Hr,{label:"Availment Per Year",value:p.availment_per_year&&void 0!==p.availment_per_year?qr.formatNumber(p.availment_per_year):"--"}):null:n.createElement(n.Fragment,null,n.createElement(F.a,{htmlFor:"availmentPerYear"},"Availment Per Year"),n.createElement(k.a,{margin:"normal",style:{marginBottom:"20px"}},n.createElement(P.a,{"data-cy":"availmentPerYear",onChange:function(e){u(!1),i(e)},value:d?"":p.availment_per_year?p.availment_per_year:0,type:"tel",labelWidth:0,name:"availment_per_year",id:"availmentPerYear",onFocus:function(){p.availment_per_year&&0!==p.availment_per_year&&"0"!==p.availment_per_year||u(!0)},onBlur:function(){u(!1)},inputProps:{min:0}})))),n.createElement(J.a,{item:!0,sm:12},a?p.waiting_period_type&&void 0!==p.waiting_period_type?n.createElement(Hr,{label:"Activation",value:n.createElement("div",null,n.createElement("div",null,"effectivity"===p.waiting_period_type?"Waiting period after effectivity of member":"date_of_hire"===p.waiting_period_type?"Waiting period after date of hire":null),p.waiting_period?n.createElement("div",null,p.waiting_period_unit?Jr(p.waiting_period,p.waiting_period_unit):qr.formatNumber(p.waiting_period)):null)}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(k.a,{component:"fieldset"},n.createElement(Zr.a,{name:"waiting_period"},n.createElement(K.a,{classes:s,value:"waiting_period_effectivity",control:n.createElement(Jn.a,{id:"maternity_waiting_effectivity","data-cy":"maternity_waiting_effectivity",checked:"effectivity"===p.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"effectivity"!==p.waiting_period_type&&(o("waiting_period",""),o("waiting_period_unit",""),o("waiting_period_type","effectivity"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(k.a,null,n.createElement(zr,{disableSelect:"effectivity"!==p.waiting_period_type,disableInput:"effectivity"!==p.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===p.waiting_period_type?p.waiting_period:0,selectValue:"effectivity"===p.waiting_period_type?p.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0,allowNegative:!1})))}),n.createElement(K.a,{classes:s,value:"waiting_period_hire",control:n.createElement(Jn.a,{id:"maternity_waiting_hire","data-cy":"maternity_waiting_hire",checked:"date_of_hire"===p.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"date_of_hire"!==p.waiting_period_type&&(o("waiting_period",""),o("waiting_period_unit",""),o("waiting_period_type","date_of_hire"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(k.a,null,n.createElement(zr,{disableSelect:"date_of_hire"!==p.waiting_period_type,disableInput:"date_of_hire"!==p.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===p.waiting_period_type?p.waiting_period:0,selectValue:"date_of_hire"===p.waiting_period_type?p.waiting_period_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},noDefault:!0})))}))))),n.createElement(J.a,{item:!0,sm:12},a?f[p.billing_arangement]?n.createElement(Hr,{label:"Billing arrangement",value:n.createElement("div",null,n.createElement("div",null,f[p.billing_arangement]),p.billback_fee?n.createElement("div",null,"".concat(p.billback_fee," ").concat("percent"===p.billback_type?"%":p.billback_type)):null,p.rider_fee?n.createElement("div",null,"".concat(p.rider_fee," ").concat(p.rider_fee_unit)):null)}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(Zr.a,{name:"billing_arangement"},n.createElement(k.a,{component:"fieldset"},n.createElement(K.a,{value:"premium",control:n.createElement(Jn.a,{id:"maternity_premium","data-cy":"maternity_premium",checked:"premium"===p.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),"premium"!==p.billing_arangement&&(o("billback_fee",null),o("billback_type",null),o("rider_fee",null),o("rider_fee_unit",null),o("billing_arangement","premium"))}}),label:f.premium})),n.createElement(k.a,{component:"fieldset"},n.createElement(K.a,{classes:s,value:"billback",control:n.createElement(Jn.a,{id:"maternity_billback","data-cy":"maternity_billback",checked:"billback"===p.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),"billback"!==p.billing_arangement&&(o("billback_fee",15),o("billback_type","percent"),o("rider_fee",null),o("rider_fee_unit",null),o("billing_arangement","billback"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},f.billback),n.createElement("div",{style:{display:"billback"===p.billing_arangement?"block":"none"}},n.createElement(ei,{id:"billback_fee",variant:"outlined",fieldName:"billback_fee",selectName:"billback_type",fieldValue:"billback"===p.billing_arangement?p.billback_fee:0,selectValue:"billback"===p.billing_arangement?p.billback_type:"percent",fieldOnChange:i,selectOnChange:i,allowNegative:!1})))})),n.createElement(k.a,{component:"fieldset"},n.createElement(K.a,{classes:s,value:"rider_fee",control:n.createElement(Jn.a,{id:"maternity_rider_fee","data-cy":"maternity_rider_fee",checked:"rider_fee"===p.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),"rider_fee"!==p.billing_arangement&&(o("billback_fee",null),o("billback_type",null),o("rider_fee",""),o("rider_fee_unit","PHP"),o("billing_arangement","rider_fee"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},f.rider_fee),n.createElement("div",{style:{display:"rider_fee"===p.billing_arangement?"block":"none"}},n.createElement(S.a,{variant:"body1"},"Fee"),n.createElement(Ir,{id:"fee_field",disabled:"rider_fee"!==p.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===p.billing_arangement?p.rider_fee:0,selectValue:"rider_fee"===p.billing_arangement?p.rider_fee_unit:"",fieldOnChange:i,selectOnChange:i,inputProps:{min:0},allowNegative:!1})))})))))))};fi.defaultProps=Kr;var bi=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly;console.log(a);var i=a;if(r){var o=!0;i=a.filter(function(){return!!o&&(o=!1,!0)})}return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,selectionType:"radio",disableContractType:!0,formattedColumns:{member_type:["member_type"]},columnExtensions:[{columnName:"member_type",width:250,wordWrapEnabled:!0}],columns:[{name:"plan",title:"Plan",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"member_type",title:"Member Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.member_type?e.custom_metadata.member_type:[]}}]},e,{rows:i}))))};bi.defaultProps=Kr;var gi=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"cost",width:150,wordWrapEnabled:!0}],formattedColumns:{php:["cost"],limit:["limit"],limit_type:["limit_type"]},columns:[{name:"provision",title:"Provision",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],disableContractType:!0},e,{rows:i}))))};gi.defaultProps=Kr;var _i=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=a;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,formattedColumns:{member_type:["member_type"],plan_type:["plan_type"],php:["peso_limit_amt"]},columns:[{name:"name",title:"Provision"},{name:"member_type",title:"Member Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.member_type?e.custom_metadata.member_type:[]}},{name:"plan_type",title:"Plan Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.plan_type?e.custom_metadata.plan_type:[]}},{name:"peso_limit_amt",title:"Peso Limit Amount",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.peso_limit_amt?e.custom_metadata.peso_limit_amt:""}}],columnExtensions:[{columnName:"peso_limit_amt",width:150,wordWrapEnabled:!0}],disableContractType:!0},e,{rows:i}))))};_i.defaultProps=Kr;var hi=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,i=e.setSubForm2,o=e.subFormNode,l=e.setSubForm,s=Gr(),c={};o&&o.custom_metadata&&(c=o.custom_metadata);var m={premium:"Imputed in premiums",fixed_rate_rider:"Scheduled fixed rate for the entire rider",fixed_rate_personnel:"Scheduled fixed rate per personnel deployed",soa_rate:"Scheduled SOA based on fixed rate/hour/personnel deployed",soa_actual_cost:"Scheduled SOA based on actual cost of personnel deployed",rider_fee:"1-time rider fee to be upon start of contract"},d=a;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},r?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:r,columnExtensions:[{columnName:"name",width:200,wordWrapEnabled:!0},{columnName:"number",width:150,wordWrapEnabled:!0},{columnName:"no_of_days",width:150,wordWrapEnabled:!0},{columnName:"days_deployed",width:200,wordWrapEnabled:!0},{columnName:"time_from",width:150,filteringEnabled:!1,wordWrapEnabled:!0},{columnName:"time_to",width:150,filteringEnabled:!1,wordWrapEnabled:!0}],formattedColumns:{day:["days_deployed"],number:["number","no_of_days"],time:["time_from","time_to"]},columns:[{name:"name",title:"Personnel"},{name:"number",title:"Number",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.number?e.custom_metadata.number:""}},{name:"no_of_days",title:"No. of Days",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.no_of_days?e.custom_metadata.no_of_days:""}},{name:"days_deployed",title:"Days Deployed",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.days_deployed?e.custom_metadata.days_deployed:[]}},{name:"time_from",title:"Time From",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.time_from?e.custom_metadata.time_from:""}},{name:"time_to",title:"Time To",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.time_to?e.custom_metadata.time_to:""}}]},e,{rows:d}))),n.createElement(J.a,{item:!0,sm:12},r?c.billing_arangement?n.createElement(Hr,{label:"Billing arrangement",value:n.createElement("div",null,n.createElement("div",null,m[c.billing_arangement]),c.billback_fee?n.createElement("div",null,"".concat(c.billback_fee," ").concat("percent"===c.billback_type?"%":c.billback_type)):null,c.rider_fee?n.createElement("div",null,"".concat(c.rider_fee," ").concat(c.rider_fee_unit)):null)}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(k.a,{component:"fieldset"},n.createElement(Zr.a,{name:"billing_arangement"},n.createElement(K.a,{value:"premium",control:n.createElement(Jn.a,{id:"corporate_clinic_premium","data-cy":"corporate_clinic_premium",checked:"premium"===c.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),i("billing_arangement","premium"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.premium}),n.createElement(K.a,{value:"fixed_rate_rider",control:n.createElement(Jn.a,{id:"corporate_clinic_fixed_rider","data-cy":"corporate_clinic_fixed_rider",checked:"fixed_rate_rider"===c.billing_arangement,name:"fixed_rate_rider",onClick:function(e){e.stopPropagation(),i("billing_arangement","fixed_rate_rider"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.fixed_rate_rider}),n.createElement(K.a,{value:"fixed_rate_personnel",control:n.createElement(Jn.a,{id:"corporate_clinic_personnel","date-cy":"corporate_clinic_personnel",checked:"fixed_rate_personnel"===c.billing_arangement,name:"fixed_rate_personnel",onClick:function(e){e.stopPropagation(),i("billing_arangement","fixed_rate_personnel"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.fixed_rate_personnel}),n.createElement(K.a,{value:"soa_rate",control:n.createElement(Jn.a,{id:"corporate_clinic_soa_rate","data-cy":"corporate_clinic_soa_rate",checked:"soa_rate"===c.billing_arangement,name:"soa_rate",onClick:function(e){e.stopPropagation(),i("billing_arangement","soa_rate"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.soa_rate}),n.createElement(K.a,{value:"soa_actual_cost",control:n.createElement(Jn.a,{id:"corporate_clinic_soa_actual","data-cy":"corporate_clinic_soa_actual",checked:"soa_actual_cost"===c.billing_arangement,name:"soa_actual_cost",onClick:function(e){e.stopPropagation(),i("billing_arangement","soa_actual_cost"),i("rider_fee",0),i("rider_fee_unit","")}}),label:m.soa_actual_cost}),n.createElement(K.a,{classes:s,value:"rider_fee",control:n.createElement(Jn.a,{id:"corporate_clinic_rider_fee","data-cy":"corporate_clinic_rider_fee",checked:"rider_fee"===c.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),i("billing_arangement","rider_fee"),i("rider_fee",0),i("rider_fee_unit","PHP")}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0,style:{paddingTop:"8px"}},m.rider_fee),n.createElement("div",{style:{display:"rider_fee"===c.billing_arangement?"block":"none"}},n.createElement(S.a,{variant:"body1"},"Fee"),n.createElement(Ir,{id:"fee_field","data-cy":"fee_field",disabled:"rider_fee"!==c.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===c.billing_arangement?c.rider_fee:0,selectValue:"rider_fee"===c.billing_arangement?c.rider_fee_unit:"PHP",fieldOnChange:l,selectOnChange:l,inputProps:{min:0},allowNegative:!1})))}))))))};hi.defaultProps=Kr;var vi=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,i=e.subFormNode,o=e.setSubForm,l=e.setSubForm2,s=Gr(),c=Object(n.useState)("inpatient"),m=Object(g.a)(c,2),d=m[0],u=m[1],p={};i&&i.custom_metadata&&(p=i.custom_metadata);var f={imputed_in_premiums:"Imputed in premiums",billback:"Bill back with admin fee",billback_net:"Bill back, net of APE cost with admin fee",rider_fee:"1-time rider fee to be upon enrollment"},b=r;return n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{container:!0,spacing:2},a?null:t)),n.createElement(J.a,{item:!0,sm:12},n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Type"),n.createElement(Zr.a,{name:"type",value:d,row:!0},n.createElement(K.a,{onClick:function(){return u("inpatient")},value:"inpatient",control:n.createElement(Jn.a,{id:"benefit_type_inpatient","data-cy":"benefit_type_inpatient",checked:"inpatient"===p.benefit_type,name:"inpatient",onClick:function(e){e.stopPropagation(),l("benefit_type","inpatient")}}),label:"Inpatient"}),n.createElement(K.a,{onClick:function(){return u("outpatient")},value:"outpatient",control:n.createElement(Jn.a,{checked:"outpatient"===p.benefit_type,id:"benefit_type_outpatient","data-cy":"benefit_type_outpatient",name:"outpatient",onClick:function(e){e.stopPropagation(),l("benefit_type","outpatient")}}),label:"Outpatient"}))),n.createElement(J.a,{item:!0,sm:12},n.createElement(Mr,Object.assign({viewOnly:a,columnExtensions:[{columnName:"benefit",width:200,wordWrapEnabled:!0},{columnName:"eligibility",width:150},{columnName:"no_of_members",width:200},{columnName:"number",width:150},{columnName:"peso_limit",width:150}],formattedColumns:{number:["number"],php:["peso_limit"],eligibility:["eligibility"],no_of_members:["no_of_members"]},columns:[{name:"benefit",title:"Benefit",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"eligibility",title:"Eligibility",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligibility?e.custom_metadata.eligibility:[]}},{name:"no_of_members",title:"No. of Members",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.no_of_members?e.custom_metadata.no_of_members:0}},{name:"number",title:"Number",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.number?e.custom_metadata.number:0}},{name:"peso_limit",title:"Peso Limit",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.peso_limit?e.custom_metadata.peso_limit:""}}]},e,{rows:b}))),n.createElement(J.a,{item:!0,sm:12},n.createElement(J.a,{item:!0,sm:12},a?p.waiting_period_type&&void 0!==p.waiting_period_type?n.createElement(Hr,{label:"Activation",value:n.createElement("div",null,n.createElement("div",null,"effectivity"===p.waiting_period_type?"Waiting period after effectivity of member":"date_of_hire"===p.waiting_period_type?"Waiting period after date of hire":null),p.waiting_period?n.createElement("div",null,p.waiting_period_unit?Jr(p.waiting_period,p.waiting_period_unit):qr.formatNumber(p.waiting_period)):null)}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(k.a,{component:"fieldset"},n.createElement(Zr.a,{name:"waiting_period"},n.createElement(K.a,{classes:s,value:"waiting_period_effectivity",control:n.createElement(Jn.a,{id:"executive_waiting_period_effectivity","data-cy":"executive_waiting_period_effectivity",checked:"effectivity"===p.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"effectivity"!==p.waiting_period_type&&(l("waiting_period",""),l("waiting_period_unit",""),l("waiting_period_type","effectivity"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(k.a,null,n.createElement(zr,{disableSelect:"effectivity"!==p.waiting_period_type,disableInput:"effectivity"!==p.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===p.waiting_period_type?p.waiting_period:0,selectValue:"effectivity"===p.waiting_period_type?p.waiting_period_unit:"",fieldOnChange:o,selectOnChange:o,inputProps:{min:0},allowNegative:!1,noDefault:!0})))}),n.createElement(K.a,{classes:s,value:"waiting_period_hire",control:n.createElement(Jn.a,{id:"executive_waiting_period_hire","data-cy":"executive_waiting_period_hire",checked:"date_of_hire"===p.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),"date_of_hire"!==p.waiting_period_type&&(l("waiting_period",""),l("waiting_period_unit",""),l("waiting_period_type","date_of_hire"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(k.a,null,n.createElement(zr,{disableSelect:"date_of_hire"!==p.waiting_period_type,disableInput:"date_of_hire"!==p.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===p.waiting_period_type?p.waiting_period:0,selectValue:"date_of_hire"===p.waiting_period_type?p.waiting_period_unit:"",fieldOnChange:o,selectOnChange:o,inputProps:{min:0},allowNegative:!1,noDefault:!0})))}))))),a?f[p.billing_arangement]?n.createElement(Hr,{label:"Billing arrangement",value:n.createElement("div",null,n.createElement("div",null,f[p.billing_arangement]),p.billback_fee?n.createElement("div",null,"".concat(p.billback_fee," ").concat("percent"===p.billback_type?"%":p.billback_type)):null,p.billback_net_fee?n.createElement("div",null,"".concat(p.billback_net_fee," ").concat("percent"===p.billback_net_type?"%":p.billback_net_type)):null,p.rider_fee?n.createElement("div",null,"".concat(p.rider_fee," ").concat(p.rider_fee_unit)):null)}):null:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(Zr.a,{name:"billing_arangement"},n.createElement(k.a,{component:"fieldset"},n.createElement(K.a,{value:"imputed_in_premiums",control:n.createElement(Jn.a,{id:"imputed_in_premiums","data-cy":"imputed_in_premiums",checked:"imputed_in_premiums"===p.billing_arangement,name:"imputed_in_premiums",onClick:function(e){e.stopPropagation(),"imputed_in_premiums"!==p.billing_arangement&&(l("billback_fee",null),l("billback_type",null),l("rider_fee",null),l("rider_fee_unit",null),l("billing_arangement","imputed_in_premiums"))}}),label:f.imputed_in_premiums})),n.createElement(k.a,{component:"fieldset"},n.createElement(K.a,{value:"billback",control:n.createElement(Jn.a,{checked:"billback"===p.billing_arangement,id:"billback","data-cy":"billback",name:"billback",onClick:function(e){e.stopPropagation(),"billback"!==p.billing_arangement&&(l("billback_fee",15),l("billback_type","percent"),l("rider_fee",null),l("rider_fee_unit",null),l("billback_net_fee",null),l("billback_net_type",null),l("billing_arangement","billback"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},f.billback),n.createElement("div",{style:{display:"billback"===p.billing_arangement?"block":"none"}},n.createElement(ei,{id:"billback_fee",variant:"outlined",fieldName:"billback_fee",selectName:"billback_type",fieldValue:"billback"===p.billing_arangement?p.billback_fee:0,selectValue:"billback"===p.billing_arangement?p.billback_type:"percent",fieldOnChange:o,selectOnChange:o,allowNegative:!1})))})),n.createElement(k.a,{component:"fieldset"},n.createElement(K.a,{value:"billback_net",control:n.createElement(Jn.a,{id:"billback_net","data-cy":"billback_net",checked:"billback_net"===p.billing_arangement,name:"billback_net",onClick:function(e){e.stopPropagation(),"billback_net"!==p.billing_arangement&&(l("billback_fee",null),l("billback_type",null),l("rider_fee",null),l("rider_fee_unit",null),l("billback_net_fee",""),l("billback_net_type","percent"),l("billing_arangement","billback_net"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},f.billback_net),n.createElement("div",{style:{display:"billback_net"===p.billing_arangement?"block":"none"}},n.createElement(ei,{id:"billback_fee",variant:"outlined",fieldName:"billback_net_fee",selectName:"billback_net_type",fieldValue:"billback_net"===p.billing_arangement?p.billback_net_fee:0,selectValue:"billback_net"===p.billing_arangement?p.billback_net_type:"percent",fieldOnChange:o,selectOnChange:o,allowNegative:!1})))})),n.createElement(k.a,{component:"fieldset"},n.createElement(K.a,{classes:s,value:"rider_fee",control:n.createElement(Jn.a,{id:"executive_rider_fee","data-cy":"executive_rider_fee",checked:"rider_fee"===p.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),"rider_fee"!==p.billing_arangement&&(l("billback_fee",null),l("billback_type",null),l("rider_fee",""),l("rider_fee_unit","PHP"),l("billback_net_fee",null),l("billback_net_type",null),l("billing_arangement","rider_fee"))}}),label:n.createElement(n.Fragment,null,n.createElement(S.a,{variant:"body1",gutterBottom:!0},f.rider_fee),n.createElement("div",{style:{display:"rider_fee"===p.billing_arangement?"block":"none"}},n.createElement(S.a,{variant:"body1"},"Fee"),n.createElement(Ir,{id:"fee_field",disabled:"rider_fee"!==p.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===p.billing_arangement?p.rider_fee:0,selectValue:"rider_fee"===p.billing_arangement?p.rider_fee_unit:"PHP",fieldOnChange:o,selectOnChange:o,inputProps:{min:0},allowNegative:!1})))}))))))};vi.defaultProps=Kr;var Ei=function(e){var t=e.rows,a=e.subFormNode,r="";a&&a.code&&(r=a.code),console.log("rows",t);return"RB"===r?n.createElement(ni,Object.assign({formHeader:null},e)):"APE"===r?n.createElement(ii,Object.assign({formHeader:null},e)):"PPE"===r?n.createElement(oi,Object.assign({formHeader:null},e)):"IP"===r?n.createElement(Xr,Object.assign({formHeader:null},e)):"OP"===r?n.createElement(li,Object.assign({formHeader:null},e)):"DNT"===r?n.createElement(di,Object.assign({formHeader:null},e)):"EM"===r?n.createElement(si,Object.assign({formHeader:null},e)):"OM"===r?n.createElement(ui,Object.assign({formHeader:null},e)):"SD"===r?n.createElement(pi,Object.assign({formHeader:null},e)):"MT"===r?n.createElement(fi,Object.assign({formHeader:null},e)):"SH"===r?n.createElement(bi,Object.assign({formHeader:null},e)):"PV"===r?n.createElement(gi,Object.assign({formHeader:null},e)):"ADD"===r?n.createElement(_i,Object.assign({formHeader:null},e)):"CC"===r?n.createElement(hi,Object.assign({formHeader:null},e)):"EC"===r?n.createElement(vi,Object.assign({formHeader:null},e)):t.length>0?n.createElement(ri,Object.assign({formHeader:null},e)):null};Ei.defaultProps={subFormNode:{},rows:[],viewOnly:!1,filters:null,setFilters:null};a(138),a(799);var yi=Object(y.a)({container:{},leftSection:{borderRight:"#3C394A22 solid 1px"}}),xi=function(e){var t=yi(),a=Object(n.useState)(null),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(null),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)([]),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)([]),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Object(n.useState)(null),x=Object(g.a)(y,2),O=x[0],C=x[1],S=Object(n.useState)([]),w=Object(g.a)(S,2),k=w[0],j=w[1],N=Object(n.useState)([]),D=Object(g.a)(N,2),T=D[0],M=D[1];Object(n.useEffect)(function(){e.memberBenefits&&e.memberBenefits.length>0&&F()},[e.memberBenefits]),Object(n.useEffect)(function(){P()},[f,O]),Object(n.useEffect)(function(){B()},[O]),Object(n.useEffect)(function(){A()},[k]);var F=function(){var t=null,a=null,n=Object(Tn.filter)(e.memberBenefits,function(e){return Object(Tn.toLower)(e.name)===Object(Tn.toLower)("Room and board")&&(t=e),3===e.level&&"PlanType"===e.type&&(a=e),4===e.level}),r=Object(Tn.sortBy)(n,function(e){return function(e){switch(Object(Tn.toUpper)(e)){case"RB":return 1;case"CV":return 2;case"RI":return 3;default:return 999}}(e.code)});b(r),l(t),d(a),O||C(t)},P=function(){var t=Object(Tn.map)(f,function(t){var a=function(t){return o&&Object(Tn.toLower)(o.name)===Object(Tn.toLower)(t.name)?[]:Object(Tn.filter)(e.memberBenefits,function(e){var a=e.tree_id,n=t.tree_id;return null!==m&&(a=Object(Tn.replace)(e.tree_id,"BASE",m.code),n=Object(Tn.replace)(t.tree_id,"BASE",m.code)),5===e.level&&Object(Tn.startsWith)(a,n)})}(t);return function(e,t){var a=o&&Object(Tn.toLower)(o.name)===Object(Tn.toLower)(e.name),n=O&&O.tree_id===e.tree_id;return r.a.createElement("div",{key:"left-item-".concat(e.tree_id),className:"sub-section"},r.a.createElement("div",{id:"room_and_board_"+e.name,"data-cy":"room_and_board_"+e.tree_id,className:Object(tt.default)("light-text","header-1",{"plan-package-selected":n,"plan-package-clickable":a}),onClick:function(){a&&C(e)}},e.name),r.a.createElement(ce.a,{className:Object(tt.default)("side-menu-list")},t))}(t,Object(Tn.map)(a,function(e){var t=O&&O.tree_id===e.tree_id;return r.a.createElement(me.a,{key:"left-list-item-".concat(e.tree_id)},r.a.createElement(ue.a,{id:"benefit_categories_"+e.tree_id,"data-cy":"benefit_categories_"+e.tree_id,className:Object(tt.default)(t?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){t||C(e)}},e.name))}))});E(t)},A=function(){M(k)},B=function(){if(e.memberBenefits){if(o&&O&&Object(Tn.startsWith)(o.tree_id,O.tree_id))return void I();var t=Object(Tn.filter)(e.memberBenefits,function(e){var t=e.tree_id,a=O.tree_id;return null!==m&&(t=Object(Tn.replace)(e.tree_id,"BASE",m.code),a=Object(Tn.replace)(O.tree_id,"BASE",m.code)),6===e.level&&O&&Object(Tn.startsWith)(t,a)}),a=Object(Tn.filter)(e.memberBenefits,function(e){var t=e.tree_id,a=O.tree_id;return null!==m&&(t=Object(Tn.replace)(e.tree_id,"BASE",m.code),a=Object(Tn.replace)(O.tree_id,"BASE",m.code)),7===e.level&&O&&Object(Tn.startsWith)(t,a)}),n=R(t,a);j(n)}},I=function(){var t=Object(Tn.filter)(e.memberBenefits,function(e){var t=e.tree_id,a=o.tree_id;return null!==m&&(t=Object(Tn.replace)(e.tree_id,"BASE",m.code),a=Object(Tn.replace)(o.tree_id,"BASE",m.code)),5===e.level&&Object(Tn.startsWith)(t,a)});if(t){var a=[];Object(Tn.forEach)(t,function(e){var t=L(e,null);a.push.apply(a,Object(Ln.a)(t))}),j(a)}},R=function(e,t){return Object(Tn.reduce)(e,function(e,a){if(a.children&&a.children.length>0)Object(Tn.forEach)(a.children,function(n){var r=Object(Tn.find)(t,function(e){return n===e._id});if(r){var i=L(a,r);e.push.apply(e,Object(Ln.a)(i))}else{var o=L(a,null);e.push.apply(e,Object(Ln.a)(o))}});else{var n=L(a,null);e.push.apply(e,Object(Ln.a)(n))}return e},[])},L=function(e,t){var a=[],n="";return O&&O.code&&(n=O.code),t?a.push({parent_name:e.name,name:t?t.name:"----",custom_metadata:t.custom_metadata?t.custom_metadata:[],limits:t.limits?t.limits:[]}):["RB","EM","DNT","CC","EC","PV","SH","ADD","SD","OM"].includes(n)&&a.push({name:e.name,custom_metadata:e.custom_metadata?e.custom_metadata:[],limits:e.limits?e.limits:[]}),a};return r.a.createElement("div",{className:Object(tt.default)("BenefitsTable")},r.a.createElement(J.a,{container:!0,className:t.container,spacing:4,direction:"row",justify:"flex-start",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:2,className:Object(tt.default)(t.leftSection)},v),r.a.createElement(J.a,{item:!0,xs:10},r.a.createElement(Ei,{subFormNode:O,rows:T,viewOnly:!0}))))},Oi=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={response:null,allMemberBenefits:[],filteredMemberBenefits:[],globalFilter:"",columnFilters:[]},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.memberId;e&&e.length>0&&this.loadBenefitsData()}},{key:"componentDidUpdate",value:function(e){this.props.memberId!==e.memberId&&this.loadBenefitsData()}},{key:"loadBenefitsData",value:function(){var e=this,t=this.props,a=t.memberId,n=t.contractId,r=t.setIsLoading;a&&0!==a.length&&(r&&r(!0),An.findMemberBenefitsByContact(a,n).then(function(t){if(t&&void 0===t.error){var a=t.sort(function(e,t){if(e.plan_type_rank&&t.plan_type_rank){if(e.plan_type_rank<t.plan_type_rank)return-1;if(e.plan_type_rank>t.plan_type_rank)return 1}return e.plan_type_rank?-1:t.plan_type_rank?1:e.sort_index>t.sort_index?-1:e.sort_index<t.sort_index?1:e.name>t.name?1:e.name<t.name?-1:0});e.setState({response:a},function(){r&&r(!1)})}else r&&r(!1)}))}},{key:"render",value:function(){var e=this.state.response;return n.createElement("div",{className:"MemberBenefitsPage section"},n.createElement(J.a,{container:!0,className:"sub-section",spacing:5},n.createElement(J.a,{item:!0,xs:12},n.createElement(xi,{memberBenefits:e}))),n.createElement("div",{className:"section"}))}}]),t}(n.Component),Ci=a(276),Si=a.n(Ci),wi=(n.Component,a(30));function ki(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ji(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ki(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ki(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ni=Object(y.a)({root:{display:"flex",flexDirection:"column"},inputLabel:{color:"#272e4c"},textField:function(e){return{marginTop:"10px",marginBottom:"20px",width:e.width}},outlinedInputInput:{padding:"12.5px 14px"},errorText:{color:"#E53935",marginBottom:"15px",marginTop:"0px"}}),Di=function(e){var t=Ni(e),a=e.TextFieldProps;a=ji({},a,{variant:"outlined"});var n=e.InputProps;return n=ji({},n,{classes:{input:t.outlinedInputInput}}),r.a.createElement("div",{className:t.root},r.a.createElement(F.a,{htmlFor:e.id,className:t.inputLabel,style:{fontSize:e.labelFontSize?e.labelFontSize:""}},e.label),r.a.createElement(j.a,Object.assign({type:e.type?e.type:void 0,id:e.id,"data-cy":e.id,className:t.textField,inputProps:n,value:e.value,onChange:e.onChange},a,{error:!!e.error&&e.error,disabled:!!e.disabled&&e.disabled,rows:e.rows?e.rows:"1",multiline:!!e.rows})),e.error&&void 0!==e.error_message&&""!==e.error_message?r.a.createElement(R.a,{className:t.errorText},e.error_message):null)},Ti=Object(y.a)({inputLabel:{color:"#272e4c"},formControl:function(e){return{marginTop:"10px",marginBottom:"20px",minWidth:e.width}},menuItem:{color:"#272e4c"},outlinedInput:{padding:"12.5px 14px",color:"#272e4c"}}),Mi=function(e){var t=Ti(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{htmlFor:e.id,className:t.inputLabel,style:{fontSize:e.labelFontSize?e.labelFontSize:""}},e.label),r.a.createElement(k.a,{className:t.formControl,style:{marginTop:e.marginTop?e.marginTop:"",marginBottom:e.marginBottom?e.marginBottom:""}},r.a.createElement(A.a,{input:r.a.createElement(P.a,{id:e.id,"data-cy":e.id,labelWidth:0,classes:{input:t.outlinedInput}}),value:e.value,onChange:e.onChange,error:!!e.error&&e.error,disabled:!!e.disabled&&e.disabled},function(){var a=[];return e.menuItems&&e.menuItems.map(function(e,n){return a.push(r.a.createElement(D.a,{key:n,value:e.value,className:t.menuItem},e.name)),null}),a}())))};var Fi=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",maxWidth:"380px",maxHeight:"250px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},boldText:{fontWeight:"bold"},cancelButton:{marginRight:25,paddingLeft:"24px",paddingRight:"24px",border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{marginLeft:25,paddingLeft:"24px",paddingRight:"24px",textTransform:"none"},primary:{border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},danger:{color:"#FFFFFF",border:"1px solid #fd5451",backgroundColor:"#fd5451","&:hover":{backgroundColor:"#fd2724"}},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),Pi=function(e){var t=e.isModalOpen,a=e.id,r=Fi(),i=n.useState(""),o=Object(g.a)(i,2),l=o[0],s=o[1],c=function(){var e=Object(n.useState)(!0),t=Object(g.a)(e,2),a=t[0],r=t[1];function i(e){r(navigator.onLine),e.type}return Object(n.useEffect)(function(){return window.addEventListener("online",i),window.addEventListener("offline",i),function(){window.removeEventListener("online",i),window.removeEventListener("offline",i)}}),{online:a}}();return n.useEffect(function(){e.variant&&s(e.variant)},[e.variant]),n.createElement(U.a,{id:a,open:t&&!c.online,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},"Connection Error",n.createElement(ne.a,{"aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 15px 0px 15px"}},n.createElement(H.a,{className:r.dialogContentText},"Slow or no internet connection. Please check your internet setting.")),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{className:Object(tt.default)(r.submitButton,r[l]),variant:"contained",onClick:e.onClose},"OK"))))))};Pi.defaultProps={id:"confirm-modal-id",isModalOpen:!1,variant:"primary"};var Ai=Object(y.a)({grid:function(e){return{height:e.height}}}),Bi=function(e){var t=Ai(e);return n.createElement(J.a,{item:!0,xs:12,className:t.grid})};Bi.defaultProps={height:"10px"};var Ii=a(2091),Ri=a(2092),Li=a(2093),Wi=a(2094),zi=a(2119),Ui=(a(307),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:parseInt(e.target.value,10),page:0})},a.resetPage=function(){a.setState({page:0})},a.getSlicedData=function(){if(a.props.rowsPerPageOptions){var e=a.state.page*a.state.rowsPerPage;return a.props.rows.slice(e,e+a.state.rowsPerPage)}return a.props.rows},a.state={page:0,rowsPerPage:0,filterData:{}},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.rowsPerPageOptions&&this.setState({rowsPerPage:this.props.rowsPerPageOptions[0]})}},{key:"componentWillUpdate",value:function(e,t){this.state.page==t.page&&this.state.rowsPerPage==t.rowsPerPage||this.props.onChangeState&&this.props.onChangeState(t.page,t.rowsPerPage)}},{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement("div",{style:{overflow:this.props.canOverflow?"auto":"none"}},n.createElement(Ri.a,{className:"".concat(this.props.className?this.props.className:""," table"),stickyHeader:!!this.props.stickyHeader&&this.props.stickyHeader},n.createElement(Li.a,null,this.props.columns?n.createElement(Ii.a,null,this.props.columns.map(function(e){return n.createElement(qn.a,null,e.label)})):this.props.renderHeader?n.createElement(Ii.a,null,this.props.renderHeader()):null),n.createElement(Wi.a,null,this.props.renderRow?this.props.rows.length>0?this.getSlicedData().map(function(t,a){return e.props.renderRow(t,a)}):n.createElement(Ii.a,null,n.createElement(qn.a,{colSpan:999,style:{textAlign:"center"}},this.props.noRowsMessage?this.props.noRowsMessage:"No data found")):null))),this.props.rowsPerPageOptions?n.createElement(zi.a,{className:"".concat(this.props.paginationClass?this.props.paginationClass:""," pagination MuiTablePagination-root"),rowsPerPageOptions:this.props.rowsPerPageOptions,count:this.props.rows.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,labelDisplayedRows:function(t){return e.props.onChangeInfo?e.props.onChangeInfo(t):"".concat(t.from,"-").concat(t.to," of ").concat(t.count)},labelRowsPerPage:this.props.labelRowsPerPage?this.props.labelRowsPerPage:"Rows per page:",onChangePage:function(t,a){e.setState({page:a})},onChangeRowsPerPage:function(t){e.setState({rowsPerPage:parseInt(t.target.value,10),page:0})}}):null)}}]),t}(n.PureComponent)),Yi=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"icon-button",onClick:function(){return e.props.onClick()}},this.props.icon?n.createElement(X.a,{icon:this.props.icon,size:this.props.size}):null)}}]),t}(n.Component),Vi=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value||this.props.error!==e.error}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:this.props.disabled?"text-disabled text":"text"},this.props.placeholder):null,n.createElement("input",{type:"text",disabled:this.props.disabled,className:this.props.disabled?"text-field-disabled text-field":"text-field",style:t,value:this.props.value,onChange:function(t){(!e.props.charLimit||t.target.value.length<=e.props.charLimit)&&e.props.onChange(t.target.value)}}),this.props.charLimit?n.createElement(n.Fragment,null,n.createElement("div",{className:"text"}),n.createElement("div",{className:this.props.disabled?"text-disabled text":"text",style:{textAlign:"right"}},"".concat(this.props.value.length,"/").concat(this.props.charLimit))):null)}}]),t}(n.Component),Hi={where:{}},qi="",Gi=Object(Vn.a)(function(){return{benefitTable:{boxShadow:"0px 3px 6px #00000029"},searchField:{backgroundColor:"white",marginLeft:"4%",width:"92%"},searchInputAdornment:{color:"#00000061",marginRight:"8px"},planTypeSelected:{textDecoration:"underline",color:"#3AB77D",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",paddingRight:"20px"},planTypeNotSelected:{color:"rgba(39, 46, 76, 0.5)",fontSize:"0.875rem",fontWeight:400,cursor:"pointer",paddingRight:"20px"}}}),Ji=function(e){var t=e.contractID,a=Object(n.useState)([]),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(!0),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)([]),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Object(n.useState)(!0),x=Object(g.a)(y,2),O=x[0],C=x[1],S=Object(n.useState)(0),w=Object(g.a)(S,2),k=w[0],N=w[1],D=Gi(),T=Object(n.useState)(""),M=Object(g.a)(T,2),F=M[0],P=M[1],A=[{name:"parent_name",title:"Type"},{name:"name",title:"Item"}],B=function(e){var t=o;return""!==F.trim()&&(t=t.filter(function(e){return e.name.toString().toLowerCase().includes(F.toLocaleLowerCase().trim())||e.parent_name.toString().toLowerCase().includes(F.toLocaleLowerCase().trim())})),e.map(function(e){t=t.filter(function(t){return!f[e.name]||(""===f[e.name]||t[e.name]&&t[e.name].toString().toLowerCase().includes(f[e.name].toLowerCase()))})}),t},I=function(){k&&clearTimeout(k),N(setTimeout(function(){d(!0)},2e3))};m&&(E(r.a.createElement(Ui,{className:"ticket-list-table",canOverflow:!0,rows:B(A),stickyHeader:!0,renderHeader:function(){return R(A,A)},renderRow:function(e,t){return z(e,t,A)},rowsPerPageOptions:[5,10,15]})),d(!1));var R=function(e,t){var a=0;return r.a.createElement(r.a.Fragment,null,e.map(function(n,i){var o=t.filter(function(e){return e===n.name})[0],l=!0;o&&e[i+1]&&(l=!!t.filter(function(t){return t===e[i+1].name})[0]);var s={left:o?125*a:0,zIndex:o?125:0,width:"version"===n.name?"100px":"150px",paddingRight:"0px",paddingLeft:"10px",borderRight:l?void 0:"#9EA3AC 2px solid"};return o&&a++,r.a.createElement(qn.a,{key:i,style:s},r.a.createElement("span",{className:"header-2"},n.title),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(Yi,{icon:Z.F,onClick:function(){!function(e){var t="";"account"===e?t="client_registered_name":"effectivity_date"===e?t="custom_metadata.coverage_start_date":"version"===e?t="custom_metadata.version":"date_created"===e?t="custom_metadata.date_created":"date_modified"===e&&(t="custom_metadata.date_updated"),Hi.order={},Hi.order="".concat(t,qi===t?" desc":" asc"),d(!0),qi=t}(n.name),d(!0)}})),r.a.createElement(Vi,{value:f[n.name],onChange:function(e){f[n.name]=e,b(f),I()}}))}))},L=function(){C(!0),An.getBenefitTree(t).then(function(t){C(!1);var a=Mn.a.get(t,"error",null);if(Mn.a.isNil(a)){var n=Mn.a.lowerCase("Base Plan Type"),r=null,i=null;if(Mn.a.forEach(t,function(t){var a=Mn.a.lowerCase(t.name);a===n&&(r=t),a===Mn.a.lowerCase(e.planType)&&(i=t)}),Mn.a.isNil(r))return;var o=[];if(null!==i){var s="".concat(i.tree_id,"-EX");o=Mn.a.filter(t,function(e){return e.level>4&&Mn.a.includes(e.tree_id,s)})}var c=Mn.a.isNil(i)?"":"".concat(i.tree_id,"-EX"),m=Mn.a.filter(t,function(e){return e.level>4&&Mn.a.includes(e.tree_id,c)&&!function(e){if(!i)return!1;var t=Mn.a.replace(e.tree_id,r.code,i.code);return Mn.a.some(o,function(e){return t===e.tree_id})}(e)}),d=[].concat(Object(Ln.a)(o),Object(Ln.a)(m)),u=d.filter(function(e){return 5===e.level}),p=[];Mn.a.forEach(u,function(e){var t=e.tree_id;if(!Mn.a.isNil(i)){var a="".concat(i.tree_id,"-EX");t=Mn.a.replace(t,c,a)}Mn.a.forEach(d,function(a){if(6===a.level&&a.custom_metadata.is_excluded){var n=a.tree_id;if(!Mn.a.isNil(i)){var r="".concat(i.tree_id,"-EX");n=Mn.a.replace(n,c,r)}Mn.a.startsWith(n,t)&&p.push({parent_name:e.name,parent_code:e.code,name:a.name,code:a.code})}})}),l(p)}else C(!1)}).catch(function(e){console.log("handleLoadsFromAPI Error",e),C(!1)})};Object(n.useEffect)(function(){L()},[]),Object(n.useEffect)(function(){d(!0)},[o]);var W={left:0,position:"relative",fontSize:"12px",minWidth:"10px",maxWidth:"300px",paddingRight:"0px",paddingLeft:"10px"},z=function(e,t,a){var n=t%2===0?"#FFFFFF":"#F6F7FA";return r.a.createElement(Ii.a,{style:{backgroundColor:n}},a.map(function(t,a){return r.a.createElement(qn.a,{key:a,style:W},e[t.name])}))};return r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Rn,null):null,r.a.createElement(J.a,{item:!0,sm:12},r.a.createElement(j.a,{"data-cy":"history_search",id:"history_search",placeholder:"Search a benefit or benefit category",className:D.searchField,margin:"dense",variant:"outlined",fullWidth:!0,value:F,onChange:function(e){P(e.target.value),I()},inputProps:{"aria-label":"bare"},InputProps:{startAdornment:r.a.createElement(X.a,{icon:Z.E,className:D.searchInputAdornment})}})),r.a.createElement(J.a,{item:!0,sm:12},r.a.createElement("div",{style:{marginLeft:"4%",width:"92%"}},v)))},Ki=a(2120),Xi=a(215);a(815);function Zi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}Xi.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Xi.version,"/pdf.worker.js");var Qi=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={pdf:null,style:null,page:1,totalPage:0},a.canvas=void 0,a.canvas=n.createRef(),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.url,n=t.data,r=t.showAllPage,i=t.onDocumentComplete,o=this.canvas.current;if(a){var l={url:""};"string"===typeof a?l.url=a:"object"===typeof a&&(l=a),Xi.getDocument(l).promise.then(function(t){i&&e.props.onDocumentComplete(t.numPages),e.setState({totalPage:t.numPages}),e.setState({pdf:t},function(){r?e.renderAllPage():e.renderPage(o,null)})})}else{Xi.getDocument({data:n}).promise.then(function(t){i&&e.props.onDocumentComplete(t.numPages),e.setState({pdf:t},function(){r?e.renderAllPage():e.renderPage(o,null)})})}}},{key:"shouldComponentUpdate",value:function(e){var t=e.showAllPage,a=this.canvas.current;return!!t||(e.page!==this.state.page&&this.renderPage(a,e.page),!0)}},{key:"renderPage",value:function(e,t){var a=this,n=this.state,r=n.pdf,i=n.page,o=this.props,l=o.width,s=o.height,c=o.scale,m=i||1;t&&(m=t),m>r.numPages&&(m=r.numPages),m<1&&(m=1),r.getPage(m).then(function(t){var n,r;(n=l||980,c)?r=c:r=n/t.getViewport(1).width;var i=t.getViewport(r),o=e,m=o.getContext("2d");o.height=i.height,o.width=i.width,a.setState({style:{height:s,width:o.width}});var d={canvasContext:m,viewport:i};t.render(d)})}},{key:"renderAllPage",value:function(){var e=this.state.totalPage;if(e>0)for(var t=0;t<e;t++){var a=this["canvas"+t];this.renderPage(a,t+1)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.style,r=t.totalPage,i=this.props.showAllPage,o=new Array(r);return o.fill(0),n.createElement("div",{style:a,className:Object(tt.default)("pdf__container")},i?n.createElement(n.Fragment,null,o.map(function(t,a){return console.log("item: ",t),n.createElement("canvas",{ref:function(t){e["canvas"+a]=t},key:a+""})})):n.createElement("canvas",{ref:this.canvas}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zi(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zi(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,{page:e.page})}}]),t}(n.Component),$i=a(499),eo=a.n($i),to=Object(y.a)({root:{flexWrap:"wrap",position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{height:"100%",outline:0},image:{width:"80%",height:"70%",backgroundColor:"#ff1hff",maxHeight:"500px",objectFit:"contain"},previousButton:{},nextButton:{},pdf:{height:"70%",backgroundColor:"#ff1hff",objectFit:"contain",overflowY:"scroll"},closeButton:{textTransform:"inherit",float:"right",marginRight:"10px",marginTop:"10px"}}),ao=function(e){var t=e.images,a=e.index,r=to(),i=Object(n.useState)(a),o=Object(g.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(t[a]),m=Object(g.a)(c,2),d=m[0],u=m[1],p=0;return console.log("images",e.images),Object(n.useEffect)(function(){s(a),u(t[a]),console.log("imageviewer index",a)},[e.index]),Object(n.useEffect)(function(){u(t[l]),console.log("imageviewer currentindex",l)},[l]),d.filetype&&(d.type=d.filetype,delete d.filetype),console.log("CURRENT IMAGE URL: ",d.url),n.createElement("div",{className:r.root},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(z.a,{disabled:!1,className:r.closeButton,onClick:e.onClose,style:{textTransform:"inherit"}},n.createElement(X.a,{icon:Z.N,className:"fa-4x",style:{color:"#FFFFFF",marginRight:"8px"}}))),n.createElement(J.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",className:r.container},n.createElement(J.a,{item:!0,xs:1},n.createElement(z.a,{disabled:0===l,className:r.previousButton,onClick:function(){0!==p&&(p-=1),0!==l&&(s(l-1),u(t[l-1])),console.log("handlePrevious",l,p)},style:{textTransform:"inherit"}},n.createElement(X.a,{icon:Z.j,className:"fa-4x",style:{color:0===l?"rgba(0.5, 0, 0.5, 0.5)":"#FFFFFF",marginRight:"8px"}}))),n.createElement(J.a,{item:!0,xs:10},d.type.includes("pdf")?n.createElement("div",{className:r.pdf},n.createElement(Qi,{url:d.url,showAllPage:!0,height:500})):d.type.includes("doc")||d.type.includes("msword")||d.type.includes("vnd.openxmlformats-officedocument.wordprocessingml.document")?n.createElement("div",{style:{height:"80vh"}},n.createElement(eo.a,{fileType:"docx",filePath:d.url})):n.createElement("img",{src:d.url,className:r.image})),n.createElement(J.a,{item:!0,xs:1},n.createElement(z.a,{disabled:l===t.length-1,className:r.nextButton,onClick:function(){p!==t.length&&(p+=1),l!==t.length&&(s(l+1),u(t[l+1])),console.log("handleNext",l,p)},style:{textTransform:"inherit"}},n.createElement(X.a,{icon:Z.k,className:"fa-4x",style:{color:l===t.length-1?"rgba(0.5, 0, 0.5, 0.5)":"#FFFFFF",marginRight:"8px"}}))))))};ao.defaultProps={};var no,ro=a(35),io=a(81),oo=!1,lo="",so=!1,co={},mo=[],uo=!1,po=!1,fo=0,bo=!1,go=!1,_o=null,ho=Object(Vn.a)({link:{top:"343px",left:"1156px",width:"60px",height:"14px",textDecoration:"underline",font:"Medium 12px/14px Usual",letterSpacing:"0",color:"#0D5E40"}}),vo=Object(Vn.a)({select:{backgroundColor:"transparent"}}),Eo=Object(Vn.a)({root:{"& div.MuiInputBase-root":{backgroundColor:"transparent"}}}),yo=Object(Vn.a)({root:{"&.Mui-checked":{color:"#3AB77D"}}}),xo=Object(Vn.a)({keyboardDatePicker:{width:"100%"}}),Oo=function(e){var t=e.id,a=e.value,n=e.items,i=e.disabled,o=vo();return r.a.createElement(A.a,{id:t,"data-cy":t,classes:o,value:a,disabled:i,style:{width:"100%",backgroundColor:"transparent"},renderValue:function(e){if(null!==e){var t=n.find(function(t){return t.value===e});return t?t.name:"\u2014"}return"\u2014"}},n.map(function(e){return r.a.createElement(D.a,{key:e.value,value:e.value},e.name)}))},Co=function(e){var t=xo(),a=e.column,n=e.filter,i=e.onFilter,o=e.filteringEnabled,l=e.classes;return o?"revision_date"===a.name||"date_of_birth"===a.name||"effectivity_date"===a.name?r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:l},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(_r.a,{id:"filter_datepicker","data-cy":"filter_datepicker",variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",className:t.keyboardDatePicker,value:n?n.value:"",invalidDateMessage:"",onChange:function(e){var t="";if(!Object(Tn.isNil)(e)){var a=Je()(e.toISOString());!Object(Tn.isNil)(a)&&a.isValid()&&(t=a.format("MMM DD, YYYY"))}i({value:t})}}))):r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:l},r.a.createElement(P.a,{id:"filter_input","data-cy":"filter_input",classes:l,style:{width:"100%"},value:n?n.value:"",labelWidth:0,onChange:function(e){return i(e.target.value?{value:e.target.value}:null)},placeholder:""})):r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:l})},So=function(e){var t=e.style,a=e.selected,n=e.onToggle,i=e.classes,o=Object(Wn.a)(e,["style","selected","onToggle","classes"]);return r.a.createElement(qn.a,Object.assign({padding:"checkbox",style:t,classes:i},o),r.a.createElement(Jn.a,{classes:i,checked:a,onClick:function(e){e.stopPropagation(),n()}}))},wo=function(e){var t=e.style,a=e.selected,n=e.onToggle,i=e.classes,o=Object(Wn.a)(e,["style","selected","onToggle","classes"]);return r.a.createElement(qn.a,Object.assign({padding:"checkbox",style:t,classes:i},o),r.a.createElement(G.a,{icon:r.a.createElement(X.a,{icon:Z.i}),id:"table_checkbox","data-cy":"table_checkbox",checkedIcon:r.a.createElement(X.a,{icon:Z.i}),classes:i,checked:a,onClick:function(e){e.stopPropagation(),n()}}))},ko=function(e){var t=e.value,a=e.onValueChange;return r.a.createElement(P.a,{id:"search_panel","data-cy":"search_panel",value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:r.a.createElement(Ve.a,{position:"start"},r.a.createElement(X.a,{icon:Z.E}))})},jo=function(e){var t=e.children;return r.a.createElement(ae.a,{disableGutters:!0,children:t})},No=function(e){return"asc"===e.direction?r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.H}):r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.G})},Do=function(e){var t=e.column,a=e.onSort,n=e.children,i=e.direction;return void 0!==t.sortingEnabled&&null!==t.sortingEnabled&&!1===t.sortingEnabled?r.a.createElement("span",null,t.title):r.a.createElement(Gn.a,{hideSortIcon:!0,onClick:a},n,i?r.a.createElement(No,{direction:i}):r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.F}))},To=function(e){var t=e.value;return""===t||void 0===t||null===t?r.a.createElement(X.a,{style:{color:"#FD5451",fontSize:"16px"},icon:Z.o}):t},Mo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:To},e))},Fo=function(e){var t=e.row,a=e.value;return!0!==t.required||""!==a&&void 0!==a&&null!==a?!1!==t.required||""!==a&&void 0!==a&&null!==a?a:"N/A":r.a.createElement(X.a,{style:{color:"#FD5451",fontSize:"16px"},icon:Z.o})},Po=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Fo},e))},Ao=function(e){var t=e.column,a=e.row,n=e.value,i=yo();return r.a.createElement("div",null,r.a.createElement(K.a,{control:r.a.createElement(G.a,{checked:!0===n||"true"===n,value:n,style:{padding:"5px"},id:"checkbox_required","data-cy":"checkbox_required",className:i.root,color:"primary",onChange:function(e){so=!0,co={value:e.target.checked,name:t.name,id:a.id}},disabled:a.disabled||!1}),label:""}))},Bo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Ao},e))},Io=function(e){var t=e.column,a=e.row,n=t.name+"_"+a.id;if(""===a.files)return r.a.createElement("div",{id:n},r.a.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},r.a.createElement("span",null,r.a.createElement("span",{style:{paddingRight:"10px",fontSize:"15px"}},r.a.createElement(X.a,{icon:Z.s,style:{color:"#0D5E40"}})),r.a.createElement("span",{style:{textDecoration:"underline",color:"#0D5E40"}},"Upload File"))));if(fo<2){var i=ho();return r.a.createElement("div",{id:n},r.a.createElement(S.a,null,r.a.createElement("span",null,r.a.createElement(re.a,{key:"view",id:"link_view","data-cy":"link_view",className:i.link,onClick:function(){uo=!0,mo=a.filearray}},"View"),"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(re.a,{key:"download",id:"link_download","data-cy":"link_download",className:i.link,onClick:function(){po=!0,mo=a.filearray}},"Download"))))}return r.a.createElement("div",null)},Ro=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Io},e))},Lo=function(e){var t=e.row,a=e.value;"for confirmation"===a&&(a="");return r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:a||"",onChange:function(e){e.stopPropagation(),oo=!0,lo=e.target.value},row:!0},r.a.createElement(re.a,{onClick:function(e){_o=e.currentTarget,bo=!0,no=t},style:{paddingRight:"30px"}},r.a.createElement(X.a,{icon:Z.z,style:{fontSize:"17px"}})),r.a.createElement(re.a,{onClick:function(){console.log("upload button clicked"),go=!0},style:{paddingRight:"30px"}},r.a.createElement(X.a,{icon:Z.s,style:{fontSize:"17px"}})),[{value:"approve",label:"Approve"}].map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{id:"radio_".concat(e.value),"data-cy":"radio_".concat(e.value),color:"primary"}),label:e.label,labelPlacement:"end"})})))},Wo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Lo},e))},zo=function(e){var t=e.row,a=e.value,n=[{value:"approve",label:"Approve"},{value:"disapprove",label:"Disapprove"},{value:"for confirmation",label:"For Confirmation"}];return void 0!==t.member_details&&void 0!==t.member_details.validation_status&&"FOR_VALIDATION"===t.member_details.validation_status.status&&("for confirmation"===a&&(a=""),n=[{value:"disapprove",label:"Disapprove"},{value:"approve",label:"Confirm"}]),r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:a||"",onChange:function(e){e.stopPropagation(),oo=!0,lo=e.target.value},row:!0},r.a.createElement(re.a,{onClick:function(e){_o=e.currentTarget,bo=!0,no=t},style:{paddingRight:"30px"}},r.a.createElement(X.a,{icon:Z.z,style:{fontSize:"17px"}})),n.map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{id:"radio_".concat(e.value),"data-cy":"radio_".concat(e.value),color:"primary"}),label:e.label,labelPlacement:"end"})})))},Uo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:zo},e))},Yo=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:t||"",onChange:function(e){e.stopPropagation(),oo=!0,lo=e.target.value},row:!0},[{value:"match",label:"Match"},{value:"not",label:"Not Match"},{value:"confirmation",label:"For Confirmation"}].map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{id:"radio_".concat(e.value),"data-cy":"radio_".concat(e.value),color:"primary"}),label:e.label,labelPlacement:"end"})})))},Vo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Yo},e))},Ho=function(e){var t=e.value;return r.a.createElement(Oo,{id:"civil_status_select","data-cy":"civil_status_select",items:[{name:"",value:""},{name:"Married",value:"married"},{name:"Single",value:"single"},{name:"Widowed",value:"widowed"},{name:"Annulled",value:"annulled"}],value:t})},qo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Ho},e))},Go=function(e){var t=e.value;return r.a.createElement(Oo,{id:"system_name_select","data-cy":"system_name_select",items:[{name:"First Name",value:"first_name"},{name:"Middle Name",value:"middle_name"},{name:"Last Name",value:"last_name"},{name:"Birthday",value:"birthday"},{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"},{name:"Plan Type",value:"plan_type"},{name:"Type",value:"type"}],value:t})},Jo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Go},e))},Ko=function(e){var t=e.value;return r.a.createElement(Oo,{id:"data_select","data-cy":"data_select",items:[{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"}],value:t})},Xo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Ko},e))},Zo=function(e){var t=e.value,a=Eo();return r.a.createElement(j.a,{id:"number_cell","data-cy":"number_cell",value:t,type:"number",classes:a})},Qo=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Zo},e))},$o=function(e){var t=e.value,a=Eo();return r.a.createElement(j.a,{id:"textfield_cell","data-cy":"textfield_cell",value:t,classes:a})},el=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:$o},e))},tl=function(e){var t=e.value,a=t;if(a)try{a=Je()(t).format("MMM DD, YYYY")}catch(n){a=t}else a="";return a},al=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:tl},e))},nl=function(e){var t=e.value,a=t;if(a)try{a=Je()(t).format("hh:mm:ss A")}catch(n){a=t}else a="";return a},rl=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:nl},e))},il=function(e){var t=e.row,a=e.value,n=[];return t.member_details&&t.member_details.possible_principals&&t.member_details.possible_principals.forEach(function(e){var t="".concat(e.first_name," ").concat(e.last_name);-1===n.findIndex(function(e){return e.value===t})&&n.push({value:t,name:t})}),void 0!==t.principal_name&&""!==t.principal_name?r.a.createElement(Oo,{id:"principal_select","data-cy":"principal_select",items:n,disabled:!1,value:a}):r.a.createElement(A.a,{value:"No principals found",disabled:!1,style:{width:"100%",backgroundColor:"transparent"},renderValue:function(){return"No principals found"}},r.a.createElement(D.a,{value:""},"No principals found"))},ol=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:il},e))},ll=function(e){var t=e.columns,a=e.formattedColumns,i=e.singleSelect,o=e.disablePaging,l=e.disableSearch,s=e.disableSelect,c=e.disableSort,m=e.disableFilter,d=e.toolbarType,u=e.columnExtensions,p=e.columnBands,f=e.id,b=e.showSelectionColumn,_=e.query,h=Object(n.useState)([]),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)(0),O=Object(g.a)(x,2),C=O[0],S=O[1],w=Object(n.useState)(5),k=Object(g.a)(w,2),j=k[0],D=k[1],T=Object(n.useState)({standardTablePageSizes:[5,10,15,0],uploadTablePageSizes:[10,25,50,100]}),M=Object(g.a)(T,1)[0],F=Object(n.useState)(e.rows),P=Object(g.a)(F,2),A=P[0],B=P[1],I=Object(n.useState)([]),R=Object(g.a)(I,2),L=R[0],W=R[1],z=Object(n.useState)(!1),U=Object(g.a)(z,2),Y=U[0],V=U[1];Object(n.useEffect)(function(){B(e.rows)},[e.rows]),Object(n.useEffect)(function(){void 0!==e.pageSize&&null!==e.pageSize&&D(e.pageSize)},[e.pageSize]);var H=[];void 0!==e.selectedTab&&(fo=e.selectedTab),void 0!==a&&Object.keys(a).length>0&&(void 0!==a.number&&H.push(r.a.createElement(Qo,{for:a.number})),void 0!==a.text&&H.push(r.a.createElement(el,{for:a.text})),void 0!==a.system_name&&H.push(r.a.createElement(Jo,{for:a.system_name})),void 0!==a.data_name&&H.push(r.a.createElement(Xo,{for:a.data_name})),void 0!==a.principal_select&&H.push(r.a.createElement(ol,{for:a.principal_select})),void 0!==a.value_name&&H.push(r.a.createElement(qo,{for:a.value_name})),void 0!==a.required_columns&&H.push(r.a.createElement(Mo,{for:a.required_columns})),void 0!==a.radio&&H.push(r.a.createElement(Vo,{for:a.radio})),void 0!==a.incomplete_radio&&H.push(r.a.createElement(Uo,{for:a.incomplete_radio})),void 0!==a.disapprove_action&&H.push(r.a.createElement(Wo,{for:a.disapprove_action})),void 0!==a.required_checkbox&&H.push(r.a.createElement(Bo,{for:a.required_checkbox})),void 0!==a.upload_file&&H.push(r.a.createElement(Ro,Object.assign({for:a.upload_file},e))),void 0!==a.required_cell&&H.push(r.a.createElement(Po,Object.assign({for:a.required_cell},e))),void 0!==a.date&&H.push(r.a.createElement(al,{for:a.date})),void 0!==a.time&&H.push(r.a.createElement(rl,{for:a.time})));var q=jo;Object(n.useEffect)(function(){W([]),V(!1)},[]);var G=function(e){void 0!==e&&(W(e),V(!0))};return r.a.createElement(N.a,{id:f},r.a.createElement(zn.a,{rows:A,columns:t},H,o?null:r.a.createElement(Un.m,{currentPage:e.currentPage?e.currentPage:C,onCurrentPageChange:e.setCurrentPage?e.setCurrentPage:S,pageSize:j,onPageSizeChange:function(t){e.onPageSizeChange?e.onPageSizeChange(t):D(t)}}),o?null:r.a.createElement(Un.i,null),!l||_?r.a.createElement(Un.o,{value:_}):null,c||void 0===e.defaultSort?c?r.a.createElement(Un.q,null):r.a.createElement(Un.q,{defaultSorting:[],onSortingChange:function(t){e.onSortingChange&&e.onSortingChange(t),e.onFilterChange&&e.onFilterChange(e.defaultFilter)}}):r.a.createElement(Un.q,{defaultSorting:[],sorting:void 0!==e.defaultSort?e.defaultSort:[],onSortingChange:function(t){e.onSortingChange&&e.onSortingChange(t),e.onFilterChange&&e.onFilterChange(e.defaultFilter)}}),c?null:r.a.createElement(Un.k,null),s&&b?null:r.a.createElement(Un.p,{selection:E,onSelectionChange:function(t){if(e.onClickRow)oo||so||uo||po||bo||go?oo?(e.onSelectedRadio&&e.onSelectedRadio(t[0],lo),oo=!1):!so||uo||po||bo?!uo||po||bo?po&&!bo?(e.onClickDownload&&e.onClickDownload(mo),po=!1,mo=[]):bo?(e.handleClickEdit&&e.handleClickEdit(_o,no),_o=null,no=null,bo=!1):go&&(e.handleClickUpload&&e.handleClickUpload(go),go=!1):(G(mo),uo=!1,mo=[]):(e.onClickCell&&e.onClickCell(co),so=!1,co={}):e.onClickRow(t);else if(i){var a=t.find(function(e){return-1===E.indexOf(e)});void 0!==a&&y([a])}else y(t)}}),s?null:r.a.createElement(Un.j,null),m?null:r.a.createElement(Un.e,{defaultFilters:[],filters:void 0!==e.defaultFilter?e.defaultFilter:[],columnFilteringEnabled:e.columnFilteringEnabled,columnExtensions:e.filterExtensions,onFiltersChange:e.onFilterChange}),m?null:r.a.createElement(Un.h,{columnExtensions:e.intgFltrColumnExtensions}),r.a.createElement(zn.d,{columnExtensions:u,messages:{noData:e.message}}),s||b?b?null:r.a.createElement(zn.h,{selectByRowClick:!0,showSelectionColumn:!1,cellComponent:i?So:wo,headerCellComponent:wo}):r.a.createElement(zn.h,{showSelectAll:!i,cellComponent:i?So:wo,headerCellComponent:wo}),r.a.createElement(zn.g,{showSortingControls:!c,sortLabelComponent:Do}),m?null:r.a.createElement(zn.f,{cellComponent:Co}),p?r.a.createElement(zn.e,{columnBands:p}):null,!l||d?r.a.createElement(zn.i,{rootComponent:q}):null,l?null:r.a.createElement(zn.c,{inputComponent:ko}),o||"upload_file_table"===f?null:r.a.createElement(zn.b,{pageSizes:M.standardTablePageSizes}),o||"upload_file_table"!==f?null:r.a.createElement(zn.b,{pageSizes:M.uploadTablePageSizes})),Y?r.a.createElement(ao,{images:L,index:0,onClose:function(){V(!1)}}):null)};ll.defaultProps={rows:[],columns:[],columnExtensions:[],filterExtensions:[],columnBands:null,formattedColumns:{},singleSelect:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,toolbarType:null,defaultFilter:[],showSelectionColumn:!1,id:"table-id-".concat((new Date).getTime()),columnFilteringEnabled:!0,message:"No available data",query:""};a(816);function sl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var cl=Object(y.a)({container:{},leftSection:{borderRight:"#3C394A22 solid 1px"}}),ml=[{name:"name",title:"Name"},{name:"address",title:"Address"},{name:"city",title:"City"},{name:"province",title:"Province"}],dl=[{columnName:"name",width:300,wordWrapEnabled:!0},{columnName:"address",wordWrapEnabled:!0},{columnName:"city",width:200,wordWrapEnabled:!0},{columnName:"province",width:200,wordWrapEnabled:!0}],ul=function(e){var t=cl(),a=Object(n.useState)([]),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)("N/A"),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)([{checked:!1,name:"Top 5 Hospitals",label:"top_5_hospitals"},{checked:!1,name:"Top 6 Hospitals",label:"top_6_hospitals"},{checked:!1,name:"Healthway Clinics",label:"healthway_clinics"},{checked:!1,name:"Medical City Network",label:"medical_city_network"}]),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)([]),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Object(n.useState)([]),x=Object(g.a)(y,2),O=x[0],C=x[1],S=Object(n.useState)(""),w=Object(g.a)(S,2),k=w[0],N=w[1];Object(n.useEffect)(function(){T()},[]),Object(n.useEffect)(function(){D()},[o,k]);var D=function(){if(k&&""!==k){var e=function(e){return e&&void 0!==e&&null!==e&&Object(Tn.includes)(Object(Tn.toLower)(e),Object(Tn.toLower)(k))},t=Object(Tn.filter)(o,function(t){return e(t.name)||e(t.address)||e(t.city)||e(t.province)});E(t)}else E(o)},T=function(){console.log("props",e);var t=e.memberBenefits.filter(function(t){return t.tree_path[2]===e.planType&&t.tree_path.includes("NT")});if(console.log("nodes",t),t.length>0){var a=t.find(function(e){return"NT"===e.code});console.log("network",a);var n=t.find(function(e){return e.code===a.custom_metadata.type});console.log("networkType",n);var r=n.custom_metadata.included_facilities,i=n.custom_metadata.excluded_facilties;console.log("facilities",r,i);var o=[];if(r.forEach(function(e){o.push({name:e.name,address:"",city:"",province:""})}),i.forEach(function(e){o.push({name:e.name,address:"",city:"",province:""})}),d(n.name),a.custom_metadata&&a.custom_metadata.groups){var s=[];f.forEach(function(e){s.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sl(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sl(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{checked:a.custom_metadata.groups.includes(e.label)}))}),b(s)}l(o)}};return r.a.createElement("div",{className:Object(tt.default)("BenefitsTable")},r.a.createElement(J.a,{container:!0,className:t.container,spacing:4,direction:"row",justify:"flex-start",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r.a.createElement(J.a,{item:!0,sm:12},r.a.createElement("div",{className:"header-2"},"TYPE"),r.a.createElement("div",{className:"small-text"},m)))),r.a.createElement(J.a,{item:!0,xs:12,style:{padding:"16px"}},r.a.createElement("div",{className:"header-2"},"GROUP"),r.a.createElement(J.a,{className:"sub-section",container:!0,spacing:2,style:{width:"70%"}},f.map(function(e){return r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement("span",null,e.checked?r.a.createElement(X.a,{icon:Z.h,style:{color:"#3AB77D"}}):r.a.createElement(X.a,{icon:Z.N,style:{color:"#FD5451"}})),r.a.createElement("span",{style:{paddingLeft:"1rem"}},e.name))}))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(j.a,{style:{width:"100%"},"data-cy":"benefits-search",id:"benefits-search",placeholder:"Search a partner hospital or center",label:"",margin:"normal",variant:"outlined",value:k,onChange:function(e){var t=e.target.value;N(t)},InputProps:{startAdornment:r.a.createElement(Ve.a,{position:"start"},r.a.createElement(Ki.a,{style:{color:"rgba(54, 54, 54, 0.4)"}}))}}),r.a.createElement(ll,{"data-cy":"benefits-table",id:"benefits-table",rows:v,columns:ml,message:"No partner networks data",columnExtensions:dl,formattedColumns:{},onClickRow:function(){},defaultFilter:O,onFilterChange:function(e){C(e)},onSortingChange:function(e){console.log(e)},disableSelect:!0,disableSearch:!0}))))},pl=(a(435),a(511)),fl=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"icon-button",onClick:function(){return e.props.onClick()}},this.props.icon?n.createElement(X.a,{icon:this.props.icon,size:this.props.size}):null)}}]),t}(n.Component),bl=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement(pl.a,{className:"".concat(this.props.className?this.props.className:""," custom-modal"),open:this.props.isOpen,onClose:this.props.handleClose,closeAfterTransition:!0},n.createElement(Ue.a,{in:this.props.isOpen},n.createElement("div",{className:"modal"},this.props.handleClose?n.createElement("div",{style:{textAlign:"right"}},n.createElement(fl,{icon:Z.N,size:"1x",onClick:this.props.handleClose})):null,this.props.header?n.createElement("div",{className:"header"},this.props.header):null,this.props.content?n.createElement("div",{className:"content"},this.props.content):null,this.props.footer?n.createElement("div",{className:"bottom"},this.props.footer):null))))}}]),t}(n.Component),gl=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={isOpen:!1,response:null,globalFilter:"",columnFilters:[]},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.memberId;e&&e.length>0&&this.loadBenefitsData()}},{key:"componentDidUpdate",value:function(e){this.props.memberId!==e.memberId&&this.loadBenefitsData()}},{key:"loadBenefitsData",value:function(){var e=this,t=this.props,a=t.memberId,n=t.contractId,r=t.setIsLoading;a&&0!==a.length&&(r&&r(!0),An.getBenefitTree(n).then(function(t){t&&void 0===t.error?(console.log("member contract",t),e.setState({response:t},function(){r&&r(!1)})):(e.setState({isOpen:!0}),r&&r(!1))}))}},{key:"render",value:function(){var e=this,t=this.state.response;return n.createElement(J.a,{container:!0,className:"sub-section",spacing:5},n.createElement(J.a,{item:!0,xs:12},null===t?null:n.createElement(ul,{memberBenefits:t,planType:this.props.planType})),n.createElement(bl,{isOpen:this.state.isOpen,header:n.createElement(S.a,{variant:"h5"},"Error"),content:n.createElement(S.a,{variant:"body1"},"Error Loading Benefits"),footer:n.createElement(z.a,{style:{height:"40px",minWidth:"125px",border:"1px solid #3AB77D",color:"#3AB77D",textTransform:"capitalize"},onClick:function(){e.setState({isOpen:!1}),e.loadBenefitsData()}},"Confirm")}))}}]),t}(n.Component),_l=["Benefits","Exclusions","Contract","Partner Network"],hl=Object(O.a)({root:{},indicator:{display:"box",marginTop:4,height:3,backgroundColor:"#3AB77D"}})(Nn.a),vl=Object(O.a)({root:{color:"rgba(39, 46, 76, 0.45)",paddingLeft:32,paddingRight:32,fontSize:"1rem","&:hover":{color:"rgba(39, 46, 76, 1)"},"&$selected":{textDecoration:"none",color:"rgba(39, 46, 76, 1)",fontWeight:600}},selected:{}})(Dn.a),El=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).reset=function(){a.setState({loading:!1,selectedTab:0,clientName:"",memberName:"",memberId:"",contractName:"-"})},a.setSelectedTab=function(e){a.setState({selectedTab:e})},a.handleChange=function(e,t){console.log("event >>>",e),a.setSelectedTab(t)},a.setLoading=function(e){a.setState({loading:e})},a.componentDidMount=function(){a.getMemberData()},a.getMemberData=function(){a.setState({loading:!0,check_internet_flag:!0}),An.getMemberData(a.props.match.params.member_id).then(function(e){if(e&&e.client_id){var t=e.member_id,n=e.first_name,r=e.middle_name,i=e.last_name,o=e.client_id,l=n||"",s=r?r.charAt(0)+".":"",c=i||"",m=t||"",d=Object(Tn.get)(e,"plan_type","");a.setState({check_internet_flag:!1,memberData:e,memberName:l+" "+s+" "+c,memberId:m,planType:d},function(){a.getClientContracts(o)})}else a.setState({loading:!1})})},a.handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})},a.getClientContracts=function(e){var t=a.props.match.params.contract_id;a.setState({check_internet_flag:!0}),An.getClientContracts(e).then(function(e){if(e&&e.length>0){var n=e[0],r=n.registered_name||"",i=null;try{i=n.contract_objects.find(function(e){return e._id===t})}catch(l){}if(i){var o=i.version?"Contract "+i.version:"-";a.setState({check_internet_flag:!1,loading:!1,clientName:r,contractData:i,contractName:o})}else a.setState({loading:!1})}else a.setState({loading:!1})})},a.state={check_internet_flag:!1,loading:!1,selectedTab:a.props.match.params.contract_check?_l.indexOf("Contract"):0,memberData:null,contractData:null,clientName:"",memberName:"",memberId:"",contractName:"-",planType:""},a.setLoading=a.setLoading.bind(Object(jn.a)(a)),a.setSelectedTab=a.setSelectedTab.bind(Object(jn.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.selectedTab,r=e.memberName,i=e.memberId,o=e.contractName,l=e.clientName,s=[{label:"Members",url:"#/membership"},{label:r,url:"#/membership/view-member/"+this.props.match.params.member_id},{label:i,url:"#/membership/view-member/"+this.props.match.params.member_id},{label:o+" - "+(l||"N.A."),url:""}];return n.createElement("div",{className:Object(tt.default)("MemberContractPage")},t?n.createElement(Rn,null):null,n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(J.a,{container:!0,className:Object(tt.default)("page-header")},n.createElement(J.a,{item:!0,xs:12},n.createElement(bn.UI.BreadcrumbsComponent,{items:s})),n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:Object(tt.default)("member-contract-header")},o)))),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("page-tab-title")},n.createElement(hl,{id:"member_contract_tabs","data-cy":"member_contract_tabs",value:a,onChange:this.handleChange,"aria-label":"page tab"},_l.map(function(e,t){return n.createElement(vl,{label:e,id:"member_contract_tab_"+t,"data-cy":"member_contract_tab_"+t,"aria-controls":"member-contract-tabpanel-"+t,key:t})})),n.createElement("div",{className:Object(tt.default)("tab-title-shadow")})),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("page-tab-content")},a===_l.indexOf("Benefits")?n.createElement(Oi,{memberId:this.props.match.params.member_id,contractId:this.props.match.params.contract_id,setIsLoading:this.setLoading}):a===_l.indexOf("Exclusions")?n.createElement(Ji,{contractID:this.props.match.params.contract_id,planType:this.state.planType}):a===_l.indexOf("Partner Network")?n.createElement(gl,{memberId:this.props.match.params.member_id,contractId:this.props.match.params.contract_id,planType:this.state.planType,setIsLoading:this.setLoading}):a===_l.indexOf("Contract")?n.createElement(Bn.a,{contract_name:"2018 Contract",contract_id:"5d9af397ddf3ea03585a37ae"}):null)),n.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}))}}]),t}(n.Component),yl=(a(436),Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",width:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{width:115,marginLeft:25},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),xl=function(e){var t=e.isModalOpen,a=e.id,r=yl();return n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},"Confirm Submission",n.createElement(ne.a,{"data-cy":"confirmation_modal_close_btn",id:"confirmation_modal_close_btn","aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},"Submitting this list will send it to the Account Processing Verifier for validation. Are you sure you want to add ",n.createElement("span",{className:r.boldText},(new Intl.NumberFormat).format(e.member_count))," members to the corporate account ",n.createElement("span",{className:r.boldText},e.company),"?")),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{"data-cy":"confirmation_modal_cancel_btn",id:"confirmation_modal_cancel_btn",className:r.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Cancel"),n.createElement(z.a,{"data-cy":"confirmation_modal_submit_btn",id:"confirmation_modal_submit_btn",className:r.submitButton,variant:"contained",color:"primary",onClick:e.onSubmit},"Submit"))))))};xl.defaultProps={isModalOpen:!1,id:"modal-id",company:"",member_count:0};var Ol=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},boldText:{fontWeight:"bold"},cancelButton:{marginRight:25,paddingLeft:"24px",paddingRight:"24px",border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{marginLeft:25,paddingLeft:"24px",paddingRight:"24px",textTransform:"none"},primary:{border:"1px solid #3AB77D",color:"#FFFFFF",backgroundColor:"#3AB77D"},danger:{color:"#FFFFFF",border:"1px solid #fd5451",backgroundColor:"#fd5451","&:hover":{backgroundColor:"#fd2724"}},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),Cl=function(e){var t=e.isModalOpen,a=e.id,r=Ol(),i=n.useState(""),o=Object(g.a)(i,2),l=o[0],s=o[1];return n.useEffect(function(){e.variant&&s(e.variant)},[e.variant]),n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},e.modalTitle,n.createElement(ne.a,{"data-cy":"confirmation_modcomp_close_btn",id:"confirmation_modcomp_close_btn","aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},e.modalMessage)),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{"data-cy":"confirmation_modcomp_cancel_btn",id:"confirmation_modcomp_cancel_btn",className:r.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},e.closeText||"Cancel"),n.createElement(z.a,{"data-cy":"confirmation_modcomp_submit_btn",id:"confirmation_modcomp_submit_btn",className:Object(tt.default)(r.submitButton,r[l]),variant:"contained",onClick:e.onConfirm},e.confirmText||"Submit"))))))};Cl.defaultProps={id:"confirm-modal-id",isModalOpen:!1,modalTitle:"",modalMessage:"",variant:"primary"};var Sl=a(2025),wl=a(2098),kl=a(2099),jl=a(2114),Nl=Object(y.a)({headerLabel:{paddingTop:"20px"},title:{fontSize:"1.5rem",alignItems:"flex-start",fontWeight:600},label:{fontWeight:600}}),Dl=Object(O.a)({alternativeLabel:{top:10,left:"calc(-50% + 12px)",right:"calc(50% + 12px)"},active:{"& $line":{borderColor:"#3AB77D"}},completed:{"& $line":{borderColor:"#3AB77D"}},line:{borderColor:"#eaeaf0",borderTopWidth:3,borderRadius:1}})(Sl.a),Tl=function(e){var t=e.label,a=e.steps,r=e.activeStep,i=Nl();return n.createElement(J.a,{container:!0,justify:"flex-start",alignItems:"flex-start"},n.createElement(J.a,{item:!0,xs:6,className:i.headerLabel},n.createElement(S.a,{className:i.title,color:"textPrimary"},t)),a&&a.length>0?n.createElement(J.a,{item:!0,xs:6},n.createElement(wl.a,{"data-cy":e.id?"page_header_".concat(e.id.toLowerCase().replace(" ","_")):"",id:e.id?"page_header_".concat(e.id.toLowerCase().replace(" ","_")):"",alternativeLabel:!0,activeStep:r,connector:n.createElement(Dl,null)},a.map(function(e){return n.createElement(kl.a,{key:e},n.createElement(jl.a,{className:i.label},e))}))):null)};Tl.defaultProps={label:"Page",id:"stepper_1",steps:[],activeStep:0};var Ml=Object(y.a)(function(e){return{appBar:Object(wi.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)",zIndex:999},e.breakpoints.up("sm"),{width:"calc(100% - 82px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}}}),Fl=function(e){var t=e.leftButtons,a=e.rightButtons,r=Ml();return n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(te.a,{className:r.appBar},n.createElement(ae.a,null,a,n.createElement("div",{className:r.grow}),t))))};Fl.defaultProps={leftButtons:null,rightButtons:null};a(817);var Pl=function(e){function t(e){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"date-picker"},n.createElement(F.a,{className:"label".concat("small"===this.props.labelSize?"-small":""),htmlFor:this.props.id},this.props.placeholder),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,id:this.props.id,className:"text-field",variant:"inline",format:"MM/DD/YYYY",value:this.props.value,minDate:this.props.minDate,maxDate:this.props.maxDate,onChange:function(t){e.props.onChange(t?t.toDate():null)}})),this.props.error?n.createElement(R.a,{id:this.props.id+"_error",style:{color:"#E53935"}},this.props.error_message):null)}}]),t}(n.Component),Al=Object(y.a)({root:{borderTop:"0.5px solid rgba(60, 57, 74, 0.3)",color:"#0d5e40",fontSize:"14px",textDecoration:"underline"},errorText:{marginTop:"5px",color:"#E53935"}}),Bl=function(e){var t=Al(),a=Object(n.useState)(e.value),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(e.disabled),c=Object(g.a)(s,2),m=c[0],d=c[1];return Object(n.useEffect)(function(){l(e.value),d(e.disabled)},[e.value,e.disabled]),r.a.createElement("div",null,r.a.createElement(F.a,{htmlFor:"data-map-select"},e.label),r.a.createElement(k.a,{margin:"normal",style:{width:"100%"},error:e.error},r.a.createElement(A.a,{disabled:m,id:e.id,value:o.value,input:r.a.createElement(P.a,{labelWidth:0,name:"data-map-select",id:"data-map-select"}),onChange:function(t){if(e.addButton&&"add"===t.target.value){e.onChange&&e.onChange({id:0,value:"add",label:"Add"})}else{var a=e.options.find(function(e){return e.value===t.target.value});l(a),e.onChange&&e.onChange(a)}}},e.options.map(function(e){return r.a.createElement(D.a,{key:e.id,value:e.value},e.label)}),e.addButton?r.a.createElement(D.a,{id:e.id+"_add_btn",value:"add",className:t.root},r.a.createElement(X.a,{icon:Z.A,style:{color:"#0D5E40",marginRight:"10px"}})," ",e.addButtonLabel):null),!0===e.error?r.a.createElement(R.a,{id:e.id+"_error",className:t.errorText},e.error_message):null))};Bl.defaultProps={disabled:!1,error:!1,error_message:""};var Il=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",marginBottom:"25px"},dialogTitle:{paddingTop:e.spacing(5)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},cancelButton:{width:100,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},addButton:{minWidth:100},label:{fontSize:"13px",fontWeight:400},batchName:{minWidth:"280px"},errorText:{marginTop:"5px",color:"#E53935"}}}),Rl=function(e){var t=e.isModalOpen,a=e.id,r=Il(),i=Object(n.useState)(""),o=Object(g.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(!1),m=Object(g.a)(c,2),d=m[0],u=m[1],p=Object(n.useState)("Name is required"),f=Object(g.a)(p,2),b=f[0],_=f[1];return Object(n.useEffect)(function(){e.isModalOpen&&s("")},[e.isModalOpen]),n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:a+"_title"},n.createElement("div",{className:r.dialogFirstTitle},"Add Batch Name")),n.createElement(V.a,{className:r.dialogContent},n.createElement(F.a,{className:r.label,htmlFor:"add_new_batch_name_field"},"Name"),n.createElement(j.a,{"data-cy":"add_new_batch_name_field",id:"add_new_batch_name_field",style:{marginTop:"8px",width:"100%"},className:r.batchName,margin:"normal",variant:"outlined",value:l,onChange:function(e){var t=e.target.value;s(t),u(!1)},error:d,inputProps:{"aria-label":"bare"},"aria-describedby":"component-error-text"}),!0===d?n.createElement(R.a,{id:"add_new_batch_name_field_error",className:r.errorText},b):null),n.createElement(q.a,{className:r.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:6,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"cancel_add_new_batch_btn",id:"cancel_add_new_batch_btn",className:r.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:6,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"add_new_batch_btn",id:"add_new_batch_btn",className:r.addButton,variant:"contained",color:"primary",onClick:function(){if(l)if(e.batchnames){for(var t in e.batchnames)if(e.batchnames[t].label&&e.batchnames[t].label.toLowerCase()===l.toLowerCase())return u(!0),void _("Name already exist");e.onAdd(l)}else e.onAdd(l);else u(!0),_("Name is required")}},"Add")))))};Rl.defaultProps={isModalOpen:!1,id:"modal_id"};a(818);var Ll=Object(y.a)({root:{borderTop:"0.5px solid rgba(60, 57, 74, 0.3)",color:"#0d5e40",fontSize:"14px",textDecoration:"underline"},errorText:{marginTop:"5px",color:"#E53935"},autoComplete:{padding:0},"& div":{"& input":{padding:0}}}),Wl=function(e){var t=Ll();return r.a.createElement("div",null,r.a.createElement(F.a,{style:"small"===e.labelSize?{fontSize:"0.75rem"}:void 0,htmlFor:"data-map-select"},e.label),r.a.createElement(k.a,{style:{width:"100%",margin:"8px 0"},error:e.error},r.a.createElement(C.a,{id:e.id,"data-cy":e.id,className:"custom-autocomplete".concat(e.labelSize?"-small":""),classNamePrefix:"custom-autocomplete".concat(e.labelSize?"-small":""),formatOptionLabel:e.formatOptionLabel,value:e.value,options:e.options,onChange:function(t){e.onChange(t)},isDisabled:e.disabled}),!0===e.error?r.a.createElement(R.a,{id:e.id+"_error",className:t.errorText},e.error_message):null))};Wl.defaultProps={disabled:!1,error:!1,error_message:""};var zl=Object(y.a)({label:{fontSize:"1rem"},errorText:{marginTop:"5px",color:"#E53935"},errorText2:{color:"#E53935",marginTop:"0px"}}),Ul=function(e){var t=Object(n.useState)(function(){return e.responseData.map(function(e){return{id:e._id,value:e._id,label:e.registered_name}})}),a=Object(g.a)(t,1)[0],r=Object(n.useState)([{id:1,value:"Email",label:"Email"},{id:2,value:"Fax",label:"Fax"},{id:3,value:"Client Portal",label:"Client Portal"}]),i=Object(g.a)(r,1)[0],o=Object(n.useState)(e.details_data.account),l=Object(g.a)(o,2),s=l[0],c=l[1],m=Object(n.useState)(e.details_data.sender_name),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)(e.details_data.sender_email),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)(e.details_data.date_sent),E=Object(g.a)(v,2),y=E[0],x=E[1],O=Object(n.useState)(e.details_data.number_of_members),C=Object(g.a)(O,2),S=C[0],w=C[1],k=Object(n.useState)(!1),N=Object(g.a)(k,2),D=N[0],T=N[1],M=Object(n.useState)([]),P=Object(g.a)(M,2),A=P[0],B=P[1],I=zl();function L(t){if(t&&e.contracts_data){var a=e.contracts_data.find(function(e){return e._id===t});if(a&&a.contract_objects){var n=[],r=[];for(var i in a.contract_objects){var o=a.contract_objects[i];-1===n.indexOf(o._id)&&(r.push({id:o._id,value:o._id,label:"Contract ".concat(Object(Tn.get)(o,"version",""))}),n.push(o._id))}return r}return[]}return[]}return console.log("DETAILS_DATA",e.details_data),Object(n.useEffect)(function(){var t=L(e.client_id);B(t)},[e.contracts_data]),Object(n.useEffect)(function(){c(e.details_data.account),p(e.details_data.sender_name),h(e.details_data.sender_email),x(e.details_data.date_sent),w(e.details_data.number_of_members)},[e.details_data]),n.createElement(J.a,{container:!0,alignItems:"stretch",className:Object(tt.default)("member-body")},n.createElement(J.a,{item:!0,xs:12},n.createElement(J.a,{item:!0,container:!0,spacing:4},n.createElement(J.a,{item:!0,xs:4},n.createElement(Wl,{"data-cy":"add_details_account_select",id:"add_details_account_select",options:a,disabled:!e.isAddMembersTicket,label:"Corporate Account *",value:s,error:e.state_data.account_error,error_message:e.state_data.account_error_message,addButton:!1,addButtonLabel:"",onChange:function(t){c(t);var a=Object(Tn.cloneDeep)(e.details_data);a.account=t,a.contract={id:"",value:"",label:""},e.updateDetails(a,"account"),t.id&&function(t,a){var n=L(t._id);B(n),a&&1===n.length&&e.updateDetails(n[0],"contract"),void 0!==t.member_data_fields&&e.updateState(t.member_data_fields,"system_names")}(e.responseData.find(function(e){return e._id===t.id}),!1)}})),n.createElement(J.a,{item:!0,xs:4},n.createElement(Bl,{"data-cy":"add_details_contract_select",id:"add_details_contract_select",options:A,label:"Contract *",disabled:!e.isAddMembersTicket,value:e.details_data.contract,error:e.state_data.contract_error,error_message:e.state_data.contract_error_message,addButton:!1,addButtonLabel:"",onChange:function(t){var a=Object(Tn.cloneDeep)(e.details_data);if(a.contract=t,e.updateDetails(a,"contract"),t.id){var n=e.getBatchNames(t.value,e.details_data.account.value,e.contracts_data);e.updateState(n,"batchnames")}}})))),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("member-body")},n.createElement(J.a,{item:!0,container:!0,spacing:4},n.createElement(J.a,{item:!0,xs:4},n.createElement(Bl,{"data-cy":"add_details_sent_channel_select",id:"add_details_sent_channel_select",options:i,label:"Sent through channel *",value:e.details_data.sent_through_channel,error:e.state_data.sent_through_channel_error,error_message:e.state_data.sent_through_channel_error_message,addButton:!1,addButtonLabel:"",onChange:function(t){var a=e.details_data;a.sent_through_channel=t,e.updateDetails(a,"sent_through_channel")}})),n.createElement(J.a,{item:!0,xs:4},n.createElement(Pl,{"data-cy":"add_details_date_sent_picker",id:"add_details_date_sent_picker",placeholder:"Date Sent",value:y,maxDate:new Date,error:e.state_data.date_sent_error,error_message:e.state_data.date_sent_error_message,onChange:function(t){x(t);var a=e.details_data;a.date_sent=t,e.updateDetails(a,"date_sent")}})))),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("member-body")},n.createElement(J.a,{item:!0,container:!0,spacing:4},n.createElement(J.a,{item:!0,xs:4},n.createElement(F.a,{className:I.label,htmlFor:"add_details_sender_name_field"},"Sender Name *"),n.createElement(j.a,{"data-cy":"add_details_sender_name_field",id:"add_details_sender_name_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",value:u,onChange:function(t){var a=t.target.value;p(a);var n=e.details_data;n.sender_name=a,e.updateDetails(n,"sender_name")},error:e.state_data.sender_name_error,inputProps:{"aria-label":"bare"}}),!0===e.state_data.sender_name_error?n.createElement(R.a,{id:"add_details_sender_name_field_error",className:I.errorText},e.state_data.sender_name_error_message):null),n.createElement(J.a,{item:!0,xs:4},n.createElement(F.a,{className:I.label,htmlFor:"add_details_sender_email_field"},"Sender Email"," ",e.details_data.sent_through_channel&&"Email"===e.details_data.sent_through_channel.value?"*":null),n.createElement(j.a,{"data-cy":"add_details_sender_email_field",id:"add_details_sender_email_field",style:{marginTop:"8px",width:"100%"},type:"email",margin:"normal",variant:"outlined",value:_,error:e.state_data.sender_email_error,onChange:function(t){var a=t.target.value;h(a);var n=e.details_data;n.sender_email=a,e.updateDetails(n,"sender_email")},inputProps:{"aria-label":"bare"}}),!0===e.state_data.sender_email_error?n.createElement(R.a,{id:"add_details_sender_email_error",className:I.errorText},e.state_data.sender_email_error_message):null))),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("member-body")},n.createElement(J.a,{item:!0,container:!0,spacing:4},n.createElement(J.a,{item:!0,xs:3},n.createElement(Bl,{"data-cy":"add_details_batch_name_select",id:"add_details_batch_name_select",options:e.batchnames,label:"Batch Name",value:e.details_data.batch_name,addButton:!0,addButtonLabel:"New Batch",onChange:function(t){if("add"!==t.value){var a=e.details_data;a.batch_name=t,e.updateDetails(a,"batch_name")}else T(!0)},error:e.state_data.batch_name_error,error_message:e.state_data.batch_name_error_message})),n.createElement(J.a,{item:!0,xs:3},n.createElement(F.a,{className:I.label,htmlFor:"add_details_number_members_field"},"No. of Members"),n.createElement(j.a,{"data-cy":"add_details_number_members_field",id:"add_details_number_members_field",style:{marginTop:"8px"},type:"number",margin:"normal",variant:"outlined",value:S,onChange:function(t){var a=t.target.value;w(a);var n=e.details_data;n.number_of_members=a,e.updateDetails(n,"number_of_members")},error:e.state_data.number_of_members_error,inputProps:{"aria-label":"bare",min:0},InputProps:{onKeyDown:function(e){"-"!==e.key&&"."!==e.key&&"+"!==e.key&&"e"!==e.key&&"E"!==e.key||e.preventDefault()},onPaste:function(e){var t=e.clipboardData;if(t&&t.getData("text")){var a=t.getData("text");try{var n=parseFloat(a);(isNaN(n)||n<0||a.includes("."))&&e.preventDefault()}catch(r){e.preventDefault()}}}}}),!0===e.state_data.number_of_members_error?n.createElement(R.a,{id:"add_details_number_of_members_error",className:I.errorText2},e.state_data.number_of_members_error_message):null))),n.createElement(J.a,{item:!0,xs:12},n.createElement(Rl,{id:"add_new_batch_modal",batchnames:e.batchnames,isModalOpen:D,onClose:function(){T(!1)},onAdd:function(t){var a=e.batchnames,n={id:a.length+1,value:t,label:t};a.push(n),e.updateState("batchnames",a);var r=e.details_data;r.batch_name=n,e.updateDetails(r,"batch_name"),T(!1)}})))};Ul.defaultProps={client_id:"",proposal_id:""};var Yl=a(96),Vl=a(184),Hl=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},boldText:{fontWeight:"bold"},submitButton:{width:115,border:"1px solid #3AB77D",backgroundColor:"##3AB77D",color:"#FFFFFF"},cancelButton:{width:115,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),ql=function(e){var t=e.isModalOpen,a=e.id,r=Hl();return n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},e.title,n.createElement(ne.a,{"data-cy":"modal_component_close_btn",id:"modal_component_close_btn","aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0,className:r.dialogContentContainer},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},e.message)),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{"data-cy":"modal_component_okay_btn",id:"modal_component_okay_btn",className:e.isPrimary?r.submitButton:r.cancelButton,variant:"contained",color:e.isPrimary?"primary":"secondary",onClick:e.onClose},"Okay"))))))};ql.defaultProps={id:"modal_id",isModalOpen:!1,isPrimary:!1};var Gl=a(2026),Jl=a(2101),Kl=a(2100),Xl=Object(y.a)(function(e){return{success:{backgroundColor:"#E6F5F6",borderColor:"#E6F5F6"},error:{backgroundColor:e.palette.error.light,borderColor:e.palette.error.light},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Kl.a[700]},icon:{fontSize:20,color:"#363636"},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{color:"#272E4C",display:"flex",alignItems:"center"}}});function Zl(e){var t=Xl(),a=e.className,n=e.message,i=e.onClose,o=e.variant,l=Object(Wn.a)(e,["className","message","onClose","variant"]);return r.a.createElement(Gl.a,Object.assign({className:Object(tt.default)(t[o],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},n),action:[r.a.createElement(ne.a,{key:"close","aria-label":"close",color:"inherit",onClick:i},r.a.createElement(Xe.a,{className:t.icon}))]},l))}var Ql=function(e){var t=Object(n.useState)(e.isOpen),a=Object(g.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(e.variant),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)(e.message),u=Object(g.a)(d,2),p=u[0],f=u[1];function b(){e.onSnackbarClose&&e.onSnackbarClose()}return Object(n.useEffect)(function(){o(e.isOpen),m(e.variant),f(e.message)},[e.isOpen,e.variant,e.message]),r.a.createElement(Jl.a,{open:i,onClose:b,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(Zl,{variant:c,message:p,onClose:b}))};Ql.defaultProps={isOpen:!1,message:"",variant:"success"};var $l=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",width:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},boldText:{fontWeight:"bold"},cancelButton:{width:115,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),es=function(e){var t=e.isModalOpen,a=e.id,r=$l();return n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},e.title,n.createElement(ne.a,{"data-cy":"missing_column_error_close_btn",id:"missing_column_error_close_btn","aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0,className:r.dialogContentContainer},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},e.message)),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{"data-cy":"missing_column_error_ok_btn",id:"missing_column_error_ok_btn",className:r.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Ok"))))))};es.defaultProps={isModalOpen:!1,id:"modal_id"};var ts=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",width:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},boldText:{fontWeight:"bold"},saveButton:{minWidth:100},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},contentText:{fontWeight:700},label:{fontSize:"1rem"},errorText2:{color:"#E53935",marginTop:"0px"},numberField:{marginTop:e.spacing(2),paddingLeft:e.spacing(6)}}}),as=function(e){var t=e.isModalOpen,a=e.id,r=ts(),i=Object(n.useState)(""),o=Object(g.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(!1),m=Object(g.a)(c,2),d=m[0],u=m[1],p=Object(n.useState)(""),f=Object(g.a)(p,2),b=f[0],_=f[1];return Object(n.useEffect)(function(){s(e.state_data.number_of_members)},[e.state_data]),n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},e.title,n.createElement(ne.a,{"data-cy":"conflict_member_number_close_btn",id:"conflict_member_number_close_btn","aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0,className:r.dialogContentContainer},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},n.createElement("span",null,"This batch was set to have ",n.createElement("span",{className:r.contentText},(new Intl.NumberFormat).format(e.state_data.number_of_members)," members "),"but the file you\u2019re trying to upload has ",n.createElement("span",{className:r.contentText},(new Intl.NumberFormat).format(e.state_data.rows)," rows. "),"Please update the number of members in the batch upload."),n.createElement(J.a,{container:!0,justify:"center",alignItems:"center",className:r.numberField},n.createElement(J.a,{item:!0,xs:12},n.createElement(F.a,{className:r.label,htmlFor:"conflict_member_number_error_field"},"No. of Members"),n.createElement(j.a,{"data-cy":"conflict_member_number_error_field",id:"conflict_member_number_error_field",style:{marginTop:"8px"},type:"number",margin:"normal",variant:"outlined",value:l,onChange:function(e){var t=e.target.value;s(t)},error:d,inputProps:{"aria-label":"bare"}}),!0===d?n.createElement(R.a,{id:"add_details_number_of_members_error",className:r.errorText2},b):null)))),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{"data-cy":"conflict_member_number_save_btn",id:"conflict_member_number_save_btn",className:r.saveButton,variant:"contained",color:"primary",onClick:function(){return""===l||0===l?(u(!0),void _("Number of members is required.")):parseInt(l)!==e.state_data.rows?(u(!0),void _("Number of members not equal to the rows of file.")):void(e.onSave&&e.onSave(l))}},"Save"))))))};as.defaultProps={isModalOpen:!1,id:"modal_id"};var ns=a(2024),rs=Object(y.a)({root:{width:"100%"},tableWrapper:function(e){return{overflow:"auto",maxHeight:e.maxHeight?e.maxHeight:"auto"}},tableHeader:{backgroundColor:"#272E4C"},select:{backgroundColor:"transparent"},table:{"& th:not(:last-child)":{borderRight:"1px solid rgba(60, 57, 74, 0.3);"},"& td:not(:last-child)":{borderRight:"1px solid rgba(60, 57, 74, 0.3);"}},cell:{padding:"10px 40px 10px 16px"}}),is=function(e){var t=n.useState(e.id),a=Object(g.a)(t,2),r=a[0],i=a[1],o=n.useState(e.rows),l=Object(g.a)(o,2),s=l[0],c=l[1],m=n.useState(e.columns),d=Object(g.a)(m,2),u=d[0],p=d[1];n.useEffect(function(){i(e.id),c(e.rows),p(e.columns)},[e.id,e.rows,e.columns]);var f=rs(e);function b(t){e.handleChange&&e.handleChange(t.target.value,t.target.name,e.name)}return n.createElement(N.a,{className:f.tableWrapper},n.createElement(Ri.a,{id:r,stickyHeader:!0,className:f.table},n.createElement(Li.a,{className:f.tableHeader},n.createElement(Ii.a,null,u.map(function(e,t){return n.createElement(qn.a,{className:f.cell,key:t,align:e.align,style:{minWidth:e.minWidth}},e.title)}))),n.createElement(Wi.a,null,s.map(function(t,a){return n.createElement(Ii.a,{role:"checkbox",tabIndex:-1,key:t.code,className:t.className?t.className:""},u.map(function(r,i){var o=t[r.name],l=!!t.required&&t.required;return r.type?function(t,a,r,i){var o,l=a[t.name];switch(t.type){case"select":if(t.options){var c=[];if("column names"===e.name||"add_new_data_map"===e.name){var m=s.map(function(e){if(""!==e.sheet_name)return e.sheet_name});for(var d in t.options){var u=t.options[d];""===u.value||-1!==m.indexOf(u.value)&&u.value!==l||c.push(u)}c.length>=1&&c.unshift({id:"",value:"",label:""}),0===c.length&&c.push({id:"",value:"no_data_available",label:"No data available"})}else{var p=Object(Ln.a)(t.options);p.push({id:a.values,value:"".concat(a.values," - For Validation"),label:"For Validation"}),c=p}o=n.createElement(qn.a,{className:f.cell,key:i,align:t.align},n.createElement(A.a,{id:t.id,className:f.select,value:l,name:r.toString(),onChange:b,style:{width:"100%",backgroundColor:"transparent"}},c.map(function(e,t){return n.createElement(D.a,{key:t,value:e.value,disabled:"no_data_available"===e.value},e.label)})))}else o=n.createElement(qn.a,{className:f.cell,key:i,align:t.align},t.format&&"number"===typeof l?t.format(l):l);break;default:o=n.createElement(qn.a,{className:f.cell,key:i,align:t.align},t.format&&"number"===typeof l?t.format(l):l)}return o}(r,t,a,i):n.createElement(qn.a,{className:f.cell,key:i,align:r.align},r.format&&"number"===typeof o?r.format(o):o,l?" *":"")}))}),0===s.length?n.createElement(Ii.a,{role:"checkbox",tabIndex:-1},n.createElement(qn.a,{className:f.cell,align:"center",colSpan:u.length},e.empty_message)):null)))};is.defaultProps={rows:[],columns:[]};var os=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"250px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:"5px",fontSize:"16px",color:"#272E4C",fontWeight:600,padding:"16px 18px"},dialogAction:{marginBottom:e.spacing(1),justifyContent:"center",padding:"3px"},dialogContentContainer:{width:"100%"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},saveButton:{width:115,marginLeft:25},label:{fontSize:"1rem"},errorText:{marginTop:"0px",marginBottom:"5px",color:"#E53935"},errorText2:{marginTop:"10px",color:"#E53935"}}}),ls=function(e){var t=e.isModalOpen,a=e.account,r=e.id,i=os(),o="add_new_data_map",l=Object(n.useState)(""),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)(!1),u=Object(g.a)(d,2),p=u[0],f=u[1],b=Object(n.useState)(!1),_=Object(g.a)(b,2),h=_[0],v=_[1],E=Object(n.useState)(""),y=Object(g.a)(E,2),x=y[0],O=y[1],C=Object(n.useState)(!1),S=Object(g.a)(C,2),w=S[0],k=S[1],N=Object(n.useState)(""),D=Object(g.a)(N,2),T=D[0],M=D[1];return Object(n.useEffect)(function(){e.isModalOpen&&(m(""),function(){var t=e.data,a=t.rows,n=t.columns;if(!a||!n)return;var r=Object(Tn.find)(n,function(e){return!(!e.type||"select"!==Object(Tn.lowerCase)(e.type))});if(!r||!r.options)return;for(var i=r.options,l=a.length,s=function(e){var n=a[e].system_name,r=Object(Tn.find)(i,function(e){return Object(Tn.lowerCase)(n)===Object(Tn.lowerCase)(e.value)});r&&(t.rows[e].sheet_name=r.value)},c=0;c<l;c++)s(c);e.setDataValues(t,o)}())},[e.isModalOpen]),n.createElement(U.a,{id:r,open:t,"aria-labelledby":"modal-title",className:i.dialog},n.createElement("div",null,n.createElement(J.a,{container:!0,className:i.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:i.dialogTitle,disableTypography:!0,id:"modal-title"},e.title)),n.createElement(J.a,{item:!0,xs:!0,className:i.dialogContentContainer},n.createElement(V.a,{className:i.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:i.dialogContentText},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(F.a,{className:i.label,htmlFor:"add_new_data_map_field"},"Name"),n.createElement(j.a,{"data-cy":"add_new_data_map_field",id:"add_new_data_map_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",value:c,onChange:function(e){var t=e.target.value;m(t),v(!1),O("")},error:h,inputProps:{"aria-label":"bare"}}),!0===h?n.createElement(R.a,{id:"add_new_data_map_field_error",className:i.errorText},x):null),n.createElement(J.a,{item:!0,xs:12},n.createElement(is,{"data-cy":"add_new_data_map_table",id:"add_new_data_map_table",rows:Object.keys(e.data).length>0?e.data.rows:[],columns:Object.keys(e.data).length>0?e.data.columns:[],empty_message:"No data available.",name:o,handleChange:function(t,a,n){var r=e.data;r.rows[parseInt(a)].sheet_name=t,e.setDataValues(r,n),k(!1),M("")},maxHeight:"300px"}),!0===w?n.createElement(R.a,{id:"add_new_data_map_field_error",className:i.errorText2},T):null),n.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"5px"}},n.createElement(ns.a,null,n.createElement(K.a,{control:n.createElement(G.a,{"data-cy":"add_new_data_map_set_default",id:"add_new_data_map_set_default",checked:p,style:{padding:"5px"},color:"primary",onChange:function(e){f(e.target.checked)}}),label:"Set as template default for ".concat(a)})))))),n.createElement(q.a,{className:i.dialogAction},n.createElement(z.a,{"data-cy":"cancel_new_data_map_btn",id:"cancel_new_data_map_btn",className:i.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Cancel"),n.createElement(z.a,{"data-cy":"save_new_data_map_btn",id:"save_new_data_map_btn",className:i.saveButton,variant:"contained",color:"primary",onClick:function(){var t=0;""!==c&&void 0!==c||(v(!0),O("Name is required."),t+=1);var a=!1;for(var n in e.data.rows){var r=e.data.rows[n];if(""!==r.sheet_name&&void 0!==r.sheet_name){a=!0;break}}if(a||(t+=1,k(!0),M("Please set mapping.")),0===t){e.onClose();var i={client_id:"",name:c,is_default:p,mapping:[]};for(var o in e.data.rows){var l=e.data.rows[o];""!==l.sheet_name&&void 0!==l.sheet_name&&i.mapping.push({system_name:l.system_name,sheet_name:l.sheet_name})}e.savingNewDataMap(i)}}},"Save"))))))};ls.defaultProps={isModalOpen:!1,id:"modal_id"};var ss=a(2102),cs=Object(y.a)(function(e){return Object(x.a)({root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"1rem",fontWeight:600},dialogTitleProcessing:{color:"#272E4C"},dialogTitleDone:{color:"#3ab77d"},dialogTitleTicket:{marginLeft:"16px",fontSize:"0.875rem",fontWeight:500,color:"#151c1b80",textTransform:"uppercase"},dialogTitleSubtext:{fontSize:"0.875rem",fontWeight:400,color:"#272E4C"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},boldText:{fontWeight:"bold"},cancelButton:{marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{marginLeft:25},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},linearProgress:{height:10,colorPrimary:{backgroundColor:"#3ab77d"},barColorPrimary:{backgroundColor:"#151c1b80"}},progress:{fontSize:"1rem",fontWeight:600},progressCount:{color:"#3ab77d"},progressTotalCount:{color:"#151c1b80"}})}),ms=function(e){var t=cs(),a=Object(n.useState)(!0),i=Object(g.a)(a,1)[0],o=Object(n.useState)("xl"),l=Object(g.a)(o,1)[0],s=Object(n.useState)(""),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(""),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Object(n.useState)(t.dialogTitleDone),x=Object(g.a)(y,2),O=x[0],C=x[1],S=Object(n.useState)(0),w=Object(g.a)(S,2),k=w[0],j=w[1],N=Object(n.useState)(0),D=Object(g.a)(N,2),T=D[0],M=D[1],F=Object(n.useState)(0),P=Object(g.a)(F,2),A=P[0],B=P[1],I=Object(n.useState)([]),R=Object(g.a)(I,2),L=R[0],W=R[1];Object(n.useEffect)(function(){if(e.status){var t=e.status,a=t.status,n=t.active_index,r=t.total_count;if(!Object(Tn.isNil)(a)&&!Object(Tn.isNil)(n)&&!Object(Tn.isNil)(r)){var i=n/r*100;d(a),M(r),j(n),B(i)}}},[e.status]),Object(n.useEffect)(function(){X(),Z()},[m]);var H=function(){e.onCancelProcess&&e.onCancelProcess()},G=function(){e.onBackToDashboard&&e.onBackToDashboard()},K=function(){e.onConfirmEnrollment&&e.onConfirmEnrollment()},X=function(){var e=O,a=f,n=v;switch(Object(Tn.toLower)(m)){case Object(Tn.toLower)("SUCCESS"):a="Finished Processing Members",n="Processing the member list is done. You may proceed with the enrollment.",e=t.dialogTitleDone;break;case Object(Tn.toLower)("ONGOING"):case Object(Tn.toLower)("INITIAL"):a="Processing Members",n="Please wait while we process the members you uploaded. You may go back to this page later or check the dashboard for its progress.",e=t.dialogTitleProcessing;break;default:a=f,n=v,e=O}b(a),E(n),C(e)},Z=function(){var e=[];switch(Object(Tn.toLower)(m)){case Object(Tn.toLower)("SUCCESS"):e=[r.a.createElement(z.a,{"data-cy":"member_upload_status_confirm_btn",id:"member_upload_status_confirm_btn",key:"confirm-enrollment-btn",className:t.submitButton,variant:"contained",color:"primary",onClick:K},"Confirm Enrollment")];break;case Object(Tn.toLower)("INITIAL"):case Object(Tn.toLower)("ONGOING"):e=[r.a.createElement(z.a,{"data-cy":"member_upload_status_cancel_btn",id:"member_upload_status_cancel_btn",key:"cancel-process-btn",className:t.cancelButton,variant:"contained",color:"secondary",onClick:H},"Cancel Process"),r.a.createElement(z.a,{"data-cy":"member_upload_status_dashboard_btn",id:"member_upload_status_dashboard_btn",key:"back-dashboard-btn",className:t.submitButton,variant:"contained",color:"primary",onClick:G},"Back to Dashboard")];break;default:e=[]}W(e)};return r.a.createElement(U.a,{id:e.id,open:e.isOpen,fullWidth:i,maxWidth:l,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(Y.a,{id:"".concat(e.id,"-dialog-title"),className:t.dialogTitle,disableTypography:!0},r.a.createElement("div",null,r.a.createElement("span",{id:"member_upload_status_title",className:Object(tt.default)(t.dialogTitle,O)},f),r.a.createElement("span",{id:"member_upload_status_ticket_id",className:t.dialogTitleTicket},"TICKET ID: ",e.ticketId||"-")),r.a.createElement("div",null,r.a.createElement("span",{className:t.dialogTitleSubtext},v))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"stretch",direction:"column",spacing:1},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(ss.a,{"data-cy":"member_upload_status_progress",id:"member_upload_status_progress",className:t.linearProgress,variant:"determinate",value:A})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("div",null,r.a.createElement("span",{"data-cy":"member_upload_status_processed_entries",id:"member_upload_status_processed_entries",className:Object(tt.default)(t.progress,t.progressCount)},"".concat(k,"/")),r.a.createElement("span",{"data-cy":"member_upload_status_total_entries",id:"member_upload_status_total_entries",className:Object(tt.default)(t.progress,t.progressTotalCount)},"".concat(T," entries")))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(ll,{id:"upload_file_table",rows:Object.keys(e.uploadedData).length>0?e.uploadedData.rows:[],columns:Object.keys(e.uploadedData).length>0?e.uploadedData.columns:[],message:"No available data",onClickRow:function(){},disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,formattedColumns:Object.keys(e.uploadedData).length>0?e.uploadedData.formattedColumns:{},columnExtensions:Object.keys(e.uploadedData).length>0?e.uploadedData.columnExtensions:[],pageSize:10})))),r.a.createElement(q.a,{className:t.dialogAction},L))};ms.defaultProps={id:"member-upload-status-modal-id",isOpen:!1};var ds=Object(y.a)({listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(44, 46, 142, 1)",cursor:"pointer",textDecoration:"underline"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:400,color:"rgba(39, 46, 76, 0.5)",cursor:"pointer"},listBorder:{borderRight:"1px solid rgba(60, 57, 74, 0.16)"},error:{marginTop:"15px",color:"#E53935"},spanFont:{fontWeight:700}}),us=function(e){var t=function(t){return e.uploadMemberData[t]},a=Object(n.useState)(!1),r=Object(g.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(!1),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)("Cancel processing of members"),u=Object(g.a)(d,1)[0],p=Object(n.useState)(""),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)(e.column_names),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)(e.uploaded_data),O=Object(g.a)(x,2),C=O[0],w=O[1],k=Object(n.useState)(!1),N=Object(g.a)(k,2),D=N[0],T=N[1],M=Object(n.useState)(t("selected_filename")),P=Object(g.a)(M,2),A=P[0],B=P[1],I=Object(n.useState)("gender"),R=Object(g.a)(I,2),L=R[0],W=R[1],U=Object(n.useState)(!1),Y=Object(g.a)(U,2),V=Y[0],H=Y[1],q=Object(n.useState)(""),G=Object(g.a)(q,2),K=G[0],Q=G[1],$=Object(n.useState)(""),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],le=Object(n.useState)(null),se=Object(g.a)(le,2),de=se[0],pe=se[1],fe=Object(n.useState)(!1),be=Object(g.a)(fe,2),ge=be[0],_e=be[1],he=Object(n.useState)({}),ve=Object(g.a)(he,2),Ee=ve[0],ye=ve[1],xe=Object(n.useState)(!1),Oe=Object(g.a)(xe,2),Ce=Oe[0],Se=Oe[1],we=Object(n.useState)(!1),ke=Object(g.a)(we,2),je=ke[0],Ne=ke[1],De=Object(n.useState)("File successfully uploaded."),Te=Object(g.a)(De,1)[0],Me=Object(n.useState)("success"),Fe=Object(g.a)(Me,1)[0];Object(n.useEffect)(function(){y(e.column_names)},[e.column_names]),Object(n.useEffect)(function(){w(e.uploaded_data)},[e.uploaded_data]),Object(n.useEffect)(function(){e.isProcessing&&e.getProcessingStatus()},[e.isProcessing]),Object(n.useEffect)(function(){if(e.processingStatus){var t=e.processingStatus,a=t.status,n=t.active_index,r=t.total_count,i=t.message;Object(Tn.isNil)(n)||Object(Tn.isNil)(r)||_("".concat(n," out of ").concat(r," members are already processed. Cancelling this will stop the enrollment and all progress will not be saved. Are you sure you want to cancel?")),["INITIAL","ONGOING","SUCCESS"].includes(a)?o(!0):"FAILED"===a&&(ae("Processing of Members Failed"),Object(Tn.toLower)(i)===Object(Tn.toLower)("Attempt to write outside buffer bounds")?Q("Processing of members failed. Please try again."):Q(i),o(!1),H(!0))}},[e.processingStatus]),Object(n.useEffect)(function(){e.filtered_raw_data&&e.filtered_raw_data.columns&&e.filtered_raw_data.data_values&&e.filtered_raw_data.rows&&Re(e.filtered_raw_data,e.selected_data_map)},[e.filtered_raw_data,e.selected_data_map]),Object(n.useEffect)(function(){var e=t("selected_filename");T(!!e),B(e)},[e.uploadMemberData]);var Pe=function(t,a){e.updateUploadMemberData&&e.updateUploadMemberData(t,a)},Ae=ds(),Be={formattedColumns:{},columnExtensions:[],columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header"}],rows:[{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""}]};function Ie(e,t,a){for(var n in e){var r=e[n];for(var i in void 0===a.data_values[r]&&(a.data_values[r]=[]),t)void 0!==t[i][n]&&null!==t[i][n]&&""!==t[i][n]&&-1===a.data_values[r].indexOf(t[i][n])&&a.data_values[r].push(t[i][n])}return a}function Re(t,a){var n=t.columns,r=t.rows,i={formattedColumns:{},columnExtensions:[],columns:[],rows:[]},o={columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header",type:"select",options:[{id:"",value:"",label:""}]}],rows:[]};for(var l in n)if(n[l]){var s=n[l].replace(" ","_").toLowerCase();i.columns.push({name:s,title:n[l]}),i.columnExtensions.push({columnName:s,wordWrapEnabled:!0}),o.columns[1].options.push({id:n[l],value:n[l],label:n[l]})}var c=Le(o,t,i,a);for(var m in o=c.temp_table,i=c.temp_tables,r){var d={};for(var u in i.columns)d[i.columns[u].name]=r[m][u];i.rows.push(d)}e.updateState(i,"uploaded_data"),e.updateState(o,"columns_data")}function Le(t,a,n,r){var i=["Gender","Civil Status","Plan Type","Type","Relationship to Principal"],o=[];e.column_names&&(o=e.column_names.rows);var l=function(e){return o.find(function(t){return t.system_name===e})},s=function(e,t){var a=Object(Tn.find)(e,function(e){var a=Object(Tn.lowerCase)(t),n=Object(Tn.lowerCase)(e);return a===n||Object(Tn.replace)(a," ","_")===n});return null!==a&&void 0!==a};if(r){var c=Object(Tn.cloneDeep)(e.data_maps),m=Object(Tn.find)(c,function(e){return e._id===r.id}),d=[];e.column_names&&e.column_names.rows&&(d=e.column_names.rows);if(m){var u=[],p=a.columns;for(var f in e.system_names){var b=e.system_names[f],g="",_="",h=function(){var e,a=m.mapping[v];if(a.system_name===b.system_name){if(p&&p.length>0&&-1!==p.indexOf(a.sheet_name)){g=a.sheet_name;var n=l(a.sheet_name);n&&(g=n.sheet_name)}else if(p&&p.length>0&&s(p,a.system_name)){g=Object(Tn.find)(p,function(e){var t=Object(Tn.lowerCase)(a.system_name),n=Object(Tn.lowerCase)(e);return t===n||Object(Tn.replace)(t," ","_")===n});var r=l(a.sheet_name);r&&(g=r.sheet_name)}else if(p&&0===p.length)g=a.sheet_name,t.columns[1].options.push({id:"",value:g,label:g});else{var i=(e=a,Object(Tn.find)(d,function(t){return t.system_name===e.system_name}));Object(Tn.isNil)(i)||(g=i.sheet_name)}return _=g.replace(" ","_").toLowerCase(),"break"}};for(var v in m.mapping){if("break"===h())break}if(-1!==i.indexOf(b.system_name)&&We(b.system_name,g,a),g&&!0===b.is_required){var E=g.replace(" ","_").toLowerCase();u.push(E)}t.rows.push({system_name:b.system_name,field_name:b.field_name,sheet_name:g,sheet_field:_,required:b.is_required})}Object.keys(n).length>0&&u.length>0?n.formattedColumns.required_columns=u:Object.keys(n).length>0&&(n.formattedColumns={})}}else for(var y in e.system_names){var x=e.system_names[y];t.rows.push({system_name:x.system_name,field_name:x.field_name,sheet_name:"",sheet_field:"",required:x.is_required})}return{temp_table:t,temp_tables:n}}function We(t,a,n){var r={columns:[{name:"values",title:"Values"},{name:"data_column",title:"Data Column",type:"select",options:[],callback:Ue}],rows:[]};switch(t.toLowerCase()){case"gender":if(n.data_values[a]){var i=n.data_values[a],o=[{id:"",value:"",label:""},{id:"",value:"Female",label:"Female"},{id:"",value:"Male",label:"Male"},{id:"",value:"Unspecified",label:"Unspecified"}];if(r.columns[1].options=o,i){var l=function(t){var a=i[t];if(e.gender_data){var n=e.gender_data.rows;if(n&&n.length>0){var l=n.find(function(e){return e.values===a});l&&(a=l.data_column)}}var s=o.find(function(e){return e.value===a}),c="";s&&(c=s.value),r.rows.push({values:i[t],data_column:c})};for(var s in i)l(s)}}e.updateState(r,"gender_data");break;case"civil status":if(n.data_values[a]){var c=n.data_values[a],m=[{id:"",value:"",label:""},{id:"",value:"Single",label:"Single"},{id:"",value:"Married",label:"Married"},{id:"",value:"Single Parent",label:"Single Parent"},{id:"",value:"Annulled",label:"Annulled"},{id:"",value:"Widowed",label:"Widowed"},{id:"",value:"Divorced",label:"Divorced"},{id:"",value:"Separated",label:"Separated"}];if(r.columns[1].options=m,c){var d=function(t){var a=c[t];if(e.civil_status_data){var n=e.civil_status_data.rows;if(n&&n.length>0){var i=n.find(function(e){return e.values===a});i&&(a=i.data_column)}}var o=m.find(function(e){return e.value===a}),l="";o&&(l=o.value),r.rows.push({values:c[t],data_column:l})};for(var s in c)d(s)}}e.updateState(r,"civil_status_data");break;case"plan type":if(n.data_values[a]){var u=n.data_values[a],p=[{id:"",value:"",label:""},{id:"",value:"default_plantype_placeholder",label:"Default"}],f=e.plan_type_options;if(f&&f.length>0&&(p=[{id:"",value:"",label:""}].concat(Object(Ln.a)(f))),r.columns[1].options=p,u){var b=function(t){var a=u[t];if(e.plan_type_data){var n=e.plan_type_data.rows;if(n&&n.length>0){var i=n.find(function(e){return e.values===a});i&&(a=i.data_column)}}var o=p.find(function(e){return e.value===a}),l="";o&&(l=o.value),r.rows.push({values:u[t],data_column:l})};for(var s in u)b(s)}}e.updateState(r,"plan_type_data");break;case"type":if(n.data_values[a]){var g=n.data_values[a],_=[{id:"",value:"",label:""},{id:"",value:"Principal",label:"Principal"},{id:"",value:"Dependent",label:"Dependent"},{id:"",value:"Extended Dependent",label:"Extended Dependent"}];if(r.columns[1].options=_,g){var h=function(t){var a=g[t];if(e.type_data){var n=e.type_data.rows;if(n&&n.length>0){var i=n.find(function(e){return e.values===a});i&&(a=i.data_column)}}var o=_.find(function(e){return e.value===a}),l="";o&&(l=o.value),r.rows.push({values:g[t],data_column:l})};for(var s in g)h(s)}}e.updateState(r,"type_data");break;case"relationship to principal":if(n.data_values[a]){var v=n.data_values[a],E=[{id:"",value:"",label:""},{id:"",value:"Mother",label:"Mother"},{id:"",value:"Father",label:"Father"},{id:"",value:"Brother",label:"Brother"},{id:"",value:"Sister",label:"Sister"},{id:"",value:"Husband",label:"Husband"},{id:"",value:"Wife",label:"Wife"},{id:"",value:"Son",label:"Son"},{id:"",value:"Daughter",label:"Daughter"},{id:"",value:"Grandmother",label:"Grandmother"},{id:"",value:"Grandfather",label:"Grandfather"},{id:"",value:"Grandson",label:"Grandson"},{id:"",value:"Granddaughter",label:"Granddaughter"},{id:"",value:"Common Law Partner",label:"Common Law Partner"},{id:"",value:"Same Sex Partner",label:"Same Sex Partner"},{id:"",value:"Auntie",label:"Auntie"},{id:"",value:"Uncle",label:"Uncle"},{id:"",value:"Niece",label:"Niece"},{id:"",value:"Nephew",label:"Nephew"},{id:"",value:"Cousin",label:"Cousin"},{id:"",value:"Household Help",label:"Household Help"}];if(r.columns[1].options=E,v){var y=function(t){var a=v[t];if(e.relationship_data){var n=e.relationship_data.rows;if(n&&n.length>0){var i=n.find(function(e){return e.values===a});i&&(a=i.data_column)}}var o=E.find(function(e){return e.value===a}),l="";o&&(l=o.value),r.rows.push({values:v[t],data_column:l})};for(var s in v)y(s)}}e.updateState(r,"relationship_data")}}function ze(t){"add"!==t.value?(e.updateState({columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header",type:"select",options:[{id:"",value:"",label:""}]}],rows:[]},"columns_data"),e.updateState(t,"selected_data_map")):(!function(){var t={columns:[{name:"system_name",title:"System Name",minWidth:"100px"},{name:"sheet_name",title:"Column Header",type:"select",options:[{id:"",value:"",label:""}]}],rows:[]};for(var a in e.system_names){var n=e.system_names[a];t.rows.push({system_name:n.system_name,field_name:n.field_name,sheet_name:"",sheet_field:""})}var r=e.raw_uploaded_data.columns;for(var i in r)r[i]&&t.columns[1].options.push({id:r[i],value:r[i],label:r[i]});e.updateState(t,"add_new_data_map")}(),Se(!0))}function Ue(t,a,n){var r={};switch(n){case"column names":if((r=e.column_names).rows[parseInt(a)].sheet_name=t,r.rows[parseInt(a)].sheet_field=""!==t&&void 0!==t&&null!==t?t.replace(" ","_").toLowerCase():"",We(r.rows[parseInt(a)].system_name,r.rows[parseInt(a)].sheet_name,e.filtered_raw_data),e.updateState(r,"columns_data"),!0===r.rows[parseInt(a)].required){var i=[];for(var o in r.rows){var l=r.rows[o];if(!0===l.required&&l.sheet_name){var s=l.sheet_name.replace(" ","_").toLowerCase();i.push(s)}}var c=e.uploaded_data;Object.keys(c).length>0&&(c.formattedColumns={},i.length>0&&(c.formattedColumns.required_columns=i),e.updateState(c,"uploaded_data"))}break;case"gender":(r=e.gender_data).rows[parseInt(a)].data_column=t,e.updateState(r,"gender_data");break;case"civil status":(r=e.civil_status_data).rows[parseInt(a)].data_column=t,e.updateState(r,"civil_status_data");break;case"plan type":(r=e.plan_type_data).rows[parseInt(a)].data_column=t,e.updateState(r,"plan_type_data");break;case"type":(r=e.type_data).rows[parseInt(a)].data_column=t,e.updateState(r,"type_data");break;case"relationship":(r=e.relationship_data).rows[parseInt(a)].data_column=t,e.updateState(r,"relationship_data")}}return n.createElement(J.a,{container:!0,alignItems:"stretch",className:Object(tt.default)("member-body")},D?null:n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("padding-top-20")},n.createElement(F.a,{htmlFor:"upload_member_file_drop",className:Object(tt.default)("h2-label")},"Upload File"),n.createElement(Yl.a,{onDrop:function(t){return function(t){if(t.length>0){e.showHideLoader(!0);var a=new FileReader;a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.onload=function(){var r=a.result,i=Vl.read(r,{type:"array",raw:!0}),o=i.SheetNames,l=i.Sheets[o[0]],s=Vl.utils.sheet_to_json(l,{header:1,raw:!1,blankrows:!1});if(0===s.length){e.showHideLoader(!1);return H(!0),ae("No available data in the file"),void Q("The file you\u2019re trying to upload is empty or has no available data. Please upload a new one.")}var c=[/\$/g,/\./g],m=Object(Tn.map)(s[0],function(e){var t=e;if(!Object(Tn.isNil)(t))for(var a in c)Object(Tn.isNil)(c[a])||(t=t.replace(c[a],""));return t});s.shift();var d={columns:m,rows:s,data_values:{}};if(e.updateState("","rows_start_at"),(d=Ie(m,s,d)).rows&&0===d.rows.length){e.showHideLoader(!1);return H(!0),ae("No available data in the file"),void Q("The file you\u2019re trying to upload is empty or has no available data. Please upload a new one.")}var u=0;for(var p in e.system_names){!0===e.system_names[p].is_required&&u++}if(m.length<u)return e.showHideLoader(!1),oe(!0),void pe(n.createElement("div",null,n.createElement("span",null,"The file you\u2019re trying to upload has less columns than the required data types. Please upload again with at least"," ",n.createElement("span",{className:Ae.spanFont},u," columns."))));if(e.showHideLoader(!1),e.updateState(d,"raw_uploaded_data"),e.rows_start_at){var f=parseInt(e.rows_start_at),b={rows:[],columns:d.columns,data_values:{}};if(f>0){var g=f-1;g<d.rows.length&&(b.rows=JSON.parse(JSON.stringify(d.rows)),b.rows.splice(0,g),b=Ie(m,b.rows,b))}e.updateState(b,"filtered_raw_data")}else e.updateState(d,"filtered_raw_data");Pe("selected_filename",t[0].name),T(!0),Ne(!0)},a.readAsArrayBuffer(t[0])}}(t)},accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, .csv"},function(e){var t=e.getRootProps,a=e.getInputProps;return n.createElement("section",null,n.createElement("div",Object.assign({className:Object(tt.default)("upload-file")},t()),n.createElement("input",Object.assign({"data-cy":"upload_member_file_drop",id:"upload_member_file_drop"},a())),n.createElement(X.a,{className:"fa-2x",icon:Z.s,style:{color:"rgba(39, 46, 76, 0.56)"}}),n.createElement("p",{style:{color:"rgba(39, 46, 76, 0.56)",fontWeight:400}},"Click or drag/drop file to preview member list"),n.createElement("p",{style:{color:"rgba(39, 46, 76, 0.56)",width:"370px",textAlign:"center",fontWeight:400}},"Make sure the dates are in the format where the",n.createElement("span",{style:{fontWeight:700}}," ","month is written first")," ","(ex: MM/DD/YYYY or YYYY/MM/DD)")))})),D?n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("padding-top-20")},n.createElement(J.a,{item:!0,container:!0,spacing:4,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:Object(tt.default)("sub-title"),color:"textPrimary"},"Preview of File"),n.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},n.createElement("span",null,n.createElement("span",null,A),n.createElement("span",{"data-cy":"upload_member_file_delete_btn",id:"upload_member_file_delete_btn",style:{paddingLeft:"10px",fontSize:"15px"},onClick:function(){T(!1);var t={rows:[],columns:[],formattedColumns:{}},a={columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header",type:"select",options:[{id:"",value:"",label:""}]}],rows:[]},n={columns:[],rows:[],data_values:{}},r=Le(a,n,t,e.selected_data_map);a=r.temp_table,t=r.temp_tables,e.updateState(n,"raw_uploaded_data"),e.updateState({},"filtered_raw_data"),e.updateState(t,"uploaded_data"),e.updateState(a,"columns_data"),e.updateState("","rows_start_at"),Pe("selected_filename",null)}},n.createElement(X.a,{icon:Z.O,style:{color:"#B0AFB8"}}))))),n.createElement(J.a,{item:!0,xs:12},n.createElement(ll,{id:"upload_file_table",rows:Object.keys(C).length>0?C.rows:[],columns:Object.keys(C).length>0?C.columns:[],message:"No available data",onClickRow:function(){},disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,formattedColumns:Object.keys(C).length>0?C.formattedColumns:{},columnExtensions:Object.keys(C).length>0?C.columnExtensions:[],pageSize:10})))):null,n.createElement(J.a,{item:!0,xs:3,className:Object(tt.default)("padding-top-20")},D?n.createElement(Bl,{"data-cy":"upload_member_data_map_select",id:"upload_member_data_map_select",options:e.client_maps,label:"Data Mapping",value:e.selected_data_map,addButton:!0,addButtonLabel:"Add New Data Map",onChange:ze,error:!1,error_message:""}):n.createElement(Bl,{"data-cy":"upload_member_data_map_select",id:"upload_member_data_map_select",options:e.client_maps,label:"Data Mapping",value:e.selected_data_map,addButton:!1,addButtonLabel:"",onChange:ze,error:!1,error_message:"",disabled:!0})),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("padding-top-20")},n.createElement(F.a,{htmlFor:"upload_member_row_start_field"},"Rows start at"),n.createElement(j.a,{"data-cy":"upload_member_row_start_field",id:"upload_member_row_start_field",type:"number",margin:"normal",variant:"outlined",inputProps:{"aria-label":"bare",min:0},InputProps:{onKeyDown:function(e){"-"!==e.key&&"."!==e.key&&"+"!==e.key&&"e"!==e.key&&"E"!==e.key||e.preventDefault()},onPaste:function(e){var t=e.clipboardData;if(t&&t.getData("text")){var a=t.getData("text");try{var n=parseFloat(a);(isNaN(n)||n<0||a.includes("."))&&e.preventDefault()}catch(r){e.preventDefault()}}}},value:e.rows_start_at,onChange:function(t){var a=t.target.value;if(e.updateState(a,"rows_start_at"),a){var n=parseInt(a),r={rows:[],columns:e.raw_uploaded_data.columns,data_values:{}};if(n>0){var i=n-1;i<e.raw_uploaded_data.rows.length&&(r.rows=JSON.parse(JSON.stringify(e.raw_uploaded_data.rows)),r.rows.splice(0,i),r=Ie(e.raw_uploaded_data.columns,r.rows,r))}else r.rows=e.raw_uploaded_data.rows,r.data_values=e.raw_uploaded_data.data_values;e.updateState(r,"filtered_raw_data"),Re(r,e.selected_data_map)}}})),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("padding-top-20")},n.createElement(J.a,{item:!0,container:!0,spacing:5,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4},n.createElement(F.a,{className:Object(tt.default)("table-label"),htmlFor:"upload_member_column_names_table"},"Column Names"),n.createElement(is,{"data-cy":"upload_member_column_names_table",id:"upload_member_column_names_table",rows:Object.keys(E).length>0?E.rows:[],columns:Object.keys(E).length>0?E.columns:[],empty_message:"No data available.",name:"column names",handleChange:Ue,maxHeight:"auto"}),n.createElement(Ye.a,{style:{paddingTop:16},display:"flex",flexDirection:"row-reverse"},n.createElement(z.a,{"data-cy":"upload_member_columns_save_btn",id:"upload_member_columns_save_btn",variant:"contained",color:"primary",size:"small",disabled:!1,onClick:e.updatingDataMap},"Save"))),n.createElement(J.a,{item:!0,xs:8},n.createElement(J.a,{item:!0,container:!0,direction:"row",spacing:5},n.createElement(J.a,{item:!0,xs:5,sm:4,className:Ae.listBorder},n.createElement(F.a,{className:Object(tt.default)("values-columns"),htmlFor:"upload_values_list"},"Values"),n.createElement(ce.a,{id:"upload_values_list"},n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_gender_item",id:"upload_member_values_gender_item",classes:{root:Ae.listItemTextRoot,primary:"gender"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("gender")}},"Gender")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_civil_item",id:"upload_member_values_civil_item",classes:{root:Ae.listItemTextRoot,primary:"civil status"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("civil status")}},"Civil Status")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_plan_item",id:"upload_member_values_plan_item",classes:{root:Ae.listItemTextRoot,primary:"plan type"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("plan type")}},"Plan Type")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_type_item",id:"upload_member_values_type_item",classes:{root:Ae.listItemTextRoot,primary:"type"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("type")}},"Type")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_relationship_item",id:"upload_member_values_relationship_item",classes:{root:Ae.listItemTextRoot,primary:"relationship to principal"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("relationship to principal")}},"Relationship to Principal")))),n.createElement(J.a,{item:!0,xs:7,sm:8,className:Object(tt.default)("values-tables")},"gender"===L?n.createElement(is,{"data-cy":"upload_member_values_gender_table",id:"upload_member_values_gender_table",rows:Object.keys(e.gender_data).length>0?e.gender_data.rows:[],columns:Object.keys(e.gender_data).length>0?e.gender_data.columns:[],empty_message:"No data available.",name:"gender",handleChange:Ue,maxHeight:"auto"}):"civil status"===L?n.createElement(is,{"data-cy":"upload_member_values_civil_table",id:"upload_member_values_civil_table",rows:Object.keys(e.civil_status_data).length>0?e.civil_status_data.rows:[],columns:Object.keys(e.civil_status_data).length>0?e.civil_status_data.columns:[],empty_message:"No data available.",name:"civil status",handleChange:Ue,maxHeight:"auto"}):"plan type"===L?n.createElement(is,{"data-cy":"upload_member_values_plan_table",id:"upload_member_values_plan_table",rows:Object.keys(e.plan_type_data).length>0?e.plan_type_data.rows:[],columns:Object.keys(e.plan_type_data).length>0?e.plan_type_data.columns:[],empty_message:"No data available.",name:"plan type",handleChange:Ue,maxHeight:"auto"}):"type"===L?n.createElement(is,{"data-cy":"upload_member_values_type_table",id:"upload_member_values_type_table",rows:Object.keys(e.type_data).length>0?e.type_data.rows:[],columns:Object.keys(e.type_data).length>0?e.type_data.columns:[],empty_message:"No data available.",name:"type",handleChange:Ue,maxHeight:"auto"}):"relationship to principal"===L?n.createElement(is,{"data-cy":"upload_member_values_relationship_table",id:"upload_member_values_relationship_table",rows:Object.keys(e.relationship_data).length>0?e.relationship_data.rows:[],columns:Object.keys(e.relationship_data).length>0?e.relationship_data.columns:[],empty_message:"No data available.",name:"relationship",handleChange:Ue,maxHeight:"auto"}):null))))),n.createElement(ql,{id:"error_upload_modal",isModalOpen:V,title:te,message:K,onClose:function(){H(!1)}}),n.createElement(es,{id:"missing_columns_error",isModalOpen:ie,title:"Some columns are missing",message:de,onClose:function(){oe(!1)}}),n.createElement(as,{id:"conflict_number_error",isModalOpen:ge,title:"Conflict in number of members",state_data:Ee,onClose:function(){T(!1),e.updateState({},"uploaded_data"),e.updateState(Be,"columns_data"),ye({}),_e(!1)},onSave:function(t){var a=e.details_data;a.number_of_members=t,e.updateDetails(a,"number_of_members"),ye({}),_e(!1)}}),n.createElement(ls,{id:"add_new_data_map_modal",isModalOpen:Ce,title:"Define Data Map",account:e.corporate_account,onClose:function(){Se(!1)},data:e.add_new_data_map,setDataValues:e.updateState,savingNewDataMap:e.savingNewDataMap}),n.createElement(Ql,{isOpen:je,message:Te,variant:Fe,onSnackbarClose:function(){Ne(!1)}}),n.createElement(ms,{isOpen:i,ticketId:e.ticketId,status:e.processingStatus,uploadedData:C,onCancelProcess:function(){o(!1),m(!0),e.cancelStatusBgPolling&&e.cancelStatusBgPolling()},onBackToDashboard:function(){e.onBackToDashboard&&e.onBackToDashboard()},onConfirmEnrollment:function(){o(!1),e.onConfirmEnrollment&&e.onConfirmEnrollment()}}),n.createElement(Cl,{id:"upload-member-confirm-modal",isModalOpen:c,modalTitle:u,modalMessage:b,variant:"danger",closeText:"Continue Process",confirmText:"Cancel Process",onClose:function(){e.resumeStatusBgPolling&&e.resumeStatusBgPolling(),m(!1),o(!0)},onConfirm:function(){m(!1),o(!1),e.onCancelProcess&&e.onCancelProcess()}}))};us.defaultProps={uploaded_data:{},column_names:{}};var ps=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",width:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},boldText:{fontWeight:"bold"},cancelButton:{width:115,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},list:{textAlign:"center"}}}),fs=function(e){var t=e.isModalOpen,a=e.id,r=ps();return n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},e.title,n.createElement(ne.a,{"aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0,className:r.dialogContentContainer},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},n.createElement(J.a,{container:!0,direction:"column",item:!0,xs:12},n.createElement(J.a,{item:!0,xs:!0},e.message),e.data.map(function(e,t){return n.createElement(J.a,{className:r.list,item:!0,xs:12,key:t},e)})))),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{className:r.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Okay"))))))};fs.defaultProps={isModalOpen:!1,id:"modal_id"};var bs="http://18.140.39.215/api/1.0/workflow/",gs=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"getAccessTokenFromDb",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka.StorageService("user_data","access_token");case 2:return t=e.sent,e.abrupt("return",Object(Tn.get)(t,"result",null));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getProcessMakerToken",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccessTokenFromDb();case 3:if(t=e.sent,Object(Tn.isNil)(t)||""===Object(Tn.trim)(t)){e.next=6;break}return e.abrupt("return",t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("getProcessMakerToken Error",e.t0);case 11:if(a=localStorage.getItem("pm_token"),Object(Tn.isNil)(a)||""===Object(Tn.trim)(a)){e.next=14;break}return e.abrupt("return",a);case 14:throw new Error("USER_DATA_NOT_FOUND");case 15:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(m.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,this.getProcessMakerToken();case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 10:return e.abrupt("return",fetch(bs+t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then(function(e){return e.json()}).catch(function(e){console.log("FETCH UNASSIGNED error",e)}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,this.getProcessMakerToken();case 4:n=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 10:return e.abrupt("return",fetch(bs+t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(a)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){var r,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=13;break}return r=null,e.prev=2,e.next=5,An.getUserDataFromDb();case 5:i=e.sent,r=i.pmakerUid,a.next_user=r,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error getting user from IndexedDB: ",e.t0);case 13:return o="",e.prev=14,e.next=17,this.getProcessMakerToken();case 17:o=e.sent,e.next=23;break;case 20:throw e.prev=20,e.t1=e.catch(14),new Error("USER_DATA_NOT_FOUND");case 23:return console.log(JSON.stringify(a)),e.abrupt("return",fetch(bs+t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify(a)}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 25:case"end":return e.stop()}},e,this,[[2,10],[14,20]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"postClaim",value:function(){var e=Object(m.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,this.getProcessMakerToken();case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("USER_DATA_NOT_FOUND");case 10:return e.abrupt("return",fetch(bs+t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()}]),e}();function _s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function hs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_s(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_s(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var vs=Object(y.a)({root:{height:"40px",minWidth:"150px","&.Mui-disabled":{backgroundColor:"#E4E4E4",color:"rgba(0, 0, 0, 0.61)"}},rightButton:{height:"40px",minWidth:"99px",backgroundColor:"#3C394A",color:"#FFFFFF"},leftButton:{padding:"0px 8px",height:"40px",width:"150px",border:"2px solid #3AB77D"},backButton:{padding:"0px 8px",height:"40px",width:"150px",backgroundColor:"#3C394A",color:"#FFFFFF",textTransform:"none","&:hover":{background:"#000000"}},leftText1:{fontSize:"13px"},leftText2:{fontSize:"7px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}});function Es(e){var t=vs();return n.createElement("div",null,n.createElement(z.a,{"data-cy":"upload_member_save_btn",id:"upload_member_save_btn",className:t.leftButton,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",onClick:e.handleSaveForNow},n.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.createElement(S.a,{className:t.buttonTitle},"Save For Now"))),n.createElement(z.a,{"data-cy":"upload_member_next_btn",id:"upload_member_next_btn",className:t.root,variant:"contained",color:"primary",size:"small",disabled:e.disabled,onClick:e.handleNextButton},"Next"))}function ys(e){var t=vs();return n.createElement("div",null,n.createElement(z.a,{id:"encode_member_back_btn",className:t.backButton,variant:"contained",size:"small",disabled:e.disabled,onClick:e.onBackPressed},"Back"))}var xs="ENCODE_MEMBER_BACKGROUND_TASK_ID",Os=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})};var n=e.location,r=n.state,i=n.search,o="",l={},s=[],c=!1,m=null;if(r){var u=r.ticket_id,b=r.isProcessing,g=r.member_upload_id;c=null!==b&&!0===b,m=Mn.a.isNil(g)?null:g,u&&(o=u,l={id:u,value:u,label:u},s.push(l))}else if(i)try{var _=new URLSearchParams(i),h=_.get("ticketId"),v=_.get("isProcessing"),E=_.get("memberUploadId");m=Mn.a.isNil(E)?null:E,h&&(o=h,l={id:h,value:h,label:h},s.push(l)),v&&Mn.a.toLower(v)===Mn.a.toLower("true")&&(c=!0)}catch(O){}var y={account:{id:e.match.params.client_id||"",value:e.match.params.client_id||""},contract:{id:e.match.params.proposal_id,value:e.match.params.proposal_id,label:""},sender_name:"",sender_email:"",date_sent:new Date,sent_through_channel:{id:"",value:"",label:""},batch_name:l,number_of_members:""},x={columns:[{name:"values",title:"Values"},{name:"data_column",title:"Data Column"}],rows:[]};return a.state={check_internet_flag:!1,pmaker_task:"Enroll Members",initial_load:!1,breadcrumbs:[],steps:["Add Details","Add Members","Submit"],activeStep:0,open:!1,uploaded_file_flag:!1,disabledNext:!1,pageHeader:"Encode Batch Details",details_data:y,corporate_account:"",clients_data:[],loading_state:!0,sender_email_error:!1,sender_email_error_message:"",account_error:!1,account_error_message:"",contract_error:!1,contract_error_message:"",sender_name_error:!1,sender_name_error_message:"",date_sent_error:!1,date_sent_error_message:"",sent_through_channel_error:!1,sent_through_channel_error_message:"",batch_name_error:!1,batch_name_error_message:"",number_of_members_error:!1,number_of_members_error_message:"",uploaded_data:{},raw_uploaded_data:{columns:[],rows:[],data_values:{}},system_names:[],columns_data:{columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header"}],rows:[{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""}]},clients_data_maps:[],selected_data_map:{},contracts_data:[],gender_data:x,civil_status_data:x,plan_type_data:x,type_data:x,relationship_data:x,add_new_data_map:{},rows_start_at:"",filtered_raw_data:{columns:[],rows:[],data_values:{}},client_maps:[],isOpenModal:!1,isConfirmModalOpen:!1,modalTitle:"",modalMessage:"",next:null,isOpenErrorWithListModal:!1,error_list:[],submit_flag:!1,batchnames:s,plan_type_options:[],civil_status_options:[],relationship_options:[],save_for_now_id:"",uploadMemberData:{},ticketId:e.match.params.ticket_id,isProcessing:c,processingStatus:{},trueTicketId:o,isAddMembersTicket:!1,isFromEncodeMembersTicket:!1,redirectFlag:!1,redirectInfo:{},memberUploadId:m,fetchContactsErr:!1},a.handleUpdateDetails=a.handleUpdateDetails.bind(Object(jn.a)(a)),a.validateDetails=a.validateDetails.bind(Object(jn.a)(a)),a.handleNextButton=a.handleNextButton.bind(Object(jn.a)(a)),a.handleBackButton=a.handleBackButton.bind(Object(jn.a)(a)),a.getSaveForNowData=a.getSaveForNowData.bind(Object(jn.a)(a)),a.doSaveForNow=a.doSaveForNow.bind(Object(jn.a)(a)),a.handleSaveForNow=a.handleSaveForNow.bind(Object(jn.a)(a)),a.handleSaveForNowOnSubmit=a.handleSaveForNowOnSubmit.bind(Object(jn.a)(a)),a.deleteSaveForNow=a.deleteSaveForNow.bind(Object(jn.a)(a)),a.showHideLoader=a.showHideLoader.bind(Object(jn.a)(a)),a.updateState=a.updateState.bind(Object(jn.a)(a)),a.updateUploadMemberData=a.updateUploadMemberData.bind(Object(jn.a)(a)),a.savingNewDataMap=a.savingNewDataMap.bind(Object(jn.a)(a)),a.updatingSelectedDataMap=a.updatingSelectedDataMap.bind(Object(jn.a)(a)),a.closeModalMessage=a.closeModalMessage.bind(Object(jn.a)(a)),a.closeModal=a.closeModal.bind(Object(jn.a)(a)),a.onHandleSubmitClick=a.onHandleSubmitClick.bind(Object(jn.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(jn.a)(a)),a.closeModalWithList=a.closeModalWithList.bind(Object(jn.a)(a)),a.getBatchNames=a.getBatchNames.bind(Object(jn.a)(a)),a.getPlanTypes=a.getPlanTypes.bind(Object(jn.a)(a)),a.onSaveForNowClicked=a.onSaveForNowClicked.bind(Object(jn.a)(a)),a.createAddMemberTicket=a.createAddMemberTicket.bind(Object(jn.a)(a)),a.executeTicketTrigger=a.executeTicketTrigger.bind(Object(jn.a)(a)),a.setTicketVariable=a.setTicketVariable.bind(Object(jn.a)(a)),a.getProcessingStatus=a.getProcessingStatus.bind(Object(jn.a)(a)),a.getMuStatusOnBg=a.getMuStatusOnBg.bind(Object(jn.a)(a)),a.cancelStatusBgPolling=a.cancelStatusBgPolling.bind(Object(jn.a)(a)),a.resumeStatusBgPolling=a.resumeStatusBgPolling.bind(Object(jn.a)(a)),a.getMuStatusOnBg=a.getMuStatusOnBg.bind(Object(jn.a)(a)),a.onCancelProcess=a.onCancelProcess.bind(Object(jn.a)(a)),a.onBackToDashboard=a.onBackToDashboard.bind(Object(jn.a)(a)),a.onConfirmEnrollment=a.onConfirmEnrollment.bind(Object(jn.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.cancelStatusBgPolling()}},{key:"componentDidMount",value:function(){var e=this;this.cancelStatusBgPolling();var t=this.props.location,a=t.pathname,n=t.state,r=t.search,i="",o=!1,l=!1,s=!1,c={},m=[];if(Mn.a.includes(Mn.a.toLower(a),Mn.a.toLower("add-members"))&&(o=!0),n){var d=n.encode_ticket,u=n.ticket_id,p=n.isProcessing;l=null!==d&&!0===d,s=null!==p&&!0===p,u&&(i=u,c={id:u,value:u,label:u},m.push(c))}else if(r)try{var f=new URLSearchParams(r),b=f.get("encodeTicket"),g=f.get("isProcessing"),_=f.get("ticketId");b&&Mn.a.toLower(b)===Mn.a.toLower("true")&&(l=!0),g&&Mn.a.toLower(g)===Mn.a.toLower("true")&&(s=!0),_&&(i=_,c={id:_,value:_,label:_},m.push(c))}catch(y){l=!1}var h=this.state.details_data;if(h.batch_name=c,this.setState({trueTicketId:i,isProcessing:s,isAddMembersTicket:o,isFromEncodeMembersTicket:l,details_data:h,batchnames:m,check_internet_flag:!0}),!(void 0!==this.props.match.params.ticket_id&&void 0!==this.props.match.params.proposal_id&&void 0!==this.props.match.params.client_id)){var v=[{label:"MEMBERS",url:"#/membership/members"},{label:"UPLOAD MEMBERS",url:""}],E=this.state.details_data;E.account={id:"",value:""},An.getClientsWithCorporateNo().then(function(t){t&&void 0===t.error?e.setState({breadcrumbs:v,clients_data:t,system_names:[],details_data:E,loading_state:!1,check_internet_flag:!1},function(){return e.getClientContracts("")}):e.setState({system_names:[]},function(){return e.getClientContracts("")})})}else gs.put("cases/"+this.props.match.params.ticket_id+"/variable",{use_import:!0}).then(function(e){console.log(e)}),An.getClientsWithCorporateNo().then(function(t){var a=[];if(t&&void 0===t.error)if(e.props.match.params.client_id){var n=t.find(function(t){return t._id===e.props.match.params.client_id});if(n){var r=[{label:"CLIENTS",url:""},{label:n.registered_name,url:""},{label:"MEMBERS",url:"#/membership/members"},{label:"UPLOAD MEMBERS",url:""}];void 0!==n.member_data_fields&&(a=n.member_data_fields);var i=e.state.details_data;i.account.label=n.registered_name,e.setState({check_internet_flag:!1,breadcrumbs:r,clients_data:t,system_names:a,details_data:i,corporate_account:n.registered_name},function(){return e.getClientContracts(e.props.match.params.client_id)})}else e.getClientContracts(e.props.match.params.client_id)}else e.setState({clients_data:t,system_names:[],loading_state:!1},function(){return e.getClientContracts("")});else e.setState({system_names:[]},function(){return e.getClientContracts("")})})}},{key:"getClientContracts",value:function(e){var t=this,a=this.state.batchnames;this.setState({check_internet_flag:!0}),this.showHideLoader(!0),An.getClientContracts(e).then(function(n){var r=Mn.a.get(n,"error",null);if(console.log("TESTING",r),console.log("RESPONSE",n),n.length>0){var i=t.state.details_data,o=a;t.props.match.params.proposal_id?o=t.getBatchNames(t.props.match.params.proposal_id,e,n):(i.contract={id:"",value:"",label:""},o=t.getBatchNames("","",n)),t.setState({check_internet_flag:!1,loading_state:!1,initial_load:!0,contracts_data:n,details_data:i,batchnames:o},function(){return t.getPlanTypes(e)})}else console.log("CHECKING"),t.setState({loading_state:!1,initial_load:!0,contracts_data:[]},function(){return t.getPlanTypes(e)})})}},{key:"getBatchNames",value:function(e,t,a){var n=this.state.batchnames,r=n;if(e&&t&&a){var i=n;for(var o in a){var l=a[o];if(l._id===t){for(var s in l.upload_batch_objects){var c=l.upload_batch_objects[s];c.contract_id===e&&i.push({id:c.batch_name,value:c.batch_name,label:c.batch_name})}break}}}return r}},{key:"getPlanTypes",value:function(e,t){var a=this,n=this.state.details_data.contract.id;n?(t&&this.showHideLoader(!0),this.setState({check_internet_flag:!0}),this.showHideLoader(!0),An.getContractTree(n).then(function(n){if(n&&void 0===n.error){a.setState({check_internet_flag:!1});var r=n.filter(function(e){return"PlanType"===e.type&&"Base Plan Type"!==e.name}).map(function(e,t){return{id:t,value:e.name,label:e.name}}),i=n.filter(function(e){var t=e.tree_id,a=e.level,n=e.type;return!(!t||!t.includes("-DP-")||7!==a||"Benefit"!==n)}),o=[];i.forEach(function(e){o.some(function(t){return t.value===e.name})||o.push({id:e._id,value:e.name,label:e.name})});var l=n.filter(function(e){var t=e.tree_id,a=e.level,n=e.type;return!(!t||!t.includes("-DP-")||8!==a||"Sub-Benefit"!==n)}),s=[];l.forEach(function(e){s.some(function(t){return t.value===e.name})||s.push({id:e._id,value:e.name,label:e.name})}),t?a.setState({loading_state:!1,plan_type_options:r,civil_status_options:o,relationship_options:s}):a.setState({loading_state:!1,plan_type_options:r,civil_status_options:o,relationship_options:s},function(){a.getClientDataMap(e,!0)})}})):t?this.showHideLoader(!1):this.getClientDataMap(e,!0)}},{key:"updateClientDataMaps",value:function(e){var t=this;e&&e.trim()&&(this.showHideLoader(!0),An.getClientDataMap(e).then(function(e){if(void 0===e.error){var a=[];for(var n in e)if(!Mn.a.isNil(e[n])){var r=e[n];a.push({id:r._id,value:r._id,label:r.name,is_default:!!r.is_default&&r.is_default})}t.setState({loading_state:!1,clients_data_maps:e,client_maps:a})}else t.showHideLoader(!1)}).catch(function(){t.showHideLoader(!1)}))}},{key:"getClientDataMap",value:function(e,t){var a=this;e&&e.trim()?(this.setState({check_internet_flag:!0}),this.showHideLoader(!0),An.getClientDataMap(e).then(function(e){if(void 0===e.error){a.setState({check_internet_flag:!1});var n=[];if(t){var r={},i=[],o=a.state.system_names,l={columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header"}],rows:[{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""}]};for(var s in e)if(null!==e[s]){var c=e[s],m={id:c._id,value:c._id,label:c.name,is_default:!!c.is_default&&c.is_default};!0===c.is_default&&0===Object.keys(r).length&&(r=m,c.mapping&&c.mapping.length>0&&(i=c.mapping)),n.push(m)}if(o.length>0&&i.length>0){l.rows=[],l.columns[1].type="select",l.columns[1].options=[{id:"",value:"",label:""}];var d=[];for(var u in o){var p=o[u],f={system_name:p.system_name,field_name:p.field_name,sheet_name:"",sheet_field:"",required:p.is_required};for(var b in i){var g=i[b];if(g.system_name===p.system_name){f.sheet_name=g.sheet_name,d.push(g.sheet_name);break}}l.rows.push(f)}var _=d.map(function(e){return{id:"",value:e,label:e}});l.columns[1].options=_}a.setState({loading_state:!1,clients_data_maps:e,selected_data_map:r,columns_data:l,client_maps:n},function(){a.getSaveForNowData()})}else{for(var h in e){var v=e[h];n.push({id:v._id,value:v._id,label:v.name,is_default:!!v.is_default&&v.is_default})}a.setState({loading_state:!1,clients_data_maps:e,client_maps:n},function(){a.getSaveForNowData()})}}else a.setState({clients_data_maps:[],client_maps:[]},function(){a.getSaveForNowData()})})):this.setState({clients_data_maps:[],client_maps:[]},function(){a.getSaveForNowData()})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"onHandleSubmitClick",value:function(){this.closeModal();var e=this.state,t=e.ticketId,a=e.isAddMembersTicket,n=e.isFromEncodeMembersTicket;if(t&&null!==t&&void 0!==t){var r=this.props.match.params.ticket_id;a&&n&&t===r?this.createAddMemberTicket(!1):(this.setTicketVariable(t),this.handleSaveForNowOnSubmit())}else this.createAddMemberTicket(!1)}},{key:"handleSubmit",value:function(){this.setState({loading_state:!0});var e=this.state,t=e.details_data,a=e.uploaded_data,n=e.columns_data,r=["Gender","Civil Status","Plan Type","Type","Relationship to Principal"],i={client_id:t.account.id,contract_id:t.contract.id,sender_name:t.sender_name,sender_email:t.sender_email,channel:t.sent_through_channel.value,date_sent:t.date_sent,batch_name:t.batch_name.value,no_of_members:a.rows.length,members:[]};for(var o in a.rows){var l=a.rows[o],s={};for(var c in n.rows){var m=n.rows[c];if(m&&m.sheet_name&&void 0!==l[m.sheet_field]&&null!==l[m.sheet_field]&&-1!==r.indexOf(m.system_name))s=this.generateValuesData(l[m.sheet_field],m.field_name,m.system_name,s);else if(m&&m.sheet_name&&void 0!==l[m.sheet_field]&&null!==l[m.sheet_field])if("suffix"===m.field_name){s[m.field_name]=l[m.sheet_field].trim();var d=l[m.sheet_field].trim();if(l[m.sheet_field]&&void 0!==l[m.sheet_field]&&null!==l[m.sheet_field]){var u=l[m.sheet_field].replace(".","").toLowerCase();switch(u){case"sr":case"jr":d=u.charAt(0).toUpperCase()+u.substring(1)+".";break;case"others":d=u.charAt(0).toUpperCase()+u.substring(1);break;case"i":case"ii":case"iii":case"iv":case"v":d=u.toUpperCase()}s[m.field_name]=d}}else s[m.field_name]=l[m.sheet_field];else s[m.field_name]=""}Object.keys(s).length>0&&(s.contracts=[t.contract.id],i.members.push(s))}this.routeWorkflow(i)}},{key:"routeWorkflow",value:function(e){var t=this,a=this.state,n=a.details_data,r=a.ticketId;gs.put("cases/".concat(r,"/variable"),{client_id:n.account.id,client_name:n.account.label,mother_contract_id:n.contract.id,use_import:!0}).then(function(){t.postUploadMember(e)}).catch(function(a){"USER_DATA_NOT_FOUND"===a.message?t.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):t.postUploadMember(e)})}},{key:"postUploadMember",value:function(e){var t=this,a=this.state.ticketId;this.setState({check_internet_flag:!0}),An.postUploadMember(e,a).then(function(e){if(e&&void 0===e.error)t.setState({check_internet_flag:!1}),t.onPostUploadMemberSuccess(e);else if(e&&e.error){var a="Error in Uploading",n="",r=e.error,i=r.statusCode,o=r.name,l=r.message,s=r.details;500===i?(a="Submission Failed",n="Something went wrong. Please try again later."):"PayloadTooLargeError"===o?(a="Submission Failed",n="The content of the file uploaded is too large."):422===i?(a="Submission Failed",n=l,s&&s.length>0&&s[0].path.includes("suffix")&&(n="One or more uploaded member have suffix values that are unaccepted. Kindly adjust and reupload from among the accepted values: Sr., Jr., I, II, III, IV, V")):(a="Submission Failed",n=l),t.setState({loading_state:!1,modalTitle:a,modalMessage:n,isOpenModal:!0})}else t.setState({loading_state:!1,modalTitle:"Submission Failed",modalMessage:"Failed to submit members.",isOpenModal:!0})}).catch(function(e){"USER_DATA_NOT_FOUND"===e.message?t.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):t.setState({loading_state:!1,modalTitle:"Submission Failed",modalMessage:"Failed to submit members.",isOpenModal:!0})})}},{key:"onPostUploadMemberSuccess",value:function(e){var t=this,a=this.state.ticketId,n=e._id;this.setState({loading_state:!1,memberUploadId:n,processingStatus:{}},function(){t.setTicketVariable(a),t.startMemberUploadJob(e)})}},{key:"startMemberUploadJob",value:function(e){var t=this,a={loading_state:!1,isConfirmModalOpen:!0,modalTitle:"Submission Failed",modalMessage:"Failed to submit members.",next:function(){t.startMemberUploadJob(e)}};this.setState({loading_state:!0},function(){var n=e._id;An.startMemberUpload(n,t.state.ticketId).then(function(e){var n=Mn.a.get(e,"error",null);Mn.a.isNil(n)?t.getProcessingStatus():t.setState(a)}).catch(function(e){console.log("startMemberUploadJob",e),"USER_DATA_NOT_FOUND"===e.message?t.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):t.setState(a)})})}},{key:"generateValuesData",value:function(e,t,a,n){switch(n[t]="",a.toLowerCase()){case"gender":var r=this.state.gender_data;if(r&&r.rows&&r.rows.length>0)for(var i in r.rows){var o=r.rows[i];if(o.values===e){n[t]=o.data_column;break}}break;case"civil status":var l=this.state.civil_status_data;if(l&&l.rows&&l.rows.length>0)for(var s in l.rows){var c=l.rows[s];if(c.values===e){n[t]=c.data_column;break}}break;case"plan type":var m=this.state.plan_type_data;if(m&&m.rows&&m.rows.length>0)for(var d in m.rows){var u=m.rows[d];if(u.values===e){n[t]=u.data_column;break}}break;case"type":var p=this.state.type_data;if(p&&p.rows&&p.rows.length>0)for(var f in p.rows){var b=p.rows[f];if(b.values===e){n[t]=b.data_column;break}}break;case"relationship to principal":var g=this.state.relationship_data;if(g&&g.rows&&g.rows.length>0)for(var _ in g.rows){var h=g.rows[_];if(h.values===e){n[t]=h.data_column;break}}}return n[t]&&"default_plantype_placeholder"===n[t]?n[t]="":n[t]&&""!==n[t]||(n[t]="".concat(e," - For Validation")),n}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"validateDetails",value:function(){var e=this.state,t=e.activeStep,a=e.details_data;if(0===t){var n=0;for(var r in a){var i=this.getErrorMessage(r);switch(r){case"account":case"contract":case"sent_through_channel":var o;if(!a[r]||!a[r].value||""===a[r].value)this.setState((o={},Object(wi.a)(o,r+"_error",!0),Object(wi.a)(o,r+"_error_message",i),o)),n++;break;case"sender_name":var l;if(""===a[r]||!a[r]||null===a[r])this.setState((l={},Object(wi.a)(l,r+"_error",!0),Object(wi.a)(l,r+"_error_message",i),l)),n++;break;case"date_sent":var s;if(""!==a[r]&&a[r]&&null!==a[r])qr.isValidDate(a[r])||(this.setState({date_sent_error:!0,date_sent_error_message:"Date is invalid"}),n++);else this.setState((s={},Object(wi.a)(s,r+"_error",!0),Object(wi.a)(s,r+"_error_message",i),s)),n++;break;case"sender_email":var c,m=a.sent_through_channel;if(m&&"Email"===m.value)if(""!==a[r]&&a[r]&&null!==a[r])this.validateEmail(a.sender_email)&&(this.setState({sender_email_error:!0,sender_email_error_message:"Wrong format"}),n++);else this.setState((c={},Object(wi.a)(c,r+"_error",!0),Object(wi.a)(c,r+"_error_message",i),c)),n++}}if(n>0)return n}return 0}},{key:"handleNextButton",value:function(){var e=this.state,t=e.activeStep,a=e.uploaded_data,n=e.columns_data;if(0===t){var r=t+1;if(this.validateDetails()>0)return;1===r?"Enroll Members"===this.state.pmaker_task?this.setState({pmaker_task:"Upload File",pageHeader:"Upload Member File",activeStep:r}):this.setState({pageHeader:"Upload Member File",activeStep:r}):this.setState({activeStep:r})}if(1===t){if(Object.keys(a).length<=0||a.rows.length<=0)return void this.setState({modalTitle:"Submission Failed",modalMessage:"You must upload a spreadsheet file before you can proceed.",isOpenModal:!0});if(n.rows&&0===n.rows.length)return void this.setState({isOpenModal:!0,modalTitle:"Error Message",modalMessage:"Mapping of data is required. Please complete first the mapping of data to continue."});var i=[];for(var o in n.rows){var l=n.rows[o];!0!==l.required||""!==l.sheet_name&&void 0!==l.sheet_name||-1!==i.indexOf(l.system_name)||i.push(l.system_name)}if(i.length>0)return void this.setState({isOpenErrorWithListModal:!0,modalTitle:"Mapping of data is incomplete",modalMessage:"Please map the following required fields: ",error_list:i});var s=!1;for(var c in a.rows){var m=a.rows[c];for(var d in n.rows){var u=n.rows[d];if(u&&u.sheet_name&&void 0!==m[u.sheet_field]&&null!==m[u.sheet_field]&&"date_of_birth"===u.field_name){var p=m[u.sheet_field],f=Je()(p).isValid(),b=/^(\d{4})$/.test(p);console.log("".concat(p," : ").concat(f)),console.log("is Year only? : ".concat(b)),f&&!b||(s=!0);break}}if(s)break}if(s)return void this.setState({isOpenModal:!0,modalTitle:"Invalid date format",modalMessage:"Invalid format for date of birth. Please follow the MM/DD/YYYY or YYYY/MM/DD format."});this.openModal()}}},{key:"handleBackButton",value:function(){var e=this.state.activeStep;e-1===0&&this.setState({pageHeader:"Encode Batch Details",activeStep:e-1})}},{key:"getErrorMessage",value:function(e){var t="";switch(e){case"account":t="Corporate account is required";break;case"contract":t="Contract is required";break;case"sent_through_channel":t="Sent through channel is required";break;case"batch_name":t="Batch name is required";break;case"sender_name":t="Sender name is required";break;case"date_sent":t="Date sent is required";break;case"number_of_members":t="Number of members is required";break;case"sender_email":t="Sender email is required"}return t}},{key:"validateEmail",value:function(e){return!e.match(/\S+@\S+\.\S+/)||(-1!==e.indexOf(" ")||-1!==e.indexOf(".."))}},{key:"handleUpdateDetails",value:function(e,t){var a,n=this;this.setState((a={},Object(wi.a)(a,t+"_error",!1),Object(wi.a)(a,t+"_error_message",""),Object(wi.a)(a,"details_data",e),Object(wi.a)(a,"disabledNext",!1),a),function(){if("account"===t)n.setState({loading_state:!0,corporate_account:e.account.label},function(){n.getClientContracts(e.account.value),n.getClientDataMap(e.account.value,!0)});else if("contract"===t){var a=n.state.details_data;n.getPlanTypes(a.contract.id,!0)}})}},{key:"getSaveForNowData",value:function(){var e=this;if(this.showHideLoader(!0),Mn.a.isEmpty(this.props.match.params.ticket_id))this.showHideLoader(!1);else{var t=this.state.isProcessing;this.setState({check_internet_flag:!0}),An.getSaveForNowData("encode-member",this.props.match.params.ticket_id).then(function(a){if(void 0!==a&&a.length>0){e.setState({check_internet_flag:!1});var n=e.state,r=n.save_for_now_id,i=n.details_data,o=n.batchnames,l=n.uploadMemberData,s=n.raw_uploaded_data,c=n.filtered_raw_data,m=n.selected_data_map,d=n.rows_start_at,u=n.uploaded_data,p=n.columns_data,f=n.gender_data,b=n.civil_status_data,g=n.plan_type_data,_=n.type_data,h=n.relationship_data,v=a[0],E=v._id,y=v.data;E&&(i=hs({},i,{sender_name:y.sender_name,sender_email:y.sender_email,date_sent:y.date_sent,sent_through_channel:y.sent_through_channel,batch_name:y.batch_name,number_of_members:y.number_of_members}),r=E,o=y.batchnames,s=y.raw_uploaded_data,l=y.uploadMemberData,c=y.filtered_raw_data,m=y.selected_data_map,d=y.rows_start_at,u=y.uploaded_data,p=y.columns_data,f=y.gender_data,b=y.civil_status_data,g=y.plan_type_data,_=y.type_data,h=y.relationship_data),e.setState({loading_state:!1,save_for_now_id:r,details_data:i,batchnames:o,raw_uploaded_data:s,filtered_raw_data:c,uploadMemberData:l,selected_data_map:m,rows_start_at:d,uploaded_data:u,columns_data:p,gender_data:f,civil_status_data:b,plan_type_data:g,type_data:_,relationship_data:h,activeStep:t?1:0,pageHeader:t?"Upload Member File":"Encode Batch Details"})}else e.setState({loading_state:!1})}).catch(function(){e.setState({loading_state:!1})})}}},{key:"doSaveForNow",value:function(e,t){var a=this,n=this.state,r=n.save_for_now_id,i=n.ticketId,o=n.details_data,l=o.sender_name,s=o.sender_email,c=o.date_sent,m=o.sent_through_channel,d=o.batch_name,u=o.number_of_members,p={sender_name:l,sender_email:s,date_sent:c,sent_through_channel:m,batchnames:n.batchnames,batch_name:d,number_of_members:u,uploadMemberData:n.uploadMemberData,raw_uploaded_data:n.raw_uploaded_data,filtered_raw_data:n.filtered_raw_data,selected_data_map:n.selected_data_map,rows_start_at:n.rows_start_at,uploaded_data:n.uploaded_data,columns_data:n.columns_data,gender_data:n.gender_data,civil_status_data:n.civil_status_data,plan_type_data:n.plan_type_data,type_data:n.type_data,relationship_data:n.relationship_data};this.setState({check_internet_flag:!0}),r&&""!==r?An.patchSaveForNow(r,p).then(function(){e&&(a.setState({check_internet_flag:!1}),e())}).catch(function(e){var a="Error: ".concat(JSON.stringify(e));t&&t(a)}):An.saveForNow("encode-member",i,"Encode Members",p).then(function(n){if(void 0!==n&&void 0===n.error)a.setState({check_internet_flag:!1,save_for_now_id:n._id},function(){e&&e()});else{var r="Error: ".concat(JSON.stringify(n.error));t&&t(r)}}).catch(function(e){var a="Error: ".concat(JSON.stringify(e));t&&t(a)})}},{key:"handleSaveForNow",value:function(){var e=this;this.showHideLoader(!0),this.doSaveForNow(function(){e.setState({loading_state:!1,isOpenModal:!0,modalTitle:"Save for now",modalMessage:"Details are saved successfully."})},function(t){e.setState({loading_state:!1,isOpenModal:!0,modalTitle:"Error saving information",modalMessage:t})})}},{key:"handleSaveForNowOnSubmit",value:function(){var e=this;this.showHideLoader(!0),this.doSaveForNow(function(){e.setState({loading_state:!1},function(){e.handleSubmit()})},function(t){e.setState({loading_state:!1,isOpenModal:!0,modalTitle:"Error saving information",modalMessage:t})})}},{key:"onSaveForNowClicked",value:function(){var e=this.state,t=e.ticketId,a=e.isAddMembersTicket,n=e.isFromEncodeMembersTicket;if(t&&null!==t&&void 0!==t){var r=this.props.match.params.ticket_id;a&&n&&t===r?this.createAddMemberTicket(!0):(this.setTicketVariable(t),this.handleSaveForNow())}else this.createAddMemberTicket(!0)}},{key:"createAddMemberTicket",value:function(e){var t=this;this.showHideLoader(!0),gs.post("cases/",{pro_uid:"5310535875df6222bae2930014295490",tas_uid:"5098598465df6225498bc87032787138"}).then(function(a){if(console.log("createAddMemberTicket",a),t.showHideLoader(!1),void 0!==a.app_uid){var n=a.app_uid;t.setState({ticketId:n,trueTicketId:a.app_number},function(){t.executeTicketTrigger(n),t.setTicketVariable(n,a),e?t.handleSaveForNow():t.handleSaveForNowOnSubmit()})}}).catch(function(e){console.log("createAddMemberTicket",e),"USER_DATA_NOT_FOUND"===e.message?t.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):t.showHideLoader(!1)})}},{key:"executeTicketTrigger",value:function(e){gs.put("cases/"+e+"/execute-trigger/6066708415df623339fa4f4056468668",{}).then(function(e){console.log("executeTicketTrigger",e)}).catch(function(e){console.log("executeTicketTrigger",e)})}},{key:"setTicketVariable",value:function(e,t){var a=this.state,n=a.details_data,r=n.account,i=n.contract,o=a.memberUploadId;gs.put("cases/"+e+"/variable",{client_id:r.value||"",client_name:r.label||"",mother_contract_id:i.value||"",from_membership:!0,member_upload_id:o},!0).then(function(a){if(console.log("setTicketVariable",a),t){var n={status:"OPEN",ticket_id:t.app_number.toString(),pmaker_case_uid:e,ticket_type:"Add Member",client:r.label,client_id:r.value};An.postTicket(n,!0).then(function(){console.log("postTicket: Verify Member")}).catch(function(){})}}).catch(function(e){console.log("setTicketVariable",e)})}},{key:"deleteSaveForNow",value:function(){var e=this,t=this.state.save_for_now_id;t&&""!==t&&(this.setState({check_internet_flag:!0}),An.deleteSaveForNow(t).then(function(t){e.setState({check_internet_flag:!1}),console.log("deleteSaveForNow Response: ",t)}).catch(function(e){console.log("deleteSaveForNow Error: ",e)}))}},{key:"showHideLoader",value:function(e){this.setState({loading_state:e})}},{key:"updateState",value:function(e,t){this.setState(Object(wi.a)({},t,e))}},{key:"updateUploadMemberData",value:function(e,t){var a=hs({},this.state.uploadMemberData,Object(wi.a)({},e,t));this.setState({uploadMemberData:a})}},{key:"savingNewDataMap",value:function(e){var t=this;this.setState({loading_state:!0,check_internet_flag:!0}),e.client_id=this.state.details_data.account.value,An.postNewDataMap(e).then(function(e){if(e&&void 0===e.error){var a=t.state,n=a.clients_data_maps,r=a.client_maps,i={id:e._id,value:e._id,label:e.name,is_default:!!e.is_default&&e.is_default};n.push(e),r.push(i),t.setState({check_internet_flag:!1,loading_state:!1,clients_data_maps:n,client_maps:r,selected_data_map:i,modalTitle:"Success",modalMessage:"New data map was successfully added.",isOpenModal:!0,next:function(){t.updateClientDataMaps(t.state.details_data.account.value)}})}else e&&e.error&&e.error.message?t.setState({loading_state:!1,modalTitle:"Error",modalMessage:e.error.message,isOpenModal:!0}):t.setState({loading_state:!1,modalTitle:"Error",modalMessage:"Failed to add new data map.",isOpenModal:!0})})}},{key:"updatingSelectedDataMap",value:function(){var e=this,t=this.state.selected_data_map&&this.state.selected_data_map.id?this.state.selected_data_map.id.trim():"",a=null;t&&(a=this.state.client_maps&&this.state.client_maps.length>0?this.state.client_maps[Mn.a.findIndex(this.state.client_maps,{id:t})]:null);var n=this.state.columns_data&&this.state.columns_data.rows&&this.state.columns_data.rows.length>0?this.state.columns_data.rows:[];if(a&&n){this.setState({loading_state:!0,check_internet_flag:!0});var r={};for(var i in r.client_id=this.state.details_data.account.value,r.name=a.label,r.is_default=a.is_default,r.mapping=[],n){var o=n[i];""!==o.sheet_name&&void 0!==o.sheet_name&&r.mapping.push({system_name:o.system_name,sheet_name:o.sheet_name})}An.patchDataMap(t,r).then(function(t){var a=Mn.a.get(t,"error",null);Mn.a.isNil(a)?e.setState({check_internet_flag:!1,loading_state:!1,modalTitle:"Success",modalMessage:"Data map was successfully updated.",isOpenModal:!0,next:function(){e.updateClientDataMaps(e.state.details_data.account.value)}}):t&&t.error&&t.error.message?e.setState({loading_state:!1,modalTitle:"Error",modalMessage:t.error.message,isOpenModal:!0}):e.setState({loading_state:!1,modalTitle:"Error",modalMessage:"Failed to update data map.",isOpenModal:!0})})}}},{key:"setShouldUpdateStatus",value:function(e){localStorage.setItem("ENCODE_MEMBER_BACKGROUND_TASK_STATUS",e?"true":"false")}},{key:"getShouldUpdateStatus",value:function(){var e=localStorage.getItem("ENCODE_MEMBER_BACKGROUND_TASK_STATUS");return null!==e&&"true"===e}},{key:"setBgTaskMuId",value:function(e){localStorage.setItem("ENCODE_MEMBER_BACKGROUND_TASK_MEMBER_UPLOAD_ID",e)}},{key:"isEqualToSavedBgTaskMuId",value:function(e){var t=localStorage.getItem("ENCODE_MEMBER_BACKGROUND_TASK_MEMBER_UPLOAD_ID");return null!==t&&t===e}},{key:"setBgPollingTask",value:function(e){var t=this.getBgPollingTask();window.clearTimeout(t),localStorage.setItem(xs,"".concat(e))}},{key:"getBgPollingTask",value:function(){var e=localStorage.getItem(xs);if(null!==e)try{return parseInt(e)}catch(t){console.log("getBgPollingTask Error parsing timeout id: ".concat(e))}return 0}},{key:"cancelStatusBgPolling",value:function(){var e=this.getBgPollingTask();window.clearTimeout(e),this.setShouldUpdateStatus(!1),this.setBgTaskMuId(""),this.setBgPollingTask(0)}},{key:"resumeStatusBgPolling",value:function(){this.setShouldUpdateStatus(!0),this.setBgTaskMuId(this.state.memberUploadId);var e=window.setTimeout(this.getMuStatusOnBg,1e3);this.setBgPollingTask(e)}},{key:"getMuStatusOnBg",value:function(){var e=this;this.setState({check_internet_flag:!0}),An.getMemberUploadStatus(this.state.memberUploadId).then(function(t){if(t&&void 0===t.error&&e.getShouldUpdateStatus()){e.setState({check_internet_flag:!1});var a=t.member_upload_id,n=t.active_index,r=t.status;if(!Mn.a.isNil(a)&&!e.isEqualToSavedBgTaskMuId(a))return;if((Mn.a.isEmpty(e.state.processingStatus)||e.state.processingStatus.active_index<=n)&&e.setState({processingStatus:t}),["INITIAL","ONGOING"].includes(r)){e.setBgTaskMuId(e.state.memberUploadId);var i=window.setTimeout(e.getMuStatusOnBg,5e3);e.setBgPollingTask(i)}}})}},{key:"getProcessingStatus",value:function(){var e=this;Mn.a.isNil(this.state.memberUploadId)||(this.setState({loading_state:!0,check_internet_flag:!0},function(){e.setShouldUpdateStatus(!0),e.setBgTaskMuId(e.state.memberUploadId)}),An.getMemberUploadStatus(this.state.memberUploadId).then(function(t){e.setState({loading_state:!1,check_internet_flag:!1},function(){if(t&&void 0===t.error&&e.getShouldUpdateStatus()){var a=t.member_upload_id,n=t.active_index,r=t.status;if(!Mn.a.isNil(a)&&!e.isEqualToSavedBgTaskMuId(a))return;if((Mn.a.isEmpty(e.state.processingStatus)||e.state.processingStatus.active_index<=n)&&e.setState({processingStatus:t}),["INITIAL","ONGOING"].includes(r)){e.setBgTaskMuId(e.state.memberUploadId);var i=window.setTimeout(e.getMuStatusOnBg,5e3);e.setBgPollingTask(i)}}})}).catch(function(){e.setState({loading_state:!1})}))}},{key:"closeModalMessage",value:function(){var e=this.state,t=e.submit_flag,a=e.next;t?this.setState({redirectFlag:!0,redirectInfo:{pathname:"/membership/"}}):this.state.fetchContactsErr?this.setState({isOpenModal:!1}):this.setState({modalTitle:"",modalMessage:"",isOpenModal:!1,next:null},function(){a&&a()})}},{key:"closeModalWithList",value:function(){this.setState({modalTitle:"",modalMessage:"",error_list:[],isOpenErrorWithListModal:!1})}},{key:"onCancelProcess",value:function(){var e=this;this.setState({loading_state:!0,check_internet_flag:!0});var t=this.state.trueTicketId;An.cancelMemberUpload(this.state.memberUploadId,this.state.ticketId).then(function(a){a&&void 0!==a.error?e.setState({check_internet_flag:!1,loading_state:!1}):e.setState({loading_state:!1,processingStatus:{},isOpenModal:!0,modalTitle:"Processing of members cancelled",modalMessage:"All progress has been discarded. Start over by uploading a new members list or editing the data mapping for ticket ID ".concat(t,".")})}).catch(function(t){console.log("onCancelProcess",t),"USER_DATA_NOT_FOUND"===t.message?e.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):e.setState({loading_state:!1})})}},{key:"onBackToDashboard",value:function(){this.setState({redirectFlag:!0,redirectInfo:{pathname:"/membership/"}})}},{key:"onConfirmEnrollment",value:function(){var e=this;this.setState({loading_state:!0,check_internet_flag:!0}),An.confirmMemberUpload(this.state.memberUploadId,this.state.ticketId).then(function(t){t&&void 0!==t.error?e.setState({loading_state:!1,check_internet_flag:!1}):(e.setState({loading_state:!1,isOpenModal:!0,modalTitle:"Submission Successful",modalMessage:"Member file was successfully uploaded.",next:e.onBackToDashboard}),e.deleteSaveForNow())}).catch(function(t){console.log("onConfirmEnrollment",t),"USER_DATA_NOT_FOUND"===t.message?e.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):e.setState({loading_state:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.pmaker_task,r=t.breadcrumbs,i=t.pageHeader,o=t.steps,l=t.activeStep,s=t.clients_data,c=t.open,m=t.details_data,d=t.corporate_account,u=t.disabledNext,p=t.initial_load,f=t.loading_state,b=t.uploaded_data,g=t.columns_data,_=t.contracts_data,h=t.system_names,E=t.clients_data_maps,y=t.selected_data_map,x=t.gender_data,O=t.civil_status_data,C=t.plan_type_data,S=t.type_data,w=t.relationship_data,k=t.raw_uploaded_data,j=t.add_new_data_map,N=t.rows_start_at,D=t.filtered_raw_data,T=t.client_maps,M=t.modalTitle,F=t.modalMessage,P=t.isOpenModal,A=t.isConfirmModalOpen,B=t.isOpenErrorWithListModal,I=t.error_list,R=t.batchnames,L=t.plan_type_options,W=t.civil_status_options,z=t.relationship_options,U=t.uploadMemberData,Y=t.ticketId,V=t.trueTicketId,H=t.isAddMembersTicket,q=t.isProcessing,G=t.processingStatus,K=t.redirectFlag,X=t.redirectInfo,Z="",Q=this.props.match.params.proposal_id?this.props.match.params.proposal_id:"";return m&&m.account&&(Z=m.account.value||""),K?n.createElement(v.a,{to:X}):n.createElement("div",{className:Object(tt.default)("EncodeMemberPage")},f?n.createElement(Rn,null):null,n.createElement(J.a,{container:!0,className:Object(tt.default)("member-header")},n.createElement(J.a,{item:!0,xs:12},n.createElement(bn.UI.BreadcrumbsComponent,{items:r})),n.createElement(J.a,{item:!0,xs:12},n.createElement(Tl,{id:"upload_member_stepper",label:i,steps:o,activeStep:l}))),0===l&&p?n.createElement(Ul,{state_data:this.state,responseData:s,client_id:Z,proposal_id:Q,updateDetails:this.handleUpdateDetails,updateState:this.updateState,details_data:m,contracts_data:_,batchnames:R,getBatchNames:this.getBatchNames,isAddMembersTicket:H}):1===l&&p?n.createElement(us,{case_id:Y,ticketId:V,pmaker_task:a,updateDetails:this.handleUpdateDetails,details_data:m,corporate_account:d,system_names:h,uploaded_data:b,column_names:g,showHideLoader:this.showHideLoader,updateState:this.updateState,updateUploadMemberData:this.updateUploadMemberData,data_maps:E,selected_data_map:y,gender_data:x,civil_status_data:O,plan_type_data:C,type_data:S,relationship_data:w,raw_uploaded_data:k,add_new_data_map:j,rows_start_at:N,filtered_raw_data:D,savingNewDataMap:this.savingNewDataMap,updatingDataMap:this.updatingSelectedDataMap,client_maps:T,plan_type_options:L,civil_status_options:W,relationship_options:z,uploadMemberData:U,isProcessing:q,processingStatus:G,getProcessingStatus:this.getProcessingStatus,resumeStatusBgPolling:this.resumeStatusBgPolling,cancelStatusBgPolling:this.cancelStatusBgPolling,onBackToDashboard:this.onBackToDashboard,onConfirmEnrollment:this.onConfirmEnrollment,onCancelProcess:this.onCancelProcess}):null,n.createElement(J.a,{container:!0,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:12},n.createElement(Fl,{leftButtons:n.createElement(Es,{handleSaveForNow:this.onSaveForNowClicked,handleNextButton:this.handleNextButton,disabled:u}),rightButtons:0===l?null:n.createElement(ys,{onBackPressed:this.handleBackButton,disabled:!1})}))),n.createElement(xl,{id:"encode-member-modal",isModalOpen:c,company:m.account.label,member_count:Object.keys(b).length>0?b.rows.length:0,onSubmit:this.onHandleSubmitClick,onClose:this.closeModal}),n.createElement(Cl,{id:"upload-member-confirm-modal",isModalOpen:A,modalTitle:M,modalMessage:F,closeText:"Cancel",confirmText:"Continue Process",onClose:function(){e.setState({isConfirmModalOpen:!1})},onConfirm:function(){var t=e.state.next;t&&e.setState({isConfirmModalOpen:!1},function(){t()})}}),n.createElement(ql,{id:"upload_modal_error",isModalOpen:P,title:M,message:F,onClose:this.closeModalMessage}),n.createElement(fs,{id:"upload_modal_list_error",isModalOpen:B,title:M,message:F,data:I,onClose:this.closeModalWithList}),n.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}))}}]),t}(n.Component),Cs=(a(822),Object(y.a)({root:{padding:"5px 5px"},name:function(e){return{fontSize:e.nameFontSize,paddingBottom:"5px",color:"rgba(39, 46, 76, 0.6)"}},value:function(e){return{fontSize:e.valueFontSize,color:"rgb(39, 46, 76)",fontWeight:600}},link:function(e){return{fontSize:e.valueFontSize,color:"rgb(58, 183, 125)",fontWeight:600,textDecoration:"underline"}}})),Ss=function(e){var t=Cs(e);if(e.link&&e.link.length>0){var a=e.link?e.link:"#";return n.createElement("div",{className:t.root},n.createElement(S.a,{className:t.name},e.name),n.createElement(se.b,{to:a,className:t.link},e.value))}var r=e.value?e.value:"-";return n.createElement("div",{className:t.root},n.createElement(S.a,{className:t.name},e.name),n.createElement(S.a,{className:t.value},r))};Ss.defaultProps={nameFontSize:12,valueFontSize:16,link:""};var ws=function(e){var t=e.data,a=e.corporateAccountNo,r=e.corporateAccountName,i=e.contractName;return n.createElement(n.Fragment,null,n.createElement(J.a,{container:!0,direction:"row",alignItems:"stretch",style:{paddingTop:"35px"},spacing:5},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"CORPORATE ACCOUNT NO.",value:a||""})),n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"CORPORATE ACCOUNT NAME",value:r||""})),n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"CONTRACT",value:i||""})),n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"BATCH NO.",value:t.batch_name?t.batch_name:""})),n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"NO. OF MEMBERS",value:t.no_of_members?t.no_of_members:0}))),n.createElement(J.a,{container:!0,direction:"row",alignItems:"stretch",style:{paddingTop:"35px"},spacing:5},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"CHANNEL USED",value:t.channel?t.channel:""})),n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"SENDER",value:t.sender_name?t.sender_name:""})),n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"EMAIL ADDRESS",value:t.sender_email?t.sender_email:""})),n.createElement(J.a,{item:!0,xs:!0},n.createElement(Ss,{name:"DATE SENT",value:t.date_sent?qr.toCommonDateString(new Date(t.date_sent)):""})),n.createElement(J.a,{item:!0,xs:!0})))};ws.defaultProps={data:{},corporateAccountNo:"",corporateAccountName:"",contractName:""};var ks=Object(y.a)({root:{width:"100%"},tableWrapper:{maxHeight:350,overflow:"auto"},tableHeader:{backgroundColor:"#272E4C"}}),js=function(e){var t=e.rows,a=e.columns,r=e.id,i=ks();return n.createElement(N.a,{className:i.tableWrapper},n.createElement(Ri.a,{id:r,stickyHeader:!0},n.createElement(Li.a,{className:i.tableHeader},n.createElement(Ii.a,null,a.map(function(e){return n.createElement(qn.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.title)}))),n.createElement(Wi.a,null,t.map(function(e){return n.createElement(Ii.a,{role:"checkbox",tabIndex:-1,key:e.code,className:e.className?e.className:""},a.map(function(t){var a=e[t.name];return t.type?function(e,t){var a,r=t[e.name];switch(e.type){case"select":a=e.options?n.createElement(qn.a,{key:e.id,align:e.align},n.createElement(Bl,{id:"col_"+e.id,options:e.options,label:"Data Mapping",value:r,addButton:!1,addButtonLabel:"",onChange:e.callback,error:!1,error_message:""})):n.createElement(qn.a,{key:e.id,align:e.align},e.format&&"number"===typeof r?e.format(r):r);break;default:a=n.createElement(qn.a,{key:e.id,align:e.align},e.format&&"number"===typeof r?e.format(r):r)}return a}(t,e):n.createElement(qn.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)}))}))))};js.defaultProps={rows:[],columns:[]};var Ns=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"}}}),Ds=function(e){var t=e.isModalOpen,a=e.id,r=e.data,i=e.row,o=Object(n.useState)(0),l=Object(g.a)(o,2),s=l[0],c=l[1],m=Object(n.useState)(i),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)(r[i]),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)(r[i].action),E=Object(g.a)(v,2),y=E[0],x=E[1],O=Ns();return Object(n.useEffect)(function(){h(r[i]),x(r[i].action),p(i),console.log("partialmatch1 row",i),console.log("partialmatch1 selected",_),console.log("partialmatch1 data",r),console.log("partialmatch1 partialcount",u),console.log("partialmatch1 status",y)},[e.row]),Object(n.useEffect)(function(){h(r[i]),x(r[i].action),p(i),console.log("partialmatch2 row",i),console.log("partialmatch2 selected",_),console.log("partialmatch2 data",r),console.log("partialmatch2 partialcount",u),console.log("partialmatch2 status",y)},[r[i].action]),n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:O.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:O.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:O.dialogFirstTitle},"Partial Match Details"),n.createElement("div",{className:O.dialogSecondTitle},"Details in red are need to be verified if matched."),n.createElement(ne.a,{id:"close_modal","data-cy":"close_modal","aria-label":"close",className:O.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:O.dialogContent},n.createElement(Nn.a,{value:s,onChange:function(e,t){console.log("event >>>",e),void 0!==t&&c(t)},"aria-label":"simple tabs example"},n.createElement(Dn.a,{label:"Person Profile",id:"person-profile-tab","data-cy":"person-profile-tab"}),n.createElement(Dn.a,{label:"Member Profile",id:"member-profile-tab","data-cy":"member-profile-tab"}),n.createElement("span",{style:{marginTop:"10px",marginLeft:"45px"}},n.createElement(Zr.a,{"aria-label":"position",name:"position",value:y,onChange:function(e){var t;e.stopPropagation(),console.log("selectedpartial >>>",_),t=e.target.value,r[u].action=t,x(t)},row:!0},n.createElement(K.a,{key:0,value:"match",control:n.createElement(Jn.a,{id:"radio_match","data-cy":"radio_match",color:"primary"}),label:"Match",labelPlacement:"end"}),n.createElement(K.a,{key:1,value:"not",control:n.createElement(Jn.a,{id:"radio_not_match","data-cy":"radio_not_match",color:"primary"}),label:"Not Match",labelPlacement:"end"}),n.createElement(K.a,{key:2,value:"confirmation",control:n.createElement(Jn.a,{id:"radio_confirmation","data-cy":"radio_confirmation",color:"primary"}),label:"For Confirmation",labelPlacement:"end"})))),0===s?n.createElement(js,{id:"person-info-table","data-cy":"person-info-table",rows:void 0!==_&&void 0!==_.person_info&&Object.keys(_.person_info).length>0?_.person_info.rows:[],columns:void 0!==_&&void 0!==_.person_info&&Object.keys(_.person_info).length>0?_.person_info.columns:[]}):1===s?n.createElement(js,{id:"member-info-table","data-cy":"member-info-table",rows:void 0!==_&&void 0!==_.member_info&&Object.keys(_.member_info).length>0?_.member_info.rows:[],columns:void 0!==_&&void 0!==_.member_info&&Object.keys(_.member_info).length>0?_.member_info.columns:[]}):null),n.createElement(q.a,{className:O.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4},n.createElement(z.a,{id:"previous_button","data-cy":"previous_button",disabled:0===u,className:O.previousButton,onClick:function(){var e=u-1;e>=0&&(p(e),h(r[e]),x(r[e].action))},style:{textTransform:"inherit"}},n.createElement(X.a,{icon:Z.j,style:{color:0===u?"rgba(0, 0, 0, 0.26)":"#3C394A",marginRight:"8px"}})," ","Prev Member")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{id:"save_changes","data-cy":"save_changes",className:O.submitButton,variant:"contained",color:"primary",onClick:function(){e.onSave(r)}},"Save Changes")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"right"}},n.createElement(z.a,{id:"next_member","data-cy":"next_member",disabled:u===r.length-1,className:O.nextButton,onClick:function(){if(u!==r.length-1){var e=u+1;p(e),h(r[e]),x(r[e].action)}},style:{textTransform:"inherit"}},"Next Member"," ",n.createElement(X.a,{icon:Z.k,style:{color:u===r.length-1?"rgba(0, 0, 0, 0.26)":"#3C394A",marginLeft:"8px"}}))))))};function Ts(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}Ds.defaultProps={isModalOpen:!1,id:"modal-id",data:[]};var Ms=Object(O.a)({root:{color:"#272E4C33","&$checked":{color:"#1E2071"}},checked:{}})(function(e){return n.createElement(G.a,Object.assign({color:"default"},e))}),Fs=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).setFieldValue=function(e,t){a.setState(function(a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ts(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ts(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,Object(wi.a)({},e,t))}),"updata"===e&&a.props.onApprove(t)},a.setIsSnackbarNotifOpen=function(e){a.setState({isSnackbarNotifOpen:e})},a.handleChange=function(e,t){var n=a.state.updata;n[e].checked=t,t||(n[e].uploaded=!1,n[e].uploaded_file=null,n[e].uploaded_filename=""),a.setFieldValue("updata",n),console.log("name: ",e)},a.handleDeleteFile=function(e){console.log("event: ",e);var t=a.state.updata;t[e].uploaded=!1,t[e].uploaded_file=null,t[e].uploaded_filename="",a.setFieldValue("updata",t),console.log("name: ",e)},a.handleUploadFile=function(e){var t=a.state.updata;t[e].uploaded=!1,a.setFieldValue("updata",t);var n=document.getElementById(e);n&&n.click()},a.handleUploadFileChange=function(e,t){var n=t.target.files[0];n&&a.uploadDocument(e,n)},a.uploadDocument=function(e,t){a.setState({isLoading:!0}),An.uploadMemberDocument("verify-members",e,t).then(function(t){if(t&&t.url){var n=Pn||"",r=Object(Tn.replace)(t.url,"public/",n);t.url=r;var i=a.state.updata;i[e].uploaded=!0,i[e].uploaded_filename=t.name,i[e].uploaded_file=t,console.log("uploadMemberDocumentAPI:"),console.log(i),a.setFieldValue("updata",i),a.setState({isLoading:!1}),a.setIsSnackbarNotifOpen(!0)}}).catch(function(e){console.log("uploadDocument Error",e),a.setState({isLoading:!1})})};return a.state={updata:{birth_certificate:{label:"Birth Certificate",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},baptismal_certificate:{label:"Baptismal Certificate",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},marriage_certificate:{label:"Marriage Certificate",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},solo_parent_id:{label:"Solo Parent ID",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},proof_of_parentage:{label:"Other proof of Parentage",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},certificate_no_marriage:{label:"Certificate of No Marriage",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},annulment_papers:{label:"Annulment Papers",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},passport:{label:"Passport",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},scanned_hmo_card:{label:"Scanned HMO Card",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},death_certificate:{label:"Death Certificate",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},employee_id:{label:"Employee ID",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},proof_overseas_employment:{label:"Proof of Overseas Employment",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},others:{label:"Others",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""}},isLoading:!1,isSnackbarNotifOpen:!1,snackbarNotifMsg:"File successfully uploaded.",snackbarNotifVariant:"success"},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.updata,r=t.isLoading,i=t.isSnackbarNotifOpen,o=t.snackbarNotifMsg,l=t.snackbarNotifVariant;return n.createElement(J.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch"},Object.keys(a).map(function(t,r){return n.createElement(J.a,{container:!0,direction:"row",justify:"space-between",key:t},n.createElement(K.a,{control:n.createElement(Ms,{checked:a[t].checked,onChange:function(a){e.handleChange(t,a.target.checked),console.log("event key: ",t),console.log("event value: ",r)},value:t}),label:a[t].label}),a[t].uploaded?n.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},n.createElement("span",null,n.createElement("span",{style:{textDecoration:"underline"}},a[t].uploaded_filename),n.createElement("span",{style:{paddingLeft:"10px",fontSize:"15px"},onClick:function(){e.handleDeleteFile(t)}},n.createElement(X.a,{icon:Z.O,style:{color:"#B5B8C1"}})))):a[t].checked?n.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},n.createElement("span",null,n.createElement("span",{style:{paddingRight:"10px",fontSize:"15px"},onClick:function(){e.handleUploadFile(t)}},n.createElement(X.a,{icon:Z.s,style:{color:"#0D5E40"}})),n.createElement("span",{style:{textDecoration:"underline",color:"#0D5E40"},onClick:function(){e.handleUploadFile(t)}},"Upload File"),n.createElement("input",{id:t,hidden:!0,type:"file",onChange:function(a){e.handleUploadFileChange(t,a)}}))):null)}),r?n.createElement(Rn,null):null,n.createElement(Ql,{isOpen:i,message:o,variant:l,onSnackbarClose:function(){e.setIsSnackbarNotifOpen(!1)}}))}}]),t}(n.Component),Ps=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingLeft:"50px",paddingRight:"50px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),marginRight:"64px"},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},label:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},approveButton:{minWidth:129},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"}}}),As=function(e){var t=e.id,a=e.row,r=Object(n.useState)([]),i=Object(g.a)(r,2),o=i[0],l=i[1],s=Object(n.useState)(e.isModalOpen),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)({}),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(""),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Ps();Object(n.useEffect)(function(){d(e.isModalOpen),e.isModalOpen&&(l([]),E(""))},[e.isModalOpen]);return n.createElement(U.a,{id:t,maxWidth:!1,open:m,scroll:"paper","aria-labelledby":"modal-title",className:y.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:y.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:y.dialogFirstTitle},"Approve Member"),n.createElement("div",{className:y.dialogSecondTitle},"Check which document(s) to upload to support the approval of the member."),n.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:y.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:y.dialogContent},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(Fs,{isModalOpen:!0,onApprove:function(e){return function(e){b(e)}(e)},onUpload:function(e){var t=[].concat(Object(Ln.a)(o),[e]);l(t)}})),n.createElement(J.a,{item:!0,xs:12},n.createElement(F.a,{className:y.label,htmlFor:"disapprove_remarks_tf"},"Remarks"),n.createElement(j.a,{style:{marginTop:"8px",width:"100%"},id:"disapprove_remarks_tf","data-cy":"disapprove_remarks_tf",margin:"normal",variant:"outlined",multiline:!0,rows:10,value:v,onChange:function(e){var t=e.target.value;E(t)},inputProps:{"aria-label":"bare"}})))),n.createElement(q.a,{className:y.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{id:"cancel_button","data-cy":"cancel_button",className:y.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{id:"approve_button","data-cy":"approve_button",className:y.approveButton,variant:"contained",color:"primary",onClick:function(){e.onApprove(a,f,v)}},"Approve")))))};As.defaultProps={isModalOpen:!1,id:"modal-id"};var Bs=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingLeft:"24px",paddingRight:"24px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),marginRight:"64px"},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingTop:e.spacing(2)},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},disapproveButton:{textTransform:"none",minWidth:129,marginRight:25,color:"#FFFFFF",backgroundColor:"#FF5555","&:hover":{background:"#FF7777"}},label:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"}}}),Is=function(e){var t=e.id,a=e.row,i=Object(n.useState)(e.isModalOpen),o=Object(g.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(""),m=Object(g.a)(c,2),d=m[0],u=m[1],p=Bs();Object(n.useEffect)(function(){s(e.isModalOpen),e.isModalOpen&&u("")},[e.isModalOpen]);return r.a.createElement(U.a,{id:t,maxWidth:!1,open:l,scroll:"paper","aria-labelledby":"modal-title",className:p.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:p.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:p.dialogFirstTitle},"Disapprove Member"),r.a.createElement("div",{className:p.dialogSecondTitle},"This entry will be disapproved. You may add your reason for disapproval below."),r.a.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:p.closeButton,onClick:e.onClose},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:p.dialogContent},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:p.label,htmlFor:"disapprove_remarks_tf"},"Remarks"),r.a.createElement(j.a,{style:{marginTop:"8px",width:"100%"},id:"disapprove_remarks_tf","data-cy":"disapprove_remarks_tf",margin:"normal",variant:"outlined",multiline:!0,rows:10,value:d,onChange:function(e){var t=e.target.value;u(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:p.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{id:"cancel_button","data-cy":"cancel_button",className:p.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{id:"disapprove_button","data-cy":"disapprove_button",className:p.disapproveButton,variant:"contained",color:"default",onClick:function(){e.onDisapprove&&e.onDisapprove(a,d)}},"Disapprove")))))};function Rs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}Is.defaultProps={isModalOpen:!1,id:"modal-id"};var Ls=Object(O.a)({root:{color:"#272E4C33","&$checked":{color:"#1E2071"}},checked:{}})(function(e){return n.createElement(G.a,Object.assign({color:"default"},e))}),Ws=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).setFieldValue=function(e,t){a.setState(function(a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rs(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rs(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,Object(wi.a)({},e,t))}),"updata"===e&&a.props.onSubmit(t)},a.setIsSnackbarNotifOpen=function(e){a.setState({isSnackbarNotifOpen:e})},a.handleChange=function(e,t){var n=a.state.updata;n[e].checked=t,t||(n[e].uploaded=!1,n[e].uploaded_file=null,n[e].uploaded_filename=""),a.setFieldValue("updata",n),console.log("name: ",e)},a.handleDeleteFile=function(e){console.log("event: ",e);var t=a.state.updata;t[e].uploaded=!1,t[e].uploaded_file=null,t[e].uploaded_filename="",a.setFieldValue("updata",t),console.log("name: ",e)},a.handleUploadFile=function(e){var t=a.state.updata;t[e].uploaded=!1,a.setFieldValue("updata",t);var n=document.getElementById(e);n&&n.click()},a.handleUploadFileChange=function(e,t){var n=t.target.files[0];n&&a.uploadDocument(e,n)},a.uploadDocument=function(e,t){a.setState({isLoading:!0}),An.uploadMemberDocument("verify-members",e,t).then(function(t){if(t&&t.url){var n=Pn||"",r=Object(Tn.replace)(t.url,"public/",n);t.url=r;var i=a.state.updata;i[e].uploaded=!0,i[e].uploaded_filename=t.name,i[e].uploaded_file=t,console.log("uploadMemberDocumentAPI:"),console.log(i),a.setFieldValue("updata",i),a.setState({isLoading:!1}),a.setIsSnackbarNotifOpen(!0)}}).catch(function(e){console.log("uploadDocument Error",e),a.setState({isLoading:!1})})};return a.state={updata:{birth_certificate:{label:"Birth Certificate",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},baptismal_certificate:{label:"Baptismal Certificate",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},marriage_certificate:{label:"Marriage Certificate",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},solo_parent_id:{label:"Solo Parent ID",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},proof_of_parentage:{label:"Other proof of Parentage",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},certificate_no_marriage:{label:"Certificate of No Marriage",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},annulment_papers:{label:"Annulment Papers",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},passport:{label:"Passport",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},scanned_hmo_card:{label:"Scanned HMO Card",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},death_certificate:{label:"Death Certificate",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},employee_id:{label:"Employee ID",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},proof_overseas_employment:{label:"Proof of Overseas Employment",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""},others:{label:"Others",checked:!1,uploaded:!1,uploaded_file:null,uploaded_filename:""}},isLoading:!1,isSnackbarNotifOpen:!1,snackbarNotifMsg:"File successfully uploaded.",snackbarNotifVariant:"success"},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.updata,r=t.isLoading,i=t.isSnackbarNotifOpen,o=t.snackbarNotifMsg,l=t.snackbarNotifVariant;return n.createElement(J.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch"},Object.keys(a).map(function(t,r){return n.createElement(J.a,{container:!0,direction:"row",justify:"space-between",key:t},n.createElement(K.a,{control:n.createElement(Ls,{checked:a[t].checked,onChange:function(a){e.handleChange(t,a.target.checked),console.log("event key: ",t),console.log("event value: ",r)},value:t}),label:a[t].label}),a[t].uploaded?n.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},n.createElement("span",null,n.createElement("span",{style:{textDecoration:"underline"}},a[t].uploaded_filename),n.createElement("span",{style:{paddingLeft:"10px",fontSize:"15px"},onClick:function(){e.handleDeleteFile(t)}},n.createElement(X.a,{icon:Z.O,style:{color:"#B5B8C1"}})))):a[t].checked?n.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},n.createElement("span",null,n.createElement("span",{style:{paddingRight:"10px",fontSize:"15px"},onClick:function(){e.handleUploadFile(t)}},n.createElement(X.a,{icon:Z.s,style:{color:"#0D5E40"}})),n.createElement("span",{style:{textDecoration:"underline",color:"#0D5E40"},onClick:function(){e.handleUploadFile(t)}},"Upload File"),n.createElement("input",{id:t,hidden:!0,type:"file",onChange:function(a){e.handleUploadFileChange(t,a)}}))):null)}),r?n.createElement(Rn,null):null,n.createElement(Ql,{isOpen:i,message:o,variant:l,onSnackbarClose:function(){e.setIsSnackbarNotifOpen(!1)}}))}}]),t}(n.Component),zs=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingLeft:"50px",paddingRight:"50px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),marginRight:"64px"},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},label:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"}}}),Us=function(e){var t=e.id,a=e.row,r=Object(n.useState)([]),i=Object(g.a)(r,2),o=i[0],l=i[1],s=Object(n.useState)(e.isModalOpen),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)({}),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(""),h=Object(g.a)(_,2),v=h[0],E=h[1],y=zs();Object(n.useEffect)(function(){d(e.isModalOpen),e.isModalOpen&&(l([]),E(""))},[e.isModalOpen]);return n.createElement(U.a,{id:t,maxWidth:!1,open:m,scroll:"paper","aria-labelledby":"modal-title",className:y.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:y.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:y.dialogFirstTitle},"Upload Files for Disapproved Member"),n.createElement("div",{className:y.dialogSecondTitle},"Check which document(s) to upload for the disapproved member."),n.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:y.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:y.dialogContent},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(Ws,{isModalOpen:!0,onSubmit:function(e){return function(e){b(e)}(e)},onUpload:function(e){var t=[].concat(Object(Ln.a)(o),[e]);l(t)}})),n.createElement(J.a,{item:!0,xs:12},n.createElement(F.a,{className:y.label,htmlFor:"disapprove_remarks_tf"},"Remarks"),n.createElement(j.a,{style:{marginTop:"8px",width:"100%"},id:"disapprove_remarks_tf","data-cy":"disapprove_remarks_tf",margin:"normal",variant:"outlined",multiline:!0,rows:10,value:v,onChange:function(e){var t=e.target.value;E(t)},inputProps:{"aria-label":"bare"}})))),n.createElement(q.a,{className:y.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{id:"cancel_button","data-cy":"cancel_button",className:y.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{id:"submit_button","data-cy":"submit_button",className:y.submitButton,variant:"contained",color:"primary",onClick:function(){e.onSubmit(a,f,v)}},"Submit")))))};Us.defaultProps={isModalOpen:!1,id:"modal-id"};var Ys=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingLeft:"24px",paddingRight:"24px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),marginRight:"64px"},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingTop:e.spacing(2)},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},disapproveButton:{textTransform:"none",minWidth:129,marginRight:25,color:"#FFFFFF",backgroundColor:"#FF5555","&:hover":{background:"#FF7777"}},approveButton:{textTransform:"none",minWidth:129,marginRight:25,color:"#FFFFFF",backgroundColor:"#3AB77D"},label:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"}}}),Vs=function(e){var t=Object(n.useState)(e.isModalOpen),a=Object(g.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)({title:"Approve",subTitle1:"approved",subTitle2:"approval",button:"approveButton"}),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)(""),u=Object(g.a)(d,2),p=u[0],f=u[1],b=Ys();Object(n.useEffect)(function(){o(e.isModalOpen),e.isModalOpen&&f("")},[e.isModalOpen]),Object(n.useEffect)(function(){switch(e.action){case"Approve":m({title:"Approve",subTitle1:"approved",subTitle2:"approval",button:"approveButton"});break;case"Disapprove":m({title:"Disapprove",subTitle1:"disapproved",subTitle2:"disapproval",button:"disapproveButton"})}},[e.action]);return r.a.createElement(U.a,{id:e.id,maxWidth:!1,open:i,scroll:"paper","aria-labelledby":"modal-title",className:b.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:b.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:b.dialogFirstTitle},c.title," Member"),r.a.createElement("div",{className:b.dialogSecondTitle},"This entry will be ",c.subTitle1,". You may add your reason for ",c.subTitle2," below."),r.a.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:b.closeButton,onClick:e.onClose},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:b.dialogContent},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:b.label,htmlFor:"action_modal_remarks_tf"},"Remarks"),r.a.createElement(j.a,{style:{marginTop:"8px",width:"100%"},id:"action_modal_remarks_tf","data-cy":"action_modal_remarks_tf",margin:"normal",variant:"outlined",multiline:!0,rows:10,value:p,onChange:function(e){var t=e.target.value;f(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:b.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{id:"cancel_button","data-cy":"cancel_button",className:b.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{id:"submit_button","data-cy":"submit_button",className:b[c.button],variant:"contained",color:"default",onClick:function(){e.onActionSubmit&&e.onActionSubmit(e.row,e.tab,e.actionValue,p)}},c.title)))))};Vs.defaultProps={id:"add_action_remarks_modal_id",isModalOpen:!1,action:"Approve"};var Hs=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),qs=function(e){var t=e.isModalOpen,a=e.id,r=Hs();return n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:r.dialogFirstTitle},"Load previous data?"),n.createElement("div",{className:r.dialogSecondTitle}),n.createElement(ne.a,{"aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:r.dialogContent},n.createElement(J.a,{item:!0,xs:12})),n.createElement(q.a,{className:r.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{className:r.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{className:r.submitButton,variant:"contained",color:"primary",onClick:e.loadData},"Confirm")))))};qs.defaultProps={isModalOpen:!1,id:"modal-id"};var Gs=a(2027),Js=bn.UI.InputChipTextField.InputChipTextField,Ks=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),Xs=function(e){var t=e.isModalOpen,a=e.email,r=e.id,i=Object(n.useState)([a]),o=Object(g.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(!1),m=Object(g.a)(c,2),d=m[0],u=m[1],p=Object(n.useState)(""),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Ks();return Object(n.useEffect)(function(){s([a])},[a]),n.createElement(U.a,{id:r,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:h.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:h.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:h.dialogFirstTitle},"Email Report"),n.createElement("div",{className:h.dialogSecondTitle}),n.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:h.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:h.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(Js,{id:"email_textfield",label:"Email Address",value:l,error:d,onChange:function(e){s(e),u(!1),_("")}}),d?n.createElement(S.a,{className:h.error,color:"textPrimary"},b):null)),n.createElement(q.a,{className:h.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{id:"cancel_button","data-cy":"cancel_button",className:h.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{id:"send_button","data-cy":"send_button",className:h.submitButton,variant:"contained",color:"primary",onClick:function(){l.forEach(function(t){t.match(/.+@.+/)?(u(!1),_(""),e.onSend(l)):(u(!0),_("Invalid email address."))}),0===l.length&&e.onSend(l)}},"Send")))))};function Zs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}Xs.defaultProps={isModalOpen:!1,id:"modal-id"};var Qs=Object(y.a)(function(e){return{success:{backgroundColor:"#E6F5F6",borderColor:"#E6F5F6"},error:{backgroundColor:e.palette.error.light,borderColor:e.palette.error.light},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Kl.a[700]},icon:{fontSize:20,color:"#363636"},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{color:"#272E4C",display:"flex",alignItems:"center"}}});function $s(e){var t=Qs(),a=e.className,n=e.message,i=e.onClose,o=e.variant,l=Object(Wn.a)(e,["className","message","onClose","variant"]);return r.a.createElement(Gl.a,Object.assign({className:Object(tt.default)(t[o],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},n),action:[r.a.createElement(ne.a,{key:"close","aria-label":"close",color:"inherit",onClick:i},r.a.createElement(Xe.a,{className:t.icon}))]},l))}var ec=Object(y.a)(function(e){return{root:{width:"100%"},iconsSpanOne:{color:"#0D5E40",fontSize:"14px",fontWeight:600,marginRight:"16px",cursor:"pointer"},iconsSpanTwo:{color:"#0D5E40",fontSize:"14px",fontWeight:600,cursor:"pointer"},icons:{color:"#0D5E40",fontSize:"18px",paddingRight:"6px",paddingTop:"3px"},label:{padding:"5px 5px",fontSize:"14px"},approvedlabel:{padding:"5px 5px",fontSize:"16px",fontWeight:700},gridtable:{marginBottom:"35px"},popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},paper:{padding:"20px",width:300},grid:{padding:"0px 20px 15px 20px"},textLabel:{fontSize:"12px",fontWeight:700},downloadBtn:{width:135,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},rightButton:{height:"40px",minWidth:"99px",backgroundColor:"#3C394A",color:"#FFFFFF"},leftButton:{padding:"0px 8px",height:"40px",width:"150px",border:"2px solid #3AB77D"},backButton:{padding:"0px 8px",height:"40px",width:"150px",backgroundColor:"#3C394A",color:"#FFFFFF",textTransform:"none","&:hover":{background:"#000000"}},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},generateButton:{height:"40px",minWidth:"150px"}}}),tc=function(e){var t=e.case_id,a=e.data,i=e.email,o=e.id,l=e.client_id,s=e.client_name,c=ec(),m=Object(n.useState)(!1),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useRef)(null),b=Object(n.useState)(null),_=Object(g.a)(b,2),h=_[0],E=_[1],y=Object(n.useState)(!1),x=Object(g.a)(y,2),O=x[0],C=x[1],w=Object(n.useState)(""),k=Object(g.a)(w,2),j=k[0],D=k[1],T=Object(n.useState)(""),M=Object(g.a)(T,2),F=M[0],P=M[1],A=Object(n.useState)(""),B=Object(g.a)(A,2),I=B[0],R=B[1],L=Object(n.useState)("PDF"),W=Object(g.a)(L,2),U=W[0],Y=W[1],V=Object(n.useState)(!1),H=Object(g.a)(V,2),q=H[0],Q=H[1],$=Object(n.useState)(!1),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=r.a.useState({partial:!1,incomplete:!1,conflict:!1,validation:!1,disapproved:!1,approved:!1}),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],le=r.a.useState(!1),se=Object(g.a)(le,2),ce=se[0],me=se[1],de=r.a.useState("Success."),ue=Object(g.a)(de,2),pe=ue[0],fe=ue[1],be=r.a.useState("success"),ge=Object(g.a)(be,2),_e=ge[0],he=ge[1],ve=Object(n.useState)(!1),Ee=Object(g.a)(ve,2),ye=Ee[0],xe=Ee[1],Oe=Object(n.useState)(""),Ce=Object(g.a)(Oe,2),Se=Ce[0],we=Ce[1],ke=Object(n.useState)(""),je=Object(g.a)(ke,2),Ne=je[0],De=je[1],Te=Object(n.useState)(!1),Me=Object(g.a)(Te,2),Fe=Me[0],Pe=Me[1],Ae=Object(n.useState)(!1),Be=Object(g.a)(Ae,2),Ie=Be[0],Re=Be[1],Le=Object(n.useState)(null),We=Object(g.a)(Le,2),ze=We[0],Ue=We[1],Ye=Object(n.useState)(""),Ve=Object(g.a)(Ye,2),He=Ve[0],Ge=Ve[1],Je=Object(n.useState)(""),Ke=Object(g.a)(Je,2),Xe=Ke[0],Ze=Ke[1],Qe=Mn.a.assign({},a.partial),$e=Mn.a.assign({},a.incomplete),et=Mn.a.assign({},a.validation),at=Mn.a.assign({},a.conflict),nt=Mn.a.assign({},a.disapprove),rt=Mn.a.assign({},a.approved);function it(){R("")}function ot(e,t){oe(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zs(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zs(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},ie,Object(wi.a)({},t,e.target.checked)))}function lt(){C(!1)}return Qe.columns.splice(3,1),$e.columns.splice(2,1),et.columns.splice(2,1),at.columns.splice(2,1),nt.columns.splice(2,1),te?r.a.createElement(v.a,{to:{pathname:"/membership/"}}):r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},Fe?r.a.createElement(Rn,null):null),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:8},r.a.createElement(S.a,{className:Object(tt.default)("sub-title"),color:"textPrimary"},"Exception Report")),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement("span",{id:"email_report","data-cy":"email_report",className:c.iconsSpanOne,onClick:function(){Q(!0)}},r.a.createElement(X.a,{icon:Z.n,className:c.icons})," ","Email Report"),r.a.createElement("span",{id:"download_report","data-cy":"download_report",ref:f,className:c.iconsSpanTwo,onClick:function(){p(!0)}},r.a.createElement(X.a,{icon:Z.m,className:c.icons})," ","Download Report",r.a.createElement(qe.a,{open:u,anchorEl:f.current,placement:"bottom-end",className:c.popper,disablePortal:!1,style:{marginTop:"4px"},modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"undefined"},arrow:{enabled:!0,element:h}}},r.a.createElement("span",{className:c.arrow,ref:E}),r.a.createElement(N.a,{className:c.paper},r.a.createElement(Gs.a,{onClickAway:function(){p(!1)}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:c.textLabel,color:"textPrimary"},"Choose Data")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Zr.a,{"aria-label":"choose-data",name:"choose-data",value:I,style:{paddingLeft:"5px"},onChange:function(e){return R(e.target.value)}},r.a.createElement(K.a,{value:"Include entire list",control:r.a.createElement(Jn.a,{id:"radio_include_entire_list","data-cy":"radio_include_entire_list",style:{padding:"5px"},color:"primary"}),label:"Include entire list",labelPlacement:"end"}),r.a.createElement(K.a,{value:"Custom list",control:r.a.createElement(Jn.a,{id:"radio_custom_list","data-cy":"radio_custom_list",style:{padding:"5px"},color:"primary"}),label:"Custom list",labelPlacement:"end"}))),"Custom list"===I?r.a.createElement(J.a,{item:!0,xs:12,className:c.grid},r.a.createElement(ns.a,null,r.a.createElement(K.a,{checked:ie.partial,control:r.a.createElement(G.a,{id:"checkbox_partial","data-cy":"checkbox_partial",style:{padding:"5px"},color:"primary"}),label:"Partial Matches",onChange:function(e){return ot(e,"partial")}}),r.a.createElement(K.a,{checked:ie.incomplete,control:r.a.createElement(G.a,{id:"checkbox_incomplete","data-cy":"checkbox_incomplete",style:{padding:"5px"},color:"primary"}),label:"Incomplete Requirements",onChange:function(e){return ot(e,"incomplete")}}),r.a.createElement(K.a,{checked:ie.conflict,control:r.a.createElement(G.a,{id:"checkbox_conflict","data-cy":"checkbox_conflict",style:{padding:"5px"},color:"primary"}),label:"Conflict on Data",onChange:function(e){return ot(e,"conflict")}}),r.a.createElement(K.a,{checked:ie.validation,control:r.a.createElement(G.a,{id:"checkbox_validation","data-cy":"checkbox_validation",style:{padding:"5px"},color:"primary"}),label:"For Validation",onChange:function(e){return ot(e,"validation")}}),r.a.createElement(K.a,{checked:ie.disapproved,control:r.a.createElement(G.a,{id:"checkbox_disapproved","data-cy":"checkbox_disapproved",style:{padding:"5px"},color:"primary"}),label:"Disapproved",onChange:function(e){return ot(e,"disapproved")}}),r.a.createElement(K.a,{checked:ie.approved,control:r.a.createElement(G.a,{id:"checkbox_approved","data-cy":"checkbox_approved",style:{padding:"5px"},color:"primary"}),label:"Approved",onChange:function(e){return ot(e,"approved")}}))):null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:c.textLabel,color:"textPrimary"},"Choose Format")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Zr.a,{"aria-label":"choose-format",name:"choose-format",value:U,style:{paddingLeft:"5px"},onChange:function(e){return Y(e.target.value)}},r.a.createElement(K.a,{value:"PDF",control:r.a.createElement(Jn.a,{id:"radio_pdf","data-cy":"radio_pdf",style:{padding:"5px"},color:"primary"}),label:"PDF",labelPlacement:"end"}))),r.a.createElement(J.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"10px"}},r.a.createElement(z.a,{id:"button_download_file","data-cy":"button_download_file",className:c.downloadBtn,variant:"contained",color:"secondary",onClick:function(){var t,a=[],n="";if(""===I)return D("error"),P("Please choose data to continue."),void C(!0);if(""===U)return D("error"),P("Please choose format to continue."),void C(!0);if("Custom list"===I){if(Object.keys(ie).map(function(e){ie[e]&&a.push(e)}),0===a.length)return D("error"),P("Please select data from the list to continue."),void C(!0)}else a.push("all");"PDF"===U?n="exceptionreport.pdf":"XLS"===U?n="exceptionreport.xls":"XML"===U&&(n="exceptionreport.xml"),t={data:a,format:U},Pe(!0),e.handleOpenLostInternetConnectionModal(),An.downloadExceptionReport(o,t).then(function(t){if(Pe(!1),void 0!==t){if(e.handleCloseLostInternetConnectionModal(),"application/json"===t.type)D("error"),P("Error downloading file."),C(!0);else{var a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=n,r.click()}p(!1)}}).catch(function(){Pe(!1)})}},"Download File")))))))))),r.a.createElement(J.a,{item:!0,xs:12,className:c.gridtable,style:{marginTop:"17px"}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:c.label,color:"textPrimary"},"Partial Matches (",Qe.rows.length,")")),r.a.createElement(J.a,{item:!0,xs:11},r.a.createElement(ll,{id:"partial-matches",rows:Object.keys(Qe).length>0?Qe.rows:[],columns:Object.keys(Qe).length>0?Qe.columns:[],onClickRow:it,message:"No enrolled members were partially matched",disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,disablePaging:!0,formattedColumns:{},columnExtensions:Object.keys(Qe).length>0?Qe.columnExtensions:[]})))),r.a.createElement(J.a,{item:!0,xs:12,className:c.gridtable},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:c.label,color:"textPrimary"},"Incomplete Requirements (",$e.rows.length,")")),r.a.createElement(J.a,{item:!0,xs:11},r.a.createElement(ll,{id:"incomplete-requirements",rows:Object.keys($e).length>0?$e.rows:[],columns:Object.keys($e).length>0?$e.columns:[],onClickRow:it,message:"No enrolled members with incomplete requirements",disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,disablePaging:!0,formattedColumns:{},columnExtensions:Object.keys($e).length>0?$e.columnExtensions:[]})))),r.a.createElement(J.a,{item:!0,xs:12,className:c.gridtable},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:c.label,color:"textPrimary"},"Conflict on Data (",at.rows.length,")")),r.a.createElement(J.a,{item:!0,xs:11},r.a.createElement(ll,{id:"conflict-requirements",rows:Object.keys(at).length>0?at.rows:[],columns:Object.keys(at).length>0?at.columns:[],onClickRow:it,message:"No enrolled members with conflict on data",disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,disablePaging:!0,formattedColumns:{},columnExtensions:Object.keys(at).length>0?at.columnExtensions:[]})))),r.a.createElement(J.a,{item:!0,xs:12,className:c.gridtable},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:c.label,color:"textPrimary"},"For Validation (",et.rows.length,")")),r.a.createElement(J.a,{item:!0,xs:11},r.a.createElement(ll,{id:"for-validation",rows:Object.keys(et).length>0?et.rows:[],columns:Object.keys(et).length>0?et.columns:[],onClickRow:it,message:"No enrolled members to be validated",disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,disablePaging:!0,formattedColumns:{},columnExtensions:Object.keys(et).length>0?et.columnExtensions:[]})))),r.a.createElement(J.a,{item:!0,xs:12,className:c.gridtable},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:c.label,color:"textPrimary"},"Disapproved (",nt.rows.length,")")),r.a.createElement(J.a,{item:!0,xs:11},r.a.createElement(ll,{id:"disapproved-requirements",rows:Object.keys(nt).length>0?nt.rows:[],columns:Object.keys(nt).length>0?nt.columns:[],onClickRow:it,message:"No enrolled members were disapproved",disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,disablePaging:!0,formattedColumns:{},columnExtensions:Object.keys(nt).length>0?nt.columnExtensions:[]})))),r.a.createElement(J.a,{item:!0,xs:12,className:c.gridtable},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:c.label,color:"textPrimary"},"Approved (",rt.rows.length,")")),r.a.createElement(J.a,{item:!0,xs:11},r.a.createElement(ll,{id:"approved-requirements",rows:Object.keys(rt).length>0?rt.rows:[],columns:Object.keys(rt).length>0?rt.columns:[],onClickRow:it,message:"No enrolled members were approved",disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,disablePaging:!0,formattedColumns:{},columnExtensions:Object.keys(rt).length>0?rt.columnExtensions:[]})))),r.a.createElement(ql,{id:"exception_report_modal","data-cy":"exception_report_modal",isModalOpen:Ie,title:He,message:Xe,onClose:function(){Re(!1),null!==ze&&(ze(),Ue(null))}}),r.a.createElement(Xs,{isModalOpen:q,id:"partial-match-modal","data-cy":"partial-match-modal",email:i,onClose:function(){Q(!1)},onSend:function(e){return t=e,Object.assign([],t).push(i),void Q(!1);var t}}),r.a.createElement(Cl,{id:"verify-member-confirm-modal","data-cy":"verify-member-confirm-modal",isModalOpen:ye,modalTitle:Se,modalMessage:Ne,closeText:"Cancel",confirmText:"Proceed",onClose:function(){xe(!1)},onConfirm:function(){xe(!1),Pe(!0),e.handleOpenLostInternetConnectionModal(),An.patchValidateResolve(o,t).then(function(a){a.error&&void 0!==a.error&&null===a.error?(Pe(!1),D("error"),P("Error member validation."),C(!0)):function(a){var n=Mn.a.get(e.memberUploadData,"validated_members",[]);if(Mn.a.some(n,function(e){var t=Mn.a.get(e,"validation_status.action","");return""===t||"confirmation"===t||"for confirmation"===t}))return Pe(!1),void ae(!0);An.deleteMemberUpload(a).then(function(e){console.log("deleteMemberUpload response: ",e),An.deleteMemberUploadData(a).then(function(e){console.log("deleteMemberUploadData response: ",e),gs.put("cases/"+t+"/variable",{pressed_reassign:!1}).then(function(){gs.put("cases/"+t+"/route-case",{}).then(function(){Pe(!1);An.patchTicket({status:"CLOSED"},t,!0).then(function(){Pe(!0),gs.post("cases/",{pro_uid:"3363390215e4a46e1d4c9c3014822793",tas_uid:"4476339725e4a470aacd7b3087643861"}).then(function(e){if(console.log("createPrintCardIDTicket",e),Pe(!1),void 0!==e.app_uid){var t=e.app_uid;a=t,n=e,gs.put("cases/"+a+"/variable",{client_id:l||"",client_name:s||"",from_membership:!0}).then(function(e){console.log("setTicketVariable",e),gs.put("cases/"+a+"/route-case",{}).then(function(){var e={status:"UNASSIGNED",ticket_id:n.app_number.toString(),pmaker_case_uid:a,ticket_type:"Print Card IDs",client:s,client_id:l};An.postTicket(e).then(function(){Pe(!1),ae(!0)}).catch(function(){Pe(!1),fe("Something went wrong. Please try again later."),he("error"),me(!0)})}).catch(function(e){Pe(!1),"USER_DATA_NOT_FOUND"===e.message?(Re(!0),Ge("User Data Error"),Ze("User data not found. Please try logging in again."),Ue(function(){return function(){window.location.replace("../index.html#/")}})):(fe("Something went wrong. Please try again later."),he("error"),me(!0))})}).catch(function(e){console.log("setTicketVariable",e),"USER_DATA_NOT_FOUND"===e.message&&(Re(!0),Ge("User Data Error"),Ze("User data not found. Please try logging in again."),Ue(function(){return function(){window.location.replace("../index.html#/")}}))})}var a,n}).catch(function(e){console.log("createAddMemberTicket",e),Pe(!1),"USER_DATA_NOT_FOUND"===e.message&&(Re(!0),Ge("User Data Error"),Ze("User data not found. Please try logging in again."),Ue(function(){return function(){window.location.replace("../index.html#/")}}))})}).catch(function(){Pe(!1),fe("Something went wrong. Please try again later."),he("error"),me(!0)})}).catch(function(e){Pe(!1),"USER_DATA_NOT_FOUND"===e.message?(Re(!0),Ge("User Data Error"),Ze("User data not found. Please try logging in again."),Ue(function(){return function(){window.location.replace("../index.html#/")}})):(fe("Something went wrong. Please try again later."),he("error"),me(!0))})})}).catch(function(e){Pe(!1),"USER_DATA_NOT_FOUND"===e.message?(Re(!0),Ge("User Data Error"),Ze("User data not found. Please try logging in again."),Ue(function(){return function(){window.location.replace("../index.html#/")}})):(fe("Something went wrong. Please try again later."),he("error"),me(!0))})})}(o)}).catch(function(e){Pe(!1),"USER_DATA_NOT_FOUND"===e.message&&(Re(!0),Ge("User Data Error"),Ze("User data not found. Please try logging in again."),Ue(function(){return function(){window.location.replace("../index.html#/")}}))})}}),r.a.createElement(Jl.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:O,autoHideDuration:6e3,onClose:lt},r.a.createElement($s,{onClose:lt,variant:j,message:F})),r.a.createElement(Ql,{isOpen:ce,message:pe,variant:_e,onSnackbarClose:function(){me(!1)}}),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Fl,{leftButtons:r.a.createElement("div",null,r.a.createElement(z.a,{id:"button_mark_as_done","data-cy":"button_mark_as_done",className:c.generateButton,variant:"contained",color:"primary",size:"small",onClick:function(){we("Proceed Confirmation"),De('Are you sure want to mark this ticket as "Done"?'),xe(!0)}},"Mark as Done")),rightButtons:r.a.createElement("div",null,r.a.createElement(z.a,{id:"exception_report_back_btn","data-cy":"exception_report_back_btn",className:c.backButton,variant:"contained",size:"small",onClick:e.handleBack},"Back"))})))};function ac(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}tc.defaultProps={data:[],memberUploadData:null};var nc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingLeft:"24px",paddingRight:"24px",width:"30rem"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px"},dialogTitle:{paddingTop:e.spacing(5),marginRight:"64px"},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingTop:e.spacing(2)},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},approveButton:{minWidth:129,marginRight:25,color:"#FFFFFF",backgroundColor:"#3AB77D"},label:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"}}}),rc=function(e){var t=e.id,a=Object(n.useState)(e.isModalOpen),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)({value:"",temp_id:"",first_name:"",middle_name:"",last_name:"",suffix:"",date_of_birth:"",plan_type:"",civil_status:"",gender:"",batch_name:"",isValue:!0}),c=Object(g.a)(s,2),m=c[0],d=c[1],u=nc(),p=Object(n.useState)(""),f=Object(g.a)(p,2),b=f[0],_=f[1];Object(n.useEffect)(function(){l(e.isModalOpen),e.isModalOpen&&(d({value:"",temp_id:"",first_name:"",middle_name:"",last_name:"",suffix:"",date_of_birth:"",plan_type:"",civil_status:"",gender:"",batch_name:"",isValue:!0}),_(""))},[e.isModalOpen]);return r.a.createElement(U.a,{id:t,maxWidth:!1,open:o,scroll:"paper","aria-labelledby":"modal-title",className:u.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:u.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:u.dialogFirstTitle},"".concat(e.action," Member (Dependent)")),r.a.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:u.closeButton,onClick:function(){return e.onClose(e.row)}},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:u.dialogContent},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ss,{name:"DEPENDENT NAME",value:e.memberName}),r.a.createElement(Ss,{name:"CONFLICT",value:e.remarks}),r.a.createElement("div",{style:{paddingTop:"2rem"}}),r.a.createElement(Wl,{id:"add_details_contract","data-cy":"add_details_contract",options:e.possiblePrincipals,label:"Choose Principal",value:m,error:!1,error_message:"",formatOptionLabel:function(e){var t=e.first_name,a=e.middle_name,n=e.last_name,i=e.suffix,o=e.date_of_birth,l=e.plan_type,s=e.civil_status,c=e.gender,m=e.batch_name,d=e.isValue;return r.a.createElement("div",null,r.a.createElement("div",{style:{padding:"2px"}},"".concat(qr.toNameFormat(t,a,n)," ").concat(i)),d?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:"11px",padding:"2px"}},"".concat(qr.toCommonDateString(new Date(o)),", ").concat(l)),r.a.createElement("div",{style:{fontSize:"11px",padding:"2px"}},"".concat(s,", ").concat(c,", Batch ").concat(m))))},onChange:function(e){d(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ac(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ac(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{isValue:!0}))}})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:u.label,htmlFor:"action_modal_remarks_tf"},"Remarks"),r.a.createElement(j.a,{style:{marginTop:"8px",width:"100%"},id:"action_modal_remarks_tf","data-cy":"action_modal_remarks_tf",margin:"normal",variant:"outlined",multiline:!0,rows:10,value:b,onChange:function(e){var t=e.target.value;_(t)},inputProps:{"aria-label":"bare"}}),r.a.createElement("div",{style:{paddingTop:"4rem"}})))),r.a.createElement(q.a,{className:u.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{id:"cancel_button","data-cy":"cancel_button",className:u.cancelButton,variant:"contained",color:"secondary",onClick:function(){return e.onClose(e.row)}},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{id:"action_button","data-cy":"action_button",className:u.approveButton,style:"Disapprove"===e.action?{background:"#FD5451"}:void 0,variant:"contained",color:"primary",disabled:""===m.value&&"Approve"===e.action,onClick:function(){e.onAction&&e.onAction(e.row,m.temp_id,e.action,b)}},e.action)))))};rc.defaultProps={isModalOpen:!1,id:"modal-id"};var ic=a(2069),oc=Object(y.a)(function(){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},keyboardDatePicker:{marginTop:"10px",marginBottom:"15px",width:"212px"}}}),lc=function(e){var t=e.anchorElement,a=e.memberData,i=e.handleChangeMemberData,o=e.handlePatchMemberData,l=e.handlePopoverClose,s=e.memberDataFields,c=Object(n.useState)(t),m=Object(g.a)(c,2),d=m[0],u=m[1],p=Object(n.useState)(Boolean(t)),f=Object(g.a)(p,2),b=f[0],_=f[1];return Object(n.useEffect)(function(){u(t),_(Boolean(t))},[t]),r.a.createElement(ic.a,{open:b,anchorEl:d,onClose:function(){u(null),l()},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(sc,{onClose:function(){u(null),l()},selectedMemberData:a,planTypes:e.planTypes,handleUpdateMember:i,handlePatchMemberData:o,memberDataFields:s}))},sc=function(e){var t=e.onClose,a=e.planTypes,i=e.selectedMemberData,o=e.handleUpdateMember,l=e.handlePatchMemberData,s=e.memberDataFields,c=oc(),m=Object(n.useState)([]),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)(!0),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)([]),E=Object(g.a)(v,2),y=E[0],x=E[1],O=Object(n.useState)([]),C=Object(g.a)(O,2),w=C[0],j=C[1];Object(n.useEffect)(function(){if(_){if(a&&a.length>0){var e=[];a.forEach(function(t){void 0!==e&&null!==e&&void 0!==t&&e.push({name:t.plan_type_name,value:t.plan_type_name})}),x(e)}h(!1)}if(s){var t=s.filter(function(e){return e.is_client_added});j(t)}},[]);return r.a.createElement(J.a,{item:!0,sm:12,style:{padding:"10px"}},r.a.createElement(U.a,{maxWidth:"xs",fullScreen:!0,fullWidth:!0,open:!0,scroll:"body",style:{width:"100%",transform:"translate(0, 0)"},"aria-labelledby":"modal-title",className:c.dialog},r.a.createElement(Y.a,{id:"form-dialog-title"},r.a.createElement(J.a,{container:!0,justify:"space-between",alignItems:"flex-end"},r.a.createElement(J.a,{item:!0},"Edit Member"),r.a.createElement(J.a,{item:!0},r.a.createElement("span",{id:"close_modal","data-cy":"close_modal",onClick:t},r.a.createElement(X.a,{icon:Z.N}))))),r.a.createElement(V.a,null,r.a.createElement(J.a,{container:!0,spacing:2,justify:"space-between",style:{paddingRight:"20px"},alignItems:"flex-start"},r.a.createElement(J.a,{container:!0,item:!0,xs:6,style:{borderRight:"1px solid #ccc",minHeight:"100%",maxHeight:"100%"}},r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"First Name",label:"First Name",labelFontSize:"14px",value:i&&i.first_name?i.first_name:"",width:"85%",error:u.includes("first_name"),onChange:function(e){return o("first_name",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Middle Name",label:"Middle Name",labelFontSize:"14px",value:i&&i.middle_name?i.middle_name:"",width:"85%",error:u.includes("middle_name"),onChange:function(e){return o("middle_name",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Last Name",label:"Last Name",labelFontSize:"14px",value:i&&i.last_name?i.last_name:"",width:"85%",error:u.includes("last_name"),onChange:function(e){return o("last_name",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"Suffix",label:"Suffix",error:u.includes("suffix"),menuItems:cc.suffix,value:i&&i.suffix?i.suffix:"",onChange:function(e){return o("suffix",e.target.value)},width:"85%"})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Title",label:"Title",labelFontSize:"14px",value:i&&i.title?i.title:"",width:"85%",error:u.includes("title"),onChange:function(e){return o("title",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"Gender",label:"Gender",error:u.includes("gender"),menuItems:cc.gender,value:i&&i.gender?i.gender:"",onChange:function(e){return o("gender",e.target.value)},width:"85%"})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Birthdate",label:"Birthdate",labelFontSize:"14px",value:i&&i.date_of_birth?i.date_of_birth:"",width:"85%",error:u.includes("date_of_birth"),onChange:function(e){return o("date_of_birth",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Age",label:"Age",labelFontSize:"14px",value:i&&i.age?i.age:"",width:"85%",error:u.includes("age"),onChange:function(e){return o("age",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"Civil Status",label:"Civil Status",error:u.includes("civil_status"),menuItems:cc.civil_status,value:i&&i.civil_status?i.civil_status:"",onChange:function(e){return o("civil_status",e.target.value)},width:"85%"})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"Member Type",label:"Member Type",error:u.includes("member_type"),menuItems:cc.member_type,value:i&&i.member_type?i.member_type:"",onChange:function(e){return o("member_type",e.target.value)},width:"85%"})),r.a.createElement(J.a,{item:!0,xs:8},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"Plan Type",label:"Plan Type",error:u.includes("plan_type"),menuItems:null!==y&&void 0!==y&&y.length>0?y:[],value:i&&i.plan_type?i.plan_type:"",onChange:function(e){return o("plan_type",e.target.value)},width:"93%"})),r.a.createElement(J.a,{item:!0,xs:8,style:{paddingTop:"20px"}},r.a.createElement(Di,{id:"Name of Principal",label:"Name of Principal",labelFontSize:"14px",value:i&&i.principal_name?i.principal_name:"",width:"93%",error:u.includes("principal_name"),onChange:function(e){return o("principal_name",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4,style:{paddingTop:"20px"}},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"Relationship to Principal",label:"Relationship to Principal",error:u.includes("relationship_to_principal"),menuItems:cc.relationship_to_principal,value:i&&i.relationship_to_principal?i.relationship_to_principal:"",onChange:function(e){return o("relationship_to_principal",e.target.value)},width:"85%"})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Effective Date",label:"Effective Date",labelFontSize:"14px",value:i&&i.effectivity_date?i.effectivity_date:"",width:"85%",error:u.includes("effectivity_date"),onChange:function(e){return o("effectivity_date",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Termination Date",label:"Termination Date",labelFontSize:"14px",value:i&&i.termination_date?i.termination_date:"",width:"85%",error:u.includes("termination_date"),onChange:function(e){return o("termination_date",e.target.value)}}))),r.a.createElement(J.a,{container:!0,item:!0,xs:6,style:{paddingLeft:"40px"}},r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Employee ID",label:"Employee ID",labelFontSize:"14px",value:i&&i.employee_id?i.employee_id:"",width:"85%",error:u.includes("employee_id"),onChange:function(e){return o("employee_id",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Date of Hire",label:"Date of Hire",labelFontSize:"14px",value:i&&i.hire_date?i.hire_date:"",width:"85%",error:u.includes("hire_date"),onChange:function(e){return o("hire_date",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Site Assigned",label:"Site Assigned",labelFontSize:"14px",value:i&&i.site?i.site:"",width:"85%",error:u.includes("site"),onChange:function(e){return o("site",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:8},r.a.createElement(Di,{id:"Site Address",label:"Site Address",labelFontSize:"14px",value:i&&i.site_address?i.site_address:"",width:"93%",error:u.includes("site_address"),onChange:function(e){return o("site_address",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Floor",label:"Floor",labelFontSize:"14px",value:i&&i.floor?i.floor:"",width:"85%",error:u.includes("floor"),onChange:function(e){return o("floor",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Designation",label:"Designation",labelFontSize:"14px",value:i&&i.designation?i.designation:"",width:"85%",error:u.includes("designation"),onChange:function(e){return o("designation",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Job Grade/Level",label:"Job Grade/Level",labelFontSize:"14px",value:i&&i.job_lvl?i.job_lvl:"",width:"85%",error:u.includes("job_lvl"),onChange:function(e){return o("job_lvl",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Supervisor",label:"Supervisor",labelFontSize:"14px",value:i&&i.supervisor?i.supervisor:"",width:"85%",error:u.includes("supervisor"),onChange:function(e){return o("supervisor",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Cost Center",label:"Cost Center",labelFontSize:"14px",value:i&&i.cost_center?i.cost_center:"",width:"85%",error:u.includes("cost_center"),onChange:function(e){return o("cost_center",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Financial Code",label:"Financial Code",labelFontSize:"14px",value:i&&i.financial_code?i.financial_code:"",width:"85%",error:u.includes("financial_code"),onChange:function(e){return o("financial_code",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Subcompany",label:"Subcompany",labelFontSize:"14px",value:i&&i.sub_company?i.sub_company:"",width:"85%",error:u.includes("sub_company"),onChange:function(e){return o("sub_company",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Batch No.",label:"Batch No.",labelFontSize:"14px",value:i&&i.batch_name?i.batch_name:"",width:"85%",error:u.includes("batch_name"),onChange:function(e){return o("batch_name",e.target.value)}})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:"Card Printed Date",label:"Card Printed Date",labelFontSize:"14px",value:i&&i.date_printed?i.date_printed:"",width:"85%",error:u.includes("date_printed"),onChange:function(e){return o("date_printed",e.target.value)}})),w.map(function(e){return function(e){if("Text Field"===e.input_type){if("Alphanumeric"===e.data_type)return r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:e.field_name,label:e.system_name,labelFontSize:"14px",value:i&&i[e.field_name]?i[e.field_name]:"",width:"85%",error:u.includes(e.field_name),onChange:function(t){return o(e.field_name,t.target.value)}}));if("Numeric"===e.data_type)return r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{type:"number",id:e.field_name,label:e.system_name,labelFontSize:"14px",value:i&&i[e.field_name]?i[e.field_name]:"",width:"85%",error:u.includes(e.field_name),onChange:function(t){return o(e.field_name,t.target.value)}}));if("Date"===e.data_type)return r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Di,{id:e.field_name,label:e.system_name,labelFontSize:"14px",value:i&&i[e.field_name]?i[e.field_name]:"",width:"85%",error:u.includes(e.field_name),onChange:function(t){return o(e.field_name,t.target.value)}}))}return null}(e)}),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:"15px",paddingTop:"15px"}},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(ns.a,{"aria-label":"position",row:!0},r.a.createElement("span",null),r.a.createElement(K.a,{value:"VIP",control:r.a.createElement(G.a,{id:"checkbox_is_vip","data-cy":"checkbox_is_vip",color:"primary",onChange:function(e){return o("is_vip",e.target.checked)},checked:!(!i||!i.is_vip)&&i.is_vip}),label:"VIP",labelPlacement:"end"}),r.a.createElement("span",{style:{paddingRight:"120px"}}),r.a.createElement(K.a,{value:"Expat",control:r.a.createElement(G.a,{id:"checkbox_is_expat","data-cy":"checkbox_is_expat",color:"primary",onChange:function(e){return o("is_expat",e.target.checked)},checked:!(!i||!i.is_expat)&&i.is_expat}),label:"Expat",labelPlacement:"end"}),r.a.createElement("span",{style:{paddingRight:"105px"}}),r.a.createElement(K.a,{value:"Member Consent",control:r.a.createElement(G.a,{id:"checkbox_is_member_consent","data-cy":"checkbox_is_member_consent",color:"primary",onChange:function(e){return o("is_member_consent",e.target.checked)},checked:!(!i||!i.is_member_consent)&&i.is_member_consent}),label:"Member Consent",labelPlacement:"end"})))))),r.a.createElement(J.a,{container:!0,spacing:2,alignItems:"flex-start"},r.a.createElement(J.a,{item:!0,xs:6,alignItems:"flex-start"},r.a.createElement(S.a,{style:{textAlign:"left",textDecoration:"underline",fontSize:"13px",color:"#3AB77D",paddingBottom:"20px"}},"Upload Supporting Document")),r.a.createElement(J.a,{container:!0,item:!0,xs:6,alignItems:"flex-start",style:{paddingTop:"0px"}},r.a.createElement(J.a,{item:!0,xs:6}),r.a.createElement(J.a,{container:!0,item:!0,xs:6},r.a.createElement(J.a,{item:!0,xs:6,alignItems:"flex-start",style:{paddingRight:"30px"}},r.a.createElement(z.a,{id:"cancel_button","data-cy":"cancel_button",variant:"outlined",color:"default",fullWidth:!0,onClick:t},"Cancel")),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(z.a,{id:"save_button","data-cy":"save_button",variant:"contained",color:"primary",fullWidth:!0,onClick:function(){(function(){var e=[];return mc.forEach(function(t){""===i[t]&&e.push(t)}),p(e),e.length>0})()||(l(i),t())}},"Save"))))))))};lc.defaultProps={};var cc={suffix:[{name:"None",value:""},{name:"Jr.",value:"Jr"},{name:"Sr.",value:"Sr"},{name:"I",value:"I"},{name:"II",value:"II"},{name:"III",value:"III"},{name:"IV",value:"IV"},{name:"V",value:"V"},{name:"Others",value:"Others"}],gender:[{name:"Female",value:"Female"},{name:"Male",value:"Male"},{name:"Unidentified",value:"Unidentified"}],civil_status:[{name:"Single",value:"Single"},{name:"Married",value:"Married"},{name:"Single Parent",value:"Single Parent"},{name:"Annulled",value:"Annulled"},{name:"Widowed",value:"Widowed"},{name:"Divorced",value:"Divorced"},{name:"Separated",value:"Separated"},{name:"Unidentified",value:"Unidentified"}],member_type:[{name:"Principal",value:"Principal"},{name:"Dependent",value:"Dependent"},{name:"Extended Dependent",value:"Extended Dependent"}],relationship_to_principal:[{name:"Parent",value:"Parent"},{name:"Mother",value:"Mother"},{name:"Father",value:"Father"},{name:"Brother",value:"Brother"},{name:"Sister",value:"Sister"},{name:"Husband",value:"Husband"},{name:"Wife",value:"Wife"},{name:"Son",value:"Son"},{name:"Daughter",value:"Daughter"},{name:"Grandmother",value:"Grandmother"},{name:"Grandfather",value:"Grandfather"},{name:"Grandson",value:"Grandson"},{name:"Granddaughter",value:"Granddaughter"},{name:"Common Law Partner",value:"Common Law Partner"},{name:"Same Sex Partner",value:"Same Sex Partner"},{name:"Auntie",value:"Auntie"},{name:"Uncle",value:"Uncle"},{name:"Niece",value:"Niece"},{name:"Nephew",value:"Nephew"},{name:"Cousin",value:"Cousin"},{name:"Household Help",value:"Household Help"}]},mc=["first_name","last_name"];function dc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function uc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dc(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dc(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var pc=Object(y.a)({root:{height:"40px",minWidth:"150px"},rightButton:{height:"40px",minWidth:"99px",backgroundColor:"#3C394A",color:"#FFFFFF"},leftButton:{padding:"0px 8px",height:"40px",width:"150px",border:"2px solid #3AB77D"},leftText1:{fontSize:"13px"},leftText2:{fontSize:"7px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}});function fc(e){var t=pc();return n.createElement("div",null,n.createElement(Fl,{leftButtons:n.createElement("div",null,n.createElement(z.a,{id:"save_for_now","data-cy":"save_for_now",className:t.leftButton,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",onClick:e.saveTmp},n.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.createElement(S.a,{className:t.buttonTitle},"Save For Now"))),n.createElement(z.a,{id:"generate_exception_report","data-cy":"generate_exception_report",className:t.root,variant:"contained",color:"primary",size:"small",onClick:e.generateExeptionReport},"Generate Exception Report")),rightButtons:null}))}var bc=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).reset=function(){a.setState({tab:0,partialModalOpen:!1,approveModalOpen:!1,memberFilesModalOpen:!1,generateFlag:!1})},a.setFieldValue=function(e,t){a.setState(function(a){return uc({},a,Object(wi.a)({},e,t))})},a.handleChange=function(e,t){a.setFieldValue("tab",t),a.setState({currentTablePage:0})},a.handlePageSizeChange=function(e,t){var n=a.state.pageSizes;n[e]=t,a.setState({pageSizes:n})},a.generateExeptionReport=function(){var e=Object.assign({},a.state.partialtable),t=Object.assign({},a.state.incompletetable),n=Object.assign({},a.state.conflicttable),r=Object.assign({},a.state.validationtable),i=Object.assign({},a.state.disapprovetable),o=Object.assign({},a.state.approvedtable),l={partial:e,incomplete:t,conflict:n,validation:r,disapprove:i,approved:o},s=Object.assign({},a.state.member_upload_data);s.validated_members.forEach(function(a,l){if(void 0!==a.validation_status&&void 0!==a.validation_status.status)switch(a.validation_status.status){case"PARTIAL_MATCH":e.rows.forEach(function(e){var t=e.member_details;if(a.first_name===t.first_name&&a.middle_name===t.middle_name&&a.last_name===t.last_name&&a.date_of_birth===t.date_of_birth){var n=e.action;n&&""!==n||(n="confirmation"),s.validated_members[l].validation_status.action=n;var r=e.user_remarks;r&&(s.validated_members[l].validation_status.user_remarks=r)}});break;case"INCOMPLETE_REQUIREMENTS":t.rows.forEach(function(e){var t=e.member_details;if(a.first_name===t.first_name&&a.middle_name===t.middle_name&&a.last_name===t.last_name&&a.date_of_birth===t.date_of_birth){var n=e.files,r=e.user_remarks;if(n){var i=[];Object.keys(n).map(function(e){var t=n[e].uploaded_file;t&&i.push(t)}),s.validated_members[l].documents=i}r&&(s.validated_members[l].validation_status.user_remarks=r);var o=e.incomplete_action;o&&""!==o||(o="for confirmation"),s.validated_members[l].validation_status.action=o}});break;case"CONFLICT_ON_DATA":n.rows.forEach(function(e){var t=e.member_details;if(a.first_name===t.first_name&&a.middle_name===t.middle_name&&a.last_name===t.last_name&&a.date_of_birth===t.date_of_birth){var n=e.conflict_data_action;n&&""!==n||(n="for confirmation");var r=e.user_remarks;r&&(s.validated_members[l].validation_status.user_remarks=r),s.validated_members[l].validation_status.action=n}});break;case"FOR_VALIDATION":case"FOR_CONFIRMATION":r.rows.forEach(function(e){var t=e.member_details;if(a.first_name===t.first_name&&a.middle_name===t.middle_name&&a.last_name===t.last_name&&a.date_of_birth===t.date_of_birth){var n=e.validation_action;n&&""!==n||(n="for confirmation");var r=e.user_remarks;r&&(s.validated_members[l].validation_status.user_remarks=r),s.validated_members[l].validation_status.action=n}});break;case"DISAPPROVED":i.rows.forEach(function(e){var t=e.member_details;if(a.first_name===t.first_name&&a.middle_name===t.middle_name&&a.last_name===t.last_name&&a.date_of_birth===t.date_of_birth){var n=e.disapprove_action;n&&""!==n||(n="for confirmation");var r=e.user_remarks;r&&(s.validated_members[l].validation_status.user_remarks=r),s.validated_members[l].validation_status.action=n}});break;case"APPROVED":o.rows.forEach(function(e){var t=e.member_details;a.first_name===t.first_name&&a.middle_name===t.middle_name&&a.last_name===t.last_name&&(a.date_of_birth,t.date_of_birth)})}}),console.log("final payload",s),a.setFieldValue("member_upload_data",s),a.setFieldValue("allData",l),a.setDefaultActions(),a.patchUploadMember(s)},a.patchUploadMember=function(e){a.setState({loading_state:!0,check_internet_flag:!0}),An.patchUploadMember(a.props.match.params.member_upload_id,e).then(function(){a.setState({check_internet_flag:!1,loading_state:!1},function(){a.getUpdatedMemberUploadData(),a.deleteSaveForNow()})}).catch(function(){a.setState({loading_state:!1,generateFlag:!0})})},a.setDefaultActions=function(){Object(Tn.forEach)(["partialtable","incompletetable","conflicttable","validationtable","disapprovetable"],function(e){var t={};switch(e){case"partialtable":t=a.state.partialtable,Object(Tn.forEach)(t.rows,function(e,n){var r=e.action;if(!r||""===r){r="confirmation",t.rows[n].action=r;var i=a.state.partial_items;i&&!Object(Tn.isNil)(i[n])&&(i[n].status=r,a.setFieldValue("partial_items",i))}});break;case"incompletetable":t=a.state.incompletetable,Object(Tn.forEach)(t.rows,function(e,a){var n=e.incomplete_action;n&&""!==n||(t.rows[a].incomplete_action="for confirmation")});break;case"conflicttable":t=a.state.conflicttable,Object(Tn.forEach)(t.rows,function(e,a){var n=e.conflict_data_action;n&&""!==n||(t.rows[a].conflict_data_action="for confirmation")});break;case"validationtable":t=a.state.validationtable,Object(Tn.forEach)(t.rows,function(e,a){var n=e.validation_action;n&&""!==n||(t.rows[a].validation_action="for confirmation")});break;case"disapprovetable":t=a.state.disapprovetable,Object(Tn.forEach)(t.rows,function(e,a){var n=e.disapprove_action;n&&""!==n||(t.rows[a].disapprove_action="for confirmation")})}a.setFieldValue(e,t)})},a.openPartialModal=function(){a.setFieldValue("partialModalOpen",!0)},a.closePartialModal=function(){a.setFieldValue("partialModalOpen",!1)},a.savePartialModal=function(e){a.setFieldValue("partialModalOpen",!1),console.log("savePartialModal: ",e)},a.openApproveModal=function(){a.setFieldValue("approveModalOpen",!0)},a.closeApproveModal=function(){a.setFieldValue("approveModalOpen",!1);var e=a.state.incompletetable,t=a.state.row;e.rows[t].incomplete_action="",delete e.rows[t].files,a.setFieldValue("incompletetable",e)},a.saveApproveModal=function(e,t,n){var r=a.state.incompletetable;r.rows[e].files=t,r.rows[e].user_remarks=n,a.setFieldValue("incompletetable",r),a.setFieldValue("approveModalOpen",!1)},a.openDisapprovedMemberFilesModal=function(){a.setFieldValue("memberFilesModalOpen",!0)},a.closeDisapprovedMemberFilesModal=function(){a.setFieldValue("memberFilesModalOpen",!1);var e=a.state.disapprovetable,t=a.state.row;e.rows[t].disapprove_action="",delete e.rows[t].files,a.setFieldValue("disapprovetable",e)},a.saveDisapprovedMemberFilesModal=function(e,t,n){var r=a.state.disapprovetable;r.rows[e].files=t,r.rows[e].user_remarks=n,a.setFieldValue("disapprovetable",r),a.setFieldValue("memberFilesModalOpen",!1)},a.openDisapproveModal=function(){a.setFieldValue("disapproveModalOpen",!0)},a.closeDisapproveModal=function(){var e=a.state.incompletetable,t=a.state.row;e.rows[t].incomplete_action="",delete e.rows[t].remarks,a.setFieldValue("incompletetable",e),a.setFieldValue("disapproveModalOpen",!1)},a.onAddActionRemarksModalSubmit=function(e,t,n,r){var i={};switch(t){case"Disapproved":(i=a.state.disapprovetable).rows[e].disapprove_action=n,i.rows[e].user_remarks=r,a.setFieldValue("disapprovetable",i);break;case"Validation":if((i=a.state.validationtable).rows[e].validation_action=n,i.rows[e].user_remarks=r,"approve"!==n){i.rows[e].member_principal="";var o=a.state.member_upload_data.validated_members,l=o.findIndex(function(t){return t.temp_id===i.rows[e].member_details.temp_id});o[l].principal_temp_id=void 0,a.setState({member_upload_data:uc({},a.state.member_upload_data,{validated_members:o})})}a.setFieldValue("validationtable",i);break;case"Conflict":(i=a.state.conflicttable).rows[e].conflict_data_action=n,i.rows[e].user_remarks=r,a.setFieldValue("conflicttable",i)}a.setFieldValue("isActionRemarksModalOpen",!1)},a.closeActionRemarksModal=function(){a.setFieldValue("isActionRemarksModalOpen",!1)},a.closeApproveDependentModal=function(e){var t=a.state.validationtable;t.rows[e].member_principal="";var n=a.state.member_upload_data.validated_members,r=n.findIndex(function(a){return a.temp_id===t.rows[e].member_details.temp_id});n[r].principal_temp_id=void 0,a.setState({member_upload_data:uc({},a.state.member_upload_data,{validated_members:n})}),a.setFieldValue("validationtable",t),a.setState({approveDependent:{isModalOpen:!1,possiblePrincipals:void 0}})},a.saveApproveDependentModal=function(e,t,n,r){var i=a.state.validationtable;i.rows[e].validation_action=n.toLowerCase(),i.rows[e].user_remarks=r;var o=a.state.member_upload_data.validated_members,l=o.findIndex(function(t){return t.temp_id===i.rows[e].member_details.temp_id});o[l].principal_temp_id=t,a.setState({member_upload_data:uc({},a.state.member_upload_data,{validated_members:o})},function(){i.rows[e].member_principal=function(){var e=a.state.member_upload_data.validated_members.find(function(e){return e.temp_id===t});return e?"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.last_name):""}()}),a.setFieldValue("validationtable",i),a.setState({approveDependent:{isModalOpen:!1,possiblePrincipals:void 0,row:-1}})},a.saveDisapproveModal=function(e,t){var n=a.state.incompletetable;n.rows[e].user_remarks=t,a.setFieldValue("incompletetable",n),a.setFieldValue("disapproveModalOpen",!1)},a.handleClickRow=function(e,t,n){if("partialtable"===t){var r=a.state.partialtable;r.rows[e].action=n.action;var i=a.state.partial_items;i&&!Object(Tn.isNil)(i[e])&&(i[e].status=n.action,a.setFieldValue("partial_items",i)),a.setFieldValue("partialRow",e),a.openPartialModal(),a.setFieldValue(t,r)}else console.log("click row num",e),console.log("click row table",t),console.log("click row rowData",n)},a.resetFilters=function(){a.setState({allFilter:[],approvedFilter:[],disapprovedFilter:[],conflictFilter:[],incompleteFilter:[],partialFilter:[],validationFilter:[]})},a.handleFilterChange=function(e){return function(t){var n=a.state.allData,r=function(e){var a=Object(Tn.cloneDeep)(Object(Tn.get)(n,e,{})),r=Object(Tn.get)(a,"rows",[]);return a.rows=function(e,t){return!Object(Tn.isNil)(e)&&e.length>0&&!Object(Tn.isNil)(t)&&t.length>0?Object(Tn.filter)(e,function(e){return Object(Tn.every)(t,function(t){var a=Object(Tn.get)(e,t.columnName,"");return Object(Tn.includes)(Object(Tn.toLower)(a),Object(Tn.toLower)(t.value))})}):e}(r,t),a};switch(e){case"partialFilter":a.setState({partialFilter:t},function(){clearTimeout(a.state.filterTimeout),a.setState({filterTimeout:setTimeout(function(){a.setState({partialtable:r("partial")})},500)})});break;case"incompleteFilter":a.setState({incompleteFilter:t},function(){clearTimeout(a.state.filterTimeout),a.setState({filterTimeout:setTimeout(function(){a.setState({incompletetable:r("incomplete")})},500)})});break;case"conflictFilter":a.setState({conflictFilter:t},function(){clearTimeout(a.state.filterTimeout),a.setState({filterTimeout:setTimeout(function(){a.setState({conflicttable:r("conflict")})},500)})});break;case"validationFilter":a.setState({validationFilter:t},function(){clearTimeout(a.state.filterTimeout),a.setState({filterTimeout:setTimeout(function(){a.setState({validationtable:r("validation")})},500)})});break;case"disapprovedFilter":a.setState({disapprovedFilter:t},function(){clearTimeout(a.state.filterTimeout),a.setState({filterTimeout:setTimeout(function(){a.setState({disapprovetable:r("disapprove")})},500)})});break;case"approvedFilter":a.setState({approvedFilter:t},function(){clearTimeout(a.state.filterTimeout),a.setState({filterTimeout:setTimeout(function(){a.setState({approvedtable:r("approved")})},500)})});break;case"allFilter":a.setState({allFilter:t},function(){clearTimeout(a.state.filterTimeout),a.setState({filterTimeout:setTimeout(function(){a.setState({alltable:r("all")})},500)})})}}},a.handleSortingChange=function(e){var t=Object.assign({},a.state.alltable),n=Object.assign({},a.state.alltableCopy),r="",i="";e.forEach(function(e){"member_name"===e.columnName&&(r=e.direction),"member_issue"===e.columnName&&(i=e.direction)}),"asc"===r&&n.rows.sort(function(e,t){return e.member_name>t.member_name?1:-1}),"desc"===r&&n.rows.sort(function(e,t){return e.member_name>t.member_name?-1:1}),"asc"===i&&n.rows.sort(function(e,t){return e.member_issue>t.member_issue?1:-1}),"desc"===i&&n.rows.sort(function(e,t){return e.member_issue>t.member_issue?-1:1}),"asc"===r&&t.rows.sort(function(e,t){return e.member_name>t.member_name?1:-1}),"desc"===r&&t.rows.sort(function(e,t){return e.member_name>t.member_name?-1:1}),"asc"===i&&t.rows.sort(function(e,t){return e.member_issue>t.member_issue?1:-1}),"desc"===i&&t.rows.sort(function(e,t){return e.member_issue>t.member_issue?-1:1}),a.setState({alltable:t,alltableCopy:n})},a.handleSelectedRadio=function(e,t,n,r){var i={};switch(n){case"partialtable":(i=a.state.partialtable).rows[e].action=t;var o=a.state.partial_items;o&&!Object(Tn.isNil)(o[e])&&(o[e].status=t,a.setFieldValue("partial_items",o)),a.setFieldValue("partialRow",e),a.openPartialModal();break;case"incompletetable":a.setFieldValue("row",e),i=a.state.incompletetable,"approve"===t&&"approve"!==i.rows[e].incomplete_action?a.openApproveModal():"disapprove"===t&&"disapprove"!==i.rows[e].incomplete_action&&a.openDisapproveModal(),"approve"!==t&&delete i.rows[e].files,"disapprove"!==t&&delete i.rows[e].remarks,i.rows[e].incomplete_action=t;break;case"conflicttable":i=a.state.conflicttable,"approve"===t||"disapprove"===t?(a.setFieldValue("actionRemarksModalProps",{row:e,tab:"Conflict",action:"approve"===t?"Approve":"Disapprove",actionValue:t}),a.setFieldValue("isActionRemarksModalOpen",!0)):i.rows[e].conflict_data_action=t;break;case"validationtable":if(i=a.state.validationtable,r&&r.remarks&&(r.remarks.toLowerCase().includes("no principal member found")||r.remarks.toLowerCase().includes("multiple principal members found"))&&("approve"===t||"disapprove"===t))a.setState({approveDependent:{isModalOpen:!0,possiblePrincipals:r.member_details.possible_principals,action:"approve"===t?"Approve":"Disapprove",row:e}});else if("approve"===t||"disapprove"===t)a.setFieldValue("actionRemarksModalProps",{row:e,tab:"Validation",action:"approve"===t?"Approve":"Disapprove",actionValue:t}),a.setFieldValue("isActionRemarksModalOpen",!0);else if(i.rows[e].validation_action=t,"approve"!==t){i.rows[e].member_principal="";var l=a.state.member_upload_data.validated_members,s=l.findIndex(function(t){return t.temp_id===i.rows[e].member_details.temp_id});l[s].principal_temp_id=void 0,a.setState({member_upload_data:uc({},a.state.member_upload_data,{validated_members:l})}),a.setFieldValue("validationtable",i)}break;case"disapprovetable":i=a.state.disapprovetable,"approve"===t||"disapprove"===t?(a.setFieldValue("actionRemarksModalProps",{row:e,tab:"Disapproved",action:Object(Tn.capitalize)(t),actionValue:t}),a.setFieldValue("isActionRemarksModalOpen",!0)):i.rows[e].disapprove_action=t}a.setFieldValue(n,i)},a.handleBack=function(){a.setFieldValue("generateFlag",!1)},a.handleSaveTmp=function(){var e={user_id:"verify-member",ticket_no:a.props.match.params.ticket_id,module:"Membership",process:"Verify Member",timestamp:new Date,data:{partial_table:a.state.partialtable,incomplete_table:a.state.incompletetable,conflict_table:a.state.conflicttable,validation_table:a.state.validationtable,disapprove_table:a.state.disapprovetable,approved_table:a.state.approvedtable,all_table:a.state.alltable}};a.setState({loading_state:!0,check_internet_flag:!0});var t=localStorage.getItem("tmp_id");null===t?An.verifyMemberSaveToTmp(e).then(function(e){var t=Object(Tn.get)(e,"error",null);Object(Tn.isNil)(t)?(localStorage.setItem("tmp_id",e._id),a.setState({loading_state:!1,snackbarNotifProps:{isOpen:!0,title:"",message:"Details are saved successfully.",variant:"success"}})):a.setState({loading_state:!1,snackbarNotifProps:{isOpen:!0,title:"",message:"Error saving information",variant:"error"}})}).catch(function(){a.setState({check_internet_flag:!1,loading_state:!1,snackbarNotifProps:{isOpen:!0,title:"",message:"Error saving information",variant:"error"}})}):(e._id=t,An.verifyMemberPatchTmp(t,e).then(function(e){var t=Object(Tn.get)(e,"error",null);Object(Tn.isNil)(t)?a.setState({loading_state:!1,snackbarNotifProps:{isOpen:!0,title:"",message:"Details are saved successfully.",variant:"success"}}):a.setState({loading_state:!1,snackbarNotifProps:{isOpen:!0,title:"",message:"Error saving information",variant:"error"}})}).catch(function(){a.setState({loading_state:!1,snackbarNotifProps:{isOpen:!0,title:"",message:"Error saving information",variant:"error"}})}))},a.deleteSaveForNow=function(){var e=localStorage.getItem("tmp_id");Object(Tn.isNil)(e)||An.deleteSaveForNow(e).then(function(e){console.log("deleteSaveForNow",e)}).catch(function(e){console.log("deleteSaveForNow Error",e)})},a.handleLoadTmp=function(){a.setState({check_internet_flag:!0}),An.loadVerifyDataFromTmp(a.props.match.params.ticket_id).then(function(e){if(e&&e.length>0){var t=e[e.length-1];a.setState({tmpDataModal:!0,tmpData:t.data,check_internet_flag:!1}),localStorage.setItem("tmp_id",t._id)}else localStorage.removeItem("tmp_id")})},a.handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})},a.handleOpenLostInternetConnectionModal=function(){a.setState({check_internet_flag:!0})},a.setTmpValue=function(){var e=a.state.tmpData;Object(Tn.isNil)(e)||Object(Tn.isEmpty)(e)?a.setState({tmpDataModal:!1}):a.setState({partialtable:e.partial_table,incompletetable:e.incomplete_table,conflicttable:e.conflict_table,validationtable:e.validation_table,disapprovetable:e.disapprove_table,approvedtable:e.approved_table,alltable:e.all_table,tmpDataModal:!1})},a.handleTmpModalClose=function(){a.setState({tmpDataModal:!1})},a.closeSnackbarNotif=function(){a.setState({snackbarNotifProps:{isOpen:!1,title:"",message:"",variant:"success"}})},a.handleClickEdit=function(e,t){t&&t.member_details&&a.setState({anchorEl:e,memberData:Object.assign({},t.member_details)})},a.handleClickUpload=function(e){e&&a.openDisapprovedMemberFilesModal()},a.handlePopoverClose=function(){a.setState({anchorEl:null})},a.handleChangeMemberData=function(e,t){a.setState({memberData:Object.assign(a.state.memberData,Object(wi.a)({},e,t))})},a.handlePatchMemberData=function(e){a.setState({loading_state:!0});for(var t=a.state.member_upload_data._id,n=a.state.memberData.temp_id,r=Object(Tn.cloneDeep)(a.state.member_upload_data.members),i=Object(Tn.cloneDeep)(a.state.member_upload_data.validated_members),o=0;o<r.length;o+=1)r[o].temp_id===n&&(delete e._id,delete e.validation_status,r[o]=Object.assign(r[o],e));for(var l=0;l<i.length;l+=1)i[l].temp_id===n&&(delete e._id,delete e.validation_status,i[l]=Object.assign(i[l],e));var s=a.state.member_upload_data;s.members=r,s.validated_members=i,An.patchUploadMember(t,s).then(function(e){e&&e.error?console.log("error"):a.getValidatedMembers(i),a.setState({loading_state:!1})}).catch(function(e){console.log("error",e),a.setState({loading_state:!1})})};var n=function(e){var t=function(){return!0};return Object(Tn.map)(e,function(e){return{columnName:e,predicate:t}})},r={formattedColumns:{radio:["action"]},intgFltrColumnExtensions:n(["member_added","existing_member","member_type","similar_fields"]),filterExtensions:[{columnName:"action",filteringEnabled:!1,sortingEnabled:!1}],columnExtensions:[{columnName:"member_added",wordWrapEnabled:!0},{columnName:"existing_member",wordWrapEnabled:!0},{columnName:"member_type",wordWrapEnabled:!0},{columnName:"similar_fields",wordWrapEnabled:!0},{columnName:"action",width:400}],columns:[{name:"member_added",title:"Member Added"},{name:"existing_member",title:"Existing Member Name"},{name:"member_type",title:"Member Type"},{name:"similar_fields",title:"Similar Field/s"},{name:"action",title:"Action"}],rows:[]},i={formattedColumns:{incomplete_radio:["incomplete_action"]},intgFltrColumnExtensions:n(["first_name","middle_name","last_name","suffix","civil_status","gender","date_of_birth","member_type","plan_type","principal_name","relationship_to_principal","missing_fields"]),filterExtensions:[{columnName:"incomplete_action",filteringEnabled:!1,sortingEnabled:!1}],columnExtensions:[{columnName:"first_name",wordWrapEnabled:!0},{columnName:"middle_name",wordWrapEnabled:!0},{columnName:"last_name",wordWrapEnabled:!0},{columnName:"suffix",wordWrapEnabled:!0},{columnName:"civil_status",wordWrapEnabled:!0},{columnName:"gender",wordWrapEnabled:!0},{columnName:"date_of_birth",wordWrapEnabled:!0},{columnName:"member_type",wordWrapEnabled:!0},{columnName:"plan_type",wordWrapEnabled:!0},{columnName:"principal_name",wordWrapEnabled:!0,width:250},{columnName:"relationship_to_principal",wordWrapEnabled:!0},{columnName:"missing_fields",wordWrapEnabled:!0,width:250},{columnName:"incomplete_action",width:450}],columns:[{name:"first_name",title:"First Name"},{name:"middle_name",title:"Middle Name"},{name:"last_name",title:"Last Name"},{name:"suffix",title:"Suffix"},{name:"civil_status",title:"Civil Status"},{name:"gender",title:"Gender"},{name:"date_of_birth",title:"Birthdate"},{name:"member_type",title:"Member Type"},{name:"plan_type",title:"Plan Type"},{name:"principal_name",title:"Name of Principal"},{name:"relationship_to_principal",title:"Relationship to Principal"},{name:"missing_fields",title:"Missing Fields"},{name:"incomplete_action",title:"Action"}],rows:[]},o={formattedColumns:{incomplete_radio:["conflict_data_action"]},intgFltrColumnExtensions:n(["member_name","civil_status","gender","date_of_birth","type","principal_name","relationship_to_principal","remarks"]),filterExtensions:[{columnName:"conflict_data_action",filteringEnabled:!1,sortingEnabled:!1}],columnExtensions:[{columnName:"member_name",wordWrapEnabled:!0,width:250},{columnName:"civil_status",wordWrapEnabled:!0},{columnName:"gender",wordWrapEnabled:!0},{columnName:"date_of_birth",wordWrapEnabled:!0},{columnName:"type",wordWrapEnabled:!0},{columnName:"principal_name",wordWrapEnabled:!0,width:250},{columnName:"relationship_to_principal",wordWrapEnabled:!0},{columnName:"remarks",wordWrapEnabled:!0,width:250},{columnName:"conflict_data_action",width:450}],columns:[{name:"member_name",title:"Name"},{name:"civil_status",title:"Civil Status"},{name:"gender",title:"Gender"},{name:"date_of_birth",title:"Birthdate"},{name:"member_type",title:"Member Type"},{name:"principal_name",title:"Name of Principal"},{name:"relationship_to_principal",title:"Relationship to Principal"},{name:"remarks",title:"Conflict"},{name:"conflict_data_action",title:"Action"}],rows:[]},l={formattedColumns:{incomplete_radio:["validation_action"],principal_select:["principal_name"]},intgFltrColumnExtensions:n(["member_name","civil_status","gender","date_of_birth","member_type","relationship_to_principal","principal_name","batch_name"]),filterExtensions:[{columnName:"validation_action",filteringEnabled:!1,sortingEnabled:!1}],columnExtensions:[{columnName:"member_name",wordWrapEnabled:!0},{columnName:"civil_status",wordWrapEnabled:!0},{columnName:"gender",wordWrapEnabled:!0},{columnName:"date_of_birth",wordWrapEnabled:!0},{columnName:"member_type",wordWrapEnabled:!0},{columnName:"relationship_to_principal",wordWrapEnabled:!0},{columnName:"principal_name",wordWrapEnabled:!0},{columnName:"batch_name",wordWrapEnabled:!0},{columnName:"validation_action",width:280}],columns:[{name:"member_name",title:"Name"},{name:"civil_status",title:"Civil Status"},{name:"gender",title:"Gender"},{name:"date_of_birth",title:"Birthdate"},{name:"member_type",title:"Member Type"},{name:"relationship_to_principal",title:"Relationship to Principal"},{name:"principal_name",title:"Principal Name"},{name:"batch_name",title:"Principal Batch No."},{name:"validation_action",title:"Action"}],rows:[]},s={formattedColumns:{disapprove_action:["disapprove_action"]},intgFltrColumnExtensions:n(["member_name","civil_status","gender","date_of_birth","member_type","plan_type","principal_name","relationship_to_principal","remarks"]),filterExtensions:[{columnName:"disapprove_action",filteringEnabled:!1,sortingEnabled:!1}],columnExtensions:[{columnName:"member_name",wordWrapEnabled:!0},{columnName:"civil_status",wordWrapEnabled:!0},{columnName:"gender",wordWrapEnabled:!0},{columnName:"date_of_birth",wordWrapEnabled:!0},{columnName:"member_type",wordWrapEnabled:!0},{columnName:"plan_type",wordWrapEnabled:!0},{columnName:"principal_name",wordWrapEnabled:!0},{columnName:"relationship_to_principal",wordWrapEnabled:!0},{columnName:"remarks",wordWrapEnabled:!0},{columnName:"disapprove_action",width:240}],columns:[{name:"member_name",title:"Member Name"},{name:"civil_status",title:"Civil Status"},{name:"gender",title:"Gender"},{name:"date_of_birth",title:"Birthdate"},{name:"member_type",title:"Member Type"},{name:"plan_type",title:"Plan Type"},{name:"principal_name",title:"Name of Principal"},{name:"relationship_to_principal",title:"Relationship to Principal"},{name:"remarks",title:"Remarks"},{name:"disapprove_action",title:"Action"}],rows:[]},c={formattedColumns:{},intgFltrColumnExtensions:n(["member_name","plan_type","account_no","date_of_birth","member_type","civil_status","gender","effectivity_date","principal_name","relationship_to_principal"]),columnExtensions:[{columnName:"member_name",wordWrapEnabled:!0},{columnName:"plan_type",wordWrapEnabled:!0},{columnName:"account_no",wordWrapEnabled:!0},{columnName:"date_of_birth",wordWrapEnabled:!0},{columnName:"member_type",wordWrapEnabled:!0},{columnName:"civil_status",wordWrapEnabled:!0},{columnName:"gender",wordWrapEnabled:!0},{columnName:"effectivity_date",wordWrapEnabled:!0},{columnName:"principal_columnName",wordWrapEnabled:!0},{columnName:"relationship_to_principal",wordWrapEnabled:!0}],columns:[{name:"member_name",title:"Member Name"},{name:"plan_type",title:"Plan Type"},{name:"account_no",title:"Account No"},{name:"date_of_birth",title:"Date of Birth"},{name:"member_type",title:"Member Type"},{name:"civil_status",title:"Civil Status"},{name:"gender",title:"Gender"},{name:"effectivity_date",title:"Effectivity Date"},{name:"principal_name",title:"Principal Name"},{name:"relationship_to_principal",title:"Relationship"}],rows:[]},m={formattedColumns:{},intgFltrColumnExtensions:n(["member_name","member_issue"]),columnExtensions:[{columnName:"member_name",wordWrapEnabled:!0},{columnName:"member_issue",wordWrapEnabled:!0}],columns:[{name:"member_name",title:"Name"},{name:"member_issue",title:"Issues"}],rows:[]},u=[{label:"Partial Matches",count:r.rows.length},{label:"Incomplete Requirements",count:i.rows.length},{label:"Conflict on Data",count:o.rows.length},{label:"For Validation",count:l.rows.length},{label:"Disapproved",count:s.rows.length},{label:"Approved",count:c.rows.length},{label:"All",count:m.rows.length}];return a.state={memberDataFields:[],check_internet_flag:!1,plan_types:null,anchorEl:null,memberData:null,pmaker_task:"Assign Membership Statuses",row:0,partialRow:0,breadcrumbs:[{label:"DASHBOARD",url:"#/membership"},{label:"VERIFY",url:""},{label:"Veridata",url:""}],tab:0,verifyTabs:u,partialtable:r,partial_items:[{status:"",person_info:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member (s)"},{name:"added_member",title:"Added Member"}],rows:[]},member_info:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member"},{name:"added_member",title:"Added Member"}],rows:[]}},{status:"",person_info:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member (s)"},{name:"added_member",title:"Added Member"}],rows:[]},member_info:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member"},{name:"added_member",title:"Added Member"}],rows:[]}},{status:"",person_info:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member (s)"},{name:"added_member",title:"Added Member"}],rows:[]},member_info:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member"},{name:"added_member",title:"Added Member"}],rows:[]}},{status:"",person_info:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member (s)"},{name:"added_member",title:"Added Member"}],rows:[]},member_info:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member"},{name:"added_member",title:"Added Member"}],rows:[]}}],incompletetable:i,conflicttable:o,validationtable:l,disapprovetable:s,approvedtable:c,alltable:m,alltableCopy:m,partialModalOpen:!1,approveModalOpen:!1,memberFilesModalOpen:!1,disapproveModalOpen:!1,approveDependent:{},generateFlag:!1,member_upload_data:{_id:"5d9bed4363f6b60bd25f525b",client_id:"5d9af14586cd6f0349131e88",client_name:"Veridata",contract_id:"5d9af397ddf3ea03585a37ae",sender_name:"John Smith",sender_email:"john.smith@yahoo.com",channel:"Email",date_sent:"2019-10-04T00:00:00.000Z",batch_name:"0001",no_of_members:3,members:[]},loading_state:!0,allFilter:[],approvedFilter:[],disapprovedFilter:[],conflictFilter:[],incompleteFilter:[],partialFilter:[],validationFilter:[],partialColumns:{columnExtensions:[{columnName:"system_name",wordWrapEnabled:!0,width:200},{columnName:"existing_member",wordWrapEnabled:!0,width:200},{columnName:"added_member",wordWrapEnabled:!0,width:200}],columns:[{name:"system_name",title:"System Name"},{name:"existing_member",title:"Existing Member (s)"},{name:"added_member",title:"Added Member"}]},allData:{partial:r,incomplete:i,conflict:o,validation:l,disapprove:s,all:m},tmpDataModal:!1,tmpData:{partial_table:{},incomplete_table:{},conflict_table:{},validation_table:{},disapprove_table:{},approved_table:{},all_table:{}},currentTablePage:0,isActionRemarksModalOpen:!1,actionRemarksModalProps:{tab:"",row:0,action:"Approve"},pageSizes:{partial_table:5,incomplete_table:5,conflict_table:5,validation_table:5,disapprove_table:5,approved_table:5,all_table:5},snackbarNotifProps:{isOpen:!1,title:"",message:"",variant:"success"},corporateAccountNo:"",corporateAccountName:"",contractName:"",clientId:"",filterTimeout:0,forValidationTab:0},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({check_internet_flag:!0}),An.getUploadMember(this.props.match.params.member_upload_id).then(function(t){console.log("getUploadMember",t),t&&void 0===t.error?(t.client_id&&e.setState({clientId:t.client_id}),An.getClientHMOInfo(t.client_id?t.client_id:"").then(function(a){var n="",r=[],i="",o="";a&&void 0===a.error&&(r=a.client&&a.client.member_data_fields?a.client.member_data_fields:[],n=a.client&&a.client.corporate_account_no?a.client.corporate_account_no:"",i=a.client&&a.client.registered_name?a.client.registered_name:"",a.benefit_plan_tree&&a.benefit_plan_tree.length>0&&a.benefit_plan_tree.forEach(function(e){if(1===e.level&&"MCT"===e.code){var t="";e.custom_metadata&&e.custom_metadata.coverage_start_date&&e.custom_metadata.coverage_end_date&&(t=" "+qr.toCommonDateString(new Date(e.custom_metadata.coverage_start_date))+" - "+qr.toCommonDateString(new Date(e.custom_metadata.coverage_end_date))),o="Contract "+(e.version?e.version:"1")+t}}));var l=[{label:"DASHBOARD",url:"#/membership"},{label:"VERIFY",url:""}];void 0!==t.client_object&&null!==t.client_object&&void 0!==t.client_object.registered_name&&null!==t.client_object.registered_name&&l.push({label:t.client_object.registered_name,url:""}),e.setState({memberDataFields:r,check_internet_flag:!1,plan_types:a.plan_types,corporateAccountNo:n,corporateAccountName:i,contractName:o,breadcrumbs:l,loading_state:!1,member_upload_data:t}),void 0!==t.validated_members&&null!==t.validated_members&&(e.getValidatedMembers(t.validated_members),e.handleLoadTmp())})):e.setState({loading_state:!1,member_upload_data:{}})})}},{key:"getUpdatedMemberUploadData",value:function(){var e=this;this.setState({check_internet_flag:!0,loading_state:!0},function(){e.resetFilters()}),An.getUploadMember(this.props.match.params.member_upload_id).then(function(t){t&&Object(Tn.isNil)(t.error)?(Object(Tn.isNil)(t.validated_members)||e.getValidatedMembers(t.validated_members),e.setState({check_internet_flag:!1,loading_state:!1,member_upload_data:t},function(){e.setState({generateFlag:!0})})):e.setState({loading_state:!1,member_upload_data:{},generateFlag:!0})}).catch(function(){e.setState({loading_state:!1,member_upload_data:{}},function(){e.setState({generateFlag:!0})})})}},{key:"getValidatedMembers",value:function(e){var t=Object.assign({},this.state.partialColumns),a=Object.assign({},this.state.partialtable),n=Object.assign({},this.state.incompletetable),r=Object.assign({},this.state.conflicttable),i=Object.assign({},this.state.validationtable),o=Object.assign({},this.state.disapprovetable),l=Object.assign({},this.state.approvedtable),s=Object.assign({},this.state.alltable),c=[],m=[],d=[],u=[],p=[],f=[],b=[],g=function(t){var a=t.principal_temp_id?e.find(function(e){return e.temp_id===t.principal_temp_id}):void 0;return a?"".concat(a.first_name," ").concat(a.middle_name," ").concat(a.last_name):""};e.forEach(function(e){if(e.validation_status){var a=e.validation_status,n=e.first_name+" "+e.middle_name+" "+e.last_name,r="";void 0!==e.validation_status.action&&(r=e.validation_status.action);var i={temp_id:e.temp_id,member_name:n,member_issue:""},o={member_name:n,first_name:e.first_name,middle_name:e.middle_name,last_name:e.last_name,suffix:e.suffix,civil_status:e.civil_status,gender:e.gender,date_of_birth:e.date_of_birth?Je()(e.date_of_birth).format("MMM DD, YYYY"):"",member_type:e.member_type,plan_type:e.plan_type,principal_name:e.principal_first_name&&e.principal_last_name?e.principal_first_name+" "+e.principal_last_name:"",relationship_to_principal:e.relationship_to_principal,effectivity_date:e.effectivity_date?Je()(e.effectivity_date).format("MMM DD, YYYY"):""};switch(e.validation_status.status){case"PARTIAL_MATCH":var l=a.matched_member,s=l.first_name+" "+l.middle_name+" "+l.last_name,_=[],h=[];a.person_profiles.forEach(function(e){var t=e;"same"===e.compare_status&&(t.className="same-field"),_.push(t)}),a.member_profiles.forEach(function(e){var t=e;"same"===e.compare_status&&(t.className="same-field"),h.push(t)});var v={member_details:e,member_added:n,existing_member:s,similar_fields:a.message,action:r,person_info:{columnExtensions:t.columnExtensions,columns:t.columns,rows:_},member_info:{columnExtensions:t.columnExtensions,columns:t.columns,rows:h}};Object(Tn.assign)(v,o),c.push(v),i.member_issue="Partial Matches";break;case"INCOMPLETE_REQUIREMENTS":var E={member_details:e,member_name:n,missing_fields:a.message,incomplete_action:r};Object(Tn.assign)(E,o),m.push(E),i.member_issue="Incomplete Requirements: ".concat(a.message);break;case"CONFLICT_ON_DATA":var y={member_details:e,member_name:n,remarks:a.message,conflict_data_action:r};Object(Tn.assign)(y,o),d.push(y),i.member_issue="Conflict on Data: ".concat(a.message);break;case"FOR_VALIDATION":case"FOR_CONFIRMATION":var x={};if(void 0!==e.possible_principals&&e.possible_principals.length>0){var O,C=e.possible_principals[0].batch_name;O=!0===e.possible_principals.every(function(e){return e.batch_name===C})?C:"",x={member_details:e,member_name:n,remarks:a.message,member_principal:g(e),validation_action:r,batch_name:O}}else x={member_details:e,member_name:n,remarks:a.message,member_principal:g(e),validation_action:r};Object(Tn.assign)(x,o),u.push(x),i.member_issue="For Validation: ".concat(a.message);break;case"DISAPPROVED":var S={member_details:e,member_name:n,civil_status:e.civil_status,gender:e.gender,date_of_birth:e.date_of_birth?Je()(e.date_of_birth).format("MMM DD, YYYY"):"",plan_type:e.plan_type,principal_name:e.principal_first_name&&e.principal_last_name?e.principal_first_name+" "+e.principal_last_name:"",relationship_to_principal:e.relationship_to_principal,remarks:a.message,disapprove_action:r};Object(Tn.assign)(S,o),p.push(S),i.member_issue="Disapproved: ".concat(a.message);break;case"APPROVED":var w={member_details:e,member_name:n,plan_type:e.plan_type,account_no:e.account_number,date_of_birth:e.date_of_birth?Je()(e.date_of_birth).format("MMM DD, YYYY"):"",member_type:e.member_type,civil_status:e.civil_status,gender:e.gender,effectivity_date:e.effectivity_date?Je()(e.effectivity_date).format("MMM DD, YYYY"):"",principal_name:e.principal_first_name&&e.principal_last_name?e.principal_first_name+" "+e.principal_last_name:"",relationship_to_principal:e.relationship_to_principal};Object(Tn.assign)(w,o),-1===f.findIndex(function(e){return e.member_details.temp_id===w.member_details.temp_id})&&f.push(w),i.member_issue="Approved"}var k=!1;for(var j in b)if(!Object(Tn.isNil)(b[j])){var N=b[j];if(null!==N.temp_id||null!==i.temp_id){if(N.temp_id===i.temp_id&&!Object(Tn.includes)(N.member_issue,i.member_issue)){N.member_issue="".concat(N.member_issue,", ").concat(i.member_issue),b[j]=N,k=!0;break}if(N.temp_id===i.temp_id){k=!0;break}}else{if(i.member_name===N.member_name&&!Object(Tn.includes)(N.member_issue,i.member_issue)){N.member_issue="".concat(N.member_issue,", ").concat(i.member_issue),b[j]=N,k=!0;break}if(i.member_name===N.member_name){k=!0;break}}}k||b.push(i)}}),a.rows=c,n.rows=m,r.rows=d,i.rows=u,o.rows=p,l.rows=f,s.rows=b;var _=[{label:"Partial Matches",count:c.length},{label:"Incomplete Requirements",count:m.length},{label:"Conflict on Data",count:d.length},{label:"Unmatched Principals and Dependents",count:u.length},{label:"Disapproved",count:p.length},{label:"Approved",count:f.length},{label:"All",count:b.length}],h={partial:a,incomplete:n,conflict:r,validation:i,disapprove:o,approved:l,all:s};this.setFieldValue("verifyTabs",_),this.setFieldValue("partialtable",a),this.setFieldValue("incompletetable",n),this.setFieldValue("conflicttable",r),this.setFieldValue("validationtable",i),this.setFieldValue("disapprovetable",o),this.setFieldValue("approvedtable",l),this.setFieldValue("alltable",s),this.setFieldValue("alltableCopy",s),this.setFieldValue("allData",h)}},{key:"render",value:function(){var e=this,t=this.state,a=t.pmaker_task,r=t.row,i=t.partialRow,o=t.breadcrumbs,l=t.tab,s=t.verifyTabs,c=t.partialtable,m=t.incompletetable,d=t.conflicttable,u=t.validationtable,p=t.disapprovetable,f=t.approvedtable,b=t.alltable,g=t.partialModalOpen,_=t.approveModalOpen,h=t.memberFilesModalOpen,v=t.disapproveModalOpen,E=t.approveDependent,y=t.generateFlag,x=t.loading_state,O=t.member_upload_data,C=t.allData,w=t.tmpDataModal,k=t.isActionRemarksModalOpen,j=t.actionRemarksModalProps,N=t.pageSizes,D=t.snackbarNotifProps,T=t.corporateAccountNo,M=t.corporateAccountName,F=t.contractName,P=t.clientId;return n.createElement("div",{className:Object(tt.default)("VerifyMemberPage")},x?n.createElement(Rn,null):null,n.createElement(J.a,{container:!0,className:Object(tt.default)("page-header-title")},n.createElement(J.a,{item:!0,xs:12},n.createElement(J.a,{item:!0,xs:12},n.createElement(bn.UI.BreadcrumbsComponent,{items:o})),n.createElement(J.a,{item:!0,xs:12},n.createElement(Tl,{id:"verify_member_stepper",label:"Verify Member List",steps:[],activeStep:0})))),y?n.createElement(tc,{id:O._id,pmaker_task:a,case_id:this.props.match.params.ticket_id,client_id:P,client_name:M,data:JSON.parse(JSON.stringify(C)),memberUploadData:O,email:O.sender_email,handleBack:this.handleBack,handleCloseLostInternetConnectionModal:this.handleCloseLostInternetConnectionModal,handleOpenLostInternetConnectionModal:this.handleOpenLostInternetConnectionModal}):n.createElement(J.a,{container:!0,className:Object(tt.default)("page-header-title")},n.createElement(J.a,{item:!0,xs:12},n.createElement(ws,{data:O,corporateAccountNo:T,corporateAccountName:M,contractName:F})),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("member-list-section")},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:10},n.createElement(S.a,{className:Object(tt.default)("sub-title"),color:"textPrimary"},"Member List")))),n.createElement(J.a,{item:!0,xs:12,style:{marginTop:"21px",backgroundColor:"#F5F7FB",boxShadow:"4px 1px 6px #00000029"}},n.createElement(Nn.a,{value:l,onChange:this.handleChange,"aria-label":"simple tabs example"},s.map(function(e,t){return n.createElement(Dn.a,{id:"verify-member-tab-"+e.label.replace(/ /g,"-").toLowerCase(),"data-cy":"verify-member-tab-"+e.label.replace(/ /g,"-").toLowerCase(),label:e.label+" ("+e.count+")",key:"verify-member-tab-"+t,"aria-controls":"verify-member-tabpanel-"+e.count})}))),n.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"5px"}},0===l?n.createElement(ll,{id:"tab-partial","data-cy":"tab-partial",rows:Object.keys(c).length>0?c.rows:[],columns:Object.keys(c).length>0?c.columns:[],intgFltrColumnExtensions:Object(Tn.get)(c,"intgFltrColumnExtensions",[]),message:"No available data",showSelectionColumn:!1,onClickRow:function(t){return e.handleClickRow(t[0],"partialtable",c.rows[t[0]])},onSelectedRadio:function(t,a){return e.handleSelectedRadio(t,a,"partialtable")},disableSelect:!0,disableSearch:!0,singleSelect:!0,formattedColumns:Object.keys(c).length>0?c.formattedColumns:{},columnExtensions:Object.keys(c).length>0?c.columnExtensions:[],filterExtensions:Object.keys(c).length>0?c.filterExtensions:[],defaultFilter:this.state.partialFilter,onFilterChange:this.handleFilterChange("partialFilter"),onSortingChange:this.handleSortingChange,currentPage:this.state.currentTablePage,setCurrentPage:function(t){e.setState({currentTablePage:t})},pageSize:N.partial_table,onPageSizeChange:function(t){e.handlePageSizeChange("partial_table",t)}}):1===l?n.createElement(ll,{id:"tab-incomplete",rows:Object.keys(m).length>0?m.rows:[],columns:Object.keys(m).length>0?m.columns:[],intgFltrColumnExtensions:Object(Tn.get)(m,"intgFltrColumnExtensions",[]),message:"No available data",onClickRow:function(t){return e.handleClickRow(t[0],"incompletetable",m.rows[t[0]])},onSelectedRadio:function(t,a){return e.handleSelectedRadio(t,a,"incompletetable")},disableSelect:!0,disableSearch:!0,formattedColumns:Object.keys(m).length>0?m.formattedColumns:{},columnExtensions:Object.keys(m).length>0?m.columnExtensions:[],filterExtensions:Object.keys(m).length>0?m.filterExtensions:[],defaultFilter:this.state.incompleteFilter,onFilterChange:this.handleFilterChange("incompleteFilter"),onSortingChange:this.handleSortingChange,currentPage:this.state.currentTablePage,setCurrentPage:function(t){e.setState({currentTablePage:t})},pageSize:N.incomplete_table,onPageSizeChange:function(t){e.handlePageSizeChange("incomplete_table",t)},handleClickEdit:this.handleClickEdit}):2===l?n.createElement(ll,{id:"tab-conflict","data-cy":"tab-conflict",rows:Object.keys(d).length>0?d.rows:[],columns:Object.keys(d).length>0?d.columns:[],intgFltrColumnExtensions:Object(Tn.get)(d,"intgFltrColumnExtensions",[]),message:"No available data",onClickRow:function(t){return e.handleClickRow(t[0],"conflicttable",d.rows[t[0]])},onSelectedRadio:function(t,a){return e.handleSelectedRadio(t,a,"conflicttable")},disableSelect:!0,disableSearch:!0,formattedColumns:Object.keys(d).length>0?d.formattedColumns:{},columnExtensions:Object.keys(d).length>0?d.columnExtensions:[],filterExtensions:Object.keys(d).length>0?d.filterExtensions:[],defaultFilter:this.state.conflictFilter,onFilterChange:this.handleFilterChange("conflictFilter"),onSortingChange:this.handleSortingChange,currentPage:this.state.currentTablePage,setCurrentPage:function(t){e.setState({currentTablePage:t})},pageSize:N.conflict_table,onPageSizeChange:function(t){e.handlePageSizeChange("conflict_table",t)},handleClickEdit:this.handleClickEdit}):3===l?n.createElement(J.a,{container:!0,style:{backgroundColor:"#F5F7FB"}},n.createElement(J.a,{item:!0,xs:12},n.createElement(ll,{id:"tab-validation","data-cy":"tab-validation",principalItem:[{name:"check",value:"check"}],rows:Object.keys(u).length>0?u.rows:[],columns:Object.keys(u).length>0?u.columns:[],intgFltrColumnExtensions:Object(Tn.get)(u,"intgFltrColumnExtensions",[]),message:"No available data",onClickRow:function(t){return e.handleClickRow(t[0],"validationtable",u.rows[t[0]])},onSelectedRadio:function(t,a){console.log("change",t,a),e.handleSelectedRadio(t,a,"validationtable",u.rows[t])},disableSelect:!0,disableSearch:!0,formattedColumns:Object.keys(u).length>0?u.formattedColumns:{},columnExtensions:Object.keys(u).length>0?u.columnExtensions:[],filterExtensions:Object.keys(u).length>0?u.filterExtensions:[],defaultFilter:this.state.validationFilter,onFilterChange:this.handleFilterChange("validationFilter"),onSortingChange:this.handleSortingChange,currentPage:this.state.currentTablePage,setCurrentPage:function(t){e.setState({currentTablePage:t})},pageSize:N.validation_table,onPageSizeChange:function(t){e.handlePageSizeChange("validation_table",t)},handleClickEdit:this.handleClickEdit}))):4===l?n.createElement(J.a,{container:!0,style:{backgroundColor:"#F5F7FB"}},n.createElement(J.a,{item:!0,xs:12},n.createElement(ll,{id:"tab-disapprove","data-cy":"tab-disapprove",rows:Object.keys(p).length>0?p.rows:[],columns:Object.keys(p).length>0?p.columns:[],intgFltrColumnExtensions:Object(Tn.get)(p,"intgFltrColumnExtensions",[]),message:"No available data",onClickRow:function(t){return e.handleClickRow(t[0],"disapprovetable",p.rows[t[0]])},onSelectedRadio:function(t,a){return e.handleSelectedRadio(t,a,"disapprovetable")},disableSelect:!0,disableSearch:!0,formattedColumns:Object.keys(p).length>0?p.formattedColumns:{},columnExtensions:Object.keys(p).length>0?p.columnExtensions:[],filterExtensions:Object.keys(p).length>0?p.filterExtensions:[],defaultFilter:this.state.disapprovedFilter,onFilterChange:this.handleFilterChange("disapprovedFilter"),onSortingChange:this.handleSortingChange,currentPage:this.state.currentTablePage,setCurrentPage:function(t){e.setState({currentTablePage:t})},pageSize:N.disapprove_table,onPageSizeChange:function(t){e.handlePageSizeChange("disapprove_table",t)},handleClickEdit:this.handleClickEdit,handleClickUpload:this.handleClickUpload}))):5===l?n.createElement(ll,{id:"tab-approve","data-cy":"tab-approve",rows:Object.keys(f).length>0?f.rows:[],columns:Object.keys(f).length>0?f.columns:[],intgFltrColumnExtensions:Object(Tn.get)(f,"intgFltrColumnExtensions",[]),message:"No available data",onClickRow:function(t){return e.handleClickRow(t[0],"approvedtable",f.rows[t[0]])},disableSelect:!0,disableSearch:!0,formattedColumns:Object.keys(f).length>0?f.formattedColumns:{},columnExtensions:Object.keys(f).length>0?f.columnExtensions:[],filterExtensions:Object.keys(f).length>0?f.filterExtensions:[],defaultFilter:this.state.approvedFilter,onFilterChange:this.handleFilterChange("approvedFilter"),onSortingChange:this.handleSortingChange,currentPage:this.state.currentTablePage,setCurrentPage:function(t){e.setState({currentTablePage:t})},pageSize:N.approved_table,onPageSizeChange:function(t){e.handlePageSizeChange("approved_table",t)},handleClickEdit:this.handleClickEdit}):6===l?n.createElement(ll,{id:"tab-all",rows:Object.keys(b).length>0?b.rows:[],columns:Object.keys(b).length>0?b.columns:[],intgFltrColumnExtensions:Object(Tn.get)(b,"intgFltrColumnExtensions",[]),message:"No available data",onClickRow:function(t){return e.handleClickRow(t[0],"alltable",b.rows[t[0]])},disableSelect:!0,disableSearch:!0,formattedColumns:Object.keys(b).length>0?b.formattedColumns:{},columnExtensions:Object.keys(b).length>0?b.columnExtensions:[],defaultFilter:this.state.allFilter,onFilterChange:this.handleFilterChange("allFilter"),onSortingChange:this.handleSortingChange,currentPage:this.state.currentTablePage,setCurrentPage:function(t){e.setState({currentTablePage:t})},pageSize:N.all_table,onPageSizeChange:function(t){e.handlePageSizeChange("all_table",t)}}):null),n.createElement(J.a,{item:!0,xs:12},n.createElement(J.a,{container:!0,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:12},n.createElement(fc,{saveTmp:this.handleSaveTmp,generateExeptionReport:this.generateExeptionReport}))),n.createElement(qs,{onClose:this.handleTmpModalClose,loadData:this.setTmpValue,isModalOpen:w,id:"tmp-data-modal"}),void 0!==c&&void 0!==c.rows&&c.rows.length>0?n.createElement(Ds,{isModalOpen:g,id:"partial-match-modal",onClose:this.closePartialModal,data:void 0!==c&&void 0!==c.rows?c.rows:[],row:i,onSave:this.savePartialModal}):null,n.createElement(Us,{isModalOpen:h,id:"disapproved-member-files-modal",row:r,onClose:this.closeDisapprovedMemberFilesModal,onSubmit:function(t,a,n){return e.saveDisapprovedMemberFilesModal(t,a,n)}}),n.createElement(As,{isModalOpen:_,id:"approve-member-modal",row:r,onClose:this.closeApproveModal,onApprove:function(t,a,n){return e.saveApproveModal(t,a,n)}}),n.createElement(Is,{isModalOpen:v,id:"disapprove-member-modal",row:r,onClose:this.closeDisapproveModal,onDisapprove:function(t,a){return e.saveDisapproveModal(t,a)}}),n.createElement(Vs,{isModalOpen:k,row:j.row,tab:j.tab,action:j.action,actionValue:j.actionValue,onActionSubmit:this.onAddActionRemarksModalSubmit,onClose:this.closeActionRemarksModal}),n.createElement(Ql,{isOpen:D.isOpen,message:D.message,variant:D.variant,onSnackbarClose:function(){e.closeSnackbarNotif()}}),this.state.validationtable.rows[E.row?E.row:0]&&E.action?n.createElement(rc,{isModalOpen:!0===E.isModalOpen,action:E.action,memberName:this.state.validationtable.rows[E.row?E.row:0].member_name,remarks:this.state.validationtable.rows[E.row?E.row:0].remarks,possiblePrincipals:E.possiblePrincipals?E.possiblePrincipals:[],id:"approve-dependent-modal",row:E.row?E.row:0,onClose:this.closeApproveDependentModal,onAction:this.saveApproveDependentModal}):null)),n.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}),n.createElement(lc,{memberData:this.state.memberData,anchorElement:this.state.anchorEl,handlePopoverClose:this.handlePopoverClose,planTypes:this.state.plan_types,handleChangeMemberData:this.handleChangeMemberData,handlePatchMemberData:this.handlePatchMemberData,memberDataFields:this.state.memberDataFields}))}}]),t}(n.Component),gc=a(2105),_c=a(270),hc=a.n(_c),vc=(a(823),Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingLeft:"24px",paddingRight:"24px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),marginRight:"64px"},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingTop:e.spacing(2)},dialogAction:{paddingTop:e.spacing(1),paddingBottom:e.spacing(2),paddingLeft:"24px",paddingRight:"24px"},boldText:{fontWeight:"bold"},cancelButton:{width:115,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},disapproveButton:{textTransform:"none",minWidth:130,color:"#FFFFFF",backgroundColor:"#FF5555","&:hover":{background:"#FF7777"}},approveButton:{textTransform:"none",minWidth:129,marginRight:18,color:"#FFFFFF",backgroundColor:"#3AB77D"},label:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"}}})),Ec=function(e){var t=Object(n.useState)(e.isModalOpen),a=Object(g.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(""),s=Object(g.a)(l,2),c=s[0],m=s[1],d=vc();Object(n.useEffect)(function(){o(e.isModalOpen),e.isModalOpen&&m("")},[e.isModalOpen]);return r.a.createElement(U.a,{id:e.id,maxWidth:"md",open:i,scroll:"paper","aria-labelledby":"modal-title",className:d.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:d.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:d.dialogFirstTitle},"Add remarks"),r.a.createElement(ne.a,{"data-cy":"add_remarks_modal_close_btn",id:"add_remarks_modal_close_btn","aria-label":"close",className:d.closeButton,onClick:e.onClose},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:d.dialogContent},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:d.label,htmlFor:"add_remarks_modal_field"},"Remarks"),r.a.createElement(j.a,{"data-cy":"add_remarks_modal_field",id:"add_remarks_modal_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:c,onChange:function(e){var t=e.target.value;m(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:d.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(z.a,{"data-cy":"add_remarks_modal_cancel_btn",id:"add_remarks_modal_cancel_btn",className:d.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Cancel")),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(z.a,{"data-cy":"add_remarks_modal_submit_btn",id:"add_remarks_modal_submit_btn",className:d.approveButton,variant:"contained",color:"default",onClick:function(){e.onActionSubmit&&e.onActionSubmit(c)}},"Submit")))))};Ec.defaultProps={id:"add_member_remarks_modal_id",isModalOpen:!1};var yc=Object(y.a)({hmoname:{fontSize:"0.75rem",color:"rgba(39, 46, 76, 0.6)",textTransform:"uppercase",paddingRight:32},hmovalue:{fontSize:"1rem",fontWeight:600,color:"rgb(39, 46, 76)"},hmovaluelink:{fontSize:"1rem",fontWeight:600,color:"rgb(39, 46, 76)",textDecoration:"underline",lineHeight:1.5}}),xc=Object(y.a)(function(e){return{subtitle:{fontSize:"1.125rem",fontWeight:600},hmocheckboxlabel:{fontSize:"0.75rem",color:"rgb(39, 46, 76)"},hmographsubtitle:{fontSize:"0.75rem",textTransform:"uppercase",color:"rgb(39, 46, 76, 0.6)",marginBottom:16},hmoaddremarksbtn:{fontSize:"0.875rem",fontWeight:600,color:"#3AB77D",marginBottom:16,cursor:"pointer"},hmodependentsbox:{maxHeight:175,borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmoprincipalsbox:{borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmoheadercell:{minWidth:"140px",padding:"5px 10px"},hmoremarksbox:{height:175,borderRadius:8,backgroundColor:"#FFFFFF",overflow:"hidden",border:"1px solid #272E4C4D",marginRight:"16px"},hmodependentsbox_link:{color:"#3AB77D"},hmoprincipalsbox_link:{color:"#3AB77D"},change_status_link:{color:"#0D5E40",cursor:"pointer",fontSize:"13px",textDecoration:"underline"},icons:{color:"#0D5E40",cursor:"pointer",fontSize:"13px"},popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},paper:{padding:"15px",width:130},status:{padding:"5px",cursor:"pointer"}}}),Oc=function(e){var t=xc(e),a=e.memberData,i=e.dependents,o=e.principal,l=e.clientData,s=e.contractId,c=e.contractName,m=e.MBL,d=e.ABL,u=e.PEC,p=Object(n.useRef)(null),f=Object(n.useState)(null),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)(!1),E=Object(g.a)(v,2),y=E[0],x=E[1],O=Object(n.useState)([]),C=Object(g.a)(O,2),w=C[0],k=C[1],j=Object(n.useState)(!1),D=Object(g.a)(j,2),T=D[0],M=D[1],F=function(e){var t=yc(e),a=e.link?e.link:"";return r.a.createElement(J.a,{container:!0,alignItems:"center",style:{paddingTop:4,paddingBottom:4}},r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(S.a,{className:t.hmoname},e.name)),r.a.createElement(J.a,{item:!0,xs:7},a?r.a.createElement(re.a,{href:a,className:t.hmovaluelink},e.value):e.handleClick?r.a.createElement(re.a,{onClick:function(){e.handleClick()},className:t.hmovaluelink},e.value):r.a.createElement(S.a,{className:t.hmovalue},e.value)))};function P(){x(!1),e.handleShowModal("cancel termination")}function A(){x(!1),e.handleShowModal("active")}function B(){x(!1),e.handleShowModal("reactivate")}function I(){x(!1),e.handleShowModal("suspend")}function R(){x(!1),e.handleShowModal("cancel")}function L(){x(!1),e.handleShowModal("terminate")}function W(){x(!1),e.handleShowModal("cancel_suspension")}function z(){x(!1),e.handleShowModal("liftSuspension")}function U(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}var Y=[],V=[];if(e.clientFields)if(e.clientFields.length>2){var H=Math.floor(e.clientFields.length/2);Y=e.clientFields.slice(0,H).map(function(e){var t="";return t="registered_name"===e.field_name||"name_on_card"===e.field_name?l&&l[e.field_name]?l[e.field_name]:"":"date"===e.input_type?a&&a[e.field_name]?Je()(a[e.field_name]).format("MMM DD, YYYY"):"":a&&a[e.field_name]?a[e.field_name]:"",r.a.createElement(F,{name:e.system_name,value:t||"-"})}),V=e.clientFields.slice(H,e.clientFields.length).map(function(e){var t="";return t="registered_name"===e.field_name||"name_on_card"===e.field_name?l&&l[e.field_name]?l[e.field_name]:"":"date"===e.input_type?a&&a[e.field_name]?Je()(a[e.field_name]).format("MMM DD, YYYY"):"":a&&a[e.field_name]?a[e.field_name]:"",r.a.createElement(F,{name:e.system_name,value:t||"-"})})}else e.clientFields.length>0&&(Y=Object(Ln.a)(e.clientFields).map(function(e){var t="";return t="registered_name"===e.field_name||"name_on_card"===e.field_name?l&&l[e.field_name]?l[e.field_name]:"":"date"===e.input_type?a&&a[e.field_name]?Je()(a[e.field_name]).format("MMM DD, YYYY"):"":a&&a[e.field_name]?a[e.field_name]:"",r.a.createElement(F,{name:e.system_name,value:t||"-"})}));return Object(n.useEffect)(function(){!function(){var a="active",n="terminated",i="suspended";if(e.memberData){var o=e.memberData,l=o.member_status,s=o.member_suspension,c=o.member_termination,m=[],d=Object(Tn.toLower)(l),u=function(){if(d===i||Object(Tn.isNil)(s))return!1;var e=Object(Tn.get)(s,"suspension_start_date",null);if(Object(Tn.isNil)(e))return!1;var t=Je()(e);return!(Object(Tn.isNil)(t)||!t.isValid())&&t.diff(Je()().toDate())>0}(),p=function(){if(d!==i||Object(Tn.isNil)(s))return!1;var e=Object(Tn.get)(s,"suspension_lift_date",null);if(Object(Tn.isNil)(e))return!0;var t=Je()(e);return!(Object(Tn.isNil)(t)||!t.isValid())&&t.diff(Je()().toDate())>0}(),f=function(){if(d===n||Object(Tn.isNil)(c))return!1;var e=Object(Tn.get)(c,"termination_date",null);if(Object(Tn.isNil)(e))return!1;var t=Je()(e);return!(Object(Tn.isNil)(t)||!t.isValid())&&t.diff(Je()().toDate())>0}();["cancelled"].includes(d)&&m.push(r.a.createElement(J.a,{key:"status-option-active",item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"hmo_info_status_activate_popover",id:"hmo_info_status_activate_popover",className:t.status,onClick:A},"Activate"))),[n].includes(d)&&m.push(r.a.createElement(J.a,{key:"status-option-reactivate",item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"hmo_info_status_reactivate_popover",id:"hmo_info_status_reactivate_popover",className:t.status,onClick:B},"Reactivate"))),[a].includes(d)&&!u&&m.push(r.a.createElement(J.a,{key:"status-option-suspended",item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"hmo_info_status_suspend_popover",id:"hmo_info_status_suspend_popover",className:t.status,onClick:I},"Suspend"))),[i].includes(d)&&p&&m.push(r.a.createElement(J.a,{key:"status-option-lift-suspension",item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"hmo_info_status_liftsuspend_popover",id:"hmo_info_status_liftsuspend_popover",className:t.status,onClick:z},"Lift Suspension"))),[a].includes(d)&&u&&m.push(r.a.createElement(J.a,{key:"status-option-suspended",item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"hmo_info_status_cancelsuspend_popover",id:"hmo_info_status_cancelsuspend_popover",className:t.status,onClick:W},"Cancel Suspension"))),["awaiting activation"].includes(d)&&m.push(r.a.createElement(J.a,{key:"status-option-cancel",item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"hmo_info_status_cancel_popover",id:"hmo_info_status_cancel_popover",className:t.status,onClick:R},"Cancel"))),[a,i].includes(d)&&!f&&m.push(r.a.createElement(J.a,{key:"status-option-terminated",item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"hmo_info_status_terminate_popover",id:"hmo_info_status_terminate_popover",className:t.status,onClick:L},"Terminate"))),[a,i].includes(d)&&f&&m.push(r.a.createElement(J.a,{key:"status-option-cancel-termination",item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"hmo_info_status_cancelterminate_popover",id:"hmo_info_status_cancelterminate_popover",className:t.status,onClick:P},"Cancel Termination"))),k(m)}}()},[e.memberData]),r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{container:!0,style:{paddingLeft:32}},r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:16,paddingBottom:16}},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement(J.a,{item:!0,xs:8},r.a.createElement(S.a,{className:t.subtitle,color:"textPrimary"},l&&l.registered_name?l.registered_name:"")),r.a.createElement(J.a,{item:!0,xs:4},w.length>0?r.a.createElement(J.a,{container:!0,direction:"row",justify:"flex-end"},r.a.createElement(J.a,{item:!0},r.a.createElement("span",{"data-cy":"hmo_info_change_status_btn",id:"hmo_info_change_status_btn",ref:p,className:t.change_status_link,onClick:function(){x(!0)}},r.a.createElement(X.a,{icon:Z.P,className:t.icons})," ","Change Status",r.a.createElement(qe.a,{open:y,anchorEl:p.current,placement:"bottom-end",className:t.popper,disablePortal:!1,style:{marginTop:"4px"},modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"undefined"},arrow:{enabled:!0,element:_}}},r.a.createElement("span",{className:t.arrow,ref:h}),r.a.createElement(N.a,{className:t.paper},r.a.createElement(Gs.a,{onClickAway:function(){x(!1)}},r.a.createElement(J.a,{container:!0},w))))))):null))),r.a.createElement(J.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},r.a.createElement(F,{name:"Member Account No.",value:function(){var e=Object(Tn.get)(a,"member_account_no",null);return e&&""!==e?e:"-"}()}),r.a.createElement(F,{name:"Member Card No.",value:function(){if(!a)return"-";if(!Object(Tn.get)(a,"can_display_card_no",!1))return"-";var e=Object(Tn.get)(a,"member_card_no",null),t=Object(Tn.get)(a,"date_printed",null);if(Object(Tn.isNil)(e)||Object(Tn.isNil)(t))return"-";var n=function(e){var t=["MM/DD/YYYY","YYYY/MM/DD","MM/DD/YY"],a=Object(Tn.find)(t,function(t){var a=Je()(e,t,!0);return!Object(Tn.isNil)(a)&&a.isValid()});return Object(Tn.isNil)(a)?null:Je()(e,a,!0)}(t);return!Object(Tn.isNil)(n)&&n.valueOf()<=Je()().valueOf()?e:"-"}()}),r.a.createElement(F,{name:"Member ID",value:a&&a.member_id?a.member_id:"-"}),r.a.createElement(F,{name:"Contract",value:c||"-",handleClick:function(){var t=s&&c?"/membership/member-contract/".concat(a._id,"/").concat(s,"/contract"):"";t&&e.handleRedirect&&e.handleRedirect(t)}}),r.a.createElement(F,{name:"Effectivity Date",value:a&&U(a.effectivity_date)?Je()(a.effectivity_date).format("MMM DD, YYYY"):"-"}),r.a.createElement(F,{name:"Contract Renewal Date",value:"-"}),r.a.createElement(F,{name:"Contract Expiration Date",value:"-"!==Object(Tn.get)(e.mctNode,"custom_metadata.coverage_end_date","-")?Je()(e.mctNode.custom_metadata.coverage_end_date).format("MMM DD, YYYY"):"-"}),r.a.createElement(F,{name:"Last day of Effectivity",value:function(){if("Terminated"!==Object(Tn.get)(a,"member_status",""))return"-"!==Object(Tn.get)(e.mctNode,"custom_metadata.coverage_end_date","-")?Je()(e.mctNode.custom_metadata.coverage_end_date).format("MMM DD, YYYY"):"-";var t=Object(Tn.get)(a,"member_termination.termination_date",null);if(!Object(Tn.isNil)(t)){var n=Je()(t);if(!Object(Tn.isNil)(n)&&n.isValid())return n.add(-1,"days").format("MMM DD, YYYY")}return"-"}()}),"Suspended"===Object(Tn.get)(a,"member_status","")||a&&"Suspended"!==Object(Tn.get)(a,"member_status","")&&a.member_suspension&&a.member_suspension.suspension_start_date&&Je()(a.member_suspension.suspension_start_date).isValid()&&Je()(a.member_suspension.suspension_start_date).diff(new Date)>0?r.a.createElement(F,{name:"Suspension Date",value:function(){var e=Object(Tn.get)(a,"member_suspension.suspension_start_date",null);if(!Object(Tn.isNil)(e)){var t=Je()(e);if(!Object(Tn.isNil)(t)&&t.isValid())return t.format("MMM DD, YYYY")}return"-"}()}):null,"Suspended"===Object(Tn.get)(a,"member_status","")||a&&"Suspended"!==Object(Tn.get)(a,"member_status","")&&a.member_suspension&&a.member_suspension.suspension_start_date&&Je()(a.member_suspension.suspension_start_date).isValid()&&Je()(a.member_suspension.suspension_start_date).diff(new Date)>0?r.a.createElement(F,{name:"Suspension Lifting Date",value:function(){var e=Object(Tn.get)(a,"member_suspension.suspension_lift_date",null);if(!Object(Tn.isNil)(e)){var t=Je()(e);if(!Object(Tn.isNil)(t)&&t.isValid())return t.format("MMM DD, YYYY")}return"-"}()}):null,"Terminated"===Object(Tn.get)(a,"member_status","")||a&&"Terminated"!==Object(Tn.get)(a,"member_status","")&&a.member_termination&&a.member_termination.termination_date&&Je()(a.member_termination.termination_date).isValid()&&Je()(a.member_termination.termination_date).diff(new Date)>0?r.a.createElement(F,{name:"Termination Date",value:function(){var e=Object(Tn.get)(a,"member_termination.termination_date",null);if(!Object(Tn.isNil)(e)){var t=Je()(e);if(!Object(Tn.isNil)(t)&&t.isValid())return t.format("MMM DD, YYYY")}return"-"}()}):null,r.a.createElement(F,{name:"Date Printed",value:a&&U(a.date_printed)?Je()(a.date_printed).format("MMM DD, YYYY"):"-"}),r.a.createElement(F,{name:"VIP Member",value:a?a.is_vip?"Yes":"No":"-"})),r.a.createElement(J.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},r.a.createElement(F,{name:"Type",value:a&&a.member_type?a.member_type:"-"}),r.a.createElement(F,{name:"Plan Type",value:a&&a.plan_type?a.plan_type:"-"}),r.a.createElement(F,{name:"Contract Plan Type",value:Object(Tn.get)(e.planTypeNode,"custom_metadata.contract_plan_type","-")}),r.a.createElement(F,{name:"MBL",value:m||"-"}),r.a.createElement(F,{name:"ABL",value:d||"-"}),r.a.createElement(F,{name:"PEC",value:u||"-"}),r.a.createElement(F,{name:"Philhealth Rider",value:a?a.is_philhealth_rider?"Yes":"No":"-"}),r.a.createElement(F,{name:"Batch Process No.",value:Object(Tn.get)(a,"batch_name","-")}),r.a.createElement(F,{name:"Member Consent",value:a?a.member_consent?"Yes":"No":"-"})),r.a.createElement(J.a,{container:!0,item:!0,xs:12,style:{paddingTop:32,paddingBottom:0}},r.a.createElement(J.a,{item:!0,xs:12,md:6},r.a.createElement(F,{name:"Date of Birth",value:a&&U(a.date_of_birth)?Je()(a.date_of_birth).format("MMM DD, YYYY"):"-"}),r.a.createElement(F,{name:"Age",value:a&&U(a.date_of_birth)?""+Je()().diff(a.date_of_birth,"years",!1):"-"}),r.a.createElement(F,{name:"Gender",value:a?a.gender:"-"})),r.a.createElement(J.a,{item:!0,xs:12,md:6},r.a.createElement(F,{name:"Civil Status",value:a?a.civil_status:"-"}),r.a.createElement(F,{name:"Title/Prefix",value:a&&a.title?a.title:"-"}),r.a.createElement(F,{name:"Suffix",value:a&&a.suffix?a.suffix:"-"}))),a&&"Principal"===a.member_type?r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:48,paddingBottom:48,paddingRight:16}},r.a.createElement(S.a,{className:t.hmographsubtitle},"Enrolled Dependents"),r.a.createElement(N.a,{className:t.hmodependentsbox},r.a.createElement(Ri.a,{"data-cy":"hmo_info_type_data_table",id:"hmo_info_type_data_table"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{className:t.hmoheadercell},"First Name"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Middle Name"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Last Name"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Suffix"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Civil Status"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Gender"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Birthdate"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Relationship to Principal"),r.a.createElement(qn.a,{className:t.hmoheadercell}))),r.a.createElement(Wi.a,null,i&&i.length>0?i.map(function(n,i){return r.a.createElement(Ii.a,{key:i},r.a.createElement(qn.a,null,n.first_name),r.a.createElement(qn.a,null,n.middle_name),r.a.createElement(qn.a,null,n.last_name),r.a.createElement(qn.a,null,n.suffix),r.a.createElement(qn.a,null,n.civil_status),r.a.createElement(qn.a,null,n.gender),r.a.createElement(qn.a,null,Je()(new Date(n.date_of_birth)).format("MMM DD, YYYY")),r.a.createElement(qn.a,null,n.relationship_to_principal),r.a.createElement(qn.a,null,r.a.createElement(re.a,{onClick:function(){window.location.href="#/membership/view-member/".concat(n._id),window.location.reload()},className:t.hmodependentsbox_link},"View"),"\xa0\xa0\xa0\xa0",r.a.createElement(re.a,{onClick:function(){e.handleRedirect("/membership/view-member/".concat(n._id,"/").concat(a._id))},className:t.hmodependentsbox_link},"Edit")))}):r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:9},"No enrolled dependents")))))):a&&"Dependent"===a.member_type?r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:48,paddingBottom:48,paddingRight:16}},r.a.createElement(S.a,{className:t.hmographsubtitle},"Principals"),r.a.createElement(N.a,{className:t.hmoprincipalsbox},r.a.createElement(Ri.a,{"data-cy":"hmo_info_type_data_table",id:"hmo_info_type_data_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{className:t.hmoheadercell},"First Name"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Middle Name"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Last Name"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Suffix"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Civil Status"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Gender"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Birthdate"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Relationship to Principal"),r.a.createElement(qn.a,{className:t.hmoheadercell}))),r.a.createElement(Wi.a,null,a.principal_name&&""!==a.principal_name&&a.principal_temp_id&&""!==a.principal_temp_id?r.a.createElement(Ii.a,null,r.a.createElement(qn.a,null,a.principal_first_name),r.a.createElement(qn.a,null,a.principal_middle_name),r.a.createElement(qn.a,null,a.principal_last_name),r.a.createElement(qn.a,null,o&&o.length>0?o[0].suffix:""),r.a.createElement(qn.a,null,o&&o.length>0?o[0].civil_status:""),r.a.createElement(qn.a,null,o&&o.length>0?o[0].gender:""),r.a.createElement(qn.a,null,o&&o.length>0?Je()(new Date(o[0].date_of_birth)).format("MMM DD, YYYY"):""),r.a.createElement(qn.a,null,a.relationship_to_principal),r.a.createElement(qn.a,null,o&&o.length>0?r.a.createElement(re.a,{className:t.hmodependentsbox_link,onClick:function(){window.location.href="#/membership/view-member/".concat(o[0]._id),window.location.reload()}},"View"):"","\xa0\xa0\xa0\xa0",o&&o.length>0?r.a.createElement(re.a,{onClick:function(){e.handleRedirect("/membership/view-member/".concat(o[0]._id,"/").concat(a._id))},className:t.hmodependentsbox_link},"Edit"):"")):r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:9},"No enrolled principal")))))):null,r.a.createElement(J.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},Y),r.a.createElement(J.a,{item:!0,xs:12,md:6,style:{paddingTop:0,paddingBottom:0}},V),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:48,paddingBottom:48}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(S.a,{className:t.hmographsubtitle},"Remarks")),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(Ye.a,{display:"flex",flexDirection:"row-reverse"},r.a.createElement(S.a,{"data-cy":"hmo_info_add_remarks_btn",id:"hmo_info_add_remarks_btn",className:t.hmoaddremarksbtn,onClick:function(){M(!0)}},"+ Remarks")))),r.a.createElement(N.a,{className:t.hmodependentsbox},r.a.createElement(Ri.a,{"data-cy":"hmo_info_remarks_table",id:"hmo_info_remarks_table"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{colSpan:4,className:t.hmoheadercell},"Remarks"),r.a.createElement(qn.a,{className:t.hmoheadercell},"Date"))),r.a.createElement(Wi.a,null,a&&a.member_remarks&&a.member_remarks.length>0?a.member_remarks.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{colSpan:4},r.a.createElement(S.a,{style:{fontWeight:600,fontSize:12,color:"#151C1B"}},e.user_fullname),r.a.createElement(S.a,{style:{fontWeight:400,fontSize:12,color:"#151C1B"}},e.remarks)),r.a.createElement(qn.a,null,e.date_created?Je()(e.date_created).format("MMM DD, YYYY"):""))}):r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:5},"No remarks yet"))))))),r.a.createElement(Ec,{isModalOpen:T,onClose:function(){M(!1)},onActionSubmit:function(t){M(!1),e.handleRemarkSubmit(t)}}))};Oc.defaultProps={memberData:{},dependents:[],clientData:{},contractId:"",contractName:"",MBL:"",ABL:"",PEC:"",clientFields:[],mctNode:null};a(824);var Cc=function(e){function t(e){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"date-picker"},n.createElement(F.a,{className:"label",htmlFor:this.props.id},this.props.placeholder),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,id:this.props.id,className:"text-field",variant:"inline",format:"MMM DD, YYYY",value:this.props.value,minDate:this.props.minDate?this.props.minDate:void 0,maxDate:this.props.maxDate,minDateMessage:this.props.minDateMessage?this.props.minDateMessage:void 0,onChange:function(t){e.props.onChange(t?t.toDate():null)}})),this.props.error?n.createElement(R.a,{id:this.props.id+"_error",style:{color:"#E53935"}},this.props.error_message):null)}}]),t}(n.Component),Sc={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},wc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"55vw"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},mnameLabel:{textTransform:"uppercase",fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 0.6)",paddingBottom:4},mnameValue:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblbox:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},label:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},suspendButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"},dialogDatePicker:{marginBottom:20}}}),kc=function(e){var t=wc(),a=e.isModalOpen,i=e.id,o=Object(n.useState)(""),l=Object(g.a)(o,2),s=l[0],c=l[1],m=Object(n.useState)(null),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)(null),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)([]),E=Object(g.a)(v,2),y=E[0],x=E[1],O=Object(n.useState)(""),C=Object(g.a)(O,2),w=C[0],k=C[1],D=Object(n.useState)(null),T=Object(g.a)(D,2),M=T[0],P=T[1],A=Object(n.useState)(!1),B=Object(g.a)(A,2),I=B[0],R=B[1],L=Object(n.useState)(!1),W=Object(g.a)(L,1)[0],H=Object(n.useState)(""),K=Object(g.a)(H,2),X=K[0],Z=K[1],Q=Object(n.useState)(""),$=Object(g.a)(Q,1)[0],ee=Object(n.useState)(void 0),te=Object(g.a)(ee,2),ae=te[0],re=te[1];function ie(){p(null),h(null),e.onClose()}return Object(n.useEffect)(function(){e.isModalOpen&&(p(null),h(null),x([]),k(""))},[e.isModalOpen]),Object(n.useEffect)(function(){if(e.memberData){var t=Object(Tn.get)(e.memberData,"first_name",null),a=Object(Tn.get)(e.memberData,"middle_name",null),n=Object(Tn.get)(e.memberData,"last_name",null);c("".concat(Object(Tn.isNil)(t)?"":t+" ").concat(Object(Tn.isNil)(a)?"":a.charAt(0)+". ").concat(Object(Tn.isNil)(n)?"":n))}},[e.memberData]),Object(n.useEffect)(function(){if(!Object(Tn.isNil)(e.maxDate)){var t=Je()(e.maxDate);if(!Object(Tn.isNil)(t)&&t.isValid()){var a=t.add(-1,"days").toDate();re(a)}}},[e.maxDate]),r.a.createElement(U.a,{id:i,maxWidth:!1,open:a,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:1299}},r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Suspension Details"),r.a.createElement(ne.a,{"data-cy":"suspend_member_modal_close_btn",id:"suspend_member_modal_close_btn","aria-label":"close",className:t.closeButton,onClick:ie},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.mnameLabel},"Principal"),r.a.createElement(S.a,{className:t.mnameValue},s)),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(Cc,{"data-cy":"suspend_member_modal_suspend_picker",id:"suspend_member_modal_suspend_picker",placeholder:"Effective Start of Suspension",value:u,error:I,error_message:X,minDate:new Date,maxDate:ae,onChange:function(e){if(e){var t=new Date;t.setDate(e.getDate()+1),ae&&t.getTime()>ae.getTime()?P(ae):P(t)}p(e)}})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(Cc,{"data-cy":"suspend_member_modal_lift_picker",id:"suspend_member_modal_lift_picker",placeholder:"Effective Date of Lifting",value:_,error:W,error_message:$,minDate:M,maxDate:ae,minDateMessage:"Date of lifting should not be before start of suspension.",onChange:function(e){h(e)}})),e.isPrincipal?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.tblTitle},"Dependents"),r.a.createElement(S.a,{className:t.tblSubtitle},"Choose the dependents to suspend.")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblbox},r.a.createElement(Ri.a,{"data-cy":"suspend_member_modal_dependents_table",id:"suspend_member_modal_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"40%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"30%"}},"Relationship"),r.a.createElement(qn.a,{style:{width:"30%"}},"Status"))),r.a.createElement(Wi.a,null,e.dependents&&e.dependents.length>0?Object(Tn.map)(e.dependents,function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{component:"th",scope:"row",style:{width:"30%"}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{xs:2},r.a.createElement(G.a,{style:Sc,disabled:"Suspended"===Object(Tn.get)(e,"member_status",null)||"Cancelled"===Object(Tn.get)(e,"member_status",null)||"Terminated"===Object(Tn.get)(e,"member_status",null),checked:y.includes(e._id),onChange:function(){!function(e){if(y.includes(e))x(y.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(y);t.push(e),x(t)}}(e._id)}})),r.a.createElement(J.a,{xs:1}),r.a.createElement(J.a,{xs:9},e.first_name+" "+(e.middle_name?e.middle_name.charAt(0)+". ":"")+e.last_name))),r.a.createElement(qn.a,{style:{width:"25%"}},e.relationship_to_principal),r.a.createElement(qn.a,{style:{width:"25%"}},e.member_status))}):r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled dependents"))))))):null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:"label",htmlFor:"suspend_member_modal_remarks_field"},"Remarks"),r.a.createElement(j.a,{"data-cy":"suspend_member_modal_remarks_field",id:"suspend_member_modal_remarks_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:w,onChange:function(e){var t=e.target.value;k(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"suspend_member_modal_cancel_btn",id:"suspend_member_modal_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:ie},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"suspend_member_modal_btn",id:"suspend_member_modal_btn",className:t.suspendButton,variant:"contained",color:"primary",onClick:function(){if(null===u)R(!0),Z("Start date is required.");else{var t={selectedDateStart:u,selectedDateLift:_,selectedDependents:y,remarks:w};e.onSuspend(t),ie()}}},"Suspend")))))};kc.defaultProps={isModalOpen:!1,id:"modal-id"};var jc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},desc:{fontSize:14,fontWeight:400,color:"rgba(39, 49, 76, 1)"},mnameLabel:{textTransform:"uppercase",fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 0.6)",paddingBottom:4},mnameValue:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblbox:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},suspendButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),Nc=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),Dc=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Tc=function(e){var t=e.isModalOpen,a=e.id,r=e.memberName,i=e.corporateAccount,o=e.suspendData,l=jc();return n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:l.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:l.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:l.dialogFirstTitle},"Confirm Membership Suspension"),n.createElement("div",{className:l.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"suspend_member_conmod_close_btn",id:"suspend_member_conmod_close_btn","aria-label":"close",className:l.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:l.dialogContent},n.createElement(J.a,{container:!0,spacing:2},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,null,"Are you sure you want to suspend the membership of"," ",n.createElement("span",{className:l.boldText},r," in ",i)," ","effective"," ",n.createElement("span",{className:l.boldText},function(){var e="";return o.selectedDateStart&&(e=Je()(o.selectedDateStart).format("MMMM D, YYYY")),o.selectedDateLift&&(e=e+" to "+Je()(o.selectedDateLift).format("MMMM D, YYYY")),e}()),"? You can cancel or lift this suspension later on.")),e.isPrincipal?n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:l.desc},r,"'s dependents will have the following status after lifting of suspension.")),n.createElement(J.a,{item:!0,xs:12},n.createElement(N.a,{className:l.tblbox},n.createElement(Ri.a,{"data-cy":"suspend_member_conmod_dependents_table",id:"suspend_member_conmod_dependents_table",size:"small"},n.createElement(Li.a,null,n.createElement(Ii.a,null,n.createElement(qn.a,{style:{width:"40%"}},"Member Name"),n.createElement(qn.a,{style:{width:"30%"}},"Relationship"),n.createElement(qn.a,{style:{width:"30%"}},"Status"))),n.createElement(Wi.a,null,e.dependents&&e.dependents.length>0?Object(Tn.map)(e.dependents,function(t,a){return n.createElement(Ii.a,{key:a},n.createElement(qn.a,{component:"th",scope:"row",style:{width:"30%"}},n.createElement(J.a,{container:!0},n.createElement(J.a,{xs:12},t.first_name+" "+(t.middle_name?t.middle_name.charAt(0)+". ":"")+t.last_name))),n.createElement(qn.a,{style:{width:"25%"}},t.relationship_to_principal),n.createElement(qn.a,{style:{width:"25%"}},function(t,a){if(!Object(Tn.get)(e.suspendData,"selectedDependents",[]).includes(t))return a;var n=Object(Tn.get)(e.suspendData,"selectedDateStart",null);if(Object(Tn.isNil)(n))return a;var r=Je()(n);return Object(Tn.isNil)(r)||!r.isValid()?a:r.diff(Je()().toDate())>0?a:"Suspended"}(t._id,t.member_status)))}):n.createElement(Ii.a,null,n.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled dependents"))))))):null)),n.createElement(q.a,{className:l.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Dc,{"data-cy":"suspend_member_conmod_cancel_btn",id:"suspend_member_conmod_cancel_btn",className:l.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Nc,{"data-cy":"suspend_member_conmod_btn",id:"suspend_member_conmod_btn",className:l.suspendButton,variant:"contained",color:"primary",onClick:function(){e.onClose(),e.onSuspend(o)}},"Suspend")))))};Tc.defaultProps={isModalOpen:!1,id:"modal-id"};var Mc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},hmodependentsbox:{height:175,borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmodependentsbox_link:{color:"rgb(39, 46, 76)"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),Fc=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),Pc=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Ac=function(e){var t=Mc();return n.createElement(U.a,{maxWidth:!1,open:e.isModalOpen,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Confirm Membership Termination"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"terminate_member_conmod_close_btn",id:"terminate_member_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,null,"Are you sure you want to terminate the membership of",n.createElement("span",{style:{fontWeight:"bold"}}," ".concat(e.memberData?e.memberData.first_name+" "+e.memberData.last_name:""))," ","in",n.createElement("span",{style:{fontWeight:"bold"}}," ".concat(e.clientData?e.clientData.registered_name:""))," ","on",n.createElement("span",{style:{fontWeight:"bold"}}," ".concat(qr.toCommonDateString(e.terminationData.terminationDate))),"?",n.createElement("span",null," ".concat(e.memberData?e.memberData.first_name:""))," ","and",n.createElement("span",null," ".concat(e.memberData&&"Female"===e.memberData.gender?"her":"his"))," ","dependents will no longer be eligible to any benefits in this contract."))),n.createElement(V.a,{className:t.dialogContent},n.createElement("div",{style:{paddingBottom:"1rem"}}),n.createElement(N.a,{className:t.hmodependentsbox},n.createElement(Ri.a,{"data-cy":"terminate_member_conmod_dependents_table",id:"terminate_member_conmod_dependents_table",size:"small"},n.createElement(Li.a,null,n.createElement(Ii.a,null,n.createElement(qn.a,null,"Dependent Name"),n.createElement(qn.a,null,"Relationship"),n.createElement(qn.a,null,"Status"))),n.createElement(Wi.a,null,e.dependents&&e.dependents.length>0?e.dependents.map(function(e,a){return n.createElement(Ii.a,{key:a},n.createElement(qn.a,{component:"th",scope:"row"},n.createElement(se.b,{to:"#",className:t.hmodependentsbox_link},e.first_name+" "+(e.middle_name?e.middle_name.charAt(0)+". ":"")+e.last_name)),n.createElement(qn.a,null,e.relationship_to_principal),n.createElement(qn.a,null,e.member_status))}):n.createElement(Ii.a,null,n.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled dependents")))))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Pc,{"data-cy":"terminate_member_conmod_cancel_btn",id:"terminate_member_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Fc,{"data-cy":"terminate_member_conmod_btn",id:"terminate_member_conmod_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onTerminate(0),e.onClose()}},"Terminate")))))};Ac.defaultProps={isModalOpen:!1};var Bc=bn.UI.InputTextField.InputTextField,Ic={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},Rc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"55vw"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},mnameLabel:{textTransform:"uppercase",fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 0.6)",paddingBottom:4},mnameValue:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},ticketNoLabel:{fontSize:14,fontWeight:400,color:"rgba(39, 49, 76, 1)",paddingBottom:4},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblbox:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129,backgroundColor:"#3AB77D"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),Lc=function(e){var t=e.isModalOpen,a=e.id,r=e.memberName,i=e.dependentData,o=Rc(),l=Object(n.useState)(""),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)([]),u=Object(g.a)(d,2),p=u[0],f=u[1];return n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:o.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:o.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:o.dialogFirstTitle},"Re-activation Details"),n.createElement(ne.a,{"data-cy":"reactive_member_modal_close_btn",id:"reactive_member_modal_close_btn","aria-label":"close",className:o.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:o.dialogContent},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12,md:6},n.createElement(S.a,{className:o.mnameLabel},"Principal"),n.createElement(S.a,{className:o.mnameValue},r)),n.createElement(J.a,{item:!0,xs:12,md:6},n.createElement(S.a,{className:o.ticketNoLabel},"Ticket Number"),n.createElement(Bc,{"data-cy":e.id+"-ticketno",id:e.id+"-ticketno",onChange:function(e){m(e)},error:!1,errorMessage:"",value:c})),n.createElement(J.a,{item:!0,xs:12,style:{marginTop:32,marginBottom:16}},n.createElement(S.a,{className:o.tblTitle},"Dependents"),n.createElement(S.a,{className:o.tblSubtitle},"Choose the dependents to reactivate")),n.createElement(J.a,{item:!0,xs:12},n.createElement(N.a,{className:o.tblbox},n.createElement(Ri.a,{"data-cy":"reactive_member_modal_dependents_table",id:"reactive_member_modal_dependents_table",size:"small"},n.createElement(Li.a,null,n.createElement(Ii.a,null,n.createElement(qn.a,{style:{width:"30%"}},"Member Name"),n.createElement(qn.a,{style:{width:"25%"}},"Relationship"),n.createElement(qn.a,{style:{width:"20%"}},"Termination Date"),n.createElement(qn.a,{style:{width:"25%"}},"Status before Termination"))),n.createElement(Wi.a,null,i&&i.length>0?i.map(function(e,t){return n.createElement(Ii.a,{key:t},n.createElement(qn.a,{component:"th",scope:"row",style:{width:"30%"}},n.createElement(J.a,{container:!0},n.createElement(J.a,{xs:2},n.createElement(G.a,{style:Ic,disabled:!1,checked:p.includes(e._id),onChange:function(){!function(e){if(p.includes(e))f(p.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(p);t.push(e),f(t)}}(e._id)}})),n.createElement(J.a,{xs:1}),n.createElement(J.a,{xs:9},e.first_name+" "+(e.middle_name?e.middle_name.charAt(0)+". ":"")+e.last_name))),n.createElement(qn.a,{style:{width:"25%"}},e.relationship_to_principal),n.createElement(qn.a,{style:{width:"20%"}},"Terminated"===e.member_status&&e.member_termination&&e.member_termination.termination_date&&function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}(e.member_termination.termination_date)?Je()(e.member_termination.termination_date).format("MMM DD, YYYY"):"-"),n.createElement(qn.a,{style:{width:"25%"}},e.member_status))}):n.createElement(Ii.a,null,n.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled dependents")))))))),n.createElement(q.a,{className:o.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"reactive_member_modal_cancel_btn",id:"reactive_member_modal_cancel_btn",className:o.cancelButton,variant:"contained",color:"primary",onClick:function(){e.onClose(),m(""),f([])}},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"reactive_member_modal_btn",id:"reactive_member_modal_btn",className:o.submitButton,variant:"contained",color:"primary",onClick:function(){e.onSubmit({ticketNum:c,selectedMembers:p}),m(""),f([])}},"Reactivate")))))};Lc.defaultProps={isModalOpen:!1,id:"modal-id",memberName:"",dependentData:[]};var Wc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"45vw"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},desc:{fontSize:14,fontWeight:400,color:"rgba(39, 49, 76, 1)"},deschighlight:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblbox:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129,backgroundColor:"#3AB77D"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),zc=function(e){var t=e.isModalOpen,a=e.id,r=e.memberFName,i=e.memberName,o=e.clientName,l=e.dependentData,s=e.data,c=Wc(),m=s&&s.selectedMembers?s.selectedMembers:[];return n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:c.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:c.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:c.dialogFirstTitle},"Confirm Reactivation of Members"),n.createElement("div",{className:c.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"reactive_member_conmod_close_btn",id:"reactive_member_conmod_close_btn","aria-label":"close",className:c.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:c.dialogContent},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12,style:{paddingTop:24}},n.createElement(S.a,{className:c.desc},"Are you sure you want to reactivate the membership of"," ",n.createElement("span",{className:c.deschighlight},i)," in"," ",n.createElement("span",{className:c.deschighlight},o),"?")),n.createElement(J.a,{item:!0,xs:12,style:{marginTop:24,marginBottom:24}},n.createElement(S.a,{className:c.desc},r,"'s dependents will have the following status after reactivation.")),n.createElement(J.a,{item:!0,xs:12},n.createElement(N.a,{className:c.tblbox},n.createElement(Ri.a,{"data-cy":"reactive_member_conmod_dependents_table",id:"reactive_member_conmod_dependents_table",size:"small"},n.createElement(Li.a,null,n.createElement(Ii.a,null,n.createElement(qn.a,{style:{width:"40%"}},"Member Name"),n.createElement(qn.a,{style:{width:"30%"}},"Relationship"),n.createElement(qn.a,{style:{width:"30%"}},"Status"))),n.createElement(Wi.a,null,l&&l.length>0?l.map(function(e,t){return n.createElement(Ii.a,{key:t},n.createElement(qn.a,{component:"th",scope:"row",style:{width:"40%"}},e.first_name+" "+(e.middle_name?e.middle_name.charAt(0)+". ":"")+e.last_name),n.createElement(qn.a,{style:{width:"30%"}},e.relationship_to_principal),n.createElement(qn.a,{style:{width:"30%"}},m.includes(e._id)?"Awaiting Activation":e.member_status))}):n.createElement(Ii.a,null,n.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled dependents")))))))),n.createElement(q.a,{className:c.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"reactive_member_conmod_cancel_btn",id:"reactive_member_conmod_cancel_btn",className:c.cancelButton,variant:"contained",color:"primary",onClick:function(){e.onClose()}},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"reactive_member_conmod_btn",id:"reactive_member_conmod_btn",className:c.submitButton,variant:"contained",color:"primary",onClick:function(){e.onSubmit(s)}},"Reactivate")))))};zc.defaultProps={isModalOpen:!1,id:"modal-id",memberFName:"",memberName:"",dependentData:[],data:{}};var Uc=bn.UI.InputTextField.InputTextField,Yc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"45vw"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},mnameLabel:{textTransform:"uppercase",fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 0.6)",paddingBottom:4},mnameValue:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},ticketNoLabel:{fontSize:14,fontWeight:400,color:"rgba(39, 49, 76, 1)",paddingBottom:4},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblbox:{minHeight:65,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129,backgroundColor:"#3AB77D"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),Vc=function(e){var t=e.isModalOpen,a=e.id,r=e.memberName,i=e.principalData,o=Yc(),l=Object(n.useState)(""),s=Object(g.a)(l,2),c=s[0],m=s[1];return n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:o.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:o.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:o.dialogFirstTitle},"Re-activation Details"),n.createElement("div",{className:o.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"reactive_dependent_modal_close_btn",id:"reactive_dependent_modal_close_btn","aria-label":"close",className:o.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:o.dialogContent},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12,md:6},n.createElement(S.a,{className:o.mnameLabel},"Dependent"),n.createElement(S.a,{className:o.mnameValue},r)),n.createElement(J.a,{item:!0,xs:12,md:6},n.createElement(S.a,{className:o.ticketNoLabel},"Ticket Number"),n.createElement(Uc,{id:e.id+"-ticketno",onChange:function(e){m(e)},error:!1,errorMessage:"",value:c})),n.createElement(J.a,{item:!0,xs:12,style:{marginTop:32,marginBottom:16}},n.createElement(S.a,{className:o.tblTitle},"Principal"),n.createElement(S.a,{className:o.tblSubtitle})),n.createElement(J.a,{item:!0,xs:12},n.createElement(N.a,{className:o.tblbox},n.createElement(Ri.a,{"data-cy":"reactive_dependent_modal_principal_table",id:"reactive_dependent_modal_principal_table",size:"small"},n.createElement(Li.a,null,n.createElement(Ii.a,null,n.createElement(qn.a,{style:{width:"40%"}},"Member Name"),n.createElement(qn.a,{style:{width:"30%"}},"Relationship"),n.createElement(qn.a,{style:{width:"30%"}},"Status"))),n.createElement(Wi.a,null,i&&i.length>0?i.map(function(e,t){return n.createElement(Ii.a,{key:t},n.createElement(qn.a,{component:"th",scope:"row",style:{width:"40%"}},e.first_name+" "+(e.middle_name?e.middle_name.charAt(0)+". ":"")+e.last_name),n.createElement(qn.a,{style:{width:"30%"}},e.relationship_to_principal),n.createElement(qn.a,{style:{width:"30%"}},e.member_status))}):n.createElement(Ii.a,null,n.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled principal")))))))),n.createElement(q.a,{className:o.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"reactive_dependent_modal_cancel_btn",id:"reactive_dependent_modal_cancel_btn",className:o.cancelButton,variant:"contained",color:"primary",onClick:function(){e.onClose(),m("")}},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"reactive_dependent_modal_btn",id:"reactive_dependent_modal_btn",className:o.submitButton,variant:"contained",color:"primary",onClick:function(){e.onSubmit({ticketNum:c}),m("")}},"Reactivate")))))};Vc.defaultProps={isModalOpen:!1,id:"modal-id",memberName:"",principalData:[]};var Hc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"45vw"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},desc:{fontSize:14,fontWeight:400,color:"rgba(39, 49, 76, 1)"},deschighlight:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblbox:{minHeight:65,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129,backgroundColor:"#3AB77D"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),qc=function(e){var t=e.isModalOpen,a=e.id,r=e.memberName,i=e.clientName,o=e.principalData,l=e.data,s=Hc();return n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:s.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:s.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:s.dialogFirstTitle},"Confirm Reactivation of Members"),n.createElement("div",{className:s.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"reactive_dependent_conmod_close_btn",id:"reactive_dependent_conmod_close_btn","aria-label":"close",className:s.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:s.dialogContent},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12,style:{paddingTop:24}},n.createElement(S.a,{className:s.desc},"Are you sure you want to reactivate the membership of ",n.createElement("span",{className:s.deschighlight},r)," in ",n.createElement("span",{className:s.deschighlight},i),"?")),n.createElement(J.a,{item:!0,xs:12,style:{marginTop:32,marginBottom:16}},n.createElement(S.a,{className:s.tblTitle},"Principal"),n.createElement(S.a,{className:s.tblSubtitle})),n.createElement(J.a,{item:!0,xs:12},n.createElement(N.a,{className:s.tblbox},n.createElement(Ri.a,{"data-cy":"reactive_dependent_conmod_principal_table",id:"reactive_dependent_conmod_principal_table",size:"small"},n.createElement(Li.a,null,n.createElement(Ii.a,null,n.createElement(qn.a,{style:{width:"40%"}},"Member Name"),n.createElement(qn.a,{style:{width:"30%"}},"Relationship"),n.createElement(qn.a,{style:{width:"30%"}},"Status"))),n.createElement(Wi.a,null,o&&o.length>0?o.map(function(e,t){return n.createElement(Ii.a,{key:t},n.createElement(qn.a,{component:"th",scope:"row",style:{width:"40%"}},e.first_name+" "+(e.middle_name?e.middle_name.charAt(0)+". ":"")+e.last_name),n.createElement(qn.a,{style:{width:"30%"}},e.relationship_to_principal),n.createElement(qn.a,{style:{width:"30%"}},e.member_status))}):n.createElement(Ii.a,null,n.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled principal")))))))),n.createElement(q.a,{className:s.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"reactive_dependent_conmod_cancel_btn",id:"reactive_dependent_conmod_cancel_btn",className:s.cancelButton,variant:"contained",color:"primary",onClick:function(){e.onClose()}},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"reactive_dependent_conmod_btn",id:"reactive_dependent_conmod_btn",className:s.submitButton,variant:"contained",color:"primary",onClick:function(){e.onSubmit(l)}},"Reactivate")))))};qc.defaultProps={isModalOpen:!1,id:"modal-id",memberName:"",principalData:[],data:{}};var Gc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),Jc=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),Kc=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Xc=function(e){var t=Gc(),a=e.isModalOpen,r=e.id;return n.createElement(U.a,{id:r,maxWidth:!1,open:a,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Confirm Membership Activation"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"activate_member_modal_close_btn",id:"activate_member_modal_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,null,"Are you sure you want to activate the membership of this account?"))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Kc,{"data-cy":"activate_member_modal_cancel_btn",id:"activate_member_modal_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Jc,{"data-cy":"activate_member_modal_btn",id:"activate_member_modal_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onActivate(r),e.onClose()}},"Activate")))))};Xc.defaultProps={isModalOpen:!1,id:"modal-id"};var Zc=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),Qc=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),$c=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),em=function(e){var t=Zc(),a=e.isModalOpen,r=e.id;return n.createElement(U.a,{id:r,maxWidth:!1,open:a,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Confirm Membership Cancellation"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"cancel_member_modal_close_btn",id:"cancel_member_modal_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,null,"Are you sure you want to cancel the membership of this account?"))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement($c,{"data-cy":"cancel_member_modal_cancel_btn",id:"cancel_member_modal_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Qc,{"data-cy":"cancel_member_modal_btn",id:"cancel_member_modal_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onActivate(r),e.onClose()}},"Proceed")))))};em.defaultProps={isModalOpen:!1,id:"modal-id"};var tm=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),am=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),nm=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),rm=function(e){var t=tm(),a=e.isModalOpen,r=e.id;return n.createElement(U.a,{id:r,maxWidth:!1,open:a,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Confirm Awaiting Activation Membership"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"await_activation_close_btn",id:"await_activation_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,null,'Are you sure you want to change the membership of this account to "Awaiting Activation"?'))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(nm,{"data-cy":"await_activation_cancel_btn",id:"await_activation_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(am,{"data-cy":"await_activation_proceed_btn",id:"await_activation_proceed_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onActivate(r),e.onClose()}},"Proceed")))))};rm.defaultProps={isModalOpen:!1,id:"modal-id"};var im=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),om=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),lm=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),sm=function(e){var t=im(),a=e.isModalOpen,r=e.id;return n.createElement(U.a,{id:r,maxWidth:!1,open:a,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Confirm Disapprove Membership"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"disapprove_member_modal_close_btn",id:"disapprove_member_modal_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,null,"Are you sure you want to disapprove the membership of this account?"))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(lm,{"data-cy":"disapprove_member_modal_cancel_btn",id:"disapprove_member_modal_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(om,{"data-cy":"disapprove_member_modal_btn",id:"disapprove_member_modal_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onActivate(r),e.onClose()}},"Disapprove")))))};sm.defaultProps={isModalOpen:!1,id:"modal-id"};var cm=a(2116),mm=a(2103),dm=a(2104),um=bn.UI.InputSelect.InputSelect,pm=bn.UI.InputTextField.InputTextField,fm=[{id:0,value:"",label:"None"},{id:1,value:"Sr.",label:"Sr."},{id:2,value:"Jr.",label:"Jr."},{id:3,value:"I",label:"I"},{id:4,value:"II",label:"II"},{id:5,value:"III",label:"III"},{id:6,value:"IV",label:"IV"},{id:7,value:"V",label:"V"},{id:8,value:"Others",label:"Others"}],bm=[{id:0,value:"Male",label:"Male"},{id:1,value:"Female",label:"Female"},{id:2,value:"Unidentified",label:"Unidentified"}],gm=[{id:0,value:"Single",label:"Single"},{id:1,value:"Married",label:"Married"},{id:2,value:"Single Parent",label:"Single Parent"},{id:3,value:"Annulled",label:"Annulled"},{id:4,value:"Widowed",label:"Widowed"},{id:5,value:"Divorced",label:"Divorced"},{id:6,value:"Separated",label:"Separated"},{id:7,value:"Unidentified",label:"Unidentified"}],_m=[{id:0,value:"Mother",label:"Mother"},{id:1,value:"Father",label:"Father"},{id:2,value:"Brother",label:"Brother"},{id:3,value:"Sister",label:"Sister"},{id:4,value:"Husband",label:"Husband"},{id:5,value:"Wife",label:"Wife"},{id:6,value:"Son",label:"Son"},{id:7,value:"Daughter",label:"Daughter"},{id:8,value:"Grandmother",label:"Grandmother"},{id:9,value:"Grandfather",label:"Grandfather"},{id:10,value:"Grandson",label:"Grandson"},{id:11,value:"Granddaughter",label:"Granddaughter"},{id:12,value:"Common Law Partner",label:"Common Law Partner"},{id:13,value:"Same Sex Partner",label:"Same Sex Partner"},{id:14,value:"Auntie",label:"Auntie"},{id:15,value:"Uncle",label:"Uncle"},{id:16,value:"Niece",label:"Niece"},{id:17,value:"Nephew",label:"Nephew"},{id:18,value:"Cousin",label:"Cousin"},{id:19,value:"Household Help",label:"Household Help"}],hm=function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())},vm=Object(y.a)({disabledhmoname:{fontSize:"0.875rem",color:"rgba(39, 46, 76, 0.4)",paddingBottom:4},enabledhmoname:{fontSize:"0.875rem",color:"#151C1B",paddingBottom:4}}),Em=function(e){var t=vm(e),a=e.error?e.name+" is required/invalid":"";return n.createElement(J.a,{xs:12,container:!0,alignItems:"flex-start",style:{paddingTop:12,paddingBottom:12,paddingRight:24}},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:e.disabled?t.disabledhmoname:t.enabledhmoname},e.name)),n.createElement(J.a,{item:!0,xs:12},n.createElement(pm,{"data-cy":e.name?"hmo_field_"+e.name.toLowerCase().replace(" ","_"):"",id:e.name?"hmo_field_"+e.name.toLowerCase().replace(" ","_"):"",disabled:e.disabled,onChange:e.handleChange,error:e.error,errorMessage:a,value:e.value})))};Em.defaultProps={disabled:!1,name:"",value:"",error:!1,handleChange:function(){}};var ym={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},xm=Object(y.a)({disabledhmoname:{fontSize:"0.875rem",color:"rgba(39, 46, 76, 0.4)",paddingBottom:4},enabledhmoname:{fontSize:"0.875rem",color:"#151C1B",paddingBottom:4}}),Om=function(e){var t=xm(e);return n.createElement(J.a,{container:!0,alignItems:"center",style:{paddingTop:50,paddingBottom:12,paddingRight:24}},n.createElement(J.a,{item:!0,xs:2},n.createElement(G.a,{"data-cy":e.name?"hmo_checkbox_"+e.name.toLowerCase().replace(" ","_"):"",id:e.name?"hmo_checkbox_"+e.name.toLowerCase().replace(" ","_"):"",style:ym,disabled:e.disabled,checked:e.checked,onChange:e.handleChange})),n.createElement(J.a,{item:!0,xs:10,style:{marginTop:4}},n.createElement(S.a,{className:e.disabled?t.disabledhmoname:t.enabledhmoname},e.name)))};Om.defaultProps={disabled:!1,name:"",checked:!1,handleChange:function(){}};var Cm=Object(y.a)({disabledhmoname:{fontSize:"0.875rem",color:"rgba(39, 46, 76, 0.4)",paddingBottom:4},enabledhmoname:{fontSize:"0.875rem",color:"#151C1B",paddingBottom:4}}),Sm=function(e){var t=Cm(e);return n.createElement(J.a,{xs:12,container:!0,alignItems:"flex-start",style:{paddingTop:12,paddingBottom:12,paddingRight:24}},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:e.disabled?t.disabledhmoname:t.enabledhmoname},e.name)),n.createElement(J.a,{item:!0,xs:12},n.createElement(um,{"data-cy":e.name?"hmo_select_"+e.name.toLowerCase().replace(" ","_"):"",id:e.name?"hmo_select_"+e.name.toLowerCase().replace(" ","_"):"",data:e.options,value:e.value,required:!0,onChange:function(t){e.handleChange(t)}})))};Sm.defaultProps={name:"",value:void 0,options:[],disabled:!1,handleChange:function(){}};var wm=Object(y.a)({disabledhmoname:{fontSize:"0.875rem",color:"rgba(39, 46, 76, 0.4)",paddingBottom:4},enabledhmoname:{fontSize:"0.875rem",color:"#151C1B",paddingBottom:4},error:{color:"#E53935",fontSize:"12px"},errorIcon:{color:"#E53935",fontSize:"small",float:"right"}}),km=function(e){var t=wm(e),a=e.error?e.name+" is required/invalid":"";return n.createElement(J.a,{xs:12,container:!0,alignItems:"flex-start",style:{paddingTop:12,paddingBottom:4,paddingRight:24}},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:e.disabled?t.disabledhmoname:t.enabledhmoname},e.name)),n.createElement(J.a,{item:!0,xs:12},n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{"data-cy":e.name?"hmo_picker_"+e.name.toLowerCase().replace(" ","_"):"",id:e.name?"hmo_picker_"+e.name.toLowerCase().replace(" ","_"):"",className:e.error?"edithmo-date-picker-error":"edithmo-date-picker",variant:"inline",format:"MM/DD/YYYY",autoOk:!0,value:e.value,onChange:function(t){e.handleChange(t?t.toDate():null)}})),e.error&&n.createElement("div",null,n.createElement(R.a,{className:t.error},a,n.createElement(W.a,{className:t.errorIcon})))))},jm=function(e){return"date"===e.type?n.createElement(km,{disabled:e.disabled,name:e.label,error:e.error,value:e.value?e.value:null,handleChange:function(t){e.handleChange(t?t.toString():"")}}):n.createElement(Em,{disabled:e.disabled,error:e.error,name:e.label,value:e.value?e.value:"",handleChange:function(t){e.handleChange(t?t.toString():"")}})},Nm=Object(y.a)({formtitle:{fontSize:"1.125rem",fontWeight:600},formsubtitle:{fontSize:"0.9375rem",fontWeight:600},formdesc:{fontSize:"0.875rem",color:"rgba(39, 46, 76, 0.6)"},hmocheckboxlabel:{fontSize:"0.75rem",color:"rgb(39, 46, 76)"},hmographsubtitle:{fontSize:"0.75rem",textTransform:"uppercase",color:"rgb(39, 46, 76, 0.6)",marginBottom:16},hmodependentsbox:{height:175,borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmoremarksbox:{height:175,borderRadius:8,backgroundColor:"#FFFFFF",overflow:"hidden",border:"1px solid #272E4C4D"},hmodependentsbox_link:{color:"rgb(39, 46, 76)"}}),Dm=function(e){var t=Nm(e),a=e.memberData,r=e.clientData,i=e.contractName,o=e.editMemberValues,l=e.clientFields,s=e.errorFields,c=e.dependentsErrorFields,m=e.plan_type_options,d=e.MBL,u=e.ABL,p=e.PEC,f=o.dependents,b=Object.keys(f).map(function(t){var a=f[t],r=c&&c[t]?c[t]:[];return n.createElement(cm.a,{key:t,style:{boxShadow:"none"}},n.createElement(mm.a,{className:Object(tt.default)(a.index%2?"em-dependent-odd-summary":"em-dependent-even-summary"),"data-cy":"panel"+a.index+"-header",id:"panel"+a.index+"-header","aria-controls":"panel"+a.index+"-content",expandIcon:n.createElement(ze.a,null)},n.createElement(S.a,{className:Object(tt.default)("em-dependent-header")},function(e){var t=e%10,a=e%100;return 1===t&&11!==a?e+"st":2===t&&12!==a?e+"nd":3===t&&13!==a?e+"rd":e+"th"}(a.index+1)+" Dependent")),n.createElement(dm.a,null,n.createElement(J.a,{container:!0,direction:"row",style:{paddingLeft:16,paddingRight:16,paddingBottom:24}},n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(Em,{name:"First Name",value:a.first_name?a.first_name:"",error:r.includes("first_name"),handleChange:function(a){e.handleDependentsChange(t,"first_name",a)}})),n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(Em,{name:"Middle Name",value:a.middle_name?a.middle_name:"",handleChange:function(a){e.handleDependentsChange(t,"middle_name",a)}})),n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(Em,{name:"Last Name",value:a.last_name?a.last_name:"",error:r.includes("last_name"),handleChange:function(a){e.handleDependentsChange(t,"last_name",a)}})),n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(Em,{name:"Title",value:a.title,handleChange:function(a){e.handleDependentsChange(t,"title",a)}})),n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(Sm,{name:"Suffix",value:a.suffix,options:fm,handleChange:function(a){e.handleDependentsChange(t,"suffix",a.value)}})),n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(km,{name:"Birthday",value:a.date_of_birth,error:r.includes("date_of_birth"),handleChange:function(a){e.handleDependentsChange(t,"date_of_birth",a?a.toString():"")}})),n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(Sm,{name:"Civil Status",value:a.civil_status,options:gm,handleChange:function(a){e.handleDependentsChange(t,"civil_status",a.value)}})),n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(Sm,{name:"Gender",value:a.gender,options:bm,handleChange:function(a){e.handleDependentsChange(t,"gender",a.value)}})),n.createElement(J.a,{item:!0,xs:12,md:3},n.createElement(Sm,{name:"Relationship to Principal",value:a.relationship_to_principal,options:_m,handleChange:function(a){e.handleDependentsChange(t,"relationship_to_principal",a.value)}})))))}),g=[];l&&l.length>0&&l.forEach(function(t,a){"registered_name"===t.field_name||"name_on_card"===t.field_name?g.push(n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{key:"hmo_field_item".concat(a),disabled:!0,name:t.system_name,value:Object(Tn.get)(r,t.field_name,"")}))):"regularization_date"===t.field_name?g.push(n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(jm,{key:"hmo_field_item".concat(a),label:t.system_name,fieldname:t.field_name,value:Object(Tn.get)(o,t.field_name,""),type:"date",disabled:!t.is_editable,error:s&&s.includes(t.field_name),handleChange:function(a){e.handleClientFieldChange(t.field_name,a,t.input_type)}}))):g.push(n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(jm,{key:"hmo_client_field".concat(a),label:t.system_name,fieldname:t.field_name,value:Object(Tn.get)(o,t.field_name,""),type:t.input_type,disabled:!t.is_editable,error:s&&s.includes(t.field_name),handleChange:function(a){e.handleClientFieldChange(t.field_name,a,t.input_type)}})))});return n.createElement(J.a,{container:!0,style:{paddingLeft:32,paddingRight:80,paddingBottom:80}},n.createElement(J.a,{item:!0,xs:12,style:{paddingTop:16,paddingBottom:16}},n.createElement(S.a,{className:t.formtitle,color:"textPrimary"},"Edit Member Details")),n.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:8}},n.createElement(S.a,{className:t.formsubtitle,color:"textPrimary"},"HMO Information")),n.createElement(J.a,{item:!0,container:!0,direction:"row",xs:12,style:{paddingTop:0,paddingBottom:0}},n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!1,error:s&&s.includes("first_name"),name:"First Name",value:o&&o.first_name?o.first_name:"",handleChange:function(t){e.handleTextChange("first_name",t)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!1,name:"Middle Name",value:o&&o.middle_name?o.middle_name:"",handleChange:function(t){e.handleTextChange("middle_name",t)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!1,error:s&&s.includes("last_name"),name:"Last Name",value:o&&o.last_name?o.last_name:"",handleChange:function(t){e.handleTextChange("last_name",t)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Sm,{name:"Suffix",value:o&&o.suffix?o.suffix:"",options:fm,handleChange:function(t){e.handleSelectChange("suffix",t,!1)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Sm,{name:"Civil Status",value:o&&o.civil_status?o.civil_status:"",options:gm,handleChange:function(t){e.handleSelectChange("civil_status",t,!1)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Sm,{name:"Gender",value:o&&o.gender?o.gender:"",options:bm,handleChange:function(t){e.handleSelectChange("gender",t)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(jm,{key:"Birthdate",label:"Birthdate",fieldname:"date_of_birth",value:o&&o.date_of_birth?o.date_of_birth:"",type:"date",disabled:!1,error:s&&s.includes("date_of_birth"),handleChange:function(t){e.handleClientFieldChange("date_of_birth",t,"date")}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!1,error:s&&s.includes("title"),name:"Title",value:o&&o.title?o.title:"",handleChange:function(t){e.handleTextChange("title",t)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(jm,{key:"Effectivity Date",label:"Effectivity Date",fieldname:"effectivity_date",value:o&&o.effectivity_date?o.effectivity_date:"",type:"date",disabled:!1,error:s&&s.includes("effectivity_date"),handleChange:function(t){e.handleClientFieldChange("effectivity_date",t,"date")}})),a&&a.member_type&&("Dependent"===a.member_type||"Extended Dependent"===a.member_type)?n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,error:s&&s.includes("principal_name"),name:"Principal Name",value:o&&o.principal_name?o.principal_name:"",handleChange:function(t){e.handleTextChange("principal_name",t)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Sm,{disabled:!0,name:"Relationship to Principal",value:o&&o.relationship_to_principal?o.relationship_to_principal:"",options:_m,handleChange:function(t){e.handleSelectChange("relationship_to_principal",t)}}))):null,n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Member Account No.",value:Object(Tn.get)(a,"member_account_no","")})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Member ID",value:a?a.member_id:""})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Contract",value:i})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Member Card No.",value:function(){if(!a)return"";if(!Object(Tn.get)(a,"can_display_card_no",!1))return"";var e=Object(Tn.get)(a,"member_card_no",null),t=Object(Tn.get)(a,"date_printed",null);if(Object(Tn.isNil)(e)||Object(Tn.isNil)(t))return"";var n=function(e){var t=["MM/DD/YYYY","YYYY/MM/DD","MM/DD/YY"],a=Object(Tn.find)(t,function(t){var a=Je()(e,t,!0);return!Object(Tn.isNil)(a)&&a.isValid()});return Object(Tn.isNil)(a)?null:Je()(e,a,!0)}(t);return!Object(Tn.isNil)(n)&&n.valueOf()<=Je()().valueOf()?e:""}()})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Date Printed",value:a&&hm(a.date_printed)?Je()(a.date_printed).format("MMM DD, YYYY"):""})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Contract Plan Type",value:Object(Tn.get)(e.planTypeNode,"custom_metadata.contract_plan_type","")})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Contract Renewal Date",value:""})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Contract Expiration Date",value:"-"!==Object(Tn.get)(e.mctNode,"custom_metadata.coverage_end_date","-")?Je()(e.mctNode.custom_metadata.coverage_end_date).format("MMM DD, YYYY"):""})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Last day of Effectivity",value:function(){if("Terminated"!==Object(Tn.get)(a,"member_status",""))return"-"!==Object(Tn.get)(e.mctNode,"custom_metadata.coverage_end_date","-")?Je()(e.mctNode.custom_metadata.coverage_end_date).format("MMM DD, YYYY"):"";var t=Object(Tn.get)(a,"member_termination.termination_date",null);if(!Object(Tn.isNil)(t)){var n=Je()(t);if(!Object(Tn.isNil)(n)&&n.isValid())return n.add(-1,"days").format("MMM DD, YYYY")}return""}()})),"Terminated"===Object(Tn.get)(a,"member_status","")?n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Termination Date",value:function(){var e=Object(Tn.get)(a,"member_termination.termination_date",null);if(!Object(Tn.isNil)(e)){var t=Je()(e);if(!Object(Tn.isNil)(t)&&t.isValid())return t.format("MMM DD, YYYY")}return""}()})):null,"Suspended"===Object(Tn.get)(a,"member_status","")?n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Suspension Date",value:function(){var e=Object(Tn.get)(a,"member_suspension.suspension_start_date",null);if(!Object(Tn.isNil)(e)){var t=Je()(e);if(!Object(Tn.isNil)(t)&&t.isValid())return t.format("MMM DD, YYYY")}return""}()})):null,n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"MBL",value:d||""})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"ABL",value:u||""})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"PEC",value:p||""})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Sm,{name:"Plan Type",value:o.plan_type,options:m,handleChange:function(t){e.handleSelectChange("plan_type",t)}})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Member Type",value:a?a.member_type:""})),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(Em,{disabled:!0,name:"Batch Process No.",value:Object(Tn.get)(a,"batch_name","")})),g),n.createElement(J.a,{item:!0,xs:12,md:4,style:{paddingTop:0,paddingBottom:0}},n.createElement(Om,{name:"VIP Member",checked:o.is_vip,handleChange:function(){e.handleCheckboxChange("is_vip")}})),n.createElement(J.a,{item:!0,xs:12,md:4,style:{paddingTop:0,paddingBottom:0}},n.createElement(Om,{name:"Philhealth Rider",checked:o.is_philhealth_rider,handleChange:function(){e.handleCheckboxChange("is_philhealth_rider")}})),n.createElement(J.a,{item:!0,xs:12,md:4,style:{paddingTop:0,paddingBottom:0}}),n.createElement(J.a,{item:!0,xs:12,style:{paddingTop:24,paddingBottom:16}},n.createElement(S.a,{className:t.formsubtitle,color:"textPrimary"},"Dependent Information")),n.createElement(J.a,{item:!0,xs:12,md:12},Object.keys(f).length>0?b:n.createElement(S.a,{className:t.formdesc,style:{paddingTop:8,paddingBottom:8},color:"textPrimary"},"No enrolled dependents.")))};Dm.defaultProps={memberData:{},contractName:"",MBL:"",ABL:"",PEC:""};var Tm=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},hmodependentsbox:{height:175,borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmodependentsbox_link:{color:"rgb(39, 46, 76)"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",maxWidth:"400px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#24B070",color:"#24B070"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),Mm=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#24B070","&:hover":{backgroundColor:"#25ba77"}}})(z.a),Fm=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Pm=function(e){var t=Tm();return n.createElement(U.a,{maxWidth:!1,open:e.isModalOpen,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Confirm Cancelling of Termination"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"cancel_termination_conmod_close_btn",id:"cancel_termination_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,null,"Are you sure you want to cancel the termination of membership of",n.createElement("span",{style:{fontWeight:"bold"}}," ".concat(e.memberData?e.memberData.first_name+" "+e.memberData.last_name:""))," in",n.createElement("span",{style:{fontWeight:"bold"}}," ".concat(e.clientRegisteredName?e.clientRegisteredName:"","? "))," This member and the",n.createElement("span",{style:{fontWeight:"bold"}}," ".concat(e.numDependents?e.numDependents:""," dependent(s) ")),"will continue to have their benefits coverage."))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Fm,{"data-cy":"cancel_termination_conmod_cancel_btn",id:"cancel_termination_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Mm,{"data-cy":"cancel_termination_conmod_btn",id:"cancel_termination_conmod_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onCancelTermination(e.memberData._id),e.onClose()}},"Cancel Termination")))))};Pm.defaultProps={isModalOpen:!1};var Am={tabs:[{indicator:"principal",label:"Principals with no Cards"},{indicator:"dependent",label:"Dependents with no Cards"},{indicator:"all",label:"All Members with no Cards"},{indicator:"allwithcards",label:"All Members with Cards"}]},Bm={batchesWrapper:Object(y.a)(function(e){return{container:{padding:e.spacing(3)},body:{padding:e.spacing(3),marginTop:e.spacing(2),backgroundColor:"#F5F7FB"},generateLink:{fontSize:16,fontWeight:600,color:"#3AB77D"},subHeading:{fontSize:16,fontWeight:600,marginBottom:e.spacing(1)},label:{fontWeight:300},value:{marginTop:e.spacing(1),fontSize:17},tabs:{marginTop:e.spacing(5)},tab:{fontSize:14,fontWeight:300,color:"#272E4C",cursor:"pointer"},activeTab:{color:"#3AB77D",fontWeight:600,textDecoration:"underline"},leftButton:{height:"40px",minWidth:"215px",backgroundColor:"#3AB77D",color:"#FFFFFF","&:disabled":{backgroundColor:"rgba(58, 183, 125, 0.6)"}},info:{fontSize:14,paddingBottom:e.spacing(3)},printButtons:{marginTop:e.spacing(4)},modalButtonLeft:{height:"40px",minWidth:"125px",border:"1px solid #3AB77D",color:"#3AB77D",textTransform:"capitalize"},modalButtonRight:{height:"40px",minWidth:"125px",backgroundColor:"#3AB77D",color:"#FFFFFF"},modalButtonContainerLeft:{textAlign:"right"},modalButtonContainerRight:{textAlign:"left"},datePicker:{},datePickerError:{},tableForPrinting:{marginBottom:e.spacing(2)},preview:{fontSize:13,textDecoration:"underline"},read:{color:"#3AB77D",fontSize:16,textDecoration:"underline",marginTop:e.spacing(1),fontWeight:600},radioGroup:{flexDirection:"row"},modalInfo:{fontSize:14,fontWeight:300,marginLeft:"5px"},radioInfo:{fontSize:14,color:"#1e2071",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},formRadioLabel:{fontSize:14,lineHeight:"14px",marginLeft:"5px"},formLabel:{fontSize:14,lineHeight:"14px"},formControl:{marginTop:"10px",marginBottom:"20px"},fileupload:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"2px",borderRadius:"5px",borderColor:"#7b8094",borderStyle:"dashed",color:"#7b8099",outline:"none",cursor:"pointer",backgroundColor:"#E6E8EE",transition:"border .24s ease-in-out",padding:"8px",width:"100%",height:"65px",textAlign:"center"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},switchreactivate:{"&.Mui-checked":{color:"#1E2071"}}}}),tableStyles:Object(y.a)(function(e){return{container:{paddingTop:e.spacing(2)}}}),modalStyles:Object(y.a)(function(e){return{container:{padding:e.spacing(3)},closeButton:{textAlign:"right",padding:e.spacing(2),paddingBottom:e.spacing(0),cursor:"pointer"}}})},Im=[{title:"Member Card No.",name:"member_card_no"},{title:"Last Name",name:"last_name"},{title:"First Name",name:"first_name"},{title:"Middle Name",name:"middle_name"},{title:"Status",name:"member_status"},{title:"Effective Date",name:"effectivity_date",getCellValue:function(e){return e.effectivity_date?qr.toCommonDateString(new Date(e.effectivity_date)):""}},{title:"Gender",name:"gender"},{title:"Batch No.",name:"batch_name"},{title:"Site",name:"site"},{title:"Floor",name:"floor"}],Rm=[{title:"Member Card No.",name:"member_card_no"},{title:"Last Name",name:"last_name"},{title:"First Name",name:"first_name"},{title:"Middle Name",name:"middle_name"},{title:"Status",name:"member_status"},{title:"Effective Date",name:"effectivity_date",getCellValue:function(e){return e.effectivity_date?qr.toCommonDateString(new Date(e.effectivity_date)):""}},{title:"Principal",name:"principal"},{title:"Gender",name:"gender"},{title:"Batch No.",name:"batch_name"},{title:"Site",name:"site"},{title:"Floor",name:"floor"}],Lm=[{title:"Member Card No.",name:"member_card_no"},{title:"Last Name",name:"last_name"},{title:"First Name",name:"first_name"},{title:"Middle Name",name:"middle_name"},{title:"Status",name:"member_status"},{title:"Effective Date",name:"effectivity_date",getCellValue:function(e){return e.effectivity_date?qr.toCommonDateString(new Date(e.effectivity_date)):""}},{title:"Type",name:"member_type"},{title:"Gender",name:"gender"},{title:"Batch No.",name:"batch_name"}],Wm=[{title:"Member Card No.",name:"member_card_no"},{title:"Last Name",name:"last_name"},{title:"First Name",name:"first_name"},{title:"Middle Name",name:"middle_name"},{title:"Status",name:"member_status"},{title:"Effective Date",name:"effectivity_date",getCellValue:function(e){return e.effectivity_date?qr.toCommonDateString(new Date(e.effectivity_date)):""}},{title:"Type",name:"member_type"},{title:"Gender",name:"gender"},{title:"Batch No.",name:"batch_name"}],zm=[{columnName:"member_card_no",wordWrapEnabled:!0},{columnName:"effectivity_date",wordWrapEnabled:!0}],Um=[{title:"Batch No.",name:"batch_name"},{title:"Count",name:"count"},{title:"Site",name:"site"},{title:"Preview",name:"preview"}],Ym=[{name:"Email",value:"email"},{name:"Ticket",value:"ticket"},{name:"Portal",value:"portal"},{name:"Fax",value:"fax"}],Vm=[{name:"Defective Card",value:"defective"},{name:"Lost Card",value:"lost_card"},{name:"Correction in Data",value:"data_correction"},{name:"Others",value:"other"}],Hm=function(e){var t=e.visibility,a=e.children,n=e.close,i=e.title,o=e.modalstyle,l=e.noMaxWidth,s=e.noCloseButton,c=Bm.modalStyles();return r.a.createElement(U.a,{onClose:n,"aria-labelledby":"print-modal",open:t,maxWidth:!l&&"md"},r.a.createElement(V.a,{style:o||{}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:s?12:10,className:c.closeButton,style:{textAlign:"left",cursor:"auto"}},i||""),s?null:r.a.createElement(J.a,{item:!0,xs:2,className:c.closeButton},r.a.createElement(Xe.a,{onClick:n}))),r.a.createElement("div",{className:c.container},a)))},qm={batchesWrapper:Object(y.a)(function(e){return{container:{padding:e.spacing(3)},body:{padding:e.spacing(3),marginTop:e.spacing(2),backgroundColor:"#F5F7FB"},subHeading:{fontSize:16,fontWeight:600,marginBottom:e.spacing(1)},label:{fontWeight:300},value:{marginTop:e.spacing(1),fontSize:17},tabs:{marginTop:e.spacing(5)},tab:{fontSize:14,fontWeight:300,color:"#272E4C",cursor:"pointer"},activeTab:{color:"#3AB77D",fontWeight:600,textDecoration:"underline"},leftButton:{height:"40px",minWidth:"215px",backgroundColor:"#3AB77D",color:"#FFFFFF","&:disabled":{backgroundColor:"rgba(58, 183, 125, 0.6)"}},info:{fontSize:14,paddingBottom:e.spacing(3)},printButtons:{marginTop:e.spacing(4)},modalButtonLeft:{height:"40px",minWidth:"125px",border:"1px solid #3AB77D",color:"#3AB77D",textTransform:"capitalize"},modalButtonRight:{height:"40px",minWidth:"125px",backgroundColor:"#3AB77D",color:"#FFFFFF"},modalButtonContainerLeft:{textAlign:"right"},modalButtonContainerRight:{textAlign:"left"},datePicker:{},datePickerError:{},tableForPrinting:{marginBottom:e.spacing(2)},preview:{fontSize:13,textDecoration:"underline"},read:{color:"#3AB77D",fontSize:16,textDecoration:"underline",marginTop:e.spacing(1),fontWeight:600},radioGroup:{flexDirection:"row"},modalInfo:{fontSize:14,fontWeight:300,marginLeft:"5px"},radioInfo:{fontSize:14,color:"#1e2071",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},formRadioLabel:{fontSize:14,lineHeight:"14px",marginLeft:"5px"},formLabel:{fontSize:14,lineHeight:"14px"},formControl:{marginTop:"10px",marginBottom:"20px"},fileupload:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"2px",borderRadius:"5px",borderColor:"#7b8094",borderStyle:"dashed",color:"#7b8099",outline:"none",cursor:"pointer",backgroundColor:"#E6E8EE",transition:"border .24s ease-in-out",padding:"8px",width:"100%",height:"65px",textAlign:"center"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}}}}),tableStyles:Object(y.a)(function(e){return{container:{paddingTop:e.spacing(2)}}}),modalStyles:Object(y.a)(function(e){return{container:{padding:e.spacing(3)},closeButton:{textAlign:"right",padding:e.spacing(2),paddingBottom:e.spacing(0),cursor:"pointer"}}})},Gm=[{name:"Email",value:"email"},{name:"Ticket",value:"ticket"},{name:"Portal",value:"portal"},{name:"Fax",value:"fax"}],Jm=[{name:"Death",value:"death"},{name:"Resignation",value:"resignation"},{name:"Non-affiliation",value:"non-affiliation"},{name:"Enrolment to other HMO",value:"other_hmo"},{name:"Other",value:"other"}],Km=function(e){var t=qm.batchesWrapper(),a=Object(n.useState)(new Date),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(!1),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(!1),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Object(n.useState)(""),x=Object(g.a)(y,2),O=x[0],C=x[1],w=Object(n.useState)(!1),k=Object(g.a)(w,2),j=k[0],N=k[1],D=Object(n.useState)(""),T=Object(g.a)(D,2),M=T[0],F=T[1],P=Object(n.useState)(!1),A=Object(g.a)(P,2),B=A[0],I=A[1];Object(n.useEffect)(function(){e.modalVisibility&&R()},[e.modalVisibility]);var R=function(){l(new Date),d(!1),b(""),E(!1),F(""),I(!1),C(""),N(!1)},L=function(){e.modalClose()};return r.a.createElement(Hm,{visibility:e.modalVisibility,close:L},r.a.createElement(S.a,{className:t.subHeading},"Endorsement Details"),r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Date Sent:"),r.a.createElement(_r.a,{"data-cy":"endorse_modal_datesent_picker",id:"endorse_modal_datesent_picker",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px",marginRight:"32px"},maxDate:new Date,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:o,initialFocusedDate:o||new Date,onChange:function(e){var t=e?e.toDate():null;l(t),d(null===t)},error:m}))),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(Mi,{"data-cy":"endorse_modal_sentvia_select",id:"endorse_modal_sentvia_select",marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",label:"Sent via",menuItems:Gm,width:"85%",value:f,onChange:function(e){var t=e.target.value;b(t),E(0===t.length)},error:v})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(Di,{"data-cy":"endorse_modal_endorsed_field",id:"endorse_modal_endorsed_field",label:"Endorsed by",labelFontSize:"14px",value:O,onChange:function(e){var t=e.target.value;C(t),N(0===t.length)},error:j,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(Mi,{"data-cy":"endorse_modal_reason_select",id:"endorse_modal_reason_select",marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",label:"Reason",menuItems:Jm,value:M,onChange:function(e){var t=e.target.value;F(t),I(0===t.length)},error:B,width:"85%"}))),r.a.createElement(J.a,{container:!0,className:t.printButtons,spacing:5},r.a.createElement(J.a,{className:t.modalButtonContainerLeft,item:!0,sm:6},r.a.createElement(z.a,{"data-cy":"endorse_modal_cancel_btn",id:"endorse_modal_cancel_btn",className:t.modalButtonLeft,style:{marginRight:"10px"},variant:"outlined",color:"secondary",size:"small",onClick:L}," ","Cancel"," ")),r.a.createElement(J.a,{className:t.modalButtonContainerRight,item:!0,sm:6},r.a.createElement(z.a,{"data-cy":"endorse_modal_submit_btn",id:"endorse_modal_submit_btn",className:t.modalButtonRight,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",onClick:function(){if(null!==o)if(0!==O.length)if(0!==f.length)if(0!==M.length){var t={endorsed_date:o.toISOString(),endorsed_by:O,sent_via:f,reason:M};e.onSubmit&&e.onSubmit(t)}else I(!0);else E(!0);else N(!0);else d(!0)}}," ","Submit"," "))))},Xm=[{name:"activity_id",title:"Activity ID"},{name:"description",title:"Activity"},{name:"user_name",title:"User"},{name:"revision_date",title:"Date"},{name:"revision_time",title:"Time"}],Zm=[{columnName:"description",wordWrapEnabled:!0}],Qm={},$m=[{columnName:"activity_id",direction:"desc"}],ed=function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),i=a[0],o=a[1];return Object(n.useEffect)(function(){e.isSelected&&!Object(Tn.isNil)(e.fetchMemberLogs)&&e.fetchMemberLogs()},[e.isSelected]),r.a.createElement(J.a,{container:!0,style:{paddingLeft:32}},r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:16,paddingBottom:16}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12,md:9},r.a.createElement(j.a,{"data-cy":"audit_logs_search",id:"audit_logs_search",style:{width:"100%"},placeholder:"Search logs...",label:"",margin:"normal",variant:"outlined",value:e.al_global_filter,onChange:e.alHandleSearch,InputProps:{startAdornment:r.a.createElement(Ve.a,{position:"start"},r.a.createElement(Ki.a,{style:{color:"rgba(54, 54, 54, 0.4)"}}))}})),r.a.createElement(J.a,{item:!0,xs:12,md:3},r.a.createElement(Ye.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",p:1,style:{width:"100%",height:"100%",display:"none"}},r.a.createElement(Ye.a,{p:1},r.a.createElement(se.b,{"data-cy":"audit_logs_generate_report",id:"audit_logs_generate_report",style:{color:"#0D5E40",fontSize:"0.875rem"},to:"#"},r.a.createElement(X.a,{icon:Z.m}),"\xa0\xa0Generate Report")))))),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:0,paddingBottom:0}},r.a.createElement(ll,{"data-cy":"audit_logs_table",id:"audit_logs_table",message:"No Logs Available",onClickRow:function(){},rows:e.data,columns:Xm,formattedColumns:Qm,columnExtensions:Zm,defaultSort:$m,query:e.al_global_filter,disableSearch:!0,disableSelect:!0,defaultFilter:i,onFilterChange:function(e){o(e)}})))};ed.defaultProps={data:{},isSelected:!1,al_global_filter:"",alHandleSearch:function(){}};a(439);var td=a(144),ad=(a(175),"http://api-dev.hims.veridata.com.ph:4101/api/"),nd=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"getUrl",value:function(){return ad}},{key:"get",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(ad+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return n?n(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){var i,o=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=o.length>4&&void 0!==o[4]?o[4]:{"Content-Type":"application/json"},fetch(ad+t,{method:"POST",headers:i,body:a}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 2:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"postFormData",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(ad+t,{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(ad+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(ad+t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(ad+t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"pnGet",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://api-dev.hims.veridata.com.ph:4101/api/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return n?n(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),rd=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(re.a,{className:"text-button",underline:this.props.underline,color:this.props.color,download:this.props.downloadLink,href:this.props.downloadLink,onClick:this.props.onClick},this.props.icon?n.createElement(X.a,{icon:this.props.icon}):null,this.props.icon?n.createElement("span",{style:{marginLeft:"10px"}}):null,this.props.label)}}]),t}(n.Component),id=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value||this.props.error!==e.error}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:this.props.disabled?"text-disabled text":"text"},this.props.placeholder):null,n.createElement("input",{type:"text",placeholder:this.props.innerPlaceholder,disabled:this.props.disabled,className:this.props.disabled?"text-field-disabled text-field":"text-field",style:t,value:this.props.value,onChange:function(t){(!e.props.charLimit||t.target.value.length<=e.props.charLimit)&&e.props.onChange(t.target.value)},onKeyDown:function(t){e.props.onKeyDown&&e.props.onKeyDown(t.key)}}),this.props.charLimit?n.createElement(n.Fragment,null,n.createElement("div",{className:"text"}),n.createElement("div",{className:this.props.disabled?"text-disabled text":"text",style:{textAlign:"right",marginBottom:"-15px"}},"".concat(this.props.value.length,"/").concat(this.props.charLimit))):null)}}]),t}(n.Component),od=(a(155),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"icon-button",onClick:function(){return e.props.onClick()}},this.props.icon?n.createElement(X.a,{icon:this.props.icon,size:this.props.size}):null)}}]),t}(n.Component)),ld=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={value:a.props.value?a.props.value.toString():"0"},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value?this.props.disableDelimiter?e.value.toString():e.value.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";"."===t.charAt(t.length-4)&&(t=e.value.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),t!==this.state.value&&this.setState({value:this.props.isFloat&&"."===this.state.value.charAt(this.state.value.length-1)?"".concat(t,"."):t})}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement(n.Fragment,null,n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("input",{className:"text-field",style:t,value:this.state.value,disabled:!!this.props.disabled&&this.props.disabled,onFocus:function(){0==e.props.value&&e.setState({value:""})},onChange:function(t){var a=t.target.value,n=parseFloat(a.replace(/,|-/g,""));isNaN(n)||(n=n<1e9?n:e.props.value);var r=(isNaN(n)?"":e.props.isFloat&&"."===a.charAt(a.length-1)?"".concat(n,"."):n.toString()).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");e.setState({value:e.props.disableDelimiter?n.toString():r},function(){e.props.isFloat,e.props.onChange(isNaN(n)?0:n)})}})),this.props.errorMessage&&this.props.error?n.createElement("div",{style:{color:"red"}},this.props.errorMessage):null)}}]),t}(n.Component),sd=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"date-picker"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{className:this.props.disabled?"text-field-disabled text-field":"text-field",disabled:this.props.disabled,variant:"dialog",format:"MM/DD/YYYY",minDate:this.props.minDate?this.props.minDate:new Date(1900,1,1),value:this.props.value,onChange:function(t){e.props.onChange(t?t.toDate():null)}})))}}]),t}(n.Component),cd=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement("div",{style:{textAlign:"center",paddingTop:this.props.height?this.props.height:void 0}},n.createElement(He.a,{size:this.props.size,style:{color:this.props.color?this.props.color:void 0}}))}}]),t}(n.Component),md=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement("div",{style:{backgroundColor:"#00000055",zIndex:1e3,position:"absolute",width:"100%",height:"100%"}},n.createElement(cd,{height:this.props.height||"15rem",size:this.props.size||100,color:this.props.color}))}}]),t}(n.Component),dd=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).timeOut=void 0,a.resetPage=function(){a.setState({page:0})},a.getSlicedData=function(e){if(a.props.rowsPerPageOptions&&!a.props.serverSideOption){var t=a.state.page*a.state.rowsPerPage;return e.slice(t,t+a.state.rowsPerPage)}return e},a.getFilteredRows=function(e){var t={};return Object.keys(a.state.filterData).map(function(e){a.state.filterData[e]&&(a.state.filterData[e].length&&a.state.filterData[e].length>0||!a.state.filterData[e].length)&&(t[e]=a.state.filterData[e])}),a.props.rows.filter(function(a){var n=!0;return Object.keys(a).map(function(r){var i=e.find(function(e){return e.key===r}),o=!!i&&(i.filterFunc?!i.filterFunc(t[r],a[r]):"string"===i.filterType?!!t[r]&&!a[r].toString().toLowerCase().includes(t[r].toLowerCase()):"number"===i.filterType?!!t[r]&&!a[r].toString().includes(t[r]):"date"===i.filterType&&(!!t[r]&&a[r].toDateString()!==t[r].toDateString()));t[r]&&o&&(n=!1)}),n})},a.apiCall=function(e){if(a.props.serverSideOption&&!a.props.serverSideOption.disabled){a.setState({isSearching:!0}),e&&a.resetPage();var t=a.props.serverSideOption,n=(e?0:a.state.page)*a.state.rowsPerPage,r=a.state.rowsPerPage;nd.get(t.getUrl(n,r,a.state.filterData),function(e){t.onSuccess(e),a.setState({count:t.getCount(e)}),a.setState({isSearching:!1})},function(e){t.onFail&&t.onFail(e),a.setState({isSearching:!1})})}},a.state={page:0,rowsPerPage:0,count:0,filterData:{},sortedColumn:"",isSearching:!1},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.rowsPerPageOptions&&this.setState({rowsPerPage:this.props.rowsPerPageOptions[0]},function(){e.props.serverSideOption&&e.apiCall()})}},{key:"render",value:function(){var e=this,t=this.props.serverSideOption?this.getSlicedData(this.props.rows):this.props.columns?this.getFilteredRows(this.props.columns):this.getSlicedData(this.props.rows);return n.createElement(n.Fragment,null,n.createElement("div",{style:{overflow:this.props.canOverflow?"auto":"none",position:"relative"}},this.state.isSearching?n.createElement(md,{height:"3rem",size:80}):null,n.createElement(Ri.a,{className:"".concat(this.props.className?this.props.className:""," table"),stickyHeader:!!this.props.stickyHeader&&this.props.stickyHeader},n.createElement(Li.a,null,this.props.columns?n.createElement(Ii.a,null,this.props.columns.map(function(t){return e.renderHeaderColumn(t,void 0!==e.props.serverSideOption)})):this.props.renderHeader?n.createElement(Ii.a,null,this.props.renderHeader()):null),n.createElement(Wi.a,null,this.props.renderRow?t.length>0?this.props.serverSideOption?t.map(function(t,a){return e.props.renderRow(t,a,e.state.filterData)}):this.getSlicedData(t).map(function(t,a){return e.props.renderRow(t,a,e.state.filterData)}):n.createElement(Ii.a,null,n.createElement(qn.a,{colSpan:999,style:{textAlign:"center"}},this.props.noRowsMessage?this.props.noRowsMessage:"No data found")):null))),this.props.rowsPerPageOptions&&!this.props.serverSideOption?n.createElement(zi.a,{className:"".concat(this.props.paginationClass?this.props.paginationClass:""," pagination MuiTablePagination-root"),rowsPerPageOptions:this.props.rowsPerPageOptions,count:this.props.rows.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,labelDisplayedRows:function(t){return e.props.onChangeInfo?e.props.onChangeInfo(t):"".concat(t.from,"-").concat(t.to," of ").concat(t.count)},labelRowsPerPage:this.props.labelRowsPerPage?this.props.labelRowsPerPage:"Rows per page:",onChangePage:function(t,a){e.setState({page:a})},onChangeRowsPerPage:function(t){e.setState({rowsPerPage:parseInt(t.target.value,10),page:0})}}):null,this.props.serverSideOption&&this.props.rowsPerPageOptions?n.createElement(ud,{rowsPerPage:this.state.rowsPerPage,page:this.state.page,count:this.state.count,onChangePage:function(t){e.setState({page:t},function(){e.apiCall()})}}):null)}},{key:"renderHeaderColumn",value:function(e,t){var a=this,r=function(n){a.state.isSearching||(a.state.filterData[e.key]=n,a.setState({filterData:a.state.filterData,page:0}),t&&(clearTimeout(a.timeOut),a.timeOut=setTimeout(function(){a.apiCall(!0)},1e3),console.log("InputField Custom Table Value: "+n)))};return n.createElement(qn.a,{style:e.style},e.name?n.createElement("span",{className:"header-2"},e.name):null,e.sortType&&e.key?n.createElement("div",{style:{float:"right"}},n.createElement(od,{icon:this.state.sortedColumn!==e.key?Z.G:Z.H,onClick:function(){e.key&&!e.sortFunc?a.state.sortedColumn!==e.key?(a.props.rows.sort(function(t,a){var n=t[e.key],r=a[e.key],i="string"===e.sortType?n.toString().toLowerCase():"date"===e.sortType?n.getTime():"number"===e.sortType?n:void 0,o="string"===e.sortType?r.toString().toLowerCase():"date"===e.sortType?r.getTime():"number"===e.sortType?r:void 0;return i>o?1:i<o?-1:0}),a.setState({sortedColumn:e.key})):(a.props.rows.sort(function(t,a){var n=t[e.key],r=a[e.key],i="string"===e.sortType?n.toString().toLowerCase():"date"===e.sortType?n.getTime():"number"===e.sortType?n:void 0,o="string"===e.sortType?r.toString().toLowerCase():"date"===e.sortType?r.getTime():"number"===e.sortType?r:void 0;return i>o?-1:i<o?1:0}),a.setState({sortedColumn:""})):e.key&&e.sortFunc&&e.sortFunc(a.props.rows,e.key,a.state.sortedColumn!==e.key)}})):null,e.filterType&&e.key?"string"===e.filterType?n.createElement(id,{value:this.state.filterData[e.key],disabled:e.filterDisabled,onChange:r}):"number"===e.filterType?n.createElement(ld,{value:this.state.filterData[e.key],disabled:e.filterDisabled,onChange:r}):"date"===e.filterType?n.createElement(sd,{value:this.state.filterData[e.key]||null,disabled:e.filterDisabled,onChange:r}):null:null)}}]),t}(n.Component),ud=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).getPagesList=function(){for(var e=[],t=Math.ceil(a.props.count/a.props.rowsPerPage),n=!1,r=Math.max(0,a.props.page-4);r<t;r++)t-r>2&&r-a.props.page>=2?n||(e.push("..."),n=!0):e.push(""+(r+1));return e.slice(Math.max(e.length-5,0))},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.getPagesList(),a={textAlign:"center"};return n.createElement(J.a,{container:!0,spacing:1,className:"custom-pagination"},n.createElement(J.a,{item:!0,xs:5},"".concat(this.props.page*this.props.rowsPerPage+1,"-")+"".concat(Math.min((this.props.page+1)*this.props.rowsPerPage,this.props.count)," out of ")+"".concat(this.props.count," items")),n.createElement(J.a,{item:!0,xs:7},n.createElement(J.a,{container:!0,spacing:1},n.createElement(J.a,{item:!0,xs:!0}),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(rd,{icon:Z.a,onClick:function(){e.props.page-1>=0&&e.props.onChangePage(0)}})),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(rd,{icon:Z.c,onClick:function(){var t=e.props.page-1;t>=0&&e.props.onChangePage(t)}})),t.map(function(t){var a=parseInt(t)-1,r={fontWeight:e.props.page==a?"bold":void 0,cursor:isNaN(a)?void 0:"pointer",textAlign:"center"};return n.createElement(J.a,{item:!0,xs:1},n.createElement("div",{style:r,onClick:function(){isNaN(a)||e.props.onChangePage(a)}},t))}),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(rd,{icon:Z.d,onClick:function(){var t=e.props.page+1;t*e.props.rowsPerPage<e.props.count&&e.props.onChangePage(t)}})),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(rd,{icon:Z.b,onClick:function(){(e.props.page+1)*e.props.rowsPerPage<e.props.count&&e.props.onChangePage(Math.floor(e.props.count/e.props.rowsPerPage))}})))))}}]),t}(n.PureComponent),pd=Object(y.a)(function(e){return{popoverCheckbox:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}}}),fd=function(e){var t=e.columns,a=e.selectedColumns,r=e.setSelectedColumns,i=pd(e),o=Object(td.usePopupState)({variant:"popover",popupId:"columnListPopover"});return n.createElement("div",null,n.createElement(z.a,Object.assign({id:"display_column_button","data-cy":"display_column_button",fullWidth:!0},Object(td.bindTrigger)(o)),n.createElement(S.a,{className:Object(tt.default)("link-button"),align:"right"},n.createElement(X.a,{icon:Z.M,className:Object(tt.default)("link-button-icon")}),n.createElement("span",{className:Object(tt.default)("link-button-text")},"Display Columns"))),n.createElement(ic.a,Object.assign({},Object(td.bindPopover)(o),{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}}),n.createElement(ns.a,null,Object(Tn.map)(t,function(e,t){var o,l=Object(Tn.findIndex)(a,{name:e.name})>=0;return n.createElement(K.a,{key:t,control:n.createElement(G.a,{checked:l,onChange:(o=e,function(e){if(e.target.checked){var t=Object(Ln.a)(a);t.push(o),r(t)}else{var n=Object(Ln.a)(a);Object(Tn.remove)(n,function(e){return e.name===o.name}),r(n)}}),value:e.name,color:"primary"}),className:i.popoverCheckbox,label:e.title})}))))},bd=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).ticketChannels=void 0,a.ticketTypes=void 0,a.specificTypes=void 0,a.tickets=void 0,a.tableListRef=void 0,a.onSearchTextChange=function(e){e.preventDefault();var t=e.target.value;a.setState({query:t,typingTimeoutId:setTimeout(function(){a.setState({searchBarQuery:t})},3e3)})},a.onStatusFilterClick=function(e){a.state.status!==e&&a.setState({status:e})},a.setSelectedColumns=function(e){a.setState({selectedColumns:e})},a.generateReport=function(){Object(Tn.isNil)(a.props.memberId)},a.ticketChannels=[{value:"0",label:""},{value:"1",label:"Call"},{value:"2",label:"SMS"},{value:"3",label:"Text"},{value:"4",label:"Email"}],a.ticketTypes=[{value:"0",label:""},{value:"1",label:"Availment"},{value:"2",label:"Inquiry"}],a.specificTypes=[{value:"0",label:""},{value:"1",label:"Outpatient Procedure"},{value:"2",label:"Inpatient"},{value:"3",label:"Emergency Room"},{value:"4",label:"Consultation"}],a.state={count:{UNASSIGNED:0,CLOSED:0,OPEN:0,ALL:0},urgency:0,status:"",ticketNo:"",channel:"",type:"",specificType:"",typingTimeoutId:null,source:"",assignee:"",lastUpdate:"",ticketListUpdated:!1,selectedTicketId:void 0,query:"",searchBarQuery:"",columns:[],selectedColumns:[]},a.tickets=[],a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.clientId||this.props.memberId,a={where:{$and:[{$or:[{member_id:t},{client_id:t}]},{ticket_id:{$ne:null}}]}},n="?filter=".concat(JSON.stringify(a));this.props.clientId&&!this.props.memberId?n="?filter[where][client_id]=".concat(this.props.clientId):this.props.memberId&&(n="?filter[where][member_id]=".concat(this.props.memberId)),nd.get("customer-care/tickets"+n,function(t){t&&(console.log("This is the tickets: "+JSON.stringify(t)),t.map(function(t){e.tickets.unshift({id:t._id,ticketNo:t.ticket_id,urgency:"Low"===t.ticket_category.urgency?3:"Medium"===t.ticket_category.urgency?2:"High"===t.ticket_category.urgency?1:0,status:t.status,channel:t.received_via,type:t.ticket_category.ticket_type,specificType:t.ticket_category.specific_type,source:{value:t.received_from.toUpperCase(),label:t.member_name?t.member_name:t.corporate_client?t.corporate_client:t.broker?t.broker:t.hospital_name?t.hospital_name:""},assignee:t.assign_to,lastUpdate:new Date(t.date_updated)})}),e.tickets=e.tickets.filter(function(e){return"string"===typeof e.source.label}),e.setState({ticketListUpdated:!0}))},function(e){console.log(e)})}},{key:"renderStatus",value:function(e,t){var a=this;return n.createElement(J.a,{item:!0,xs:!0,className:Object(tt.default)("tickets-table-stats")},n.createElement(S.a,{id:"".concat(t,"_ticket_tab"),"data-cy":"".concat(t,"_ticket_tab"),align:"center",onClick:function(){a.onStatusFilterClick(t)}},n.createElement("span",{className:this.state.status==t?Object(tt.default)("ticket-label-active"):Object(tt.default)("ticket-label")},e)))}},{key:"sortTickets",value:function(e,t){this.tickets.sort(function(a,n){return a[e].toString().toLowerCase()>n[e].toString().toLowerCase()?t?1:-1:t?-1:1})}},{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement("div",{className:Object(tt.default)("TicketListPage")},n.createElement(J.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline"},n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("header-label")},n.createElement(S.a,{className:Object(tt.default)("title"),color:"textPrimary"},"Tickets"))),n.createElement(J.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1,className:Object(tt.default)("search")},n.createElement(J.a,{item:!0,sm:12,lg:7},n.createElement(j.a,{id:"cc_search_tickets_tf","data-cy":"cc_search_tickets_tf",placeholder:"Search ticket ID",className:Object(tt.default)("search-field"),margin:"dense",variant:"outlined",fullWidth:!0,onChange:this.onSearchTextChange,value:this.state.query,inputProps:{"aria-label":"bare"},InputProps:{startAdornment:n.createElement(X.a,{icon:Z.E,className:Object(tt.default)("input-adornment")})}})),n.createElement(J.a,{item:!0,sm:12,lg:5,container:!0,direction:"row",justify:"space-between",alignItems:"center"},n.createElement(J.a,{item:!0,sm:4,lg:4,alignContent:"flex-end",justify:"flex-end"},n.createElement(z.a,{id:"create_ticket_button","data-cy":"create_ticket_button",fullWidth:!0,onClick:function(){},disabled:!0},n.createElement(S.a,{className:Object(tt.default)("link-button disabled"),align:"right"},n.createElement(X.a,{icon:Z.A,className:Object(tt.default)("link-button-icon disabled")}),n.createElement("span",{className:Object(tt.default)("link-button-text")},"Create Ticket")))),n.createElement(J.a,{item:!0,sm:4,lg:4,alignContent:"flex-end",justify:"flex-end"},n.createElement(z.a,{id:"generate_report_button","data-cy":"generate_report_button",fullWidth:!0,disabled:!0,onClick:function(){e.generateReport()}},n.createElement(S.a,{className:Object(tt.default)("link-button disabled"),align:"right"},n.createElement(X.a,{icon:Z.m,className:Object(tt.default)("link-button-icon disabled")}),n.createElement("span",{className:Object(tt.default)("link-button-text")},"Generate Report")))),n.createElement(J.a,{item:!0,sm:4,lg:4,alignContent:"flex-end"},n.createElement(fd,{setSelectedColumns:this.setSelectedColumns,columns:this.state.columns,selectedColumns:this.state.selectedColumns})))),n.createElement(J.a,{container:!0,direction:"row",className:Object(tt.default)("tickets-table")},n.createElement(J.a,{item:!0,xs:12},n.createElement(N.a,{className:Object(tt.default)("tickets-table-container")},n.createElement(J.a,{item:!0,xs:12,style:{overflow:"auto"}},n.createElement(dd,{className:"custom-table-selectable",rows:this.tickets,columns:[{name:"Urgency",key:"urgency",style:{minWidth:"75px"},filterType:"string",sortType:"string"},{name:"Status",key:"status",style:{minWidth:"125px"},filterType:"string",sortType:"string"},{name:"Ticket ID",key:"ticketNo",style:{minWidth:"150px"},filterType:"string",sortType:"string"},{name:"Specific Type",key:"specificType",style:{minWidth:"200px"},filterType:"string",sortType:"string"},{name:"Source",key:"source",style:{minWidth:"150px"},filterType:"string",sortType:"string"},{name:"Assigned",key:"assignee",style:{minWidth:"150px"},filterType:"string",sortType:"string"}],renderRow:function(t,a){return function(t,a){var r=a%2===0?1===t.urgency?"#FFF2F2":"#FFFFFF":1===t.urgency?"#F7ECEC":"#F6F7FA",i=3===t.urgency?"#3AB77D":2===t.urgency?"#FAB435":1===t.urgency?"#FD5451":"";return n.createElement(Ii.a,{style:{backgroundColor:r},onClick:function(){e.setState({selectedTicketId:t.id})}},n.createElement(qn.a,{style:{textAlign:"center",paddingLeft:0}},n.createElement("div",{className:"number-item",style:{display:"inline-block",backgroundColor:i}},t.urgency)),n.createElement(qn.a,null,t.status),n.createElement(qn.a,null,t.ticketNo),n.createElement(qn.a,null,t.specificType),n.createElement(qn.a,null,n.createElement("div",{className:"text"},t.source.label),n.createElement("div",{className:"light-text",style:{fontSize:"9px"}},t.source.value)),n.createElement(qn.a,null,t.assignee))}(t,a)},onChangeInfo:function(e){return"".concat(e.from,"-").concat(e.to," out of ").concat(e.count," tickets")},labelRowsPerPage:"Show",rowsPerPageOptions:[5,10,15]})))))))}}]),t}(n.Component),gd=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)([]),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)([]),u=Object(g.a)(d,2),p=u[0],f=u[1],b=Object(n.useState)(""),_=Object(g.a)(b,2),h=_[0],v=_[1],E=Object(n.useState)([]),y=Object(g.a)(E,2),x=y[0],O=y[1],C=Object(n.useState)([]),S=Object(g.a)(C,2),w=S[0],k=S[1],N=Object(n.useState)(0),D=Object(g.a)(N,2),T=D[0],M=D[1],F=Object(n.useState)(!0),P=Object(g.a)(F,2),A=P[0],B=P[1],I=Object(n.useState)({isOpen:!1,title:"",message:""}),R=Object(g.a)(I,2),L=R[0],W=R[1];Object(n.useEffect)(function(){z()},[e.isSelected]),Object(n.useEffect)(function(){Y()},[c,w,x]),Object(n.useEffect)(function(){clearTimeout(T),A||M(function(){return setTimeout(function(){Y()},500)}),B(!1)},[h]);var z=function(){Object(Tn.isNil)(e.memberId)||(o(!0),e.handleOpenLostInternetConnectionModal(),An.getContractsHistory(e.memberId).then(function(t){!Object(Tn.isNil)(t)&&Object(Tn.isNil)(t.error)&&Object(Tn.isArray)(t)?(e.handleCloseLostInternetConnectionModal(),console.log("check history",t,e),U(t)):W({isOpen:!0,title:"Loading failed",message:"An error occured while loading the list of contract history."}),o(!1)}).catch(function(e){console.log("getMemberContractsHistory Error",e),o(!0)}))},U=function(e){var t=[];Object(Tn.forEach)(e,function(e){t.push({contract:e.contract_name,effectivity_date:e.contract_effectivity_date,plan_type:e.member_plan_type,type:e.member_type,status:e.status})}),m(t)},Y=function(){if(Object(Tn.isNil)(h)&&Object(Tn.isEmpty)(x))f(c);else{var e=Object(Tn.filter)(c,function(e){return function(e){if(Object(Tn.isNil)(h))return!0;var t=Object(Tn.toLower)(h),a=Object(Tn.toLower)(e.contract),n=Object(Tn.toLower)(e.effectivity_date),r=Object(Tn.toLower)(e.plan_type),i=Object(Tn.toLower)(e.type),o=Object(Tn.toLower)(e.status);return Object(Tn.includes)(a,t)||Object(Tn.includes)(n,t)||Object(Tn.includes)(r,t)||Object(Tn.includes)(i,t)||Object(Tn.includes)(o,t)}(e)&&function(e){if(Object(Tn.isEmpty)(x))return!0;var t=Object(Tn.toLower)(e.contract),a=Object(Tn.toLower)(e.effectivity_date),n=Object(Tn.toLower)(e.plan_type),r=Object(Tn.toLower)(e.type),i=Object(Tn.toLower)(e.status);return Object(Tn.every)(x,function(e){var o=Object(Tn.toLower)(e.value);switch(e.columnName){case"contract":return Object(Tn.includes)(t,o);case"effectivity_date":return Object(Tn.includes)(a,o);case"plan_type":return Object(Tn.includes)(n,o);case"type":return Object(Tn.includes)(r,o);case"status":return Object(Tn.includes)(i,o);default:return!0}})}(e)});f(e)}};return r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},i?r.a.createElement(Rn,null):null),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingLeft:"24px"}},r.a.createElement(j.a,{"data-cy":"history_search",id:"history_search",placeholder:"Search year, company, or contract",style:{backgroundColor:"white"},margin:"dense",variant:"outlined",fullWidth:!0,value:h,onChange:function(e){v(e.target.value)},inputProps:{"aria-label":"bare"},InputProps:{startAdornment:r.a.createElement(X.a,{icon:Z.E,style:{color:"#00000061",marginRight:"8px"}})}})),r.a.createElement(J.a,{item:!0,xs:12,style:{boxShadow:"0px 3px 6px #00000029",marginTop:"20px",marginLeft:"24px"}},r.a.createElement(ll,{"data-cy":"history_table",id:"history_table",rows:p,columns:[{name:"contract",title:"Contract"},{name:"effectivity_date",title:"Contract Effectivity Date"},{name:"plan_type",title:"Plan Type"},{name:"type",title:"Type"},{name:"status",title:"Status"}],message:"No data",columnExtensions:[{columnName:"contract",wordWrapEnabled:!0,textAlign:"center"},{columnName:"effectivity_date",wordWrapEnabled:!0,textAlign:"center"},{columnName:"plan_type",wordWrapEnabled:!0,textAlign:"center"},{columnName:"type",wordWrapEnabled:!0,textAlign:"center"},{columnName:"status",wordWrapEnabled:!0,textAlign:"center"}],formattedColumns:{},defaultFilter:x,onFilterChange:function(e){O(e)},onSortingChange:function(e){k(e)},onClickRow:function(e){console.log("handleRowClick row",e)},disableSelect:!0,disableSearch:!0})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(ql,{id:"contract-history-modal",isModalOpen:L.isOpen,title:L.title,message:L.message,onClose:function(){var e=L.next;W({isOpen:!1,title:"",message:""}),e&&e()}})))},_d=(a(139),"http://api-dev.hims.veridata.com.ph:4101/api/"),hd=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"getUrl",value:function(){return"http://api-dev.hims.veridata.com.ph:4101/api/"}},{key:"get",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(_d+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return n?n(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){var i,o=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=o.length>4&&void 0!==o[4]?o[4]:{"Content-Type":"application/json"},fetch(_d+t,{method:"POST",headers:i,body:a}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 2:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"postFormData",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(_d+t,{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(_d+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(_d+t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(_d+t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"pnGet",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://api-dev.hims.veridata.com.ph:4101/api/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return n?n(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),vd=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(re.a,{id:"utils_text_button","data-cy":"utils_text_button",className:"text-button",underline:this.props.underline,color:this.props.color,download:this.props.downloadLink,href:this.props.downloadLink,onClick:this.props.onClick},this.props.icon?n.createElement(X.a,{icon:this.props.icon}):null,this.props.icon?n.createElement("span",{style:{marginLeft:"10px"}}):null,this.props.label)}}]),t}(n.Component),Ed=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value||this.props.error!==e.error}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:this.props.disabled?"text-disabled text":"text"},this.props.placeholder):null,n.createElement("input",{id:"utils_input_field","data-cy":"utils_input_field",type:"text",placeholder:this.props.innerPlaceholder,disabled:this.props.disabled,className:this.props.disabled?"text-field-disabled text-field":"text-field",style:t,value:this.props.value,onChange:function(t){(!e.props.charLimit||t.target.value.length<=e.props.charLimit)&&e.props.onChange(t.target.value)},onKeyDown:function(t){e.props.onKeyDown&&e.props.onKeyDown(t.key)}}),this.props.charLimit?n.createElement(n.Fragment,null,n.createElement("div",{className:"text"}),n.createElement("div",{className:this.props.disabled?"text-disabled text":"text",style:{textAlign:"right",marginBottom:"-15px"}},"".concat(this.props.value.length,"/").concat(this.props.charLimit))):null)}}]),t}(n.Component),yd=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"icon-button",id:"utils_icon_button","data-cy":"utils_icon_button",onClick:function(){return e.props.onClick()}},this.props.icon?n.createElement(X.a,{icon:this.props.icon,size:this.props.size}):null)}}]),t}(n.Component),xd=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={value:a.props.value?a.props.value.toString():"0"},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value?this.props.disableDelimiter?e.value.toString():e.value.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";"."===t.charAt(t.length-4)&&(t=e.value.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),t!==this.state.value&&this.setState({value:this.props.isFloat&&"."===this.state.value.charAt(this.state.value.length-1)?"".concat(t,"."):t})}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement(n.Fragment,null,n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("input",{id:"utils_number_field","data-cy":"utils_number_field",className:"text-field",style:t,value:this.state.value,disabled:!!this.props.disabled&&this.props.disabled,onFocus:function(){0==e.props.value&&e.setState({value:""})},onChange:function(t){var a=t.target.value,n=parseFloat(a.replace(/,|-/g,""));isNaN(n)||(n=n<1e9?n:e.props.value);var r=(isNaN(n)?"":e.props.isFloat&&"."===a.charAt(a.length-1)?"".concat(n,"."):n.toString()).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");e.setState({value:e.props.disableDelimiter?n.toString():r},function(){e.props.isFloat,e.props.onChange(isNaN(n)?0:n)})}})),this.props.errorMessage&&this.props.error?n.createElement("div",{style:{color:"red"}},this.props.errorMessage):null)}}]),t}(n.Component),Od=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"date-picker"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{id:"utils_date_picker","data-cy":"utils_date_picker",className:this.props.disabled?"text-field-disabled text-field":"text-field",disabled:this.props.disabled,variant:"dialog",format:"MM/DD/YYYY",minDate:this.props.minDate?this.props.minDate:new Date(1900,1,1),value:this.props.value,onChange:function(t){e.props.onChange(t?t.toDate():null)}})))}}]),t}(n.Component),Cd=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement("div",{style:{textAlign:"center",paddingTop:this.props.height?this.props.height:void 0}},n.createElement(He.a,{size:this.props.size,style:{color:this.props.color?this.props.color:void 0}}))}}]),t}(n.Component),Sd=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement("div",{style:{backgroundColor:"#00000055",zIndex:1e3,position:"absolute",width:"100%",height:"100%"}},n.createElement(Cd,{height:this.props.height||"15rem",size:this.props.size||100,color:this.props.color}))}}]),t}(n.Component),wd=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).timeOut=void 0,a.resetPage=function(){a.setState({page:0})},a.getSlicedData=function(e){if(a.props.rowsPerPageOptions&&!a.props.serverSideOption){var t=a.state.page*a.state.rowsPerPage;return e.slice(t,t+a.state.rowsPerPage)}return e},a.getFilteredRows=function(e){var t={};return Object.keys(a.state.filterData).map(function(e){a.state.filterData[e]&&(a.state.filterData[e].length&&a.state.filterData[e].length>0||!a.state.filterData[e].length)&&(t[e]=a.state.filterData[e])}),a.props.rows.filter(function(a){var n=!0;return Object.keys(a).map(function(r){var i=e.find(function(e){return e.key===r}),o=!!i&&(i.filterFunc?!i.filterFunc(t[r],a[r]):"string"===i.filterType?!!t[r]&&!a[r].toString().toLowerCase().includes(t[r].toLowerCase()):"number"===i.filterType?!!t[r]&&!a[r].toString().includes(t[r]):"date"===i.filterType&&(!!t[r]&&a[r].toDateString()!==t[r].toDateString()));t[r]&&o&&(n=!1)}),n})},a.apiCall=function(e){if(a.props.serverSideOption&&!a.props.serverSideOption.disabled){a.setState({isSearching:!0}),e&&a.resetPage();var t=a.props.serverSideOption,n=(e?0:a.state.page)*a.state.rowsPerPage,r=a.state.rowsPerPage;hd.get(t.getUrl(n,r,a.state.filterData),function(e){t.onSuccess(e),a.setState({count:t.getCount(e)}),a.setState({isSearching:!1})},function(e){t.onFail&&t.onFail(e),a.setState({isSearching:!1})})}},a.state={page:0,rowsPerPage:0,count:0,filterData:{},sortedColumn:"",isSearching:!1},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.rowsPerPageOptions&&this.setState({rowsPerPage:this.props.rowsPerPageOptions[0]},function(){e.props.serverSideOption&&e.apiCall()})}},{key:"render",value:function(){var e=this,t=this.props.serverSideOption?this.getSlicedData(this.props.rows):this.props.columns?this.getFilteredRows(this.props.columns):this.getSlicedData(this.props.rows);return n.createElement(n.Fragment,null,n.createElement("div",{style:{overflow:this.props.canOverflow?"auto":"none",position:"relative"}},this.state.isSearching?n.createElement(Sd,{height:"3rem",size:80}):null,n.createElement(Ri.a,{className:"".concat(this.props.className?this.props.className:""," table"),stickyHeader:!!this.props.stickyHeader&&this.props.stickyHeader},n.createElement(Li.a,null,this.props.columns?n.createElement(Ii.a,null,this.props.columns.map(function(t){return e.renderHeaderColumn(t,void 0!==e.props.serverSideOption)})):this.props.renderHeader?n.createElement(Ii.a,null,this.props.renderHeader()):null),n.createElement(Wi.a,null,this.props.renderRow?t.length>0?this.props.serverSideOption?t.map(function(t,a){return e.props.renderRow(t,a,e.state.filterData)}):this.getSlicedData(t).map(function(t,a){return e.props.renderRow(t,a,e.state.filterData)}):n.createElement(Ii.a,null,n.createElement(qn.a,{colSpan:999,style:{textAlign:"center"}},this.props.noRowsMessage?this.props.noRowsMessage:"No data found")):null))),this.props.rowsPerPageOptions&&!this.props.serverSideOption?n.createElement(zi.a,{id:"utils_table_pagination","data-cy":"utils_table_pagination",className:"".concat(this.props.paginationClass?this.props.paginationClass:"","pagination MuiTablePagination-root"),rowsPerPageOptions:this.props.rowsPerPageOptions,count:this.props.rows.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,labelDisplayedRows:function(t){return e.props.onChangeInfo?e.props.onChangeInfo(t):"".concat(t.from,"-").concat(t.to," of ").concat(t.count)},labelRowsPerPage:this.props.labelRowsPerPage?this.props.labelRowsPerPage:"Rows per page:",onChangePage:function(t,a){e.setState({page:a})},onChangeRowsPerPage:function(t){e.setState({rowsPerPage:parseInt(t.target.value,10),page:0})}}):null,this.props.serverSideOption&&this.props.rowsPerPageOptions?n.createElement(kd,{rowsPerPage:this.state.rowsPerPage,page:this.state.page,count:this.state.count,onChangePage:function(t){e.setState({page:t},function(){e.apiCall()})}}):null)}},{key:"renderHeaderColumn",value:function(e,t){var a=this,r=function(n){a.state.isSearching||(a.state.filterData[e.key]=n,a.setState({filterData:a.state.filterData,page:0}),t&&(clearTimeout(a.timeOut),a.timeOut=setTimeout(function(){a.apiCall(!0)},1e3)))};return n.createElement(qn.a,{style:e.style},e.name?n.createElement("span",{className:"header-2"},e.name):null,e.sortType&&e.key?n.createElement("div",{style:{float:"right"}},n.createElement(yd,{icon:this.state.sortedColumn!==e.key?Z.G:Z.H,onClick:function(){e.key&&!e.sortFunc?a.state.sortedColumn!==e.key?(a.props.rows.sort(function(t,a){var n=t[e.key],r=a[e.key],i="string"===e.sortType?n.toString().toLowerCase():"date"===e.sortType?n.getTime():"number"===e.sortType?n:void 0,o="string"===e.sortType?r.toString().toLowerCase():"date"===e.sortType?r.getTime():"number"===e.sortType?r:void 0;return i>o?1:i<o?-1:0}),a.setState({sortedColumn:e.key})):(a.props.rows.sort(function(t,a){var n=t[e.key],r=a[e.key],i="string"===e.sortType?n.toString().toLowerCase():"date"===e.sortType?n.getTime():"number"===e.sortType?n:void 0,o="string"===e.sortType?r.toString().toLowerCase():"date"===e.sortType?r.getTime():"number"===e.sortType?r:void 0;return i>o?-1:i<o?1:0}),a.setState({sortedColumn:""})):e.key&&e.sortFunc&&e.sortFunc(a.props.rows,e.key,a.state.sortedColumn!==e.key)}})):null,e.filterType&&e.key?"string"===e.filterType?n.createElement(Ed,{value:this.state.filterData[e.key],disabled:e.filterDisabled,onChange:r}):"number"===e.filterType?n.createElement(xd,{value:this.state.filterData[e.key],disabled:e.filterDisabled,onChange:r}):"date"===e.filterType?n.createElement(Od,{value:this.state.filterData[e.key]||null,disabled:e.filterDisabled,onChange:r}):null:null)}}]),t}(n.Component),kd=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).getPagesList=function(){for(var e=[],t=Math.ceil(a.props.count/a.props.rowsPerPage),n=!1,r=Math.max(0,a.props.page-4);r<t;r++)t-r>2&&r-a.props.page>=2?n||(e.push("..."),n=!0):e.push(""+(r+1));return e.slice(Math.max(e.length-5,0))},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.getPagesList(),a={textAlign:"center"};return n.createElement(J.a,{container:!0,spacing:1,className:"custom-pagination"},n.createElement(J.a,{item:!0,xs:5},"".concat(this.props.page*this.props.rowsPerPage+1,"-")+"".concat(Math.min((this.props.page+1)*this.props.rowsPerPage,this.props.count)," out of ")+"".concat(this.props.count," items")),n.createElement(J.a,{item:!0,xs:7},n.createElement(J.a,{container:!0,spacing:1},n.createElement(J.a,{item:!0,xs:!0}),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(vd,{icon:Z.a,onClick:function(){e.props.page-1>=0&&e.props.onChangePage(0)}})),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(vd,{icon:Z.c,onClick:function(){var t=e.props.page-1;t>=0&&e.props.onChangePage(t)}})),t.map(function(t){var a=parseInt(t)-1,r={fontWeight:e.props.page==a?"bold":void 0,cursor:isNaN(a)?void 0:"pointer",textAlign:"center"};return n.createElement(J.a,{item:!0,xs:1},n.createElement("div",{id:"utils_page_number","data-cy":"utils_page_number",style:r,onClick:function(){isNaN(a)||e.props.onChangePage(a)}},t))}),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(vd,{icon:Z.d,onClick:function(){var t=e.props.page+1;t*e.props.rowsPerPage<e.props.count&&e.props.onChangePage(t)}})),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(vd,{icon:Z.b,onClick:function(){(e.props.page+1)*e.props.rowsPerPage<e.props.count&&e.props.onChangePage(Math.floor(e.props.count/e.props.rowsPerPage))}})))))}}]),t}(n.PureComponent);function jd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Nd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jd(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jd(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Dd=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"isValidDate",value:function(e,t){var a="string"===typeof e?new Date(e):e;return null===a?!!t||void 0:!isNaN(a.getTime())}},{key:"capitalizeEachWord",value:function(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}},{key:"toNameFormat",value:function(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return"".concat(t," ").concat(e.getIntials(a)," ").concat(n).concat(r?" "+r:"")}},{key:"toWholeNameFormat",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return"".concat(e," ").concat(t," ").concat(a).concat(n?" "+n:"")}},{key:"formatNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t?e.toFixed(2):e.toString()).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},{key:"getIntials",value:function(e){for(var t="",a=e.split(" "),n=0;n<a.length;n++)t+=a[n].substring(0,1).toUpperCase()+".";return t}},{key:"getDate",value:function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")}},{key:"toCommonDateString",value:function(e){var t="string"===typeof e?new Date(e):e;if(t){var a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+a+", "+r}return"---"}},{key:"toShortDateString",value:function(e){var t="string"===typeof e?new Date(e):e;if(t&&void 0!==t&&null!==t&&!isNaN(t.getTime())){var a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]+" "+a+", "+r}return"---"}},{key:"toDateAndTime",value:function(e,t){var a="string"===typeof e?new Date(e):e;if(a){var n=a.getDate(),r=a.getDay(),i=a.getMonth(),o=a.getFullYear(),l=a.getHours()-(a.getHours()>12?12:0),s=a.getMinutes(),c=a.getSeconds(),m=a.getHours()>12?"PM":"AM",d="0"+c;return 1!==c.toLocaleString().length&&(d=c.toLocaleString()),(t&&t.showDayFromWeek?"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r],", "):"")+["January","February","March","April","May","June","July","August","September","October","November","December"][i]+" "+n+", "+o+(t&&t.dateTimeDivider?t.dateTimeDivider:" - ")+l+":"+s+":"+d+" "+m}return"---"}},{key:"getTimeDeffirence",value:function(e,t){for(var a="string"===typeof e?new Date(e):e,n=(("string"===typeof t?new Date(t):t).getTime()-a.getTime())/1e3,r=[Math.round(n/86400),Math.round(n/3600)%24,Math.round(n/60)%60,Math.round(n)%60],i=0,o=0;o<r.length;o++)if(r[o]>0){i=o;break}return i?"".concat(r[i]," ").concat([["day","days"],["hour","hours"],["minute","minutes"],["second","seconds"]][i][1==r[i]?0:1]):""}},{key:"getAge",value:function(e){if(e){var t=Date.now()-e;return Math.abs(new Date(t).getUTCFullYear()-1970)}return null}},{key:"generateTicketNumber",value:function(e,t,a){var n="Availment"!==e?"":"".concat({Inpatient:"INP","Outpatient Procedure":"OP","Emergency Room":"ER",Maternity:"MAT",Consultation:"CON"}[t],"-");return"".concat({Availment:"AVL",Inquiry:"INQ","Request/Endorsement":"END","Complaint/Concern":"COM","Request Requiring Approval":"APV"}[e],"-").concat(n).concat(a)}},{key:"canCoverCanAvail",value:function(e,t,a,n,r,i,o){var l=o;l.sort(function(e,t){return e.level-t.level}),console.log("params",e,t,a,n,r,i,o);var s=ka.traverseTree(l,e);if(console.log("newNodes",JSON.stringify(s)),s){var c={diagnosis:t,procedure:a,member:i,ticket_type:n,member_utilization:r};return s.payload=c,s.adjudication_steps=[],"function"===typeof s.canCover&&s.canCover(),"function"===typeof s.canAvail&&s.canAvail(),console.log("adjudicationsteps",s.adjudication_steps),console.log(s),s.adjudication_steps}return[]}},{key:"setMeInAssignees",value:function(e,t){e.forEach(function(a,n){if(a.value===t){var r=a;r.label="Me",e.splice(n,1),e.unshift(r)}})}},{key:"getAvailmentCost",value:function(e,t){var a=0;return t?e&&e.diagnoses.forEach(function(e){e.doctors.forEach(function(t){"Disapproved"!==e.assessmentType&&"Pending"!==e.assessmentType&&(e.approvedAmount>0?a+=e.approvedAmount:a+=t.fee)}),e.procedures.filter(function(e){return""!==e.cptCode.value}).forEach(function(e){"Approved"===e.assessmentType&&(e.approvedAmount>0?a+=e.approvedAmount:a+=e.amount)})}):e&&e.diagnoses.forEach(function(e){e.doctors.forEach(function(e){a+=e.fee}),e.procedures.filter(function(e){return""!==e.cptCode.value}).forEach(function(e){a+=e.amount})}),a}},{key:"getUpdateConfinementCost",value:function(e){if(e){var t=e.accommodations.length>0?e.accommodations.reduce(function(e,t){return Nd({},e,{costPerDay:t.costPerDay+e.costPerDay,days:t.days+e.days})}):void 0;return(t?t.costPerDay*t.days:0)+(e.items.length>0?e.items.reduce(function(e,t){return Nd({},e,{amount:t.amount+e.amount})}).amount:0)+(e.procedures.length>0?e.procedures.reduce(function(e,t){return Nd({},e,{amount:t.amount+e.amount})}).amount:0)+(e.physicians.length>0?e.physicians.reduce(function(e,t){return Nd({},e,{amount:t.amount+e.amount})}).amount:0)}return 0}}]),e}();function Td(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Md(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Td(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Td(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Fd=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).getFilteredMemberLOAs=function(e){return""!==a.state.searchText?e.filter(function(e){return e.approval_code.toLowerCase().includes(a.state.searchText.toLowerCase())||e.loa_no.toLowerCase().includes(a.state.searchText.toLowerCase())}):e},a.state={searchText:"",isLoaded:!1,ibnrAmount:0,utilAmount:0},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.member){var t=this.props.member.member_id,a=this.props.member._id,n=this.props.member.contracts.length>0?this.props.member.contracts[0]:"";hd.get("members/".concat(a,"/contracts/").concat(n,"/benefits"),function(r){var i=r.find(function(e){return 4===e.level&&"room and board"===e.name.toLowerCase()});if(i){var o=i.limits.find(function(e){return"ABL"===e.type}),l=i.limits.find(function(e){return"MBL"===e.type});o&&e.setState({limit:{type:"ANNUAL BENEFIT LIMIT",limit:"number"===typeof o.limit?o.limit:0,limitUnit:o.limit_unit}}),l&&e.setState({limit:{type:"MAXIMUM BENEFIT LIMIT",limit:"number"===typeof l.limit?l.limit:0,limitUnit:l.limit_unit}}),hd.get("customer-care/member-utilization-loa/member/".concat(t,"/contract/").concat(n),function(t){e.setState({ibnrAmount:t.total_amount?t.total_amount:0,utilAmount:0}),hd.get("customer-care/member-utilization-loa/contract/".concat(n,"?type=member&id=").concat(a),function(t){e.setState({memberUtils:t.loas.map(function(e){return Md({},e,{type:"IBNR",session:1,date_issued_date:new Date(e.date_issued_date)})})})})}),e.setState({isLoaded:!0})}})}else if(this.props.client){var r=this.props.client.corporate_account_no,i=this.props.client.contracts.length>0?this.props.client.contracts[0]:"";hd.get("customer-care/member-utilization-loa/contract/".concat(i,"?type=client&id=").concat(r),function(t){var a=t.loas.map(function(e){return{ticketType:e._id.ticket_type,totalAmount:e.total_amount,totalCount:0,principalsCount:"Principal"===e._id.member_type?e.count:0,dependentsCount:"Dependent"===e._id.member_type?e.count:0,unspecifiedCount:"Not Specified"===e._id.member_type?e.count:0}}),n=[];if(a.forEach(function(e){var t=n.findIndex(function(t){return t.ticketType===e.ticketType});-1!=t?n[t]=Md({},n[t],{totalAmount:n[t].totalAmount+e.totalAmount,principalsCount:n[t].principalsCount+e.principalsCount,dependentsCount:n[t].dependentsCount+e.dependentsCount,unspecifiedCount:n[t].unspecifiedCount+e.unspecifiedCount}):n.push(e)}),e.setState({clientUtils:n.map(function(e){return Md({},e,{totalCount:e.principalsCount+e.dependentsCount+e.unspecifiedCount})})}),e.state.clientUtils){var r=0;e.state.clientUtils.forEach(function(e){r+=e.totalAmount}),e.setState({ibnrAmount:r})}e.setState({limit:{type:"ANNUAL BENEFIT LIMIT",limit:0,limitUnit:"PHP"},utilAmount:0}),e.setState({isLoaded:!0})})}}},{key:"render",value:function(){return n.createElement("div",{className:"section",style:{padding:"1.5rem"}},!1===this.state.isLoaded?n.createElement(Rn,null):this.renderMainContent())}},{key:"renderMainContent",value:function(){var e=this.state.limit,t=this.state.limit?this.state.limit.limit:0,a=this.state.utilAmount,r=this.state.ibnrAmount,i=t-a-r,o=a/t*100,l=r/t*100,s=i/t*100,c=this.state.recommendedRenewalRate?Dd.formatNumber(this.state.recommendedRenewalRate,!0):"---",m=function(e,t,a){return"ANNUAL BENEFIT LIMIT"===e?n.createElement(J.a,{item:!0,sm:4},n.createElement("div",{className:"light-text",style:{color:"#848484",fontSize:"1rem"}},e),n.createElement("div",{className:"header-2",style:{fontSize:"1.6rem"}},t)):n.createElement(J.a,{item:!0,xs:a||3},n.createElement("div",{className:"light-text"},e),n.createElement("div",{className:"header-2"},t))};return n.createElement("div",{className:"section"},n.createElement("div",{style:{paddingTop:"2.5rem"}}),n.createElement(J.a,{container:!0,className:"sub-section",spacing:5},e?n.createElement(n.Fragment,null,this.state.memberUtils?m(e.type,"".concat(e.limitUnit," ").concat(Dd.formatNumber(t,!0))):this.state.clientUtils?m("RECOMMENDED RENEWAL RATE","".concat(e.limitUnit," ").concat(c)):null,n.createElement(J.a,{item:!0,xs:6},n.createElement(Pd,{items:[{value:Math.min(100,Math.max(o,0)),color:"#3FBB7F",label1:"UTILIZED",label2:"".concat(e.limitUnit," ").concat(Dd.formatNumber(a,!0))},{value:Math.min(100,Math.max(l,0)),color:"#1D236F",label1:"IBNR",label2:"".concat(e.limitUnit," ").concat(Dd.formatNumber(r,!0))},this.state.memberUtils?{value:Math.min(100,Math.max(isNaN(s)?100:s,0)),color:"#FCB53F",label1:"AVAILABLE",label2:"".concat(e.limitUnit," ").concat(Dd.formatNumber(i,!0))}:void 0].filter(function(e){return e}),maxValue:100})),n.createElement(J.a,{item:!0,xs:3}),n.createElement(J.a,{item:!0,xs:3}),n.createElement(J.a,{item:!0,xs:3}),n.createElement(J.a,{item:!0,xs:3}),n.createElement(J.a,{item:!0,xs:3}),n.createElement(J.a,{item:!0,xs:3})):null),this.state.memberUtils?this.renderMemberUtilTable(this.state.memberUtils):this.state.clientUtils?this.renderClientUtilTable(this.state.clientUtils):null,n.createElement("div",{className:"section"}))}},{key:"renderMemberUtilTable",value:function(e){var t,a=this,r=function(e){return{minWidth:e,maxWidth:e}},i=[{name:"LOA ID",key:"loa_no",style:(t="150px",{left:0,zIndex:2,borderRight:"#9EA3AC 1px solid",position:"sticky",minWidth:t,maxWidth:t}),filterType:"string",sortType:"string"},{name:"Approval Code",key:"approval_code",style:r("170px"),filterType:"string",sortType:"string"},{name:"Diagnosis",key:"diagnoses",style:r("200px"),filterType:"string",filterFunc:function(e,t){return!!(t?t.find(function(t){return e&&"".concat(t.icd10_code," - ").concat(t.diagnosis).toLowerCase().includes(e.toLowerCase())}):void 0)}},{name:"Procedure",key:"procedures",style:r("200px"),filterType:"string",filterFunc:function(e,t){return!!(t?t.find(function(t){return e&&"".concat(t.cpt_code," - ").concat(t.procedure_name).toLowerCase().includes(e.toLowerCase())}):void 0)}},{name:"Provider",key:"partner_name",style:r("170px"),filterType:"string",sortType:"string"},{name:"Amount",key:"total_amount",style:r("140px"),filterType:"number",sortType:"number"},{name:"Sessions",key:"session",style:r("140px"),filterType:"number",sortType:"number"},{name:"Date Availed",key:"date_issued_date",style:r("180px"),filterType:"date",sortType:"date"},{name:"Type",key:"type",style:r("140px"),filterType:"string",sortType:"string"},{name:"Status",key:"status",style:r("140px"),filterType:"string",sortType:"string"}];return n.createElement(n.Fragment,null,n.createElement(J.a,{className:"sub-section",container:!0,spacing:3},n.createElement(J.a,{item:!0,xs:9},n.createElement(Ed,{innerPlaceholder:"Search an availment",value:this.state.searchText,onChange:function(e){a.setState({searchText:e})}})),n.createElement(J.a,{item:!0,xs:3,style:{lineHeight:"32px",color:"#AAAAAA"}},n.createElement(vd,{icon:Z.m,color:"primary",label:"Generate Report",onClick:function(){}}))),n.createElement(wd,{className:"custom-table-scrollable-small",canOverflow:!0,stickyHeader:!0,columns:i,rows:this.getFilteredMemberLOAs(e),rowsPerPageOptions:[5,25,50],renderRow:function(e,t,a){return function(e,t,a){var r={backgroundColor:t%2===0?"#FFFFFF":"#F6F7FA"},i={textAlign:"center"},o={backgroundColor:t%2===0?"#FFFFFF":"#F6F7FA",left:0,zIndex:2,borderRight:"#9EA3AC 1px solid",position:"sticky"};return n.createElement(Ii.a,{style:r},n.createElement(qn.a,{style:o},e.loa_no,n.createElement("div",{className:"sub-section-2"}),n.createElement("div",{className:"light-text"},"SWIPE"),n.createElement("div",{className:"small-text"},e.swipe?"Yes":"No")),n.createElement(qn.a,null,e.approval_code),n.createElement(qn.a,null,e.primary_diagnosis&&!e.diagnoses?n.createElement(n.Fragment,null,e.primary_icd10_code?e.primary_icd10_code+" - ":"",e.primary_diagnosis):null,e.diagnoses?e.diagnoses.filter(function(e){return!(a&&a.diagnoses&&!e.icd10_code.toLowerCase().includes(a.diagnoses.toLowerCase())&&!e.diagnosis.toLowerCase().includes(a.diagnoses.toLowerCase()))}).map(function(e){return n.createElement("div",{className:"sub-section-2"},"".concat(e.icd10_code," - ").concat(e.diagnosis))}):null),n.createElement(qn.a,null,e.procedures&&e.procedures.length>0?e.procedures.filter(function(e){return!(a&&a.procedures&&!e.cpt_code.toLowerCase().includes(a.procedures.toLowerCase())&&!e.procedure_name.toLowerCase().includes(a.procedures.toLowerCase()))}).map(function(e,t){return n.createElement(n.Fragment,null,t>0?n.createElement("div",{className:"sub-section-2"}):null,"".concat(e.cpt_code," - ").concat(e.procedure_name))}):"---"),n.createElement(qn.a,null,e.partner_name?e.partner_name:"---",e.partner_doctor_name?n.createElement(n.Fragment,null,n.createElement("div",{className:"sub-section-2"}),n.createElement("div",{className:"light-text"},"MEDICAL DOCTOR"),e.partner_doctor_name):null),n.createElement(qn.a,{style:{textAlign:"right"}},"PHP ".concat(Dd.formatNumber(e.total_amount,!0))),n.createElement(qn.a,{style:i},e.session),n.createElement(qn.a,{style:i},Dd.toShortDateString(e.date_issued_date)),n.createElement(qn.a,{style:i},e.type),n.createElement(qn.a,{style:i},e.status))}(e,t,a)}}))}},{key:"renderClientUtilTable",value:function(e){return n.createElement(N.a,null,n.createElement(wd,{className:"custom-table-scrollable-small",columns:[{name:"Type",key:"ticketType",filterType:"string",sortType:"string",style:{minWidth:"150px"}},{name:"Total Amount",key:"totalAmount",filterType:"number",sortType:"number",style:{width:"150px"}},{name:"Number of Cases",key:"totalCount",filterType:"number",sortType:"number",style:{width:"130px"}},{name:"Availed by Principals",key:"principalsCount",filterType:"number",sortType:"number",style:{width:"150px"}},{name:"Availed by Dependents",key:"dependentsCount",filterType:"number",sortType:"number",style:{width:"175px"}}],rows:e,renderRow:function(e,t){var a={backgroundColor:t%2===0?"#FFFFFF":"#F6F7FA"},r={textAlign:"right"};return n.createElement(Ii.a,{style:a},n.createElement(qn.a,null,e.ticketType),n.createElement(qn.a,{style:r},"PHP ".concat(Dd.formatNumber(e.totalAmount,!0))),n.createElement(qn.a,{style:r},e.totalCount),n.createElement(qn.a,{style:r},e.principalsCount),n.createElement(qn.a,{style:r},e.dependentsCount))}}),n.createElement(J.a,{className:"small-section",container:!0,spacing:1},n.createElement(J.a,{className:"light-text",item:!0,xs:3},"TOTAL"),n.createElement(J.a,{className:"header-2",item:!0,xs:3},"PHP ".concat(Dd.formatNumber(this.state.ibnrAmount,!0)))))}}]),t}(n.Component),Pd=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{style:{width:"100%",height:0}},this.props.items.map(function(t){return n.createElement("div",{style:{width:t.value/e.props.maxValue*100+"%",height:"6px",display:"inline-block",backgroundColor:t.color}})}),n.createElement("div",{style:{padding:"0.5rem 0"}},this.props.items.map(function(t){return n.createElement("div",{style:{width:1/e.props.items.length*100+"%",height:"6px",display:"inline-block"}},n.createElement("div",null,n.createElement("div",{style:{width:"10px",height:"10px",backgroundColor:t.color,display:"inline-block",marginRight:"1rem"}}),n.createElement("div",{className:"light-text",style:{display:"inline-block"}},t.label1),n.createElement("div",{className:"header-2",style:{color:t.color}},t.label2)))})))}}]),t}(n.Component),Ad=Object(y.a)(function(e){return{list:{width:380,position:"fixed",right:"0px",top:"0px",height:"100%",backgroundColor:"#F5F7FB",boxShadow:"0px 3px 6px #00000029",zIndex:9990},container:{padding:"42px 30px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},fullList:{width:"auto"},value:{fontSize:"16px",color:"rgb(39, 46, 76)",fontWeight:600},name:{fontSize:"12px",paddingBottom:"5px",color:"rgba(39, 46, 76, 0.6)"},itemPadding:{paddingTop:"32px"},fileupload:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"2px",borderRadius:"5px",borderColor:"#7b8094",borderStyle:"dashed",color:"#7b8099",outline:"none",cursor:"pointer",backgroundColor:"#E6E8EE",transition:"border .24s ease-in-out",padding:"8px",width:"100%",height:"65px",textAlign:"center"},upload:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"2px",borderRadius:"5px",borderColor:"#7b8094",borderStyle:"dashed",color:"#7b8099",outline:"none",cursor:"pointer",backgroundColor:"#E6E8EE",transition:"border .24s ease-in-out",padding:"25px",width:"135px",height:"125px",textAlign:"center"},image:{height:"110px",width:"120px",borderRadius:"5px",border:"2px solid #1E20714D"}}}),Bd=function(e){var t=Ad(),a=n.useState(e.memberId),r=Object(g.a)(a,2),i=r[0],o=r[1],l=n.useState(!1),s=Object(g.a)(l,2),c=s[0],m=s[1],d=n.useState("File successfully uploaded."),u=Object(g.a)(d,2),p=u[0],f=u[1],b=n.useState("success"),_=Object(g.a)(b,2),h=_[0],v=_[1];function E(t){if(t.length>0){console.log(">>>>",t);var a=new FileReader;a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.onload=function(){!function(t){e.showHideLoader(!0);var a=e.row_data._id;e.handleOpenLostInternetConnectionModal(),An.uploadMemberDocument(i,a,t).then(function(t){if(e.showHideLoader(!1),t&&t.url){e.handleCloseLostInternetConnectionModal();var a=Pn||"",n=Object(Tn.replace)(t.url,"public/",a);t.url=n;var r=e.all_data;for(var i in r){var o=r[i];if(o._id===e.row_id){o.files&&void 0!==o.files&&null!==o.files?o.files.push(t):(o.files=[],o.files.push(t));break}}e.generateDocumentData(r,!1),m(!0),f("File successfully uploaded."),v("success")}else m(!0),f("File not uploaded."),v("error")}).catch(function(t){console.log("uploadDocument Error",t),e.showHideLoader(!1),m(!0),f("File not uploaded."),v("error")})}(t[0])},a.readAsDataURL(t[0])}}function y(t,a){console.log("e >>>",t," ==== ",a);var n=e.all_data;for(var r in n){var i=n[r];if(i._id===e.row_id){i.files&&void 0!==i.files&&null!==i.files&&i.files.splice(a,1);break}}e.generateDocumentData(n,!1)}return n.useEffect(function(){o(e.memberId)},[e.memberId]),n.createElement(Re.a,{open:e.open,anchor:"right",ModalProps:{hideBackdrop:!0,keepMounted:!0,open:!1}},n.createElement("div",{className:t.list,role:"presentation"},n.createElement(J.a,{container:!0,className:t.container},n.createElement(J.a,{item:!0,xs:12},n.createElement(ne.a,{"data-cy":"view_docs_close_btn",id:"view_docs_close_btn","aria-label":"close",className:t.closeButton,onClick:function(t){console.log("event >>>",t," ==== ",t.type),e.showHideDrawer(!1)}},n.createElement(Xe.a,null))),n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:t.value},e.row_data&&e.row_data.name?e.row_data.name:"")),n.createElement(J.a,{item:!0,xs:12,className:t.itemPadding},n.createElement("div",null,n.createElement(S.a,{className:t.name},"PURPOSE OF DOCUMENT"),n.createElement(S.a,{className:t.value},e.row_data&&e.row_data.purpose?e.row_data.purpose:""))),n.createElement(J.a,{item:!0,xs:12,className:t.itemPadding},n.createElement(S.a,{className:t.name},"FILES")),n.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"10px"}},n.createElement(Yl.a,{onDrop:function(e){return E(e)},accept:"image/*, .pdf"},function(e){var a=e.getRootProps,r=e.getInputProps;return n.createElement("section",null,n.createElement("div",Object.assign({className:t.fileupload},a()),n.createElement("input",Object.assign({"data-cy":"view_docs_upload_file",id:"view_docs_upload_file"},r())),n.createElement(X.a,{className:"fa-lg",icon:Z.s,style:{color:"rgba(39, 46, 76, 0.56)"}}),n.createElement("p",{style:{color:"rgba(39, 46, 76, 0.56)",fontWeight:400,fontSize:"11px"}},"Click or drag/drop additional files")))})),n.createElement(J.a,{item:!0,xs:12,style:{height:"45vh",overflow:"auto",marginTop:"20px"}},n.createElement(J.a,{container:!0,style:{paddingTop:"15px"}},e.row_data&&e.row_data.files&&void 0!==e.row_data.files&&null!==e.row_data.files?e.row_data.files.map(function(e,a){return!e.name||null===e.name||void 0===e.name||"jpeg"!==e.name.split(".").pop()&&"jpg"!==e.name.split(".").pop()&&"png"!==e.name.split(".").pop()?!e.type||null===e.type||void 0===e.type||"image/jpeg"!==e.type&&"image/jpg"!==e.type&&"image/png"!==e.type?n.createElement(J.a,{item:!0,xs:6,style:{marginBottom:"10px"}},n.createElement("span",null,n.createElement("div",null,n.createElement(X.a,{className:"fa-7x",icon:Z.p,style:{color:"#B0AFB8"}})),n.createElement("div",null,n.createElement("span",null,n.createElement("span",{"data-cy":"view_docs_delete_file",id:"view_docs_delete_file",style:{paddingRight:"5px",fontSize:"10px"},onClick:function(e){return y(e,a)}},n.createElement(X.a,{icon:Z.O,style:{color:"#B0AFB8"}})),n.createElement("span",{style:{fontSize:"10px"}},e.filename?e.filename:e.name))))):n.createElement(J.a,{item:!0,xs:6,style:{marginBottom:"10px"}},n.createElement("span",null,n.createElement("img",{src:e.source,className:t.image}),n.createElement("div",null,n.createElement("span",null,n.createElement("span",{"data-cy":"view_docs_delete_file",id:"view_docs_delete_file",style:{paddingRight:"5px",fontSize:"10px"},onClick:function(e){return y(e,a)}},n.createElement(X.a,{icon:Z.O,style:{color:"#B0AFB8"}})),n.createElement("span",{style:{fontSize:"10px"}},e.filename))))):n.createElement(J.a,{item:!0,xs:6,style:{marginBottom:"10px"}},n.createElement("span",null,n.createElement("img",{src:e.url,className:t.image}),n.createElement("div",null,n.createElement("span",null,n.createElement("span",{"data-cy":"view_docs_delete_file",id:"view_docs_delete_file",style:{paddingRight:"5px",fontSize:"10px"},onClick:function(e){return y(e,a)}},n.createElement(X.a,{icon:Z.O,style:{color:"#B0AFB8"}})),n.createElement("span",{style:{fontSize:"10px"}},e.name)))))}):null))),n.createElement(Ql,{isOpen:c,message:p,variant:h,onSnackbarClose:function(){m(!1)}})))};Bd.defaultProps={open:!1};var Id=function(e){var t=Object(n.useState)(0),a=Object(g.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(!1),l=Object(g.a)(o,2),s=l[0],c=l[1],m=Object(n.useState)(""),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)({}),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)(e.memberId),E=Object(g.a)(v,2),y=E[0],x=E[1];function O(t){var a={};if(0===r){var n=e.all_documents_table.rows[t[0]].id;a=e.all_data.find(function(e){return e._id===n}),p(n)}else if(1===r){var i=e.uploaded_documents_table.rows[t[0]].id;a=e.all_data.find(function(e){return e._id===i}),p(i)}else if(2===r){var o=e.missing_documents_table.rows[t[0]].id;a=e.all_data.find(function(e){return e._id===o}),p(o)}h(a),c(!0)}function C(t){e.applySortFilter(t,r,"filter")}function S(t){e.applySortFilter(t,r,"sort")}Object(n.useEffect)(function(){x(e.memberId)},[e.memberId]);var w=function(e){console.log("DOWNLOAD FILES",e),void 0!==e&&e.length>0&&e.forEach(function(e){if(void 0!==e.name&&e.url){var t=document.createElement("a");t.href=e.url,t.download=e.name,t.click()}})};return n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(Nn.a,{value:r,onChange:function(e,t){console.log("event >>>",e),i(t)},"aria-label":"documents tab"},e.documents_tab.map(function(e){return n.createElement(Dn.a,{"data-cy":"view_member_documents_tab_"+e.label,id:"view_member_documents_tab_"+e.label,key:"view_member_documents_tab_"+e.label,label:e.label+" ("+e.count+")","aria-controls":"verify-member-tabpanel-"+e.count})}))),n.createElement(J.a,{item:!0,xs:12,style:{paddingLeft:"24px"}},0===r?n.createElement(ll,{"data-cy":"document_all_table",id:"document_all_table",rows:Object.keys(e.all_documents_table).length>0?e.all_documents_table.rows:[],columns:Object.keys(e.all_documents_table).length>0?e.all_documents_table.columns:[],message:"No available data",onClickRow:O,selectedTab:r,disableSelect:!0,disableSearch:!0,columnFilteringEnabled:!1,formattedColumns:Object.keys(e.all_documents_table).length>0?e.all_documents_table.formattedColumns:{},columnExtensions:Object.keys(e.all_documents_table).length>0?e.all_documents_table.columnExtensions:[],filterExtensions:Object.keys(e.all_documents_table).length>0?e.all_documents_table.filterExtensions:[],onClickCell:e.handleClickCell,onClickDownload:w,onFilterChange:C,onSortingChange:S,defaultFilter:e.all_filter,defaultSort:e.all_sort}):1===r?n.createElement(ll,{"data-cy":"document_uploaded_table",id:"document_uploaded_table",rows:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.rows:[],columns:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.columns:[],message:"No available data",onClickRow:O,onClickDownload:w,selectedTab:r,disableSelect:!0,disableSearch:!0,columnFilteringEnabled:!1,formattedColumns:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.formattedColumns:{},columnExtensions:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.columnExtensions:[],filterExtensions:Object.keys(e.uploaded_documents_table).length>0?e.uploaded_documents_table.filterExtensions:[],onClickCell:e.handleClickCell,onFilterChange:C,onSortingChange:S,defaultFilter:e.uploaded_filter,defaultSort:e.uploaded_sort}):2===r?n.createElement(ll,{"data-cy":"document_missing_table",id:"document_missing_table",rows:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.rows:[],columns:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.columns:[],message:"No available data",onClickRow:O,selectedTab:r,disableSelect:!0,disableSearch:!0,columnFilteringEnabled:!1,formattedColumns:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.formattedColumns:{},columnExtensions:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.columnExtensions:[],filterExtensions:Object.keys(e.missing_documents_table).length>0?e.missing_documents_table.filterExtensions:[],onClickCell:e.handleClickCell,onFilterChange:C,onSortingChange:S,defaultFilter:e.missing_filter,defaultSort:e.missing_sort}):null),n.createElement(J.a,{item:!0,xs:12},n.createElement(Bd,{open:s,showHideDrawer:function(e){c(e)},showHideLoader:e.showHideLoader,memberId:y,row_data:_,row_id:u,updateMemberDocuments:e.updateMemberDocuments,generateDocumentData:e.generateDocumentData,all_data:e.all_data,handleOpenLostInternetConnectionModal:e.handleOpenLostInternetConnectionModal,handleCloseLostInternetConnectionModal:e.handleCloseLostInternetConnectionModal})))};Id.defaultProps={all_data:{},all_documents_table:{},uploaded_documents_table:{},missing_documents_table:{},documents_tab:[],all_filter:[],uploaded_filter:[],missing_filter:[],all_sort:[],uploaded_sort:[],missing_sort:[]};var Rd=Object(y.a)(function(e){return{popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent #363636 transparent"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},paper:{backgroundColor:"#363636",padding:"8px",width:127},status:{padding:"5px",cursor:"pointer"}}}),Ld=function(e){var t=Rd(e),a=e.memberData,i=Object(n.useRef)(null),o=Object(n.useState)(null),l=Object(g.a)(o,2),s=l[0],c=l[1],m=Object(n.useState)(!1),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)(!1),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)(""),E=Object(g.a)(v,2),y=E[0],x=E[1],O=function(){a&&"Suspended"!==Object(Tn.get)(a,"member_status","")&&a.member_suspension&&a.member_suspension.suspension_start_date&&Je()(a.member_suspension.suspension_start_date).isValid()&&Je()(a.member_suspension.suspension_start_date).diff(new Date)>0?(h(!0),x("Marked for suspension")):a&&"Terminated"!==Object(Tn.get)(a,"member_status","")&&a.member_termination&&a.member_termination.termination_date&&Je()(a.member_termination.termination_date).isValid()&&Je()(a.member_termination.termination_date).diff(new Date)>0&&(h(!0),x("Marked for termination"))};return r.a.createElement("span",{"data-cy":"status_popover_hover_span",id:"status_popover_hover_span",onMouseEnter:O,onMouseLeave:function(){h(!1)}},r.a.createElement(Gs.a,{onClickAway:function(){p(!1)}},r.a.createElement("span",{"data-cy":"status_popover_click_span",id:"status_popover_click_span",className:Object(tt.default)("member-status-span"),ref:i,onClick:O},r.a.createElement(X.a,{className:"fa",icon:a&&("Terminated"!==Object(Tn.get)(a,"member_status","")&&a.member_termination&&a.member_termination.termination_date&&Je()(a.member_termination.termination_date).isValid()&&Je()(a.member_termination.termination_date).diff(new Date)>0||"Suspended"!==Object(Tn.get)(a,"member_status","")&&a.member_suspension&&a.member_suspension.suspension_start_date&&Je()(a.member_suspension.suspension_start_date).isValid()&&Je()(a.member_suspension.suspension_start_date).diff(new Date)>0)?Z.o:Z.l,style:{color:a&&a.member_termination&&a.member_termination.termination_date&&Je()(a.member_termination.termination_date).isValid()&&Je()(a.member_termination.termination_date).diff(new Date)>0?"#BC2206":a.member_suspension&&a.member_suspension.suspension_start_date&&Je()(a.member_suspension.suspension_start_date).isValid()&&Je()(a.member_suspension.suspension_start_date).diff(new Date)>0?"#BC2206":"for validation"===a.member_status.toLowerCase()||"pending"===a.member_status.toLowerCase()?"#FAB435":"terminated"===a.member_status.toLowerCase()||"cancelled"===a.member_status.toLowerCase()?"#BC2206":"suspended"===a.member_status.toLowerCase()?"#FD5451":"disapproved"===a.member_status.toLowerCase()?"#8034AD":"expired"===a.member_status.toLowerCase()?"#B5B8C1":"#3AB77D",fontSize:"12px",marginBottom:"1px"}}),r.a.createElement(qe.a,{open:u||_,anchorEl:i.current,placement:"bottom-end",className:t.popper,disablePortal:!1,style:{marginTop:"4px"},modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"undefined"},arrow:{enabled:!0,element:s}}},r.a.createElement("span",{className:t.arrow,ref:c}),r.a.createElement(N.a,{className:t.paper},r.a.createElement(S.a,{style:{fontSize:"10px",color:"white"}},y))))))},Wd=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingLeft:"24px",paddingRight:"24px",width:"30rem"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px"},dialogTitle:{paddingTop:e.spacing(5),marginRight:"64px"},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingTop:e.spacing(2)},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},approveButton:{minWidth:129,marginRight:25,color:"#FFFFFF",backgroundColor:"#3AB77D"},label:{fontSize:"0.75rem"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"}}}),zd=function(e){var t=Object(n.useState)(e.isModalOpen),a=Object(g.a)(t,2),i=a[0],o=a[1],l=Wd();Object(n.useEffect)(function(){e.isModalOpen&&e.resetTerminationData&&e.resetTerminationData(),o(e.isModalOpen)},[e.isModalOpen]);return r.a.createElement(U.a,{maxWidth:!1,open:i,scroll:"paper","aria-labelledby":"modal-title",className:l.dialog,style:{zIndex:1200}},r.a.createElement(Y.a,{className:l.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:l.dialogFirstTitle},"Termination Details"),r.a.createElement(ne.a,{"data-cy":"terminate_member_modal_close_btn",id:"terminate_member_modal_close_btn","aria-label":"close",className:l.closeButton,onClick:function(){return e.onClose()}},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:l.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Zr.a,{"data-cy":"terminate_member_modal_radio_group",id:"terminate_member_modal_radio_group",value:e.terminationData.source,style:{display:"inline-block",paddingLeft:"5px"},onChange:function(t){e.terminationData.source=t.target.value,e.refreshTerminationData()}},r.a.createElement(K.a,{value:"Internal",control:r.a.createElement(Jn.a,{style:{padding:"5px"},color:"primary"}),label:"Internal",labelPlacement:"end"}),r.a.createElement(K.a,{value:"External",control:r.a.createElement(Jn.a,{style:{padding:"5px"},color:"primary"}),label:"External",labelPlacement:"end"}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(Pl,{"data-cy":"terminate_member_modal_terminate_picker",id:"terminate_member_modal_terminate_picker",placeholder:"Date of Termination",labelSize:"small",value:e.terminationData.terminationDate,minDate:new Date,error:!1,error_message:"",onChange:function(t){e.terminationData.terminationDate=t,e.refreshTerminationData()}})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(Pl,{"data-cy":"terminate_member_modal_endorsed_picker",id:"terminate_member_modal_endorsed_picker",placeholder:"Endorsed Date",labelSize:"small",value:e.terminationData.endorsedDate,error:!1,error_message:"",onChange:function(t){e.terminationData.endorsedDate=t,e.refreshTerminationData()}})),"Internal"===e.terminationData.source?r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(F.a,{className:l.label,htmlFor:"add_details_sender_name"},"Endorsed by"),r.a.createElement(j.a,{"data-cy":"terminate_member_modal_endorint_field",id:"terminate_member_modal_endorint_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",value:e.terminationData.endorsedBy,onChange:function(t){e.terminationData.endorsedBy=t.target.value,e.refreshTerminationData()},inputProps:{"aria-label":"bare"}})):r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(Wl,{"data-cy":"terminate_member_modal_endorext_select",id:"terminate_member_modal_endorext_select",labelSize:"small",options:[{value:"Client",label:"Client"},{value:"Broker",label:"Broker"}],label:"Endorsed by",value:e.terminationData.endorsedType,onChange:function(t){e.terminationData.endorsedType=t,e.refreshTerminationData()},error:!1,error_message:""})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(Wl,{"data-cy":"terminate_member_modal_sentvia_select",id:"terminate_member_modal_sentvia_select",labelSize:"small",options:[{value:"Email",label:"Email"},{value:"Ticket",label:"Ticket"},{value:"Portal",label:"Portal"},{value:"Fax",label:"Fax"}],label:"Sent via",value:e.terminationData.sentVia,onChange:function(t){e.terminationData.sentVia=t,e.refreshTerminationData()},error:!1,error_message:""})),"External"===e.terminationData.source?r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(F.a,{className:l.label,htmlFor:"add_details_sender_name"},"Person who endorsed"),r.a.createElement(j.a,{"data-cy":"terminate_member_modal_endorext_field",id:"terminate_member_modal_endorext_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",value:e.terminationData.endorsedBy,onChange:function(t){e.terminationData.endorsedBy=t.target.value,e.refreshTerminationData()},inputProps:{"aria-label":"bare"}})):null,"External"===e.terminationData.source?r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(F.a,{className:l.label,htmlFor:"add_details_sender_name"},"Email Address"),r.a.createElement(j.a,{"data-cy":"terminate_member_modal_email_field",id:"terminate_member_modal_email_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",value:e.terminationData.email,onChange:function(t){e.terminationData.email=t.target.value,e.refreshTerminationData()},inputProps:{"aria-label":"bare"}})):null,r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(Wl,{"data-cy":"terminate_member_modal_reason_select",id:"terminate_member_modal_reason_select",labelSize:"small",options:[{value:"Death",label:"Death"},{value:"Resignation",label:"Resignation"},{value:"Non - affiliation",label:"Non - affiliation"},{value:"Enrolment to other HMO",label:"Enrolment to other HMO"},{value:"Other",label:"Other"}],label:"Reason",value:e.terminationData.reason,onChange:function(t){e.terminationData.reason=t,e.refreshTerminationData()},error:!1,error_message:""})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(F.a,{className:l.label,htmlFor:"add_details_sender_name"},"Ticket Number"),r.a.createElement(j.a,{"data-cy":"terminate_member_modal_ticketno_field",id:"terminate_member_modal_ticketno_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",value:e.terminationData.ticketNo,onChange:function(t){e.terminationData.ticketNo=t.target.value,e.refreshTerminationData()},inputProps:{"aria-label":"bare"}})))),r.a.createElement("div",{style:{paddingBottom:"4rem"}})),r.a.createElement(q.a,{className:l.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"terminate_member_modal_cancel_btn",id:"terminate_member_modal_cancel_btn",className:l.cancelButton,variant:"contained",color:"secondary",onClick:function(){return e.onClose()}},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"terminate_member_modal_btn",id:"terminate_member_modal_btn",className:l.approveButton,style:{background:"#FD5451"},variant:"contained",color:"primary",onClick:e.onSubmit},"Submit")))))},Ud=a(8),Yd=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500,overflowY:"hidden"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:400},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(6)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:140,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"},textValue:{fontWeight:700,fontSize:14},textLabel:{color:"#a7abb7"},gridItem:{}}}),Vd=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#3ab77d","&:hover":{backgroundColor:"#2c9263"}}})(z.a),Hd=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),qd=function(e){var t=Yd(),a=e.isModalOpen,r=e.memberData,i=e.onLiftConfirmSuspension,o=e.onClose,l=e.id,s=e.effectiveLiftSuspension;return n.createElement(U.a,{id:l,maxWidth:!1,open:a,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:1200}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Confirm Lifting of Suspension"),n.createElement(ne.a,{"data-cy":"lift_suspension_conmod_close_btn",id:"lift_suspension_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:o},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{container:!0,spacing:3,style:{padding:"1.5em 0"}},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{style:{fontSize:14}},"Are you sure you want to lift the suspension of membership of"," ",n.createElement("b",null,r?"".concat(r.first_name," ").concat(r.last_name):""," ","in"," ",r&&r.client_object?r.client_object.registered_name:"")," ","effective"," ",n.createElement("b",null,s?Ud(s).format("MMM DD, YYYY"):"","?"))))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Hd,{"data-cy":"lift_suspension_conmod_cancel_btn",id:"lift_suspension_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:o},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Vd,{"data-cy":"lift_suspension_conmod_btn",id:"lift_suspension_conmod_btn",className:t.submitButton,variant:"contained",color:"primary",onClick:function(){var e={suspension_lift_date:Ud(s).toISOString(),delete_dt:Ud().toISOString()};i(e)}},"Lift Suspension")))))},Gd=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},hmodependentsbox:{height:175,borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmodependentsbox_link:{color:"rgb(39, 46, 76)"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",maxWidth:"400px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#24B070",color:"#24B070"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"}}}),Jd=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#24B070","&:hover":{backgroundColor:"#25ba77"}}})(z.a),Kd=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Xd=function(e){var t=Gd();return n.createElement(U.a,{maxWidth:!1,open:e.isModalOpen,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Confirm Cancelling of Suspension"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"cancel_suspension_modal_close_btn",id:"cancel_suspension_modal_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,null,"Are you sure you want to cancel the suspension of membership of",n.createElement("span",{style:{fontWeight:"bold"}}," ".concat(e.memberData?e.memberData.first_name+" "+e.memberData.last_name:""))," in",n.createElement("span",{style:{fontWeight:"bold"}}," ".concat(e.clientRegisteredName?e.clientRegisteredName:"","? "))))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Kd,{"data-cy":"cancel_suspension_modal_cancel_btn",id:"cancel_suspension_modal_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Jd,{"data-cy":"cancel_suspension_modal_btn",id:"cancel_suspension_modal_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onCancelSuspension(e.memberData._id),e.onClose()}},"Cancel Suspension")))))};Xd.defaultProps={isModalOpen:!1};var Zd=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500,overflowY:"hidden"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:400},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(6)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:140,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"},textValue:{fontWeight:700,fontSize:14},textLabel:{color:"#a7abb7"},gridItem:{}}}),Qd=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#3ab77d","&:hover":{backgroundColor:"#2c9263"}}})(z.a),$d=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),eu=function(e){var t=Zd(),a=e.onLiftSuspension,r=e.isModalOpen,i=e.memberData,o=e.id,l=n.useState(null),s=Object(g.a)(l,2),c=s[0],m=s[1],d=function(){m(null),e.onClose()};return n.createElement(U.a,{id:o,maxWidth:!1,open:r,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:1200}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Lift Suspension Details"),n.createElement(ne.a,{"data-cy":"lift_suspension_modal_close_btn",id:"lift_suspension_modal_close_btn","aria-label":"close",className:t.closeButton,onClick:d},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{container:!0,spacing:3,style:{padding:"1.5em 0"}},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:t.textLabel},"EFFECTIVE DATE OF SUSPENSION"),n.createElement(S.a,{className:t.textValue},function(){var e=Object(Tn.get)(i,"member_suspension.suspension_start_date",null);if(!Object(Tn.isNil)(e)){var t=Je()(e);if(!Object(Tn.isNil)(t)&&t.isValid())return t.format("MMM DD, YYYY")}return"-"}())),n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:t.textValue},"Effective Date of Lifting"),n.createElement(Pl,{"data-cy":"lift_suspension_modal_lift_picker",id:"lift_suspension_modal_lift_picker",placeholder:"",labelSize:"small",value:null!==c?c:i&&i.member_suspension&&i.member_suspension.suspension_lift_date?Je()(i.member_suspension.suspension_lift_date):null,error:!1,error_message:"",onChange:function(e){m(e)}})))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement($d,{"data-cy":"lift_suspension_modal_cancel_btn",id:"lift_suspension_modal_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:d},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Qd,{"data-cy":"lift_suspension_modal_btn",id:"lift_suspension_modal_btn",className:t.submitButton,variant:"contained",color:"primary",onClick:function(){null!==c?(a(c),m(null)):(a(i&&i.member_suspension&&i.member_suspension.suspension_lift_date?Je()(i.member_suspension.suspension_lift_date):null),m(null))}},"Lift Suspension")))))};function tu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var au={plan_type:"",is_vip:!1,is_philhealth_rider:!1,dependents:{}},nu=Object(y.a)({leftButton:{padding:"0px 8px",height:"40px",width:"150px",border:"2px solid #3AB77D","&.Mui-disabled":{backgroundColor:"#E4E4E4",border:"1px solid #C3C3C3"}}});function ru(e){var t=nu();return n.createElement("div",null,n.createElement(z.a,{"data-cy":"documents_save_btn",id:"documents_save_btn",className:t.leftButton,variant:"contained",color:"primary",size:"small",disabled:e.disabled,onClick:e.handleSave},"Save"))}var iu=Object(y.a)({leftButton1:{padding:"0px 8px",height:"40px",width:"150px",backgroundColor:"#3AB77D62",border:"2px solid #3AB77D"},leftButton2:{padding:"0px 8px",height:"40px",width:"150px",border:"2px solid #3AB77D"}});function ou(e){var t=iu();return n.createElement("div",null,n.createElement(z.a,{"data-cy":"edit_member_cancel_btn",id:"edit_member_cancel_btn",className:t.leftButton1,variant:"contained",color:"primary",size:"small",onClick:e.handleCancel},"Cancel"),"\xa0\xa0\xa0",n.createElement(z.a,{"data-cy":"edit_member_save_btn",id:"edit_member_save_btn",className:t.leftButton2,variant:"contained",color:"primary",size:"small",onClick:e.handleSave},"Save"))}var lu=Object(y.a)(function(e){return{success:{backgroundColor:"#E6F5F6",borderColor:"#E6F5F6"},error:{backgroundColor:e.palette.error.light,borderColor:e.palette.error.light},info:{backgroundColor:e.palette.primary.main},icon:{fontSize:20,color:"#363636"},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{color:"#272E4C",display:"flex",alignItems:"center"}}});function su(e){var t=lu(),a=e.className,r=e.message,i=e.onClose,o=e.variant,l=Object(Wn.a)(e,["className","message","onClose","variant"]);return n.createElement(Gl.a,Object.assign({className:Object(tt.default)(t[o],a),"aria-describedby":"client-snackbar",message:n.createElement("span",{id:"client-snackbar",className:t.message},r),action:[n.createElement(ne.a,{"data-cy":"view_member_snackbar_close_btn",id:"view_member_snackbar_close_btn",key:"close","aria-label":"close",color:"inherit",onClick:i},n.createElement(Xe.a,{className:t.icon}))]},l))}var cu=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).reset=function(){a.setState({loading:!1,sideNav:"hmo_information",fullName:""})},a.setSideNav=function(e){a.setState({sideNav:e})},a.setLoading=function(e){a.setState({loading:e})},a.modalClose=function(){a.setState({modalVisibility:!1})},a.isValidDate=function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())},a.alHandleSearch=function(e){var t=e.target.value;a.setState({al_global_filter:t},function(){return a.alHandleFilterChange()})},a.alHandleFilterChange=function(){},a.getMemberData=function(){a.setState({loading:!0,check_internet_flag:!0}),An.getMemberData(a.props.match.params.member_id).then(function(e){if(a.setState({loading:!1,check_internet_flag:!1}),e){var t=e&&e.first_name?e.first_name:"",n=e&&e.middle_name?e.middle_name.charAt(0)+".":"",r=e&&e.last_name?e.last_name:"";a.setState({memberData:e,fullName:t+" "+n+" "+r});var i=e.temp_id,o=e.member_status;a.fetchMemberDependents(i,o,function(){})}})},a.queryStringToJSON=function(e){if(e.trim().length<1)return{};var t=e.slice(1).split("&"),a={};return t.forEach(function(e){e=e.split("="),a[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(a))},a.fetchMemberLogs=function(){Mn.a.isNil(a.props.match.params.member_id)||(a.setState({loading:!0,check_internet_flag:!0}),An.getMemberLogs(a.props.match.params.member_id).then(function(e){if(e&&void 0===e.error){var t=e.map(function(e){var t=Je()(e.revision_date),a=t.format("MMM DD, YYYY"),n=t.format("hh:mm:ss A");return e.revision_date=a,e.revision_time=n,e});a.setState({loading:!1,check_internet_flag:!1,memberLogs:t})}else a.setState({loading:!1,isOpenModal:!0,modalTitle:"Loading failed",modalMessage:"An error occured while loading list of member logs."})}).catch(function(){a.setState({loading:!1,isOpenModal:!0,modalTitle:"Loading failed",modalMessage:"An error occured while loading list of member logs."})}))},a.fetchMemberDependents=function(e,t,n){e&&""!==e?(a.setState({check_internet_flag:!0}),An.getMemberDependents(e).then(function(e){e&&void 0===e.error?a.setState({memberDependents:e,check_internet_flag:!1},function(){n()}):n()})):n()},a.fetchMemberPrincipal=function(e,t){e&&""!==e?(a.setState({check_internet_flag:!0}),An.getMemberPrincipal(e).then(function(e){e&&void 0===e.error?a.setState({memberPrincipal:e,check_internet_flag:!1},function(){t()}):t()})):t()},a.loadMemberInformation=function(e){var t=Object(jn.a)(a);t.setState({loading:!0,check_internet_flag:!0},function(){An.getMemberData(t.props.match.params.member_id).then(function(n){if(console.log("Member Info",n),n&&void 0===n.error){var r=n&&n.first_name?n.first_name:"",i=n&&n.middle_name?n.middle_name.charAt(0)+".":"",o=n&&n.last_name?n.last_name:"",l=n.client_id,s=n.contracts&&n.contracts.length>0?n.contracts[0]:"",c=n.plan_type?n.plan_type:"";if(t.setState({check_internet_flag:!1,memberData:n,fullName:r+" "+i+" "+o,contractId:s}),a.appendDocumentData(t.state.memberData.documents),"Principal"===n.member_type){var m=n.temp_id,d=n.member_status;t.fetchMemberDependents(m,d,function(){})}else if("Dependent"===n.member_type){var u=n.principal_temp_id;t.fetchMemberPrincipal(u,function(){})}t.setState({check_internet_flag:!0}),An.getClientHMOInfo(l).then(function(a){if(a&&void 0===a.error){var n=a.client,r=a.benefit_plan_tree,i=a.plan_types,o=[],l="",s="",m="",d="",u=null,p=[{system_name:"Corporate Acct. Name",field_name:"registered_name",is_required:!1,input_type:"text",is_client_added:!1,is_editable:!1},{system_name:"Card Name",field_name:"name_on_card",is_required:!1,input_type:"text",is_client_added:!1,is_editable:!1}];if(n&&n.member_data_fields&&n.member_data_fields.length>0){var f=["member_card_no","member_account_no","date_printed"];n.member_data_fields.forEach(function(e){if("Client-required"===e.field_type&&!f.includes(e.field_name)){var t="Date Field"===e.input_type?"date":"Numeric"===e.data_type?"number":"text";p.push({system_name:e.system_name,field_name:e.field_name,is_required:e.is_required,input_type:t,is_client_added:e.is_client_added,is_editable:!0})}})}i&&i.length>0&&(o=i.map(function(e){return{id:e.plan_type_code,value:e.plan_type_name,label:e.plan_type_name}}));var b=null;if(r&&r.length>0&&(b=Mn.a.find(r,function(e){return"MCT"===e.tree_id}),Mn.a.isNil(b)||(l=b.name?"Version "+b.version:""),u=Mn.a.find(r,function(e){return c&&e.name===c&&"PlanType"===e.type}),!Mn.a.isNil(u))){var g=Mn.a.find(r,function(e){return e.tree_id==="MCT-CT-"+u.code+"-RB"});if(!Mn.a.isNil(g)){var _=Mn.a.get(g,"limits",[]);Mn.a.forEach(_,function(e){switch(e.type){case"ABL":s="".concat(e.limit_unit," ").concat(qr.formatNumber(e.limit));break;case"MBL":m="".concat(e.limit_unit," ").concat(qr.formatNumber(e.limit));break;case"PEC":switch(Mn.a.get(e,"limit_unit","")){case"PHP":d="".concat(e.limit_unit," ").concat(qr.formatNumber(e.limit));break;case"Percentage":d="".concat(qr.formatNumber(e.limit)," %");break;case"Months":var t=Mn.a.get(e,"time_based_limit",[]);if(t.length>0){var a=[];Mn.a.forEach(t,function(e){a.push("".concat(qr.formatNumber(Mn.a.get(e,"number_month",0))," ").concat(Mn.a.get(e,"day_based","")))}),d=a.join(", ")}break;default:d=""}}})}}t.setState({clientData:n||null,contractName:l,plan_type_options:o,clientFields:p,ABL:s,MBL:m,PEC:d,planTypeNode:u,mctNode:b,loading:!1,check_internet_flag:!1},function(){e(!0)})}else console.log("get client hmo error ",a.error),t.setState({loading:!1}),e(!1)}).catch(function(a){console.log("get client hmo error ",a),t.setState({loading:!1}),e(!1)})}else console.log("get member data error ",n.error),t.setState({loading:!1}),e(!1)}).catch(function(a){console.log("get member data error ",a),t.setState({loading:!1}),e(!1)})})},a.componentDidMount=function(){a.getUser();var e=Object(jn.a)(a);a.loadMemberInformation(function(t){if(t){var n=JSON.parse(JSON.stringify(e.props)),r=e.queryStringToJSON(n.location.search);if(r&&r.edit&&"true"===r.edit||a.props.match.params.source_id){var i=e._generateEditMemberValues();e.setState({editMemberValues:i,errorFields:[],dependentsErrorFields:{},edit_mode:!0})}else e.setState({edit_mode:!1})}})},a.appendDocumentData=function(e){var t=[{_id:"birth_certificate",name:"Birth Certificate",purpose:"",files:[],required:!1,uploaded:!1},{_id:"baptismal_certificate",name:"Baptismal Certificate",purpose:"",files:[],required:!1,uploaded:!1},{_id:"marriage_certificate",name:"Marriage Certificate",purpose:"",files:[],required:!1,uploaded:!1},{_id:"solo_parent_id",name:"Solo Parent ID",purpose:"",files:[],required:!1,uploaded:!1},{_id:"proof_of_parentage",name:"Other proof of Parentage",purpose:"",files:[],required:!1,uploaded:!1},{_id:"certificate_no_marriage",name:"Certificate of No Marriage",purpose:"",files:[],required:!1,uploaded:!1},{_id:"annulment_papers",name:"Annulment Papers",purpose:"",files:[],required:!1,uploaded:!1},{_id:"passport",name:"Passport",purpose:"",files:[],required:!1,uploaded:!1},{_id:"scanned_hmo_card",name:"Scanned HMO Card",purpose:"",files:[],required:!1,uploaded:!1},{_id:"death_certificate",name:"Death Certificate",purpose:"",files:[],required:!1,uploaded:!1},{_id:"employee_id",name:"Employee ID",purpose:"",files:[],required:!1,uploaded:!1},{_id:"proof_overseas_employment",name:"Proof of Overseas Employment",purpose:"",files:[],required:!1,uploaded:!1},{_id:"others",name:"Others",purpose:"",files:[],required:!1,uploaded:!1}];void 0!==e&&e.length>0&&e.forEach(function(e){var a=Mn.a.find(t,function(t){return t._id===e.type});a&&a.files&&a.files.push(e)}),a.generateDocumentData(t,!0)},a.componentWillMount=function(){},a.updateMemberDocuments=function(e){var t=a.props.match.params.member_id,n=a.state.memberData,r=[e];n&&n.documents&&n.documents.length>0&&(r=[].concat(Object(Ln.a)(n.documents),[e]));var i=Object.assign(n,{documents:r});a.setState({check_internet_flag:!0}),An.patchMemberData(t,i).then(function(e){console.log("patchMemberData",e),a.setState({check_internet_flag:!1})}).catch(function(e){console.log("patchMemberData",e),a.setState({})})},a.handleFileType=function(e){var t=e.substring(e.length-4);return t.includes("pdf")?"pdf":t.includes("doc")?"doc":"others"},a.generateDocumentData=function(e,t){var n={formattedColumns:{required_checkbox:["required"],upload_file:["action"],required_cell:["files"]},columnExtensions:[{columnName:"required",width:100},{columnName:"name",width:250},{columnName:"purpose",width:250},{columnName:"files",wordWrapEnabled:!0},{columnName:"action",width:150}],filterExtensions:[{columnName:"required",filteringEnabled:!1},{columnName:"name",filteringEnabled:!0},{columnName:"purpose",filteringEnabled:!0},{columnName:"files",filteringEnabled:!0},{columnName:"action",filteringEnabled:!1}],columns:[{name:"required",title:"Required?",filteringEnabled:!1,sortingEnabled:!1},{name:"name",title:"Documents",filteringEnabled:!0,sortingEnabled:!0},{name:"purpose",title:"Purpose of Document",filteringEnabled:!0,sortingEnabled:!0},{name:"files",title:"File/s",filteringEnabled:!0,sortingEnabled:!0},{name:"action",title:"Action",filteringEnabled:!1,sortingEnabled:!1}],rows:[]},r={formattedColumns:{required_checkbox:["required"],upload_file:["action"],required_cell:["files"]},columnExtensions:[{columnName:"required",width:100},{columnName:"name",width:250},{columnName:"purpose",width:250},{columnName:"files",wordWrapEnabled:!0},{columnName:"action",width:150}],filterExtensions:[{columnName:"required",filteringEnabled:!1},{columnName:"name",filteringEnabled:!0},{columnName:"purpose",filteringEnabled:!0},{columnName:"files",filteringEnabled:!0},{columnName:"action",filteringEnabled:!1}],columns:[{name:"required",title:"Required?",filteringEnabled:!1,sortingEnabled:!1},{name:"name",title:"Documents",filteringEnabled:!0,sortingEnabled:!0},{name:"purpose",title:"Purpose of Document",filteringEnabled:!0,sortingEnabled:!0},{name:"files",title:"File/s",filteringEnabled:!0,sortingEnabled:!0},{name:"action",title:"Action",filteringEnabled:!1,sortingEnabled:!1}],rows:[]},i={formattedColumns:{required_checkbox:["required"],upload_file:["action"],required_cell:["files"]},columnExtensions:[{columnName:"required",width:100},{columnName:"name",width:250},{columnName:"purpose",width:250},{columnName:"files",wordWrapEnabled:!0},{columnName:"action",width:150}],filterExtensions:[{columnName:"required",filteringEnabled:!1},{columnName:"name",filteringEnabled:!0},{columnName:"purpose",filteringEnabled:!0},{columnName:"files",filteringEnabled:!0},{columnName:"action",filteringEnabled:!1}],columns:[{name:"required",title:"Required?",filteringEnabled:!1,sortingEnabled:!1},{name:"name",title:"Documents",filteringEnabled:!0,sortingEnabled:!0},{name:"purpose",title:"Purpose of Document",filteringEnabled:!0,sortingEnabled:!0},{name:"files",title:"File/s",filteringEnabled:!0,sortingEnabled:!0},{name:"action",title:"Action",filteringEnabled:!1,sortingEnabled:!1}],rows:[]};Mn.a.forEach(e,function(e){var t=e._id,o=e.required,l=e.name,s=e.purpose,c=e.files,m={id:t,required:o,name:l,purpose:s,files:"",action:"",disabled:!1};if(c&&void 0!==c&&null!==c&&c.length>0){var d=[],u=[],p=[],f={};Mn.a.forEach(c,function(e){f={type:a.handleFileType(e.url),url:e.url,name:e.name},d.push(e.name),u.push(e.name),p.push(f),f={}}),m.files=d.join(", "),m.filearray=p,u.length>0&&r.rows.push(m)}else o&&void 0!==o&&null!==o&&!0===o&&i.rows.push(m);n.rows.push(m)});var o=[{label:"All",count:r.rows.length+i.rows.length},{label:"Uploaded Documents",count:r.rows.length},{label:"Missing Documents",count:i.rows.length}];a.setState({documents_all_data:e,documents_all_table:n,documents_uploaded_table:r,documents_missing_table:i,documents_tab:o,disableSaveBtn:t})},a.handleClickCell=function(e){if(Object.keys(e).length>0){a.setLoading(!0);var t=a.state.documents_all_data;Mn.a.forEach(t,function(a,n){return a._id!==e.id||("required"===e.name?t[n].required="true"===e.value||!0===e.value:"action"===e.name&&(t[n].files&&void 0!==t[n].files&&null!==t[n].files?t[n].files.push(e.value):(t[n].files=[],t[n].files.push(e.value))),!1)}),a.generateDocumentData(t,!1),a.setLoading(!1)}},a.handleSaveDocument=function(){var e=a.state.documents_all_data,t=[];e&&e.length>0&&Mn.a.forEach(e,function(e){var a=e.files;a&&a.length>0&&t.push.apply(t,Object(Ln.a)(a))}),a.setState({loading:!0,check_internet_flag:!0});var n=a.props.match.params.member_id,r=a.state.memberData,i=Object.assign(r,{documents:t});An.patchMemberData(n,i).then(function(e){console.log("patchMemberData",e),e&&void 0===e.error?a.setState({check_internet_flag:!1,loading:!1,disableSaveBtn:!0,isOpenModal:!0,modalTitle:"Success",modalMessage:"Successfully saved changes on documents.."}):a.setState({loading:!1,isOpenModal:!0,modalTitle:"Error",modalMessage:"Failed to save documents."})}).catch(function(e){console.log("patchMemberData",e),a.setState({loading:!1})})},a.setFieldValue=function(e,t){a.setState(function(a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tu(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tu(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,Object(wi.a)({},e,t))})},a.handleDocumentFilter=function(e,t,n){var r=a.state.documents_all_data,i={formattedColumns:{required_checkbox:["required"],upload_file:["action"],required_cell:["files"]},columnExtensions:[{columnName:"required",width:100},{columnName:"name",width:200},{columnName:"purpose",width:200},{columnName:"files",width:250}],filterExtensions:[{columnName:"required",filteringEnabled:!1},{columnName:"name",filteringEnabled:!0},{columnName:"purpose",filteringEnabled:!0},{columnName:"files",filteringEnabled:!0},{columnName:"action",filteringEnabled:!1}],columns:[{name:"required",title:"Required?",filteringEnabled:!1,sortingEnabled:!1},{name:"name",title:"Documents",filteringEnabled:!0,sortingEnabled:!0},{name:"purpose",title:"Purpose of Document",filteringEnabled:!0,sortingEnabled:!0},{name:"files",title:"File/s",filteringEnabled:!0,sortingEnabled:!0},{name:"action",title:"Action",filteringEnabled:!1,sortingEnabled:!1}],rows:[]};for(var o in r){var l=r[o],s={id:l._id,required:l.required,name:l.name,purpose:l.purpose,files:"",action:""};l.files&&void 0!==l.files&&null!==l.files&&l.files.length>0?function(){var e=[],n=[],r=[],o={};l.files.forEach(function(t){o={type:a.handleFileType(t.url),url:t.url,name:t.name},e.push(t.name),n.push(t.name),r.push(o),o={}}),s.files=e.join(", "),s.filearray=r,n.length>0&&1===t&&i.rows.push(s)}():l.required&&void 0!==l.required&&null!==l.required&&!0===l.required&&2===t&&i.rows.push(s),0===t&&i.rows.push(s)}var c=a.state,m=c.documents_all_sort,d=c.documents_uploaded_sort,u=c.documents_missing_sort,p=c.documents_all_filter,f=c.documents_uploaded_filter,b=c.documents_missing_filter;switch(t){case 0:"filter"===n?(i=a.applySortFilter(i,m,e),a.setState({documents_all_filter:e,documents_all_table:i})):(i=a.applySortFilter(i,e,p),a.setState({documents_all_sort:e,documents_all_table:i}));break;case 1:"filter"===n?(i=a.applySortFilter(i,d,e),a.setState({documents_uploaded_filter:e,documents_uploaded_table:i})):(i=a.applySortFilter(i,e,f),a.setState({documents_uploaded_sort:e,documents_uploaded_table:i}));break;case 2:"filter"===n?(i=a.applySortFilter(i,u,e),a.setState({documents_missing_filter:e,documents_missing_table:i})):(i=a.applySortFilter(i,e,b),a.setState({documents_missing_sort:e,documents_missing_table:i}))}},a.applySortFilter=function(e,t,a){var n=[];if(t&&t[0]&&t[0].columnName)switch(t[0].columnName){case"name":"asc"===t[0].direction?e.rows.sort(function(e,t){return e.name>t.name?1:-1}):e.rows.sort(function(e,t){return e.name>t.name?-1:1});break;case"purpose":"asc"===t[0].direction?e.rows.sort(function(e,t){return e.purpose>t.purpose?1:-1}):e.rows.sort(function(e,t){return e.purpose>t.purpose?-1:1});break;case"files":"asc"===t[0].direction?e.rows.sort(function(e,t){return e.files>t.files?1:-1}):e.rows.sort(function(e,t){return e.files>t.files?-1:1})}var r="",i="",o="";return a.forEach(function(e){"name"===e.columnName&&(r=e.value.toLowerCase()),"purpose"===e.columnName&&(i=e.value.toLowerCase()),"files"===e.columnName&&(o=e.value.toLowerCase())}),a.length>0&&(e.rows.forEach(function(e){void 0!==e.name&&null!==e.name&&e.name.toLowerCase().includes(r)&&void 0!==e.purpose&&null!==e.purpose&&e.purpose.toLowerCase().includes(i)&&void 0!==e.files&&null!==e.files&&e.files.toLowerCase().includes(o)&&n.push(e)}),e.rows=n),e},a.closeModalMessage=function(){a.setState({modalTitle:"",modalMessage:"",isOpenModal:!1})},a.handleRedirect=function(e){e&&e.trim()&&a.setState({redirectUrl:e,redirectPage:!0})},a.handleRemarkSubmit=function(e){var t=a.state.memberData._id,n=Object(jn.a)(a);n.setState({loading:!0},function(){An.postMemberRemark("Member Profile",t,e).then(function(e){e?n.setState({loading:!1,openSnackbar:!0,variant:"success",snackbarMessage:"Successfully added member remark."},function(){n.loadMemberInformation(function(e){if(e){var t=JSON.parse(JSON.stringify(n.props)),r=n.queryStringToJSON(t.location.search);if(r&&r.edit&&"true"===r.edit||a.props.match.params.source_id){var i=n._generateEditMemberValues();n.setState({editMemberValues:i,errorFields:[],dependentsErrorFields:{},edit_mode:!0})}else n.setState({edit_mode:!1})}})}):n.setState({loading:!1,openSnackbar:!0,variant:"error",snackbarMessage:"An error occurred while adding member remark."})}).catch(function(){n.setState({loading:!1,openSnackbar:!0,variant:"error",snackbarMessage:"An error occurred while adding member remark"})})})},a.handleShowModal=function(e){switch(e){case"suspend":a.setState({isOpenSuspendModal:!0});break;case"terminate":a.setState({isOpenTerminateModal:!0});break;case"active":a.setState({isOpenActiveConfirmModal:!0});break;case"cancel":a.setState({isOpenCancelModal:!0});break;case"awaiting":a.setState({isOpenAwaitingModal:!0});break;case"disapprove":a.setState({isOpenDisapproveModal:!0});break;case"liftSuspension":a.setState({isOpenLiftSuspensionModal:!0});break;case"reactivate":a.state.memberData&&"Principal"===a.state.memberData.member_type?a.setState({isOpenReactivatePModal:!0}):a.state.memberData&&"Dependent"===a.state.memberData.member_type&&a.setState({isOpenReactivateDModal:!0});break;case"cancel termination":a.setState({isOpenCancelTerminationConfirmModal:!0});break;case"cancel_suspension":a.setState({isOpenCancelSuspensionModal:!0})}},a.onCancelTermination=function(e){a.setState({loading:!0,check_internet_flag:!0}),An.cancelMemberTermination(e).then(function(e){e&&e.error&&e.error.message?a.setState({loading:!1,isOpenModal:!0,modalTitle:"Cancel Termination Failed",modalMessage:e.error.message}):(console.log("terminated",e),a.setState({loading:!1}),a.getMemberData())}).catch(function(e){console.log(e),a.setState({check_internet_flag:!1,loading:!1,isOpenModal:!0,modalTitle:"Cancel Termination Failed",modalMessage:e.message})})},a.onCancelSuspension=function(e){a.setState({loading:!0}),An.cancelSuspension(e).then(function(e){e&&e.error&&e.error.message?a.setState({loading:!1,isOpenModal:!0,modalTitle:"Cancel Suspension Failed",modalMessage:e.error.message}):(console.log("cancel suspension",e),a.setState({loading:!1}),a.getMemberData())}).catch(function(e){console.log(e),a.setState({loading:!1,isOpenModal:!0,modalTitle:"Cancel Suspension Failed",modalMessage:e.message})})},a.closeCancelTerminationConfirmModal=function(){a.setState({isOpenCancelTerminationConfirmModal:!1})},a.closeCancelSuspensionModal=function(){a.setState({isOpenCancelSuspensionModal:!1})},a.closeLiftSuspensionModal=function(){a.setState({isOpenLiftSuspensionModal:!1})},a.closeLiftSuspensionConfirmModal=function(){a.setState({isOpenLiftSuspensionConfirmModal:!1})},a.closeSuspendModal=function(){a.setState({isOpenSuspendModal:!1})},a.closeSuspendConfirmModal=function(){a.setState({isOpenSuspendConfirmModal:!1})},a.closeTerminateConfirmModal=function(){a.setState({isOpenTerminateConfirmModal:!1})},a.closeActiveConfirmModal=function(){a.setState({isOpenActiveConfirmModal:!1})},a.closeCancelMemberModal=function(){a.setState({isOpenCancelModal:!1})},a.handleLiftSuspensionModal=function(e){a.setState({isOpenLiftSuspensionModal:!1,isOpenLiftSuspensionConfirmModal:!0,dataForLiftSuspensionConfirmModal:e})},a.handleLiftSuspensionConfirmModal=function(e){var t=a.state.memberData;ka.StorageService("user_data").then(function(n){if(n&&n.length>0){var r="";n.forEach(function(e){"first_name"===e.key&&""!==r?r=e.value+" "+r:"first_name"===e.key&&(r=e.value),"last_name"===e.key&&""!==r?r=r+" "+e.value:"last_name"===e.key&&(r=e.value)});var i=t&&t.member_suspension?t.member_suspension:"",o={_id:t._id,delete_dt:e.delete_dt,suspension_started_by:""!==i?i.suspension_started_by:"",suspension_start_date:""!==i?i.suspension_start_date:Je()().toISOString(),suspension_lifted_by:r,suspension_lift_date:e.suspension_lift_date};a.setState({loading:!0}),An.liftSuspensionMember(t._id,o).then(function(e){var t=Mn.a.get(e,"error",null);Mn.a.isNil(t)?(a.setState({loading:!1,isOpenModal:!0,modalTitle:"Lifting Suspension Success",modalMessage:"Successfully updated member's data",isOpenLiftSuspensionConfirmModal:!1}),a.getMemberData()):a.setState({loading:!1,isOpenModal:!0,modalTitle:"Lifting Suspension failed",modalMessage:t.message,isOpenLiftSuspensionConfirmModal:!1})})}})},a.closeReactivatePModal=function(){a.setState({isOpenReactivatePModal:!1})},a.closeReactivatePConfirmModal=function(){a.setState({isOpenReactivatePConfirmModal:!1,dataForReactivatePConfirmModal:{}})},a.closeReactivateDModal=function(){a.setState({isOpenReactivateDModal:!1})},a.closeReactivateDConfirmModal=function(){a.setState({isOpenReactivateDConfirmModal:!1,dataForReactivatePConfirmModal:{}})},a.handleSuspendMember=function(e){a.setState({isOpenSuspendConfirmModal:!0,dataForSuspendConfirmModal:e})},a.handleReactivateP=function(e){a.setState({isOpenReactivatePModal:!1,isOpenReactivatePConfirmModal:!0,dataForReactivatePConfirmModal:e})},a.handleReactivatePConfirm=function(e){a.setState({isOpenReactivatePConfirmModal:!1,dataForReactivatePConfirmModal:{}});var t=e&&e.selectedMembers?Object(Ln.a)(e.selectedMembers):[],n=e&&e.ticketNum?e.ticketNum:"";a.reactivatePrincipal(t,n)},a.reactivatePrincipal=function(e,t){var n=Object(jn.a)(a),r=a.state.memberData?a.state.memberData._id:"";r?n.setState({loading:!0},function(){An.putReactivateMemberStatus(r,e,t).then(function(e){e.error&&void 0!==e.error&&null!==e.error?n.setState({loading:!1,openSnackbar:!0,variant:"error",snackbarMessage:e.error.message}):n.setState({loading:!1,openSnackbar:!0,variant:"success",snackbarMessage:"Successfully updated status of member."},function(){n.getMemberData()})}).catch(function(){n.setState({loading:!1,openSnackbar:!0,variant:"error",snackbarMessage:"An unknown error occurred while updating status of member."})})}):n.setState({openSnackbar:!0,variant:"error",snackbarMessage:"An error occurred while retrieving member data."})},a.handleReactivateD=function(e){a.setState({isOpenReactivateDModal:!1,isOpenReactivateDConfirmModal:!0,dataForReactivateDConfirmModal:e})},a.handleReactivateDConfirm=function(e){a.setState({isOpenReactivateDConfirmModal:!1,dataForReactivateDConfirmModal:{}});var t=e&&e.ticketNum?e.ticketNum:"";a.reactivateDependent(t)},a.reactivateDependent=function(e){var t=Object(jn.a)(a),n=a.state.memberData?a.state.memberData._id:"";n?t.setState({loading:!0},function(){An.putReactivateMemberStatus(n,[],e).then(function(e){e.error&&void 0!==e.error&&null!==e.error?t.setState({loading:!1,openSnackbar:!0,variant:"error",snackbarMessage:e.error.message}):t.setState({loading:!1,openSnackbar:!0,variant:"success",snackbarMessage:"Successfully updated status of member."},function(){t.getMemberData()})}).catch(function(){t.setState({loading:!1,openSnackbar:!0,variant:"error",snackbarMessage:"An unknown error occurred while updating status of member."})})}):t.setState({openSnackbar:!0,variant:"error",snackbarMessage:"An error occurred while retrieving member data."})},a.handleSuspendMemberConfirmation=function(){var e=Object(m.a)(c.a.mark(function e(t){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={suspension_started_by:"",suspension_start_date:t.selectedDateStart,suspension_lift_date:t.selectedDateLift?t.selectedDateLift:void 0,selectedDependents:t.selectedDependents,remarks:t.remarks},e.prev=1,e.next=4,An.getUserDataFromDb();case 4:r=e.sent,n.suspension_started_by=r.userName,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error getting user from IndexedDB.");case 11:a.suspendMember(a.state.memberData._id,n);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),a.handleTerminateMemberConfirmation=function(){a.updateMemberStatus({member_status:"Terminated"})},a.handleActivateMemberConfirmation=function(){a.updateMemberStatus({member_status:"Active"})},a.handleCancelMemberConfirmation=function(){a.updateMemberStatus({member_status:"Cancelled"})},a.handleAwaitingMemberConfirmation=function(){a.updateMemberStatus({member_status:"Awaiting Activation"})},a.handleDisapproveMemberConfirmation=function(){a.updateMemberStatus({member_status:"Disapproved"})},a.updateMemberStatus=function(e){clearTimeout(a.state.timeoutHandler),a.setState({timeoutHandler:setTimeout(function(){a.setState({loading:!0});var t=a.state.memberData._id;a.changeMemberStatus(t,e)},250)})},a.suspendMember=function(e,t){clearTimeout(a.state.timeoutHandler),a.setState({timeoutHandler:setTimeout(function(){a.setState({loading:!0,check_internet_flag:!0}),An.suspendMember(e,t).then(function(e){e&&e.error&&e.error.message?a.setState({check_internet_flag:!1,loading:!1,isOpenModal:!0,modalTitle:"Suspension failed",modalMessage:"The date format is invalid. Please try again!"}):(console.log("suspended",e),a.getMemberData(),a.setState({}))}).catch(function(e){console.log(e),a.setState({loading:!1,isOpenModal:!0,modalTitle:"Suspension failed",modalMessage:e.message})})},250)})},a.changeMemberStatus=function(e,t){a.setState({check_internet_flag:!0}),An.postChangeMemberStatus(t,e).then(function(e){a.setState({loading:!1,check_internet_flag:!1}),e.error&&void 0!==e.error&&null!==e.error?a.setState({openSnackbar:!0,variant:"error",snackbarMessage:e.error.message}):(a.setState({openSnackbar:!0,variant:"success",snackbarMessage:"Successfully updated status of member."}),a.getMemberData())})},a.getUser=function(){return new Promise(function(){var e=Object(m.a)(c.a.mark(function e(t,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="",i="",e.next=4,ka.StorageService("user_data","first_name").then(function(e){r=e.result}).catch(function(e){console.log(e),n()});case 4:return e.next=6,ka.StorageService("user_data","last_name").then(function(e){i=e.result}).catch(function(e){console.log(e),n()});case 6:return a.setState({user_name:r+" "+i}),t(),e.abrupt("return");case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.onTerminateMember=function(){var e=a.state.terminationData,t=a.state.memberData._id,n={source:e.source,termination_date:e.terminationDate,endorsed_date:e.endorsedDate,endorsed_by:e.endorsedType.label,channel:e.sentVia.label,endorser_name:e.endorsedBy,endorser_email:e.email,reason:e.reason.label,ticket_no:e.ticketNo,terminated_by:a.state.user_name};a.setState({check_internet_flag:!0}),An.putTerminateMember(n,t).then(function(e){e&&e.error&&void 0!==e.error&&null!==e.error?a.setState({openSnackbar:!0,variant:"error",snackbarMessage:"Member termination failed! The date format is invalid. Please try again!"}):(a.setState({openSnackbar:!0,variant:"success",snackbarMessage:"Successfully updated status of member."}),a.getMemberData())})},a.onSnackbarClose=function(){a.setState({openSnackbar:!1})},a._generatePrincipalName=function(e){if(e){var t=e.first_name?e.first_name.trim():"",a=e.middle_name?e.middle_name.trim():"";return(e.last_name?e.last_name.trim():"")+", "+t+", "+a+", "+(e.suffix?e.suffix.trim():"")}return""},a._generateEditMemberValues=function(){var e=a.state.memberData,t=a.state.memberDependents,n=Mn.a.cloneDeep(a.state.memberData);Mn.a.assign(n,a.state.editMemberValues);var r=a.state.clientFields,i=!(!e||void 0===e.is_vip||null===e.is_vip||!0!==e.is_vip),o=!(!e||void 0===e.is_philhealth_rider||null===e.is_philhealth_rider||!0!==e.is_philhealth_rider),l=e?e.plan_type:"",s="";if(e&&e.suffix)switch(e.suffix){case"Sr.":case"Sr":case"sr.":case"sr":case"sR":case"sR.":s="Sr.";break;case"Jr.":case"Jr":case"jr.":case"jr":case"jR":case"jR.":s="Jr.";break;case"I":case"i":s="I";break;case"II":case"ii":case"iI":case"Ii":s="II";break;case"III":case"iii":case"iIi":case"iiI":case"IiI":case"Iii":s="III";break;case"IV":case"iV":case"Iv":case"iv":s="IV";break;case"V":case"v":s="V";break;case"Others":s="Others"}n.first_name=e.first_name,n.middle_name=e.middle_name,n.last_name=e.last_name,n.suffix=s,n.civil_status=e.civil_status,n.date_of_birth=e.date_of_birth,n.title=e.title,n.effectivity_date=e.effectivity_date,n.relationship_to_principal=e.relationship_to_principal,n.gender=e.gender,n.plan_type=l,n.is_vip=i,n.is_philhealth_rider=o,r&&r.length>0&&r.forEach(function(t){"regsitered_name"!==t.field_name&&"name_on_card"!==t.field_name&&(n[t.field_name]=e[t.field_name])});var c=a._generatePrincipalName(n),m={};return t.forEach(function(t,a){var n=t._id,r={index:a,last_name:t.last_name,middle_name:t.middle_name,first_name:t.first_name,title:t.title||"",suffix:t.suffix||"",date_of_birth:t.date_of_birth,gender:t.gender,civil_status:t.civil_status,contracts:t.contracts,relationship_to_principal:t.relationship_to_principal,principal_name:c,principal_first_name:e.first_name,principal_middle_name:e.middle_name,principal_last_name:e.last_name,principal_suffix:s};m[n]=r}),n.dependents=m,n},a.openEditMember=function(){var e=a._generateEditMemberValues();a.setState({edit_mode:!0,sideNav:"hmo_information",editMemberValues:e,errorFields:[],dependentsErrorFields:{}})},a._saveMemberDependents=function(e){var t=Object(jn.a)(a),n=Object.assign({},t.state.editMemberValues.dependents);Object.keys(n).forEach(function(e){var t=Object.assign({},n[e]);delete t.index,n[e]=t}),a.setState({check_internet_flag:!0}),Promise.all(An.patchMemberDependents(Object.keys(n),n)).then(function(t){a.setState({check_internet_flag:!1});var n=t.filter(function(e){return e.trim().length>0});e(n)})},a._hasEditErrors=function(e){var t=0,n=a.state.editMemberValues,r=a.state.errorFields;n.first_name&&n.first_name.trim()?r=r.filter(function(e){return"first_name"!==e}):(-1===r.indexOf("first_name")&&r.push("first_name"),t++),n.last_name&&n.last_name.trim()?r=r.filter(function(e){return"last_name"!==e}):(-1===r.indexOf("last_name")&&r.push("last_name"),t++);var i=a.state.clientFields;i.length>0&&i.forEach(function(e){var i=e.field_name,o=n[i];"date"===e.input_type?e.is_required?o&&a.isValidDate(o)?r=r.filter(function(e){return e!==i}):(-1===r.indexOf(i)&&r.push(i),t++):o?a.isValidDate(o)?r=r.filter(function(e){return e!==i}):(-1===r.indexOf(i)&&r.push(i),t++):r=r.filter(function(e){return e!==i}):e.is_required&&(o&&o.trim()?r=r.filter(function(e){return e!==i}):(-1===r.indexOf(i)&&r.push(i),t++))});var o=n.dependents,l=a.state.dependentsErrorFields?a.state.dependentsErrorFields:{};Object.keys(o).forEach(function(e){var n=o[e],r=l[e]?l[e]:[],i=n.first_name;i&&i.trim().length>0?r=r.filter(function(e){return"first_name"!==e}):(-1===r.indexOf("first_name")&&r.push("first_name"),t++);var s=n.last_name;s&&s.trim().length>0?r=r.filter(function(e){return"last_name"!==e}):(-1===r.indexOf("last_name")&&r.push("last_name"),t++);var c=n.date_of_birth;c&&a.isValidDate(c)?r=r.filter(function(e){return"date_of_birth"!==e}):(-1===r.indexOf("date_of_birth")&&r.push("date_of_birth"),t++),l[e]=r}),a.setState({errorFields:r,dependentsErrorFields:l},function(){e(t>0)})},a.handleEditSave=function(e){var t=Object(jn.a)(a);t._hasEditErrors(function(n){if(n)t.setState({loading:!1,isOpenModal:!0,modalTitle:"Error",modalMessage:"Please fill out the required fields."});else{var r=t.state.memberData,i=t.state.editMemberValues,o="";i&&i.effectivity_date&&Je()(i.effectivity_date).isValid()&&(o=Je()(i.effectivity_date).format("LL"));var l={last_name:i.last_name?i.last_name:r.last_name,middle_name:i.middle_name?i.middle_name:r.middle_name,first_name:i.first_name?i.first_name:r.first_name,suffix:i.suffix?i.suffix:r.suffix,civil_status:i.civil_status?i.civil_status:r.civil_status,gender:i.gender?i.gender:r.gender,date_of_birth:Je()(i.date_of_birth).isValid()?Je()(i.date_of_birth).format("MM/DD/YYYY"):"",effectivity_date:Je()(i.effectivity_date).isValid()?Je()(i.effectivity_date).format("MM/DD/YYYY"):"",formatted_effectivity_date:o,title:i.title,relationship_to_principal:i.relationship_to_principal,principal_name:i.principal_name,plan_type:i.plan_type,is_vip:i.is_vip,is_philhealth_rider:i.is_philhealth_rider,contracts:r.contracts},s=a.state.clientFields;s.length>0&&s.forEach(function(e){"registered_name"!==e.field_name&&"name_on_card"!==e.field_name&&("date"===e.input_type?l[e.field_name]=i[e.field_name]?new Date(i[e.field_name]).toISOString():"":l[e.field_name]=i[e.field_name]?i[e.field_name]:"")}),l.endorsement_details=e,t.setState({loading:!0,check_internet_flag:!0},function(){An.patchMemberData(t.props.match.params.member_id,l).then(function(e){if(e.ok)t._saveMemberDependents(function(e){if(e.length>0){var n=e.join("; ");t.setState({loading:!1,isOpenModal:!0,modalTitle:"Error saving dependents' information",modalMessage:n})}else t.loadMemberInformation(function(e){e?(t.props.match.params.source_id&&t.setState({redirectUrl:"/membership/view-member/".concat(a.props.match.params.source_id),redirectPage:!0}),t.setState({check_internet_flag:!1,sideNav:"hmo_information",edit_mode:!1,editMemberValues:au,errorFields:[],dependentsErrorFields:{},isOpenModal:!0,modalTitle:"Success",modalMessage:"Successfully updated member's data"})):(t.props.match.params.source_id&&t.setState({redirectUrl:"/membership/view-member/".concat(a.props.match.params.source_id),redirectPage:!0}),t.setState({isOpenModal:!0,modalTitle:"Error fetching new information",modalMessage:"An error occurred while fetching updated information."}))})});else{var n=e.error||{};t.setState({loading:!1,isOpenModal:!0,modalTitle:"Error saving changes",modalMessage:n.message})}})})}})},a.handleEditCancel=function(){a.props.match.params.source_id&&a.setState({redirectUrl:"/membership/view-member/".concat(a.props.match.params.source_id),redirectPage:!0}),a.setState({sideNav:"hmo_information",edit_mode:!1,editMemberValues:au,errorFields:[],dependentsErrorFields:{}})},a.handleEditTextChange=function(e,t){var n=a.state.editMemberValues;switch(e){case"first_name":case"middle_name":case"last_name":n[e]=Mn.a.trim(t);var r=n.dependents,i=Object.keys(r);if(i.length>0){var o=a._generatePrincipalName(n);i.forEach(function(a){r[a]["principal_"+e]=t,r[a].principal_name=o}),n.dependents=r}a.setState({editMemberValues:n});break;default:n[e]=t&&t.trim()?t.trim():"",a.setState({editMemberValues:n})}},a.handleEditClientFieldChange=function(e,t,n){var r=a.state.editMemberValues,i=a.state.errorFields;r[e]="date"===n?t||"":t&&t.trim()?t.trim():"",r[e]=t||"",a.setState({errorFields:i,editMemberValues:r})},a.handleEditSelectChange=function(e,t){var n=a.state.editMemberValues;switch(e){case"suffix":n[e]=t.value;var r=n.dependents,i=Object.keys(r);if(i.length>0){var o=a._generatePrincipalName(n);i.forEach(function(a){r[a]["principal_"+e]=t.value,r[a].principal_name=o}),n.dependents=r}a.setState({editMemberValues:n});break;default:n[e]=t.value,a.setState({editMemberValues:n})}},a.handleEditCheckboxChange=function(e){var t=a.state.editMemberValues,n=t[e];t[e]=!n,a.setState({editMemberValues:t})},a.handleDependentsChange=function(e,t,n){var r=a.state.editMemberValues;r.dependents[e][t]="date_of_birth"===t?new Date(n).toISOString():n,a.setState({editMemberValues:r})},a.handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})},a.handleOpenLostInternetConnectionModal=function(){a.setState({check_internet_flag:!0})},a.onEditMemberSave=function(){a.setState({modalVisibility:!0})},a.onEndorsementModalSubmit=function(){var e=Object(m.a)(c.a.mark(function e(t){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({modalVisibility:!1}),Mn.a.isNil(t)){e.next=17;break}return n="",e.prev=3,e.next=6,An.getUserDataFromDb();case 6:r=e.sent,n=r.userName,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error getting user from IndexedDB.");case 13:t.member_id=a.props.match.params.member_id,t.date_created=(new Date).toISOString(),t.created_by=n,a.handleEditSave(t);case 17:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}();return a.state={check_internet_flag:!1,user_name:"",loading:!1,sideNav:"hmo_information",edit_mode:!1,clientData:null,contractId:"",contractName:"",memberData:null,memberDependents:[],memberPrincipal:{},fullName:"",documents_all_data:[],documents_tab:[{label:"All",count:127},{label:"Uploaded Documents",count:4},{label:"Missing Documents",count:4}],al_global_filter:"",documents_all_table:{},documents_uploaded_table:{},documents_missing_table:{},disableSaveBtn:!0,documents_all_filter:[],documents_uploaded_filter:[],documents_missing_filter:[],documents_all_sort:[],documents_uploaded_sort:[],documents_missing_sort:[],modalMessage:"",modalTitle:"",isOpenModal:!1,isOpenAwaitingModal:!1,isOpenCancelModal:!1,isOpenDisapproveModal:!1,isOpenSuspendModal:!1,isOpenSuspendConfirmModal:!1,isOpenTerminateModal:!1,isOpenTerminateConfirmModal:!1,isOpenCancelSuspensionModal:!1,isOpenReactivatePModal:!1,isOpenReactivatePConfirmModal:!1,isOpenReactivateDModal:!1,isOpenReactivateDConfirmModal:!1,isOpenCancelTerminationConfirmModal:!1,isOpenActiveConfirmModal:!1,isOpenLiftSuspensionModal:!1,isOpenLiftSuspensionConfirmModal:!1,terminationData:{source:"Internal",terminationDate:new Date,endorsedDate:new Date,endorsedType:{value:"",label:""},endorsedBy:"",sentVia:{value:"",label:""},email:"",reason:{value:"",label:""},ticketNo:""},openSnackbar:!1,variant:"success",snackbarMessage:"",memberLogs:[],plan_type_options:[],MBL:"",ABL:"",PEC:"",editMemberValues:au,clientFields:[],errorFields:[],dependentsErrorFields:{},timeoutHandler:null,planTypeNode:null,mctNode:null,dataForSuspendConfirmModal:{},dataForLiftSuspensionConfirmModal:{},dataForReactivatePConfirmModal:{},dataForReactivateDConfirmModal:{},redirectPage:!1,redirectUrl:"",modalVisibility:!1},a.setLoading=a.setLoading.bind(Object(jn.a)(a)),a.generateDocumentData=a.generateDocumentData.bind(Object(jn.a)(a)),a.handleClickCell=a.handleClickCell.bind(Object(jn.a)(a)),a.handleSaveDocument=a.handleSaveDocument.bind(Object(jn.a)(a)),a.setFieldValue=a.setFieldValue.bind(Object(jn.a)(a)),a.handleDocumentFilter=a.handleDocumentFilter.bind(Object(jn.a)(a)),a.closeModalMessage=a.closeModalMessage.bind(Object(jn.a)(a)),a.handleRedirect=a.handleRedirect.bind(Object(jn.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.member_id,a=this.state,r=a.loading,i=a.sideNav,o=a.edit_mode,l=a.fullName,s=a.documents_tab,c=a.documents_all_data,m=a.documents_all_table,d=a.documents_all_filter,u=a.documents_all_sort,p=a.documents_uploaded_table,f=a.documents_uploaded_filter,b=a.documents_uploaded_sort,g=a.documents_missing_table,_=a.documents_missing_filter,h=a.documents_missing_sort,E=a.al_global_filter,y=a.disableSaveBtn,x=a.isOpenModal,O=a.modalMessage,C=a.modalTitle,w=a.memberLogs,k=a.isOpenCancelModal,j=a.isOpenSuspendModal,N=a.isOpenSuspendConfirmModal,D=a.isOpenTerminateModal,T=a.isOpenTerminateConfirmModal,M=a.isOpenCancelSuspensionModal,F=a.isOpenActiveConfirmModal,P=a.isOpenCancelTerminationConfirmModal,A=a.isOpenLiftSuspensionModal,B=a.isOpenLiftSuspensionConfirmModal,I=a.openSnackbar,R=a.variant,L=a.snackbarMessage,W=a.memberData,z=a.memberDependents,U=a.memberPrincipal,Y=a.clientData,V=a.contractId,H=a.contractName,q=a.plan_type_options,G=a.MBL,K=a.ABL,X=a.PEC,Z=a.editMemberValues,Q=a.clientFields,$=a.errorFields,ee=a.dependentsErrorFields,te=a.planTypeNode,ae=a.mctNode,ne=a.dataForSuspendConfirmModal,re=a.redirectPage,oe=a.redirectUrl,le=[{label:"Members",url:"#/membership/members"},{label:l,url:"#/membership/view-member/"+t},{label:Y&&Y.registered_name?Y.registered_name:"N.A.",url:""}],de=!(!W||!W.is_vip)&&W.is_vip,pe=function(){var e=Mn.a.get(W,"member_termination.termination_date",null);if(!Mn.a.isNil(e)){var t=Je()(e);if(!Mn.a.isNil(t)&&t.isValid())return t.toDate()}}();return n.createElement("div",{className:Object(tt.default)("ViewMemberPage")},r?n.createElement(Rn,null):null,re?n.createElement(v.a,{push:!0,to:{pathname:oe}}):null,n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(J.a,{container:!0,className:Object(tt.default)("page-header")},n.createElement(J.a,{item:!0,xs:10},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(bn.UI.BreadcrumbsComponent,{items:le})),n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:Object(tt.default)("header-member-name")},l,void 0!==W&&null!==W&&void 0!==W.member_status?n.createElement(n.Fragment,null,n.createElement(Ld,{memberData:W}),n.createElement("span",{className:Object(tt.default)("member-status-text")}," ",W.member_status," ")):null)))),n.createElement(J.a,{item:!0,xs:2},n.createElement(Ye.a,{display:"flex",alignItems:"center",justifyContent:"flex-end"},o?n.createElement(S.a,{className:Object(tt.default)("header-editing-member")},"Editing Member"):n.createElement(S.a,{"data-cy":"view_member_edit_member_btn",id:"view_member_edit_member_btn",onClick:function(){e.openEditMember()},className:Object(tt.default)("header-edit-member-btn")},"Edit Member"))))),n.createElement(J.a,{item:!0,xs:12},n.createElement(J.a,{container:!0,className:Object(tt.default)("page-content")},n.createElement(J.a,{item:!0,xs:12,md:2,className:Object(tt.default)("side-menu")},n.createElement(Ye.a,null,n.createElement(gc.a,{badgeContent:n.createElement(hc.a,{style:{color:"FFFFFF",backgroundColor:"#3AB77D",height:24,width:24,padding:4,borderRadius:12,marginLeft:-32,marginTop:-32}}),anchorOrigin:{horizontal:"right",vertical:"bottom"}},n.createElement(ie.a,{src:"temp_member_photo.png",alt:"avatar",className:Object(tt.default)(de?"side-menu-member-photo-vip":"side-menu-member-photo")}))),n.createElement(Ye.a,{style:{marginTop:16}},n.createElement(se.b,{"data-cy":"view_member_profile_link",id:"view_member_profile_link",to:"/membership/person-profile/".concat(this.props.match.params.member_id),className:Object(tt.default)("view-profile-link")},"View Person's Profile")),n.createElement(Ye.a,{style:{marginTop:32}},n.createElement(ce.a,{className:Object(tt.default)("side-menu-list")},n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"view_member_hmo_info_item",id:"view_member_hmo_info_item",className:Object(tt.default)("hmo_information"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("hmo_information")}},"HMO Information")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"view_member_contract_item",id:"view_member_contract_item",className:Object(tt.default)("contract"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){window.location.href="#/membership/member-contract/".concat(t,"/").concat(V)}},"Contract")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"view_member_documents_item",id:"view_member_documents_item",className:Object(tt.default)("documents"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("documents")}},"Documents")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"view_member_history_item",id:"view_member_history_item",className:Object(tt.default)("history"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("history")}},"History")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"view_member_utilization_item",id:"view_member_utilization_item",className:Object(tt.default)("utilization"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("utilization")}},"Utilization")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"view_member_tickets_item",id:"view_member_tickets_item",className:Object(tt.default)("tickets"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("tickets")}},"Tickets")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"view_member_audit_logs_item",id:"view_member_audit_logs_item",className:Object(tt.default)("audit_logs"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("audit_logs")}},"Audit Logs"))))),n.createElement(J.a,{item:!0,xs:12,md:10,style:{paddingBottom:32}},"hmo_information"===i&&o?n.createElement(Dm,{memberData:this.state.memberData,contractName:H,plan_type_options:q,editMemberValues:Z,clientData:Y,clientFields:Q,errorFields:$,dependentsErrorFields:ee,ABL:K,MBL:G,PEC:X,mctNode:ae,planTypeNode:te,handleTextChange:this.handleEditTextChange,handleCheckboxChange:this.handleEditCheckboxChange,handleSelectChange:this.handleEditSelectChange,handleDependentsChange:this.handleDependentsChange,handleClientFieldChange:this.handleEditClientFieldChange}):"hmo_information"===i?n.createElement(Oc,{memberData:W,dependents:z,principal:U,contractId:V,contractName:H,handleShowModal:this.handleShowModal,handleRedirect:this.handleRedirect,handleRemarkSubmit:this.handleRemarkSubmit,clientData:Y,clientFields:Q,ABL:K,MBL:G,PEC:X,planTypeNode:te,mctNode:ae}):"contract"===i?null:"documents"===i?n.createElement(Id,{memberId:t,all_data:c,documents_tab:s,all_documents_table:m,all_filter:d,all_sort:u,uploaded_documents_table:p,uploaded_filter:f,uploaded_sort:b,missing_documents_table:g,missing_filter:_,missing_sort:h,showHideLoader:this.setLoading,updateMemberDocuments:this.updateMemberDocuments,generateDocumentData:this.generateDocumentData,handleClickCell:this.handleClickCell,setFieldValue:this.setFieldValue,applySortFilter:this.handleDocumentFilter,handleOpenLostInternetConnectionModal:this.handleOpenLostInternetConnectionModal,handleCloseLostInternetConnectionModal:this.handleCloseLostInternetConnectionModal}):"history"===i?n.createElement(gd,{memberId:W.member_id,isSelected:"history"===i,handleOpenLostInternetConnectionModal:this.handleOpenLostInternetConnectionModal,handleCloseLostInternetConnectionModal:this.handleCloseLostInternetConnectionModal}):"utilization"===i?n.createElement(Fd,{member:W,client:Y}):"tickets"===i?n.createElement(bd,{memberId:W.member_id,clientId:Y}):"audit_logs"===i?n.createElement(ed,{isSelected:"audit_logs"===i,data:w,al_global_filter:E,alHandleSearch:this.alHandleSearch,fetchMemberLogs:this.fetchMemberLogs}):null)))),"hmo_information"===i&&o?n.createElement(J.a,{container:!0,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:12},n.createElement(Fl,{leftButtons:n.createElement(ou,{handleCancel:this.handleEditCancel,handleSave:this.onEditMemberSave}),rightButtons:null}))):"documents"===i?n.createElement(J.a,{container:!0,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:12},n.createElement(Fl,{leftButtons:n.createElement(ru,{handleSave:this.handleSaveDocument,disabled:y}),rightButtons:null}))):null,n.createElement(zd,{isModalOpen:D,terminationData:this.state.terminationData,refreshTerminationData:function(){e.setState({terminationData:e.state.terminationData})},resetTerminationData:function(){e.setState({terminationData:{source:"Internal",terminationDate:new Date,endorsedDate:new Date,endorsedType:{value:"",label:""},endorsedBy:"",sentVia:{value:"",label:""},email:"",reason:{value:"",label:""},ticketNo:""}})},onClose:function(){e.setState({isOpenTerminateModal:!1})},onSubmit:function(){e.setState({isOpenTerminateModal:!1,isOpenTerminateConfirmModal:!0})}}),n.createElement(ql,{id:"viewmember_error_modal",isModalOpen:x,title:C,message:O,onClose:this.closeModalMessage}),n.createElement(kc,{id:"suspend_member_modal",isModalOpen:j,isPrincipal:"Principal"===Mn.a.get(W,"member_type",""),memberData:W,dependents:z,maxDate:pe,onSuspend:this.handleSuspendMember,onClose:this.closeSuspendModal}),n.createElement(Tc,{id:"suspend_member_confirmation_modal",isModalOpen:N,memberName:l,corporateAccount:Y&&Y.registered_name?Y.registered_name:"",isPrincipal:"Principal"===Mn.a.get(W,"member_type",""),dependents:z,suspendData:ne,onSuspend:this.handleSuspendMemberConfirmation,onClose:this.closeSuspendConfirmModal}),n.createElement(Ac,{id:"terminate_member_confirmation_modal",memberData:W,dependents:this.state.memberDependents,clientData:Y,terminationData:this.state.terminationData,isModalOpen:T,onClose:this.closeTerminateConfirmModal,onTerminate:this.onTerminateMember}),n.createElement(Xc,{id:"active_member_confirmation_modal",isModalOpen:F,onClose:this.closeActiveConfirmModal,onActivate:this.handleActivateMemberConfirmation}),n.createElement(em,{id:"cancel_member_confirmation_modal",isModalOpen:k,onActivate:this.handleCancelMemberConfirmation,onClose:this.closeCancelMemberModal}),n.createElement(rm,{id:"awaiting_member_confirmation_modal",isModalOpen:this.state.isOpenAwaitingModal,onActivate:this.handleAwaitingMemberConfirmation,onClose:function(){e.setState({isOpenAwaitingModal:!1})}}),n.createElement(sm,{id:"disapprove_member_confirmation_modal",isModalOpen:this.state.isOpenDisapproveModal,onActivate:this.handleDisapproveMemberConfirmation,onClose:function(){e.setState({isOpenDisapproveModal:!1})}}),n.createElement(Pm,{id:"cancel_termination_confirmation_modal",memberData:W,numDependents:this.state.memberDependents?this.state.memberDependents.length:0,clientRegisteredName:Y?Y.registered_name:"",isModalOpen:P,onClose:this.closeCancelTerminationConfirmModal,onCancelTermination:this.onCancelTermination}),n.createElement(eu,{id:"lift_suspension_member_modal",isModalOpen:A,memberData:this.state.memberData,onClose:this.closeLiftSuspensionModal,onLiftSuspension:this.handleLiftSuspensionModal}),n.createElement(qd,{id:"lift_suspension_confirm_member_modal",isModalOpen:B,onLiftConfirmSuspension:this.handleLiftSuspensionConfirmModal,memberData:this.state.memberData,effectiveLiftSuspension:this.state.dataForLiftSuspensionConfirmModal,onClose:this.closeLiftSuspensionConfirmModal}),n.createElement(Xd,{id:"cancel_suspension_confirmation_modal",memberData:W,clientRegisteredName:Y?Y.registered_name:"",isModalOpen:M,onClose:this.closeCancelSuspensionModal,onCancelSuspension:this.onCancelSuspension}),W&&"Principal"===W.member_type?n.createElement(n.Fragment,null,n.createElement(Lc,{id:"reactivate_member_modal",isModalOpen:this.state.isOpenReactivatePModal,memberName:l,dependentData:z,onClose:this.closeReactivatePModal,onSubmit:this.handleReactivateP}),n.createElement(zc,{id:"reactivate_member_confirm_modal",isModalOpen:this.state.isOpenReactivatePConfirmModal,memberFName:W&&W.first_name?W.first_name:"",clientName:Y&&Y.registered_name?Y.registered_name:"",memberName:l,dependentData:z,data:this.state.dataForReactivatePConfirmModal,onClose:this.closeReactivatePConfirmModal,onSubmit:this.handleReactivatePConfirm})):W&&"Dependent"===W.member_type?n.createElement(n.Fragment,null,n.createElement(Vc,{id:"reactivate_dependent_modal",isModalOpen:this.state.isOpenReactivateDModal,memberName:l,principalData:U,onClose:this.closeReactivateDModal,onSubmit:this.handleReactivateD}),n.createElement(qc,{id:"reactivate_dependent_confirm_modal",isModalOpen:this.state.isOpenReactivateDConfirmModal,clientName:Y&&Y.registered_name?Y.registered_name:"",memberName:l,principalData:U,data:this.state.dataForReactivateDConfirmModal,onClose:this.closeReactivateDConfirmModal,onSubmit:this.handleReactivateDConfirm})):null,n.createElement(Jl.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:I,autoHideDuration:6e3,onClose:this.onSnackbarClose},n.createElement(su,{onClose:this.onSnackbarClose,variant:R,message:L})),n.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}),n.createElement(Km,{modalVisibility:this.state.modalVisibility,onSubmit:this.onEndorsementModalSubmit,modalClose:this.modalClose}))}}]),t}(n.Component),mu=Object(y.a)({infoName:{fontSize:"0.75rem",color:"rgba(39, 46, 76, 0.6)",textTransform:"uppercase",paddingRight:32},infoValue:{fontSize:"1rem",fontWeight:600,color:"rgb(39, 46, 76)"}}),du=function(e){var t=mu(e);return r.a.createElement(J.a,{container:!0,alignItems:"center"},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{"data-cy":e.name?"person_profile_".concat(e.name.toLowerCase().replace(" ","_"),"_info"):"",id:e.name?"person_profile_".concat(e.name.toLowerCase().replace(" ","_"),"_info"):"",className:t.infoName},e.name)),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{"data-cy":e.value?"person_profile_".concat(e.value.toLowerCase().replace(" ","_"),"_value"):"",id:e.value?"person_profile_".concat(e.value.toLowerCase().replace(" ","_"),"_value"):"",className:t.infoValue},e.value)))},uu=Object(y.a)({container:{paddingLeft:"32px"}}),pu=function(e){var t=uu(),a=e.memberDetails,n=a.first_name,i=a.middle_name,o=a.last_name,l=a.title,s=a.suffix,c=a.civil_status,m=a.date_of_birth,d=a.gender,u=a.email_address,p=function(e){return e||"N/A"};return r.a.createElement(J.a,{container:!0,className:t.container,spacing:4,direction:"column",justify:"flex-start",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,spacing:2,direction:"column",justify:"flex-start",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(du,{name:"PERSON ID",value:"-"})))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"FIRST NAME",value:p(n)})),r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"MIDDLE NAME",value:p(i)})),r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"LAST NAME",value:p(o)})))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"TITLE/PREFFIX",value:p(l)})),r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"SUFFIX",value:p(s)})),r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"CIVIL STATUS",value:p(c)})))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"AGE",value:"".concat(function(e){var t=function(e){return Date.now()-e.getTime()},a=0;if(Je()(e,"MM/DD/YYYY",!0).isValid()&&(a=t(Je()(e,"MM/DD/YYYY",!0).toDate())),Je()(e,"YYYY/MM/DD",!0).isValid()&&(a=t(Je()(e,"MM/DD/YYYY",!0).toDate())),a>0){var n=new Date(a);return Math.abs(n.getUTCFullYear()-1970)}return 0}(m)||"N/A")})),r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"DATE OF BIRTH",value:function(e){var t="N/A";return Je()(e,"MM/DD/YYYY",!0).isValid()&&(t=Je()(e,"MM/DD/YYYY",!0).format("MMM DD, YYYY")),Je()(e,"YYYY/MM/DD",!0).isValid()&&(t=Je()(e,"MM/DD/YYYY",!0).format("MMM DD, YYYY")),t}(m)})),r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"GENDER",value:p(d)})))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,md:4,xs:12},r.a.createElement(du,{name:"EMAIL",value:p(u)})))))};pu.defaultProps={memberDetails:{_id:"",temp_id:"",batch_name:"",member_id:"",title:"",last_name:"",middle_name:"",first_name:"",suffix:"",date_of_birth:"",gender:"",civil_status:"",email_address:"",client_id:"",member_type:"",plan_type:"",principal_name:"",contracts:[],hire_date:"",effectivity_date:"",formatted_effectivity_date:"",job_lvl:"",employee_id:"",site:"",site_address:"",floor:"",designation:"",supervisor:"",cost_center:"",financial_code:"",sub_company:"",department:"",is_vip:!1,is_philhealth_rider:!1,relationship_to_principal:"",member_status:"",registered_name:"",client_object:{registered_name:"",corporate_account_no:""}}};a(832);var fu=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).getMemberData=function(){a.setState({isLoading:!0,check_internet_flag:!0}),An.getMemberData(a.props.match.params.member_id).then(function(e){null!==e&&void 0!==e?a.setState({check_internet_flag:!1,isLoading:!1,memberDetails:e}):a.setState({isLoading:!1,isModalOpen:!0,modalTitle:"Person Profile Error",modalMessage:"Unable to retrieve current member's person profile."})}).catch(function(){a.setState({isLoading:!1,isModalOpen:!0,modalTitle:"Person Profile Error",modalMessage:"Unable to retrieve current member's person profile."})})},a.getStatusColor=function(e){switch(Object(Tn.lowerCase)(e)){case"for validation":case"pending":return"#FAB435";case"terminated":case"cancelled":return"#BC2206";case"suspended":return"#FD5451";case"disapproved":return"#8034AD";case"expired":return"expired";default:return"#3AB77D"}},a.setSideNav=function(e){-1===["history","utilization","tickets","audit_logs"].indexOf(e)&&a.setState({sideNav:e})},a.closeModal=function(){a.setState({isModalOpen:!1})},a.state={check_internet_flag:!1,memberDetails:{},isLoading:!1,sideNav:"information",isModalOpen:!1,modalTitle:"",modalMessage:""},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getMemberData()}},{key:"render",value:function(){var e=this,t=this.props.match.params.member_id,a=this.state,n=a.isLoading,i=a.sideNav,o=a.memberDetails,l=a.isModalOpen,s=a.modalTitle,c=a.modalMessage,m="_",d=!1;if(o){var u=o.first_name,p=o.middle_name,f=o.last_name,b=o.is_vip,g=u||"",_=p?p.charAt(0)+".":"",h=f||"";m="".concat(g," ").concat(_," ").concat(h),d=!!b}var v=[{label:"Members",url:"#/membership/members"},{label:m,url:"#/membership/view-member/"+t},{label:"Person Profile",url:""}],E=function(){return r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,null,"Content")))};return r.a.createElement("div",{className:Object(tt.default)("PersonProfile")},n?r.a.createElement(Rn,null):null,r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,className:Object(tt.default)("page-header")},r.a.createElement(J.a,{item:!0,xs:10},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(bn.UI.BreadcrumbsComponent,{items:v})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:Object(tt.default)("header-member-name")},m,void 0!==o&&null!==o&&void 0!==o.member_status?r.a.createElement("span",{className:Object(tt.default)("member-status-span")},r.a.createElement(X.a,{className:"fa",icon:Z.l,style:{color:this.getStatusColor(o.member_status),fontSize:"12px",marginBottom:"1px"}}),r.a.createElement("span",{className:Object(tt.default)("member-status-text")}," ",o.member_status," ")):null)))),r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement(Ye.a,{display:"flex",alignItems:"center",justifyContent:"flex-end"},r.a.createElement(S.a,{"data-cy":"person_profile_edit_member_btn",id:"person_profile_edit_member_btn",className:Object(tt.default)("header-edit-member-btn")},"Edit Member"))))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,className:Object(tt.default)("page-content")},r.a.createElement(J.a,{item:!0,xs:12,md:2,className:Object(tt.default)("side-menu")},r.a.createElement(Ye.a,null,r.a.createElement(gc.a,{badgeContent:r.a.createElement(hc.a,{style:{color:"FFFFFF",backgroundColor:"#3AB77D",height:24,width:24,padding:4,borderRadius:12,marginLeft:-32,marginTop:-32}}),anchorOrigin:{horizontal:"right",vertical:"bottom"}},r.a.createElement(ie.a,{src:"temp_member_photo.png",alt:"avatar",className:Object(tt.default)(d?"side-menu-member-photo-vip":"side-menu-member-photo")}))),r.a.createElement(Ye.a,{style:{marginTop:16}},r.a.createElement(se.b,{"data-cy":"person_profile_view_member_link",id:"person_profile_view_member_link",to:"/membership/view-member/".concat(this.props.match.params.member_id),className:Object(tt.default)("view-profile-link")},"View Member Profile")),r.a.createElement(Ye.a,{style:{marginTop:32}},r.a.createElement(ce.a,{className:Object(tt.default)("side-menu-list")},r.a.createElement(me.a,null,r.a.createElement(ue.a,{"data-cy":"person_profile_information_item",id:"person_profile_information_item",className:Object(tt.default)("information"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("information")}},"Information")),r.a.createElement(me.a,{disabled:!0},r.a.createElement(ue.a,{"data-cy":"person_profile_acc_history_item",id:"person_profile_acc_history_item",className:Object(tt.default)("history"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("history")}},"Accounts History")),r.a.createElement(me.a,{disabled:!0},r.a.createElement(ue.a,{"data-cy":"person_profile_utilization_item",id:"person_profile_utilization_item",className:Object(tt.default)("utilization"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("utilization")}},"Utilization")),r.a.createElement(me.a,{disabled:!0},r.a.createElement(ue.a,{"data-cy":"person_profile_tickets_item",id:"person_profile_tickets_item",className:Object(tt.default)("tickets"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("tickets")}},"Tickets")),r.a.createElement(me.a,{disabled:!0},r.a.createElement(ue.a,{"data-cy":"person_profile_audit_logs_item",id:"person_profile_audit_logs_item",className:Object(tt.default)("audit_logs"===i?"side-menu-list-item-selected":"side-menu-list-item"),onClick:function(){e.setSideNav("audit_logs")}},"Audit Logs"))))),r.a.createElement(J.a,{item:!0,xs:12,md:10,style:{paddingBottom:32}},"information"===i?r.a.createElement(pu,{memberDetails:o}):"history"===i?r.a.createElement(E,null):"utilization"===i?r.a.createElement(E,null):"tickets"===i?r.a.createElement(E,null):"audit_logs"===i?r.a.createElement(E,null):null)))),r.a.createElement(ql,{id:"person_info_modal",isModalOpen:l,title:s,message:c,onClose:this.closeModal}))}}]),t}(r.a.Component),bu=a(126),gu=(a(833),Object(Vn.a)({root:{"& div.MuiInputBase-root":{backgroundColor:"transparent"}}})),_u=Object(Vn.a)({keyboardDatePicker:{width:"100%"}}),hu=Object(Vn.a)({root:{"&.Mui-checked":{color:"#3AB77D"}}}),vu=function(e){var t=e.items,a=Object(Wn.a)(e,["items"]);return r.a.createElement(A.a,Object.assign({variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return r.a.createElement(D.a,{key:t,value:e.value},e.label)}))},Eu=function(e){var t=e.column,a=e.filter,n=e.onFilter,i=e.filteringEnabled,o=e.classes,l=_u();if(i){if("status"===t.name){var s=gr;return r.a.createElement(qn.a,{classes:o,style:{paddingTop:"5px"}},r.a.createElement(vu,{"data-cy":t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"}_select"):"",id:t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"}_select"):"",onChange:function(e){return n(e.target.value?{value:e.target.value}:null)},name:"status",items:s,value:a?a.value:""}))}return"date_printed"===t.name||"effectivity_date"===t.name||"termination_date"===t.name?r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(_r.a,{"data-cy":t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"_picker"):"",id:t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"_picker"):"",variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",className:l.keyboardDatePicker,value:a?a.value:"",invalidDateMessage:"",onChange:function(e){var t="";if(!Object(Tn.isNil)(e)){var a=Je()(e.toISOString());!Object(Tn.isNil)(a)&&a.isValid()&&(t=a.format("MMMM DD, YYYY"))}n({value:t})}}))):r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o},r.a.createElement(P.a,{"data-cy":t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"_field"):"",id:t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"_field"):"",classes:o,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){return n(e.target.value?{value:e.target.value}:null)},placeholder:""}))}return r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o})},yu=function(e){var t=e.value,a=e.onValueChange;return r.a.createElement(P.a,{value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:r.a.createElement(Ve.a,{position:"start"},r.a.createElement(X.a,{icon:Z.E}))})},xu=function(e){var t=e.children;return r.a.createElement(ae.a,{disableGutters:!0,children:t})},Ou=function(e){return"asc"===e.direction?r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.H}):r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.G})},Cu=function(e){var t=e.column,a=e.onSort,n=e.children,i=e.direction;return void 0!==t.sortingEnabled&&null!==t.sortingEnabled&&!1===t.sortingEnabled?r.a.createElement("span",null,t.title):r.a.createElement(Gn.a,{"data-cy":t.title?"memberlist_table_".concat(t.title.toLowerCase().replace(" ","_"),"_sort"):"",id:t.title?"memberlist_table_".concat(t.title.toLowerCase().replace(" ","_"),"_sort"):"",hideSortIcon:!0,onClick:a},n,i?r.a.createElement(Ou,{direction:i}):r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.F}))},Su=function(e){var t=e.value;return""===t||void 0===t||null===t?r.a.createElement(X.a,{style:{color:"#FD5451",fontSize:"16px"},icon:Z.o}):"marked for suspension"===t.toString().toLowerCase()||"marked for termination"===t.toString().toLowerCase()?r.a.createElement("div",null,r.a.createElement(X.a,{style:{color:"#FD5451",fontSize:"13px"},icon:Z.o})," ",r.a.createElement("span",null,t)):t},wu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Su},e))},ku=function(e){var t=e.row,a=e.value;return!0!==t.required||""!==a&&void 0!==a&&null!==a?!1!==t.required||""!==a&&void 0!==a&&null!==a?a:"N/A":r.a.createElement(X.a,{style:{color:"#FD5451",fontSize:"16px"},icon:Z.o})},ju=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:ku},e))},Nu=function(e){var t=e.column,a=e.row,n=e.value,i=hu();return r.a.createElement("div",null,r.a.createElement(K.a,{control:r.a.createElement(G.a,{checked:!0===n||"true"===n,value:n,style:{padding:"5px"},className:i.root,color:"primary",onChange:function(e){console.log(e),console.log(t),console.log(a)}}),label:""}))},Du=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Nu},e))},Tu=function(e){var t=e.column,a=e.row,n=t.name+"_"+a.id;return r.a.createElement("div",{id:n,onClick:function(){}},r.a.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},r.a.createElement("span",null,r.a.createElement("span",{style:{paddingRight:"10px",fontSize:"15px"}},r.a.createElement(X.a,{icon:Z.s,style:{color:"#0D5E40"}})),r.a.createElement("span",{style:{textDecoration:"underline",color:"#0D5E40"}},"Upload File"))))},Mu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Tu},e))},Fu=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation()},row:!0},[{value:"approve",label:"Approve"},{value:"for confirmation",label:"For Confirmation"}].map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{color:"primary"}),label:e.label,labelPlacement:"end"})})))},Pu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Fu},e))},Au=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation()},row:!0},[{value:"approve",label:"Approve"},{value:"disapprove",label:"Disapprove"},{value:"for confirmation",label:"For Confirmation"}].map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{color:"primary"}),label:e.label,labelPlacement:"end",onClick:function(e){console.log("radio button label onclick",e)},onChange:function(e){console.log("radio button label onchange",e)}})})))},Bu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Au},e))},Iu=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation()},row:!0},[{value:"match",label:"Match"},{value:"not",label:"Not Match"},{value:"confirmation",label:"For Confirmation"}].map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{color:"primary"}),label:e.label,labelPlacement:"end",onClick:function(e){console.log("radio button label onclick",e)},onChange:function(e){console.log("radio button label onchange",e)}})})))},Ru=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Iu},e))},Lu=function(e){var t=e.value;return r.a.createElement(vu,{items:[{name:"",value:""},{name:"Married",value:"married"},{name:"Single",value:"single"},{name:"Widowed",value:"widowed"},{name:"Annulled",value:"annulled"}],value:t})},Wu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Lu},e))},zu=function(e){var t=e.value;return r.a.createElement(vu,{items:[{name:"First Name",value:"first_name"},{name:"Middle Name",value:"middle_name"},{name:"Last Name",value:"last_name"},{name:"Birthday",value:"birthday"},{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"},{name:"Plan Type",value:"plan_type"},{name:"Type",value:"type"}],value:t})},Uu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:zu},e))},Yu=function(e){var t=e.value;return r.a.createElement(vu,{items:[{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"}],value:t})},Vu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Yu},e))},Hu=function(e){var t=e.value,a=gu();return r.a.createElement(j.a,{value:t,type:"number",classes:a})},qu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Hu},e))},Gu=function(e){var t=e.value,a=gu();return r.a.createElement(j.a,{value:t,classes:a})},Ju=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Gu},e))},Ku=function(e){var t=e.value,a=t;if(a)try{a=Je()(t).format("MMM DD, YYYY")}catch(n){a=t}else a="";return a},Xu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Ku},e))},Zu=function(e){var t=e.value,a=t;if(a)try{a=Je()(t).format("hh:mm:ss A")}catch(n){a=t}else a="";return a},Qu=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Zu},e))},$u=function(e){var t=e.columns,a=e.formattedColumns,i=e.disablePaging,o=e.disableSearch,l=e.disableSelect,s=e.disableSort,c=e.disableFilter,m=e.toolbarType,d=e.columnExtensions,u=e.columnBands,p=e.id,f=e.showSelectionColumn,b=e.query,_=e.totalCount,h=e.currentPage,v=e.limit,E=e.isReset,y=Object(n.useState)([]),x=Object(g.a)(y,2),O=x[0],C=x[1],S=Object(n.useState)([]),w=Object(g.a)(S,2),k=w[0],j=w[1],D=Object(n.useState)([]),T=Object(g.a)(D,2),M=T[0],F=T[1],P=Object(n.useState)([]),A=Object(g.a)(P,2),B=A[0],I=A[1],R=Object(n.useState)(e.rows),L=Object(g.a)(R,2),W=L[0],z=L[1],U=[];Object(n.useEffect)(function(){!0===E&&(C([]),j([]))},[E]),Object(n.useEffect)(function(){z(e.rows)},[e.rows]),Object(n.useEffect)(function(){console.log(k),e.onDataSelection&&e.onDataSelection(k)},[k]),Object(n.useEffect)(function(){var e=[10,25,50,100],t=[];t=_>0?e.filter(function(e){return e*h<_}):e,F(t)},[h,_]),Object(n.useEffect)(function(){},[O]),Object(n.useEffect)(function(){},[M]);var Y=function(t){e.updateSorting(t),I(t)};void 0!==a&&Object.keys(a).length>0&&(void 0!==a.number&&U.push(r.a.createElement(qu,{for:a.number})),void 0!==a.text&&U.push(r.a.createElement(Ju,{for:a.text})),void 0!==a.system_name&&U.push(r.a.createElement(Uu,{for:a.system_name})),void 0!==a.data_name&&U.push(r.a.createElement(Vu,{for:a.data_name})),void 0!==a.value_name&&U.push(r.a.createElement(Wu,{for:a.value_name})),void 0!==a.required_columns&&U.push(r.a.createElement(wu,{for:a.required_columns})),void 0!==a.radio&&U.push(r.a.createElement(Ru,{for:a.radio})),void 0!==a.incomplete_radio&&U.push(r.a.createElement(Bu,{for:a.incomplete_radio})),void 0!==a.disapprove_action&&U.push(r.a.createElement(Pu,{for:a.disapprove_action})),void 0!==a.required_checkbox&&U.push(r.a.createElement(Du,{for:a.required_checkbox})),void 0!==a.upload_file&&U.push(r.a.createElement(Mu,Object.assign({for:a.upload_file},e))),void 0!==a.required_cell&&U.push(r.a.createElement(ju,Object.assign({for:a.required_cell},e))),void 0!==a.date&&U.push(r.a.createElement(Xu,{for:a.date})),void 0!==a.time&&U.push(r.a.createElement(Qu,{for:a.time})));var V=xu;return r.a.createElement(N.a,{id:p},r.a.createElement(zn.a,{rows:W,columns:t},U,i?null:r.a.createElement(Un.m,{currentPage:h,onCurrentPageChange:function(t){e.onPageChange(t)},pageSize:v,onPageSizeChange:function(t){e.onPageSizeChange(t)}}),i?null:r.a.createElement(Un.b,{totalCount:_}),!o||b?r.a.createElement(Un.o,{value:b}):null,s||void 0===e.defaultSort?s?null:r.a.createElement(Un.q,{defaultSorting:[],sorting:B,onSortingChange:Y}):r.a.createElement(Un.q,{defaultSorting:e.defaultSort,sorting:B,onSortingChange:Y}),s?null:r.a.createElement(Un.k,{columnExtensions:e.integratedSortingColumnExtensions}),l&&f?null:r.a.createElement(Un.p,null),l?null:r.a.createElement(Un.j,null),c?null:r.a.createElement(Un.e,{defaultFilters:[],filters:void 0!==e.defaultFilter?e.defaultFilter:[],columnFilteringEnabled:e.columnFilteringEnabled,columnExtensions:e.filterExtensions,onFiltersChange:e.onFilterChange}),c?null:r.a.createElement(Un.h,{columnExtensions:e.integratedFilteringColumnExtensions}),r.a.createElement(zn.d,{columnExtensions:d,messages:{noData:e.message},rowComponent:function(t){var a=t.row,n=Object(Wn.a)(t,["row"]);return r.a.createElement(zn.d.Row,Object.assign({},n,{onClick:function(){e.onClickRow&&e.onClickRow(a)},style:{cursor:"pointer"}}))}}),l||f?f?null:r.a.createElement(zn.h,{selectByRowClick:!0,showSelectionColumn:!1}):r.a.createElement(zn.h,null),r.a.createElement(zn.g,{showSortingControls:!s,sortLabelComponent:Cu}),c?null:r.a.createElement(zn.f,{cellComponent:Eu}),u?r.a.createElement(zn.e,{columnBands:u}):null,!o||m?r.a.createElement(zn.i,{rootComponent:V}):null,o?null:r.a.createElement(zn.c,{inputComponent:yu}),i?null:r.a.createElement(zn.b,{pageSizes:M})))};$u.defaultProps={rows:[],columns:[],columnExtensions:[],integratedFilteringColumnExtensions:[],filterExtensions:[],columnBands:null,formattedColumns:{},singleSelect:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,toolbarType:null,defaultFilter:[],showSelectionColumn:!1,columnFilteringEnabled:!0,id:"table-1",totalCount:0,message:"No available data",query:"",currentPage:0,limit:0};var ep=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:25,paddingBottom:150},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),zIndex:300},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{minWidth:129,backgroundColor:"#3AB77D"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"},dialogDatePicker:{marginBottom:20}}}),tp=function(e){var t=e.isModalOpen,a=e.id,r=Object(n.useState)(null),i=Object(g.a)(r,2),o=i[0],l=i[1],s=Object(n.useState)([]),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(!1),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(!1),h=Object(g.a)(_,2),v=h[0],E=h[1],y=ep();function x(){l(null),e.onClose()}return Object(n.useEffect)(function(){var t=Object(Tn.get)(e,"clientList",[]);t.length>0?d(t.map(function(e){var a={id:e.client_id,value:e.client_id,label:e.client_name};return 1===t.length&&l(a),a})):d([])},[e.clientList]),n.createElement(n.Fragment,null,n.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:v,onClose:function(){E(!1)}}),n.createElement(U.a,{id:a,maxWidth:!1,open:t,scroll:"paper","aria-labelledby":"modal-title",className:y.dialog,style:{zIndex:1299}},n.createElement(Y.a,{className:y.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:y.dialogFirstTitle},"Generate Report"),n.createElement("div",{className:y.dialogSecondTitle}),n.createElement(ne.a,{"aria-label":"close",className:y.closeButton,onClick:x},n.createElement(Xe.a,null))),n.createElement(V.a,{className:y.dialogContent},n.createElement(J.a,{item:!0,xs:12},n.createElement(Wl,{"data-cy":"generate_report_account_select",id:"generate_report_account_select",options:m,label:"Corporate Account *",value:o,error:f,error_message:f?"Please select a corporate account":"",addButton:!1,addButtonLabel:"",onChange:function(e){l(e)}}))),n.createElement(q.a,{className:y.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"cancel_generate_report_account_btn",id:"cancel_generate_report_account_btn",className:y.cancelButton,variant:"contained",color:"primary",onClick:x},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{"data-cy":"generate_report_account_btn",id:"generate_report_account_btn",className:y.submitButton,variant:"contained",color:"primary",onClick:function(){o?(e.onSubmit(o),l(null)):b(!0)}},"Generate"))))))};tp.defaultProps={isModalOpen:!1,id:"modal-id"};var ap=a(2106),np=(a(834),function(e){function t(e){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"date-picker"},n.createElement(F.a,{className:"label",htmlFor:this.props.id},this.props.placeholder," ",!0===this.props.isRequired?n.createElement("span",{style:{color:"red"}},"\xa0*"):null),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,id:this.props.id,className:"text-field",variant:"inline",format:"MMM DD, YYYY",value:this.props.value,minDate:this.props.minDate?this.props.minDate:void 0,maxDate:this.props.maxDate,minDateMessage:this.props.minDateMessage?this.props.minDateMessage:void 0,onChange:function(t){e.props.onChange(t?t.toDate():null)},style:{fontSize:"16px",fontWeight:"bold"}})),this.props.error?n.createElement(R.a,{id:this.props.id+"_error",style:{color:"#E53935"}},this.props.error_message):null)}}]),t}(n.Component)),rp={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},ip=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"55vw"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogNotice:{fontSize:14,fontWeight:400,color:"#000"},dialogMemberName:{fontSize:18,fontWeight:700,color:"#272E4C"},dialogMemberOverall:{fontSize:14,fontWeight:500,color:"#272E4C"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblPaperWithDeps:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},tblPaperNoDeps:{minHeight:"auto",borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},nextMemberButton:{minWidth:129,backgroundColor:"#3AB77D"},suspendButton:{minWidth:129,backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}},labelRemarks:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)}}}),op=function(e){var t=ip(),a=e.id,i=e.isModalOpen,o=e.memberData,l=Object(n.useState)(!1),s=Object(g.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)({}),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)([]),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)(0),O=Object(g.a)(x,2),C=O[0],w=O[1],k=Object(n.useState)(!1),D=Object(g.a)(k,2),T=D[0],M=D[1],P=Object(n.useState)(!1),A=Object(g.a)(P,2),B=A[0],I=A[1],R=Object(n.useState)([]),L=Object(g.a)(R,2),W=L[0],H=L[1],X=Object(n.useState)(null),Z=Object(g.a)(X,2),Q=Z[0],$=Z[1],ee=Object(n.useState)(null),te=Object(g.a)(ee,2),ae=te[0],re=te[1],ie=Object(n.useState)([]),oe=Object(g.a)(ie,2),le=oe[0],se=oe[1],ce=Object(n.useState)(""),me=Object(g.a)(ce,2),de=me[0],ue=me[1],pe=Object(n.useState)(null),fe=Object(g.a)(pe,2),be=fe[0],ge=fe[1],_e=Object(n.useState)(!1),he=Object(g.a)(_e,2),ve=he[0],Ee=he[1],ye=Object(n.useState)(""),xe=Object(g.a)(ye,2),Oe=xe[0],Ce=xe[1],Se=Object(n.useState)(!1),we=Object(g.a)(Se,2),ke=we[0],je=we[1],Ne=Object(n.useState)(""),De=Object(g.a)(Ne,2),Te=De[0],Me=De[1],Fe=Object(n.useState)(void 0),Pe=Object(g.a)(Fe,2),Ae=Pe[0],Be=Pe[1];Object(n.useEffect)(function(){e.isModalOpen&&Ie()},[e.isModalOpen]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:return t=e.sent,_(t),a=[],e.next=8,o.map(function(e){return An.getMemberStatusActionDependents(e.id).then(function(t){return t.map(function(t){return t.principal_name=e.member_name,t})})});case 8:return n=e.sent,e.next=11,Promise.all(n);case 11:r=e.sent,r.filter(function(e){return e.length>0}).forEach(function(e){e.forEach(function(e){a.push(e)})}),H(a),u(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),u(!0);case 22:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}o.length>0&&!0===i&&function(){e.apply(this,arguments)}()},[i,C]),Object(n.useEffect)(function(){if(!0===i&&!Object(Tn.isNil)(e.maxDate)){var t=Je()(e.maxDate);if(!Object(Tn.isNil)(t)&&t.isValid()){var a=t.add(-1,"days").toDate();Be(a)}}},[e.maxDate]),Object(n.useEffect)(function(){},[C,T]),Object(n.useEffect)(function(){},[E,le]);var Ie=function(){u(!1),_({}),y([]),w(0),M(!1),I(!1),H([]),$(null),re(null),se([]),ue(""),ge(null),Ee(!1),Ce(""),je(!1),Me("")};function Re(){e.onClose&&(Ie(),e.onClose())}return r.a.createElement("div",null,r.a.createElement(U.a,{id:a,maxWidth:!1,open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},!1===d?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Suspension Details"),r.a.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:t.closeButton,onClick:Re},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(K.a,{control:r.a.createElement(ap.a,{id:"members_apply_to_all","data-cy":"members_apply_to_all",checked:T,onChange:function(){M(!0!==T)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Apply to all selected members"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogNotice},"Apply Effective Start of Suspension, Effective Date of Lifting and Remarks to all selected members")),!1===T?r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogMemberName},void 0!==o[C]&&o[C].member_name," ","(",void 0!==o[C]&&o[C].member_type,")"),r.a.createElement(S.a,{className:t.dialogMemberOverall},"".concat(!1===T?C+1:o.length," / ").concat(o.length," members to suspend"))):null,r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(np,{"data-cy":"member_suspension_start_picker",id:"member_suspension_start_picker",placeholder:"Effective Start of Suspension",value:Q,error:ve,error_message:Oe,minDate:new Date,maxDate:Ae,onChange:function(e){if(e){var t=new Date;t.setDate(e.getDate()+1),Ae&&t.getTime()>Ae.getTime()?ge(Ae):ge(t)}$(e),Ee(!1),Ce("")},isRequired:!0})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(np,{"data-cy":"member_suspension_lift_picker",id:"member_suspension_lift_picker",placeholder:"Effective Date of Lifting",value:ae,error:ke,error_message:Te,minDate:be,maxDate:Ae,minDateMessage:"Date of lifting should not be before start of suspension.",onChange:function(e){re(e),je(!1),Me(""),I(!1)},isRequired:!0}),r.a.createElement(K.a,{control:r.a.createElement(G.a,{checked:B,onChange:function(){!0===B?I(!1):(I(!0),re(null),je(!1),Me(""))},color:"primary"}),label:"Leave this blank for now"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.tblTitle},"Dependents")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:W.length>0?t.tblPaperWithDeps:t.tblPaperNoDeps},r.a.createElement(Ri.a,{"data-cy":"member_suspension_dependents_table",id:"member_suspension_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,!1===T?r.a.createElement(qn.a,{style:{width:"5%"}}):null,r.a.createElement(qn.a,{style:{width:"40%"}},"Member Name"),r.a.createElement(qn.a,{style:!1===T?{width:"25%"}:{width:"30%"}},"Relationship"),r.a.createElement(qn.a,{style:{width:"30%"}},"Status"))),r.a.createElement(Wi.a,null,W.length>0?W.map(function(e,t){return r.a.createElement(Ii.a,{key:t},!1===T?r.a.createElement(qn.a,{style:{width:"5%"}},r.a.createElement(G.a,{style:rp,disabled:"Active"!==e.member_status,indeterminate:"Active"!==e.member_status,checked:le.includes(e._id),onChange:function(){!function(e){if(le.includes(e))se(le.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(le);t.push(e),se(t)}}(e._id)}})):null,r.a.createElement(qn.a,{style:{width:"40%"}},"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.last_name)),r.a.createElement(qn.a,{style:!1===T?{width:"25%"}:{width:"30%"}},e.relationship_to_principal),r.a.createElement(qn.a,{style:{width:"30%"}},e.member_status))}):r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:5},"No enrolled dependents")))))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:t.labelRemarks,htmlFor:"member_suspension_remarks_field"},"Remarks"),r.a.createElement(j.a,{"data-cy":"member_suspension_remarks_field",id:"member_suspension_remarks_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:de,onChange:function(e){var t=e.target.value;ue(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"member_suspension_cancel_btn",id:"member_suspension_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:Re},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"member_suspension_btn",id:"member_suspension_btn",className:C!==o.length-1&&!1===T?t.nextMemberButton:t.suspendButton,variant:"contained",color:"primary",onClick:C!==o.length-1&&!1===T?function(){if(null===Q)Ee(!0),Ce("Start date is required.");else if(!1===B&&null===ae)je(!0),Me("Lift date is required");else{var e=[];e.push(o[C].id),le.length>0&&le.forEach(function(t){e.push(t)});var t={};void 0!==o[C].member_id&&null!==o[C].member_id?t.member_id=o[C].member_id:t.member_id="None",void 0!==o[C].member_name&&null!==o[C].member_name?t.member_name=o[C].member_name:t.member_name="None",void 0!==o[C].corporates&&null!==o[C].corporates?t.corporates=o[C].corporates:t.corporates="None";var a={memberIds:e,suspension_start_date:Q,suspension_lift_date:null!==ae?ae:void 0,remarks:de,suspension_started_by:b.userName,user_id:b.userId,user_name:b.userName,apply_to_all:!1,memberIdsForDisplay:[t.member_id],memberNamesForDisplay:[t.member_name],memberCorporatesForDisplay:[t.corporates]};y([].concat(Object(Ln.a)(E),[a])),$(null),re(null),I(!1),se([]),ue(""),w(++C)}}:function(){if(null===Q)Ee(!0),Ce("Start date is required.");else if(!1===B&&null===ae)je(!0),Me("Lift date is required");else{var t=[],a=[],n=[],r=[],i=[];!1===T?(t=E,a.push(o[C].id),le.length>0&&le.forEach(function(e){a.push(e)}),void 0!==o[C].member_id&&null!==o[C].member_id?n.push(o[C].member_id):n.push("None"),void 0!==o[C].member_name&&null!==o[C].member_name?r.push(o[C].member_name):r.push("None"),void 0!==o[C].corporates&&null!==o[C].corporates?i.push(o[C].corporates):i.push("None")):(a=o.map(function(e){return e.id}),n=o.map(function(e){return void 0!==e.member_id||null!==e.member_id?e.member_id:"None"}),r=o.map(function(e){return void 0!==e.member_name||null!==e.member_name?e.member_name:"None"}),i=o.map(function(e){return void 0!==e.corporates||null!==e.corporates?e.corporates:"None"}));var l={memberIds:a,suspension_start_date:Q,suspension_lift_date:null!==ae?ae:void 0,remarks:de,suspension_started_by:b.userName,user_id:b.userId,user_name:b.userName,apply_to_all:T,memberIdsForDisplay:n,memberNamesForDisplay:r,memberCorporatesForDisplay:i};t.push(l),e.onStatusAction&&(e.onStatusAction(t,T),Re())}}},C!==o.length-1&&!1===T?"Next Member":"Suspend")))))))},lp=Object(y.a)(function(e){return{dialog:{align:"center",justify:"center",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingBottom:"1rem"},tblPaper:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},suspendButton:{minWidth:129,backgroundColor:"#FD5451"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),sp=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),cp=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),mp=function(e){var t=lp(),a=e.id,i=e.isModalOpen,o=e.isApplyToAll,l=e.memberData,s=Object(n.useState)([]),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)([]),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(0),h=Object(g.a)(_,2),v=h[0],E=h[1];function y(){e.onClose&&e.onClose()}return Object(n.useEffect)(function(){if(!0===i)if(l.length>0)if(!0===o)l.forEach(function(e){var t=e.memberIdsForDisplay,a=e.memberNamesForDisplay,n=e.memberCorporatesForDisplay,r=void 0!==e.suspension_lift_date?Je()(e.suspension_lift_date).format("MMM DD, YYYY"):"Not set";E(t.length);var i=t.map(function(t,i){return{member_id:t,member_name:a[i],corporates:n[i],suspension_start_date:Je()(e.suspension_start_date).format("MMM DD, YYYY"),suspension_lift_date:r}});b(i),delete e.memberIdsForDisplay,delete e.memberNamesForDisplay,delete e.memberCorporatesForDisplay,d([e])});else{E(l.length);var e=l.map(function(e){var t=e.memberIdsForDisplay,a=e.memberNamesForDisplay,n=e.memberCorporatesForDisplay,r=void 0!==e.suspension_lift_date?Je()(e.suspension_lift_date).format("MMM DD, YYYY"):"Not set";return{member_id:t[0],member_name:a[0],corporates:n[0],suspension_start_date:Je()(e.suspension_start_date).format("MMM DD, YYYY"),suspension_lift_date:r}});b(e);var t=l.map(function(e){return delete e.memberIdsForDisplay,delete e.memberNamesForDisplay,delete e.memberCorporatesForDisplay,e});d(t)}else console.log("no data from Member Suspension Modal")},[i]),Object(n.useEffect)(function(){},[f]),Object(n.useEffect)(function(){},[m]),r.a.createElement(U.a,{id:a,maxWidth:"md",open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Membership Suspension"),r.a.createElement(ne.a,{"data-cy":"member_suspension_conmod_close_btn",id:"member_suspension_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:y},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogSecondTitle},"Are you sure you want to suspend the membership of the following"," ",r.a.createElement("span",{className:t.boldText},v," member",v>1?"s":null),"? You can cancel or lift this suspension later on.")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaper},r.a.createElement(Ri.a,{"data-cy":"member_suspension_conmod_dependents_table",id:"member_suspension_conmod_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"25%"}},"Member ID"),r.a.createElement(qn.a,{style:{width:"25%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"20%"}},"Corporation"),r.a.createElement(qn.a,{style:{width:"15%"}},"Effective Start of Suspension"),r.a.createElement(qn.a,{style:{width:"15%"}},"Effective Date of Lifting"))),r.a.createElement(Wi.a,null,f.length>0?f.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"25%"}},e.member_id),r.a.createElement(qn.a,{style:{width:"25%"}},e.member_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.corporates),r.a.createElement(qn.a,{style:{width:"15%"}},e.suspension_start_date),r.a.createElement(qn.a,{style:{width:"15%"}},e.suspension_lift_date))}):null)))))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(cp,{"data-cy":"member_suspension_conmod_cancel_btn",id:"member_suspension_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:y},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(sp,{"data-cy":"member_suspension_conmod_btn",id:"member_suspension_conmod_btn",className:t.suspendButton,variant:"contained",color:"primary",onClick:function(){e.onConfirmAction&&(e.onConfirmAction(m),y())}},"Suspend")))))};mp.defaultProps={id:"confirm_member_suspension_modal",isModalOpen:!1};var dp={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},up=Object(y.a)(function(e){return{dialog:{align:"center",justify:"center",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingBottom:"1rem"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblPaperWithDeps:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},tblPaperNoDeps:{minHeight:"auto",borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},cancelSuspensionButton:{minWidth:129,backgroundColor:"#3AB77D"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},labelRemarks:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)}}}),pp=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#3AB77D","&:hover":{backgroundColor:"#2e9565"}}})(z.a),fp=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),bp=function(e){var t=up(),a=e.id,i=e.isModalOpen,o=e.memberData,l=Object(n.useState)(!1),s=Object(g.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)({}),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)([]),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)([]),O=Object(g.a)(x,2),C=O[0],w=O[1],k=Object(n.useState)(""),D=Object(g.a)(k,2),T=D[0],M=D[1],P=Object(n.useState)(0),A=Object(g.a)(P,2),B=A[0],I=A[1];Object(n.useEffect)(function(){e.isModalOpen&&R()},[e.isModalOpen]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:return t=e.sent,_(t),a=[],e.next=8,o.map(function(e){return An.getMemberStatusActionDependents(e.id).then(function(t){return t.map(function(t){return t.principal_name=e.member_name,t})})});case 8:return n=e.sent,e.next=11,Promise.all(n);case 11:r=e.sent,r.filter(function(e){return e.length>0}).forEach(function(e){e.forEach(function(e){a.push(e)})}),y(a),u(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),u(!0);case 22:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}o.length>0&&!0===i&&(I(o.length),function(){e.apply(this,arguments)}())},[i]);var R=function(){u(!1),_({}),y([]),w([]),M(""),I(0)};function L(){e.onClose&&e.onClose()}return r.a.createElement("div",null,r.a.createElement(U.a,{id:a,maxWidth:"sm",open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},!1===d?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Cancelling of Suspension"),r.a.createElement(ne.a,{"data-cy":"cancel_suspension_modal_close_btn",id:"cancel_suspension_modal_close_btn","aria-label":"close",className:t.closeButton,onClick:L},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogSecondTitle},"Are you sure you want to cancel the suspension of "," ",r.a.createElement("span",{className:t.boldText},B," member",B>1?"s":null),"? Member(s) will continue to have their benefits coverage.")),E.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.tblTitle},"Dependents")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:E.length>0?t.tblPaperWithDeps:t.tblPaperNoDeps},r.a.createElement(Ri.a,{"data-cy":"cancel_suspension_dependents_table",id:"cancel_suspension_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"5%"}}),r.a.createElement(qn.a,{style:{width:"25%"}},"Name"),r.a.createElement(qn.a,{style:{width:"25%"}},"Relationship"),r.a.createElement(qn.a,{style:{width:"25%"}},"Principal"),r.a.createElement(qn.a,{style:{width:"20%"}},"Status"))),r.a.createElement(Wi.a,null,E.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"5%"}},r.a.createElement(G.a,{style:dp,disabled:"marked for suspension"!==e.member_status.toString().toLowerCase(),indeterminate:"marked for suspension"!==e.member_status.toString().toLowerCase(),checked:C.includes(e._id),onChange:function(){!function(e){if(C.includes(e))w(C.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(C);t.push(e),w(t)}}(e._id)}})),r.a.createElement(qn.a,{style:{width:"25%"}},"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.last_name)),r.a.createElement(qn.a,{style:{width:"25%"}},e.relationship_to_principal),r.a.createElement(qn.a,{style:{width:"25%"}},e.principal_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.member_status))})))))):null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:t.labelRemarks,htmlFor:"cancel_suspension_remarks_field"},"Remarks"),r.a.createElement(j.a,{"data-cy":"cancel_suspension_remarks_field",id:"cancel_suspension_remarks_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:T,onChange:function(e){var t=e.target.value;M(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(fp,{"data-cy":"cancel_suspension_modal_cancel_btn",id:"cancel_suspension_modal_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:L},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(pp,{"data-cy":"cancel_suspension_modal_btn",id:"cancel_suspension_modal_btn",className:t.cancelSuspensionButton,variant:"contained",color:"primary",onClick:function(){var t=[];o.forEach(function(e){t.push(e.id)}),C.length>0&&C.forEach(function(e){t.push(e)});var a={memberIds:t,remarks:""!==T?T:void 0,username:b.userName};e.onStatusAction&&(e.onStatusAction(a),L())}},"Cancel Suspension")))))))};bp.defaultProps={id:"cancel_suspension_modal",isModalOpen:!1};a(835);var gp=function(e){function t(e){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isDisabled;return n.createElement("div",{className:"date-picker"},n.createElement(F.a,{className:"label",htmlFor:this.props.id},this.props.placeholder," ",!0===this.props.isRequired?n.createElement("span",{style:{color:"red"}},"\xa0*"):null),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,id:this.props.id,className:"text-field",variant:"inline",format:"MMM DD, YYYY",value:this.props.value,minDate:this.props.minDate?this.props.minDate:void 0,maxDate:this.props.maxDate,minDateMessage:this.props.minDateMessage?this.props.minDateMessage:void 0,onChange:function(t){e.props.onChange(t?t.toDate():null)},style:{fontSize:"16px",fontWeight:"bold"},disabled:void 0!==t&&t})),this.props.error?n.createElement(R.a,{id:this.props.id+"_error",style:{color:"#E53935"}},this.props.error_message):null)}}]),t}(n.Component),_p={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},hp=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingBottom:e.spacing(3),minWidth:"250px",width:"55vw"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogNotice:{fontSize:14,fontWeight:400,color:"#000"},dialogMemberName:{fontSize:18,fontWeight:700,color:"#272E4C"},dialogMemberOverall:{fontSize:14,fontWeight:500,color:"#272E4C"},suspensionDateLabel:{fontSize:14,fontWeight:500,color:"rgb(132,132,132)"},suspensionDateValue:{fontSize:14,fontWeight:"bold",color:"#272E4C"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblPaperWithDeps:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},tblPaperNoDeps:{minHeight:"auto",borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},nextMemberButton:{minWidth:129,backgroundColor:"#3AB77D"},liftSuspensionButton:{minWidth:129,backgroundColor:"#3AB77D","&:hover":{backgroundColor:"#2e9565"}},labelRemarks:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)}}}),vp=function(e){var t=hp(),a=e.id,i=e.isModalOpen,o=e.memberData,l=Object(n.useState)(!1),s=Object(g.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)({}),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)([]),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)([]),O=Object(g.a)(x,2),C=O[0],w=O[1],k=Object(n.useState)(0),D=Object(g.a)(k,2),T=D[0],M=D[1],P=Object(n.useState)(!1),A=Object(g.a)(P,2),B=A[0],I=A[1],R=Object(n.useState)([]),L=Object(g.a)(R,2),W=L[0],H=L[1],X=Object(n.useState)(null),Z=Object(g.a)(X,2),Q=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(g.a)(ee,2),ae=te[0],re=te[1],ie=Object(n.useState)(""),oe=Object(g.a)(ie,2),le=oe[0],se=oe[1],ce=Object(n.useState)(!1),me=Object(g.a)(ce,2),de=me[0],ue=me[1],pe=Object(n.useState)(""),fe=Object(g.a)(pe,2),be=fe[0],ge=fe[1],_e=Object(n.useState)(void 0),he=Object(g.a)(_e,2),ve=he[0],Ee=he[1];Object(n.useEffect)(function(){e.isModalOpen&&(ye(),xe(o))},[e.isModalOpen]),Object(n.useEffect)(function(){!0===i&&$(!1===B?E[T]:null)},[T,B,E]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:return t=e.sent,_(t),a=[],e.next=8,o.map(function(e){return An.getMemberStatusActionDependents(e.id).then(function(t){return t.map(function(t){return t.principal_name=e.member_name,t})})});case 8:return n=e.sent,e.next=11,Promise.all(n);case 11:r=e.sent,r.filter(function(e){return e.length>0}).forEach(function(e){e.forEach(function(e){a.push(e)})}),H(a),u(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),u(!0);case 22:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}o.length>0&&!0===i&&function(){e.apply(this,arguments)}()},[i,T]),Object(n.useEffect)(function(){if(!0===i&&!Object(Tn.isNil)(e.maxDate)){var t=Je()(e.maxDate);if(!Object(Tn.isNil)(t)&&t.isValid()){var a=t.add(-1,"days").toDate();Ee(a)}}},[e.maxDate]),Object(n.useEffect)(function(){},[Q,C,ae]);var ye=function(){u(!1),_({}),y([]),w([]),M(0),I(!1),H([]),$(null),re([]),se(""),ue(!1),ge("")},xe=function(e){var t=[];e.forEach(function(e){void 0!==e.member_suspension.suspension_lift_date?t.push(e.member_suspension.suspension_lift_date):t.push(null)}),y(t)};function Oe(){e.onClose&&(ye(),e.onClose())}return r.a.createElement("div",null,r.a.createElement(U.a,{id:a,maxWidth:!1,open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},!1===d?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Lift Suspension Details"),r.a.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:t.closeButton,onClick:Oe},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(K.a,{control:r.a.createElement(ap.a,{id:"members_apply_to_all","data-cy":"members_apply_to_all",checked:B,onChange:function(){I(!0!==B)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Apply to all selected members"})),!1===B?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:"1.5rem"}},r.a.createElement(S.a,{className:t.dialogMemberName},void 0!==o[T]&&o[T].member_name," ","(",void 0!==o[T]&&o[T].member_type,")"),r.a.createElement(S.a,{className:t.dialogMemberOverall},"".concat(!1===B?T+1:o.length," / ").concat(o.length," members to lift suspension"))),r.a.createElement(J.a,{item:!0,xs:7},r.a.createElement(S.a,{display:"block",variant:"h3",className:t.suspensionDateLabel},"EFFECTIVE DATE OF SUSPENSION"),r.a.createElement(S.a,{display:"block",variant:"subtitle1",className:t.suspensionDateValue,gutterBottom:!0},void 0!==o[T]&&void 0!==o[T].member_suspension&&void 0!==o[T].member_suspension.suspension_start_date&&Je()(o[T].member_suspension.suspension_start_date).format("MMM DD, YYYY")))):null,r.a.createElement(J.a,{item:!0,xs:7},r.a.createElement(gp,{"data-cy":"member_suspension_lift_picker",id:"member_suspension_lift_picker",placeholder:"Effective Date of Lifting",value:Q,error:de,error_message:be,minDate:new Date,maxDate:ve,minDateMessage:"Date of lifting should not be before start of suspension.",onChange:function(e){$(e),ue(!1),ge("")},isRequired:!0})),W.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.tblTitle},"Dependents")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:W.length>0?t.tblPaperWithDeps:t.tblPaperNoDeps},r.a.createElement(Ri.a,{"data-cy":"member_suspension_dependents_table",id:"member_suspension_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,!1===B?r.a.createElement(qn.a,{style:{width:"5%"}}):null,r.a.createElement(qn.a,{style:{width:"40%"}},"Member Name"),r.a.createElement(qn.a,{style:!1===B?{width:"25%"}:{width:"30%"}},"Relationship"),r.a.createElement(qn.a,{style:{width:"30%"}},"Status"))),r.a.createElement(Wi.a,null,W.map(function(e,t){return r.a.createElement(Ii.a,{key:t},!1===B?r.a.createElement(qn.a,{style:{width:"5%"}},r.a.createElement(G.a,{style:_p,disabled:"Suspended"!==e.member_status,indeterminate:"Suspended"!==e.member_status,checked:ae.includes(e._id),onChange:function(){!function(e){if(ae.includes(e))re(ae.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(ae);t.push(e),re(t)}}(e._id)}})):null,r.a.createElement(qn.a,{style:{width:"40%"}},"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.last_name)),r.a.createElement(qn.a,{style:!1===B?{width:"25%"}:{width:"30%"}},e.relationship_to_principal),r.a.createElement(qn.a,{style:{width:"30%"}},e.member_status))})))))):null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:t.labelRemarks,htmlFor:"member_suspension_remarks_field"},"Remarks"),r.a.createElement(j.a,{"data-cy":"member_suspension_remarks_field",id:"member_suspension_remarks_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:le,onChange:function(e){var t=e.target.value;se(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"member_suspension_cancel_btn",id:"member_suspension_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:Oe},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"member_suspension_btn",id:"member_suspension_btn",className:T!==o.length-1&&!1===B?t.nextMemberButton:t.liftSuspensionButton,variant:"contained",color:"primary",onClick:T!==o.length-1&&!1===B?function(){if(null===Q)ue(!0),ge("Lift date is required");else{var e=[];e.push(o[T].id),ae.length>0&&ae.forEach(function(t){e.push(t)});var t={};void 0!==o[T].member_id&&null!==o[T].member_id?t.member_id=o[T].member_id:t.member_id="None",void 0!==o[T].member_name&&null!==o[T].member_name?t.member_name=o[T].member_name:t.member_name="None",void 0!==o[T].corporates&&null!==o[T].corporates?t.corporates=o[T].corporates:t.corporates="None";var a={memberIds:e,suspension_start_date:o[T].member_suspension.suspension_start_date,suspension_lift_date:Q,remarks:le,suspension_started_by:b.userName,apply_to_all:!1,memberIdsForDisplay:[t.member_id],memberNamesForDisplay:[t.member_name],memberCorporatesForDisplay:[t.corporates]};w([].concat(Object(Ln.a)(C),[a])),$(null),re([]),se(""),M(++T)}}:function(){if(null===Q)ue(!0),ge("Lift date is required");else{var t=[],a=[],n=[],r=[],i=[],l=[],s={};!1===B?(t=C,a.push(o[T].id),ae.length>0&&ae.forEach(function(e){a.push(e)}),void 0!==o[T].member_id&&null!==o[T].member_id?n.push(o[T].member_id):n.push("None"),void 0!==o[T].member_name&&null!==o[T].member_name?r.push(o[T].member_name):r.push("None"),void 0!==o[T].corporates&&null!==o[T].corporates?i.push(o[T].corporates):i.push("None"),s={memberIds:a,suspension_start_date:o[T].member_suspension.suspension_start_date,suspension_lift_date:Q,remarks:le,suspension_started_by:b.userName,apply_to_all:B,memberIdsForDisplay:n,memberNamesForDisplay:r,memberCorporatesForDisplay:i}):(a=o.map(function(e){return e.id}),n=o.map(function(e){return void 0!==e.member_id||null!==e.member_id?e.member_id:"None"}),r=o.map(function(e){return void 0!==e.member_name||null!==e.member_name?e.member_name:"None"}),i=o.map(function(e){return void 0!==e.corporates||null!==e.corporates?e.corporates:"None"}),l=o.map(function(e){return e.member_suspension.suspension_start_date}),s={memberIds:a,suspension_lift_date:Q,remarks:le,suspension_started_by:b.userName,apply_to_all:B,memberIdsForDisplay:n,memberNamesForDisplay:r,memberCorporatesForDisplay:i,memberSuspensionDatesForDisplay:l}),t.push(s),e.onStatusAction&&(e.onStatusAction(t,B),Oe())}}},T!==o.length-1&&!1===B?"Next Member":"Lift Suspension")))))))},Ep=Object(y.a)(function(e){return{dialog:{align:"center",justify:"center",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingBottom:"1rem"},tblPaper:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},liftSuspensionButton:{minWidth:129,backgroundColor:"#3AB77D"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),yp=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#3AB77D","&:hover":{backgroundColor:"#2e9565"}}})(z.a),xp=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Op=function(e){var t=Ep(),a=e.id,i=e.isModalOpen,o=e.isApplyToAll,l=e.memberData,s=Object(n.useState)([]),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)([]),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(0),h=Object(g.a)(_,2),v=h[0],E=h[1];function y(){e.onClose&&e.onClose()}return Object(n.useEffect)(function(){if(!0===i)if(l.length>0)if(!0===o)l.forEach(function(e){var t=e.memberIdsForDisplay,a=e.memberNamesForDisplay,n=e.memberCorporatesForDisplay,r=e.memberSuspensionDatesForDisplay;E(t.length);var i=t.map(function(t,i){return{member_id:t,member_name:a[i],corporates:n[i],suspension_start_date:Je()(r[i]).format("MMM DD, YYYY"),suspension_lift_date:Je()(e.suspension_lift_date).format("MMM DD, YYYY")}});b(i),delete e.memberIdsForDisplay,delete e.memberNamesForDisplay,delete e.memberCorporatesForDisplay,delete e.memberSuspensionDatesForDisplay,d([e])});else{E(l.length);var e=l.map(function(e){var t=e.memberIdsForDisplay,a=e.memberNamesForDisplay,n=e.memberCorporatesForDisplay;return{member_id:t[0],member_name:a[0],corporates:n[0],suspension_start_date:Je()(e.suspension_start_date).format("MMM DD, YYYY"),suspension_lift_date:Je()(e.suspension_lift_date).format("MMM DD, YYYY")}});b(e);var t=l.map(function(e){return delete e.memberIdsForDisplay,delete e.memberNamesForDisplay,delete e.memberCorporatesForDisplay,e});d(t)}else console.log("no data from Lift Suspension Modal")},[i]),Object(n.useEffect)(function(){},[f]),Object(n.useEffect)(function(){},[m]),r.a.createElement(U.a,{id:a,maxWidth:"md",open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Lifting of Suspension"),r.a.createElement(ne.a,{"data-cy":"lift_suspension_conmod_close_btn",id:"lift_suspension_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:y},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogSecondTitle},"Are you sure you want to lift the suspension of the following"," ",r.a.createElement("span",{className:t.boldText},v," member",v>1?"s":null),"? Member(s) will have their coverage re-activated on the set date.")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaper},r.a.createElement(Ri.a,{"data-cy":"lift_suspension_conmod_dependents_table",id:"lift_suspension_conmod_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"25%"}},"Member ID"),r.a.createElement(qn.a,{style:{width:"25%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"20%"}},"Corporation"),r.a.createElement(qn.a,{style:{width:"15%"}},"Effective Start of Suspension"),r.a.createElement(qn.a,{style:{width:"15%"}},"Effective Date of Lifting"))),r.a.createElement(Wi.a,null,f.length>0?f.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"25%"}},e.member_id),r.a.createElement(qn.a,{style:{width:"25%"}},e.member_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.corporates),r.a.createElement(qn.a,{style:{width:"15%"}},e.suspension_start_date),r.a.createElement(qn.a,{style:{width:"15%"}},e.suspension_lift_date))}):null)))))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(xp,{"data-cy":"lift_suspension_conmod_cancel_btn",id:"lift_suspension_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:y},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(yp,{"data-cy":"lift_suspension_conmod_btn",id:"lift_suspension_conmod_btn",className:t.liftSuspensionButton,variant:"contained",color:"primary",onClick:function(){e.onConfirmAction&&(e.onConfirmAction(m),y())}},"Lift Suspension")))))};function Cp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Sp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cp(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cp(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}Op.defaultProps={id:"confirm_lift_suspension_modal",isModalOpen:!1};var wp=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",width:"100%",height:400},dialogTitle:{paddingTop:e.spacing(4)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogAction:{paddingTop:e.spacing(8),paddingBottom:e.spacing(4)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},nextMemberButton:{minWidth:129,backgroundColor:"#3AB77D"},terminateButton:{minWidth:129,backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}},labelRemarks:{fontSize:"12px",paddingBottom:e.spacing(1),color:"#272E4C"},labelSource:{fontSize:"12px",color:"#272E4C",padding:"2.75px 20px 0 0"},memberName:{fontSize:"13px",paddingBottom:e.spacing(2),fontWeight:600},prevButtonContainer:{display:"flex",alignItems:"center","&:hover":{cursor:"pointer",textDecoration:"underline"}},prevIcon:{},prevButton:{fontSize:"12px",fontWeight:600,paddingLeft:"10px"}}}),kp=function(e){var t=wp(),a=n.useState(!0),r=Object(g.a)(a,2),i=r[0],o=r[1],l=n.useState(0),s=Object(g.a)(l,2),c=s[0],m=s[1],d=n.useState([]),u=Object(g.a)(d,2),p=u[0],f=u[1],b=n.useState({termination_date:Je()().toISOString(),endorsed_date:Je()().toISOString(),endorsed_by:"",endorser_name:"",endorser_email:"",channel:"",reason:"",ticket_no:"",source:"Internal",terminated_by:""}),_=Object(g.a)(b,2),h=_[0],v=_[1];console.log("memberData",e.memberData),n.useEffect(function(){ka.StorageService("user_data","full_name").then(function(e){v(Sp({},h,{terminated_by:e.result}))}).catch(function(e){return console.log(e),!1})},[]);var E=function(e,t){var a=p;a.length>0&&e+1<=a.length?a.map(function(t,n){console.log(t),n===e&&(a.splice(n,1),a.splice(n,0,h))}):a.push(h),f(a),"submit"===t?y(a):a[t]?v(a[t]):v(Sp({},h,{termination_date:Je()().toISOString(),endorsed_date:Je()().toISOString(),endorsed_by:"",endorser_name:"",endorser_email:"",channel:"",reason:"",ticket_no:"",source:"Internal"}))},y=function(t){var a={data:t,principal:[]},n=[],r=[];a.data.map(function(e){e.channel=e.channel?e.channel.label:""}),e.memberData.length>0&&e.memberData.map(function(e){n.push(e.id),r.push({name:e.member_name,id:e.id})}),a.principal=r,i&&(a.data=t[c],a.data.memberIds=n,a.data=[a.data]),console.log(a),e.onSubmit(a),e.onClose()};return n.createElement(U.a,{id:e.id,maxWidth:"xs",open:e.isModalOpen,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Termination Details"),n.createElement(ne.a,{id:"client_close_button","data-cy":"client_close_button","aria-label":"close",className:t.closeButton,onClick:function(){e.onClose()}},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{container:!0,spacing:2},e.memberData&&e.memberData.length>1?n.createElement(J.a,{item:!0,xs:12},n.createElement(K.a,{control:n.createElement(ap.a,{checked:i,onChange:function(e){return o(e.target.checked)},color:"primary"}),label:"Apply to all selected members"})):null,!i||e.memberData&&1===e.memberData.length?n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:t.memberName},e.memberData&&e.memberData[c].member_name)):null),n.createElement(J.a,{container:!0,spacing:2},n.createElement(J.a,{item:!0,xs:12},n.createElement(Zr.a,{row:!0,value:h.source,onChange:function(e){v(Sp({},h,{source:e.target.value}))}},n.createElement(S.a,{className:t.labelSource},"Source"),n.createElement(K.a,{value:"Internal",control:n.createElement(Jn.a,{color:"primary"}),label:"Internal"}),n.createElement(K.a,{value:"External",control:n.createElement(Jn.a,{color:"primary"}),label:"External"}))),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Date of Termination"),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,value:h.termination_date,error:!1,format:"MMMM DD, YYYY",variant:"dialog",inputVariant:"outlined",invalidDateMessage:"",minDate:new Date,fullWidth:!0,onChange:function(e){v(Sp({},h,{termination_date:Je()(e).toISOString()}))}}))),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Endorsed Date"),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,value:h.endorsed_date,error:!1,format:"MMMM DD, YYYY",variant:"dialog",inputVariant:"outlined",invalidDateMessage:"",fullWidth:!0,onChange:function(e){v(Sp({},h,{endorsed_date:Je()(e).toISOString()}))}}))),n.createElement(J.a,{item:!0,xs:6},"Internal"===h.source?n.createElement(n.Fragment,null,n.createElement(F.a,{className:t.labelRemarks},"Endorsed by"),n.createElement(j.a,{value:h.endorsed_by?h.endorsed_by.label:"",error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){v(Sp({},h,{endorsed_by:e.target.value}))}})):n.createElement(Wl,{id:"client_member_data_endorsedby",labelSize:"small",options:[{value:"Client",label:"Client"},{value:"Broker",label:"Broker"}],label:"Endorsed by",value:h.endorsed_by?h.endorsed_by:"",onChange:function(e){v(Sp({},h,{endorsed_by:e.value}))},error:!1,error_message:""})),n.createElement(J.a,{item:!0,xs:6},n.createElement(Wl,{id:"client_member_data_sentvia",labelSize:"small",options:[{value:"Email",label:"Email"},{value:"Ticket",label:"Ticket"},{value:"Portal",label:"Portal"},{value:"Fax",label:"Fax"}],label:"Sent via",value:h.channel?h.channel:"",onChange:function(e){console.log(e),v(Sp({},h,{channel:e}))},error:!1,error_message:""})),"External"===h.source?n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Person who endorsed"),n.createElement(j.a,{value:h.endorser_name,error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){v(Sp({},h,{endorser_name:e.target.value}))}})),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Endorser email"),n.createElement(j.a,{value:h.endorser_email,error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){v(Sp({},h,{endorser_email:e.target.value}))}}))):null,n.createElement(J.a,{item:!0,xs:6},n.createElement(Wl,{id:"client_member_data_reason",labelSize:"small",options:[{value:"Death",label:"Death"},{value:"Resignation",label:"Resignation"},{value:"Non - affiliation",label:"Non - affiliation"},{value:"Enrollment to other HMO",label:"Enrollment to other HMO"},{value:"Other",label:"Other"}],label:"Reason",value:h.reason?h.reason:"",onChange:function(e){v(Sp({},h,{reason:e.value}))},error:!1,error_message:""})),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Ticket Number"),n.createElement(j.a,{value:h.ticket_no?h.ticket_no:"",error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){v(Sp({},h,{ticket_no:e.target.value}))}}))),0!==c?n.createElement(J.a,{container:!0,spacing:2},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:t.prevButtonContainer,onClick:function(){E(c,c-1),m(c-1)}},n.createElement(X.a,{size:"1x",icon:Z.j,className:t.prevIcon}),n.createElement("span",{className:t.prevButton},"Prev Member")))):null),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{className:t.cancelButton,variant:"contained",color:"primary",onClick:function(){return e.onClose()}},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},i||e.memberData&&1===e.memberData.length||c+1===e.memberData.length?n.createElement(z.a,{className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){return E(c,"submit")}},"Submit"):n.createElement(z.a,{className:t.nextMemberButton,variant:"contained",color:"primary",onClick:function(){E(c,c+1),m(c+1)}},"Next Member")))))},jp=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},hmodependentsbox:{height:175,borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmodependentsbox_link:{color:"rgb(39, 46, 76)"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"},prevButtonContainer:{display:"flex",alignItems:"center","&:hover":{cursor:"pointer",textDecoration:"underline"}},prevIcon:{},prevButton:{fontSize:"12px",fontWeight:600,paddingLeft:"10px"}}}),Np=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),Dp=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Tp=function(e){var t=jp(),a=n.useState(!1),r=Object(g.a)(a,2),i=r[0],o=r[1],l=n.useState(""),s=Object(g.a)(l,2),c=s[0],m=s[1],d=n.useState([]),u=Object(g.a)(d,2),p=u[0],f=u[1];console.log(e.clientData);return n.createElement(U.a,{maxWidth:!1,open:e.isModalOpen,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},i?n.createElement(S.a,{className:t.prevButtonContainer,onClick:function(){o(!1)}},n.createElement(X.a,{size:"1x",icon:Z.j,className:t.prevIcon}),n.createElement("span",{className:t.prevButton},"Back")):n.createElement("div",{className:t.dialogFirstTitle},"Confirm Membership Termination"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"terminate_member_conmod_close_btn",id:"terminate_member_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},i?n.createElement(S.a,null,c," (Principal)"):n.createElement(S.a,null,"Are you sure you want to terminate the membership of the following members in ",n.createElement("b",null,e.clientData[0]?e.clientData[0].corporates:""),"? These members and their dependents will no longer eligible to any benefits in this contract."))),n.createElement(V.a,{className:t.dialogContent},n.createElement("div",{style:{paddingBottom:"1rem"}}),n.createElement(N.a,{className:t.hmodependentsbox},n.createElement(Ri.a,{size:"small"},n.createElement(Li.a,null,i?n.createElement(Ii.a,null,n.createElement(qn.a,null,"Dependent Name"),n.createElement(qn.a,null,"Relationship"),n.createElement(qn.a,null,"Status")):n.createElement(Ii.a,null,n.createElement(qn.a,null,"Principal Name"),n.createElement(qn.a,null,"Termination Date"),n.createElement(qn.a,null," "))),n.createElement(Wi.a,null,i?p.length>0?p.map(function(e,a){return n.createElement(Ii.a,{key:a},n.createElement(qn.a,{component:"th",scope:"row"},n.createElement(se.b,{to:"#",className:t.hmodependentsbox_link},"".concat(e.first_name," ").concat(e.middle_name.charAt(1)," ").concat(e.last_name))),n.createElement(qn.a,null,e.relationship_to_principal),n.createElement(qn.a,null,e.member_status))}):n.createElement(Ii.a,null,n.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled dependents")):e.terminationData&&e.terminationData.principal&&e.terminationData.principal.length>0&&e.terminationData.principal.map(function(a,r){return n.createElement(Ii.a,{key:r},n.createElement(qn.a,{component:"th",scope:"row"},a.name),n.createElement(qn.a,null,Je()(e.terminationData.length>1?e.terminationData[r].termination_date:e.terminationData.termination_date).format("MMMM DD, YYYY")),n.createElement(qn.a,null,n.createElement(se.b,{to:"#",onClick:function(){!function(e){m(e.name),o(!0),An.viewMemberDependents(e.id).then(function(e){f(e)}).catch(function(e){console.log(e)})}(a)},className:t.hmodependentsbox_link},"View Dependents")))}))))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Dp,{"data-cy":"terminate_member_conmod_cancel_btn",id:"terminate_member_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(Np,{"data-cy":"terminate_member_conmod_btn",id:"terminate_member_conmod_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onTerminate(),e.onClose()}},"Terminate")))))};Tp.defaultProps={isModalOpen:!1};var Mp=function(e){var t=e.rows,a=e.columns,n=e.onRowSelect,i=e.selection,o=e.selectall,l=e.onSelectAll,s=e.disableSelect,c=e.id,m=Bm.tableStyles();return r.a.createElement("div",{className:m.container},r.a.createElement(zn.a,{rows:t,columns:a,getRowId:function(e){return e._id}},s?null:r.a.createElement(Un.p,{selection:i,onSelectionChange:function(e){n(e)}}),s?null:r.a.createElement(Un.j,null),r.a.createElement(zn.d,{"data-cy":c}),s?null:r.a.createElement(zn.h,{selectByRowClick:!0,showSelectionColumn:!0,showSelectAll:!0,headerCellComponent:function(){return r.a.createElement(G.a,{color:"primary","data-cy":"print_check_all_checkbox",checked:o,onChange:function(){l(!o)}})}}),r.a.createElement(zn.g,{showSortingControls:!1})))};function Fp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Pp=function(e){var t=Bm.batchesWrapper(),a=Object(n.useState)(new Date),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(!1),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(new Date),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(!1),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Object(n.useState)(""),x=Object(g.a)(y,2),O=x[0],C=x[1],w=Object(n.useState)(!1),j=Object(g.a)(w,2),N=j[0],D=j[1],T=Object(n.useState)(""),M=Object(g.a)(T,2),F=M[0],P=M[1],A=Object(n.useState)(!1),B=Object(g.a)(A,2),I=B[0],R=B[1],L=Object(n.useState)(""),W=Object(g.a)(L,2),U=W[0],Y=W[1],V=Object(n.useState)(""),H=Object(g.a)(V,2),q=H[0],Q=H[1],$=Object(n.useState)(!1),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],le=Object(n.useState)(""),se=Object(g.a)(le,2),ce=se[0],me=se[1],de=Object(n.useState)(!1),ue=Object(g.a)(de,2),pe=ue[0],fe=ue[1],be=Object(n.useState)(""),ge=Object(g.a)(be,2),_e=ge[0],he=ge[1],ve=Object(n.useState)(!1),Ee=Object(g.a)(ve,2),ye=Ee[0],xe=Ee[1],Oe=Object(n.useState)(!1),Ce=Object(g.a)(Oe,2),Se=Ce[0],we=Ce[1],ke=Object(n.useState)(!1),je=Object(g.a)(ke,2),Ne=je[0],De=je[1],Te=Object(n.useState)([]),Me=Object(g.a)(Te,2),Fe=Me[0],Pe=Me[1],Ae=Object(n.useState)([]),Be=Object(g.a)(Ae,2),Ie=Be[0],Re=Be[1],Le=Object(n.useState)([]),We=Object(g.a)(Le,2),ze=We[0],Ue=We[1],Ve=Object(n.useState)(!1),He=Object(g.a)(Ve,2),qe=He[0],Ge=He[1],Je=Object(n.useState)([]),Ke=Object(g.a)(Je,2),Xe=Ke[0],Ze=Ke[1],Qe=Object(n.useState)(!1),$e=Object(g.a)(Qe,2),et=$e[0],tt=$e[1],at=function(){l(new Date),d(!1),b(new Date),E(!1),Ue([]),Ge(!1),C(""),D(!1),P(""),R(!1),Y(""),Q(""),ae(!1),oe(""),me(""),fe(!1),he(""),xe(!1),we(!1),De(!1),Pe([])};Object(n.useEffect)(function(){e.currentMember.id&&(console.log("check",e.currentMember.id),tt(!0),An.getMemberData(e.currentMember.id).then(function(e){console.log("memberd ata response",e),An.getMemberDependents(e.temp_id).then(function(e){console.log("dependent response",e);var t=[];e.forEach(function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fp(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fp(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{member_name:e.first_name+" "+e.middle_name+" "+e.last_name,relationship:e.relationship_to_principal,principal:e.principal_first_name+" "+e.principal_middle_name+" "+e.principal_last_name,status:e.member_status}))}),Re(t),tt(!1)}).catch(function(e){console.log("error getting dependents",e)})}).catch(function(e){console.log("error getting dependents",e)}))},[e.currentMember]);var nt=function(){at(),e.modalClose()},rt=e.currentMember,it=Fe&&Fe.length?Fe.map(function(e){return r.a.createElement("li",{key:e.path},e.name?e.name:e.path)}):[];console.log("check current member",rt);return r.a.createElement(Hm,{visibility:e.modalVisibility,close:nt},et?r.a.createElement(Rn,null):null,r.a.createElement(S.a,{className:t.subHeading},"Re-activation Details"),r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:8},r.a.createElement(S.a,{className:t.modalInfo},rt.member_name?rt.member_name+" ":"First ")),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:12,direction:"row",justify:"flex-end",alignItems:"stretch"},r.a.createElement(S.a,{style:{fontSize:14,fontWeight:300,marginLeft:"5px",textAlign:"right"}},"".concat(e.currentCount,"/").concat(e.overalllCount," members to reactivate"))))),r.a.createElement(J.a,{item:!0,sm:8},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(Zr.a,{name:"source",className:t.radioGroup},r.a.createElement(S.a,{className:t.radioInfo},"Source"),r.a.createElement(K.a,{className:t.formRadioLabel,control:r.a.createElement(Jn.a,{id:"radio_internal","data-cy":"radio_internal",name:"internal",className:t.radio,checked:!1===e.isExternal,onClick:function(t){t.stopPropagation(),at(),e.setIsExternal(!1)}}),label:"Internal"}),r.a.createElement(K.a,{className:t.formRadioLabel,control:r.a.createElement(Jn.a,{id:"radio_external","data-cy":"radio_external",name:"external",className:t.radio,checked:!0===e.isExternal,onClick:function(t){t.stopPropagation(),at(),e.setIsExternal(!0)}}),label:"External"})))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:12,style:{display:"block"}},r.a.createElement(Ye.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",m:1,style:{width:"100%",height:"100%"}},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(K.a,{className:t.formRadioLabel,control:r.a.createElement(ap.a,{id:"switch_internal","data-cy":"switch_internal",name:"internal",className:t.switchreactivate,color:"default",checked:e.applyToAll,onChange:function(t){e.setApplyToAll(t.target.checked)}}),label:"Apply to all selected members"}))))))),e.isExternal?null:r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Date of Termination:"),r.a.createElement(_r.a,{id:"date_termination","data-cy":"date_termination",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px"},minDate:new Date,maxDate:new Date(f),variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:o,initialFocusedDate:o||new Date,onChange:function(e){var t=e?e.toDate():null;l(t),d(null===t)},error:m}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Endorsed Date:"),r.a.createElement(_r.a,{id:"date_endorsed","data-cy":"date_endorsed",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px"},minDate:new Date,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:f,initialFocusedDate:f||new Date,onChange:function(e){var t=e?e.toDate():null;b(t),E(null===t)},error:v}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"ticket-number","data-cy":"ticket-number",label:"Ticket Number",labelFontSize:"14px",value:U,onChange:function(e){var t=e.target.value;Y(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"endorsed-by","data-cy":"endorsed-by",label:"Endorsed By",labelFontSize:"14px",value:_e,onChange:function(e){var t=e.target.value;he(t),xe(0===t.length)},error:ye,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"sent-via","data-cy":"sent-via",label:"Sent via*",menuItems:Ym,width:"85%",value:O,onChange:function(e){var t=e.target.value;C(t),D(0===t.length)},error:N})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"remarks","data-cy":"remarks",label:"Remarks",labelFontSize:"14px",value:F,onChange:function(e){var t=e.target.value;P(t),R(0===t.length)},error:I,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:12},r.a.createElement(Mp,{id:"dependent_table",rows:Ie,columns:[{name:"member_name",title:"Member Name"},{name:"relationship",title:"Relationship"},{name:"principal",title:"Principal"},{name:"status",title:"Status"}],onRowSelect:function(e){var t=e.filter(function(e){return!ze.includes(e)});console.log("selected",e);var a=Xe;t.length>0&&t.forEach(function(e){var t=Ie.find(function(t){return e===t._id});void 0!==t&&a.push(t)});var n=ze.filter(function(t){return!e.includes(t)});n.length>0&&n.forEach(function(e){a=a.filter(function(t){return e!==t._id})});var r=[];Ie.forEach(function(t){r.push(e.includes(t._id))}),Ze(a),Ue(e),r.includes(!1)?Ge(!1):Ge(!0)},selection:ze,selectall:qe,onSelectAll:function(e){!function(e){var t=[],a=[];if(e){t=ze;var n=[];Ie.map(function(e){-1===t.findIndex(function(t){return t===e._id})&&t.push(e._id),-1===Xe.findIndex(function(t){return t._id===e._id})&&n.push(e._id)}),console.log("select all",n,t,ze),a=Xe,n.length>0&&n.forEach(function(e){var t=Ie.find(function(t){return e===t._id});void 0!==t&&a.push(t)})}Ze(a),Ue(t),Ge(e)}(e),Ge(e)}}))),e.isExternal?r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Date Sent:"),r.a.createElement(_r.a,{id:"date_sent_input","data-cy":"date_sent_input",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px"},minDate:new Date,maxDate:new Date(f),variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:o,initialFocusedDate:o||new Date,onChange:function(e){var t=e?e.toDate():null;l(t),d(null===t)},error:m}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Date Recieved:"),r.a.createElement(_r.a,{id:"date_received_input","data-cy":"date_received_input",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px"},minDate:new Date,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:f,initialFocusedDate:f||new Date,onChange:function(e){var t=e?e.toDate():null;b(t),E(null===t)},error:v}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"ticket-number","data-cy":"ticket-number",label:"Ticket Number (Optional)",labelFontSize:"14px",value:U,onChange:function(e){var t=e.target.value;Y(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"person-endorse","data-cy":"person-endorse",label:"Person Who Endorsed*",labelFontSize:"14px",value:ce,onChange:function(e){var t=e.target.value;me(t),fe(0===t.length)},error:pe,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"endorsed-by","data-cy":"endorsed-by",label:"Endorsed By*",labelFontSize:"14px",value:_e,onChange:function(e){var t=e.target.value;he(t),xe(0===t.length)},error:ye,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"sent-via","data-cy":"sent-via",label:"Sent via*",menuItems:Ym,width:"85%",value:O,onChange:function(e){var t=e.target.value;C(t),D(0===t.length)},error:N})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"endorsed-by","data-cy":"endorsed-by",label:"Endorsed By*",labelFontSize:"14px",value:_e,onChange:function(e){var t=e.target.value;he(t),xe(0===t.length)},error:ye,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"reason","data-cy":"reason",label:"Reason*",menuItems:Vm,value:q,onChange:function(e){var t=e.target.value;Q(t),ae(0===t.length)},error:te,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"reason-others","data-cy":"reason-others",label:"If Others, please specify",labelFontSize:"14px",value:ie,onChange:function(e){var t=e.target.value;oe(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(Zr.a,{name:"card"},r.a.createElement(K.a,{className:t.formLabel,control:r.a.createElement(G.a,{id:"checkbox_card_returned","data-cy":"checkbox_card_returned",name:"card_returned",className:t.checkbox,checked:Se,onChange:function(e){we(e.target.checked)}}),label:"Card Returned"}),r.a.createElement(K.a,{className:t.formLabel,control:r.a.createElement(G.a,{id:"checkbox_generate_new_card","data-cy":"checkbox_generate_new_card",name:"generate_new_card",className:t.checkbox,checked:Ne,onChange:function(e){De(e.target.checked)}}),label:"Generate New Card No."})))),r.a.createElement(J.a,{item:!0,xs:8},r.a.createElement(Yl.a,{onDropAccepted:function(e){return Pe(e)}},function(e){var a=e.getRootProps,n=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",Object.assign({className:t.fileupload},a()),r.a.createElement("input",Object.assign({id:"upload_file_member","data-cy":"upload_file_member"},n())),r.a.createElement(X.a,{className:"fa-lg",icon:Z.s,style:{color:"rgba(39, 46, 76, 0.56)"}}),r.a.createElement("p",{style:{color:"rgba(39, 46, 76, 0.56)",fontWeight:400,fontSize:"14px"}},"Upload OR")),r.a.createElement("aside",null,it.length>0?r.a.createElement("div",null,r.a.createElement(S.a,null,"Uploaded File"),r.a.createElement("ul",null,it)):null))}))):null,r.a.createElement(J.a,{container:!0,className:t.printButtons,spacing:5},r.a.createElement(J.a,{className:t.modalButtonContainerLeft,item:!0,sm:6},r.a.createElement(z.a,{id:"cancel_reprint_button","data-cy":"cancel_reprint_button",className:t.modalButtonLeft,style:{marginRight:"10px"},variant:"outlined",color:"secondary",size:"small",onClick:nt}," ","Cancel"," ")),r.a.createElement(J.a,{className:t.modalButtonContainerRight,item:!0,sm:6},r.a.createElement(z.a,{id:"finish_member_button","data-cy":"finish_member_button",className:t.modalButtonRight,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",onClick:function(){var t=0;if(console.log(Fe),0===O.length&&(D(!0),console.log("error sentVia"),t++),null===o&&(d(!0),console.log("error sentVia"),t++),null===f&&(E(!0),console.log("error sentVia"),t++),e.isExternal?0===_e.length&&(xe(!0),console.log("error endorsedBy"),t++):0===F.length&&(R(!0),console.log("error remarks"),t++),console.log("errors",t),0===t){var a={id:e.currentMember.id?e.currentMember.id:"",member_id:e.currentMember.member_id?e.currentMember.member_id:"",member_name:e.currentMember.member_name?e.currentMember.member_name:"",corporation:e.currentMember.corporates?e.currentMember.corporates:"",type:e.currentMember.member_type?e.currentMember.member_type:"",previous_status_to_restore:"active",sent_via:O,date_termination:o,date_endorsed:f,is_external:e.isExternal,selectedDependent:Xe,endorsed_by:_e};U.length>0&&(a.ticket_no=U),e.isExternal?ce.length>0&&(a.person_who_endorsed=ce):(F.length>0&&(a.remarks=F),ie.length>0&&(a.reason_others=ie)),at(),e.modalNext(a,Fe)}}}," ",e.lastMember?"Submit":"Next Member"," "))))},Ap=Object(y.a)(function(e){return{dialog:{align:"center",justify:"center",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingBottom:"1rem"},tblPaper:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:40,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},suspendButton:{minWidth:129,backgroundColor:"#FD5451"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),Bp=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#24B070"}})(z.a),Ip=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Rp=function(e){var t=Ap(),a=e.id,n=e.isModalOpen,i=e.reactivateMember,o=e.onClose,l=e.onConfirm;return r.a.createElement(U.a,{id:a,maxWidth:"lg",open:n,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Reactivation of Members"),r.a.createElement(ne.a,{"data-cy":"member_suspension_conmod_close_btn",id:"member_suspension_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:o},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,null,"Are you sure you want to cancel the termination of the following ".concat(i.length," members? Member (s) will continue to have their benefits coverage."))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaper},r.a.createElement(Ri.a,{"data-cy":"member_suspension_conmod_dependents_table",id:"member_suspension_conmod_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"25%"}},"Member ID"),r.a.createElement(qn.a,{style:{width:"25%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"20%"}},"Corporation"),r.a.createElement(qn.a,{style:{width:"15%"}},"Type"),r.a.createElement(qn.a,{style:{width:"15%"}},"Previous Status To Restore"))),r.a.createElement(Wi.a,null,i.length>0?i.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"25%"}},e.member_id),r.a.createElement(qn.a,{style:{width:"25%"}},e.member_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.corporation),r.a.createElement(qn.a,{style:{width:"15%"}},e.type),r.a.createElement(qn.a,{style:{width:"15%"}},e.previous_status_to_restore))}):null)))))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(Ip,{"data-cy":"member_suspension_conmod_cancel_btn",id:"member_suspension_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:o},"Cancel"),r.a.createElement(Bp,{"data-cy":"member_suspension_conmod_btn",id:"member_suspension_conmod_btn",className:t.suspendButton,variant:"contained",color:"primary",onClick:l},"Reactivate")))))},Lp=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"55vw"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogNotice:{fontSize:14,fontWeight:400,color:"#000"},tblPaperMembers:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"}}}),Wp=function(e){var t=Lp(),a=e.id,i=e.isModalOpen,o=e.memberData,l=Object(n.useState)(!1),s=Object(g.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)({}),f=Object(g.a)(p,2),b=f[0],_=f[1];Object(n.useEffect)(function(){e.isModalOpen&&h()},[e.isModalOpen]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:t=e.sent,_(t),u(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),u(!0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}o.length>0&&!0===i&&function(){e.apply(this,arguments)}()},[i]);var h=function(){u(!1),_({})};function v(){e.onClose&&e.onClose()}return r.a.createElement("div",null,r.a.createElement(U.a,{id:a,maxWidth:"md",open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},!1===d?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Cancelling of Termination"),r.a.createElement(ne.a,{id:"client_close_button","data-cy":"client_close_button","aria-label":"close",className:t.closeButton,onClick:v},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogNotice},r.a.createElement("span",null,"Are you sure you want to cancel the termination of the following"," ",r.a.createElement("b",null,o.length," member",o.length>1?"s":null),"? Member(s) will continue to have their benefits coverage."))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaperMembers},r.a.createElement(Ri.a,{"data-cy":"client_cancel_termination_dependents_table",id:"client_cancel_termination_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"20%"}},"Member ID"),r.a.createElement(qn.a,{style:{width:"20%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"20%"}},"Corporation"),r.a.createElement(qn.a,{style:{width:"20%"}},"Type"),r.a.createElement(qn.a,{style:{width:"20%"}},"Termination Date"))),r.a.createElement(Wi.a,null,o.length>0?o.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"20%"}},e.member_id),r.a.createElement(qn.a,{style:{width:"20%"}},e.member_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.corporates),r.a.createElement(qn.a,{style:{width:"20%"}},e.member_type),r.a.createElement(qn.a,{style:{width:"20%"}},""!==e.member_termination.termination_date?Je()(e.member_termination.termination_date).format("MMM DD, YYYY"):"Not set"))}):r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:5},"No available data")))))))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"client_cancel_termination_cancel_btn",id:"client_cancel_termination_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:v},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"client_cancel_termination_btn",id:"client_cancel_termination_btn",variant:"contained",color:"primary",onClick:function(){var t=[];o.forEach(function(e){console.log("marked member",e),t.push(e.id)});var a={memberIds:t,remarks:void 0,username:b.userName};e.onStatusAction&&(e.onStatusAction(a),v())}},"Cancel Termination")))))))},zp=["APD_ENCODER GROUP"],Up=Object(y.a)(function(e){return{change_status_link:{color:"#0D5E40",cursor:"pointer",fontSize:"13px",textDecoration:"underline"},change_status_link_disabled:{color:"#9ea3ac",fontSize:"13px",textDecoration:"underline"},icons:{color:"#0D5E40",cursor:"pointer",fontSize:"13px",marginRight:"4px"},icons_disabled:{color:"#9ea3ac",fontSize:"13px",marginRight:"4px"},popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},paper:{padding:"15px",width:150},redirectPaper:{width:"228px"},status:{padding:"5px",cursor:"pointer"},buttonredirect:{width:"100%",padding:"5px 20px",textAlign:"left",alignItems:"stretch",alignContent:"left",justifyContent:"flex-start",textTransform:"none",fontSize:"12px"}}}),Yp=function(e){var t=Up(e),a=Object(n.useRef)(null),i=Object(n.useState)(null),o=Object(g.a)(i,2),l=o[0],s=o[1],d=Object(n.useState)(!1),u=Object(g.a)(d,2),p=u[0],f=u[1],b=Object(n.useState)(!1),_=Object(g.a)(b,2),h=_[0],v=_[1],E=Object(n.useState)(!1),y=Object(g.a)(E,2),x=y[0],O=y[1],C=Object(n.useState)(null),w=Object(g.a)(C,2),k=w[0],j=w[1];var D=Object(n.useRef)(null);var T=function(){var e=Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An.getUserDataFromDb().then(function(e){console.log(e),zp.includes(e.groupName)&&v(!0)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){T()},[]),r.a.createElement(J.a,{container:!0,direction:"row",justify:"flex-end",spacing:2},r.a.createElement(qe.a,{open:x,anchorEl:D.current,placement:"bottom-end",className:t.popper,disablePortal:!1,style:{marginTop:"4px"},modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"undefined"},arrow:{enabled:!0,element:k}}},r.a.createElement("span",{className:t.arrow,ref:j}),r.a.createElement(N.a,{className:t.redirectPaper},r.a.createElement(Gs.a,{onClickAway:function(){O(!1)}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{style:{padding:"20px 20px 5px 20px",fontWeight:"bold"}},"Choose Batch Process")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(z.a,{"data-cy":"upload_batch_popover",id:"upload_batch_popover",className:t.buttonredirect,onClick:function(){e.onRedirectClick("processBatches")}},"Print ID cards")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(z.a,{"data-cy":"upload_batch_popover",id:"upload_batch_popover",className:t.buttonredirect},"Upload Members List")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(z.a,{"data-cy":"upload_batch_popover",id:"upload_batch_popover",className:t.buttonredirect},"Upload File Correction")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(z.a,{"data-cy":"upload_batch_popover",id:"upload_batch_popover",className:t.buttonredirect},"Upload supporting documents")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(z.a,{"data-cy":"upload_batch_popover",id:"upload_batch_popover",className:t.buttonredirect,style:{padding:"5px 20px 20px 20px"}},"Terminate Members")))))),r.a.createElement(J.a,{item:!0},r.a.createElement(X.a,{className:e.disabled?t.icons_disabled:t.icons,icon:Z.m}),r.a.createElement("span",{"data-cy":"generate_report_btn",id:"generate_report_btn",className:e.disabled?t.change_status_link_disabled:t.change_status_link,onClick:function(){!e.disabled&&e.onGenerateReportClick&&e.onGenerateReportClick()}},"Generate Report")),h?r.a.createElement(J.a,{item:!0},r.a.createElement("span",{"data-cy":"add_member_btn",id:"add_member_btn",ref:a,className:t.change_status_link,onClick:function(){f(!0)}},r.a.createElement(X.a,{icon:Z.A,className:t.icons}),"Add Member",r.a.createElement(qe.a,{open:p,anchorEl:a.current,placement:"bottom-end",className:t.popper,disablePortal:!1,style:{marginTop:"4px"},modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"undefined"},arrow:{enabled:!0,element:l}}},r.a.createElement("span",{className:t.arrow,ref:s}),r.a.createElement(N.a,{className:t.paper},r.a.createElement(Gs.a,{onClickAway:function(){f(!1)}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{"data-cy":"upload_batch_popover",id:"upload_batch_popover",className:t.status,onClick:function(){f(!1),e.onUploadBatchClick()}},"Upload batch")))))))):null)},Vp=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).initialData=function(){a.setState({check_internet_flag:!0}),An.getMembers(10,0).then(function(e){if(e&&void 0===e.error){var t=a.generateDataForTable(e.members);a.setState({check_internet_flag:!1,member_list:e,member_data_all:t,loading_state:!1,totalCount:e.total.count,page:0,limit:10})}else{var n=a.generateDataForTable([]);a.setState({member_list:[],member_data_all:n,loading_state:!1,isModalOpen:!0,modalTitle:"Loading failed",modalMessage:"An error occured while loading the list of members.",page:0})}})},a.handlePageChange=function(e){a.setState({page:e},function(){a.searchMembers()})},a.handlePageSizeChange=function(e){var t=a.state.totalCount;0===e&&0!==t&&t>1e3?a.setState({isPageSizeModal:!0}):a.setState({limit:e},function(){a.searchMembers()})},a.handleFilterByColumn=function(e){var t=a.state.global_filter;if(e=e.filter(function(e){return""!==e.value}),console.log("filter",e),""===t&&e&&0===e.length){var n=a.generateDataForTable([]);a.setState({member_list:[],member_data_all:n,member_data:n,default_filters:e,clientList:[],totalCount:0})}else a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({default_filters:e,page:0,typing:!1,typingTimeout:setTimeout(function(){a.searchMembers()},2e3)})},a.handleFilterChange=function(e){var t=a.state,n=t.member_data_all,r=t.member_data,i=t.global_filter,o=Object.assign({},r),l=[],s="",c="",m="",d="",u="",p="";e.forEach(function(e){"member_id"===e.columnName&&(s=e.value.toLowerCase()),"member_name"===e.columnName&&(c=e.value.toLowerCase()),"corporates"===e.columnName&&(m=e.value.toLowerCase()),"effectivity_date"===e.columnName&&(d=e.value.toLowerCase()),"termination_date"===e.columnName&&(u=e.value.toLowerCase()),"status"===e.columnName&&(p=e.value.toLowerCase())}),e.length>0&&""!==i&&void 0!==i&&null!==i?(n.rows.forEach(function(e){(e.member_id&&void 0!==e.member_id&&null!==e.member_id&&e.member_id.toLowerCase().includes(i.toLowerCase())||e.member_name&&void 0!==e.member_name&&null!==e.member_name&&e.member_name.toLowerCase().includes(i.toLowerCase())||e.corporates&&void 0!==e.corporates&&null!==e.corporates&&e.corporates.toLowerCase().includes(i.toLowerCase())||e.effectivity_date&&void 0!==e.effectivity_date&&null!==e.effectivity_date&&e.effectivity_date.toLowerCase().includes(i.toLowerCase())||e.termination_date&&void 0!==e.termination_date&&null!==e.termination_date&&e.termination_date.toLowerCase().includes(i.toLowerCase())||e.status&&void 0!==e.status&&null!==e.status&&e.status.toLowerCase().includes(i.toLowerCase()))&&void 0!==e.member_id&&null!==e.member_id&&e.member_id.toLowerCase().includes(s)&&void 0!==e.member_name&&null!==e.member_name&&e.member_name.toLowerCase().includes(c)&&void 0!==e.corporates&&null!==e.corporates&&e.corporates.toLowerCase().includes(m)&&void 0!==e.effectivity_date&&null!==e.effectivity_date&&e.effectivity_date.toLowerCase().includes(d)&&void 0!==e.termination_date&&null!==e.termination_date&&e.termination_date.toLowerCase().includes(u)&&void 0!==e.status&&null!==e.status&&e.status.toLowerCase().includes(p)&&l.push(e)}),o.rows=l,a.setState({member_data:o,default_filters:e})):""!==i&&void 0!==i&&null!==i?(n.rows.forEach(function(e){(e.member_id&&void 0!==e.member_id&&null!==e.member_id&&e.member_id.toLowerCase().includes(i.toLowerCase())||e.member_name&&void 0!==e.member_name&&null!==e.member_name&&e.member_name.toLowerCase().includes(i.toLowerCase())||e.corporates&&void 0!==e.corporates&&null!==e.corporates&&e.corporates.toLowerCase().includes(i.toLowerCase())||e.effectivity_date&&void 0!==e.effectivity_date&&null!==e.effectivity_date&&e.effectivity_date.toLowerCase().includes(i.toLowerCase())||e.termination_date&&void 0!==e.termination_date&&null!==e.termination_date&&e.termination_date.toLowerCase().includes(i.toLowerCase())||e.status&&void 0!==e.status&&null!==e.status&&e.status.toLowerCase().includes(i.toLowerCase()))&&l.push(e)}),o.rows=l,a.setState({member_data:o,default_filters:e})):e.length>0?void 0!==n&&n.rows.length>0&&(n.rows.forEach(function(e){void 0!==e.member_id&&null!==e.member_id&&e.member_id.toLowerCase().includes(s)&&void 0!==e.member_name&&null!==e.member_name&&e.member_name.toLowerCase().includes(c)&&void 0!==e.corporates&&null!==e.corporates&&e.corporates.toLowerCase().includes(m)&&void 0!==e.effectivity_date&&null!==e.effectivity_date&&e.effectivity_date.toLowerCase().includes(d)&&void 0!==e.termination_date&&null!==e.termination_date&&e.termination_date.toLowerCase().includes(u)&&void 0!==e.status&&null!==e.status&&e.status.toLowerCase().includes(p)&&l.push(e)}),o.rows=l,a.setState({member_data:o,default_filters:e})):0!==e.length&&""!==i&&void 0!==i&&null!==i||(o.rows=[],a.setState({member_data:o,default_filters:e}))},a.searchMembers=function(){a.setState({loading_state:!0,check_internet_flag:!0},function(){An.searchMembers(a.state.limit,a.state.limit*a.state.page,a.state.global_filter,a.state.default_filters,a.state.sorting).then(function(e){if(console.log("search member",e),e&&void 0===e.error){console.log(e.data);var t=a.generateDataForTable(e.data);a.setState({check_internet_flag:!1,member_list:e,member_data_all:t,member_data:t,loading_state:!1,totalCount:e.totalCount,clientList:e.clients})}else if(""===a.state.global_filter||""===a.state.global_filter.trim()){var n=a.generateDataForTable([]);a.setState({member_list:[],member_data_all:n,member_data:n,clientList:[],totalCount:0,loading_state:!1})}})})},a.handlePageSizeModalClose=function(){a.setState({isPageSizeModal:!1})},a.openGRModal=function(){a.setState({isGRModalOpen:!0})},a.closeGRModal=function(){a.setState({isGRModalOpen:!1})},a.handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})},a.handleGRSubmit=function(e){a.setState({isGRModalOpen:!1});var t=!1,n=Object(Tn.cloneDeep)(a.state.default_filters);if(n&&n.length>0){for(var r in n){if(null!==n[r])if("corporates"===n[r].columnName){n[r]={columnName:"corporates",value:e.label},t=!0;break}}t||n.push({columnName:"corporates",value:e.label})}else n=[{columnName:"corporates",value:e.label}];a.generateMemberListReport(n)},a.handleRedirectToPage=function(e){a.setState({redirectToPage:e})},a.handleSubmitTerminationModal=function(e){a.setState({dataFromStatusActions:{terminationModal:e},memberStatusActionConfirmFlags:{isMemberTermination:!0}})},a.handleTerminationPostModal=function(){var e=a.state.dataFromStatusActions.terminationModal;a.setState({loading_state:!0,check_internet_flag:!0,isReset:!0}),An.memberTerminateBatch(e.data).then(function(e){console.log(e),e&&void 0===e.error?a.setState({loading_state:!1,check_internet_flag:!1,isReset:!1,isModalOpen:!0,modalTitle:"Termination Success",modalMessage:"Successfully update member's data"}):a.setState({loading_state:!1,check_internet_flag:!1,isReset:!1,isModalOpen:!0,modalTitle:"Termination Failed",modalMessage:e.error.message})})},a.setIsExternal=function(e){a.setState({isExternal:e})},a.modal2Close=function(){a.setState({reactivateMemberData:[],isRMModal:!1,reactivateMemberFiles:[]})},a.modal2Next=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={member_id:"",member_name:"",corporation:"",type:"",previous_status_to_restore:"",is_external:!0,date_termination:new Date,date_endorsed:new Date,sent_via:"",ticket_no:"",endorsed_by:"",remarks:"",selectedDependent:[],documents:[]},r=Object.assign(n,e);console.log("modal2next",r);var i=[].concat(Object(Ln.a)(a.state.reactivateMemberData),[r]),o=[].concat(Object(Ln.a)(a.state.reactivateMemberFiles),Object(Ln.a)(t.map(function(t){return{member_id:e.member_id,file:{name:t.name,type:t.type,file:t,field:"OR"}}})));console.log("newFiles",o),a.setState({reactivateMemberData:i,reactivateMemberFiles:o,isRMModal:!1}),a.state.RMCount+1<a.state.memberStatusActionArrays.forReactivation.length?setTimeout(function(){a.setState({RMCount:a.state.RMCount+1,isRMModal:!0})},500):a.setState({isRMModal:!1,isCRMModalOpen:!0})},a.handleCloseConfirmReactivateModal=function(){a.setState({isCRMModalOpen:!1})},a.handleConfirmReactivate=function(){var e=new FormData,t=[];if(a.state.reactivateMemberFiles.map(function(e){t.push(e.file.file)}),a.state.reactivateMemberFiles.map(function(t){e.append("".concat(t.file.field),t.file.file)}),a.state.reactivateMemberFiles.length>0){var n=0;a.state.reactivateMemberFiles.forEach(function(e){An.uploadMemberDocument(e.member_id,"others",e.file.file).then(function(t){console.log("uploadmember",t);var r=a.state.reactivateMemberData.findIndex(function(t){return t.member_id===e.member_id});a.state.reactivateMemberData[r].documents.push(t),++n===a.state.reactivateMemberFiles.length&&An.batchPrinting(a.state.reactivateMemberData).then(function(e){console.log(e)}).catch(function(e){console.log("error in batch print",e)})}).catch(function(e){console.log("upload error",e)})})}else An.batchPrinting(a.state.reactivateMemberData).then(function(e){console.log(e)}).catch(function(e){console.log("error in batch print",e)})};var n={formattedColumns:{required_columns:["status"]},filterExtensions:[{columnName:"recently_added",filteringEnabled:!1,sortingEnabled:!1}],columnExtensions:[{columnName:"member_id",width:200,wordWrapEnabled:!0},{columnName:"member_name",width:250,wordWrapEnabled:!0},{columnName:"corporates",width:200,wordWrapEnabled:!0},{columnName:"effectivity_date",wordWrapEnabled:!0},{columnName:"termination_date",wordWrapEnabled:!0},{columnName:"date_printed",wordWrapEnabled:!0},{columnName:"batch_name",wordWrapEnabled:!0},{columnName:"status",wordWrapEnabled:!0},{columnName:"recently_added",wordWrapEnabled:!0}],columns:[{name:"member_id",title:"Member ID"},{name:"member_name",title:"Name"},{name:"corporates",title:"Corporate/s"},{name:"effectivity_date",title:"Effective Date"},{name:"termination_date",title:"Termination Date"},{name:"date_printed",title:"Date Printed"},{name:"batch_name",title:"Batch Number"},{name:"status",title:"Status"},{name:"recently_added",title:" "}],rows:[]};return a.state={check_internet_flag:!1,loading_state:!1,member_list:[],member_data:n,member_data_all:n,selected_date_filter:{id:"",value:"This Month",label:"This Month"},selected_start_date:new Date,selected_end_date:new Date,global_filter:"",redirect_to_member:!1,member_id:"",default_filters:[],sorting:[],isModalOpen:!1,isPageSizeModal:!1,modalTitle:"",modalMessage:"",totalCount:0,selectedCount:0,statusCount:{active:0,markedForSuspension:0,markedForTermination:0,suspended:0,terminated:0,others:0},redirectToPage:"",memberStatusActionArrays:{forSuspension:[],forCancelSuspension:[],forLiftSuspension:[],forTermination:[],forReactivation:[],forCancelTermination:[]},memberStatusActionFlags:{isMemberSuspension:!1,isMemberCancelSuspension:!1,isMemberLiftSuspension:!1,isMemberTermination:!1,isMemberCancelTermination:!1},dataFromStatusActions:{suspensionModal:[],liftSuspensionModal:[],terminationModal:[]},memberStatusActionConfirmFlags:{isConfirmSuspension:!1,isConfirmLiftSuspension:!1,isConfirmTermination:!1},applyToAllFlags:{suspension:!1,liftSuspension:!1,termination:!1},typing:!1,typingTimeout:0,page:0,limit:10,isReset:!1,isGRModalOpen:!1,clientList:[],isRMModal:!1,RMCount:0,reactivateMemberData:[],isExternal:!1,reactivateMemberFiles:[],isCRMModalOpen:!1,reactivateApplyToAll:!1},a.handleChangeFilter=a.handleChangeFilter.bind(Object(jn.a)(a)),a.handleDateSent=a.handleDateSent.bind(Object(jn.a)(a)),a.handleSearch=a.handleSearch.bind(Object(jn.a)(a)),a.handleClickRow=a.handleClickRow.bind(Object(jn.a)(a)),a.handleDataFromCheckbox=a.handleDataFromCheckbox.bind(Object(jn.a)(a)),a.handleMemberStatusAction=a.handleMemberStatusAction.bind(Object(jn.a)(a)),a.handleMemberSuspension=a.handleMemberSuspension.bind(Object(jn.a)(a)),a.handleConfirmMemberSuspension=a.handleConfirmMemberSuspension.bind(Object(jn.a)(a)),a.handleMemberCancelSuspension=a.handleMemberCancelSuspension.bind(Object(jn.a)(a)),a.handleMemberLiftSuspension=a.handleMemberLiftSuspension.bind(Object(jn.a)(a)),a.handleConfirmMemberLiftSuspension=a.handleConfirmMemberLiftSuspension.bind(Object(jn.a)(a)),a.handleMemberCancelTermination=a.handleMemberCancelTermination.bind(Object(jn.a)(a)),a.closeMemberStatusActionModal=a.closeMemberStatusActionModal.bind(Object(jn.a)(a)),a.closeMemberStatusActionConfirmModal=a.closeMemberStatusActionConfirmModal.bind(Object(jn.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(jn.a)(a)),a.handleChangeSorting=a.handleChangeSorting.bind(Object(jn.a)(a)),a.searchMembers=a.searchMembers.bind(Object(jn.a)(a)),a.closeModal=a.closeModal.bind(Object(jn.a)(a)),a.openUploadBatch=a.openUploadBatch.bind(Object(jn.a)(a)),a.generateMemberListReport=a.generateMemberListReport.bind(Object(jn.a)(a)),a.openGRModal=a.openGRModal.bind(Object(jn.a)(a)),a.closeGRModal=a.closeGRModal.bind(Object(jn.a)(a)),a.handleGRSubmit=a.handleGRSubmit.bind(Object(jn.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"generateMemberListReport",value:function(e){var t=this;this.setState({loading_state:!0,check_internet_flag:!0});var a=this.state,n=a.global_filter,r=a.default_filters,i=a.sorting,o=e||r;An.getMemberListReport(n,o,i).then(function(e){if(t.setState({loading_state:!1}),void 0!==e)if("application/json"===e.type)t.setState({check_internet_flag:!1,isModalOpen:!0,modalTitle:"Generate Report Error",modalMessage:"Failed to get list of members."});else{var a="LIST_OF_MEMBERS".concat(Je()().format("MMM-DD-YYYY"),".csv"),n=new File([e],a,{type:"text/csv;charset=utf-8"});Object(bu.saveAs)(n)}else t.setState({isModalOpen:!0,modalTitle:"Generate Report Error",modalMessage:"Failed to get list of members."})}).catch(function(){t.setState({loading_state:!1,isModalOpen:!0,modalTitle:"Generate Report Error",modalMessage:"Failed to get list of members."})})}},{key:"openUploadBatch",value:function(){window.location.href="#/membership/add-members/"}},{key:"isValidDate",value:function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}},{key:"isValidMomentDate",value:function(e){var t=Je()(e,"MM/DD/YYYY",!0),a=Je()(e,"YYYY/MM/DD",!0);return t.isValid()||a.isValid()}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){console.log(e),t.isReset,this.state.isReset,t.selectedCount,this.state.selectedCount,t.statusCount,this.state.statusCount,t.memberStatusActionArrays!==this.state.memberStatusActionArrays&&console.log(this.state.memberStatusActionArrays)}},{key:"generateDataForTable",value:function(e){var t=this,a=function(){return!0},n={formattedColumns:{required_columns:["status"]},filterExtensions:[{columnName:"recently_added",filteringEnabled:!1,sortingEnabled:!1}],integratedFilteringColumnExtensions:[{columnName:"member_id",predicate:a},{columnName:"member_name",predicate:a},{columnName:"corporates",predicate:a},{columnName:"effectivity_date",predicate:a},{columnName:"termination_date",predicate:a},{columnName:"date_printed",predicate:a},{columnName:"batch_name",predicate:a},{columnName:"status",predicate:a}],integratedSortingColumnExtensions:[{columnName:"member_id",compare:function(e,t){return 0}},{columnName:"member_name",compare:function(e,t){return 0}},{columnName:"corporates",compare:function(e,t){return 0}},{columnName:"effectivity_date",compare:function(e,t){return 0}},{columnName:"termination_date",compare:function(e,t){return 0}},{columnName:"date_printed",compare:function(e,t){return 0}},{columnName:"batch_name",compare:function(e,t){return 0}},{columnName:"status",compare:function(e,t){return 0}}],columnExtensions:[{columnName:"member_id",width:200,wordWrapEnabled:!0},{columnName:"member_name",width:250,wordWrapEnabled:!0},{columnName:"corporates",width:200,wordWrapEnabled:!0},{columnName:"effectivity_date",wordWrapEnabled:!0},{columnName:"termination_date",wordWrapEnabled:!0},{columnName:"date_printed",wordWrapEnabled:!0},{columnName:"status",wordWrapEnabled:!0},{columnName:"batch_name",wordWrapEnabled:!0},{columnName:"recently_added",wordWrapEnabled:!0,filteringEnabled:!1}],columns:[{name:"member_id",title:"Member ID"},{name:"member_name",title:"Name"},{name:"corporates",title:"Corporate/s"},{name:"effectivity_date",title:"Effective Date"},{name:"termination_date",title:"Termination Date"},{name:"date_printed",title:"Date Printed"},{name:"batch_name",title:"Batch Number"},{name:"status",title:"Status"},{name:"recently_added",title:" "}],rows:[]};return Object(Tn.forEach)(e,function(e){var a=e._id,r=e.client_object,i=e.effectivity_date,o=e.first_name,l=e.last_name,s=e.member_id,c=e.member_status,m=e.middle_name,d=e.registered_name,u=e.termination_date,p=e.date_printed,f=e.added_date,b=e.batch_name,g=e.member_type,_=e.member_suspension,h=e.member_termination,v={id:"",member_id:"",member_name:"",corporates:"",effectivity_date:"",termination_date:"",date_printed:"",status:"",recently_added:"",batch_name:""};if(v.id=a,v.member_id=s,f){var E=new Date(i),y=(new Date).getTime()-E.getTime();v.recently_added=y<=864e5?"Recently Added":""}else v.recently_added="---";void 0!==i&&null!==i&&(t.isValidDate(i)||t.isValidMomentDate(i))&&(v.effectivity_date=qr.toShortDateString(qr.getDateFromString(i))),void 0!==u&&null!==u&&(t.isValidDate(u)||t.isValidMomentDate(u))&&(v.termination_date=qr.toShortDateString(qr.getDateFromString(u))),void 0!==p&&null!==p&&(t.isValidDate(p)||t.isValidMomentDate(p))&&(v.date_printed=qr.toShortDateString(qr.getDateFromString(p)));var x="";if(o&&void 0!==o&&null!==o&&(x+=o),m&&void 0!==m&&null!==m&&(x+=" "+m.substr(0,1)+"."),l&&void 0!==l&&null!==l&&(x+=" "+l),v.member_name=x,d&&void 0!==d&&null!==d)v.corporates=d;else if(r&&void 0!==r&&null!==r){var O=Object(Tn.map)(r,function(e){return e.registered_name});v.corporates=O.join(", ")}c&&void 0!==c&&null!==c&&(v.status=c,e&&"Suspended"!==Object(Tn.get)(e,"member_status","")&&e.member_suspension&&e.member_suspension.suspension_start_date&&Je()(e.member_suspension.suspension_start_date).isValid()&&Je()(e.member_suspension.suspension_start_date).diff(new Date)>0&&(v.status="Marked for Suspension"),e&&"Terminated"!==Object(Tn.get)(e,"member_status","")&&e.member_termination&&e.member_termination.termination_date&&Je()(e.member_termination.termination_date).isValid()&&Je()(e.member_termination.termination_date).diff(new Date)>0&&(v.status="Marked for Termination")),b&&(v.batch_name=b),g&&(v.member_type=g),_&&(v.member_suspension=_),h&&(v.member_termination=h),n.rows.push(v)}),n}},{key:"handleClickRow",value:function(e){var t=e.id;t&&this.setState({redirect_to_member:!0,member_id:t})}},{key:"handleDataFromCheckbox",value:function(e){if(console.log("select",e),e.length>0){var t=0,a=0,n=0,r=0,i=0,o=0,l=[],s=[],c=[],m=[],d=[],u=[];e.forEach(function(e){"active"===e.status.toString().toLowerCase()?(t++,l.push(e),m.push(e)):"marked for suspension"===e.status.toString().toLowerCase()?(a++,s.push(e)):"suspended"===e.status.toString().toLowerCase()?(r++,c.push(e),m.push(e)):"terminated"===e.status.toString().toLowerCase()?(o++,d.push(e)):"marked for termination"===e.status.toString().toLowerCase()?(n++,u.push(e)):i++}),this.setState({statusCount:{active:t,markedForSuspension:a,markedForTermination:n,suspended:r,terminated:o,others:i},memberStatusActionArrays:{forSuspension:l,forCancelSuspension:s,forLiftSuspension:c,forTermination:m,forReactivation:d,forCancelTermination:u}})}this.setState({selectedCount:e.length})}},{key:"handleMemberStatusAction",value:function(e){"Suspend"===e?this.setState({memberStatusActionFlags:{isMemberSuspension:!0}}):"Cancel Suspension"===e?this.setState({memberStatusActionFlags:{isMemberCancelSuspension:!0}}):"Lift Suspension"===e?this.setState({memberStatusActionFlags:{isMemberLiftSuspension:!0}}):"Terminate"===e?this.setState({memberStatusActionFlags:{isMemberTermination:!0}}):"Reactivate"===e?this.setState({reactivateMemberData:[],reactivateMemberFiles:[],RMCount:0,isRMModal:!0}):"Cancel Termination"===e&&this.setState({memberStatusActionFlags:{isMemberCancelTermination:!0}})}},{key:"handleMemberSuspension",value:function(e,t){e.length>0&&this.setState({dataFromStatusActions:{suspensionModal:e},applyToAllFlags:{suspension:t},memberStatusActionConfirmFlags:{isConfirmSuspension:!0}})}},{key:"handleConfirmMemberSuspension",value:function(e){var t=this;e.length>0&&this.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.putMemberSuspension(e).then(function(e){console.log(e),t.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Member Suspension Successful",modalMessage:"Member(s) have been successfully suspended.",isReset:!1})}).catch(function(e){console.log(e),t.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Member Suspension Failed",modalMessage:"An error occured while trying to suspend the selected member(s).",isReset:!1})})})}},{key:"handleMemberLiftSuspension",value:function(e,t){e.length>0&&this.setState({dataFromStatusActions:{liftSuspensionModal:e},applyToAllFlags:{liftSuspension:t},memberStatusActionConfirmFlags:{isConfirmLiftSuspension:!0}})}},{key:"handleMemberCancelSuspension",value:function(e){var t=this;this.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.deleteMemberCancelSuspension(e).then(function(e){console.log(e),t.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Cancelling of Member Suspension Successful",modalMessage:"Member(s) have been successfully cancelled from suspension.",isReset:!1})}).catch(function(e){console.log(e),t.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Cancelling of Member Suspension Failed",modalMessage:"An error occured while trying to cancel the suspension of the selected member(s).",isReset:!1})})})}},{key:"handleConfirmMemberLiftSuspension",value:function(e){var t=this;e.length>0&&this.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.patchMemberLiftSuspension(e).then(function(e){console.log(e),t.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Lifting of Member Suspension Successful",modalMessage:"Member(s) have been successfully lifted from suspension.",isReset:!1})}).catch(function(e){console.log(e),t.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Lifting of Member Suspension Failed",modalMessage:"An error occured while trying to lift the suspension of the selected member(s).",isReset:!1})})})}},{key:"handleMemberCancelTermination",value:function(e){var t=this;console.log(e),this.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.deleteMemberCancelTermination(e).then(function(e){console.log(e),t.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Cancelling of Member Termination Successful",modalMessage:"Member(s) have been successfully cancelled from termination.",isReset:!1})}).catch(function(e){console.log(e),t.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Cancelling of Member Termination Failed",modalMessage:"An error occured while trying to cancel the termination of the selected member(s).",isReset:!1})})})}},{key:"closeMemberStatusActionModal",value:function(e){"suspensionModal"===e?this.setState({memberStatusActionFlags:{isMemberSuspension:!1}}):"cancelSuspensionModal"===e?this.setState({memberStatusActionFlags:{isMemberCancelSuspension:!1}}):"liftSuspensionModal"===e?this.setState({memberStatusActionFlags:{isMemberLiftSuspension:!1}}):"cancelTerminationModal"===e&&this.setState({memberStatusActionFlags:{isMemberCancelTermination:!1}})}},{key:"closeMemberStatusActionConfirmModal",value:function(e){"confirmSuspensionModal"===e?this.setState({memberStatusActionConfirmFlags:{isConfirmSuspension:!1}}):"confirmLiftSuspensionModal"===e&&this.setState({memberStatusActionConfirmFlags:{isConfirmLiftSuspension:!1}})}},{key:"handleChangeFilter",value:function(e){this.setState({selected_date_filter:e})}},{key:"handleDateSent",value:function(e,t){"start"===t?this.setState({selected_start_date:e}):this.setState({selected_end_date:e})}},{key:"handleSearch",value:function(e){var t=this,a=e.target.value,n=this.state.default_filters;if(""===a&&n&&0===n.length){var r=this.generateDataForTable([]);this.setState({member_list:[],member_data_all:r,member_data:r,global_filter:a,clientList:[],totalCount:0})}else this.state.typingTimeout&&clearTimeout(this.state.typingTimeout),this.setState({global_filter:a,page:0,limit:10,typing:!1,typingTimeout:setTimeout(function(){t.state.global_filter.length>0&&t.searchMembers()},2e3)})}},{key:"handleChangeSorting",value:function(e){var t=this;this.setState({sorting:e},function(){t.searchMembers()})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1}),this.searchMembers()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading_state,n=t.member_data,i=t.global_filter,o=t.redirect_to_member,l=t.member_id,s=t.default_filters,c=t.isModalOpen,m=t.modalTitle,d=t.modalMessage,u=t.totalCount,p=t.applyToAllFlags,f=t.memberStatusActionArrays,b=t.memberStatusActionFlags,g=t.memberStatusActionConfirmFlags,_=t.dataFromStatusActions,h=t.page,E=t.limit,y=t.isReset,x=t.isPageSizeModal,O=t.isGRModalOpen,C=t.clientList,S=t.isRMModal,w=t.RMCount,k=t.isExternal,N=t.reactivateMemberData,D=t.isCRMModalOpen,T=t.reactivateApplyToAll,M=t.redirectToPage;return!0===o?r.a.createElement(v.a,{to:{pathname:"/membership/view-member/"+l,state:{from:this.props.location}}}):"processBatches"===M?r.a.createElement(v.a,{to:{pathname:"/membership/process-batches/",state:{from:this.props.location}}}):r.a.createElement("div",{className:Object(tt.default)("MemberPage")},a?r.a.createElement(Rn,null):null,r.a.createElement(J.a,{container:!0,className:Object(tt.default)("member-header")},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Tl,{id:"member_page_stepper",label:"Members",steps:[],activeStep:0}))),r.a.createElement(J.a,{container:!0,alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:12,style:{marginBottom:8}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12,md:6}),r.a.createElement(J.a,{item:!0,xs:12,md:6},r.a.createElement(J.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"stretch"},r.a.createElement(J.a,{item:!0},r.a.createElement(Yp,{onUploadBatchClick:this.openUploadBatch,onGenerateReportClick:this.openGRModal,onRedirectClick:this.handleRedirectToPage,disabled:Object(Tn.isNil)(C)||0===C.length})))))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(j.a,{"data-cy":"members_search",id:"members_search",style:{width:"100%"},placeholder:"Search members by typing their member ID, name, etc.",label:"",margin:"normal",variant:"outlined",value:i,onChange:this.handleSearch,InputProps:{startAdornment:r.a.createElement(Ve.a,{position:"start"},r.a.createElement(Ki.a,{style:{color:"rgba(54, 54, 54, 0.4)"}}))}})))),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"32px"}},r.a.createElement($u,{"data-cy":"members_table",id:"members_table",totalCount:u,updateSorting:this.handleChangeSorting,rows:Object.keys(n).length>0?n.rows:[],columns:Object.keys(n).length>0?n.columns:[],message:i?"No available data":"Start looking for members by typing in a member name, ID, or using the table filters.",onClickRow:this.handleClickRow,singleSelect:!1,disableSelect:!1,showSelectionColumn:!0,onDataSelection:this.handleDataFromCheckbox,disableSearch:!0,formattedColumns:Object.keys(n).length>0?n.formattedColumns:{},columnExtensions:Object.keys(n).length>0?n.columnExtensions:[],filterExtensions:Object.keys(n).length>0?n.filterExtensions:[],integratedFilteringColumnExtensions:Object.keys(n).length>0?n.integratedFilteringColumnExtensions:[],integratedSortingColumnExtensions:Object.keys(n).length>0?n.integratedSortingColumnExtensions:[],onFilterChange:this.handleFilterByColumn,onSortingChange:this.handleChangeSorting,onPageChange:this.handlePageChange,onPageSizeChange:this.handlePageSizeChange,defaultFilter:s,currentPage:h,limit:E,isReset:y}))),r.a.createElement(op,{id:"member_suspension_modal","data-cy":"member_suspension_modal",isModalOpen:b.isMemberSuspension,memberData:f.forSuspension,onStatusAction:this.handleMemberSuspension,onClose:function(){e.closeMemberStatusActionModal("suspensionModal")}}),r.a.createElement(mp,{id:"confirm_member_suspension_modal","data-cy":"confirm_member_suspension_modal",isModalOpen:g.isConfirmSuspension,isApplyToAll:p.suspension,memberData:_.suspensionModal,onConfirmAction:this.handleConfirmMemberSuspension,onClose:function(){e.closeMemberStatusActionConfirmModal("confirmSuspensionModal")}}),r.a.createElement(bp,{id:"cancel_suspension_modal","data-cy":"cancel_suspension_modal",isModalOpen:b.isMemberCancelSuspension,memberData:f.forCancelSuspension,onStatusAction:this.handleMemberCancelSuspension,onClose:function(){e.closeMemberStatusActionModal("cancelSuspensionModal")}}),r.a.createElement(vp,{id:"member_lift_suspension_modal","data-cy":"member_lift_suspension_modal",isModalOpen:b.isMemberLiftSuspension,memberData:f.forLiftSuspension,onStatusAction:this.handleMemberLiftSuspension,onClose:function(){e.closeMemberStatusActionModal("liftSuspensionModal")}}),r.a.createElement(Op,{id:"confirm_lift_suspension_modal","data-cy":"confirm_lift_suspension_modal",isModalOpen:g.isConfirmLiftSuspension,isApplyToAll:p.liftSuspension,memberData:_.liftSuspensionModal,onConfirmAction:this.handleConfirmMemberLiftSuspension,onClose:function(){e.closeMemberStatusActionConfirmModal("confirmLiftSuspensionModal")}}),b.isMemberTermination?r.a.createElement(kp,{id:"member_terminate_batches_modal",isModalOpen:b.isMemberTermination,memberData:f.forTermination,onSubmit:function(t){e.handleSubmitTerminationModal(t)},onClose:function(){e.setState({memberStatusActionFlags:{isMemberTermination:!1}})}}):null,r.a.createElement(Pp,{modalVisibility:S,modalClose:this.modal2Close,modalNext:this.modal2Next,isExternal:k,setIsExternal:this.setIsExternal,applyToAll:T,setApplyToAll:function(t){e.setState({reactivateApplyToAll:t})},currentCount:N.length+1,overalllCount:f.forReactivation.length,currentMember:f&&f.forReactivation&&f.forReactivation[w]?f.forReactivation[w]:{},lastMember:N.length===f.forReactivation.length-1}),r.a.createElement(Rp,{id:"confirm_reactivate_modal",isModalOpen:D,reactivateMember:N,onClose:this.handleCloseConfirmReactivateModal,onConfirm:function(){console.log("check")}}),r.a.createElement(Tp,{id:"member_termination_confirmation_modal",isModalOpen:g.isMemberTermination,terminationData:_.terminationModal,clientData:f.forTermination,onTerminate:this.handleTerminationPostModal,onClose:function(){e.setState({memberStatusActionConfirmFlags:{isMemberTermination:!1}})}}),r.a.createElement(Wp,{id:"member_cancel_termination_modal",isModalOpen:b.isMemberCancelTermination,memberData:f.forCancelTermination,onStatusAction:this.handleMemberCancelTermination,onClose:function(){e.closeMemberStatusActionModal("cancelTerminationModal")}}),r.a.createElement(ql,{id:"member-list-modal",isModalOpen:c,title:m,message:d,onClose:this.closeModal}),r.a.createElement(ql,{id:"member-list-modal-page-size",isModalOpen:x,title:"Error",message:"Too many entries to display.",onClose:this.handlePageSizeModalClose}),r.a.createElement(tp,{id:"suspend_member_modal",isModalOpen:O,clientList:C,onClose:this.closeGRModal,onSubmit:this.handleGRSubmit}),r.a.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}))}}]),t}(r.a.Component),Hp=a(2107),qp=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},boldText:{fontWeight:"bold"},submitButton:{width:115,border:"1px solid #3AB77D",backgroundColor:"##3AB77D",color:"#FFFFFF"},cancelButton:{width:115,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},link:{marginLeft:"4px",color:"#3AB77D",textDecoration:"underline",cursor:"pointer"}}}),Gp=function(e){var t=e.isModalOpen,a=e.id,r=qp();return n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},"Ticket Claimed",n.createElement(ne.a,{id:"modal_close_ticket_claimed","data-cy":"modal_close_ticket_claimed","aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0,className:r.dialogContentContainer},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},"Ticket No. ".concat(e.ticket.ticket_id," for ").concat(e.ticket.ticket_type," was claimed successfully."),n.createElement("span",{id:"client-snackbar","data-cy":"client-snackbar",className:r.link,onClick:function(){e.onViewTicket&&e.onViewTicket(e.ticket)}},"View Ticket"))),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{"data-cy":"claim_modal_okay_btn",id:"claim_modal_okay_btn",className:e.isPrimary?r.submitButton:r.cancelButton,variant:"contained",color:e.isPrimary?"primary":"secondary",onClick:e.onClose},"Okay"))))))};Gp.defaultProps={id:"modal_id",isModalOpen:!1,isPrimary:!1,ticket:{}};a(836);var Jp="Enroll Memberlist",Kp="Claimed Enroll Memberlist",Xp="Verify Memberlist",Zp="Claimed Verify Memberlist",Qp="Add Member",$p="Verify Member",ef="Claimed Verify Member",tf="Print Card IDs",af="Claimed Print Card IDs",nf=[{name:"Created by Me",value:"created_by_me"},{name:"Created Tickets",value:"created_tickets"}],rf=[{name:"By Amount",value:"amount"},{name:"By Availees",value:"availees"},{name:"By Cases",value:"cases"}],of=Object(Vn.a)({popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em"},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em"},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em"},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em"}},paper:{padding:"20px",width:230},link:{textDecoration:"none",color:"#272E4C"},gridpadding:{paddingBottom:"16px"}});function lf(e){var t=of();return n.createElement(qe.a,{open:e.isPopoverOpen,anchorEl:e.anchor,placement:"bottom-end",className:t.popper,disablePortal:!1,style:{marginTop:"4px"},modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"undefined"},arrow:{enabled:!1}}},n.createElement(N.a,{className:t.paper},n.createElement(Gs.a,{onClickAway:e.handleClose},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12,className:t.gridpadding},n.createElement(se.b,{id:"dashboard_encode_batch","data-cy":"dashboard_encode_batch",className:t.link,to:{pathname:"/membership/encode-member/".concat(e.item.case_id,"/").concat(e.item.proposal_id,"/").concat(e.item.client_id,"/?encodeTicket=true&ticketId=").concat(e.item.ticket_id,"&isProcessing=").concat(""!==e.item.status,"&memberUploadId=").concat(e.item.member_upload_id),state:{case_id:e.item.case_id,proposal_id:e.item.proposal_id,client_id:e.item.client_id,encode_ticket:!0,ticket_id:e.item.ticket_id,isProcessing:""!==e.item.status,member_upload_id:e.item.member_upload_id}}},"Encode Batch Details")),n.createElement(J.a,{item:!0,xs:12},n.createElement(se.b,{id:"dashboard_upload_batch","data-cy":"dashboard_upload_batch",className:t.link,to:{pathname:"/membership/add-members/".concat(e.item.case_id,"/").concat(e.item.proposal_id,"/").concat(e.item.client_id,"/?encodeTicket=true&ticketId=").concat(e.item.ticket_id,"&isProcessing=").concat(""!==e.item.status,"&memberUploadId=").concat(e.item.member_upload_id),state:{case_id:e.item.case_id,proposal_id:e.item.proposal_id,client_id:e.item.client_id,ticket_id:e.item.ticket_id,isProcessing:""!==e.item.status,member_upload_id:e.item.member_upload_id}}},"Upload batch"))))))}var sf=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).reset=function(){a.setState({role:"apd",loading:!1,ticket_type:nf[0].value,top_facility_sort:rf[0].value})},a.handleTicketTypeSelect=function(e){a.setState({ticket_type:e.target.value})},a.handleTopFacilitySortSelect=function(e){a.setState({top_facility_sort:e.target.value})},a.queryStringToJSON=function(e){if(e.trim().length<1)return{};var t=e.slice(1).split("&"),a={};return t.forEach(function(e){e=e.split("="),a[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(a))},a.handleClickOpenTicketsRow=function(e){switch(e.ticket_type){case Kp:case Jp:a.setState({redirect:!0,redirect_info:{pathname:"/membership/encode-member/".concat(e.case_id,"/").concat(e.proposal_id,"/").concat(e.client_id,"/?ticketId=").concat(e.ticket_id,"&isProcessing=").concat(""!==e.status,"&memberUploadId=").concat(e.member_upload_id),state:{case_id:e.case_id,proposal_id:e.proposal_id,client_id:e.client_id,ticket_id:e.ticket_id,isProcessing:""!==e.status,member_upload_id:e.member_upload_id}}});break;case Xp:case Zp:case $p:case ef:void 0!==e&&!0===e.validation_finished&&a.setState({redirect:!0,redirect_info:{pathname:"/membership/verify-member/"+e.case_id+"/"+e.client_id,state:{case_id:e.case_id}}});break;case Qp:a.setState({redirect:!0,redirect_info:{pathname:"/membership/add-members/".concat(e.case_id,"/").concat(e.proposal_id,"/").concat(e.client_id,"/?ticketId=").concat(e.ticket_id,"&isProcessing=").concat(""!==e.status,"&memberUploadId=").concat(e.member_upload_id),state:{case_id:e.case_id,proposal_id:e.proposal_id,client_id:e.client_id,ticket_id:e.ticket_id,isProcessing:""!==e.status,member_upload_id:e.member_upload_id}}});break;case af:case tf:a.setState({redirect:!0,redirect_info:{pathname:"/membership/process-batches/".concat(e.case_id,"/").concat(e.client_id,"/").concat(e.client_name)}})}},a.handlePopoverOpen=function(e,t){a.setState({popperOpen:!0,popperAnchor:e.target,popperItem:t})},a.handlePopoverClose=function(){a.setState({popperOpen:!1,popperAnchor:null,popperItem:{}})},a.closeModalMessage=function(){var e=a.state.next;a.setState({isOpenModal:!1,isClaimModalOpen:!1,modalTitle:"",modalMessage:"",next:null},function(){void 0!==e&&null!==e&&e()})},a.setTicketDueDate=function(e,t){e.case_id&&a.setState({loading:!0},function(){gs.put("cases/"+e.case_id+"/variable",{ticket_due_date:t}).then(function(){a.setState({loading:!1,isTicketSnackBarOpen:!1,claimedTicketData:e,isClaimModalOpen:!0,modalTitle:"Ticket Claimed",modalMessage:"Ticket No. ".concat(e.ticket_id," for ").concat(e.ticket_type," was claimed successfully.")},function(){a.getOpenTickets(),a.getUnassigned()})}).catch(function(e){"USER_DATA_NOT_FOUND"===e.message?a.setState({loading:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):a.setState({loading:!1})})})},a.handleClaim=function(e){e.case_id&&a.setState({loading:!0},function(){gs.postClaim("light/case/"+e.case_id+"/claim").then(function(t){if(void 0!==t&&void 0!==t.status&&"ok"===t.status.toLowerCase()){var n=Je()(),r=e.ticket_type;r===Jp||r===Qp||r===Kp?n.add(3,"days"):r!==Xp&&r!==$p&&r!==Zp&&r!==ef||n.add(10,"days");var i=n.format("YYYY-MM-DD HH:mm:ss");gs.put("cases/"+e.case_id+"/variable",{from_membership:!0,assigned_to_self:!0},!0).then(function(){gs.put("cases/"+e.case_id+"/route-case",{}).then(function(){var t={status:"OPEN",due_date:i};An.patchTicket(t,e.case_id,!0).then(function(){a.setTicketDueDate(e,i)}).catch(function(){a.setState({loading:!1,isOpenModal:!0,modalTitle:"Problem claiming ticket",modalMessage:"There may have been problems with your internet connection or the ticket has been claimed by another user. Please try claiming it again or try another ticket.",next:function(){a.getOpenTickets(),a.getUnassigned()}})})}).catch(function(){a.setState({loading:!1,isOpenModal:!0,modalTitle:"Problem claiming ticket",modalMessage:"There may have been problems with your internet connection or the ticket has been claimed by another user. Please try claiming it again or try another ticket.",next:function(){a.getOpenTickets(),a.getUnassigned()}})})}).catch(function(){a.setState({loading:!1,isOpenModal:!0,modalTitle:"Problem claiming ticket",modalMessage:"There may have been problems with your internet connection or the ticket has been claimed by another user. Please try claiming it again or try another ticket.",next:function(){a.getOpenTickets(),a.getUnassigned()}})})}else a.setState({loading:!1,isOpenModal:!0,modalTitle:"Problem claiming ticket",modalMessage:"There may have been problems with your internet connection or the ticket has been claimed by another user. Please try claiming it again or try another ticket.",next:function(){a.getOpenTickets(),a.getUnassigned()}})}).catch(function(e){"USER_DATA_NOT_FOUND"===e.message?a.setState({loading:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):a.setState({loading:!1})})})},a.getUnassigned=function(){gs.get("cases/unassigned").then(function(e){if(void 0!==e&&void 0===e.error){var t=[],n=e.filter(function(e){return"TO_DO"===e.app_status&&(e.app_tas_title===Jp||e.app_tas_title===Xp||e.app_tas_title===Qp||e.app_tas_title===$p||e.app_tas_title===tf)});if(n.length>0){for(var r=function(e){var t=Mn.a.get(e,"app_update_date",null);if(Mn.a.isNil(t))return"";var a=Je()(t,"YYYY-MM-DD HH:mm:ss",!0);return Mn.a.isNil(t)||!a.isValid()?"":a.format("MMM DD, YYYY")},i=0;i<n.length&&i<10;i++){var o=n[i],l=Je()(o.del_task_due_date).format("MMM DD, YYYY"),s={ticket_id:o.app_number,due:l,ticket_type:o.app_tas_title,client_name:o.app_title?o.app_title:"",client_id:"",ticket_item:o,case_id:o.app_uid,proposal_id:"",app_index:o.del_index,updated_by:o.app_del_previous_user,date_updated:r(o)};t.push(s)}a.setState({unassigned_tickets:t,unassignedTicketsCount:n.length})}else a.setState({unassigned_tickets:[],unassignedTicketsCount:0})}else void 0!==e&&void 0!==e.error&&a.setState({modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}})}).catch(function(e){"USER_DATA_NOT_FOUND"===e.message&&a.setState({modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}})})},a.getOpenTickets=function(){gs.get("cases?sort=APP_CACHE_VIEW.APP_UPDATE_DATE").then(function(){var e=Object(m.a)(c.a.mark(function e(t){var n,r,i,o,l,s,m,d,u,p,f,b;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0!==t.error){e.next=28;break}n=[],r=[],i=[],o=t.filter(function(e){return"TO_DO"===e.app_status&&(e.app_tas_title===Jp||e.app_tas_title===Kp||e.app_tas_title===Xp||e.app_tas_title===Zp||e.app_tas_title===Qp||e.app_tas_title===$p||e.app_tas_title===ef||e.app_tas_title===tf||e.app_tas_title===af)}),a.setState({loading:!0,openTicketsCount:o.length}),l=function(e){var t=Mn.a.get(e,"app_update_date",null);if(Mn.a.isNil(t))return"";var a=Je()(t,"YYYY-MM-DD HH:mm:ss",!0);return Mn.a.isNil(t)||!a.isValid()?"":a.format("MMM DD, YYYY")},s=0;case 8:if(!(s<o.length&&s<10)){e.next=27;break}return m=o[s],d=Je()(m.del_task_due_date).format("MMM DD, YYYY"),m.app_tas_title===af?m.app_tas_title=tf:m.app_tas_title===ef?m.app_tas_title=$p:m.app_tas_title===Zp?m.app_tas_title=Xp:m.app_tas_title===Kp&&(m.app_tas_title=Jp),u={ticket_id:m.app_number,due:d,ticket_type:m.app_tas_title,client_name:"",client_id:"",ticket_item:m,case_id:m.app_uid,proposal_id:"",status:"",member_upload_id:null,updated_by:m.app_del_previous_user&&""==m.app_del_previous_user?m.app_del_previous_user:m.app_current_user,date_updated:l(m)},p=m.del_index,e.prev=14,e.next=17,gs.get("cases/"+m.app_uid+"/variables?app_index="+p);case 17:void 0!==(f=e.sent)&&(void 0!==f.ticket_due_date&&(b=Je()(f.ticket_due_date,"YYYY-MM-DD HH-mm-ss",!0)).isValid()&&(u.due=b.format("MMM DD, YYYY")),void 0!==f.member_upload_id&&(u.member_upload_id=f.member_upload_id),void 0!==f.client_name&&(u.client_name=f.client_name),m.app_tas_title!==Jp&&m.app_tas_title!==Kp||void 0===f.client_id?m.app_tas_title!==Xp&&m.app_tas_title!==Zp&&m.app_tas_title!==$p&&m.app_tas_title!==ef||void 0===f.member_upload_id?m.app_tas_title!==Qp||Mn.a.isEmpty(f.client_name)||Mn.a.isEmpty(f.client_id)?m.app_tas_title!==tf&&m.app_tas_title!==af||Mn.a.isEmpty(f.client_name)||Mn.a.isEmpty(f.client_id)?s===o.length-1&&a.setState({open_tickets:n,validate_members:i,enroll_members:r}):(u.client_id=f.client_id,n.push(u),i.push(u),a.setState({open_tickets:n,validate_members:i,enroll_members:r})):(u.client_id=f.client_id,Mn.a.isNil(f.upload_status)||(u.status=f.upload_status),void 0!==f.mother_contract_id&&(u.proposal_id=f.mother_contract_id),n.push(u),i.push(u),a.setState({open_tickets:n,validate_members:i,enroll_members:r})):(u.client_id=f.member_upload_id,u.validation_finished=!1,void 0!==f.validation_finished&&(u.validation_finished=f.validation_finished),n.push(u),i.push(u),a.setState({open_tickets:n,validate_members:i,enroll_members:r})):(u.client_id=f.client_id,Mn.a.isNil(f.upload_status)||(u.status=f.upload_status),void 0!==f.mother_contract_id&&(u.proposal_id=f.mother_contract_id,n.push(u),r.push(u)),a.setState({open_tickets:n,validate_members:i,enroll_members:r}))),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),console.log("getOpenTickets Error",e.t0);case 24:s++,e.next=8;break;case 27:a.setState({loading:!1});case 28:case"end":return e.stop()}},e,null,[[14,21]])}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){"USER_DATA_NOT_FOUND"===e.message&&a.setState({modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}})})},a.componentDidMount=function(){a.getOpenTickets(),a.getUnassigned()},a.getTicketInformation=function(e){a.setState({loading:!0});var t=e.ticket_id,n=e.due,r=e.ticket_type,i=e.client_name,o=e.client_id,l=e.ticket_item,s=e.case_id,c=e.proposal_id,m=e.app_index,d={ticket_id:t,due:n,ticket_type:r,client_name:i,client_id:o,ticket_item:l,case_id:s,proposal_id:c,app_index:m},u=0;try{u=parseInt(m,10)+1}catch(p){console.log("Error parsing app index: ",p)}gs.get("cases/"+s+"/variables?app_index="+u).then(function(e){void 0===e||void 0!==e.error&&null!==e.error?a.setState({loading:!1}):(void 0!==e.client_name&&(d.client_name=e.client_name),r!==Jp&&r!==Kp||void 0===e.client_id?r!==Xp&&r!==Zp&&r!==$p&&r!==ef||void 0===e.member_upload_id?r!==Qp||Mn.a.isEmpty(e.client_name)||Mn.a.isEmpty(e.client_id)?r!==tf&&r!==af||Mn.a.isEmpty(e.client_name)||Mn.a.isEmpty(e.client_id)||(d.client_id=e.client_id):(d.client_id=e.client_id,void 0!==e.mother_contract_id&&(d.proposal_id=e.mother_contract_id)):(d.client_id=e.member_upload_id,d.validation_finished=!1,void 0!==e.validation_finished&&(d.validation_finished=e.validation_finished)):(d.client_id=e.client_id,void 0!==e.mother_contract_id&&(d.proposal_id=e.mother_contract_id)),a.setState({loading:!1},function(){a.handleClickOpenTicketsRow(d)}))}).catch(function(e){"USER_DATA_NOT_FOUND"===e.message?a.setState({loading:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):a.setState({loading:!0})})},a.onViewTicket=function(e){a.setState({isClaimModalOpen:!1,isTicketSnackBarOpen:!1},function(){a.getTicketInformation(e)})},a.closeTicketSnackBar=function(){a.setState({isTicketSnackBarOpen:!1,claimedTicketData:{}})},a.state={role:"apd_verifier",loading:!1,ticket_type:nf[0].value,top_facility_sort:rf[0].value,open_tickets:[],unassigned_tickets:[],openTicketsCount:0,unassignedTicketsCount:0,redirect:!1,redirect_info:{},enroll_members:[],validate_members:[],suspend_members:[],cancel_members:[],terminate_members:[],activate_members:[],reprint_members:[],print_members:[],popperOpen:!1,popperAnchor:null,popperItem:{},modalTitle:"",modalMessage:"",isOpenModal:!1,isTicketSnackBarOpen:!1,claimedTicketData:{},isClaimModalOpen:!1,next:null},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.open_tickets,i=t.redirect,o=t.redirect_info,l=t.enroll_members,s=t.validate_members,c=t.suspend_members,m=t.cancel_members,d=t.terminate_members,u=t.activate_members,p=t.reprint_members,f=t.print_members,b=t.popperOpen,g=t.popperAnchor,_=t.popperItem,h=t.unassigned_tickets,E=t.modalTitle,y=t.modalMessage,x=t.isOpenModal,O=t.isClaimModalOpen,C=t.claimedTicketData,w=Mn.a.sortBy(r,function(e){var t=e.due,a=Je()(t,"MMM DD, YYYY",!0);return a.isValid()?-1*a.toDate().getTime():0});return!0===i?n.createElement(v.a,{to:o}):n.createElement("div",{className:Object(tt.default)("Dashboard")},a?n.createElement(Rn,null):null,n.createElement(J.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},n.createElement(J.a,{item:!0,xs:12},n.createElement(J.a,{container:!0,justify:"flex-start",alignItems:"flex-start"},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:Object(tt.default)("title")},"Dashboard")))),n.createElement(J.a,{item:!0,xs:12,md:12},n.createElement(J.a,{container:!0,justify:"space-between",spacing:4,alignItems:"flex-start"},n.createElement(J.a,{item:!0,xs:12,md:8},n.createElement(S.a,{className:Object(tt.default)("sub-title")},"Your Ticket List"),n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header"),display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(Ye.a,null,n.createElement(S.a,{id:"open_tickets_count","data-cy":"open_tickets_count",className:Object(tt.default)("dashboard-count"),style:{color:"#FD5451"}},this.state.openTicketsCount),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Open Tickets"))),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement(Ri.a,{size:"small",className:Object(tt.default)("dashboard-table")},n.createElement(Li.a,null,n.createElement(Ii.a,null,n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"ID"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Due"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Ticket Type"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Corporate Account"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Updated By"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Date Updated"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")}))),n.createElement(Wi.a,null,w.map(function(t,a){return t.ticket_type!==Xp&&t.ticket_type!==Zp||!0===t.validation_finished?n.createElement(Ii.a,{id:"dashboard_open_tickets","data-cy":"dashboard_open_tickets",style:{cursor:"pointer"},key:a,className:Object(tt.default)(a%2===0?t.is_urgent?"dashboard-table-hg-even-row":"dashboard-table-even-row":t.is_urgent?"dashboard-table-hg-odd-row":"dashboard-table-odd-row"),onClick:function(){e.handleClickOpenTicketsRow(t)}},n.createElement(qn.a,{style:{minWidth:"80px"},className:Object(tt.default)("dashboard-table-data-cell"),component:"th",scope:"row"},t.ticket_id),n.createElement(qn.a,{style:{minWidth:"150px"},className:Object(tt.default)("dashboard-table-data-cell")},t.due),n.createElement(qn.a,{style:{minWidth:"165px"},className:Object(tt.default)("dashboard-table-data-cell")},t.ticket_type),n.createElement(qn.a,{style:{minWidth:"200px"},className:Object(tt.default)("dashboard-table-data-cell")},t.client_name),n.createElement(qn.a,{style:{minWidth:"175px"},className:Object(tt.default)("dashboard-table-data-cell")},t.updated_by),n.createElement(qn.a,{style:{minWidth:"150px"},className:Object(tt.default)("dashboard-table-data-cell")},t.date_updated),n.createElement(qn.a,{style:{minWidth:"125px"},className:Object(tt.default)("dashboard-table-data-cell-status",{"dashboard-table-data-cell-status-done":"Done Processing"===t.status,"dashboard-table-data-cell-status-ongoing":"Processing"===t.status,"dashboard-table-data-cell-status-cancelled":"Cancelled"===t.status,"dashboard-table-data-cell-status-error":"Error"===t.status})},t.status)):n.createElement(Ii.a,{key:a,className:Object(tt.default)(a%2===0?t.is_urgent?"dashboard-table-hg-even-row":"dashboard-table-even-row":t.is_urgent?"dashboard-table-hg-odd-row":"dashboard-table-odd-row")},n.createElement(qn.a,{style:{minWidth:"80px"},className:Object(tt.default)("dashboard-table-data-cell-disabled"),component:"th",scope:"row"},t.ticket_id),n.createElement(qn.a,{style:{minWidth:"150px"},className:Object(tt.default)("dashboard-table-data-cell-disabled")},t.due),n.createElement(qn.a,{style:{minWidth:"165px"},className:Object(tt.default)("dashboard-table-data-cell-disabled")},t.ticket_type),n.createElement(qn.a,{style:{minWidth:"165px"},className:Object(tt.default)("dashboard-table-data-cell-disabled")},t.client_name),n.createElement(qn.a,{style:{minWidth:"175px"},className:Object(tt.default)("dashboard-table-data-cell")},t.updated_by),n.createElement(qn.a,{style:{minWidth:"150px"},className:Object(tt.default)("dashboard-table-data-cell")},t.date_updated),n.createElement(qn.a,{style:{minWidth:"125px"},className:Object(tt.default)("dashboard-table-data-cell-status",{"dashboard-table-data-cell-status-done":"Done Processing"===t.status,"dashboard-table-data-cell-status-ongoing":"Processing"===t.status,"dashboard-table-data-cell-status-cancelled":"Cancelled"===t.status,"dashboard-table-data-cell-status-error":"Error"===t.status})},t.status))})))),n.createElement(Ye.a,{className:Object(tt.default)("card-footer"),display:"flex",justifyContent:"flex-end"},n.createElement(se.b,{id:"dashboard_view_all_tickets","data-cy":"dashboard_view_all_tickets",className:Object(tt.default)("dashboard-view-more-link"),to:"/membership/ticketlist/open"},"View All"))),n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header"),display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(Ye.a,null,n.createElement(S.a,{id:"unassigned_tickets_count","data-cy":"unassigned_tickets_count",className:Object(tt.default)("dashboard-count"),style:{color:"#FD5451"}},this.state.unassignedTicketsCount),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Unassigned Tickets"))),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement(Ri.a,{size:"small",className:Object(tt.default)("dashboard-table")},n.createElement(Li.a,null,n.createElement(Ii.a,null,n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"ID"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Due"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Ticket Type"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Corporate Account"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Updated By"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Date Updated"),n.createElement(qn.a,{className:Object(tt.default)("dashboard-table-header-cell")},"Action"))),n.createElement(Wi.a,null,h.map(function(t,a){return n.createElement(Ii.a,{key:a,className:Object(tt.default)(a%2===0?t.is_urgent?"dashboard-table-hg-even-row":"dashboard-table-even-row":t.is_urgent?"dashboard-table-hg-odd-row":"dashboard-table-odd-row")},n.createElement(qn.a,{style:{minWidth:"80px"},className:Object(tt.default)("dashboard-table-data-cell"),component:"th",scope:"row"},t.ticket_id),n.createElement(qn.a,{style:{minWidth:"150px"},className:Object(tt.default)("dashboard-table-data-cell")},t.due),n.createElement(qn.a,{style:{minWidth:"175px"},className:Object(tt.default)("dashboard-table-data-cell")},t.ticket_type),n.createElement(qn.a,{style:{minWidth:"200px"},className:Object(tt.default)("dashboard-table-data-cell")},t.client_name),n.createElement(qn.a,{style:{minWidth:"175px"},className:Object(tt.default)("dashboard-table-data-cell")},t.updated_by),n.createElement(qn.a,{style:{minWidth:"150px"},className:Object(tt.default)("dashboard-table-data-cell")},t.date_updated),n.createElement(qn.a,{style:{minWidth:"80px"}},n.createElement("span",{id:"dashboard_claim_tickets","data-cy":"dashboard_claim_tickets",style:{textDecoration:"underline"},className:Object(tt.default)("dashboard-list-item-link"),onClick:function(){e.handleClaim(t)}},"Claim")))})))),n.createElement(Ye.a,{className:Object(tt.default)("card-footer"),display:"flex",justifyContent:"flex-end"},n.createElement(se.b,{id:"dashboard_view_unassigned","data-cy":"dashboard_view_unassigned",className:Object(tt.default)("dashboard-view-more-link"),to:"/membership/ticketlist/unassigned"},"View All")))),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(S.a,{className:Object(tt.default)("sub-title")},"Your Task Tray"),n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header")},n.createElement(S.a,{id:"dashboard_members_count","data-cy":"dashboard_members_count",className:Object(tt.default)("dashboard-count"),style:{color:"#3AB77D"}},l.length),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Memberlist to Enroll")),n.createElement(Ye.a,{className:Object(tt.default)("card-content"),alignItems:"flex-start"},n.createElement(ce.a,{dense:!0},l.map(function(t,a){return n.createElement(me.a,{key:a},n.createElement(ue.a,{id:"memberlist_to_enroll_"+a,className:Object(tt.default)("dashboard-list-item-text"),primary:t.client_name}),n.createElement(Hp.a,null,n.createElement("span",{id:"dashboard_enroll_member","data-cy":"dashboard_enroll_member",style:{textDecoration:"underline",color:"#0D5E40",fontSize:"14px",fontWeight:700},onClick:function(a){return e.handlePopoverOpen(a,t)}},"Enroll")))}))),n.createElement(Ye.a,{className:Object(tt.default)("card-footer"),display:"flex",justifyContent:"flex-end"},n.createElement(se.b,{id:"dashboard_view_memberslist","data-cy":"dashboard_view_memberslist",className:Object(tt.default)("dashboard-view-more-link"),to:"/membership/ticketlist"},"View List"))),n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header")},n.createElement(S.a,{id:"validate_members_count","data-cy":"validate_members_count",className:Object(tt.default)("dashboard-count"),style:{color:"#3AB77D"}},s.length),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Memberlist to Validate")),n.createElement(Ye.a,{className:Object(tt.default)("card-content"),alignItems:"flex-start"},n.createElement(ce.a,{dense:!0},s.map(function(e,t){return e.is_pending_upload?n.createElement(me.a,{key:t},n.createElement(ue.a,{id:"members_to_verify_"+t,className:Object(tt.default)("dashboard-list-item-text2"),primary:e.ticket_id+" "+e.client_name}),n.createElement(Hp.a,null,n.createElement(S.a,{className:Object(tt.default)("dashboard-list-item-link2")},"Pending Upload"))):!0===e.validation_finished?n.createElement(me.a,{key:t},n.createElement(ue.a,{id:"members_to_verify_"+t,className:Object(tt.default)("dashboard-list-item-text"),primary:e.client_name}),n.createElement(Hp.a,null,n.createElement(se.b,{id:"dashboard_verify_"+e.client_id,"data-cy":"dashboard_verify_"+e.client_id,className:Object(tt.default)("dashboard-list-item-link"),to:"/membership/verify-member/"+e.case_id+"/"+e.client_id},"Verify"))):n.createElement(me.a,{key:t},n.createElement(ue.a,{id:"members_to_verify_"+t,className:Object(tt.default)("dashboard-list-item-text"),primary:e.client_name}),n.createElement(Hp.a,null,n.createElement("span",{id:"dashboard_verify_"+t,"data-cy":"dashboard_verify_"+t,className:Object(tt.default)("dashboard-list-item-link-disabled")},"Verify")))}))),n.createElement(Ye.a,{className:Object(tt.default)("card-footer"),display:"flex",justifyContent:"flex-end"},n.createElement(se.b,{id:"dashboard_view_unvalidated","data-cy":"dashboard_view_unvalidated",className:Object(tt.default)("dashboard-view-more-link"),to:"/membership/ticketlist"},"View List")))))),n.createElement(J.a,{item:!0,xs:12,md:12},n.createElement(J.a,{container:!0,justify:"space-between",spacing:4,alignItems:"flex-start"},n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-count"),style:{color:"#3AB77D"}},f.length),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Batches of cards to print")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement(ce.a,{dense:!0},f.map(function(e,t){return n.createElement(me.a,{key:t},n.createElement(ue.a,{"data-cy":"card_batches_to_print_"+t,id:"card_batches_to_print_"+t,className:Object(tt.default)("dashboard-list-item-text"),primary:e.name}),n.createElement(Hp.a,null,n.createElement(se.b,{id:"dashboard_view_print_"+e.index,"data-cy":"dashboard_view_print_"+e.index,className:Object(tt.default)("dashboard-list-item-link"),to:e.link},"View")))}))))),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-count"),style:{color:"#3AB77D"}},p.length),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Batches of cards to reprint")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement(ce.a,{dense:!0},p.map(function(e,t){return n.createElement(me.a,{key:t},n.createElement(ue.a,{"data-cy":"card_batches_to_reprint_"+t,id:"card_batches_to_reprint_"+t,className:Object(tt.default)("dashboard-list-item-text"),primary:e.name}),n.createElement(Hp.a,null,n.createElement(se.b,{id:"dashboard_view_reprint_"+e.index,"data-cy":"dashboard_view_reprint_"+e.index,className:Object(tt.default)("dashboard-list-item-link"),to:e.link},"View")))}))))),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-count"),style:{color:"#FD5451"}},u.length),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Members to Activate")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement(ce.a,{dense:!0},u.map(function(e,t){return n.createElement(me.a,{key:t},n.createElement(ue.a,{id:"members_to_activate_"+t,"data-cy":"members_to_activate_"+t,className:Object(tt.default)("dashboard-list-item-text"),primary:e.name}),n.createElement(Hp.a,null,n.createElement(se.b,{id:"dashboard_activate_members_"+t,"data-cy":"dashboard_activate_members_"+t,className:Object(tt.default)("dashboard-list-item-link"),to:e.link},"Activate")))}))))))),n.createElement(J.a,{item:!0,xs:12,md:12},n.createElement(J.a,{container:!0,justify:"space-between",spacing:4,alignItems:"flex-start"},n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-count"),style:{color:"#FD5451"}},d.length),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Members to Terminate")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement(ce.a,{dense:!0},d.map(function(e,t){return n.createElement(me.a,{key:t},n.createElement(ue.a,{id:"members_to_terminate_"+t,"data-cy":"members_to_terminate_"+t,className:Object(tt.default)("dashboard-list-item-text"),primary:e.name}),n.createElement(Hp.a,null,n.createElement(se.b,{id:"dashboard_terminate_member_"+t,"data-cy":"dashboard_terminate_member_"+t,className:Object(tt.default)("dashboard-list-item-link"),to:e.link},"Terminate")))}))))),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-count"),style:{color:"#3AB77D"}},m.length),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Members to Cancel")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement(ce.a,{dense:!0},m.map(function(e,t){return n.createElement(me.a,{key:t},n.createElement(ue.a,{id:"members_to_cancel_"+t,"data-cy":"members_to_cancel_"+t,className:Object(tt.default)("dashboard-list-item-text"),primary:e.name}),n.createElement(Hp.a,null,n.createElement(se.b,{id:"dashboard_cancel_member_"+t,"data-cy":"dashboard_cancel_member_"+t,className:Object(tt.default)("dashboard-list-item-link"),to:e.link},"Cancel")))}))))),n.createElement(J.a,{item:!0,xs:12,md:4},n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-count"),style:{color:"#3AB77D"}},c.length),n.createElement(S.a,{className:Object(tt.default)("dashboard-count-description")},"Members to Suspend")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement(ce.a,{dense:!0},c.map(function(e,t){return n.createElement(me.a,{key:t},n.createElement(ue.a,{id:"members_to_suspend_"+t,"data-cy":"members_to_suspend_"+t,className:Object(tt.default)("dashboard-list-item-text"),primary:e.name}),n.createElement(Hp.a,null,n.createElement(se.b,{id:"dashboard_suspend_member_"+t,"data-cy":"dashboard_suspend_member_"+t,className:Object(tt.default)("dashboard-list-item-link"),to:e.link},"Suspend")))}))))))),n.createElement(J.a,{item:!0,xs:12,md:12,style:{display:"none"}},n.createElement(S.a,{className:Object(tt.default)("sub-title"),style:{marginTop:48}},"Reports")),n.createElement(J.a,{item:!0,xs:12,md:12,style:{display:"none"}},n.createElement(J.a,{container:!0,justify:"space-between",spacing:4,alignItems:"flex-start"},n.createElement(J.a,{item:!0,xs:12,md:6},n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-graph-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-graph-title")},"Processed Members")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement("img",{src:"temp_dashboard_graph_03.png",className:Object(tt.default)("dashboard-temp-graph-img-report"),alt:"Top 5 Clients in Utilization"})))),n.createElement(J.a,{item:!0,xs:12,md:6},n.createElement(N.a,{className:Object(tt.default)("content")},n.createElement(Ye.a,{className:Object(tt.default)("card-graph-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-graph-title")},"Processed Members")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement("img",{src:"temp_dashboard_graph_03.png",className:Object(tt.default)("dashboard-temp-graph-img-report"),alt:"Top 5 Clients in Utilization"})))))),n.createElement(J.a,{item:!0,xs:12,md:12,style:{display:"none"}},n.createElement(J.a,{container:!0,justify:"space-between",spacing:4,alignItems:"flex-start"},n.createElement(J.a,{item:!0,xs:12,md:12},n.createElement(N.a,{className:Object(tt.default)("content"),style:{visibility:"visible"}},n.createElement(Ye.a,{className:Object(tt.default)("card-graph-header")},n.createElement(S.a,{className:Object(tt.default)("dashboard-graph-title")},"Members to Enroll/Verify")),n.createElement(Ye.a,{className:Object(tt.default)("card-content")},n.createElement("img",{src:"temp_dashboard_graph_04.png",className:Object(tt.default)("dashboard-temp-graph-img"),alt:"Top Facilities"}))))))),n.createElement(lf,{isPopoverOpen:b,anchor:g,item:_,handleClose:this.handlePopoverClose}),n.createElement(ql,{id:"dashboard_error_modal",isModalOpen:x,title:E,message:y,onClose:this.closeModalMessage}),n.createElement(Gp,{id:"dashboard_claim_modal",isModalOpen:O,ticket:C,isPrimary:!0,onViewTicket:this.onViewTicket,onClose:this.closeModalMessage}))}}]),t}(n.Component),cf=Object(Vn.a)({root:{"& > div":{backgroundColor:"transparent"},"& .Mui-disabled":{color:"#272E4C"}}}),mf=Object(Vn.a)({keyboardDatePicker:{width:"100%"}}),df=function(e){var t=e.items,a=Object(Wn.a)(e,["items"]);return n.createElement(A.a,Object.assign({id:"clientstable_select_item","data-cy":"clientstable_select_item",variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return n.createElement(D.a,{id:"clientstable_menu_item","data-cy":"clientstable_menu_item",key:t,value:e.value},e.label)}))},uf=function(e){var t=e.value,a=e.onValueChange;return n.createElement(P.a,{id:"clientstable_search_panel","data-cy":"clientstable_search_panel",value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search clients",fullWidth:!0,startAdornment:n.createElement(Ve.a,{position:"start"},n.createElement(X.a,{icon:Z.E}))})},pf=function(e){var t=e.children;return n.createElement(ae.a,{id:"clientstable_toolbar","data-cy":"clientstable_toolbar",disableGutters:!0,children:t})},ff=function(e){return"asc"===e.direction?n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.H}):n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.G})},bf=function(e){var t=e.onSort,a=e.children,r=e.direction;return n.createElement(Gn.a,{id:"clientstable_sort_label","data-cy":"clientstable_sort_label",hideSortIcon:!0,onClick:t},a,r?n.createElement(ff,{direction:r}):n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.F}))},gf=function(e){var t=e.column,a=e.filter,r=e.onFilter,i=e.filteringEnabled,o=e.classes,l=mf();if(i){if("status"===t.name){var s=br;return n.createElement(qn.a,{classes:o,style:{paddingTop:"5px"}},n.createElement(df,{"data-cy":"status",onChange:function(e){return r(e.target.value?{value:e.target.value}:null)},name:"status",items:s,id:"status",value:a?a.value:""}))}return"effectivity_date"===t.name||"termination_date"===t.name?n.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o},n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{id:"clientstable_date_picker","data-cy":"clientstable_date_picker",variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",className:l.keyboardDatePicker,value:a?a.value:"",invalidDateMessage:"",onChange:function(e){console.log(e),r(e?{value:e.toISOString()}:null)}}))):"active_members_count"===t.name||"for_printing_count"===t.name?n.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o}):n.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o},n.createElement(P.a,{id:"clientstable_onchange_filter","data-cy":"clientstable_input_filter",classes:o,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){return r(e.target.value?{value:e.target.value}:null)},placeholder:""}))}return null},_f=function(e){var t=e.rows,a=e.columns,r=e.formattedColumns,i=e.disablePaging,o=e.disableSearch,l=e.disableSort,s=e.disableFilter,c=e.toolbarType,m=e.dropdownHeader,d=e.totalCount,u=e.currentPage,p=e.limit,f=e.onPageChange,b=e.onPageSizeChange,_=e.defaultFilter,h=e.columnFilteringEnabled,v=e.filterExtensions,E=e.onFilterChange,y=e.onSearchChange,x=e.onSortingChange,O=e.onRowClick,C=e.sorting,S=Object(n.useState)([]),w=Object(g.a)(S,2),k=w[0],N=w[1],D=Object(n.useState)([]),T=Object(g.a)(D,2),M=T[0],F=T[1],P=Object(n.useRef)(null),A=pf,B=[];Object(n.useEffect)(function(){var e=[10,25,50,100],t=[];t=d>0?e.filter(function(e){return e*u<d}):e,F(t)},[u,d]),Object(n.useEffect)(function(){},[M]);var I=function(e){var t=e.value,a=cf();return n.createElement(j.a,{value:t,classes:a})};void 0!==r&&void 0!==r.text&&B.push(n.createElement(function(e){return n.createElement(Un.c,Object.assign({formatterComponent:I},e))},{for:r.text}));return Object(n.useEffect)(function(){}),n.createElement(zn.a,{rows:t,columns:a},B,i?null:n.createElement(Un.m,{currentPage:u,onCurrentPageChange:function(e){f(e,p*e)},pageSize:p,onPageSizeChange:function(e){b(e)}}),i?null:n.createElement(Un.b,{totalCount:d}),o?null:n.createElement(Un.o,{onValueChange:y}),l?null:n.createElement(Un.q,{defaultSorting:[],sorting:C,onSortingChange:x}),n.createElement(Un.p,{selection:k,onSelectionChange:function(e){var t=e.find(function(e){return-1===k.indexOf(e)});void 0!==t&&(O(t),N([t]))}}),n.createElement(Un.j,null),s?null:n.createElement(Un.e,{defaultFilters:[],filters:void 0!==_?_:[],columnFilteringEnabled:h,columnExtensions:v,onFiltersChange:E}),n.createElement(zn.d,null),n.createElement(zn.h,{selectByRowClick:!0,showSelectionColumn:!1}),m?null:n.createElement(zn.g,{showSortingControls:!l,sortLabelComponent:bf,cellComponent:function(e){var t=e.style,a=e.classes,r=e.children,i=Object(Wn.a)(e,["style","classes","children"]);return n.createElement(qn.a,Object.assign({style:t,classes:a},i,{ref:P}),r)}}),s?null:n.createElement(zn.f,{cellComponent:gf}),!o||c?n.createElement(zn.i,{rootComponent:A}):null,o?null:n.createElement(zn.c,{inputComponent:uf}),i?null:n.createElement(zn.b,{pageSizes:M}))};_f.defaultProps={rows:[],columns:[],columnExtensions:[],filterExtensions:[],sorting:[],formattedColumns:{},dropdownHeader:!1,disableSearch:!1,disablePaging:!1,disableFilter:!1,disableSort:!1,toolbarType:null,totalCount:0,currentPage:0,limit:10,defaultFilter:[],columnFilteringEnabled:!0,onSearchChange:function(e){return console.log("onSearchChange",e)},onFilterChange:function(e){return console.log("onFilterChange",e)},onPageChange:function(e,t){return console.log("onPageChange",e,t)},onPageSizeChange:function(e){return console.log("onPageSizeChange",e)},onSortingChange:function(e){return console.log("onSortingChange",e)},onRowClick:function(e){return console.log("onRowClick",e)}};var hf=Object(y.a)(function(e){return{dialogAction:{marginBottom:e.spacing(1),justifyContent:"center"}}}),vf=function(e){var t=e.open,a=e.anchorEl,n=e.exportData,i=e.exportFormat,o=e.onClose,l=e.onChangeExportData,s=e.onChangeExportFormat,c=e.generateReport,m=hf();return r.a.createElement(ic.a,{open:t,anchorEl:a,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0},r.a.createElement(V.a,null,r.a.createElement(S.a,{variant:"body1",style:{fontWeight:"bold"}},"Choose Data"),r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(Zr.a,{name:"report_data"},r.a.createElement(K.a,{control:r.a.createElement(Jn.a,{id:"reportpopover_all_radio","data-cy":"reportpopover_all_radio",checked:"all_rows"===n,name:"all_rows",onClick:function(e){e.stopPropagation(),l("all_rows")}}),label:"Include all rows"}),r.a.createElement(K.a,{control:r.a.createElement(Jn.a,{id:"reportpopover_filtered_radio","data-cy":"reportpopover_filtered_radio",checked:"filtered_rows"===n,name:"filtered_rows",onClick:function(e){e.stopPropagation(),l("filtered_rows")}}),label:"Include only filtered rows"}))),r.a.createElement(S.a,{variant:"body1",style:{fontWeight:"bold"}},"Choose Format"),r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(Zr.a,{name:"report_format"},r.a.createElement(K.a,{control:r.a.createElement(Jn.a,{id:"reportpopover_pdf_radio","data-cy":"reportpopover_pdf_radio",checked:"pdf"===i,name:"pdf",onClick:function(e){e.stopPropagation(),s("pdf")}}),label:"PDF"})))),r.a.createElement(q.a,{className:Object(tt.default)(m.dialogAction)},r.a.createElement(z.a,{id:"reportpopover_download_report","data-cy":"reportpopover_download_report",variant:"contained",color:"primary",onClick:c},"Download Report\xa0\xa0",r.a.createElement(X.a,{icon:Z.m}))))))},Ef=Object(y.a)(function(e){return{main:{backgroundColor:"#F5F7FB",padding:"32px 24px"},gridContainer:{padding:e.spacing(1)},gridContainerNoPadding:{padding:e.spacing(1)},headerTitle:{fontSize:32,fontWeight:700},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:16,fontWeight:400,color:"#272e4c"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(wi.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}}}),yf=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(!1),l=Object(g.a)(o,2),s=l[0],c=l[1],m=Object(n.useState)(null),d=Object(g.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)([]),b=Object(g.a)(f,2),_=b[0],h=b[1],E=Object(n.useState)(0),y=Object(g.a)(E,2),x=y[0],O=y[1],C=Object(n.useState)(0),w=Object(g.a)(C,2),k=w[0],j=w[1],N=Object(n.useState)(null),D=Object(g.a)(N,2),T=D[0],M=D[1],F=Object(n.useState)(!1),P=Object(g.a)(F,2),A=P[0],B=P[1],I=Object(n.useState)(0),R=Object(g.a)(I,2),L=R[0],W=R[1],z=Object(n.useState)(0),U=Object(g.a)(z,2),Y=U[0],V=U[1],H=Object(n.useState)([]),q=Object(g.a)(H,2),G=q[0],K=q[1],Q=Object(n.useState)([]),$=Object(g.a)(Q,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(g.a)(ae,2),ie=ne[0],oe=ne[1],le=Object(n.useState)([]),se=Object(g.a)(le,2),ce=se[0],me=se[1],de=Object(n.useState)("all_rows"),ue=Object(g.a)(de,2),pe=ue[0],fe=ue[1],be=Object(n.useState)("pdf"),ge=Object(g.a)(be,2),_e=ge[0],he=ge[1],ve=Object(n.useState)(""),Ee=Object(g.a)(ve,2),ye=Ee[0],xe=Ee[1],Oe=Object(n.useState)(!1),Ce=Object(g.a)(Oe,2),Se=Ce[0],we=Ce[1],ke=Object(n.useState)(""),je=Object(g.a)(ke,2),Ne=je[0],De=je[1],Te=Ef(),Me=function(){c(!0),i(!0),An.getClients(10,0,ie).then(function(e){e&&e.data&&void 0===e.error?(h(e.data),O(0),j(10),W(e.total),c(!1),i(!1)):(c(!1),i(!1),console.log("getbenefitlist api error: ",e))})},Fe=function(e,t){c(!0),null!==u?An.searchClients(u,e,t,ie,ce).then(function(e){e&&e.data&&void 0===e.error?(h(e.data),W(e.total),c(!1)):(c(!1),console.log("getbenefitlist api error: ",e))}):An.getClients(e,t,ie,ce).then(function(e){e&&e.data&&void 0===e.error?(h(e.data),W(e.total),c(!1)):(c(!1),console.log("getbenefitlist api error: ",e))})};Object(n.useEffect)(function(){Me()},[]);var Pe=[{name:"account_no",title:"Account No."},{name:"name",title:"Name"},{name:"status",title:"Status"},{name:"effectivity_date",title:"Effectivity Date",getCellValue:function(e){return e.effectivity_date?qr.toCommonDateString(new Date(e.effectivity_date)):""}},{name:"termination_date",title:"Expiry/Termination Date",getCellValue:function(e){return e.termination_date?qr.toCommonDateString(new Date(e.termination_date)):""}},{name:"active_members_count",title:"Active members"},{name:"for_printing_count",title:"For printing"}];if(!0===Se)if("proposal"===Ne);else if("client"===Ne)return r.a.createElement(v.a,{to:{pathname:"/membership/clients-profile/"+ye}});return r.a.createElement("div",{className:Te.main},s?r.a.createElement(Rn,null):null,r.a.createElement(J.a,{container:!0,justify:"space-between",alignItems:"center",className:Te.gridContainer},r.a.createElement(J.a,{item:!0},r.a.createElement(S.a,{className:Te.headerTitle},"Clients")),r.a.createElement(J.a,{item:!0},r.a.createElement(Ye.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",p:1,style:{width:"100%",height:"100%"}},r.a.createElement(Ye.a,{p:1,style:{display:"none"}},r.a.createElement(re.a,{id:"redirect_to_proposal","data-cy":"redirect-to-proposal",style:{color:"#3AB77D",fontSize:"0.875rem"},onClick:function(){De("proposal"),we(!0)}},r.a.createElement(X.a,{icon:Z.A}),"\xa0\xa0Create Proposal")),r.a.createElement(Ye.a,{p:1},r.a.createElement(re.a,{id:"generate_report","data-cy":"generate_report",style:{color:"#3AB77D",fontSize:"0.875rem"},onClick:function(e){var t=e.currentTarget;B(!0),M(t)}},r.a.createElement(X.a,{icon:Z.m}),"\xa0\xa0Generate Report"))))),r.a.createElement(_f,{columns:Pe,rows:_,columnExtensions:[{columnName:"account_no",wordWrapEnabled:!0},{columnName:"name",wordWrapEnabled:!0},{columnName:"status",wordWrapEnabled:!0},{columnName:"effectivity_date",wordWrapEnabled:!0},{columnName:"termination_date",wordWrapEnabled:!0},{columnName:"active_members_count",wordWrapEnabled:!0},{columnName:"for_printing_count",wordWrapEnabled:!0}],currentPage:x,limit:k,totalCount:L,onPageChange:function(e,t){O(e),Fe(k,t)},onPageSizeChange:function(e){j(e),Fe(e,e*x)},onFilterChange:function(e){te(e),O(0),oe(e),Y&&clearTimeout(Y),V(setTimeout(function(){ee!==[]?(c(!0),null!==u?(i(!0),An.searchClients(u,k,0,e,ce).then(function(e){i(!1),e&&e.data&&void 0===e.error?(h(e.data),W(e.total),c(!1)):(c(!1),console.log("getbenefitlist api error: ",e))})):(console.log(JSON.stringify(ie)),i(!0),An.getClients(k,0,e,ce).then(function(e){i(!1),e&&e.data&&void 0===e.error?(h(e.data),W(e.total),c(!1)):(c(!1),console.log("getbenefitlist api error: ",e))}))):Me()},3e3))},onSearchChange:function(e){O(0),p(e),Y&&clearTimeout(Y),V(setTimeout(function(){ee!==[]?(c(!0),null!==e?(i(!0),An.searchClients(e,k,0,ie,ce).then(function(e){i(!1),e&&e.data&&void 0===e.error?(h(e.data),W(e.total),c(!1)):(c(!1),console.log("getbenefitlist api error: ",e))})):(i(!0),An.getClients(k,0,ie,ce).then(function(e){i(!1),e&&e.data&&void 0===e.error?(h(e.data),W(e.total),c(!1)):(c(!1),console.log("getbenefitlist api error: ",e))}))):Me()},2e3))},onSortingChange:function(e){K(e),me(e),c(!0),i(!0),null!==u?An.searchClients(u,k,k*x,ie,e).then(function(e){i(!1),e&&e.data&&void 0===e.error?(h(e.data),W(e.total),c(!1)):(c(!1),console.log("getbenefitlist api error: ",e))}):(i(!0),An.getClients(k,k*x,ie,e).then(function(e){i(!1),e&&e.data&&void 0===e.error?(h(e.data),W(e.total),c(!1)):(c(!1),console.log("getbenefitlist api error: ",e))}))},sorting:G,defaultFilter:ee,onRowClick:function(e){return _[e]._id&&(xe(_[e]._id),De("client"),we(!0)),null}}),r.a.createElement(vf,{open:A,anchorEl:T,exportData:pe,exportFormat:_e,onClose:function(){M(null)},onChangeExportData:fe,onChangeExportFormat:he,generateReport:function(){i(!0),An.generateClientReport("PDF","filtered_rows"===pe?u:null,"filtered_rows"===pe?ie:{}).then(function(e){if(e){var t="Report-"+Je()().format("MMM-DD-YYYY")+".pdf",a=new File([e],t);Object(bu.saveAs)(a),B(!1),M(null),c(!1),i(!1)}else c(!1),i(!1),console.log("getbenefitlist api error: ",e)})}}),r.a.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:a,onClose:function(){i(!1)}}))},xf=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Object(tt.default)("Clients")},r.a.createElement(yf,null))}}]),t}(r.a.Component),Of=function(e){var t=Bm.batchesWrapper(),a=Object(n.useState)(new Date),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(!1),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(new Date),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(!1),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Object(n.useState)(""),x=Object(g.a)(y,2),O=x[0],C=x[1],w=Object(n.useState)(!1),j=Object(g.a)(w,2),N=j[0],D=j[1],T=Object(n.useState)(""),M=Object(g.a)(T,2),F=M[0],P=M[1],A=Object(n.useState)(!1),B=Object(g.a)(A,2),I=B[0],R=B[1],L=Object(n.useState)(""),W=Object(g.a)(L,2),U=W[0],Y=W[1],V=Object(n.useState)(""),H=Object(g.a)(V,2),q=H[0],Q=H[1],$=Object(n.useState)(""),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],le=Object(n.useState)(""),se=Object(g.a)(le,2),ce=se[0],me=se[1],de=Object(n.useState)(""),ue=Object(g.a)(de,2),pe=ue[0],fe=ue[1],be=Object(n.useState)(!1),ge=Object(g.a)(be,2),_e=ge[0],he=ge[1],ve=Object(n.useState)(""),Ee=Object(g.a)(ve,2),ye=Ee[0],xe=Ee[1],Oe=Object(n.useState)(!1),Ce=Object(g.a)(Oe,2),Se=Ce[0],we=Ce[1],ke=Object(n.useState)(!1),je=Object(g.a)(ke,2),Ne=je[0],De=je[1],Te=Object(n.useState)(!1),Me=Object(g.a)(Te,2),Fe=Me[0],Pe=Me[1],Ae=Object(n.useState)([]),Be=Object(g.a)(Ae,2),Ie=Be[0],Re=Be[1],Le=function(){l(new Date),d(!1),b(new Date),E(!1),C(""),D(!1),P(""),R(!1),Y(""),Q(""),ae(""),oe(!1),me(""),fe(""),he(!1),xe(""),we(!1),De(!1),Pe(!1),Re([])},We=function(){Le(),e.modalClose()},ze=e.currentMember,Ue=Ie&&Ie.length?Ie.map(function(e){return r.a.createElement("li",{key:e.path},e.name?e.name:e.path)}):[];return r.a.createElement(Hm,{visibility:e.modalVisibility,close:We},r.a.createElement(S.a,{className:t.subHeading},"Batch Details"),r.a.createElement(S.a,{className:t.modalInfo},ze.first_name?ze.first_name+" ":"",ze.middle_name?ze.middle_name+" ":"",ze.last_name?ze.last_name:""),r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:12},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(Zr.a,{name:"source",className:t.radioGroup},r.a.createElement(S.a,{className:t.radioInfo},"Source"),r.a.createElement(K.a,{className:t.formRadioLabel,control:r.a.createElement(Jn.a,{id:"radio_internal","data-cy":"radio_internal",name:"internal",className:t.radio,checked:!1===e.isExternal,onClick:function(t){t.stopPropagation(),Le(),e.setIsExternal(!1)}}),label:"Internal"}),r.a.createElement(K.a,{className:t.formRadioLabel,control:r.a.createElement(Jn.a,{id:"radio_external","data-cy":"radio_external",name:"external",className:t.radio,checked:!0===e.isExternal,onClick:function(t){t.stopPropagation(),Le(),e.setIsExternal(!0)}}),label:"External"}))))),e.isExternal?null:r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"sent-via","data-cy":"sent-via",label:"Sent via*",menuItems:Ym,width:"85%",value:O,onChange:function(e){var t=e.target.value;C(t),D(0===t.length)},error:N})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Date Sent:"),r.a.createElement(_r.a,{id:"date_sent","data-cy":"date_sent",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px"},minDate:new Date,maxDate:new Date(f),variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:o,initialFocusedDate:o||new Date,onChange:function(e){var t=e?e.toDate():null;l(t),d(null===t)},error:m}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Date Recieved:"),r.a.createElement(_r.a,{id:"date_received","data-cy":"date_received",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px"},minDate:new Date,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:f,initialFocusedDate:f||new Date,onChange:function(e){var t=e?e.toDate():null;b(t),E(null===t)},error:v}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"sender-name","data-cy":"sender-name",label:"Sender Name*",labelFontSize:"14px",value:F,onChange:function(e){var t=e.target.value;P(t),R(0===t.length)},error:I,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"sender-email","data-cy":"sender-email",label:"Sender Email (Optional)",labelFontSize:"14px",value:U,onChange:function(e){var t=e.target.value;Y(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"ticket-number","data-cy":"ticket-number",label:"Ticket Number (Optional)",labelFontSize:"14px",value:q,onChange:function(e){var t=e.target.value;Q(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"reason","data-cy":"reason",label:"Reason*",menuItems:Vm,value:te,onChange:function(e){var t=e.target.value;ae(t),oe(0===t.length)},error:ie,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"reason-others","data-cy":"reason-others",label:"If Others, please specify",labelFontSize:"14px",value:ce,onChange:function(e){var t=e.target.value;me(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(Yl.a,{onDropAccepted:function(e){return Re(e)}},function(e){var a=e.getRootProps,n=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",Object.assign({className:t.fileupload},a()),r.a.createElement("input",Object.assign({id:"upload_file_member","data-cy":"upload_file_member"},n())),r.a.createElement(X.a,{className:"fa-lg",icon:Z.s,style:{color:"rgba(39, 46, 76, 0.56)"}}),r.a.createElement("p",{style:{color:"rgba(39, 46, 76, 0.56)",fontWeight:400,fontSize:"14px"}},"Upload OR")),r.a.createElement("aside",null,Ue.length>0?r.a.createElement("div",null,r.a.createElement(S.a,null,"Uploaded File"),r.a.createElement("ul",null,Ue)):null))})),r.a.createElement(J.a,{item:!0,sm:12},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(Zr.a,{name:"card",className:t.radioGroup},r.a.createElement(K.a,{className:t.formLabel,control:r.a.createElement(G.a,{id:"checkbox_card_returned","data-cy":"checkbox_card_returned",name:"card_returned",className:t.checkbox,checked:Ne,onChange:function(e){De(e.target.checked)}}),label:"Card Returned"}),r.a.createElement(K.a,{className:t.formLabel,control:r.a.createElement(G.a,{id:"checkbox_generate_new_card","data-cy":"checkbox_generate_new_card",name:"generate_new_card",className:t.checkbox,checked:Fe,onChange:function(e){Pe(e.target.checked)}}),label:"Generate New Card No."}))))),e.isExternal?r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Date Sent:"),r.a.createElement(_r.a,{id:"date_sent_input","data-cy":"date_sent_input",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px"},minDate:new Date,maxDate:new Date(f),variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:o,initialFocusedDate:o||new Date,onChange:function(e){var t=e?e.toDate():null;l(t),d(null===t)},error:m}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Date Recieved:"),r.a.createElement(_r.a,{id:"date_received_input","data-cy":"date_received_input",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px"},minDate:new Date,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:f,initialFocusedDate:f||new Date,onChange:function(e){var t=e?e.toDate():null;b(t),E(null===t)},error:v}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"ticket-number","data-cy":"ticket-number",label:"Ticket Number (Optional)",labelFontSize:"14px",value:q,onChange:function(e){var t=e.target.value;Q(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"person-endorse","data-cy":"person-endorse",label:"Person Who Endorsed*",labelFontSize:"14px",value:pe,onChange:function(e){var t=e.target.value;fe(t),he(0===t.length)},error:_e,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"sender-email","data-cy":"sender-email",label:"Sender Email (Optional)",labelFontSize:"14px",value:U,onChange:function(e){var t=e.target.value;Y(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"sent-via","data-cy":"sent-via",label:"Sent via*",menuItems:Ym,width:"85%",value:O,onChange:function(e){var t=e.target.value;C(t),D(0===t.length)},error:N})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"endorsed-by","data-cy":"endorsed-by",label:"Endorsed By*",labelFontSize:"14px",value:ye,onChange:function(e){var t=e.target.value;xe(t),we(0===t.length)},error:Se,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"reason","data-cy":"reason",label:"Reason*",menuItems:Vm,value:te,onChange:function(e){var t=e.target.value;ae(t),oe(0===t.length)},error:ie,width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"reason-others","data-cy":"reason-others",label:"If Others, please specify",labelFontSize:"14px",value:ce,onChange:function(e){var t=e.target.value;me(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(Zr.a,{name:"card"},r.a.createElement(K.a,{className:t.formLabel,control:r.a.createElement(G.a,{id:"checkbox_card_returned","data-cy":"checkbox_card_returned",name:"card_returned",className:t.checkbox,checked:Ne,onChange:function(e){De(e.target.checked)}}),label:"Card Returned"}),r.a.createElement(K.a,{className:t.formLabel,control:r.a.createElement(G.a,{id:"checkbox_generate_new_card","data-cy":"checkbox_generate_new_card",name:"generate_new_card",className:t.checkbox,checked:Fe,onChange:function(e){Pe(e.target.checked)}}),label:"Generate New Card No."})))),r.a.createElement(J.a,{item:!0,xs:8},r.a.createElement(Yl.a,{onDropAccepted:function(e){return Re(e)}},function(e){var a=e.getRootProps,n=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",Object.assign({className:t.fileupload},a()),r.a.createElement("input",Object.assign({id:"upload_file_member","data-cy":"upload_file_member"},n())),r.a.createElement(X.a,{className:"fa-lg",icon:Z.s,style:{color:"rgba(39, 46, 76, 0.56)"}}),r.a.createElement("p",{style:{color:"rgba(39, 46, 76, 0.56)",fontWeight:400,fontSize:"14px"}},"Upload OR")),r.a.createElement("aside",null,Ue.length>0?r.a.createElement("div",null,r.a.createElement(S.a,null,"Uploaded File"),r.a.createElement("ul",null,Ue)):null))}))):null,r.a.createElement(J.a,{container:!0,className:t.printButtons,spacing:5},r.a.createElement(J.a,{className:t.modalButtonContainerLeft,item:!0,sm:6},r.a.createElement(z.a,{id:"cancel_reprint_button","data-cy":"cancel_reprint_button",className:t.modalButtonLeft,style:{marginRight:"10px"},variant:"outlined",color:"secondary",size:"small",onClick:We}," ","Cancel"," ")),r.a.createElement(J.a,{className:t.modalButtonContainerRight,item:!0,sm:6},r.a.createElement(z.a,{id:"finish_member_button","data-cy":"finish_member_button",className:t.modalButtonRight,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",onClick:function(){var t=0;if(console.log(Ie),0===O.length&&(D(!0),t++),null===o&&(d(!0),t++),null===f&&(E(!0),t++),0===te.length&&(oe(!0),t++),e.isExternal?(0===pe.length&&(he(!0),t++),0===ye.length&&(we(!0),t++)):0===F.length&&(R(!0),t++),0===t){var a={member_id:e.currentMember._id?e.currentMember._id:"",sent_via:O,reason:te,date_sent:o,date_received:f,card_returned:Ne,generate_new_card:Fe,is_external:e.isExternal};U.length>0&&(a.sender_email=U),q.length>0&&(a.ticket_no=q),e.isExternal?(pe.length>0&&(a.person_who_endorsed=pe),ye.length>0&&(a.endorsed_by=ye)):(F.length>0&&(a.sender_name=F),ce.length>0&&(a.reason_others=ce)),Le(),e.modalNext(a,Ie)}}}," ",e.lastMember?"Print":"Next Member"," "))))},Cf=Object(Vn.a)({keyboardDatePicker:{width:"100%"}}),Sf=function(e){var t=e.items,a=Object(Wn.a)(e,["items"]);return r.a.createElement(A.a,Object.assign({variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return r.a.createElement(D.a,{key:t,value:e.value},e.label)}))},wf=function(e){var t=e.column,a=e.filter,n=e.onFilter,i=e.filteringEnabled,o=e.classes,l=Cf();if(i){if("member_status"===t.name){var s=gr;return r.a.createElement(qn.a,{classes:o,style:{paddingTop:"5px"}},r.a.createElement(Sf,{onChange:function(e){return n(e.target.value?{value:e.target.value}:null)},name:"status",items:s,id:"status",value:a?a.value:""}))}return"effectivity_date"===t.name||"termination_date"===t.name?r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(_r.a,{variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",className:l.keyboardDatePicker,value:a?a.value:"",invalidDateMessage:"",onChange:function(e){console.log(e),n(e?{value:e.toISOString()}:null)}}))):"active_members_count"===t.name||"for_printing_count"===t.name?r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o}):r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o},r.a.createElement(P.a,{classes:o,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){return n(e.target.value?{value:e.target.value}:null)},placeholder:""}))}return null},kf=function(e){var t=e.children;return r.a.createElement(ae.a,{disableGutters:!0,children:t})},jf=function(e){return"asc"===e.direction?r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.H}):r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.G})},Nf=function(e){var t=e.onSort,a=e.children,n=e.direction;return r.a.createElement(Gn.a,{hideSortIcon:!0,onClick:t},a,n?r.a.createElement(jf,{direction:n}):r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.F}))},Df=function(e){var t=e.value,a=e.onValueChange;return r.a.createElement(P.a,{value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},"data-cy":"client_search_input",placeholder:"Search clients",fullWidth:!0,startAdornment:r.a.createElement(Ve.a,{position:"start"},r.a.createElement(X.a,{icon:Z.E}))})},Tf=function(e){var t=e.rows,a=e.columns,n=e.onRowSelect,i=e.selection,o=e.onSearchChange,l=e.onSortChange,s=e.onPageChange,c=e.totalCount,m=e.limit,d=e.sort,u=e.currentPage,p=e.onPageSizeChange,f=e.onFilterChange,b=e.selectall,g=e.onSelectAll,_=e.disableSearch,h=e.disablePaging,v=e.disableFilter,E=e.disableSort,y=e.disableSelect,x=e.id,O=Bm.tableStyles();return r.a.createElement("div",{className:O.container},r.a.createElement(zn.a,{rows:t,columns:a,getRowId:function(e){return e._id}},h?null:r.a.createElement(Un.m,{currentPage:u,pageSize:m,onCurrentPageChange:function(e){s(e,m*e)},onPageSizeChange:function(e){p(e)}}),h?null:r.a.createElement(Un.b,{totalCount:c}),_?null:r.a.createElement(Un.o,{onValueChange:o}),E?null:r.a.createElement(Un.q,{sorting:d,onSortingChange:l,defaultSorting:[]}),v?null:r.a.createElement(Un.e,{onFiltersChange:f,defaultFilters:[]}),y?null:r.a.createElement(Un.p,{selection:i,onSelectionChange:function(e){n(e)}}),y?null:r.a.createElement(Un.j,null),r.a.createElement(zn.d,{"data-cy":x,columnExtensions:zm}),y?null:r.a.createElement(zn.h,{selectByRowClick:!0,showSelectionColumn:!0,showSelectAll:!0,headerCellComponent:function(){return r.a.createElement(G.a,{color:"primary","data-cy":"print_check_all_checkbox",checked:b,onChange:function(){g(!b)}})}}),r.a.createElement(zn.g,{sortLabelComponent:Nf,showSortingControls:!E}),v?null:r.a.createElement(zn.f,{cellComponent:wf}),_?null:r.a.createElement(zn.i,{rootComponent:kf}),_?null:r.a.createElement(zn.c,{inputComponent:Df}),h?null:r.a.createElement(zn.b,{pageSizes:[10,15,20]})))},Mf={size:12,padding:0,color:"#1E2071","&$checked":{color:"#1E2071"}},Ff=Object(y.a)({disabledsiname:{fontSize:"0.875rem",color:"#272E4C",marginLeft:16,paddingTop:2,paddingBottom:4},enabledsiname:{fontSize:"0.875rem",color:"#272E4C",marginLeft:16,paddingTop:2,paddingBottom:4}}),Pf=function(e){var t=Ff(e);return r.a.createElement(J.a,{container:!0,alignItems:"center",style:{paddingTop:4,paddingBottom:4}},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ye.a,{display:"flex",flexDirection:"row"},r.a.createElement(Ye.a,null,r.a.createElement(G.a,{style:Mf,disabled:e.disabled,checked:e.checked,onChange:function(){e.handleChange(!e.checked)}})),r.a.createElement(Ye.a,null,r.a.createElement(S.a,{className:e.disabled?t.disabledsiname:t.enabledsiname},e.label)))))};Pf.defaultProps={disabled:!1,label:"",checked:!1,handleChange:function(){}};var Af=a(501),Bf=a.n(Af),If={size:12,padding:0,color:"#1E2071","&$checked":{color:"#1E2071"}},Rf=Object(y.a)({name:{fontSize:"0.875rem",color:"#272E4C",marginLeft:16,paddingTop:2,paddingBottom:4}}),Lf=function(e){var t=Rf(e),a=e.index%2===0?"#FFFFFF":"#F6F7FA";return r.a.createElement(J.a,{container:!0,alignItems:"center",style:{padding:"8px 4px",backgroundColor:a}},r.a.createElement(J.a,{item:!0,xs:11},r.a.createElement(Ye.a,{display:"flex",flexDirection:"row"},r.a.createElement(Ye.a,null,r.a.createElement(G.a,{id:"checkbox_".concat(e.value.replace(/\s/g,"_").toLocaleLowerCase()),"data-cy":"checkbox_".concat(e.value.replace(/\s/g,"_").toLocaleLowerCase()),style:If,checked:e.checked,onChange:function(){e.handleChange(e.value,!e.checked)}})),r.a.createElement(Ye.a,null,r.a.createElement(S.a,{className:t.name},e.label)))),r.a.createElement(J.a,{item:!0,xs:1},e.checked?r.a.createElement(le.a,{style:{color:"rgba(39, 46, 76, 0.5)"}}):""))},Wf=function(e){var t,a=function(t,a){if(a){var n=[].concat(Object(Ln.a)(e.selectedList),[t]);e.handleChange(Object(Ln.a)(n))}else{var r=e.selectedList,i=e.selectedList.indexOf(t);-1!==i&&r.splice(i,1),e.handleChange(Object(Ln.a)(r))}},n=e.list.map(function(e){return e.checked=!1,e}),i=[];e.selectedList.length>0?(e.selectedList.forEach(function(e){var t=n.findIndex(function(t){return t.code===e});if(-1!==t){var a=n.splice(t,1)[0];a.checked=!0,i.push(a)}}),(t=i).push.apply(t,Object(Ln.a)(n))):i=n;var o=i.map(function(e,t){return{content:r.a.createElement(Lf,{index:t,value:e.code,label:e.label,checked:e.checked,handleChange:a}),classes:[e.checked?"":"no-drag"]}});return r.a.createElement("div",null,r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12,md:11,style:{boxShadow:"0px 3px 6px #00000029",marginRight:24}},r.a.createElement(Bf.a,{items:o,moveTransitionDuration:.3,onSort:function(t){var a=t.filter(function(e){return-1===e.classes.indexOf("no-drag")}),n=[];a.length>0&&(n=a.map(function(e){return e.content.props.value})),e.handleChange(Object(Ln.a)(n))},type:"vertical"}))))},zf={size:12,padding:0,color:"#1E2071","&$checked":{color:"#1E2071"}},Uf=Object(y.a)({disabledsiname:{fontSize:"0.75rem",color:"#272E4C",marginLeft:16,paddingTop:2,paddingBottom:4},enabledsiname:{fontSize:"0.75rem",color:"#272E4C",marginLeft:16,paddingTop:2,paddingBottom:4}}),Yf=function(e){var t=Uf(e);return n.createElement(J.a,{container:!0,alignItems:"center",style:{paddingTop:4,paddingBottom:4}},n.createElement(J.a,{item:!0,xs:12},n.createElement(Ye.a,{display:"flex",flexDirection:"row"},n.createElement(Ye.a,null,n.createElement(G.a,{style:zf,disabled:e.disabled,checked:e.checked,onChange:function(){e.handleChange(!e.checked)}})),n.createElement(Ye.a,null,n.createElement(S.a,{className:e.disabled?t.disabledsiname:t.enabledsiname},e.label)))))};function Vf(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}Yf.defaultProps={disabled:!1,label:"",checked:!1,handleChange:function(){}};var Hf=Object(y.a)(function(){return{clientInfoHeader:{color:"#272E4C",textAlign:"left",opacity:.6,letterSpacing:0,textAlignLast:"left",fontSize:"12px"},clientInfoHeaderValue:{color:"#272E4C",textAlign:"left",opacity:1,letterSpacing:0,textAlignLast:"left",fontSize:"16px",fontWeight:600},dialogTitle:{textAlign:"left",opacity:1,letterSpacing:0,textAlignLast:"left",color:"#272E4C",fontSize:"19px",fontWeight:700},dialogPaper:{minHeight:"80vh",maxHeight:"80vh",minWidth:"80%",maxWidth:"80%"}}}),qf=["Sorting of Cards","Printing of Cards"],Gf=Object(O.a)({root:{},indicator:{display:"none"}})(Nn.a),Jf=Object(O.a)({root:{color:"rgba(39, 46, 76, 0.5)",minWidth:80,paddingLeft:24,paddingRight:24,fontSize:"0.875rem",fontWeight:400,"&:hover":{color:"rgba(39, 46, 76, 1)",fontWeight:400},"&$selected":{textDecoration:"underline",color:"#3AB77D",fontWeight:600}},selected:{}})(Dn.a),Kf=function(e){var t=Object(n.useState)(0),a=Object(g.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(e.data?e.data:{}),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Hf(),u=function(t,a){var n=c;n[t]=a,m(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vf(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vf(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},n)),console.log("new siData ",c),e.setSIData(n)};return Object(n.useEffect)(function(){m(e.data)},[e.data]),r.a.createElement(ic.a,{open:Boolean(e.anchorElement),anchorEl:e.anchorElement,onClose:e.handlePopoverClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(J.a,{item:!0,sm:12,style:{padding:"10px",minHeight:"80%"}},r.a.createElement(U.a,{maxWidth:"md",fullWidth:!0,open:!0,scroll:"body",style:{width:"100%",transform:"translate(0, 0)",alignContent:"center",padding:"0px -100px 0px -100px"},"aria-labelledby":"modal-title",classes:{paper:d.dialogPaper}},r.a.createElement(Y.a,{id:"form-dialog-title"},r.a.createElement(J.a,{container:!0,alignItems:"flex-end",justify:"space-between"},r.a.createElement(J.a,{item:!0},r.a.createElement(S.a,{className:d.dialogTitle},"Sorting and Printing Instructions")),r.a.createElement(J.a,{item:!0},r.a.createElement("span",{onClick:e.handlePopoverClose},r.a.createElement(X.a,{icon:Z.N}))))),r.a.createElement(V.a,null,r.a.createElement(J.a,{container:!0,style:{marginRight:"23px",marginLeft:"23px"}},r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(S.a,{className:d.clientInfoHeader},"CORPORATE ACCOUNT NO."),r.a.createElement(S.a,{className:d.clientInfoHeaderValue},e.corporateAccountNo)),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(S.a,{className:d.clientInfoHeader},"REGISTERED COMPANY NAME"),r.a.createElement(S.a,{className:d.clientInfoHeaderValue},e.registeredCompanyName)),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(S.a,{className:d.clientInfoHeader},"TRADE COMPANY NAME"),r.a.createElement(S.a,{className:d.clientInfoHeaderValue},e.tradeCompanyName))),r.a.createElement(J.a,{container:!0,style:{paddingTop:"20px",paddingBottom:"20px"}},r.a.createElement(Gf,{value:i,onChange:function(e,t){o(t)},"aria-label":"page tab"},qf.map(function(e,t){return r.a.createElement(Jf,{label:e,id:"servicing_instructions_tab_"+t,"aria-controls":"servicing-instructions-tabpanel-"+t,key:t})}))),0===i?r.a.createElement(Zf,{memberFields:e.memberFields,data:c&&c.sorting_of_cards?c.sorting_of_cards:null,updateData:u}):null,1===i?r.a.createElement($f,{data:c&&c.printing_of_cards?c.printing_of_cards:null,updateData:u}):null,r.a.createElement(J.a,{container:!0,item:!0,xs:12,alignItems:"flex-end",style:{padding:"10px 0 10px 0"}},r.a.createElement(J.a,{item:!0,xs:10}),r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){return e.saveSIData(c)}},"Save")))))))},Xf=Object(y.a)({subheader:{fontSize:"1rem",color:"#272E4C"},description:{fontSize:"0.875rem",color:"#272E4C",paddingBottom:16},noDataMessage:{fontSize:"0.875rem",color:"#272E4C",fontWeight:600,textAlign:"center"},radio:{"&$checked":{color:"#272E4C"}},checked:{}}),Zf=function(e){var t=Xf(e),a=function(t,a){var n=e.data?e.data:{};n[t]=a,e.updateData("sorting_of_cards",n)};return r.a.createElement("div",{style:{marginRight:"40px",marginLeft:"40px"}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12,md:6},r.a.createElement(S.a,{className:t.subheader},"Card Sorting"),r.a.createElement(S.a,{className:t.description},"Choose category for sorting and arrange their hierarchy"),e.memberFields&&e.memberFields.length>0?r.a.createElement(Wf,{list:e.memberFields,selectedList:e.data&&e.data.card_sorting?e.data.card_sorting:[],handleChange:function(e){a("card_sorting",e)}}):r.a.createElement(S.a,{className:t.noDataMessage,style:{marginTop:48,marginRight:64}},"No required fields to display.")),r.a.createElement(J.a,{item:!0,xs:12,md:6,style:{paddingLeft:"20px"}},r.a.createElement(S.a,{className:t.subheader},"Card Packing"),r.a.createElement(k.a,{component:"fieldset",margin:"normal"},r.a.createElement(Zr.a,{value:e.data&&e.data.card_packing?e.data.card_packing:"",onChange:function(e){a("card_packing",e.target.value)},name:"card_packing"},r.a.createElement("span",{style:{paddingTop:"10px"}}),r.a.createElement(K.a,{value:"envelope",control:r.a.createElement(Jn.a,{name:"card_packing",classes:{root:t.radio,checked:t.checked}}),label:"Envelope"}),r.a.createElement("span",{style:{paddingTop:"10px"}}),r.a.createElement(K.a,{value:"plastic",control:r.a.createElement(Jn.a,{name:"card_packing",classes:{root:t.radio,checked:t.checked}}),label:"Plastic"}),r.a.createElement("span",{style:{paddingTop:"10px"}}),r.a.createElement(K.a,{value:"with flyer",control:r.a.createElement(Jn.a,{name:"card_packing",classes:{root:t.radio,checked:t.checked}}),label:"With Flyer"}))),r.a.createElement(S.a,{className:t.subheader,style:{marginTop:32,marginBottom:8}},"Pack according to"),r.a.createElement(Pf,{label:"Team Leader",checked:e.data&&e.data.pack_accdg_to&&e.data.pack_accdg_to.indexOf("team_leader")>-1,handleChange:function(t){t?e.data&&e.data.pack_accdg_to?a("pack_accdg_to",[].concat(Object(Ln.a)(e.data.pack_accdg_to),["team_leader"])):a("pack_accdg_to",["team_leader"]):e.data&&e.data.pack_accdg_to?a("pack_accdg_to",Object(Ln.a)(Object(Tn.pull)(e.data.pack_accdg_to,"team_leader"))):a("pack_accdg_to",[])}}),r.a.createElement(Pf,{label:"Family",checked:e.data&&e.data.pack_accdg_to&&e.data.pack_accdg_to.indexOf("family")>-1,handleChange:function(t){t?e.data&&e.data.pack_accdg_to?a("pack_accdg_to",[].concat(Object(Ln.a)(e.data.pack_accdg_to),["family"])):a("pack_accdg_to",["family"]):e.data&&e.data.pack_accdg_to?a("pack_accdg_to",Object(Ln.a)(Object(Tn.pull)(e.data.pack_accdg_to,"family"))):a("pack_accdg_to",[])}}))))},Qf=Object(y.a)({reminder:{fontSize:"0.875rem",color:"#272E4C",paddingBottom:16}}),$f=function(e){var t=Qf(e),a=function(t,a){a?e.data?e.updateData("printing_of_cards",[].concat(Object(Ln.a)(e.data),[t])):e.updateData("printing_of_cards",[t]):e.data?e.updateData("printing_of_cards",Object(Ln.a)(Object(Tn.pull)(e.data,t))):e.updateData("printing_of_cards",[])},n=function(t){return e.data&&e.data.indexOf(t)>-1};return r.a.createElement("div",{style:{marginRight:"40px",marginLeft:"40px"}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12,md:6,style:{marginRight:16}},r.a.createElement(S.a,{className:t.reminder},"Print in the card only the items that are checked below. Use the sample on the right to see layout of the card ID."),r.a.createElement(Yf,{label:"1. Company Logo",checked:n("company logo"),handleChange:function(e){a("company logo",e)}}),r.a.createElement(Yf,{label:"2. ID Picture",checked:n("id picture"),handleChange:function(e){a("id picture",e)}}),r.a.createElement(Yf,{label:"3. Member Last Name, First Name, Middle Name, Extension (if any)",checked:n("full name"),handleChange:function(e){a("full name",e)}}),r.a.createElement(Yf,{label:"4. Company Name",checked:n("company name"),handleChange:function(e){a("company name",e)}}),r.a.createElement(Yf,{label:"5. Member Account No.",checked:n("member account no"),handleChange:function(e){a("member account no",e)}}),r.a.createElement(Yf,{label:"6. Card Number",checked:n("card no"),handleChange:function(e){a("card no",e)}}),r.a.createElement(Yf,{label:"7. Month and Year of Birth (MM/YY)",checked:n("birthday"),handleChange:function(e){a("birthday",e)}}),r.a.createElement(Yf,{label:"8. Sex",checked:n("sex"),handleChange:function(e){a("sex",e)}}),r.a.createElement(Yf,{label:"9. Dental Coverage \u2014 Based on the member\u2019s plan type in the contract",checked:n("dental coverage"),handleChange:function(e){a("dental coverage",e)}})),r.a.createElement(J.a,{item:!0,xs:12,md:5,style:{paddingLeft:"30px"}},r.a.createElement("img",{style:{height:"330px",width:"330px",border:"1px solid #DDDFE3"},src:"si_sample_card.png",className:Object(tt.default)("si-printing-of-card-sample-img"),alt:"Sample Reference Card"}))))},eb=function(e){var t=Bm.batchesWrapper(),a=Object(n.useState)([]),i=Object(g.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)({}),d=Object(g.a)(s,2),u=d[0],p=d[1],f=Object(n.useState)(null),b=Object(g.a)(f,2),_=b[0],h=b[1],E=Object(n.useState)("principal"),y=Object(g.a)(E,2),x=y[0],O=y[1],C=Object(n.useState)(!0),w=Object(g.a)(C,2),k=w[0],j=w[1],N=Object(n.useState)({}),D=Object(g.a)(N,2),T=D[0],M=D[1],F=Object(n.useState)([]),A=Object(g.a)(F,2),B=A[0],I=A[1],R=Object(n.useState)([]),L=Object(g.a)(R,2),W=L[0],U=L[1],Y=Object(n.useState)([]),V=Object(g.a)(Y,2),H=V[0],q=V[1],G=Object(n.useState)([]),K=Object(g.a)(G,2),Q=K[0],$=K[1],ee=Object(n.useState)(!1),te=Object(g.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(!1),oe=Object(g.a)(ie,2),le=oe[0],se=oe[1],ce=Object(n.useState)(0),me=Object(g.a)(ce,2),de=me[0],ue=me[1],pe=Object(n.useState)(10),fe=Object(g.a)(pe,2),be=fe[0],ge=fe[1],_e=Object(n.useState)(0),he=Object(g.a)(_e,2),ve=he[0],Ee=he[1],ye=Object(n.useState)(0),xe=Object(g.a)(ye,2),Oe=xe[0],Ce=xe[1],Se=Object(n.useState)(0),we=Object(g.a)(Se,2),ke=we[0],je=we[1],Ne=Object(n.useState)(""),De=Object(g.a)(Ne,2),Te=De[0],Me=De[1],Fe=Object(n.useState)([]),Pe=Object(g.a)(Fe,2),Ae=Pe[0],Be=Pe[1],Ie=Object(n.useState)([]),Re=Object(g.a)(Ie,2),Le=Re[0],We=Re[1],ze=Object(n.useState)([]),Ue=Object(g.a)(ze,2),Ye=Ue[0],Ve=Ue[1],He=Object(n.useState)([]),qe=Object(g.a)(He,2),Ge=qe[0],Ke=qe[1],Xe=Object(n.useState)(!1),Ze=Object(g.a)(Xe,2),Qe=Ze[0],$e=Ze[1],et=Object(n.useState)(""),at=Object(g.a)(et,2),nt=at[0],rt=at[1],it=Object(n.useState)(""),ot=Object(g.a)(it,2),lt=ot[0],st=ot[1],ct=Object(n.useState)(null),mt=Object(g.a)(ct,2),dt=mt[0],ut=mt[1],pt=Object(n.useState)(0),ft=Object(g.a)(pt,2),bt=ft[0],gt=ft[1],_t=Object(n.useState)(0),ht=Object(g.a)(_t,2),vt=ht[0],Et=ht[1],yt=Object(n.useState)(0),xt=Object(g.a)(yt,2),Ot=xt[0],Ct=xt[1],St=Object(n.useState)(!1),wt=Object(g.a)(St,2),kt=wt[0],jt=wt[1],Nt=Object(n.useState)(!1),Dt=Object(g.a)(Nt,2),Tt=Dt[0],Mt=Dt[1],Ft=Object(n.useState)(!1),Pt=Object(g.a)(Ft,2),At=Pt[0],Bt=Pt[1],It=Object(n.useState)([]),Rt=Object(g.a)(It,2),Lt=Rt[0],Wt=Rt[1],zt=Object(n.useState)([]),Ut=Object(g.a)(zt,2),Yt=Ut[0],Vt=Ut[1],Ht=Object(n.useState)(0),qt=Object(g.a)(Ht,2),Gt=qt[0],Jt=qt[1],Kt=Object(n.useState)(""),Xt=Object(g.a)(Kt,2),Zt=Xt[0],Qt=Xt[1],$t=Object(n.useState)(!1),ea=Object(g.a)($t,2),ta=ea[0],aa=ea[1],na=Object(n.useState)(!1),ra=Object(g.a)(na,2),ia=ra[0],oa=ra[1],la=Object(n.useState)("Success."),sa=Object(g.a)(la,2),ca=sa[0],ma=sa[1],da=Object(n.useState)("success"),ua=Object(g.a)(da,2),pa=ua[0],fa=ua[1],ba=Object(n.useState)(!1),ga=Object(g.a)(ba,2),_a=ga[0],ha=ga[1],va=Object(n.useState)(""),Ea=Object(g.a)(va,2),ya=Ea[0],xa=Ea[1],Oa=Object(n.useState)(""),Ca=Object(g.a)(Oa,2),Sa=Ca[0],wa=Ca[1],ka=Object(n.useState)(!1),ja=Object(g.a)(ka,2),Na=ja[0],Da=ja[1],Ta=Object(n.useState)(!1),Ma=Object(g.a)(Ta,2),Fa=Ma[0],Pa=Ma[1],Aa=Object(n.useState)(!1),Ba=Object(g.a)(Aa,2),Ia=Ba[0],Ra=Ba[1],La=Object(n.useState)(""),Wa=Object(g.a)(La,2),za=Wa[0],Ua=Wa[1],Ya=Object(n.useState)(10),Va=Object(g.a)(Ya,2),Ha=Va[0],qa=Va[1],Ga=Object(n.useState)(0),Ja=Object(g.a)(Ga,2),Ka=Ja[0],Xa=Ja[1],Za=Object(n.useState)(!1),Qa=Object(g.a)(Za,2),$a=Qa[0],en=Qa[1],tn=Object(n.useState)(""),an=Object(g.a)(tn,2),nn=an[0],rn=an[1],on=Object(n.useState)(!1),ln=Object(g.a)(on,2),sn=ln[0],cn=ln[1],mn=Object(n.useState)(""),dn=Object(g.a)(mn,2),un=dn[0],pn=dn[1],fn=Object(n.useState)([]),gn=Object(g.a)(fn,2),_n=gn[0],hn=gn[1],vn=Object(n.useState)(0),En=Object(g.a)(vn,2),yn=En[0],xn=En[1],On=Object(n.useState)([]),Cn=Object(g.a)(On,2),Sn=Cn[0],wn=Cn[1],kn=Object(n.useState)([]),jn=Object(g.a)(kn,2),Nn=jn[0],Dn=jn[1],Mn=Object(n.useState)(0),Fn=Object(g.a)(Mn,2),Pn=Fn[0],Bn=Fn[1],In=Object(n.useState)("Batch"),Wn=Object(g.a)(In,2),Un=Wn[0],Yn=Wn[1],Vn=Object(n.useState)(0),Hn=Object(g.a)(Vn,2),qn=Hn[0],Gn=Hn[1],Jn=Object(n.useState)([]),Kn=Object(g.a)(Jn,2),Xn=Kn[0],Zn=Kn[1],Qn=Object(n.useState)(""),$n=Object(g.a)(Qn,2),er=$n[0],tr=$n[1],ar=Object(n.useState)(10),nr=Object(g.a)(ar,2),rr=nr[0],ir=nr[1],or=Object(n.useState)(0),lr=Object(g.a)(or,2),sr=lr[0],cr=lr[1],mr=function(){return Object(Tn.isNil)(B)?[]:"principal"===x?B.filter(function(e){return"Principal"===e.member_type&&(!e.can_display_card_no||!e.date_printed||e.date_printed&&""===e.date_printed)}):"dependent"===x?B.filter(function(e){return"Dependent"===e.member_type&&(!e.can_display_card_no||!e.date_printed||e.date_printed&&""===e.date_printed)}):"all"===x?B.filter(function(e){return!e.can_display_card_no||!e.date_printed||e.date_printed&&""===e.date_printed}):"allwithcards"===x?B.filter(function(e){return e.can_display_card_no||e.date_printed&&""!==e.date_printed}):B},dr=function(){h(null)},ur=function(e){var t=e.filter(function(e){return!Lt.includes(e)}),a=[];a=a.concat(Yt),console.log("ontransmittalrowselect",a,Yt),t.length>0&&t.forEach(function(e){var t=Q.find(function(t){return e===t._id});void 0!==t&&a.push(t)});var n=Lt.filter(function(t){return!e.includes(t)});n.length>0&&n.forEach(function(e){a=a.filter(function(t){return e!==t._id})}),Vt(a),Wt(e);var r=[];Q.forEach(function(t){r.push(e.includes(t._id))}),r.includes(!1)?Bt(!1):Bt(!0)},pr=function(e){var t=[],a=[];if(e){t=Lt;var n=[];Q.map(function(e){-1===t.findIndex(function(t){return t===e._id})&&t.push(e._id),-1===Yt.findIndex(function(t){return t._id===e._id})&&n.push(e._id)}),console.log("select all",n,t,W),a=H,n.length>0&&n.forEach(function(e){var t=Yt.find(function(t){return e===t._id});void 0!==t&&a.push(t)}),console.log("select all",n,t,W,a)}Vt(a),Wt(t)},fr=function(){j(!0),Ra(!0);var t=void 0;e.caseId&&(t=e.caseId),An.fetchPrinting(e.clientId,be,ve,x,Le,Ae,Te,t).then(function(t){t.error?($e(!0),st("An error occured while loading the list of members."),rt("Loading failed")):An.getClient(e.clientId).then(function(e){if(e.error)$e(!0),st("An error occured while loading client data."),rt("Loading failed"),j(!1);else{Ra(!1),M(t),I(t.members),t.hasOwnProperty("total")?Ce(t.total):Ce(5e3);var a=[],n=[],r=[];t.members.filter(function(e){"Principal"===e.member_type&&a.push(e),"Dependent"===e.member_type&&n.push(e),(e.can_display_card_no||e.date_printed&&""!==e.date_printed)&&r.push(e)}),"principal"===x&&0===ve&&(gt(t.principalsCount),Et(t.dependentsCount),Jt(t.allMembersWithCard),Ct(t.allMembersWithNoCardCount)),t.open_transmittal_list&&Sr();var i=e||null,o=[];if(i){if(i.member_data_fields&&i.member_data_fields.length>0)o=i.member_data_fields.filter(function(e){return e.is_required}).map(function(e){return{code:e.system_name,label:e.system_name}});l(o),p(Object(Tn.cloneDeep)(i))}j(!1)}}).catch(function(e){$e(!0),st("An error occured while loading client data."),rt("Loading failed"),j(!1),console.log(e)})}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)})};Object(n.useEffect)(function(){fr()},[]),Object(n.useEffect)(function(){fr()},[x]);var br=function(t){console.log("Search: ",t),je(0),Me(t),de&&clearTimeout(de),ue(setTimeout(function(){j(!0),Ra(!0),An.fetchPrinting(e.clientId,be,ve,x,Le,Ae,t).then(function(e){if(j(!1),e.error)$e(!0),st("An error occured while loading the list of members."),rt("Loading failed");else{if(Ra(!1),M(e),kt){var t=[];t=t.concat(W),e.members.map(function(e){-1===W.findIndex(function(t){return t===e._id})&&t.push(e._id)});var a=t.filter(function(e){return!W.includes(e)}),n=[];n=n.concat(H),a.length>0&&a.forEach(function(t){var a=e.members.find(function(e){return t===e._id});void 0!==a&&n.push(a)}),q(n),U(t)}I(e.members),e.hasOwnProperty("total")?Ce(e.total):Ce(5e3)}}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)})},3e3))},gr=function(t){Ve(t),Be(t),j(!0),Ra(!0),An.fetchPrinting(e.clientId,be,ve,x,Le,t,Te).then(function(e){if(j(!1),e.error)$e(!0),st("An error occured while loading the list of members."),rt("Loading failed");else{if(Ra(!1),M(e),kt){var t=[];t=t.concat(W),e.members.map(function(e){-1===W.findIndex(function(t){return t===e._id})&&t.push(e._id)});var a=t.filter(function(e){return!W.includes(e)}),n=[];n=n.concat(H),a.length>0&&a.forEach(function(t){var a=e.members.find(function(e){return t===e._id});void 0!==a&&n.push(a)}),q(n),U(t)}I(e.members),e.hasOwnProperty("total")?Ce(e.total):Ce(5e3)}}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)})},_r=function(t){je(0),We(t),de&&clearTimeout(de),ue(setTimeout(function(){j(!0),Ra(!0),console.log("timeout",t),An.fetchPrinting(e.clientId,be,ve,x,t,Ae,Te).then(function(e){if(j(!1),e.error)$e(!0),st("An error occured while loading the list of members."),rt("Loading failed");else{if(Ra(!1),M(e),kt){var t=[];t=t.concat(W),e.members.map(function(e){-1===W.findIndex(function(t){return t===e._id})&&t.push(e._id)});var a=t.filter(function(e){return!W.includes(e)}),n=[];n=n.concat(H),a.length>0&&a.forEach(function(t){var a=e.members.find(function(e){return t===e._id});void 0!==a&&n.push(a)}),q(n),U(t)}I(e.members),e.hasOwnProperty("total")?Ce(e.total):Ce(5e3)}}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)})},3e3))},hr=function(t,a){j(!0),ge(t),Ee(a),j(!0),Ra(!0),An.fetchPrinting(e.clientId,t,a,x,Le,Ae,Te).then(function(e){if(j(!1),e.error)$e(!0),st("An error occured while loading the list of members."),rt("Loading failed");else{if(Ra(!1),M(e),kt){var t=[];t=t.concat(W),e.members.map(function(e){-1===W.findIndex(function(t){return t===e._id})&&t.push(e._id)});var a=t.filter(function(e){return!W.includes(e)}),n=[];n=n.concat(H),a.length>0&&a.forEach(function(t){var a=e.members.find(function(e){return t===e._id});void 0!==a&&n.push(a)}),q(n),U(t)}I(e.members),e.hasOwnProperty("total")?Ce(e.total):Ce(5e3)}}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)})},vr=function(e,t){var a,n,r=0,i=[],o=[];for(console.log("groupBy",e,t);r<e.length;r++)a=e[r][t],(n=i.indexOf(a))>-1?o[n].push(e[r]):(i.push(a),o.push([e[r]]));return o},Er=function(){var e=H;console.log("print",e,H),e.forEach(function(e){e.hasOwnProperty("batch_name")||(e.batch_name="")});var t=vr(e,"batch_name"),a=[];console.log("groupByBatch",t),t.forEach(function(e){a.push({batch_name:e[0].batch_name,count:e.length,site:e[0].site,preview:r.a.createElement(re.a,{id:"preview_batch","data-cy":"preview_batch",onClick:function(){!function(e,t,a){Yn(e),Gn(t),tr(a);var n=[];n=n.concat(H),Zn(n.filter(function(t){return t.batch_name===e})),en(!0)}(e[0].batch_name,e.length,e[0].site)}},"Open")})}),Ke(a),ne(!0)},yr=function(){var t=Object(m.a)(c.a.mark(function t(){var a,n,r,i,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),a=Yt,n="",t.prev=3,t.next=6,An.getUserDataFromDb();case 6:r=t.sent,n=r.userName,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("Error getting user from IndexedDB: ",t.t0);case 13:i=vr(a,"batch_name"),o=0,console.log("confirmtransmittal",nn),i.forEach(function(t){var a={isAllSelected:!1,allSelectedFilter:x,printed_by:n,date_printed:(new Date).toISOString(),members:t,tracking_number:Zt,case_id:Object(Tn.isNil)(e.caseId)?nn:e.caseId};console.log("group by batch done",t),Ra(!0),An.postPrint(e.clientId,Te,Le,Ye,a).then(function(n){j(!1),n.error?($e(!0),st("An error occured while downloading the transmittal list."),rt("Loading failed")):An.generateByBatch(e.clientId,a).then(function(e){var a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download="TRANSMITTAL_LIST_".concat(t[0].batch_name,"_").concat(Je()().format("MMM-DD-YYYY"),".csv"),n.click(),++o===i.length&&(Ra(!1),$e(!0),st("Transmittal list complete"),rt("Transmittal list for ".concat(Zt," has been successfully download.")),ut(function(){return function(){Dr()}}))}).catch(function(e){console.log("generate by batch error",e)})}).catch(function(e){$e(!0),st("An error occured while downloading the transmittal list."),rt("Loading failed"),j(!1),console.log(e)})});case 17:case"end":return t.stop()}},t,null,[[3,10]])}));return function(){return t.apply(this,arguments)}}(),xr=function(){var t=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Nr(),console.log("props",e.caseId,!Object(Tn.isNil)(e.caseId)),Object(Tn.isNil)(e.caseId)?Cr():wr(e.caseId);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),Or=function(){var t=Object(m.a)(c.a.mark(function t(a,n){var r,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null,t.prev=1,t.next=4,An.getUserDataFromDb();case 4:i=t.sent,r=i.pmakerUid,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Error getting user from IndexedDB: ",t.t0);case 11:gs.put("cases/"+a+"/variable",{client_id:e.clientId||"",client_name:e.clientName||"",from_membership:!0,assigned_to_self:!0,next_user:r}).then(function(t){console.log("setTicketVariable",t),gs.put("cases/"+a+"/route-case",{}).then(function(){var t=Je()();t.add(10,"days");var r=t.format("YYYY-MM-DD HH-mm-ss"),i={status:"OPEN",ticket_id:n.app_number.toString(),pmaker_case_uid:a,due_date:r,ticket_type:"Print Card IDs",client:e.clientName,client_id:e.clientId};An.postTicket(i,!0).then(function(){Da(!1),wr(a)}).catch(function(){Da(!1),ma("Something went wrong. Please try again later."),fa("error"),oa(!0)})}).catch(function(e){Da(!1),"USER_DATA_NOT_FOUND"===e.message?(st("User Data Error"),rt("User data not found. Please try logging in again."),$e(!0),ut(function(){return function(){window.location.replace("../index.html#/")}})):(ma("Something went wrong. Please try again later."),fa("error"),oa(!0))})}).catch(function(e){console.log("setTicketVariable",e),"USER_DATA_NOT_FOUND"===e.message&&(st("User Data Error"),rt("User data not found. Please try logging in again."),$e(!0),ut(function(){return function(){window.location.replace("../index.html#/")}}))});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e,a){return t.apply(this,arguments)}}();function Cr(){Da(!0),gs.post("cases/",{pro_uid:"3363390215e4a46e1d4c9c3014822793",tas_uid:"4476339725e4a470aacd7b3087643861"}).then(function(e){console.log("createPrintCardIDTicket",e),Da(!1),void 0!==e.app_uid?(console.log("entered",e.app_uid),Ua(e.app_uid),Or(e.app_uid,e)):(st("User Data Error"),rt("User data not found. Please try logging in again."),$e(!0),ut(function(){return function(){window.location.replace("../index.html#/")}}))}).catch(function(e){console.log("createAddMemberTicket",e),Da(!1),"USER_DATA_NOT_FOUND"===e.message&&(st("User Data Error"),rt("User data not found. Please try logging in again."),$e(!0),ut(function(){return function(){window.location.replace("../index.html#/")}}))})}var Sr=function(){var t=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:j(!0),An.fetchPrinting(e.clientId,Ha,0,x,{},{},"",e.caseId).then(function(t){j(!1),t.error?($e(!0),st("An error occured while loading the list of members."),rt("Loading failed")):(Ra(!1),console.log("postprint",e.caseId,t),$(t.members),rn(e.caseId),Bn(H.length),Mt(!0))}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),wr=function(){var t=Object(m.a)(c.a.mark(function t(a){var n,r,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),console.log("payload",a),n={isAllSelected:kt,allSelectedFilter:x,printed_by:"",date_printed:(new Date).toISOString(),case_id:a},t.prev=3,t.next=6,An.getUserDataFromDb();case 6:r=t.sent,n.printed_by=r.userName,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("Error getting user from IndexedDB: ",t.t0);case 13:i=H,n.members=i,Ra(!0),An.downloadPrintedMembers(e.clientId,Te,Le,Ye,n).then(function(t){if(Ra(!1),j(!1),console.log("downloadPrintedMembers",t),void 0!==t&&void 0===t.error)if("application/json"===t.type&&void 0!==t.error)st("Generate Report Error"),rt("Failed to get list of printed members."),$e(!0);else{var n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="PRINTED_MEMBERS_".concat(Je()().format("MMM-DD-YYYY"),".csv"),r.click(),console.log("fetch transmittal",e.caseId,a),An.fetchPrinting(e.clientId,Ha,0,x,{},{},"",Object(Tn.isNil)(e.caseId)?a:e.caseId).then(function(e){j(!1),e.error?($e(!0),st("An error occured while loading the list of members."),rt("Loading failed")):(Ra(!1),console.log("postprint",a,e),$(e.members),rn(a),Bn(H.length),Mt(!0))}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)})}else console.log("error",t.error),st("Generate Report Error"),rt("Failed to get list of printed members."),$e(!0)}).catch(function(e){console.log("err",e),st("Generate Report Error"),rt("Failed to get list of printed members."),$e(!0)});case 17:case"end":return t.stop()}},t,null,[[3,10]])}));return function(e){return t.apply(this,arguments)}}(),kr=function(t,a){j(!0),qa(t),j(!0),Ra(!0),An.fetchPrinting(e.clientId,t,a,x,{},{},"",!Object(Tn.isNil)(e.caseId)&&e.caseId.trim().length>0?e.caseId:nn).then(function(e){if(j(!1),e.error)$e(!0),st("An error occured while loading the list of members."),rt("Loading failed");else{if(Ra(!1),At){var t=[];t=t.concat(Lt),e.members.map(function(e){-1===Lt.findIndex(function(t){return t===e._id})&&t.push(e._id)});var a=t.filter(function(e){return!Lt.includes(e)}),n=[];n=n.concat(Yt),a.length>0&&a.forEach(function(e){var t=Q.find(function(t){return e===t._id});void 0!==t&&n.push(t)}),Vt(n),Wt(t)}$(e.members)}}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)})},jr=function(t,a){qa(t),j(!0),Ra(!0),An.fetchPrinting(e.clientId,t,a,x,{where:{batch_name:Un}},{},"",e.caseId&&e.caseId.trim().length>0?e.caseId:za).then(function(e){j(!1),e.error?($e(!0),st("An error occured while loading the list of members."),rt("Loading failed")):(Ra(!1),Zn(e.members))}).catch(function(e){$e(!0),st("An error occured while loading the list of members."),rt("Loading failed"),j(!1),console.log(e)})},Nr=function(){ne(!1)};function Dr(){var t=e.caseId;Object(Tn.isNil)(e.caseId)&&(t=za),gs.put("cases/"+t+"/variable",{pressed_reassign:!1}).then(function(){gs.put("cases/"+t+"/route-case",{}).then(function(){An.patchTicket({status:"CLOSED"},t,!0).then(function(){Da(!1),e.caseId?Pa(!0):window.location.reload()}).catch(function(){Da(!1),ma("Something went wrong. Please try again later."),fa("error"),oa(!0)})}).catch(function(e){Da(!1),"USER_DATA_NOT_FOUND"===e.message?($e(!0),st("User Data Error"),rt("User data not found. Please try logging in again."),ut(function(){return function(){window.location.replace("../index.html#/")}})):(ma("Something went wrong. Please try again later."),fa("error"),oa(!0))})}).catch(function(e){console.log("setTicketVariable",e),"USER_DATA_NOT_FOUND"===e.message&&(st("User Data Error"),rt("User data not found. Please try logging in again."),$e(!0),ut(function(){return function(){window.location.replace("../index.html#/")}}))})}if(Fa)return r.a.createElement(v.a,{to:{pathname:"/membership/"}});return r.a.createElement("div",null,k||Na?r.a.createElement(Rn,null):"",r.a.createElement(J.a,{container:!0,className:"".concat(Object(tt.default)("page-header-title")," ").concat(t.container)},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(bn.UI.BreadcrumbsComponent,{items:e.breadcrumbs})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Tl,{id:"process_batches",label:"Print ID Cards",steps:[],activeStep:0})))),r.a.createElement(J.a,{className:t.body,container:!0},r.a.createElement(J.a,{item:!0,sm:3},r.a.createElement(S.a,{className:t.label},"CORPORATE ACCOUNT NO."),r.a.createElement(S.a,{className:t.value},T.corporate_account_no)),r.a.createElement(J.a,{item:!0,sm:3},r.a.createElement(S.a,{className:t.label},"REGISTERED COMPANY NAME"),r.a.createElement(S.a,{className:t.value},T.registered_name)),r.a.createElement(J.a,{item:!0,sm:3},r.a.createElement(S.a,{className:t.label},"TRADE COMPANY NAME"),r.a.createElement(S.a,{className:t.value},T.brand_name)),r.a.createElement(J.a,{item:!0,sm:3},r.a.createElement(S.a,{className:t.label},"SORTING AND PRINTING INSTRUCTIONS"),r.a.createElement(S.a,{id:"open_sorting_and_printing","data-cy":"open_sorting_and_printing",className:t.read,onClick:function(e){return function(e){var t=e.currentTarget;h(t)}(e)}},r.a.createElement(X.a,{icon:Z.q})," Read")),r.a.createElement(J.a,{className:t.tabs,container:!0},r.a.createElement(J.a,{item:!0,sm:12},r.a.createElement(S.a,{className:t.subHeading},"IDs to Print (",Oe,")")),Am.tabs.map(function(e){return r.a.createElement(J.a,{item:!0,sm:3},r.a.createElement(S.a,{id:"".concat(e.indicator,"_tab"),"data-cy":"".concat(e.indicator,"_tab"),className:"".concat(t.tab," ").concat(x===e.indicator?t.activeTab:""),onClick:function(){var t;t=e.indicator,O(t),U([]),jt(!1),q([]),je(0),Ee(0),ge(10)}},e.label," (","principal"===e.indicator?bt:"dependent"===e.indicator?vt:"all"===e.indicator?Ot:"allwithcards"===e.indicator?Gt:"",")"))}),r.a.createElement(J.a,{item:!0,sm:12,style:{paddingBottom:120}},r.a.createElement(Tf,{id:"print_id_card_list",columns:"principal"===x?Im:"dependent"===x?Rm:"all"===x?Lm:"allwithcards"===x?Wm:[],rows:mr(),onSearchChange:br,currentPage:ke,onPageSizeChange:function(e){ge(e),Ee(ke*e),hr(e,ke*e)},onPageChange:function(e){je(e),Ee(e*be),hr(be,e*be)},onSortChange:gr,sort:Ye,limit:be,onFilterChange:_r,selectall:kt,onSelectAll:function(e){!function(e){var t=[],a=[];if(e){t=W;var n=[];mr().map(function(e){-1===t.findIndex(function(t){return t===e._id})&&t.push(e._id),-1===H.findIndex(function(t){return t._id===e._id})&&n.push(e._id)}),console.log("select all",n,t,W),a=H,n.length>0&&n.forEach(function(e){var t=B.find(function(t){return e===t._id});void 0!==t&&a.push(t)})}q(a),U(t),jt(e)}(e),jt(e)},onRowSelect:function(e){var t=e.filter(function(e){return!W.includes(e)}),a=H;t.length>0&&t.forEach(function(e){var t=B.find(function(t){return e===t._id});void 0!==t&&a.push(t)});var n=W.filter(function(t){return!e.includes(t)});n.length>0&&n.forEach(function(e){a=a.filter(function(t){return e!==t._id})}),console.log("currselected",a),console.log("selected",e),console.log("added",t),console.log("removed",n);var r=[];B.forEach(function(t){r.push(e.includes(t._id))}),q(a),U(e),r.includes(!1)?jt(!1):jt(!0)},selection:W,totalCount:Oe}))),r.a.createElement(Fl,{leftButtons:r.a.createElement("div",null,"allwithcards"===x?r.a.createElement(z.a,{className:t.leftButton,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",id:"begin_reprint_button","data-cy":"begin_reprint_button",onClick:function(){pn("reprint"),function(){var e=H;e.forEach(function(e){e.hasOwnProperty("batch_name")||(e.batch_name="")}),hn(e),xn(0),se(!0)}()},disabled:W.length<=0},"Reprint ID cards"):r.a.createElement(z.a,{className:t.leftButton,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",id:"begin_print_button","data-cy":"begin_print_button",onClick:function(){pn("print"),Er()},disabled:W.length<=0&&!kt},"Print ID cards"),Object(Tn.isNil)(e.caseId)||Object(Tn.isNil)(e.clientId)||Object(Tn.isNil)(e.clientName)?null:r.a.createElement(z.a,{className:t.leftButton,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",onClick:function(){xa("Proceed Confirmation"),wa('Are you sure want to mark this ticket as "Done"?'),ha(!0)},"data-cy":"mark_as_done_button"},"Mark as Done"))})),r.a.createElement(Of,{modalVisibility:le,modalClose:function(){wn([]),Dn([]),se(!1)},modalNext:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a={member_id:"",is_external:!0,date_sent:new Date,date_received:new Date,sent_via:"",sender_name:"",sender_email:"",ticket_no:"",card_returned:!0,generate_new_card:!0,person_who_endorsed:"",endorsed_by:"",reason:"",reason_others:"",documents:[]},n=Object.assign(a,e);console.log("modal2next",n);var r=[].concat(Object(Ln.a)(Sn),[n]),i=[].concat(Object(Ln.a)(Nn),Object(Ln.a)(t.map(function(t){return{member_id:e.member_id,file:{name:t.name,type:t.type,file:t,field:"OR"}}})));if(console.log("newFiles",i),wn(r),Dn(i),se(!1),yn+1<_n.length)setTimeout(function(){xn(yn+1),se(!0)},500);else{var o=new FormData,l=[];if(i.map(function(e){l.push(e.file.file)}),i.map(function(e){o.append("".concat(e.file.field),e.file.file)}),i.length>0){var s=0;i.forEach(function(e){An.uploadMemberDocument(e.member_id,"others",e.file.file).then(function(t){console.log("uploadmember",t);var a=r.findIndex(function(t){return t.member_id===e.member_id});r[a].documents.push(t),++s===i.length&&An.batchPrinting(r).then(function(e){console.log(e),Er()}).catch(function(e){console.log("error in batch print",e)})}).catch(function(e){console.log("upload error",e)})})}else An.batchPrinting(r).then(function(e){console.log(e),Er()}).catch(function(e){console.log("error in batch print",e)});console.log("newPayload",r),console.log("newFiles",i)}},isExternal:sn,setIsExternal:cn,currentMember:_n[yn]?_n[yn]:{},lastMember:Sn.length===H.length-1}),r.a.createElement(Hm,{visibility:ae,close:Nr,title:$a?r.a.createElement(re.a,{style:{fontSize:"12px"},id:"back_to_batch_list","data-cy":"back_to_batch_list",onClick:function(){en(!1),cr(0),ir(10)}},r.a.createElement(X.a,{icon:Z.g,style:{display:"inline-block",marginRight:"11px"}}),"Back"):""},$a?r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12,className:t.value},r.a.createElement(S.a,null,"".concat(Un," (").concat(qn," card/s)"))),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:"22px"}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{className:t.label},"Corporate Account Name"),r.a.createElement(S.a,{className:t.value},T.registered_name)),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{className:t.label},"Corporate Account No."),r.a.createElement(S.a,{className:t.value},T.corporate_account_no)),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{className:t.label,style:{marginBottom:"7px"}},"Address"),r.a.createElement(S.a,{className:t.value},er)))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Tf,{id:"batch_preview_table_list",columns:[{name:"member_card_no",title:"Member Card No."},{name:"last_name",title:"Last Name"},{name:"first_name",title:"First Name"},{name:"middle_name",title:"Middle Name"},{name:"date_of_birth",title:"Date of Birth"},{name:"gender",title:"Gender"},{name:"effectivity_date",title:"Effectivity Date"},{name:"principal_name",title:"Principal"},{name:"site",title:"Site"}],rows:Xn,onSearchChange:br,currentPage:sr,onPageSizeChange:function(e){ir(e),jr(e,sr*e)},onPageChange:function(e){cr(e),jr(rr,e*rr)},onSortChange:gr,sort:Ye,limit:rr,onFilterChange:_r,selectall:At,onSelectAll:function(e){pr(e),Bt(e)},onRowSelect:ur,selection:Lt,totalCount:Pn,disableSelect:!0,disableFilter:!0,disableSearch:!0,disableSort:!0,disablePaging:!0}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{className:t.subHeading},"Confirm Printing of Cards"),r.a.createElement(S.a,{className:t.info},"You are about to print ID cards for"," ",r.a.createElement("strong",null,W.length," ",W.length>1?"members":"member")," ","from these batch (es):"),r.a.createElement("div",{className:t.tableForPrinting}),r.a.createElement(zn.a,{"data-cy":"batch_list",rows:Ge,columns:Um},r.a.createElement(zn.d,null),r.a.createElement(zn.g,null)),r.a.createElement(J.a,{container:!0,className:t.printButtons,spacing:5},r.a.createElement(J.a,{className:t.modalButtonContainerLeft,item:!0,sm:6},r.a.createElement(z.a,{className:t.modalButtonLeft,style:{marginRight:"10px"},variant:"outlined",color:"secondary",size:"small",id:"cancel_print_button","data-cy":"cancel_print_button",onClick:Nr}," ","Cancel"," ")),r.a.createElement(J.a,{className:t.modalButtonContainerRight,item:!0,sm:6},r.a.createElement(z.a,{id:"batch_print_button",className:t.modalButtonRight,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small","data-cy":"batch_print_button",onClick:xr},"print"===un?"Print":"Reprint"))))),r.a.createElement(Hm,{visibility:Tt,close:function(){console.log("close")},noCloseButton:!0,title:r.a.createElement(S.a,{variant:"h6"},"Confirm Transmittal List"),modalstyle:{width:"80vw",maxWidth:"80vw"},noMaxWidth:!0},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:"22px"}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{className:t.label},"Corporate Account Name"),r.a.createElement(S.a,{className:t.value},T.registered_name)),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{className:t.label},"Corporate Account No."),r.a.createElement(S.a,{className:t.value},T.corporate_account_no)),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{className:t.label,style:{marginBottom:"7px"}},"Document Tracking Number*"),r.a.createElement(P.a,{id:"document_tracking_no","data-cy":"document_tracking_no",value:Zt,labelWidth:0,error:ta,onChange:function(e){Qt(e.target.value)}})))),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:"20px"}},r.a.createElement(S.a,null,"Confirm which cards have been printed properly.")),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:"10px"}},r.a.createElement(Tf,{id:"transmittal_table_list",columns:[{name:"member_card_no",title:"Account Number"},{name:"last_name",title:"Last Name"},{name:"first_name",title:"First Name"},{name:"middle_name",title:"Middle Name"},{name:"date_of_birth",title:"Date of Birth"},{name:"effectivity_date",title:"Effectivity Date"},{name:"expiry_date",title:"Expiry Date"},{name:"member_type",title:"Member Type"},{name:"gender",title:"Gender"}],rows:Q,onSearchChange:br,currentPage:Ka,onPageSizeChange:function(e){qa(e),kr(e,Ka*e)},onPageChange:function(e){Xa(e),kr(Ha,e*Ha)},onSortChange:gr,sort:Ye,limit:Ha,onFilterChange:_r,selectall:At,onSelectAll:function(e){pr(e),Bt(e)},onRowSelect:ur,selection:Lt,totalCount:Pn,disableFilter:!0,disableSearch:!0,disableSort:!0})),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:"37px"}},r.a.createElement(S.a,null,"Transmittal List per batch (PDF file) will be downloaded automatically.")),r.a.createElement(J.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center",paddingBottom:"44px"}},r.a.createElement(z.a,{id:"generate_transmittal_button","data-cy":"generate_transmittal_button",className:t.modalButtonRight,variant:"contained",color:"secondary",size:"small",disabled:0===Lt.length,onClick:function(){""===Zt.trim()?aa(!0):yr()}},"Generate Transmittal List")))),r.a.createElement(ql,{id:"success_modal",isModalOpen:Qe,message:nt,title:lt,onClose:function(){$e(!1),null!==dt?(dt(),ut(null)):fr()}}),r.a.createElement(Cl,{id:"verify-member-confirm-modal",isModalOpen:_a,modalTitle:ya,modalMessage:Sa,closeText:"Cancel",confirmText:"Proceed",onClose:function(){ha(!1)},onConfirm:function(){ha(!1),Da(!0),Dr()}}),r.a.createElement(Ql,{isOpen:ia,message:ca,variant:pa,onSnackbarClose:function(){oa(!1)}}),r.a.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:Ia,onClose:function(){Ra(!1)}}),r.a.createElement(Kf,{corporateAccountNo:u&&u.corporate_account_no?u.corporate_account_no:"",registeredCompanyName:u&&u.registered_name?u.registered_name:"",tradeCompanyName:u&&u.brand_name?u.brand_name:"",memberFields:o,data:u&&u.servicing_instructions?u.servicing_instructions:{},setSIData:function(e){var t=Object.assign({},u);t.servicing_instructions=e,p(t)},saveSIData:function(t){Da(!0);var a=u;a.servicing_instructions=t,console.log("patch client payload",a),An.patchClient(e.clientId,a).then(function(e){e&&void 0===e.error?console.log("successfully patched client"):console.log("error patching client!"),Da(!1)}).catch(function(e){Da(!1),console.log("error patching client!",e)}),dr()},anchorElement:_,handlePopoverClose:dr}))},tb=function(e){function t(e){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"getBreadcrumbs",value:function(){var e=this.props.match.params.client_id;return[{label:"Clients",url:"#/membership/clients"},{label:this.props.match.params.client_name,url:"#/membership/clients-profile/"+e},{label:"Print ID Cards",url:""}]}},{key:"render",value:function(){return r.a.createElement(eb,{caseId:this.props.match.params.case_id,clientId:this.props.match.params.client_id,clientName:this.props.match.params.client_name,breadcrumbs:this.getBreadcrumbs()})}}]),t}(r.a.Component),ab=a(331),nb=a.n(ab),rb=a(332),ib=a.n(rb),ob=a(33),lb=a.n(ob),sb=Object(y.a)({grayBg:{backgroundColor:"#F5F7FB",padding:"25px 24px"},mainContainer:{padding:"25px 24px"},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"},statusText:{fontSize:11,textTransform:"uppercase",display:"inline-block",position:"relative",borderRadius:"5px",minWidth:"90px",textAlign:"center",color:"#238064",backgroundColor:"#b7f0df",fontWeight:600,padding:"5px"},statusContainer:{position:"relative","&::after":{content:"''",position:"absolute",left:"12%",top:"57.5%",transform:"translateY(-50%)",width:"6.5px",height:"6.5px",borderRadius:"100%",backgroundColor:"#238064"}}}),cb=function(e){var t=e.buttonName,a=e.headingTitle,r=e.breadCrumbsArray,i=e.buttonFunc,o=e.layoutType,l=e.menuItemsArray,s=e.activeItems,c=e.enableButton,m=e.enableStatus,d=e.setStatus,u=sb(),p=n.useState(0),f=Object(g.a)(p,2),b=f[0],_=f[1];return n.createElement(n.Fragment,null,n.createElement("div",{className:"layout_1"===o?u.mainContainer:u.grayBg},n.createElement(J.a,{container:!0,xs:12,alignItems:"center"},n.createElement(J.a,{item:!0,xs:6},"layout_1"===o&&n.createElement(S.a,{gutterBottom:!0,className:u.subSectionTitle},r.length>0&&r.map(function(e,t){return r.length===t+1?n.createElement("b",null,e):n.createElement("span",null,e," / ")})),n.createElement(S.a,{gutterBottom:!0,className:u.sectionTitle},a),"layout_2"===o&&n.createElement("ul",{style:{padding:"0",margin:"0"}},l.length>0&&l.map(function(e,t){return n.createElement("li",{className:u.menuList},n.createElement(re.a,{className:lb()(u.menuLink,b===t?u.LinkActive:null),onClick:function(){return a=e.name,n=t,void 0!==s&&s(a),void _(n);var a,n}},e.name))}))),n.createElement(J.a,{item:!0,xs:6,className:u.alignRight},m&&""!==d?n.createElement("span",{className:u.statusContainer},n.createElement(S.a,{className:u.statusText},d)):null,c?n.createElement(z.a,{variant:"contained",color:"primary",className:u.editBtn,onClick:function(){void 0!==i&&i()}},t):""))))},mb=Object(y.a)({sideBarLists:{padding:"0 0 20px",margin:0,listStyle:"none"},sideBarLink:{color:"#272e4c",margin:"0",padding:"0 0 10px",textDecoration:"none",display:"block",fontSize:"14px","&:hover":{color:"#2C2E8E"}},sideTitle:{color:"#b7bac6",fontSize:"14px",paddingBottom:"10px",fontWeight:600},LinkActive:{color:"#2C2E8E",fontWeight:"bold",textDecoration:"underline"},disabledLink:{pointerEvents:"none",color:"#ccc"}}),db=function(e){var t=e.items,a=e.activeItems,r=Object(n.useState)("00"),i=Object(g.a)(r,2),o=i[0],l=i[1],s=mb();return n.createElement(n.Fragment,null,t.map(function(e,t){return n.createElement("ul",{className:s.sideBarLists},n.createElement("li",null,n.createElement(S.a,{className:s.sideTitle},e.title)),e.lists&&e.lists.map(function(e,r){return n.createElement("li",null,void 0!==e.label&&n.createElement(S.a,{variant:"subtitle2",style:{color:"#929292",fontSize:"12px"}},e.label),n.createElement(re.a,{id:"sidemenu_"+e.name,"data-cy":"sidemenu_"+e.name,className:lb()(s.sideBarLink,e.disabled&&s.disabledLink,o===String(t)+String(r)?s.LinkActive:null),onClick:function(){return n=e.name,i=String(t)+String(r),a(n),void l(i);var n,i}},e.name))}))}))},ub=function(e){var t=e.data,a=e.classes,i=Object(n.useState)(["","",""]),o=Object(g.a)(i,2),l=o[0],s=o[1];return console.log(t),Object(n.useEffect)(function(){if(void 0!==t&&void 0!==t.sales_channel){var e,a=t.sales_channel,n=[""];for(e in n.shift(),a)n.push(a[e]);console.log(a),s(n)}},[t]),Object(n.useEffect)(function(){console.log(l)},[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{container:!0,xs:12,spacing:3},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"role_id"},"CORPORATE ACCOUNT NO."),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.corporate_account_no)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"REGISTERED COMPANY NAME"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.registered_name)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"status"},"TRADE COMPANY NAME"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.brand_name)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"role_id"},"INDUSTRY"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.industry)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"OWNERSHIP"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.ownership)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"primary_module"},"CORPORATE TIN"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.tin_no)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"primary_module"},"SEC REGISTRATION NO."),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.sec_reg_no)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"E-VAT NO."),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.evat_no)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"ESTABLISHED (YEARS)"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.years_of_existence)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"AUTHORIZED SIGNATORY"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.authorized_signatory)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"BROKER/BDO"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&l[1])),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"BROKER COMPANY"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&l[2])),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"PREVIOUS HMO"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.prev_hmo_provider)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"CONTACT PERSON"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.authorized_signatory)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"POSITION"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.authorized_signatory_designation)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"CONTACT NO."),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.authorized_signatory_contact_no)),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(F.a,{className:a.inputLabel,htmlFor:"description"},"CONTACT EMAIL"),r.a.createElement(S.a,{className:a.viewText},void 0!==t&&t.authorized_signatory_email_address))))},pb=Object(y.a)(function(){return{listRoot:{display:"block",overflow:"hidden",backgroundColor:"#fdfdfd",padding:"1rem 0"},listItem:{display:"inline",padding:"0 1rem"},listSelectedCount:{display:"inline"},listStatus:{display:"inline"},textSelectedCount:{display:"inline",color:"#1e2071",fontWeight:"bold"},textRedStatus:{display:"inline",color:"#ff1400",textDecoration:"underline",cursor:"pointer",fontSize:".9em"},textBlueStatus:{display:"inline",color:"#00a1d6",textDecoration:"underline",cursor:"pointer",fontSize:".9em"},textGreenStatus:{display:"inline",color:"#04843f",textDecoration:"underline",cursor:"pointer",fontSize:".9em"}}}),fb=function(e){var t=pb(e),a=e.selectedCount,n=e.statusCount.active,i=e.statusCount.markedForSuspension,o=e.statusCount.markedForTermination,l=e.statusCount.suspended,s=e.statusCount.terminated,c=e.statusCount.others,m=function(t){e.onStatusActionClick&&e.onStatusActionClick(t)};return r.a.createElement(ce.a,{className:t.listRoot},r.a.createElement(me.a,{className:t.listItem},r.a.createElement(ue.a,{disableTypography:!0,primary:r.a.createElement(S.a,{className:t.textSelectedCount},0===a?"NO ITEM SELECTED":"".concat(a,1===a?" ITEM SELECTED":" ITEMS SELECTED")),className:t.listSelectedCount})),a>0&&0===c&&0===i&&0===l&&0===s&&(n>0||o>0)?r.a.createElement(me.a,{className:t.listItem},r.a.createElement(ue.a,{disableTypography:!0,primary:r.a.createElement(S.a,{className:t.textRedStatus},r.a.createElement(X.a,{icon:Z.w,style:{marginRight:"8px"}}),"Suspend"),className:t.listStatus,onClick:function(){m("Suspend")}})):null,a>0&&0===c&&0===n&&0===i&&0===o&&0===l&&s>0?r.a.createElement(me.a,{className:t.listItem},r.a.createElement(ue.a,{disableTypography:!0,primary:r.a.createElement(S.a,{className:t.textGreenStatus},r.a.createElement(X.a,{icon:Z.J,style:{marginRight:"8px"}}),"Re-activate"),className:t.listStatus,onClick:function(){m("Reactivate")}})):null,a>0&&0===c&&0===o&&0===s&&(n>0||i>0||l>0)?r.a.createElement(me.a,{className:t.listItem},r.a.createElement(ue.a,{disableTypography:!0,primary:r.a.createElement(S.a,{className:t.textRedStatus},r.a.createElement(X.a,{icon:Z.J,style:{marginRight:"8px"}}),"Terminate"),className:t.listStatus,onClick:function(){m("Terminate")}})):null,a>0&&0===c&&0===n&&0===i&&0===l&&0===s&&o>0?r.a.createElement(me.a,{className:t.listItem},r.a.createElement(ue.a,{disableTypography:!0,primary:r.a.createElement(S.a,{className:t.textGreenStatus},r.a.createElement(X.a,{icon:Z.J,style:{marginRight:"8px"}}),"Cancel Termination"),className:t.listStatus,onClick:function(){m("Cancel Termination")}})):null,a>0&&0===c&&0===n&&0===i&&0===o&&0===s&&l>0?r.a.createElement(me.a,{className:t.listItem},r.a.createElement(ue.a,{disableTypography:!0,primary:r.a.createElement(S.a,{className:t.textBlueStatus},r.a.createElement(X.a,{icon:Z.w,style:{marginRight:"8px"}}),"Lift Suspension"),className:t.listStatus,onClick:function(){m("Lift Suspension")}})):null,a>0&&0===c&&0===n&&0===o&&0===l&&0===s&&i>0?r.a.createElement(me.a,{className:t.listItem},r.a.createElement(ue.a,{disableTypography:!0,primary:r.a.createElement(S.a,{className:t.textGreenStatus},r.a.createElement(X.a,{icon:Z.w,style:{marginRight:"8px"}}),"Cancel Suspension"),className:t.listStatus,onClick:function(){m("Cancel Suspension")}})):null)},bb=[{label:"All",value:""},{label:"Active",value:"Active"},{label:"Awaiting Activation",value:"Awaiting Activation"},{label:"Cancelled",value:"Cancelled"},{label:"Disapproved",value:"Disapproved"},{label:"Expired",value:"Expired"},{label:"For Validation",value:"For Validation"},{label:"Suspended",value:"Suspended"},{label:"Terminated",value:"Terminated"}],gb=Object(Vn.a)({root:{"& div.MuiInputBase-root":{backgroundColor:"transparent"}}}),_b=Object(Vn.a)({keyboardDatePicker:{width:"100%"}}),hb=Object(Vn.a)({root:{"&.Mui-checked":{color:"#3AB77D"}}}),vb=function(e){var t=e.items,a=Object(Wn.a)(e,["items"]);return r.a.createElement(A.a,Object.assign({id:"client_members_table","data-cy":"client_members_table",variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return r.a.createElement(D.a,{key:t,value:e.value},e.label)}))},Eb=function(e){var t=e.column,a=e.filter,n=e.onFilter,i=e.filteringEnabled,o=e.classes,l=_b();if(i){if("status"===t.name){var s=bb;return r.a.createElement(qn.a,{classes:o,style:{paddingTop:"5px"}},r.a.createElement(vb,{"data-cy":t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"}_select"):"",id:t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"}_select"):"",onChange:function(e){return n(e.target.value?{value:e.target.value}:null)},name:"status",items:s,value:a?a.value:""}))}return"date_printed"===t.name||"effectivity_date"===t.name||"termination_date"===t.name?r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(_r.a,{"data-cy":t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"_picker"):"",id:t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"_picker"):"",variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",className:l.keyboardDatePicker,value:a?a.value:"",invalidDateMessage:"",onChange:function(e){var t="";if(!Object(Tn.isNil)(e)){var a=Je()(e.toISOString());!Object(Tn.isNil)(a)&&a.isValid()&&(t=a.format("MMMM D, YYYY"))}n({value:t})}}))):r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o},r.a.createElement(P.a,{"data-cy":t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"_field"):"",id:t.name?"memberlist_table_".concat(t.name.toLowerCase().replace(" ","_"),"_field"):"",classes:o,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){return n(e.target.value?{value:e.target.value}:null)},placeholder:""}))}return r.a.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:o})},yb=function(e){var t=e.style,a=e.selected,n=e.onToggle,i=e.classes,o=Object(Wn.a)(e,["style","selected","onToggle","classes"]);return r.a.createElement(qn.a,Object.assign({padding:"checkbox",style:t,classes:i},o),r.a.createElement(Jn.a,{classes:i,checked:a,onClick:function(e){e.stopPropagation(),n()}}))},xb=function(e){var t=e.value,a=e.onValueChange;return r.a.createElement(P.a,{id:"client_members_search_panel","data-cy":"client_members_search_panel",value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:r.a.createElement(Ve.a,{position:"start"},r.a.createElement(X.a,{icon:Z.E}))})},Ob=function(e){var t=e.children;return r.a.createElement(ae.a,{disableGutters:!0,children:t})},Cb=function(e){return"asc"===e.direction?r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.H}):r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.G})},Sb=function(e){var t=e.column,a=e.onSort,n=e.children,i=e.direction;return void 0!==t.sortingEnabled&&null!==t.sortingEnabled&&!1===t.sortingEnabled?r.a.createElement("span",null,t.title):r.a.createElement(Gn.a,{"data-cy":t.title?"memberlist_table_".concat(t.title.toLowerCase().replace(" ","_"),"_sort"):"",id:t.title?"memberlist_table_".concat(t.title.toLowerCase().replace(" ","_"),"_sort"):"",hideSortIcon:!0,onClick:a},n,i?r.a.createElement(Cb,{direction:i}):r.a.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.F}))},wb=function(e){var t=e.value;return""===t||void 0===t||null===t?r.a.createElement(X.a,{style:{color:"#FD5451",fontSize:"16px"},icon:Z.o}):"marked for suspension"===t.toString().toLowerCase()||"marked for termination"===t.toString().toLowerCase()?r.a.createElement("div",null,r.a.createElement(X.a,{style:{color:"#FD5451",fontSize:"13px"},icon:Z.o})," ",r.a.createElement("span",null,t)):t},kb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:wb},e))},jb=function(e){var t=e.row,a=e.value;return!0!==t.required||""!==a&&void 0!==a&&null!==a?!1!==t.required||""!==a&&void 0!==a&&null!==a?a:"N/A":r.a.createElement(X.a,{style:{color:"#FD5451",fontSize:"16px"},icon:Z.o})},Nb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:jb},e))},Db=function(e){var t=e.column,a=e.row,n=e.value,i=hb();return r.a.createElement("div",null,r.a.createElement(K.a,{control:r.a.createElement(G.a,{checked:!0===n||"true"===n,value:n,style:{padding:"5px"},className:i.root,color:"primary",onChange:function(e){console.log(e),console.log(t),console.log(a)}}),label:""}))},Tb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Db},e))},Mb=function(e){var t=e.column,a=e.row,n=t.name+"_"+a.id;return r.a.createElement("div",{id:n,onClick:function(){}},r.a.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},r.a.createElement("span",null,r.a.createElement("span",{style:{paddingRight:"10px",fontSize:"15px"}},r.a.createElement(X.a,{icon:Z.s,style:{color:"#0D5E40"}})),r.a.createElement("span",{style:{textDecoration:"underline",color:"#0D5E40"}},"Upload File"))))},Fb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Mb},e))},Pb=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation()},row:!0},[{value:"approve",label:"Approve"},{value:"for confirmation",label:"For Confirmation"}].map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{color:"primary"}),label:e.label,labelPlacement:"end"})})))},Ab=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Pb},e))},Bb=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation()},row:!0},[{value:"approve",label:"Approve"},{value:"disapprove",label:"Disapprove"},{value:"for confirmation",label:"For Confirmation"}].map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{color:"primary"}),label:e.label,labelPlacement:"end",onClick:function(e){console.log("radio button label onclick",e)},onChange:function(e){console.log("radio button label onchange",e)}})})))},Ib=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Bb},e))},Rb=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement(Zr.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation()},row:!0},[{value:"match",label:"Match"},{value:"not",label:"Not Match"},{value:"confirmation",label:"For Confirmation"}].map(function(e,t){return r.a.createElement(K.a,{key:t,value:e.value,control:r.a.createElement(Jn.a,{color:"primary"}),label:e.label,labelPlacement:"end",onClick:function(e){console.log("radio button label onclick",e)},onChange:function(e){console.log("radio button label onchange",e)}})})))},Lb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Rb},e))},Wb=function(e){var t=e.value;return r.a.createElement(vb,{items:[{name:"",value:""},{name:"Married",value:"married"},{name:"Single",value:"single"},{name:"Widowed",value:"widowed"},{name:"Annulled",value:"annulled"}],value:t})},zb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Wb},e))},Ub=function(e){var t=e.value;return r.a.createElement(vb,{items:[{name:"First Name",value:"first_name"},{name:"Middle Name",value:"middle_name"},{name:"Last Name",value:"last_name"},{name:"Birthday",value:"birthday"},{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"},{name:"Plan Type",value:"plan_type"},{name:"Type",value:"type"}],value:t})},Yb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Ub},e))},Vb=function(e){var t=e.value;return r.a.createElement(vb,{items:[{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"}],value:t})},Hb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Vb},e))},qb=function(e){var t=e.value,a=gb();return r.a.createElement(j.a,{value:t,type:"number",classes:a})},Gb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:qb},e))},Jb=function(e){var t=e.value,a=gb();return r.a.createElement(j.a,{value:t,classes:a})},Kb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Jb},e))},Xb=function(e){var t=e.value,a=t;if(a)try{a=Je()(t).format("MMM DD, YYYY")}catch(n){a=t}else a="";return a},Zb=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Xb},e))},Qb=function(e){var t=e.value,a=t;if(a)try{a=Je()(t).format("hh:mm:ss A")}catch(n){a=t}else a="";return a},$b=function(e){return r.a.createElement(Un.c,Object.assign({formatterComponent:Qb},e))},eg=function(e){var t=e.columns,a=e.formattedColumns,i=e.singleSelect,o=e.disablePaging,l=e.disableSearch,s=e.disableSelect,c=e.disableSort,m=e.disableFilter,d=e.toolbarType,u=e.columnExtensions,p=e.columnBands,f=e.id,b=e.showSelectionColumn,_=e.query,h=e.totalCount,v=e.currentPage,E=e.limit,y=e.isReset,x=Object(n.useState)([]),O=Object(g.a)(x,2),C=O[0],S=O[1],w=Object(n.useState)([]),k=Object(g.a)(w,2),j=k[0],D=k[1],T=Object(n.useState)([]),M=Object(g.a)(T,2),F=M[0],P=M[1],A=Object(n.useState)([]),B=Object(g.a)(A,2),I=B[0],R=B[1],L=Object(n.useState)(e.rows),W=Object(g.a)(L,2),z=W[0],U=W[1],Y=[];Object(n.useEffect)(function(){!0===y&&(S([]),D([]))},[y]),Object(n.useEffect)(function(){U(e.rows)},[e.rows]),Object(n.useEffect)(function(){e.onDataSelection&&e.onDataSelection(j)},[j]),Object(n.useEffect)(function(){var e=[10,25,50,100],t=[];t=h>0?e.filter(function(e){return e*v<h}):e,P(t)},[v,h]),Object(n.useEffect)(function(){},[C]),Object(n.useEffect)(function(){},[F]);var V=function(t){e.updateSorting(t),R(t)},H=function(e){var t=e.allSelected,a=e.someSelected,n=e.onToggle,i=e.style,o=e.classes,l=Object(Wn.a)(e,["allSelected","someSelected","onToggle","style","classes"]);return r.a.createElement(qn.a,Object.assign({padding:"checkbox",style:i,classes:o},l),r.a.createElement(G.a,{id:"members_table_checkbox_all","data-cy":"members_table_checkbox_all",checkedIcon:r.a.createElement(X.a,{icon:Z.i}),classes:o,checked:t=-1!==C.indexOf(v)&&!0!==a,indeterminate:0===z.length,disabled:0===z.length,onClick:function(e){if(e.stopPropagation(),n(),!1===t){var a=j.map(function(e){return e.id}),r=z.filter(function(e){if(-1===a.indexOf(e.id))return e});D(j.concat(r)),-1===C.indexOf(v)&&S([].concat(Object(Ln.a)(C),[v]))}else{var i=z.map(function(e){return e.id}),o=j.filter(function(e){if(-1===i.indexOf(e.id))return e});D(o);var l=C.filter(function(e){return e!==v});S(l)}}}))},q=function(e){var t=e.selected,a=e.onToggle,n=e.style,i=e.classes,o=e.row,l=Object(Wn.a)(e,["selected","onToggle","style","classes","row"]);return r.a.createElement(qn.a,Object.assign({padding:"checkbox",style:n,classes:i},l),r.a.createElement(G.a,{id:"client_members_checkbox_row","data-cy":"client_members_checkbox_row",checkedIcon:r.a.createElement(X.a,{icon:Z.i}),classes:i,checked:t=-1!==j.map(function(e){return e.id}).indexOf(o.id),onClick:function(e){if(e.stopPropagation(),a(),!1===t)-1===j.map(function(e){return e.id}).indexOf(o.id)&&D([].concat(Object(Ln.a)(j),[o]));else{var n=j.filter(function(e){return e.id!==o.id});D(n)}}}))};void 0!==a&&Object.keys(a).length>0&&(void 0!==a.number&&Y.push(r.a.createElement(Gb,{for:a.number})),void 0!==a.text&&Y.push(r.a.createElement(Kb,{for:a.text})),void 0!==a.system_name&&Y.push(r.a.createElement(Yb,{for:a.system_name})),void 0!==a.data_name&&Y.push(r.a.createElement(Hb,{for:a.data_name})),void 0!==a.value_name&&Y.push(r.a.createElement(zb,{for:a.value_name})),void 0!==a.required_columns&&Y.push(r.a.createElement(kb,{for:a.required_columns})),void 0!==a.radio&&Y.push(r.a.createElement(Lb,{for:a.radio})),void 0!==a.incomplete_radio&&Y.push(r.a.createElement(Ib,{for:a.incomplete_radio})),void 0!==a.disapprove_action&&Y.push(r.a.createElement(Ab,{for:a.disapprove_action})),void 0!==a.required_checkbox&&Y.push(r.a.createElement(Tb,{for:a.required_checkbox})),void 0!==a.upload_file&&Y.push(r.a.createElement(Fb,Object.assign({for:a.upload_file},e))),void 0!==a.required_cell&&Y.push(r.a.createElement(Nb,Object.assign({for:a.required_cell},e))),void 0!==a.date&&Y.push(r.a.createElement(Zb,{for:a.date})),void 0!==a.time&&Y.push(r.a.createElement($b,{for:a.time})));var J=Ob;return r.a.createElement(N.a,{id:f},r.a.createElement(zn.a,{rows:z,columns:t},Y,o?null:r.a.createElement(Un.m,{currentPage:v,onCurrentPageChange:function(t){e.onPageChange(t)},pageSize:E,onPageSizeChange:function(t){e.onPageSizeChange(t)}}),o?null:r.a.createElement(Un.b,{totalCount:h}),!l||_?r.a.createElement(Un.o,{value:_}):null,c||void 0===e.defaultSort?c?null:r.a.createElement(Un.q,{defaultSorting:[],sorting:I,onSortingChange:V}):r.a.createElement(Un.q,{defaultSorting:e.defaultSort,sorting:I,onSortingChange:V}),c?null:r.a.createElement(Un.k,{columnExtensions:e.integratedSortingColumnExtensions}),s&&b?null:r.a.createElement(Un.p,null),s?null:r.a.createElement(Un.j,null),m?null:r.a.createElement(Un.e,{defaultFilters:[],filters:void 0!==e.defaultFilter?e.defaultFilter:[],columnFilteringEnabled:e.columnFilteringEnabled,columnExtensions:e.filterExtensions,onFiltersChange:e.onFilterChange}),m?null:r.a.createElement(Un.h,{columnExtensions:e.integratedFilteringColumnExtensions}),r.a.createElement(zn.d,{columnExtensions:u,messages:{noData:e.message},rowComponent:function(t){var a=t.row,n=Object(Wn.a)(t,["row"]);return r.a.createElement(zn.d.Row,Object.assign({},n,{onClick:function(){e.onClickRow&&e.onClickRow(a)},style:{cursor:"pointer"}}))}}),s||b?b?null:r.a.createElement(zn.h,{selectByRowClick:!0,showSelectionColumn:!1,cellComponent:i?yb:q,headerCellComponent:H}):r.a.createElement(zn.h,{showSelectAll:!i,cellComponent:i?yb:q,headerCellComponent:H}),r.a.createElement(zn.g,{showSortingControls:!c,sortLabelComponent:Sb}),m?null:r.a.createElement(zn.f,{cellComponent:Eb}),p?r.a.createElement(zn.e,{columnBands:p}):null,!l||d?r.a.createElement(zn.i,{rootComponent:J}):null,l?null:r.a.createElement(zn.c,{inputComponent:xb}),o?null:r.a.createElement(zn.b,{pageSizes:F})))};eg.defaultProps={rows:[],columns:[],columnExtensions:[],integratedFilteringColumnExtensions:[],filterExtensions:[],columnBands:null,formattedColumns:{},singleSelect:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,toolbarType:null,defaultFilter:[],showSelectionColumn:!1,columnFilteringEnabled:!0,id:"table-1",totalCount:0,message:"No available data",query:"",currentPage:0,limit:0};a(963);var tg=function(e){function t(e){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"date-picker"},n.createElement(F.a,{className:"label",htmlFor:this.props.id},this.props.placeholder," ",!0===this.props.isRequired?n.createElement("span",{style:{color:"red"}},"\xa0*"):null),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,id:this.props.id,className:"text-field",variant:"inline",format:"MMM DD, YYYY",value:this.props.value,minDate:this.props.minDate?this.props.minDate:void 0,maxDate:this.props.maxDate,minDateMessage:this.props.minDateMessage?this.props.minDateMessage:void 0,onChange:function(t){e.props.onChange(t?t.toDate():null)},style:{fontSize:"16px",fontWeight:"bold"}})),this.props.error?n.createElement(R.a,{id:this.props.id+"_error",style:{color:"#E53935"}},this.props.error_message):null)}}]),t}(n.Component),ag={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},ng=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"55vw"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogNotice:{fontSize:14,fontWeight:400,color:"#000"},dialogMemberName:{fontSize:18,fontWeight:700,color:"#272E4C"},dialogMemberOverall:{fontSize:14,fontWeight:500,color:"#272E4C"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblPaperWithDeps:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},tblPaperNoDeps:{minHeight:"auto",borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},nextMemberButton:{minWidth:129,backgroundColor:"#3AB77D"},suspendButton:{minWidth:129,backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}},labelRemarks:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)}}}),rg=function(e){var t=ng(),a=e.id,i=e.isModalOpen,o=e.memberData,l=Object(n.useState)(!1),s=Object(g.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)({}),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)([]),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)(0),O=Object(g.a)(x,2),C=O[0],w=O[1],k=Object(n.useState)(!1),D=Object(g.a)(k,2),T=D[0],M=D[1],P=Object(n.useState)(!1),A=Object(g.a)(P,2),B=A[0],I=A[1],R=Object(n.useState)([]),L=Object(g.a)(R,2),W=L[0],H=L[1],X=Object(n.useState)(null),Z=Object(g.a)(X,2),Q=Z[0],$=Z[1],ee=Object(n.useState)(null),te=Object(g.a)(ee,2),ae=te[0],re=te[1],ie=Object(n.useState)([]),oe=Object(g.a)(ie,2),le=oe[0],se=oe[1],ce=Object(n.useState)(""),me=Object(g.a)(ce,2),de=me[0],ue=me[1],pe=Object(n.useState)(null),fe=Object(g.a)(pe,2),be=fe[0],ge=fe[1],_e=Object(n.useState)(!1),he=Object(g.a)(_e,2),ve=he[0],Ee=he[1],ye=Object(n.useState)(""),xe=Object(g.a)(ye,2),Oe=xe[0],Ce=xe[1],Se=Object(n.useState)(!1),we=Object(g.a)(Se,2),ke=we[0],je=we[1],Ne=Object(n.useState)(""),De=Object(g.a)(Ne,2),Te=De[0],Me=De[1],Fe=Object(n.useState)(void 0),Pe=Object(g.a)(Fe,2),Ae=Pe[0],Be=Pe[1];Object(n.useEffect)(function(){e.isModalOpen&&Ie()},[e.isModalOpen]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:return t=e.sent,_(t),a=[],e.next=8,o.map(function(e){return An.getMemberStatusActionDependents(e.id).then(function(t){return t.map(function(t){return t.principal_name=e.member_name,t})})});case 8:return n=e.sent,e.next=11,Promise.all(n);case 11:r=e.sent,r.filter(function(e){return e.length>0}).forEach(function(e){e.forEach(function(e){a.push(e)})}),H(a),u(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),u(!0);case 22:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}o.length>0&&!0===i&&function(){e.apply(this,arguments)}()},[i,C]),Object(n.useEffect)(function(){if(!0===i&&!Object(Tn.isNil)(e.maxDate)){var t=Je()(e.maxDate);if(!Object(Tn.isNil)(t)&&t.isValid()){var a=t.add(-1,"days").toDate();Be(a)}}},[e.maxDate]),Object(n.useEffect)(function(){},[C,T]),Object(n.useEffect)(function(){},[E,le]);var Ie=function(){u(!1),_({}),y([]),w(0),M(!1),I(!1),H([]),$(null),re(null),se([]),ue(""),ge(null),Ee(!1),Ce(""),je(!1),Me("")};function Re(){e.onClose&&(Ie(),e.onClose())}return r.a.createElement("div",null,r.a.createElement(U.a,{id:a,maxWidth:!1,open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},!1===d?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Suspension Details"),r.a.createElement(ne.a,{id:"client_close_button","data-cy":"client_close_button","aria-label":"close",className:t.closeButton,onClick:Re},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(K.a,{control:r.a.createElement(ap.a,{id:"client_apply_to_all","data-cy":"client_apply_to_all",checked:T,onChange:function(){M(!0!==T)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Apply to all selected members"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogNotice},"Apply Effective Start of Suspension, Effective Date of Lifting and Remarks to all selected members")),!1===T?r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogMemberName},void 0!==o[C]&&o[C].member_name," ","(",void 0!==o[C]&&o[C].member_type,")"),r.a.createElement(S.a,{className:t.dialogMemberOverall},"".concat(!1===T?C+1:o.length," / ").concat(o.length," members to suspend"))):null,r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(tg,{"data-cy":"client_member_suspension_start_picker",id:"client_member_suspension_start_picker",placeholder:"Effective Start of Suspension",value:Q,error:ve,error_message:Oe,minDate:new Date,maxDate:Ae,onChange:function(e){if(e){var t=new Date;t.setDate(e.getDate()+1),Ae&&t.getTime()>Ae.getTime()?ge(Ae):ge(t)}$(e),Ee(!1),Ce("")},isRequired:!0})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(tg,{"data-cy":"client_member_suspension_lift_picker",id:"client_member_suspension_lift_picker",placeholder:"Effective Date of Lifting",value:ae,error:ke,error_message:Te,minDate:be,maxDate:Ae,minDateMessage:"Date of lifting should not be before start of suspension.",onChange:function(e){re(e),je(!1),Me(""),I(!1)},isRequired:!0}),r.a.createElement(K.a,{control:r.a.createElement(G.a,{id:"client_member_checkbox_blank","data-cy":"client_member_checkbox_blank",checked:B,onChange:function(){!0===B?I(!1):(I(!0),re(null),je(!1),Me(""))},color:"primary"}),label:"Leave this blank for now"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.tblTitle},"Dependents")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:W.length>0?t.tblPaperWithDeps:t.tblPaperNoDeps},r.a.createElement(Ri.a,{"data-cy":"client_member_suspension_dependents_table",id:"client_member_suspension_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,!1===T?r.a.createElement(qn.a,{style:{width:"5%"}}):null,r.a.createElement(qn.a,{style:{width:"40%"}},"Member Name"),r.a.createElement(qn.a,{style:!1===T?{width:"25%"}:{width:"30%"}},"Relationship"),r.a.createElement(qn.a,{style:{width:"30%"}},"Status"))),r.a.createElement(Wi.a,null,W.length>0?W.map(function(e,t){return r.a.createElement(Ii.a,{key:t},!1===T?r.a.createElement(qn.a,{style:{width:"5%"}},r.a.createElement(G.a,{id:"client_member_status_check","data-cy":"client_member_status_check",style:ag,disabled:"Active"!==e.member_status,indeterminate:"Active"!==e.member_status,checked:le.includes(e._id),onChange:function(){!function(e){if(le.includes(e))se(le.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(le);t.push(e),se(t)}}(e._id)}})):null,r.a.createElement(qn.a,{style:{width:"40%"}},"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.last_name)),r.a.createElement(qn.a,{style:!1===T?{width:"25%"}:{width:"30%"}},e.relationship_to_principal),r.a.createElement(qn.a,{style:{width:"30%"}},e.member_status))}):r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:5},"No enrolled dependents")))))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:t.labelRemarks,htmlFor:"member_suspension_remarks_field"},"Remarks"),r.a.createElement(j.a,{"data-cy":"client_member_suspension_remarks_field",id:"client_member_suspension_remarks_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:de,onChange:function(e){var t=e.target.value;ue(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"client_member_suspension_cancel_btn",id:"client_member_suspension_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:Re},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"client_member_suspension_btn",id:"client_member_suspension_btn",className:C!==o.length-1&&!1===T?t.nextMemberButton:t.suspendButton,variant:"contained",color:"primary",onClick:C!==o.length-1&&!1===T?function(){if(null===Q)Ee(!0),Ce("Start date is required.");else if(!1===B&&null===ae)je(!0),Me("Lift date is required");else{var e=[];e.push(o[C].id),le.length>0&&le.forEach(function(t){e.push(t)});var t={};void 0!==o[C].member_id&&null!==o[C].member_id?t.member_id=o[C].member_id:t.member_id="None",void 0!==o[C].member_name&&null!==o[C].member_name?t.member_name=o[C].member_name:t.member_name="None",void 0!==o[C].corporates&&null!==o[C].corporates?t.corporates=o[C].corporates:t.corporates="None";var a={memberIds:e,suspension_start_date:Q,suspension_lift_date:null!==ae?ae:void 0,remarks:de,suspension_started_by:b.userName,user_id:b.userId,user_name:b.userName,apply_to_all:!1,memberIdsForDisplay:[t.member_id],memberNamesForDisplay:[t.member_name],memberCorporatesForDisplay:[t.corporates]};y([].concat(Object(Ln.a)(E),[a])),$(null),re(null),I(!1),se([]),ue(""),w(++C)}}:function(){if(null===Q)Ee(!0),Ce("Start date is required.");else if(!1===B&&null===ae)je(!0),Me("Lift date is required");else{var t=[],a=[],n=[],r=[],i=[];!1===T?(t=E,a.push(o[C].id),le.length>0&&le.forEach(function(e){a.push(e)}),void 0!==o[C].member_id&&null!==o[C].member_id?n.push(o[C].member_id):n.push("None"),void 0!==o[C].member_name&&null!==o[C].member_name?r.push(o[C].member_name):r.push("None"),void 0!==o[C].corporates&&null!==o[C].corporates?i.push(o[C].corporates):i.push("None")):(a=o.map(function(e){return e.id}),n=o.map(function(e){return void 0!==e.member_id||null!==e.member_id?e.member_id:"None"}),r=o.map(function(e){return void 0!==e.member_name||null!==e.member_name?e.member_name:"None"}),i=o.map(function(e){return void 0!==e.corporates||null!==e.corporates?e.corporates:"None"}));var l={memberIds:a,suspension_start_date:Q,suspension_lift_date:null!==ae?ae:void 0,remarks:de,suspension_started_by:b.userName,user_id:b.userId,user_name:b.userName,apply_to_all:T,memberIdsForDisplay:n,memberNamesForDisplay:r,memberCorporatesForDisplay:i};t.push(l),e.onStatusAction&&(e.onStatusAction(t,T),Re())}}},C!==o.length-1&&!1===T?"Next Member":"Suspend")))))))},ig=Object(y.a)(function(e){return{dialog:{align:"center",justify:"center",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingBottom:"1rem"},tblPaper:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},suspendButton:{minWidth:129,backgroundColor:"#FD5451"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),og=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),lg=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),sg=function(e){var t=ig(),a=e.id,i=e.isModalOpen,o=e.isApplyToAll,l=e.memberData,s=Object(n.useState)([]),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)([]),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(0),h=Object(g.a)(_,2),v=h[0],E=h[1];function y(){e.onClose&&e.onClose()}return Object(n.useEffect)(function(){if(!0===i)if(l.length>0)if(!0===o)l.forEach(function(e){var t=e.memberIdsForDisplay,a=e.memberNamesForDisplay,n=e.memberCorporatesForDisplay,r=void 0!==e.suspension_lift_date?Je()(e.suspension_lift_date).format("MMM DD, YYYY"):"Not set";E(t.length);var i=t.map(function(t,i){return{member_id:t,member_name:a[i],corporates:n[i],suspension_start_date:Je()(e.suspension_start_date).format("MMM DD, YYYY"),suspension_lift_date:r}});b(i),delete e.memberIdsForDisplay,delete e.memberNamesForDisplay,delete e.memberCorporatesForDisplay,d([e])});else{E(l.length);var e=l.map(function(e){var t=e.memberIdsForDisplay,a=e.memberNamesForDisplay,n=e.memberCorporatesForDisplay,r=void 0!==e.suspension_lift_date?Je()(e.suspension_lift_date).format("MMM DD, YYYY"):"Not set";return{member_id:t[0],member_name:a[0],corporates:n[0],suspension_start_date:Je()(e.suspension_start_date).format("MMM DD, YYYY"),suspension_lift_date:r}});b(e);var t=l.map(function(e){return delete e.memberIdsForDisplay,delete e.memberNamesForDisplay,delete e.memberCorporatesForDisplay,e});d(t)}else console.log("no data from Member Suspension Modal")},[i]),Object(n.useEffect)(function(){},[f]),Object(n.useEffect)(function(){},[m]),r.a.createElement(U.a,{id:a,maxWidth:"md",open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Membership Suspension"),r.a.createElement(ne.a,{"data-cy":"client_member_suspension_conmod_close_btn",id:"client_member_suspension_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:y},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogSecondTitle},"Are you sure you want to suspend the membership of the following"," ",r.a.createElement("span",{className:t.boldText},v," member",v>1?"s":null),"? You can cancel or lift this suspension later on.")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaper},r.a.createElement(Ri.a,{"data-cy":"member_suspension_conmod_dependents_table",id:"member_suspension_conmod_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"25%"}},"Member ID"),r.a.createElement(qn.a,{style:{width:"25%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"20%"}},"Corporation"),r.a.createElement(qn.a,{style:{width:"15%"}},"Effective Start of Suspension"),r.a.createElement(qn.a,{style:{width:"15%"}},"Effective Date of Lifting"))),r.a.createElement(Wi.a,null,f.length>0?f.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"25%"}},e.member_id),r.a.createElement(qn.a,{style:{width:"25%"}},e.member_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.corporates),r.a.createElement(qn.a,{style:{width:"15%"}},e.suspension_start_date),r.a.createElement(qn.a,{style:{width:"15%"}},e.suspension_lift_date))}):null)))))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(lg,{"data-cy":"client_member_suspension_conmod_cancel_btn",id:"client_member_suspension_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:y},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(og,{"data-cy":"client_member_suspension_conmod_btn",id:"client_member_suspension_conmod_btn",className:t.suspendButton,variant:"contained",color:"primary",onClick:function(){e.onConfirmAction&&(e.onConfirmAction(m),y())}},"Suspend")))))};function cg(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function mg(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cg(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cg(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}sg.defaultProps={id:"confirm_member_suspension_modal",isModalOpen:!1};var dg=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",width:"100%",height:400},dialogTitle:{paddingTop:e.spacing(4)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogAction:{paddingTop:e.spacing(8),paddingBottom:e.spacing(4)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},nextMemberButton:{minWidth:129,backgroundColor:"#3AB77D"},terminateButton:{minWidth:129,backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}},labelRemarks:{fontSize:"12px",paddingBottom:e.spacing(1),color:"#272E4C"},labelSource:{fontSize:"12px",color:"#272E4C",padding:"2.75px 20px 0 0"},memberName:{fontSize:"13px",paddingBottom:e.spacing(2),fontWeight:600},prevButtonContainer:{display:"flex",alignItems:"center","&:hover":{cursor:"pointer",textDecoration:"underline"}},prevIcon:{},prevButton:{fontSize:"12px",fontWeight:600,paddingLeft:"10px"}}}),ug=function(e){var t=dg(),a=n.useState(!0),r=Object(g.a)(a,2),i=r[0],o=r[1],l=n.useState(0),s=Object(g.a)(l,2),c=s[0],m=s[1],d=n.useState([]),u=Object(g.a)(d,2),p=u[0],f=u[1],b=n.useState({termination_date:Je()().toISOString(),endorsed_date:Je()().toISOString(),endorsed_by:"",endorser_name:"",endorser_email:"",channel:"",reason:"",ticket_no:"",source:"Internal",terminated_by:""}),_=Object(g.a)(b,2),h=_[0],v=_[1];console.log("memberData",e.memberData),n.useEffect(function(){ka.StorageService("user_data","full_name").then(function(e){v(mg({},h,{terminated_by:e.result}))}).catch(function(e){return console.log(e),!1})},[]);var E=function(e,t){var a=p;a.length>0&&e+1<=a.length?a.map(function(t,n){console.log(t),n===e&&(a.splice(n,1),a.splice(n,0,h))}):a.push(h),f(a),"submit"===t?y(a):a[t]?v(a[t]):v(mg({},h,{termination_date:Je()().toISOString(),endorsed_date:Je()().toISOString(),endorsed_by:"",endorser_name:"",endorser_email:"",channel:"",reason:"",ticket_no:"",source:"Internal"}))},y=function(t){var a={data:t,principal:[]},n=[],r=[];a.data.map(function(e){e.channel=e.channel?e.channel.label:"",e.endorsed_by=e.endorsed_by.value,e.reason=e.reason.value}),e.memberData.length>0&&e.memberData.map(function(e){n.push(e.id),r.push({name:e.member_name,id:e.id})}),a.principal=r,i&&(a.data=t[c],a.data.memberIds=n,a.data=[a.data]),console.log(a),e.onSubmit(a),e.onClose()};return n.createElement(U.a,{id:e.id,maxWidth:"xs",open:e.isModalOpen,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Termination Details"),n.createElement(ne.a,{id:"client_close_button","data-cy":"client_close_button","aria-label":"close",className:t.closeButton,onClick:function(){e.onClose()}},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{container:!0,spacing:2},e.memberData&&e.memberData.length>1?n.createElement(J.a,{item:!0,xs:12},n.createElement(K.a,{control:n.createElement(ap.a,{checked:i,onChange:function(e){return o(e.target.checked)},color:"primary"}),label:"Apply to all selected members"})):null,!i||e.memberData&&1===e.memberData.length?n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:t.memberName},e.memberData&&e.memberData[c].member_name)):null),n.createElement(J.a,{container:!0,spacing:2},n.createElement(J.a,{item:!0,xs:12},n.createElement(Zr.a,{row:!0,value:h.source,onChange:function(e){v(mg({},h,{source:e.target.value}))}},n.createElement(S.a,{className:t.labelSource},"Source"),n.createElement(K.a,{value:"Internal",control:n.createElement(Jn.a,{color:"primary"}),label:"Internal"}),n.createElement(K.a,{value:"External",control:n.createElement(Jn.a,{color:"primary"}),label:"External"}))),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Date of Termination"),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,value:h.termination_date,error:!1,format:"MMMM DD, YYYY",variant:"dialog",inputVariant:"outlined",invalidDateMessage:"",minDate:new Date,fullWidth:!0,onChange:function(e){v(mg({},h,{termination_date:Je()(e).toISOString()}))}}))),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Endorsed Date"),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,value:h.endorsed_date,error:!1,format:"MMMM DD, YYYY",variant:"dialog",inputVariant:"outlined",invalidDateMessage:"",fullWidth:!0,onChange:function(e){v(mg({},h,{endorsed_date:Je()(e).toISOString()}))}}))),n.createElement(J.a,{item:!0,xs:6},"Internal"===h.source?n.createElement(n.Fragment,null,n.createElement(F.a,{className:t.labelRemarks},"Endorsed by"),n.createElement(j.a,{value:h.endorsed_by?h.endorsed_by.label:"",error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){v(mg({},h,{endorsed_by:{value:e.target.value,label:e.target.value}}))}})):n.createElement(Wl,{id:"client_member_data_endorsedby",labelSize:"small",options:[{value:"Client",label:"Client"},{value:"Broker",label:"Broker"}],label:"Endorsed by",value:h.endorsed_by?h.endorsed_by:"",onChange:function(e){v(mg({},h,{endorsed_by:e}))},error:!1,error_message:""})),n.createElement(J.a,{item:!0,xs:6},n.createElement(Wl,{id:"client_member_data_sentvia",labelSize:"small",options:[{value:"Email",label:"Email"},{value:"Ticket",label:"Ticket"},{value:"Portal",label:"Portal"},{value:"Fax",label:"Fax"}],label:"Sent via",value:h.channel?h.channel:"",onChange:function(e){console.log(e),v(mg({},h,{channel:e}))},error:!1,error_message:""})),"External"===h.source?n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Person who endorsed"),n.createElement(j.a,{value:h.endorser_name,error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){v(mg({},h,{endorser_name:e.target.value}))}})),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Endorser email"),n.createElement(j.a,{value:h.endorser_email,error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){v(mg({},h,{endorser_email:e.target.value}))}}))):null,n.createElement(J.a,{item:!0,xs:6},n.createElement(Wl,{id:"client_member_data_reason",labelSize:"small",options:[{value:"Death",label:"Death"},{value:"Resignation",label:"Resignation"},{value:"Non - affiliation",label:"Non - affiliation"},{value:"Enrollment to other HMO",label:"Enrollment to other HMO"},{value:"Other",label:"Other"}],label:"Reason",value:h.reason?h.reason:"",onChange:function(e){v(mg({},h,{reason:e}))},error:!1,error_message:""})),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Ticket Number"),n.createElement(j.a,{value:h.ticket_no?h.ticket_no:"",error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){v(mg({},h,{ticket_no:e.target.value}))}}))),0!==c?n.createElement(J.a,{container:!0,spacing:2},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:t.prevButtonContainer,onClick:function(){E(c,c-1),m(c-1)}},n.createElement(X.a,{size:"1x",icon:Z.j,className:t.prevIcon}),n.createElement("span",{className:t.prevButton},"Prev Member")))):null),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{className:t.cancelButton,variant:"contained",color:"primary",onClick:function(){return e.onClose()}},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},i||e.memberData&&1===e.memberData.length||c+1===e.memberData.length?n.createElement(z.a,{className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){return E(c,"submit")}},"Submit"):n.createElement(z.a,{className:t.nextMemberButton,variant:"contained",color:"primary",onClick:function(){E(c,c+1),m(c+1)}},"Next Member")))))},pg=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"55vw"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogNotice:{fontSize:14,fontWeight:400,color:"#000"},dialogMemberName:{fontSize:18,fontWeight:700,color:"#272E4C"},dialogMemberOverall:{fontSize:14,fontWeight:500,color:"#272E4C"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblPaperMembers:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},tblPaperDependents:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0,marginBottom:50},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},menuLink:{color:"#272E4C",display:"block",fontSize:"1.10em",textDecoration:"underline",cursor:"pointer","&:hover":{color:"#3ab77d"}},menuBackLink:{display:"flex",alignItems:"center",marginBottom:"2.5rem",cursor:"pointer","&:hover":{textDecoration:"underline"}},menuBack:{color:"#272E4C",display:"block",fontSize:".8em",fontWeight:"bold",marginLeft:"8px"},princpalTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600},noDependentsLink:{color:"#929292",display:"block",fontSize:"1.10em"},labelReason:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)}}}),fg=function(e){var t=pg(),a=e.id,i=e.isModalOpen,o=e.memberData,l=e.clientData,s=Object(n.useState)(!1),d=Object(g.a)(s,2),u=d[0],p=d[1],f=Object(n.useState)({}),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)({count:0}),E=Object(g.a)(v,2),y=E[0],x=E[1],O=Object(n.useState)([]),C=Object(g.a)(O,2),w=C[0],k=C[1],D=Object(n.useState)({}),T=Object(g.a)(D,2),M=T[0],P=T[1],A=Object(n.useState)("Cancel Termination"),B=Object(g.a)(A,2),I=B[0],R=B[1],L=Object(n.useState)(""),W=Object(g.a)(L,2),H=W[0],G=W[1];Object(n.useEffect)(function(){e.isModalOpen&&K()},[e.isModalOpen]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t,a,n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:return t=e.sent,h(t),a=[],n=[],e.next=9,o.map(function(e){return An.getMemberStatusActionDependents(e.id).then(function(t){return t.map(function(t){return t.principal_id=e.id,t})})});case 9:return r=e.sent,e.next=12,Promise.all(r);case 12:i=e.sent,i.filter(function(e){return e.length>0}).forEach(function(e){e.forEach(function(e){a.push(e),"marked for termination"===e.member_status.toString().toLowerCase()&&n.push(e)})}),x({count:n.length}),k(a),p(!0),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),p(!0);case 24:case"end":return e.stop()}},e,null,[[0,20]])}))).apply(this,arguments)}o.length>0&&!0===i&&function(){e.apply(this,arguments)}()},[i]),Object(n.useEffect)(function(){},[M]);var K=function(){p(!1),h({}),x({count:0}),k([]),P({}),R("Cancel Termination"),G("")};function Q(){e.onClose&&e.onClose()}return r.a.createElement("div",null,r.a.createElement(U.a,{id:a,maxWidth:!1,open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},!1===u?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,"Cancel Termination"==I?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Cancelling of Termination"),r.a.createElement(ne.a,{id:"client_close_button","data-cy":"client_close_button","aria-label":"close",className:t.closeButton,onClick:Q},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogNotice},r.a.createElement("span",null,"Are you sure you want to cancel the termination of"," ",r.a.createElement("b",null,o.length," principal",o.length>1?"s":null," ",y.count>0?r.a.createElement("span",null,"and ",y.count," dependent",y.count>1?"s":null):null," ","in ",l.brand_name),"? Member(s) will continue to have their benefits coverage."))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaperMembers},r.a.createElement(Ri.a,{"data-cy":"client_cancel_termination_dependents_table",id:"client_cancel_termination_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"40%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"30%"}},"Termination Date"),r.a.createElement(qn.a,{style:{width:"30%"}},"Dependents"))),r.a.createElement(Wi.a,null,o.length>0?o.map(function(e,a){return r.a.createElement(Ii.a,{key:a},r.a.createElement(qn.a,{style:{width:"40%"}},"".concat(e.member_name)),r.a.createElement(qn.a,{style:{width:"30%"}},""!==e.member_termination.termination_date?Je()(e.member_termination.termination_date).format("MMM DD, YYYY"):"Not set"),r.a.createElement(qn.a,{style:{width:"30%"}},w.length>0&&-1!==w.map(function(e){return e.principal_id}).indexOf(e.id)?r.a.createElement(re.a,{onClick:function(){return function(e,t,a){var n=w.filter(function(t){return t.principal_id===e});P({name:t,type:a,dependents:n}),R("View Dependents")}(e.id,e.member_name,e.member_type)},className:t.menuLink},"View Dependents"):r.a.createElement("span",{className:t.noDependentsLink},"No Dependents")))}):r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:5},"No available data")))))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:t.labelReason,htmlFor:"member_suspension_reason_field"},"Reason"),r.a.createElement(j.a,{"data-cy":"client_cancel_termination_reason_field",id:"client_cancel_termination_reason_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:H,onChange:function(e){var t=e.target.value;G(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"client_cancel_termination_cancel_btn",id:"client_cancel_termination_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:Q},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"client_cancel_termination_btn",id:"client_cancel_termination_btn",variant:"contained",color:"primary",onClick:function(){var t=[];o.forEach(function(e){console.log("marked member",e),t.push(e.id)}),w.length>0&&w.forEach(function(e){console.log("marked dependent",e),"marked for termination"===e.member_status.toString().toLowerCase()&&t.push(e._id)});var a={memberIds:t,remarks:""!==H?H:void 0,username:_.userName};e.onStatusAction&&(e.onStatusAction(a),Q())}},"Cancel Termination"))))):null,"View Dependents"==I?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",null,r.a.createElement("span",{className:t.menuBackLink,onClick:function(){R("Cancel Termination")}},r.a.createElement(X.a,{size:"1x",icon:Z.j}),r.a.createElement("span",{className:t.menuBack},"Back"))),r.a.createElement("span",{className:t.princpalTitle},M.name,"\xa0","(",M.type,")"),r.a.createElement(ne.a,{id:"client_close_button","data-cy":"client_close_button","aria-label":"close",className:t.closeButton,onClick:Q},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaperDependents},r.a.createElement(Ri.a,{"data-cy":"client_cancel_termination_dependents_table",id:"client_cancel_termination_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"40%"}},"Dependent Name"),r.a.createElement(qn.a,{style:{width:"30%"}},"Relationship"),r.a.createElement(qn.a,{style:{width:"30%"}},"Status"))),r.a.createElement(Wi.a,null,M.dependents.map(function(e){return r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"40%"}},"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.lastname_name)),r.a.createElement(qn.a,{style:{width:"30%"}},e.relationship_to_principal),r.a.createElement(qn.a,{style:{width:"30%"}},e.member_status))})))))))):null)))},bg=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},hmodependentsbox:{height:175,borderRadius:0,overflow:"auto",boxShadow:"0px 3px 6px #272E4C19",padding:0},hmodependentsbox_link:{color:"rgb(39, 46, 76)"},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",maxWidth:500},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"680px",width:"auto"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},contentText:{fontWeight:700},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},terminateButton:{minWidth:129,backgroundColor:"#FD5451"},previousButton:{minWidth:120,fontWeight:600},nextButton:{minWidth:130,fontWeight:600},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tab:{textAlign:"left",alignItems:"left"},error:{marginTop:4,fontSize:"10px",color:"#FF0000"},prevButtonContainer:{display:"flex",alignItems:"center","&:hover":{cursor:"pointer",textDecoration:"underline"}},prevIcon:{},prevButton:{fontSize:"12px",fontWeight:600,paddingLeft:"10px"}}}),gg=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}}})(z.a),_g=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),hg=function(e){var t=bg(),a=n.useState(!1),r=Object(g.a)(a,2),i=r[0],o=r[1],l=n.useState(""),s=Object(g.a)(l,2),c=s[0],m=s[1],d=n.useState([]),u=Object(g.a)(d,2),p=u[0],f=u[1];console.log(e.clientData);return n.createElement(U.a,{maxWidth:!1,open:e.isModalOpen,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},i?n.createElement(S.a,{className:t.prevButtonContainer,onClick:function(){o(!1)}},n.createElement(X.a,{size:"1x",icon:Z.j,className:t.prevIcon}),n.createElement("span",{className:t.prevButton},"Back")):n.createElement("div",{className:t.dialogFirstTitle},"Confirm Membership Termination"),n.createElement("div",{className:t.dialogSecondTitle}),n.createElement(ne.a,{"data-cy":"terminate_member_conmod_close_btn",id:"terminate_member_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:e.onClose},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{item:!0,xs:12},i?n.createElement(S.a,null,c," (Principal)"):n.createElement(S.a,null,"Are you sure you want to terminate the membership of the following members in ",n.createElement("b",null,e.clientData[0]?e.clientData[0].corporates:""),"? These members and their dependents will no longer eligible to any benefits in this contract."))),n.createElement(V.a,{className:t.dialogContent},n.createElement("div",{style:{paddingBottom:"1rem"}}),n.createElement(N.a,{className:t.hmodependentsbox},n.createElement(Ri.a,{size:"small"},n.createElement(Li.a,null,i?n.createElement(Ii.a,null,n.createElement(qn.a,null,"Dependent Name"),n.createElement(qn.a,null,"Relationship"),n.createElement(qn.a,null,"Status")):n.createElement(Ii.a,null,n.createElement(qn.a,null,"Principal Name"),n.createElement(qn.a,null,"Termination Date"),n.createElement(qn.a,null," "))),n.createElement(Wi.a,null,i?p.length>0?p.map(function(e,a){return n.createElement(Ii.a,{key:a},n.createElement(qn.a,{component:"th",scope:"row"},n.createElement(se.b,{to:"#",className:t.hmodependentsbox_link},"".concat(e.first_name," ").concat(e.middle_name.charAt(1)," ").concat(e.last_name))),n.createElement(qn.a,null,e.relationship_to_principal),n.createElement(qn.a,null,e.member_status))}):n.createElement(Ii.a,null,n.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:3},"No enrolled dependents")):e.terminationData&&e.terminationData.principal&&e.terminationData.principal.length>0&&e.terminationData.principal.map(function(a,r){return n.createElement(Ii.a,{key:r},n.createElement(qn.a,{component:"th",scope:"row"},a.name),n.createElement(qn.a,null,Je()(e.terminationData.length>1?e.terminationData[r].termination_date:e.terminationData.termination_date).format("MMMM DD, YYYY")),n.createElement(qn.a,null,n.createElement(se.b,{to:"#",onClick:function(){!function(e){m(e.name),o(!0),An.viewMemberDependents(e.id).then(function(e){f(e)}).catch(function(e){console.log(e)})}(a)},className:t.hmodependentsbox_link},"View Dependents")))}))))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(_g,{"data-cy":"terminate_member_conmod_cancel_btn",id:"terminate_member_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:e.onClose},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(gg,{"data-cy":"terminate_member_conmod_btn",id:"terminate_member_conmod_btn",className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){e.onTerminate(),e.onClose()}},"Terminate")))))};hg.defaultProps={isModalOpen:!1};var vg={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},Eg=Object(y.a)(function(e){return{dialog:{align:"center",justify:"center",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingBottom:"1rem"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblPaperWithDeps:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},tblPaperNoDeps:{minHeight:"auto",borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},cancelSuspensionButton:{minWidth:129,backgroundColor:"#3AB77D"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},labelRemarks:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)}}}),yg=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#3AB77D","&:hover":{backgroundColor:"#2e9565"}}})(z.a),xg=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Og=function(e){var t=Eg(),a=e.id,i=e.isModalOpen,o=e.memberData,l=Object(n.useState)(!1),s=Object(g.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)({}),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)([]),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)([]),O=Object(g.a)(x,2),C=O[0],w=O[1],k=Object(n.useState)(""),D=Object(g.a)(k,2),T=D[0],M=D[1],P=Object(n.useState)(0),A=Object(g.a)(P,2),B=A[0],I=A[1];Object(n.useEffect)(function(){e.isModalOpen&&R()},[e.isModalOpen]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:return t=e.sent,_(t),a=[],e.next=8,o.map(function(e){return An.getMemberStatusActionDependents(e.id).then(function(t){return t.map(function(t){return t.principal_name=e.member_name,t})})});case 8:return n=e.sent,e.next=11,Promise.all(n);case 11:r=e.sent,r.filter(function(e){return e.length>0}).forEach(function(e){e.forEach(function(e){a.push(e)})}),y(a),u(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),u(!0);case 22:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}o.length>0&&!0===i&&(I(o.length),function(){e.apply(this,arguments)}())},[i]);var R=function(){u(!1),_({}),y([]),w([]),M(""),I(0)};function L(){e.onClose&&e.onClose()}return r.a.createElement("div",null,r.a.createElement(U.a,{id:a,maxWidth:"sm",open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},!1===d?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Cancelling of Suspension"),r.a.createElement(ne.a,{"data-cy":"cancel_suspension_modal_close_btn",id:"cancel_suspension_modal_close_btn","aria-label":"close",className:t.closeButton,onClick:L},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogSecondTitle},"Are you sure you want to cancel the suspension of "," ",r.a.createElement("span",{className:t.boldText},B," member",B>1?"s":null),"? Member(s) will continue to have their benefits coverage.")),E.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.tblTitle},"Dependents")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:E.length>0?t.tblPaperWithDeps:t.tblPaperNoDeps},r.a.createElement(Ri.a,{"data-cy":"cancel_suspension_dependents_table",id:"cancel_suspension_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"5%"}}),r.a.createElement(qn.a,{style:{width:"25%"}},"Name"),r.a.createElement(qn.a,{style:{width:"25%"}},"Relationship"),r.a.createElement(qn.a,{style:{width:"25%"}},"Principal"),r.a.createElement(qn.a,{style:{width:"20%"}},"Status"))),r.a.createElement(Wi.a,null,E.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"5%"}},r.a.createElement(G.a,{style:vg,disabled:"marked for suspension"!==e.member_status.toString().toLowerCase(),indeterminate:"marked for suspension"!==e.member_status.toString().toLowerCase(),checked:C.includes(e._id),onChange:function(){!function(e){if(C.includes(e))w(C.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(C);t.push(e),w(t)}}(e._id)}})),r.a.createElement(qn.a,{style:{width:"25%"}},"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.last_name)),r.a.createElement(qn.a,{style:{width:"25%"}},e.relationship_to_principal),r.a.createElement(qn.a,{style:{width:"25%"}},e.principal_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.member_status))})))))):null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:t.labelRemarks,htmlFor:"cancel_suspension_remarks_field"},"Remarks"),r.a.createElement(j.a,{"data-cy":"cancel_suspension_remarks_field",id:"cancel_suspension_remarks_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:T,onChange:function(e){var t=e.target.value;M(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(xg,{"data-cy":"cancel_suspension_modal_cancel_btn",id:"cancel_suspension_modal_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:L},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(yg,{"data-cy":"cancel_suspension_modal_btn",id:"cancel_suspension_modal_btn",className:t.cancelSuspensionButton,variant:"contained",color:"primary",onClick:function(){var t=[];o.forEach(function(e){t.push(e.id)}),C.length>0&&C.forEach(function(e){t.push(e)});var a={memberIds:t,remarks:""!==T?T:void 0,username:b.userName};e.onStatusAction&&(e.onStatusAction(a),L())}},"Cancel Suspension")))))))};Og.defaultProps={id:"cancel_suspension_modal",isModalOpen:!1};a(964);var Cg=function(e){function t(e){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isDisabled;return n.createElement("div",{className:"date-picker"},n.createElement(F.a,{className:"label",htmlFor:this.props.id},this.props.placeholder," ",!0===this.props.isRequired?n.createElement("span",{style:{color:"red"}},"\xa0*"):null),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,id:this.props.id,className:"text-field",variant:"inline",format:"MMM DD, YYYY",value:this.props.value,minDate:this.props.minDate?this.props.minDate:void 0,maxDate:this.props.maxDate,minDateMessage:this.props.minDateMessage?this.props.minDateMessage:void 0,onChange:function(t){e.props.onChange(t?t.toDate():null)},style:{fontSize:"16px",fontWeight:"bold"},disabled:void 0!==t&&t})),this.props.error?n.createElement(R.a,{id:this.props.id+"_error",style:{color:"#E53935"}},this.props.error_message):null)}}]),t}(n.Component),Sg={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},wg=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",paddingBottom:e.spacing(3),minWidth:"250px",width:"55vw"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C"},dialogNotice:{fontSize:14,fontWeight:400,color:"#000"},dialogMemberName:{fontSize:18,fontWeight:700,color:"#272E4C"},dialogMemberOverall:{fontSize:14,fontWeight:500,color:"#272E4C"},suspensionDateLabel:{fontSize:14,fontWeight:500,color:"rgb(132,132,132)"},suspensionDateValue:{fontSize:14,fontWeight:"bold",color:"#272E4C"},tblTitle:{fontSize:14,fontWeight:600,color:"rgba(39, 49, 76, 1)"},tblSubtitle:{fontSize:12,fontWeight:400,color:"rgba(39, 49, 76, 1)"},tblPaperWithDeps:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},tblPaperNoDeps:{minHeight:"auto",borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},nextMemberButton:{minWidth:129,backgroundColor:"#3AB77D"},liftSuspensionButton:{minWidth:129,backgroundColor:"#3AB77D","&:hover":{backgroundColor:"#2e9565"}},labelRemarks:{fontSize:"14px",color:"#272E4C",fontWeight:600,paddingTop:e.spacing(2)}}}),kg=function(e){var t=wg(),a=e.id,i=e.isModalOpen,o=e.memberData,l=Object(n.useState)(!1),s=Object(g.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)({}),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)([]),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)([]),O=Object(g.a)(x,2),C=O[0],w=O[1],k=Object(n.useState)(0),D=Object(g.a)(k,2),T=D[0],M=D[1],P=Object(n.useState)(!1),A=Object(g.a)(P,2),B=A[0],I=A[1],R=Object(n.useState)([]),L=Object(g.a)(R,2),W=L[0],H=L[1],X=Object(n.useState)(null),Z=Object(g.a)(X,2),Q=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(g.a)(ee,2),ae=te[0],re=te[1],ie=Object(n.useState)(""),oe=Object(g.a)(ie,2),le=oe[0],se=oe[1],ce=Object(n.useState)(!1),me=Object(g.a)(ce,2),de=me[0],ue=me[1],pe=Object(n.useState)(""),fe=Object(g.a)(pe,2),be=fe[0],ge=fe[1],_e=Object(n.useState)(void 0),he=Object(g.a)(_e,2),ve=he[0],Ee=he[1];Object(n.useEffect)(function(){e.isModalOpen&&(ye(),xe(o))},[e.isModalOpen]),Object(n.useEffect)(function(){!0===i&&$(!1===B?E[T]:null)},[T,B,E]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:return t=e.sent,_(t),a=[],e.next=8,o.map(function(e){return An.getMemberStatusActionDependents(e.id).then(function(t){return t.map(function(t){return t.principal_name=e.member_name,t})})});case 8:return n=e.sent,e.next=11,Promise.all(n);case 11:r=e.sent,r.filter(function(e){return e.length>0}).forEach(function(e){e.forEach(function(e){a.push(e)})}),H(a),u(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),u(!0);case 22:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}o.length>0&&!0===i&&function(){e.apply(this,arguments)}()},[i,T]),Object(n.useEffect)(function(){if(!0===i&&!Object(Tn.isNil)(e.maxDate)){var t=Je()(e.maxDate);if(!Object(Tn.isNil)(t)&&t.isValid()){var a=t.add(-1,"days").toDate();Ee(a)}}},[e.maxDate]),Object(n.useEffect)(function(){},[Q,C,ae]);var ye=function(){u(!1),_({}),y([]),w([]),M(0),I(!1),H([]),$(null),re([]),se(""),ue(!1),ge("")},xe=function(e){var t=[];e.forEach(function(e){void 0!==e.member_suspension.suspension_lift_date?t.push(e.member_suspension.suspension_lift_date):t.push(null)}),y(t)};function Oe(){e.onClose&&(ye(),e.onClose())}return r.a.createElement("div",null,r.a.createElement(U.a,{id:a,maxWidth:!1,open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},!1===d?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Lift Suspension Details"),r.a.createElement(ne.a,{id:"close_button","data-cy":"close_button","aria-label":"close",className:t.closeButton,onClick:Oe},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(K.a,{control:r.a.createElement(ap.a,{id:"members_apply_to_all","data-cy":"members_apply_to_all",checked:B,onChange:function(){I(!0!==B)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Apply to all selected members"})),!1===B?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:12,style:{paddingBottom:"1.5rem"}},r.a.createElement(S.a,{className:t.dialogMemberName},void 0!==o[T]&&o[T].member_name," ","(",void 0!==o[T]&&o[T].member_type,")"),r.a.createElement(S.a,{className:t.dialogMemberOverall},"".concat(!1===B?T+1:o.length," / ").concat(o.length," members to lift suspension"))),r.a.createElement(J.a,{item:!0,xs:7},r.a.createElement(S.a,{display:"block",variant:"h3",className:t.suspensionDateLabel},"EFFECTIVE DATE OF SUSPENSION"),r.a.createElement(S.a,{display:"block",variant:"subtitle1",className:t.suspensionDateValue,gutterBottom:!0},void 0!==o[T]&&void 0!==o[T].member_suspension&&void 0!==o[T].member_suspension.suspension_start_date&&Je()(o[T].member_suspension.suspension_start_date).format("MMM DD, YYYY")))):null,r.a.createElement(J.a,{item:!0,xs:7},r.a.createElement(Cg,{"data-cy":"member_suspension_lift_picker",id:"member_suspension_lift_picker",placeholder:"Effective Date of Lifting",value:Q,error:de,error_message:be,minDate:new Date,maxDate:ve,minDateMessage:"Date of lifting should not be before start of suspension.",onChange:function(e){$(e),ue(!1),ge("")},isRequired:!0})),W.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.tblTitle},"Dependents")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:W.length>0?t.tblPaperWithDeps:t.tblPaperNoDeps},r.a.createElement(Ri.a,{"data-cy":"member_suspension_dependents_table",id:"member_suspension_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,!1===B?r.a.createElement(qn.a,{style:{width:"5%"}}):null,r.a.createElement(qn.a,{style:{width:"40%"}},"Member Name"),r.a.createElement(qn.a,{style:!1===B?{width:"25%"}:{width:"30%"}},"Relationship"),r.a.createElement(qn.a,{style:{width:"30%"}},"Status"))),r.a.createElement(Wi.a,null,W.map(function(e,t){return r.a.createElement(Ii.a,{key:t},!1===B?r.a.createElement(qn.a,{style:{width:"5%"}},r.a.createElement(G.a,{style:Sg,disabled:"Suspended"!==e.member_status,indeterminate:"Suspended"!==e.member_status,checked:ae.includes(e._id),onChange:function(){!function(e){if(ae.includes(e))re(ae.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(ae);t.push(e),re(t)}}(e._id)}})):null,r.a.createElement(qn.a,{style:{width:"40%"}},"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.last_name)),r.a.createElement(qn.a,{style:!1===B?{width:"25%"}:{width:"30%"}},e.relationship_to_principal),r.a.createElement(qn.a,{style:{width:"30%"}},e.member_status))})))))):null,r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(F.a,{className:t.labelRemarks,htmlFor:"member_suspension_remarks_field"},"Remarks"),r.a.createElement(j.a,{"data-cy":"member_suspension_remarks_field",id:"member_suspension_remarks_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",multiline:!0,rows:10,value:le,onChange:function(e){var t=e.target.value;se(t)},inputProps:{"aria-label":"bare"}})))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"member_suspension_cancel_btn",id:"member_suspension_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:Oe},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{"data-cy":"member_suspension_btn",id:"member_suspension_btn",className:T!==o.length-1&&!1===B?t.nextMemberButton:t.liftSuspensionButton,variant:"contained",color:"primary",onClick:T!==o.length-1&&!1===B?function(){if(null===Q)ue(!0),ge("Lift date is required");else{var e=[];e.push(o[T].id),ae.length>0&&ae.forEach(function(t){e.push(t)});var t={};void 0!==o[T].member_id&&null!==o[T].member_id?t.member_id=o[T].member_id:t.member_id="None",void 0!==o[T].member_name&&null!==o[T].member_name?t.member_name=o[T].member_name:t.member_name="None",void 0!==o[T].corporates&&null!==o[T].corporates?t.corporates=o[T].corporates:t.corporates="None";var a={memberIds:e,suspension_start_date:o[T].member_suspension.suspension_start_date,suspension_lift_date:Q,remarks:le,suspension_started_by:b.userName,apply_to_all:!1,memberIdsForDisplay:[t.member_id],memberNamesForDisplay:[t.member_name],memberCorporatesForDisplay:[t.corporates]};w([].concat(Object(Ln.a)(C),[a])),$(null),re([]),se(""),M(++T)}}:function(){if(null===Q)ue(!0),ge("Lift date is required");else{var t=[],a=[],n=[],r=[],i=[],l=[],s={};!1===B?(t=C,a.push(o[T].id),ae.length>0&&ae.forEach(function(e){a.push(e)}),void 0!==o[T].member_id&&null!==o[T].member_id?n.push(o[T].member_id):n.push("None"),void 0!==o[T].member_name&&null!==o[T].member_name?r.push(o[T].member_name):r.push("None"),void 0!==o[T].corporates&&null!==o[T].corporates?i.push(o[T].corporates):i.push("None"),s={memberIds:a,suspension_start_date:o[T].member_suspension.suspension_start_date,suspension_lift_date:Q,remarks:le,suspension_started_by:b.userName,apply_to_all:B,memberIdsForDisplay:n,memberNamesForDisplay:r,memberCorporatesForDisplay:i}):(a=o.map(function(e){return e.id}),n=o.map(function(e){return void 0!==e.member_id||null!==e.member_id?e.member_id:"None"}),r=o.map(function(e){return void 0!==e.member_name||null!==e.member_name?e.member_name:"None"}),i=o.map(function(e){return void 0!==e.corporates||null!==e.corporates?e.corporates:"None"}),l=o.map(function(e){return e.member_suspension.suspension_start_date}),s={memberIds:a,suspension_lift_date:Q,remarks:le,suspension_started_by:b.userName,apply_to_all:B,memberIdsForDisplay:n,memberNamesForDisplay:r,memberCorporatesForDisplay:i,memberSuspensionDatesForDisplay:l}),t.push(s),e.onStatusAction&&(e.onStatusAction(t,B),Oe())}}},T!==o.length-1&&!1===B?"Next Member":"Lift Suspension")))))))},jg=Object(y.a)(function(e){return{dialog:{align:"center",justify:"center",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingBottom:"1rem"},tblPaper:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},liftSuspensionButton:{minWidth:129,backgroundColor:"#3AB77D"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),Ng=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#3AB77D","&:hover":{backgroundColor:"#2e9565"}}})(z.a),Dg=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Tg=function(e){var t=jg(),a=e.id,i=e.isModalOpen,o=e.isApplyToAll,l=e.memberData,s=Object(n.useState)([]),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)([]),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(0),h=Object(g.a)(_,2),v=h[0],E=h[1];function y(){e.onClose&&e.onClose()}return Object(n.useEffect)(function(){if(!0===i)if(l.length>0)if(!0===o)l.forEach(function(e){var t=e.memberIdsForDisplay,a=e.memberNamesForDisplay,n=e.memberCorporatesForDisplay,r=e.memberSuspensionDatesForDisplay;E(t.length);var i=t.map(function(t,i){return{member_id:t,member_name:a[i],corporates:n[i],suspension_start_date:Je()(r[i]).format("MMM DD, YYYY"),suspension_lift_date:Je()(e.suspension_lift_date).format("MMM DD, YYYY")}});b(i),delete e.memberIdsForDisplay,delete e.memberNamesForDisplay,delete e.memberCorporatesForDisplay,delete e.memberSuspensionDatesForDisplay,d([e])});else{E(l.length);var e=l.map(function(e){var t=e.memberIdsForDisplay,a=e.memberNamesForDisplay,n=e.memberCorporatesForDisplay;return{member_id:t[0],member_name:a[0],corporates:n[0],suspension_start_date:Je()(e.suspension_start_date).format("MMM DD, YYYY"),suspension_lift_date:Je()(e.suspension_lift_date).format("MMM DD, YYYY")}});b(e);var t=l.map(function(e){return delete e.memberIdsForDisplay,delete e.memberNamesForDisplay,delete e.memberCorporatesForDisplay,e});d(t)}else console.log("no data from Lift Suspension Modal")},[i]),Object(n.useEffect)(function(){},[f]),Object(n.useEffect)(function(){},[m]),r.a.createElement(U.a,{id:a,maxWidth:"md",open:i,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Lifting of Suspension"),r.a.createElement(ne.a,{"data-cy":"lift_suspension_conmod_close_btn",id:"lift_suspension_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:y},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,{className:t.dialogSecondTitle},"Are you sure you want to lift the suspension of the following"," ",r.a.createElement("span",{className:t.boldText},v," member",v>1?"s":null),"? Member(s) will have their coverage re-activated on the set date.")),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaper},r.a.createElement(Ri.a,{"data-cy":"lift_suspension_conmod_dependents_table",id:"lift_suspension_conmod_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"25%"}},"Member ID"),r.a.createElement(qn.a,{style:{width:"25%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"20%"}},"Corporation"),r.a.createElement(qn.a,{style:{width:"15%"}},"Effective Start of Suspension"),r.a.createElement(qn.a,{style:{width:"15%"}},"Effective Date of Lifting"))),r.a.createElement(Wi.a,null,f.length>0?f.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"25%"}},e.member_id),r.a.createElement(qn.a,{style:{width:"25%"}},e.member_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.corporates),r.a.createElement(qn.a,{style:{width:"15%"}},e.suspension_start_date),r.a.createElement(qn.a,{style:{width:"15%"}},e.suspension_lift_date))}):null)))))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(Dg,{"data-cy":"lift_suspension_conmod_cancel_btn",id:"lift_suspension_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:y},"Cancel")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(Ng,{"data-cy":"lift_suspension_conmod_btn",id:"lift_suspension_conmod_btn",className:t.liftSuspensionButton,variant:"contained",color:"primary",onClick:function(){e.onConfirmAction&&(e.onConfirmAction(m),y())}},"Lift Suspension")))))};Tg.defaultProps={id:"confirm_lift_suspension_modal",isModalOpen:!1};var Mg={size:12,padding:0,color:"#272E4C","&$checked":{color:"#272E4C"}},Fg=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",minWidth:"250px",width:"55vw"},dialogTitle:{paddingTop:e.spacing(5),minWidth:350},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},dialogMemberName:{fontSize:18,fontWeight:700,color:"#272E4C"},tblPaperWithDeps:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},tblPaperNoDeps:{minHeight:"auto",borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0}}}),Pg=function(e){var t=Bm.batchesWrapper(),a=Fg(),i=e.id,o=e.isModalOpen,l=e.memberData,s=Object(n.useState)(!1),d=Object(g.a)(s,2),u=d[0],p=d[1],f=Object(n.useState)({}),b=Object(g.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)([]),E=Object(g.a)(v,2),y=E[0],x=E[1],O=Object(n.useState)([]),C=Object(g.a)(O,2),w=C[0],j=C[1],D=Object(n.useState)(0),T=Object(g.a)(D,2),M=T[0],F=T[1],P=Object(n.useState)(!1),A=Object(g.a)(P,2),B=A[0],I=A[1],R=Object(n.useState)(!1),L=Object(g.a)(R,2),W=L[0],H=L[1],X=Object(n.useState)([]),Z=Object(g.a)(X,2),Q=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(g.a)(ee,2),ae=te[0],re=te[1],ie=Object(n.useState)(new Date),oe=Object(g.a)(ie,2),le=oe[0],se=oe[1],ce=Object(n.useState)(!1),me=Object(g.a)(ce,2),de=me[0],ue=me[1],pe=Object(n.useState)(new Date),fe=Object(g.a)(pe,2),be=fe[0],ge=fe[1],_e=Object(n.useState)(!1),he=Object(g.a)(_e,2),ve=he[0],Ee=he[1],ye=Object(n.useState)(""),xe=Object(g.a)(ye,2),Oe=xe[0],Ce=xe[1],Se=Object(n.useState)(""),we=Object(g.a)(Se,2),ke=we[0],je=we[1],Ne=Object(n.useState)(""),De=Object(g.a)(Ne,2),Te=De[0],Me=De[1],Fe=Object(n.useState)(""),Pe=Object(g.a)(Fe,2),Ae=Pe[0],Be=Pe[1];Object(n.useEffect)(function(){e.isModalOpen&&Ie()},[e.isModalOpen]),Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.getUserDataFromDb();case 3:return t=e.sent,h(t),a=[],e.next=8,l.map(function(e){return An.getMemberStatusActionDependents(e.id).then(function(t){return t.map(function(t){return t.principal_id=e.id,t.principal_name=e.member_name,t})})});case 8:return n=e.sent,e.next=11,Promise.all(n);case 11:r=e.sent,r.filter(function(e){return e.length>0}).forEach(function(e){e.forEach(function(e){a.push(e)})}),$(a),p(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),p(!0);case 22:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}l.length>0&&!0===o&&function(){e.apply(this,arguments)}()},[o,M]),Object(n.useEffect)(function(){},[M,B]),Object(n.useEffect)(function(){},[y,ae]);var Ie=function(){p(!1),h({}),x([]),j([]),F(0),I(!1),H(!1),$([]),re([]),se(new Date),ue(!1),ge(new Date),Ee(!1),Me(""),Be(""),Ce(""),je("")},Re=function(){var e=0;return null===le&&(ue(!0),e++),null===be&&(Ee(!0),e++),e};function Le(){e.onClose&&(Ie(),e.onClose())}var We=function(e){return e.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"5%"}},r.a.createElement(G.a,{id:"client_member_status_check","data-cy":"client_member_status_check",style:Mg,disabled:"Terminated"!==e.member_status,indeterminate:"Terminated"!==e.member_status,checked:ae.includes(e._id),onChange:function(){!function(e){if(ae.includes(e))re(ae.filter(function(t){return t!==e}));else{var t=Object(Ln.a)(ae);t.push(e),re(t)}}(e._id)}})),r.a.createElement(qn.a,{style:!1===B?{width:"40%"}:{width:"25%"}},"".concat(e.first_name," ").concat(e.middle_name," ").concat(e.last_name)),r.a.createElement(qn.a,{style:!1===B?{width:"25%"}:{width:"20%"}},e.relationship_to_principal),!0===B?r.a.createElement(qn.a,{style:{width:"25%"}},e.principal_name):null,r.a.createElement(qn.a,{style:!1===B?{width:"30%"}:{width:"25%"}},e.member_status))})},ze=function(e){return r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{component:"th",scope:"row",style:{textAlign:"center"},colSpan:5},e))};return r.a.createElement("div",null,r.a.createElement(U.a,{id:i,maxWidth:!1,open:o,scroll:"paper","aria-labelledby":"modal-title",className:a.dialog},!1===u?r.a.createElement(Rn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:a.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:a.dialogFirstTitle},"Re-activation Details"),r.a.createElement(ne.a,{id:"client_close_button","data-cy":"client_close_button","aria-label":"close",className:a.closeButton,onClick:Le},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:a.dialogContent},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:8},r.a.createElement(S.a,{className:a.dialogMemberName},void 0!==l[M]&&l[M].member_name," ","(",void 0!==l[M]&&l[M].member_type,")")),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:12,direction:"row",justify:"flex-end",alignItems:"stretch"},r.a.createElement(S.a,{style:{fontSize:14,fontWeight:300,marginLeft:"5px",textAlign:"right"}},"".concat(!1===B?M+1:l.length," / ").concat(l.length," \n                          members to reactivate"))))),r.a.createElement(J.a,{item:!0,sm:8},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(Zr.a,{name:"source",className:t.radioGroup},r.a.createElement(S.a,{className:t.radioInfo},"Source"),r.a.createElement(K.a,{className:t.formRadioLabel,control:r.a.createElement(Jn.a,{id:"radio_internal","data-cy":"radio_internal",name:"internal",className:t.radio,checked:!1===W,onClick:function(e){e.stopPropagation(),H(!1)}}),label:"Internal"}),r.a.createElement(K.a,{className:t.formRadioLabel,control:r.a.createElement(Jn.a,{id:"radio_external","data-cy":"radio_external",name:"external",className:t.radio,checked:!0===W,onClick:function(e){e.stopPropagation(),H(!0)}}),label:"External"})))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:12,style:{display:"block"}},l.length>1?r.a.createElement(Ye.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",m:1,style:{width:"100%",height:"100%"}},r.a.createElement(k.a,{component:"fieldset"},r.a.createElement(K.a,{className:t.formRadioLabel,control:r.a.createElement(ap.a,{id:"switch_internal","data-cy":"switch_internal",name:"internal",className:t.switchreactivate,color:"primary",checked:B,onChange:function(e){I(e.target.checked)}}),label:"Apply to all selected members"}))):null)))),r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Reactivation Date:"),r.a.createElement(_r.a,{id:"date_reactivation","data-cy":"date_reactivation",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px",width:"85%"},minDate:new Date,maxDate:new Date(be),variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:le,initialFocusedDate:le||new Date,onChange:function(e){var t=e?e.toDate():null;se(t),ue(null===t)},error:de}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(io.a,{utils:ro.a},r.a.createElement(S.a,{className:t.formLabel},"Endorsed Date:"),r.a.createElement(_r.a,{id:"date_endorsed","data-cy":"date_endorsed",className:t.datePicker,style:{marginTop:"10px",marginBottom:"20px",width:"85%"},minDate:new Date,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",invalidDateMessage:"",value:be,initialFocusedDate:be||new Date,onChange:function(e){var t=e?e.toDate():null;ge(t),Ee(null===t)},error:ve}))),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"ticket-number","data-cy":"ticket-number",label:"Ticket Number",labelFontSize:"14px",value:Oe,onChange:function(e){var t=e.target.value;Ce(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"endorsed-by","data-cy":"endorsed-by",label:"Endorsed By",labelFontSize:"14px",value:ke,onChange:function(e){var t=e.target.value;je(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Mi,{marginTop:"10px",marginBottom:"10px",labelFontSize:"14px",id:"sent-via","data-cy":"sent-via",label:"Sent via *",menuItems:Ym,width:"85%",value:Te,onChange:function(e){var t=e.target.value;Me(t)}})),r.a.createElement(J.a,{item:!0,sm:4},r.a.createElement(Di,{id:"remarks","data-cy":"remarks",label:"Remarks",labelFontSize:"14px",value:Ae,onChange:function(e){var t=e.target.value;Be(t)},width:"85%"})),r.a.createElement(J.a,{item:!0,sm:12},r.a.createElement(N.a,{className:Q.length>0?a.tblPaperWithDeps:a.tblPaperNoDeps},r.a.createElement(Ri.a,{"data-cy":"client_member_reactivate_dependents_table",id:"client_member_reactivate_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"5%"}}),r.a.createElement(qn.a,{style:!1===B?{width:"40%"}:{width:"25%"}},"Member Name"),r.a.createElement(qn.a,{style:!1===B?{width:"25%"}:{width:"20%"}},"Relationship"),!0===B?r.a.createElement(qn.a,{style:{width:"25%"}},"Principal"):null,r.a.createElement(qn.a,{style:!1===B?{width:"30%"}:{width:"25%"}},"Status"))),r.a.createElement(Wi.a,null,Q.length>0?!1===B?-1!==Q.map(function(e){return e.principal_id}).indexOf(l[M].id)?We(Q.filter(function(e){return e.principal_id===l[M].id})):ze("No enrolled dependents"):We(Q):ze("No dependents"))))))),r.a.createElement(q.a,{className:a.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{id:"cancel_reprint_button","data-cy":"cancel_reprint_button",className:t.modalButtonLeft,style:{marginRight:"10px"},variant:"outlined",color:"secondary",size:"small",onClick:Le}," ","Cancel"," ")),r.a.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},r.a.createElement(z.a,{id:"finish_member_button","data-cy":"finish_member_button",className:t.modalButtonRight,style:{marginRight:"10px"},variant:"contained",color:"secondary",size:"small",onClick:M!==l.length-1&&!1===B?function(){if(0===Re()){var e=[];e.push(l[M].id),ae.length>0&&ae.forEach(function(t){-1===e.indexOf(t)&&e.push(t)});var t={memberIds:e,source:!1===W?"Internal":"External",reactivation_date:le,endorsed_date:be,endorsed_by:ke,channel:Te,ticket_no:Oe,remarks:Ae,user_id:_.userId,user_name:_.userName};x([].concat(Object(Ln.a)(y),[t]));var a={member_id:l[M].member_id?l[M].member_id:"None",member_name:l[M].member_name?l[M].member_name:"None",corporation:l[M].corporates?l[M].corporates:"None",type:l[M].member_type?l[M].member_type:"None",previous_status:"Active"};j([].concat(Object(Ln.a)(w),[a])),H(!1),se(new Date),ue(!1),ge(new Date),Ee(!1),Ce(""),je(""),Me(""),Be(""),F(++M)}}:function(){if(0===Re()){var t=[],a=[],n=[];if(!1===B){t=y,a=w,n.push(l[M].id);var r={member_id:l[M].member_id?l[M].member_id:"None",member_name:l[M].member_name?l[M].member_name:"None",corporation:l[M].corporates?l[M].corporates:"None",type:l[M].member_type?l[M].member_type:"None",previous_status:"Active"};a.push(r)}else n=l.map(function(e){return e.id}),l.forEach(function(e){a.push({member_id:e.member_id?e.member_id:"None",member_name:e.member_name?e.member_name:"None",corporation:e.corporates?e.corporates:"None",type:e.member_type?e.member_type:"None",previous_status:"Active"})});ae.length>0&&ae.forEach(function(e){-1===n.indexOf(e)&&n.push(e)});var i={memberIds:n,source:!1===W?"Internal":"External",reactivation_date:le,endorsed_date:be,endorsed_by:ke,channel:Te,ticket_no:Oe,remarks:Ae,user_id:_.userId,user_name:_.userName};t.push(i),e.onStatusAction&&(e.onStatusAction(t,a),Le())}}}," ",M!==l.length-1&&!1===B?"Next Member":"Submit"," ")))))))},Ag=Object(y.a)(function(e){return{dialog:{align:"center",justify:"center",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogTitle:{paddingTop:e.spacing(5),minWidth:500},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogSecondTitle:{fontSize:"14px",color:"#272E4C",paddingBottom:"1rem"},tblPaper:{minHeight:175,borderRadius:0,boxShadow:"0px 3px 6px #272E4C19",padding:0},dialogAction:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},boldText:{fontWeight:"bold"},cancelButton:{minWidth:129,marginRight:40,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},suspendButton:{minWidth:129,backgroundColor:"#FD5451"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),Bg=Object(O.a)({root:{color:"#FFFFFF",backgroundColor:"#24B070"}})(z.a),Ig=Object(O.a)({root:{"&:hover":{backgroundColor:"#3AB77D",color:"#FFFFFF"}}})(z.a),Rg=function(e){var t=Ag(),a=e.id,n=e.isModalOpen,i=e.displayData,o=e.payloadData;function l(){e.onClose&&e.onClose()}return r.a.createElement(U.a,{id:a,maxWidth:"lg",open:n,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog,style:{zIndex:9999}},r.a.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},r.a.createElement("div",{className:t.dialogFirstTitle},"Confirm Reactivation of Members"),r.a.createElement(ne.a,{"data-cy":"member_suspension_conmod_close_btn",id:"member_suspension_conmod_close_btn","aria-label":"close",className:t.closeButton,onClick:l},r.a.createElement(Xe.a,null))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(S.a,null,"Are you sure you want to cancel the termination of the following ".concat(i.length," members? Member (s) will continue to have their benefits coverage."))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(N.a,{className:t.tblPaper},r.a.createElement(Ri.a,{"data-cy":"member_suspension_conmod_dependents_table",id:"member_suspension_conmod_dependents_table",size:"small"},r.a.createElement(Li.a,null,r.a.createElement(Ii.a,null,r.a.createElement(qn.a,{style:{width:"25%"}},"Member ID"),r.a.createElement(qn.a,{style:{width:"25%"}},"Member Name"),r.a.createElement(qn.a,{style:{width:"20%"}},"Corporation"),r.a.createElement(qn.a,{style:{width:"15%"}},"Type"),r.a.createElement(qn.a,{style:{width:"15%"}},"Previous Status To Restore"))),r.a.createElement(Wi.a,null,i.length>0?i.map(function(e,t){return r.a.createElement(Ii.a,{key:t},r.a.createElement(qn.a,{style:{width:"25%"}},e.member_id),r.a.createElement(qn.a,{style:{width:"25%"}},e.member_name),r.a.createElement(qn.a,{style:{width:"20%"}},e.corporation),r.a.createElement(qn.a,{style:{width:"15%"}},e.type),r.a.createElement(qn.a,{style:{width:"15%"}},e.previous_status))}):null)))))),r.a.createElement(q.a,{className:t.dialogAction},r.a.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(Ig,{"data-cy":"member_suspension_conmod_cancel_btn",id:"member_suspension_conmod_cancel_btn",className:t.cancelButton,variant:"contained",color:"primary",onClick:l},"Cancel"),r.a.createElement(Bg,{"data-cy":"member_suspension_conmod_btn",id:"member_suspension_conmod_btn",className:t.suspendButton,variant:"contained",color:"primary",onClick:function(){e.onConfirmAction&&(e.onConfirmAction(o),l())}},"Reactivate")))))},Lg=["APD_MANAGER GROUP","APD_SUPERVISOR GROUP","APD_TL GROUP","APD_TL"],Wg=["DEPT_APD_PRINTING GROUP","APD_PRINTING_STAFF GROUP","APD_PRINTING_STAFF"],zg=["DEPT_APD_ENCODER GROUP","APD_ENCODER GROUP","APD_ENCODER"],Ug=["DEPT_APD_VERIFIER GROUP","APD_VERIFIER GROUP","APD_VERIFIER"],Yg=Object(y.a)(function(e){return{change_status_link:{color:"#0D5E40",cursor:"pointer",fontSize:"13px",textDecoration:"underline"},icons:{color:"#0D5E40",cursor:"pointer",fontSize:"13px",marginRight:"4px"},popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},paper:{padding:"15px",width:150},paper2:{padding:"15px",width:200},status:{padding:"5px",cursor:"pointer","&:hover":{backgroundColor:"#dddfe3"}},buttonredirect:{width:"100%",padding:"5px 20px",textAlign:"left",alignItems:"stretch",alignContent:"left",justifyContent:"flex-start",textTransform:"none",fontSize:"12px"}}}),Vg=function(e){var t=Yg(e),a=Object(n.useRef)(null),i=Object(n.useState)(null),o=Object(g.a)(i,2),l=o[0],s=o[1],d=Object(n.useState)(!1),u=Object(g.a)(d,2),p=u[0],f=u[1],b=Object(n.useState)(!1),_=Object(g.a)(b,2),h=_[0],E=_[1],y=Object(n.useState)(!1),x=Object(g.a)(y,2),O=x[0],C=x[1],w=Object(n.useState)(!1),k=Object(g.a)(w,2),j=k[0],D=k[1],T=Object(n.useState)(!1),M=Object(g.a)(T,2),F=M[0],P=M[1],A=Object(n.useState)(!1),B=Object(g.a)(A,2),I=B[0],R=B[1];var L=function(){var e=Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An.getUserDataFromDb().then(function(e){console.log(e),Lg.includes(e.groupName)&&E(!0),Wg.includes(e.groupName)&&C(!0),zg.includes(e.groupName)&&D(!0),Ug.includes(e.groupName)&&P(!0)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){L()},[]);var W=e.clientName?e.clientName.split("%").join("%25"):"";return r.a.createElement(r.a.Fragment,null,p?r.a.createElement(v.a,{to:"/membership/process-batches/".concat(encodeURI(W),"/").concat(e.clientID)}):null,h||O||j||F?r.a.createElement(J.a,{container:!0,direction:"row",justify:"flex-end",spacing:2},r.a.createElement(J.a,{item:!0},r.a.createElement("span",{id:"client_members_process_batch","data-cy":"client_members_process_batch",ref:a,className:t.change_status_link,onClick:function(){R(!0)},"aria-describedby":"generate_batches"},r.a.createElement(X.a,{icon:Z.S,className:t.icons}),"Process Batches",r.a.createElement(qe.a,{id:"generate_batches",open:I,anchorEl:a.current,placement:"bottom-start",className:t.popper,disablePortal:!1,style:{marginTop:"4px"},modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"undefined"},arrow:{enabled:!0,element:l}}},r.a.createElement("span",{className:t.arrow,ref:s}),r.a.createElement(N.a,{className:t.paper2},r.a.createElement(Gs.a,{onClickAway:function(){R(!1)}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("h5",{style:{fontWeight:600,margin:"0 0 10px"}},"Choose Batch Process"),h||O?r.a.createElement(S.a,{id:"clientprofile_print_id_cards","data-cy":"clientprofile_print_id_cards",className:t.status,onClick:function(){var e;e="Print ID Cards",console.log(e),R(!1),"Print ID Cards"===e&&f(!0)}},"Print ID Cards"):null,h||j||F?r.a.createElement(S.a,{id:"clientprofile_terminate_members","data-cy":"clientprofile_terminate_members",className:t.status,onClick:function(){e.onBatchProcessAction&&e.onBatchProcessAction("Terminate Members")}},"Terminate Members"):null)))))))):null)},Hg=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).initialData=function(){a.setState({check_internet_flag:!0}),An.getMembers(10,0).then(function(e){if(e&&void 0===e.error){var t=a.generateDataForTable(e.members);a.setState({check_internet_flag:!1,member_list:e,member_data_all:t,loading_state:!1,totalCount:e.total.count,page:0,limit:10})}else{var n=a.generateDataForTable([]);a.setState({member_list:[],member_data_all:n,loading_state:!1,isModalOpen:!0,modalTitle:"Loading failed",modalMessage:"An error occured while loading the list of members.",page:0})}})},a.handleClickRow=function(e){var t=e.id;t&&a.setState({redirect_to_member:!0,member_id:t})},a.handleDataFromCheckbox=function(e){if(console.log(e),e.length>0){var t=0,n=0,r=0,i=0,o=0,l=0,s=[],c=[],m=[],d=[],u=[],p=[];e.forEach(function(e){console.log(e),"active"===e.status.toString().toLowerCase()?(t++,s.push(e),d.push(e)):"marked for suspension"===e.status.toString().toLowerCase()?(n++,c.push(e)):"suspended"===e.status.toString().toLowerCase()?(i++,m.push(e),d.push(e)):"terminated"===e.status.toString().toLowerCase()?(l++,u.push(e)):"marked for termination"===e.status.toString().toLowerCase()?(r++,p.push(e)):o++}),a.setState({statusCount:{active:t,markedForSuspension:n,markedForTermination:r,suspended:i,terminated:l,others:o},memberStatusActionArrays:{forSuspension:s,forCancelSuspension:c,forLiftSuspension:m,forTermination:d,forReactivation:u,forCancelTermination:p}})}a.setState({selectedCount:e.length})},a.handleMemberStatusAction=function(e){"Suspend"===e?a.setState({memberStatusActionFlags:{isMemberSuspension:!0}}):"Cancel Suspension"===e?a.setState({memberStatusActionFlags:{isMemberCancelSuspension:!0}}):"Lift Suspension"===e?a.setState({memberStatusActionFlags:{isMemberLiftSuspension:!0}}):"Terminate"===e?a.setState({memberStatusActionFlags:{isMemberTermination:!0}}):"Reactivate"===e?a.setState({memberStatusActionFlags:{isMemberReactivation:!0}}):"Cancel Termination"===e&&a.setState({memberStatusActionFlags:{isMemberCancelTermination:!0}})},a.handleMemberSuspension=function(e,t){e.length>0&&a.setState({dataFromStatusActions:{suspensionModal:e},applyToAllFlags:{suspension:t},memberStatusActionConfirmFlags:{isConfirmSuspension:!0}})},a.handleConfirmMemberSuspension=function(e){e.length>0&&a.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.putMemberSuspension(e).then(function(e){console.log(e),e&&void 0===e.error?a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Member Suspension Successful",modalMessage:"Member(s) have been successfully suspended.",isReset:!1}):t()}).catch(function(e){console.log(e),t()});var t=function(){a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Member Suspension Failed",modalMessage:"An error occured while trying to suspend the selected member(s).",isReset:!1})}})},a.handleMemberReactivation=function(e,t){e.length>0&&t.length>0&&a.setState({dataFromStatusActions:{reactivationModal:e},displayDataFromStatusActions:{reactivationModal:t},memberStatusActionConfirmFlags:{isConfirmReactivation:!0}})},a.handleConfirmReactivation=function(e){e.length>0&&a.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.putMemberReactivation(e).then(function(e){console.log(e),e&&void 0===e.error?a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Member(s) have been Reactivated",modalMessage:"Member(s) have successfully reactivated their membership.",isReset:!1}):t()}).catch(function(e){console.log(e),t()});var t=function(){a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Member Reactivation Failed",modalMessage:"An error occured while trying to reactivate the selected member(s).",isReset:!1})}})},a.handleMemberCancelSuspension=function(e){a.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.deleteMemberCancelSuspension([e]).then(function(e){console.log(e),e&&void 0===e.error?a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Cancelling of Member Suspension Successful",modalMessage:"Member(s) have been successfully cancelled from suspension.",isReset:!1}):t()}).catch(function(e){console.log(e),t()});var t=function(){a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Cancelling of Member Suspension Failed",modalMessage:"An error occured while trying to cancel the suspension of the selected member(s).",isReset:!1})}})},a.handleMemberLiftSuspension=function(e,t){e.length>0&&a.setState({dataFromStatusActions:{liftSuspensionModal:e},applyToAllFlags:{liftSuspension:t},memberStatusActionConfirmFlags:{isConfirmLiftSuspension:!0}})},a.handleConfirmMemberLiftSuspension=function(e){e.length>0&&a.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.patchMemberLiftSuspension(e).then(function(e){console.log(e),e&&void 0===e.error?a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Lifting of Member Suspension Successful",modalMessage:"Member(s) have been successfully lifted from suspension.",isReset:!1}):t()}).catch(function(e){console.log(e),t()});var t=function(){a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Lifting of Member Suspension Failed",modalMessage:"An error occured while trying to lift the suspension of the selected member(s).",isReset:!1})}})},a.handleMemberCancelTermination=function(e){a.setState({loading_state:!0,check_internet_flag:!0,isReset:!0},function(){An.deleteMemberCancelTermination([e]).then(function(e){console.log(e),e&&void 0===e.error?a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Cancelling of Member Termination Successful",modalMessage:"Member(s) have been successfully cancelled from termination.",isReset:!1}):t()}).catch(function(e){console.log(e),t()});var t=function(){a.setState({loading_state:!1,check_internet_flag:!1,isModalOpen:!0,modalTitle:"Cancelling of Member Termination Failed",modalMessage:"An error occured while trying to cancel the termination of the selected member(s).",isReset:!1})}})},a.closeMemberStatusActionModal=function(e){"suspensionModal"===e?a.setState({memberStatusActionFlags:{isMemberSuspension:!1}}):"cancelSuspensionModal"===e?a.setState({memberStatusActionFlags:{isMemberCancelSuspension:!1}}):"liftSuspensionModal"===e?a.setState({memberStatusActionFlags:{isMemberLiftSuspension:!1}}):"cancelTerminationModal"===e?a.setState({memberStatusActionFlags:{isMemberCancelTermination:!1}}):"reactivationModal"===e&&a.setState({memberStatusActionFlags:{isMemberReactivation:!1}})},a.closeMemberStatusActionConfirmModal=function(e){"confirmSuspensionModal"===e?a.setState({memberStatusActionConfirmFlags:{isConfirmSuspension:!1}}):"confirmLiftSuspensionModal"===e?a.setState({memberStatusActionConfirmFlags:{isConfirmLiftSuspension:!1}}):"confirmReactivationModal"===e&&a.setState({memberStatusActionConfirmFlags:{isConfirmReactivation:!1}})},a.handleBatchProcessActions=function(e){"Terminate Members"===e&&a.setState({batchProcessActions:{isBatchTerminateAction:!0}})},a.handlePageChange=function(e){a.setState({page:e},function(){a.searchMembers()})},a.handlePageSizeChange=function(e){var t=a.state.totalCount;0===e&&0!==t&&t>1e3?a.setState({isPageSizeModal:!0}):a.setState({limit:e},function(){a.searchMembers()})},a.handleFilterByColumn=function(e){var t=a.state.global_filter;if(e=e.filter(function(e){return""!==e.value}),console.log("filter",e),a.state.typingTimeout<-1&&""===t&&e&&0===e.length){var n=a.generateDataForTable([]);a.setState({member_list:[],member_data_all:n,member_data:n,default_filters:e,totalCount:0})}else a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({default_filters:e,page:0,typing:!1,typingTimeout:setTimeout(function(){a.searchMembers()},2e3)})},a.searchMembers=function(){a.setState({loading_state:!0,check_internet_flag:!0},function(){var e=Object(Tn.cloneDeep)(a.state.default_filters);for(var t in e){var n=e[t];if(!Object(Tn.isNil)(n)&&"status"===n.columnName&&"All"===n.value){n.value="",e[t]=n;break}}An.searchMembers(a.state.limit,a.state.limit*a.state.page,a.state.global_filter,e,a.state.sorting,a.props.data._id).then(function(e){if(console.log("searchMembers",e),e&&void 0===e.error){var t=a.generateDataForTable(e.data);a.setState({check_internet_flag:!1,member_list:e,member_data_all:t,member_data:t,loading_state:!1,totalCount:e.totalCount,statusPanelCount:e.statusCount,forPrintingCount:Object(Tn.get)(e,"forPrintingCount",0)})}else{var n=a.generateDataForTable([]);a.setState({member_list:[],member_data_all:n,member_data:n,loading_state:!1,isModalOpen:!0,modalTitle:"Loading failed",modalMessage:"An error occured while loading the list of members."})}console.log(a.state.statusPanelCount.Suspended,"suspended")})})},a.handlePageSizeModalClose=function(){a.setState({isPageSizeModal:!1})},a.handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})},a.handleSubmitTerminationModal=function(e){a.setState({dataFromStatusActions:{terminationModal:e},memberStatusActionConfirmFlags:{isMemberTermination:!0}})},a.handleTerminationPostModal=function(){var e=a.state.dataFromStatusActions.terminationModal;a.setState({loading_state:!0,check_internet_flag:!0,isReset:!0}),An.memberTerminateBatch(e.data).then(function(e){console.log(e),e&&void 0===e.error?a.setState({loading_state:!1,check_internet_flag:!1,isReset:!1,isModalOpen:!0,modalTitle:"Termination Success",modalMessage:"Successfully update member's data"}):a.setState({loading_state:!1,check_internet_flag:!1,isReset:!1,isModalOpen:!0,modalTitle:"Termination Failed",modalMessage:e.error.message})})};var n={formattedColumns:{required_columns:["status"]},filterExtensions:[],columnExtensions:[{columnName:"person_id",width:200,wordWrapEnabled:!0},{columnName:"member_id",width:200,wordWrapEnabled:!0},{columnName:"member_name",width:250,wordWrapEnabled:!0},{columnName:"effectivity_date",wordWrapEnabled:!0},{columnName:"termination_date",wordWrapEnabled:!0},{columnName:"date_printed",wordWrapEnabled:!0},{columnName:"status",wordWrapEnabled:!0}],columns:[{name:"person_id",title:"Person ID"},{name:"member_id",title:"Member ID"},{name:"member_name",title:"Name"},{name:"effectivity_date",title:"Effective Date"},{name:"termination_date",title:"Termination Date"},{name:"date_printed",title:"Date Printed"},{name:"status",title:"Status"}],rows:[]};return a.state={check_internet_flag:!1,loading_state:!1,member_list:[],member_data:n,member_data_all:n,selected_date_filter:{id:"",value:"This Month",label:"This Month"},selected_start_date:new Date,selected_end_date:new Date,global_filter:"",redirect_to_member:!1,member_id:"",default_filters:[],sorting:[],isModalOpen:!1,isPageSizeModal:!1,modalTitle:"",modalMessage:"",totalCount:0,selectedCount:0,forPrintingCount:0,statusPanelCount:{},statusCount:{active:0,markedForSuspension:0,markedForTermination:0,suspended:0,terminated:0,others:0},memberStatusActionArrays:{forSuspension:[],forCancelSuspension:[],forLiftSuspension:[],forTermination:[],forReactivation:[],forCancelTermination:[]},memberStatusActionFlags:{isMemberSuspension:!1,isMemberCancelSuspension:!1,isMemberLiftSuspension:!1,isMemberTermination:!1,isMemberCancelTermination:!1,isMemberReactivation:!1},dataFromStatusActions:{suspensionModal:[],liftSuspensionModal:[],terminationModal:[],reactivationModal:[]},displayDataFromStatusActions:{reactivationModal:[]},memberStatusActionConfirmFlags:{isConfirmSuspension:!1,isConfirmCancelSuspension:!1,isConfirmLiftSuspension:!1,isConfirmTermination:!1,isConfirmCancelTermination:!1,isConfirmReactivation:!1},applyToAllFlags:{suspension:!1,cancelSuspension:!1,liftSuspension:!1,termination:!1,cancelTermination:!1,reactivation:!1},typing:!1,typingTimeout:0,page:0,limit:10,isReset:!1,batchProcessActions:{isBatchTerminateAction:!1}},a.handleChangeFilter=a.handleChangeFilter.bind(Object(jn.a)(a)),a.handleDateSent=a.handleDateSent.bind(Object(jn.a)(a)),a.handleSearch=a.handleSearch.bind(Object(jn.a)(a)),a.handleChangeSorting=a.handleChangeSorting.bind(Object(jn.a)(a)),a.searchMembers=a.searchMembers.bind(Object(jn.a)(a)),a.closeModal=a.closeModal.bind(Object(jn.a)(a)),a.openUploadBatch=a.openUploadBatch.bind(Object(jn.a)(a)),a.generateMemberListReport=a.generateMemberListReport.bind(Object(jn.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.searchMembers()}},{key:"generateMemberListReport",value:function(){var e=this;this.setState({loading_state:!0,check_internet_flag:!0});var t=this.state,a=t.global_filter,n=t.default_filters,r=t.sorting;An.getMemberListReport(a,n,r).then(function(t){if(e.setState({loading_state:!1}),void 0!==t)if("application/json"===t.type)e.setState({check_internet_flag:!1,isModalOpen:!0,modalTitle:"Generate Report Error",modalMessage:"Failed to get list of members."});else{var a="LIST_OF_MEMBERS".concat(Je()().format("MMM-DD-YYYY"),".csv"),n=new File([t],a,{type:"text/csv;charset=utf-8"});Object(bu.saveAs)(n)}else e.setState({isModalOpen:!0,modalTitle:"Generate Report Error",modalMessage:"Failed to get list of members."})}).catch(function(){e.setState({loading_state:!1,isModalOpen:!0,modalTitle:"Generate Report Error",modalMessage:"Failed to get list of members."})})}},{key:"openUploadBatch",value:function(){window.location.href="#/membership/add-members/"}},{key:"isValidDate",value:function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}},{key:"isValidMomentDate",value:function(e){var t=Je()(e,"MM/DD/YYYY",!0),a=Je()(e,"YYYY/MM/DD",!0);return t.isValid()||a.isValid()}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){console.log(e),t.isReset,this.state.isReset,t.selectedCount,this.state.selectedCount,t.statusCount,this.state.statusCount,t.memberStatusActionArrays!==this.state.memberStatusActionArrays&&console.log(this.state.memberStatusActionArrays)}},{key:"generateDataForTable",value:function(e){var t=this,a=function(){return!0},n={formattedColumns:{required_columns:["status"]},filterExtensions:[{columnName:"recently_added",filteringEnabled:!1,sortingEnabled:!1}],integratedFilteringColumnExtensions:[{columnName:"person_id",predicate:a},{columnName:"member_id",predicate:a},{columnName:"member_name",predicate:a},{columnName:"effectivity_date",predicate:a},{columnName:"termination_date",predicate:a},{columnName:"date_printed",predicate:a},{columnName:"status",predicate:a}],integratedSortingColumnExtensions:[{columnName:"member_id",compare:function(e,t){return 0}},{columnName:"member_name",compare:function(e,t){return 0}},{columnName:"effectivity_date",compare:function(e,t){return 0}},{columnName:"termination_date",compare:function(e,t){return 0}},{columnName:"date_printed",compare:function(e,t){return 0}},{columnName:"status",compare:function(e,t){return 0}}],columnExtensions:[{columnName:"person_id",width:200,wordWrapEnabled:!0},{columnName:"member_id",width:200,wordWrapEnabled:!0},{columnName:"member_name",width:250,wordWrapEnabled:!0},{columnName:"effectivity_date",wordWrapEnabled:!0},{columnName:"termination_date",wordWrapEnabled:!0},{columnName:"date_printed",wordWrapEnabled:!0},{columnName:"status",wordWrapEnabled:!0}],columns:[{name:"person_id",title:"Person ID"},{name:"member_id",title:"Member ID"},{name:"member_name",title:"Name"},{name:"effectivity_date",title:"Effective Date"},{name:"termination_date",title:"Termination Date"},{name:"date_printed",title:"Date Printed"},{name:"status",title:"Status"}],rows:[]};return Object(Tn.forEach)(e,function(e){var a=e._id,r=e.client_object,i=e.effectivity_date,o=e.first_name,l=e.last_name,s=e.member_id,c=e.member_status,m=e.middle_name,d=e.registered_name,u=e.termination_date,p=e.date_printed,f=e.added_date,b=e.member_type,g=e.member_suspension,_=e.member_termination,h={id:"",member_id:"",member_name:"",corporates:"",effectivity_date:"",termination_date:"",date_printed:"",status:"",recently_added:""};if(h.id=a,h.member_id=s,f){var v=new Date(i),E=(new Date).getTime()-v.getTime();h.recently_added=E<=864e5?"Recently Added":""}else h.recently_added="---";void 0!==i&&null!==i&&(t.isValidDate(i)||t.isValidMomentDate(i))&&(h.effectivity_date=qr.toShortDateString(qr.getDateFromString(i))),void 0!==u&&null!==u&&(t.isValidDate(u)||t.isValidMomentDate(u))&&(h.termination_date=qr.toShortDateString(qr.getDateFromString(u))),void 0!==p&&null!==p&&(t.isValidDate(p)||t.isValidMomentDate(p))&&(h.date_printed=qr.toShortDateString(qr.getDateFromString(p)));var y="";if(o&&void 0!==o&&null!==o&&(y+=o),m&&void 0!==m&&null!==m&&(y+=" "+m.substr(0,1)+"."),l&&void 0!==l&&null!==l&&(y+=" "+l),h.member_name=y,d&&void 0!==d&&null!==d)h.corporates=d;else if(r&&void 0!==r&&null!==r){var x=Object(Tn.map)(r,function(e){return e.registered_name});h.corporates=x.join(", ")}c&&void 0!==c&&null!==c&&(h.status=c,e&&"Suspended"!==Object(Tn.get)(e,"member_status","")&&e.member_suspension&&e.member_suspension.suspension_start_date&&Je()(e.member_suspension.suspension_start_date).isValid()&&Je()(e.member_suspension.suspension_start_date).diff(new Date)>0&&(h.status="Marked for Suspension"),e&&"Terminated"!==Object(Tn.get)(e,"member_status","")&&e.member_termination&&e.member_termination.termination_date&&Je()(e.member_termination.termination_date).isValid()&&Je()(e.member_termination.termination_date).diff(new Date)>0&&(h.status="Marked for Termination")),b&&(h.member_type=b),g&&(h.member_suspension=g),_&&(h.member_termination=_),n.rows.push(h)}),n}},{key:"handleChangeFilter",value:function(e){this.setState({selected_date_filter:e})}},{key:"handleDateSent",value:function(e,t){"start"===t?this.setState({selected_start_date:e}):this.setState({selected_end_date:e})}},{key:"handleSearch",value:function(e){var t=this,a=e.target.value,n=this.state.default_filters;if(this.state.typingTimeout<-1&&""===a&&n&&0===n.length){var r=this.generateDataForTable([]);this.setState({member_list:[],member_data_all:r,member_data:r,global_filter:a,totalCount:0})}else this.state.typingTimeout&&clearTimeout(this.state.typingTimeout),this.setState({global_filter:a,page:0,limit:10,typing:!1,typingTimeout:setTimeout(function(){t.searchMembers()},2e3)})}},{key:"handleChangeSorting",value:function(e){var t=this;this.setState({sorting:e},function(){t.searchMembers()})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1}),this.searchMembers()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading_state,n=t.member_data,i=t.global_filter,o=t.redirect_to_member,l=t.member_id,s=t.default_filters,c=t.isModalOpen,m=t.modalTitle,d=t.modalMessage,u=t.totalCount,p=t.selectedCount,f=t.statusCount,b=t.applyToAllFlags,g=t.memberStatusActionArrays,_=t.memberStatusActionFlags,h=t.memberStatusActionConfirmFlags,E=t.dataFromStatusActions,y=t.displayDataFromStatusActions,x=t.page,O=t.limit,C=t.isReset,w=t.isPageSizeModal,k=t.batchProcessActions;return!0===o?r.a.createElement(v.a,{to:{pathname:"/membership/view-member/"+l,state:{from:this.props.location}}}):!0===k.isBatchTerminateAction?r.a.createElement(v.a,{to:{pathname:"/membership/clients-profile/batch-terminate/"+this.props.data._id,state:{from:this.props.location}}}):r.a.createElement("div",{className:Object(tt.default)("MemberPage")},a?r.a.createElement(Rn,null):null,r.a.createElement(J.a,{container:!0,className:Object(tt.default)("member-header")},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Tl,{id:"member_page_stepper",label:"Members",steps:[],activeStep:0}))),r.a.createElement(J.a,{container:!0,alignItems:"stretch"},r.a.createElement(J.a,{item:!0,xs:12,style:{marginBottom:8}},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"stretch"},r.a.createElement(J.a,{item:!0},r.a.createElement(Vg,{clientName:this.props.data.registered_name,clientID:this.props.data._id,onBatchProcessAction:this.handleBatchProcessActions})))))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(j.a,{"data-cy":"members_search",style:{width:"100%"},id:"members_search",placeholder:"Search members by typing their member ID, name, etc.",label:"",margin:"normal",variant:"outlined",value:i,onChange:this.handleSearch,InputProps:{startAdornment:r.a.createElement(Ve.a,{position:"start"},r.a.createElement(Ki.a,{style:{color:"rgba(54, 54, 54, 0.4)"}}))}})))),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"32px"}},r.a.createElement(J.a,{container:!0,md:12,spacing:2,style:{backgroundColor:"#fafcfe",padding:"20px 10px 12.5px"}},r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Ye.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(S.a,{align:"center",style:{fontSize:20,color:"#5bc393",paddingRight:8,fontWeight:600,display:"inline-block"}},(this.state.totalCount,this.state.totalCount)),r.a.createElement(S.a,{align:"center",style:{fontSize:"12px",textTransform:"uppercase",fontWeight:600,display:"inline-block"}},"TOTAL"))),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Ye.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(S.a,{align:"center",style:{fontSize:20,color:"#5bc393",paddingRight:8,fontWeight:600,display:"inline-block"}},this.state.forPrintingCount),r.a.createElement(S.a,{align:"center",style:{fontSize:"12px",textTransform:"uppercase",fontWeight:600,display:"inline-block"}},"FOR PRINTING"))),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Ye.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(S.a,{align:"center",style:{fontSize:20,color:"#5bc393",paddingRight:8,fontWeight:600,display:"inline-block"}},void 0!==this.state.statusPanelCount.Active?this.state.statusPanelCount.Active:0),r.a.createElement(S.a,{align:"center",style:{fontSize:"12px",textTransform:"uppercase",fontWeight:600,display:"inline-block"}},"ACTIVE"))),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Ye.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(S.a,{align:"center",style:{fontSize:20,color:"#5bc393",paddingRight:8,fontWeight:600,display:"inline-block"}},void 0!==this.state.statusPanelCount["Awaiting Activation"]?this.state.statusPanelCount["Awaiting Activation"]:0),r.a.createElement(S.a,{align:"center",style:{fontSize:"12px",textTransform:"uppercase",fontWeight:600,display:"inline-block"}},"AWAITING ACTIVATION"))),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Ye.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(S.a,{align:"center",style:{fontSize:20,color:"#5bc393",paddingRight:8,fontWeight:600,display:"inline-block"}},void 0!==this.state.statusPanelCount["For Validation"]?this.state.statusPanelCount["For Validation"]:0),r.a.createElement(S.a,{align:"center",style:{fontSize:"12px",textTransform:"uppercase",fontWeight:600,display:"inline-block"}},"FOR VALIDATION"))),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Ye.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(S.a,{align:"center",style:{fontSize:20,color:"#5bc393",paddingRight:8,fontWeight:600,display:"inline-block"}},void 0!==this.state.statusPanelCount.Suspended?this.state.statusPanelCount.Suspended:0),r.a.createElement(S.a,{align:"center",style:{fontSize:"12px",textTransform:"uppercase",fontWeight:600,display:"inline-block"}},"SUSPENDED"))),r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(Ye.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(S.a,{align:"center",style:{fontSize:20,color:"#5bc393",paddingRight:8,fontWeight:600,display:"inline-block"}},void 0!==this.state.statusPanelCount.Terminated?this.state.statusPanelCount.Terminated:0),r.a.createElement(S.a,{align:"center",style:{fontSize:"12px",textTransform:"uppercase",fontWeight:600,display:"inline-block"}},"TERMINATED")))),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"32px"}},r.a.createElement(fb,{selectedCount:p,statusCount:f,onStatusActionClick:this.handleMemberStatusAction})),r.a.createElement(eg,{id:"tab-all","data-cy":"tab-all",totalCount:u,updateSorting:this.handleChangeSorting,rows:Object.keys(n).length>0?n.rows:[],columns:Object.keys(n).length>0?n.columns:[],message:"No available data",onClickRow:this.handleClickRow,singleSelect:!1,disableSelect:!1,showSelectionColumn:!1,onDataSelection:this.handleDataFromCheckbox,disableSearch:!0,formattedColumns:Object.keys(n).length>0?n.formattedColumns:{},columnExtensions:Object.keys(n).length>0?n.columnExtensions:[],filterExtensions:Object.keys(n).length>0?n.filterExtensions:[],integratedFilteringColumnExtensions:Object.keys(n).length>0?n.integratedFilteringColumnExtensions:[],integratedSortingColumnExtensions:Object.keys(n).length>0?n.integratedSortingColumnExtensions:[],onFilterChange:this.handleFilterByColumn,onSortingChange:this.handleChangeSorting,onPageChange:this.handlePageChange,onPageSizeChange:this.handlePageSizeChange,defaultFilter:s,currentPage:x,limit:O,isReset:C}))),r.a.createElement(rg,{id:"member_suspension_modal","data-cy":"member_suspension_modal",isModalOpen:_.isMemberSuspension,memberData:g.forSuspension,onStatusAction:this.handleMemberSuspension,onClose:function(){e.closeMemberStatusActionModal("suspensionModal")}}),r.a.createElement(sg,{id:"confirm_member_suspension_modal","data-cy":"confirm_member_suspension_modal",isModalOpen:h.isConfirmSuspension,isApplyToAll:b.suspension,memberData:E.suspensionModal,onConfirmAction:this.handleConfirmMemberSuspension,onClose:function(){e.closeMemberStatusActionConfirmModal("confirmSuspensionModal")}}),r.a.createElement(Og,{id:"cancel_suspension_modal","data-cy":"cancel_suspension_modal",isModalOpen:_.isMemberCancelSuspension,memberData:g.forCancelSuspension,onStatusAction:this.handleMemberCancelSuspension,onClose:function(){e.closeMemberStatusActionModal("cancelSuspensionModal")}}),r.a.createElement(kg,{id:"member_lift_suspension_modal","data-cy":"member_lift_suspension_modal",isModalOpen:_.isMemberLiftSuspension,memberData:g.forLiftSuspension,onStatusAction:this.handleMemberLiftSuspension,onClose:function(){e.closeMemberStatusActionModal("liftSuspensionModal")}}),r.a.createElement(Tg,{id:"confirm_lift_suspension_modal","data-cy":"confirm_lift_suspension_modal",isModalOpen:h.isConfirmLiftSuspension,isApplyToAll:b.liftSuspension,memberData:E.liftSuspensionModal,onConfirmAction:this.handleConfirmMemberLiftSuspension,onClose:function(){e.closeMemberStatusActionConfirmModal("confirmLiftSuspensionModal")}}),_.isMemberTermination?r.a.createElement(ug,{id:"member_terminate_batches_modal",isModalOpen:_.isMemberTermination,memberData:g.forTermination,onSubmit:function(t){e.handleSubmitTerminationModal(t)},onClose:function(){e.setState({memberStatusActionFlags:{isMemberTermination:!1}})}}):null,r.a.createElement(Pg,{id:"member_reactivation_modal","data-cy":"member_reactivation_modal",isModalOpen:_.isMemberReactivation,memberData:g.forReactivation,onStatusAction:this.handleMemberReactivation,onClose:function(){e.closeMemberStatusActionModal("reactivationModal")}}),r.a.createElement(Rg,{id:"confirm_reactivate_modal",isModalOpen:h.isConfirmReactivation,isApplyToAll:b.reactivation,displayData:y.reactivationModal,payloadData:E.reactivationModal,onConfirmAction:this.handleConfirmReactivation,onClose:function(){e.closeMemberStatusActionConfirmModal("confirmReactivationModal")}}),r.a.createElement(hg,{id:"member_termination_confirmation_modal",isModalOpen:h.isMemberTermination,terminationData:E.terminationModal,clientData:g.forTermination,onTerminate:this.handleTerminationPostModal,onClose:function(){e.setState({memberStatusActionConfirmFlags:{isMemberTermination:!1}})}}),r.a.createElement(fg,{id:"member_cancel_termination_modal",isModalOpen:_.isMemberCancelTermination,memberData:g.forCancelTermination,clientData:this.props.data,onStatusAction:this.handleMemberCancelTermination,onClose:function(){e.closeMemberStatusActionModal("cancelTerminationModal")}}),r.a.createElement(ql,{id:"member-list-modal",isModalOpen:c,title:m,message:d,onClose:this.closeModal}),r.a.createElement(ql,{id:"member-list-modal-page-size",isModalOpen:w,title:"Error",message:"Too many entries to display.",onClose:this.handlePageSizeModalClose}),r.a.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}))}}]),t}(r.a.Component),qg=Object(y.a)(function(e){return{mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px"},headMain:{},gridContainer:{padding:e.spacing(1),paddingBottom:"75px"},gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},sideBarContainer:{borderRight:"1px solid #ccc",paddingRight:"25px"},contentContainer:{paddingLeft:"25px"},sideBarLists:{padding:0,margin:0,listStyle:"none"},sideBarLink:{color:"#272e4c",margin:"0 0 10px",display:"block"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#adadad",fontSize:"13px",marginBottom:"5px"},viewText:{fontSize:"15px",fontWeight:600},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(wi.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"}}}),Gg=function(e){console.log(e);var t=e.data,a=qg(),i=Object(n.useState)(!0),o=Object(g.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(!1),m=Object(g.a)(c,2),d=m[0],u=m[1],p=Object(n.useState)("Basic Information"),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)(!1),E=Object(g.a)(h,2),y=E[0],x=E[1];console.log(t,"client_info"),console.log(t,"basic infodog"),console.log(u,b,d),console.log(e),console.log(l);var O=["CLIENTS",void 0!==t?t.registered_name:""],C=function(){b},S=function(){x(!0)};return!0===y?r.a.createElement(v.a,{to:{pathname:"/membership/clients/list"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(cb,{headingTitle:void 0!==t?t.registered_name:"",breadCrumbsArray:O.map(function(e,t){return 0===t?r.a.createElement(re.a,{onClick:S},e):e}),layoutType:"layout_1",enableButton:!1,enableStatus:!0,setStatus:t&&t.status?t.status:""}),r.a.createElement("div",{className:a.main},r.a.createElement(J.a,{container:!0,xs:12},r.a.createElement(J.a,{item:!0,xs:12,md:2,className:a.sideBarContainer},r.a.createElement(db,{items:[{title:"CLIENT INFORMATION",lists:[{name:"Basic Information"},{disabled:!0,name:"Contracts/Branches"},{disabled:!0,name:"Member Fields"},{disabled:!0,name:"Servicing Instructions"}]},{title:"ACCOUNT",lists:[{disabled:!0,name:"HMO Information"},{name:"Members"},{disabled:!0,name:"History"},{disabled:!0,name:"Utilization"}]},{title:"ACTIVITIES",lists:[{disabled:!0,name:"Tickets"}]}],activeItems:function(e){_(e),s(!0),C()}})),r.a.createElement(J.a,{item:!0,xs:12,md:10,className:a.contentContainer},"Basic Information"===b?r.a.createElement(ub,{classes:a,data:t}):null,"Members"===b?r.a.createElement(Hg,{data:t}):null))))},Jg=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})},a.getClientsInfoAPI=function(e){a.setState({loading:!0,check_internet_flag:!0}),An.getClientsInfo(e).then(function(e){console.log("client info response",e),a.setState({client_info:e.client,loading:!1,check_internet_flag:!1})}).catch(function(e){console.log("client info response error",e),a.setState({client_info:[],loading:!1,check_internet_flag:!1})})},a.state={client_info:[],loading:!1,check_internet_flag:!1},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getClientsInfoAPI(this.props.match.params.client_id)}},{key:"componentWillMount",value:function(){this.props.match.params.client_id&&this.setState({client_info:{_id:this.props.match.params.client_id}}),this.getClientsInfoAPI(this.props.match.params.client_id)}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.loading?r.a.createElement(Rn,null):null,r.a.createElement(Gg,{data:this.state.client_info}),r.a.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}))}}]),t}(r.a.Component),Kg=a(86),Xg=a.n(Kg),Zg=[{name:"urgency",title:"Urgency"},{name:"status",title:"Status"},{name:"app_number",title:"Ticket ID"},{name:"dueDate",title:"Due Date"},{name:"type",title:"Type"},{name:"specificType",title:"Specific Type"},{name:"member",title:"Member"},{name:"company",title:"Company"},{name:"ticketOwner",title:"Ticket Owner"},{name:"assignedTo",title:"Assigned To"},{name:"createdDate",title:"Created Date"},{name:"lastUpdate",title:"Last Update"},{name:"channel",title:"Channel"},{name:"is_vip",title:"VIP"}],Qg={formattedColumns:{required_columns:[],urgency_columns:["urgency"],text_columns:["status","app_uid","type","specificType","member","company","ticketOwner","assignedTo","channel"],date_columns:["dueDate","createdDate","lastUpdate"],boolean_columns:["is_vip"],detaillink_columns:["app_uid"]},columnExtensions:function(){var e=[];return Zg.map(function(t){var a=200;switch(t.name){case"urgency":case"status":case"app_uid":a=100;break;case"type":case"dueDate":a=120;break;case"specificType":case"company":a=250;break;default:a=200}e.push({columnName:t.name,width:a,wordWrapEnabled:!0})}),e}(),fixedColumns:["urgency","status","app_number","member"],cellProperties:[],columns:Zg,rows:function(){for(var e=[],t=["Inquiry","Availment","Request","Complaint"],a=["Billing Dispute Inquiry","Outpatient Consult","X-Ray Procedure Availment","Service Complaint","Dental Coverage","Premium Adjustment"],n=["open","pending","resolved","closed"],r=["email","fax","sms"],i=[!0,!1],o=0;o<50;o++){var l=Xg.a.random.arrayElement(n),s="closed"===l||"resolved"===l?3:Xg.a.random.arrayElement([1,2]);e.push({urgency:s,status:Object(Tn.capitalize)(l),app_uid:Xg.a.random.alphaNumeric(8),dueDate:Xg.a.date.future(),type:Xg.a.random.arrayElement(t),specificType:Xg.a.random.arrayElement(a),member:Xg.a.name.findName(),company:Xg.a.company.companyName(),ticketOwner:Xg.a.name.findName(),assignedTo:Xg.a.name.findName(),createdDate:Xg.a.date.future(),lastUpdate:Xg.a.date.future(),channel:Xg.a.random.arrayElement(r),is_vip:Xg.a.random.arrayElement(i)})}return e}()},$g=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"capitalizeEachWord",value:function(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}},{key:"toNameFormat",value:function(t,a,n){return"".concat(t," ").concat(e.getIntials(a)," ").concat(n)}},{key:"formatNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t?e.toFixed(2):e.toString()).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},{key:"getIntials",value:function(e){for(var t="",a=e.split(" "),n=0;n<a.length;n++)t+=a[n].substring(0,1).toUpperCase()+".";return t}},{key:"toCommonDateString",value:function(e){var t="string"===typeof e?new Date(e):e;if(t){var a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+a+", "+r}return""}},{key:"toShortDateString",value:function(e){var t="string"===typeof e?new Date(e):e;if(t){var a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]+" "+a+", "+r}return""}},{key:"toDateAndTime",value:function(e){var t="string"===typeof e?new Date(e):e;if(t){var a=t.getDate(),n=t.getMonth(),r=t.getFullYear(),i=t.getHours()-(t.getHours()>12?12:0),o=t.getMinutes(),l=t.getSeconds(),s=t.getHours()>12?"PM":"AM",c="0"+l;return 1!==l.toLocaleString().length&&(c=l.toLocaleString()),["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+a+", "+r+" - "+i+":"+o+":"+c+" "+s}return""}},{key:"getTimeDeffirence",value:function(e,t){for(var a=(t.getTime()-e.getTime())/1e3,n=[Math.round(a/86400),Math.round(a/3600)%24,Math.round(a/60)%60,Math.round(a)%60],r=0,i=0;i<n.length;i++)if(n[i]>0){r=i;break}return r?"".concat(n[r]," ").concat([["day","days"],["hour","hours"],["minute","minutes"],["second","seconds"]][r][1==n[r]?0:1]):""}},{key:"getAge",value:function(e){if(e){var t=Date.now()-e;return Math.abs(new Date(t).getUTCFullYear()-1970)}return null}},{key:"generateTicketNumber",value:function(e,t,a){var n="Inquiry"===e?"":"".concat({Inpatient:"INP","Outpatient Procedure":"OP","Emergency Room":"ER",Maternity:"MAT",Consultation:"CON"}[t],"-");return"".concat({Availment:"AVL",Inquiry:"INQ"}[e],"-").concat(n).concat(a)}}]),e}(),e_="http://api-dev.hims.veridata.com.ph:4101/api/",t_=Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_RENDER_CONTRACT_BASE_URL:"http%3A%2F%2Fhims-api-dev.veridata.com.ph%3A4101%2Fapi%2F",REACT_APP_PMAKER_BASE_URL:"http://18.140.39.215/api/1.0/workflow/",REACT_APP_PMAKER_ROOT_URL:"http://18.140.39.215/workflow/",REACT_APP_BASE_URL:"http://api-dev.hims.veridata.com.ph:4101/api/"}).REACT_APP_PARTNER_URL,a_=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"getUrl",value:function(){return"http://api-dev.hims.veridata.com.ph:4101/api/"}},{key:"get",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(e_+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return n?n(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){var i,o=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=o.length>4&&void 0!==o[4]?o[4]:{"Content-Type":"application/json"},fetch(e_+t,{method:"POST",headers:i,body:a}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 2:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"postFormData",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(e_+t,{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(e_+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(e_+t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(e_+t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e}).then(function(e){return n(e)}).catch(function(e){return r?r(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"pnGet",value:function(){var e=Object(m.a)(c.a.mark(function e(t,a,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t_+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return n?n(e):{}});case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),n_=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(re.a,{className:"text-button",underline:this.props.underline,color:this.props.color,download:this.props.downloadLink,href:this.props.downloadLink,onClick:this.props.onClick},this.props.icon?n.createElement(X.a,{icon:this.props.icon}):null,this.props.icon?n.createElement("span",{style:{marginLeft:"10px"}}):null,this.props.label)}}]),t}(n.Component),r_=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value||this.props.error!==e.error}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:this.props.disabled?"text-disabled text":"text"},this.props.placeholder):null,n.createElement("input",{id:this.props.id,"data-cy":this.props.id,type:"text",placeholder:this.props.innerPlaceholder,disabled:this.props.disabled,className:this.props.disabled?"text-field-disabled text-field":"text-field",style:t,value:this.props.value,onChange:function(t){(!e.props.charLimit||t.target.value.length<=e.props.charLimit)&&e.props.onChange(t.target.value)},onKeyDown:function(t){e.props.onKeyDown&&e.props.onKeyDown(t.key)}}),this.props.charLimit?n.createElement(n.Fragment,null,n.createElement("div",{className:"text"}),n.createElement("div",{className:this.props.disabled?"text-disabled text":"text",style:{textAlign:"right",marginBottom:"-15px"}},"".concat(this.props.value.length,"/").concat(this.props.charLimit))):null)}}]),t}(n.Component),i_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={value:a.props.value?a.props.value.toString():"0"},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value?this.props.disableDelimiter?e.value.toString():e.value.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";"."===t.charAt(t.length-4)&&(t=e.value.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),t!==this.state.value&&this.setState({value:this.props.isFloat&&"."===this.state.value.charAt(this.state.value.length-1)?"".concat(t,"."):t})}},{key:"render",value:function(){var e=this,t={borderColor:this.props.error?"#E53935":void 0};return n.createElement(n.Fragment,null,n.createElement("div",{className:"input-field-container"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement("input",{id:this.props.id,"data-cy":this.props.id,className:"text-field",style:t,value:this.state.value,disabled:!!this.props.disabled&&this.props.disabled,onFocus:function(){0==e.props.value&&e.setState({value:""})},onChange:function(t){var a=t.target.value,n=parseFloat(a.replace(/,|-/g,""));isNaN(n)||(n=n<1e9?n:e.props.value);var r=(isNaN(n)?"":e.props.isFloat&&"."===a.charAt(a.length-1)?"".concat(n,"."):n.toString()).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");e.setState({value:e.props.disableDelimiter?n.toString():r},function(){e.props.isFloat,e.props.onChange(isNaN(n)?0:n)})}})),this.props.errorMessage&&this.props.error?n.createElement("div",{style:{color:"red"}},this.props.errorMessage):null)}}]),t}(n.Component),o_=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.value!==e.value}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"date-picker"},this.props.placeholder?n.createElement("div",{className:"text"},this.props.placeholder):null,n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{id:this.props.id,"data-cy":this.props.id,className:this.props.disabled?"text-field-disabled text-field":"text-field",disabled:this.props.disabled,variant:"dialog",format:"MM/DD/YYYY",minDate:this.props.minDate?this.props.minDate:new Date(1900,1,1),value:this.props.value,onChange:function(t){e.props.onChange(t?t.toDate():null)}})))}}]),t}(n.Component);function l_(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function s_(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l_(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l_(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var c_={urgency:"",status:"",ticket_id:"",due_date:"",ticket_type:"",batch_no:"",client:"",assignee:""},m_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).timeOut=void 0,a.resetPage=function(){a.setState({page:0})},a.getSlicedData=function(e){if(a.props.rowsPerPageOptions&&!a.props.serverSideOption){var t=a.state.page*a.state.rowsPerPage;return e.slice(t,t+a.state.rowsPerPage)}return e},a.getFilteredRows=function(){var e=a.props.rows.filter(function(e){var t=!1;return Object.keys(e).map(function(n){t||e[n]!=a.state.filterData[n]&&void 0!==a.state.filterData[n]||(t=!0)}),t});return a.getSlicedData(e)},a.constructFilterForCount=function(e){var t=Object(Tn.cloneDeep)(e),a=Object(Tn.cloneDeep)(e),n=Object(Tn.cloneDeep)(e);return t.push({status:"OPEN"}),a.push({status:"CLOSED"}),n.push({status:"UNASSIGNED"}),{where:[{and:t},{and:a},{and:n}]}},a.apiCall=function(e,t,n){a.props.setLoading&&a.props.setLoading(!0);var r=a.state.sortingStates,i=t?0:a.state.page*a.state.rowsPerPage,o=a.state.rowsPerPage,l={and:[{status:void 0}]};"ALL"!==a.props.statusTab.toUpperCase()&&(l.and[0].status=a.props.statusTab.toUpperCase());var s=l.and,c=[];if(Object.keys(a.state.filterData).map(function(e){if(a.state.filterData[e]&&a.state.filterData[e].length>0){var t=Object(wi.a)({},e,{like:a.state.filterData[e],options:"i"});s.push(t),n&&c.push(t)}}),a.props.searchBarQuery){var m={ticket_id:{like:a.props.searchBarQuery,options:"i"}};s.push(m),n&&c.push(m)}if(!a.props.isMembershipModuleManager&&a.props.statusTab)if(["OPEN","PENDING","RESOLVED","CLOSED"].includes(a.props.statusTab.toUpperCase())){if(a.props.userData&&a.props.userData.group&&a.props.userData.group.name){if("APD_ENCODER GROUP"===a.props.userData.group.name){var d={ticket_type:{inq:["Enroll Memberlist","Enroll Member","Add Member"]}};s.push(d),n&&c.push(d)}if("APD_VERIFIER GROUP"===a.props.userData.group.name){var u={ticket_type:{inq:["Verify Memberlist","Verify Member"]}};s.push(u),n&&c.push(u)}if("APD_PRINTING_STAFF"===a.props.userData.group.name){var p={ticket_type:{inq:["Print Card IDs","Claimed Print Card IDs"]}};s.push(p),n&&c.push(p)}}if(a.props.userData&&a.props.userData.pmakerUid){var f={assignee_pmaker_uid:a.props.userData.pmakerUid};s.push(f),n&&c.push(f)}}else"ALL"===a.props.statusTab.toUpperCase()&&a.props.userData&&a.props.userData.group&&a.props.userData.group.name&&("APD_ENCODER GROUP"===a.props.userData.group.name&&s.push({ticket_type:{inq:["Enroll Memberlist","Enroll Member","Add Member"]}}),"APD_VERIFIER GROUP"===a.props.userData.group.name&&s.push({ticket_type:{inq:["Verify Memberlist","Verify Member"]}}),"APD_PRINTING_STAFF"===a.props.userData.group.name&&s.push({ticket_type:{inq:["Print Card IDs","Claimed Print Card IDs"]}}));if(a.props.statusTab&&["UNASSIGNED","ALL"].includes(a.props.statusTab.toUpperCase())&&a.props.userData&&a.props.userData.group.name&&(["APD_ENCODER GROUP","APD_VERIFIER GROUP","APD_PRINTING_STAFF"].includes(a.props.userData.group.name)||!a.props.isMembershipModuleManager)){var b=[];"APD_ENCODER GROUP"===a.props.userData.group.name?(b.push({and:[{status:"UNASSIGNED"},{ticket_type:"Enroll Memberlist"}]}),b.push({and:[{status:"UNASSIGNED"},{ticket_type:"Enroll Member"}]}),b.push({and:[{status:"UNASSIGNED"},{ticket_type:"Add Member"}]})):"APD_VERIFIER GROUP"===a.props.userData.group.name?(b.push({and:[{status:"UNASSIGNED"},{ticket_type:"Verify Memberlist"}]}),b.push({and:[{status:"UNASSIGNED"},{ticket_type:"Verify Member"}]})):"APD_PRINTING_STAFF"===a.props.userData.group.name&&(b.push({and:[{status:"UNASSIGNED"},{ticket_type:"Print Card IDs"}]}),b.push({and:[{status:"UNASSIGNED"},{ticket_type:"Claimed Print Card IDs"}]}));var g=b;"ALL"===a.props.statusTab.toUpperCase()&&b.push({and:[{assignee_pmaker_uid:a.props.userData.pmakerUid},{status:{nin:["UNASSIGNED"]}}]}),b.length&&s.push({or:b}),n&&c.push({or:g})}var _={};n&&(_=a.constructFilterForCount(c)),console.log("FILTER FOR COUNT",_);var h="";Object.keys(r).filter(function(e){return r[e]}).forEach(function(e){h="".concat(e," ").concat(r[e])}),l.and=s,console.log("AND FILTER",s),a_.get(e.getUrl(i,o,l,h,n||!1,_),function(t){t&&void 0===t.error?(a.setState({count:t&&t.count?t.count:0},function(){return console.log("page",a.state.count)}),e.onSuccess(t)):(e.onSuccess({tickets:[]}),a.setState({count:0}))},e.onFail).catch(function(e){return console.log(e)}),t&&a.setState({page:0}),a.props.setLoading&&a.props.setLoading(!1)},a.state={page:0,rowsPerPage:0,count:0,pmakerUID:"",filterData:{},sortingStates:Object(Tn.cloneDeep)(c_)},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.rowsPerPageOptions&&this.setState({rowsPerPage:this.props.rowsPerPageOptions[0]},function(){e.props.serverSideOption&&e.props.userData&&e.apiCall(e.props.serverSideOption,!1,!0)})}},{key:"componentDidUpdate",value:function(e){var t=this;e.statusTab!==this.props.statusTab&&(this.props.resetSearchBarQuery(),this.setState({filterData:{}},function(){t.props.serverSideOption&&t.apiCall(t.props.serverSideOption,!1)})),e.userData===this.props.userData&&e.isMembershipModuleManager===this.props.isMembershipModuleManager||this.props.serverSideOption&&this.apiCall(this.props.serverSideOption,!1),e.searchBarQuery!==this.props.searchBarQuery&&this.props.serverSideOption&&this.apiCall(this.props.serverSideOption)}},{key:"render",value:function(){var e=this;return console.log("render page",this.state.count),n.createElement(n.Fragment,null,n.createElement("div",{style:{overflow:this.props.canOverflow?"auto":"none"}},n.createElement(Ri.a,{className:"".concat(this.props.className?this.props.className:""," table"),stickyHeader:!!this.props.stickyHeader&&this.props.stickyHeader},n.createElement(Li.a,null,this.props.simpleModeOption?n.createElement(Ii.a,null,this.props.simpleModeOption.columns.map(function(t){return e.renderHeaderColumn(t,e.props.serverSideOption)})):this.props.renderHeader?n.createElement(Ii.a,null,this.props.renderHeader()):null),n.createElement(Wi.a,null,this.props.renderRow?this.props.rows.length>0?this.getSlicedData(this.props.rows).map(function(t,a){return e.props.renderRow(t,a)}):n.createElement(Ii.a,null,n.createElement(qn.a,{colSpan:999,style:{textAlign:"center"}},this.props.noRowsMessage?this.props.noRowsMessage:"No data found")):null))),this.props.rowsPerPageOptions&&!this.props.serverSideOption?n.createElement(zi.a,{className:"".concat(this.props.paginationClass?this.props.paginationClass:""," pagination MuiTablePagination-root"),rowsPerPageOptions:this.props.rowsPerPageOptions,count:this.props.rows.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,labelDisplayedRows:function(t){return e.props.onChangeInfo?e.props.onChangeInfo(t):"".concat(t.from,"-").concat(t.to," of ").concat(t.count)},labelRowsPerPage:this.props.labelRowsPerPage?this.props.labelRowsPerPage:"Rows per page:",onChangePage:function(t,a){e.setState({page:a})},onChangeRowsPerPage:function(t){e.setState({rowsPerPage:parseInt(t.target.value,10),page:0})}}):null,this.props.serverSideOption&&this.props.rowsPerPageOptions?n.createElement(d_,{rowsPerPage:this.state.rowsPerPage,page:this.state.page,count:this.state.count,onChangePage:function(t){e.setState({page:t},function(){e.props.serverSideOption&&e.apiCall(e.props.serverSideOption,!1)})}}):null)}},{key:"renderHeaderColumn",value:function(e,t){var a=this,r=this.state.sortingStates;return console.log("header col",e),n.createElement(qn.a,{style:s_({},e.style?e.style:null,{},{padding:"8px"})},e.name?n.createElement("span",{className:"header-2"},e.name):null,e.canSort?n.createElement("div",{style:{float:"right"}},n.createElement(od,{icon:e&&e.key&&"asc"===r[e.key]?Z.H:e&&e.key&&"desc"===r[e.key]?Z.G:Z.F,onClick:function(){if(e&&e.key){var t=e.key,n=r[e.key]&&"desc"!==r[e.key]?"desc":"asc",i=Object(Tn.cloneDeep)(c_);i[t]=n,a.setState({sortingStates:i},function(){a.props.serverSideOption&&a.apiCall(a.props.serverSideOption,!1)})}}})):null,e.filterType&&e.name?n.createElement(n.Fragment,null,"string"===e.filterType?n.createElement(r_,{id:"".concat(e.key,"_filter"),value:this.state[e.key?e.key:e.name],onChange:function(n){a.state.filterData[e.key?e.key:e.name]=n,a.setState({filterData:a.state.filterData}),t&&(clearTimeout(a.timeOut),a.timeOut=setTimeout(function(){a.apiCall(t,!0)},1e3))}}):"number"===e.filterType?n.createElement(i_,{id:"".concat(e.key,"_filter"),value:this.state[e.key?e.key:e.name],onChange:function(n){a.state.filterData[e.key?e.key:e.name]=n,a.setState({filterData:a.state.filterData}),t&&(clearTimeout(a.timeOut),a.timeOut=setTimeout(function(){a.apiCall(t,!0)},1e3))}}):"date"===e.filterType?n.createElement(o_,{id:"".concat(e.key,"_filter"),value:this.state[e.key?e.key:e.name],onChange:function(n){a.state.filterData[e.key?e.key:e.name]=n,a.setState({filterData:a.state.filterData}),t&&(clearTimeout(a.timeOut),a.timeOut=setTimeout(function(){a.apiCall(t,!0)},1e3))}}):null):null)}}]),t}(n.PureComponent),d_=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).getPagesList=function(){for(var e=[],t=Math.ceil(a.props.count/a.props.rowsPerPage),n=!1,r=Math.max(0,a.props.page-4);r<t;r++)t-r>2&&r-a.props.page>=2?n||(e.push("..."),n=!0):e.push(""+(r+1));return e.slice(Math.max(e.length-5,0))},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.getPagesList(),a={textAlign:"center"};return n.createElement(J.a,{container:!0,spacing:1,className:"custom-pagination"},n.createElement(J.a,{item:!0,xs:1}),n.createElement(J.a,{item:!0,xs:4},"".concat(this.props.page*this.props.rowsPerPage+1,"-")+"".concat(Math.min((this.props.page+1)*this.props.rowsPerPage,this.props.count)," out of ")+"".concat(this.props.count," items")),n.createElement(J.a,{item:!0,xs:7},n.createElement(J.a,{container:!0,spacing:1},n.createElement(J.a,{item:!0,xs:!0}),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(n_,{label:"First",onClick:function(){e.props.onChangePage(0)}})),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(n_,{label:"Prev",onClick:function(){var t=e.props.page-1;t>=0&&e.props.onChangePage(t)}})),t.map(function(t){var a=parseInt(t)-1,r={fontWeight:e.props.page==a?"bold":void 0,cursor:isNaN(a)?void 0:"pointer",textAlign:"center"};return n.createElement(J.a,{item:!0,xs:1},n.createElement("div",{style:r,onClick:function(){isNaN(a)||e.props.onChangePage(a)}},t))}),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(n_,{label:"Next",onClick:function(){var t=e.props.page+1;t*e.props.rowsPerPage<e.props.count&&e.props.onChangePage(t)}})),n.createElement(J.a,{item:!0,xs:1,style:a},n.createElement(n_,{label:"Last",onClick:function(){e.props.onChangePage(Math.floor(e.props.count/e.props.rowsPerPage))}})))))}}]),t}(n.PureComponent),u_=(a(329),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"icon-button",onClick:function(){return e.props.onClick()}},this.props.icon?n.createElement(X.a,{icon:this.props.icon,size:this.props.size}):null)}}]),t}(n.Component)),p_=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement(pl.a,{className:"".concat(this.props.className?this.props.className:""," custom-modal"),open:this.props.isOpen,onClose:this.props.handleClose,closeAfterTransition:!0},n.createElement(Ue.a,{in:this.props.isOpen},n.createElement("div",{className:"modal"},this.props.handleClose?n.createElement("div",{style:{textAlign:"right"}},n.createElement(u_,{icon:Z.N,size:"1x",onClick:this.props.handleClose})):null,this.props.header?n.createElement("div",{className:"header"},this.props.header):null,this.props.content?n.createElement("div",{className:"content"},this.props.content):null,this.props.footer?n.createElement("div",{className:"bottom"},this.props.footer):null))))}}]),t}(n.Component),f_=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(z.a,{id:this.props.id,"data-cy":this.props.id,className:this.props.className,disabled:this.props.disabled,variant:this.props.variant?this.props.variant:"contained",color:this.props.color?this.props.color:"primary",onClick:this.props.onClick},this.props.text)}}]),t}(n.Component),b_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={value:""},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placeholder!==e.placeholder||this.props.disabled!==e.disabled||this.props.value!==e.value||this.props.choices!==e.choices||this.props.error!==e.error}},{key:"handleOnBlur",value:function(){throw null}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"dropdown"},this.props.placeholder?n.createElement("div",{className:this.props.disabled?"text-disabled text":"text"},this.props.placeholder):null,n.createElement(C.a,{id:this.props.id,"data-cy":this.props.id,className:"actual-dropdown",classNamePrefix:this.props.error?"actual-dropdown-error":"actual-dropdown",isDisabled:!!this.props.disabled&&this.props.disabled,value:this.props.value,options:this.props.choices,onInputChange:function(t,a){e.setState({value:t})},onBlur:this.props.handleBlur?this.handleOnBlur:void 0,onFocus:function(){console.log("Dropdown - onFocus()",e.props.placeholder),console.log("Dropdown -","options:",{options:e.props.choices},"count:",e.props.choices.length),e.props.onFocus&&e.props.onFocus()},noOptionsMessage:function(){return 0===e.props.choices.length?"No options":e.state.value.length<3?"Enter at least 3 characters to search":"No options"},filterOption:this.props.showAllResult?void 0:function(t,a){var n=0===a.length,r=e.props.choices.length<=20,i=a.length<3,o=t.label.toLowerCase().includes(a.toLowerCase());return r?!!n||o:!i&&o},onChange:function(t){e.props.onChange(t)}}))}}]),t}(n.Component),g_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).onReassign=function(){var e=a.state.assignee;a.props.ticket&&a.props.onSuccess(e)},a.state={ticket:e.ticket,assignees:[],assignee:{value:"",label:"",params:[]},isError:!1},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(e.ticket!==this.props.ticket||e.mode!==this.props.mode){this.setState({assignee:{value:"",label:"",params:[]}});var a="Reassign"===this.props.mode?this.props.ticket.assignee_pmaker_uid:void 0;An.getTicketAssignees(this.props.ticket.ticket_type,a).then(function(e){if(Array.isArray(e)){var a=e.map(function(e){var t=[];t.push(e.account.pmaker_uid),t.push(e.account.username);var a=e.account.first_name+" "+e.account.last_name;return{value:a,label:a,params:t}});t.setState({assignees:a})}}).catch(function(e){return console.log(e)})}}},{key:"render",value:function(){var e=this;return n.createElement(p_,{className:"modal",isOpen:this.props.isOpen,handleClose:function(){return e.props.onClose()},header:"Reassign"===this.props.mode?"Re-assign Ticket":"Assign Ticket",content:n.createElement(n.Fragment,null,n.createElement("div",{style:{padding:"0.5rem 0"}},"Reassign"===this.props.mode?"Re-assigning this ticket will change the ownership from \n                        ".concat(this.props.ticket&&this.props.ticket.assignee?this.props.ticket.assignee:""," to a new assignee."):"Assigning this ticket will change the ownership to a new assignee."),n.createElement("div",{style:{padding:"0.5rem 0"}},n.createElement(b_,{id:"reassign_select",handleBlur:!0,placeholder:"Select New Assignee",choices:this.state.assignees,value:this.state.assignee,showAllResult:!0,onChange:function(t){e.setState({assignee:t})}}))),footer:n.createElement(n.Fragment,null,n.createElement(f_,{id:"cancel_button",text:"Cancel",variant:"outlined",onClick:function(){e.props.onClose()}}),n.createElement("span",{style:{padding:"1rem"}}),n.createElement(f_,{id:"reassign_button",text:"Reassign"===this.props.mode?"Re-assign":"Assign",variant:"contained",onClick:function(){e.onReassign()}}))})}}]),t}(n.Component),__=["APD_MANAGER GROUP","APD_SUPERVISOR GROUP","APD_TL GROUP"],h_=Object(y.a)(function(e){return{popoverCheckbox:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}}}),v_=function(e){var t=e.columns,a=e.selectedColumns,r=e.setSelectedColumns,i=h_(e),o=Object(td.usePopupState)({variant:"popover",popupId:"columnListPopover"});return n.createElement("div",null,n.createElement(z.a,Object.assign({id:"display_column_button","data-cy":"display_column_button",fullWidth:!0},Object(td.bindTrigger)(o)),n.createElement(S.a,{className:Object(tt.default)("link-button"),align:"right"},n.createElement(X.a,{icon:Z.M,className:Object(tt.default)("link-button-icon")}),n.createElement("span",{className:Object(tt.default)("link-button-text")},"Display Columns"))),n.createElement(ic.a,Object.assign({},Object(td.bindPopover)(o),{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}}),n.createElement(ns.a,null,Object(Tn.map)(t,function(e,t){var o,l=Object(Tn.findIndex)(a,{name:e.name})>=0;return n.createElement(K.a,{key:t,control:n.createElement(G.a,{checked:l,onChange:(o=e,function(e){if(e.target.checked){var t=Object(Ln.a)(a);t.push(o),r(t)}else{var n=Object(Ln.a)(a);Object(Tn.remove)(n,function(e){return e.name===o.name}),r(n)}}),value:e.name,color:"primary"}),className:i.popoverCheckbox,label:e.title})}))))},E_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).tickets=void 0,a.tableListRef=void 0,a.reset=function(){a.setState({loading:!1,query:""})},a.getTicketStats=function(){var e=a.state.rows;a.setState({ticketStats:{all:e.length,open:e.filter(function(e){return"open"===e.status.toLowerCase()}).length,closed:e.filter(function(e){return"closed"===e.status.toLowerCase()}).length,resolved:e.filter(function(e){return"resolved"===e.status.toLowerCase()}).length,unassigned:e.filter(function(e){return"unassigned"===e.status.toLowerCase()}).length,pending:e.filter(function(e){return"pending"===e.status.toLowerCase()}).length}})},a.loadTicketList=function(){console.log("load"),Object(Tn.isNil)(a.props.memberId)||a.setState({loading:!0,check_internet_flag:!0},function(){var e=a.state.query,t=Object(Tn.map)(a.state.filters,function(e,t){return{columnName:t,value:e}});An.getMemberTickets(a.props.memberId,e,t).then(function(e){if(e&&void 0===e.error){var t=[];Object(Tn.forEach)(e,function(e){t.push({status:e.status,ticket_no:e._id,dueDate:"",type:e.type,specificType:e.specificType,member:""!==Object(Tn.trim)(e.member)?Object(Tn.trim)(e.member):"N/A",company:""!==Object(Tn.trim)(e.company)?Object(Tn.trim)(e.company):"N/A",is_vip:e.is_vip?"Yes":"No",ticketOwner:e.ticketOwner,assignedTo:e.assignedTo,createdDate:$g.toDateAndTime(new Date(e.createdDate)),lastUpdate:$g.toDateAndTime(new Date(e.lastUpdate)),channel:e.channel,transaction_no:e.transaction_no,pmaker_case_uid:e.pmaker_case_uid,app_uid:"",app_number:e.app_number?e.app_number:"N/A"})}),a.setState({check_internet_flag:!1,loading:!1,rows:t},function(){a.getTicketStats(),a.tableListRef.current&&a.tableListRef.current.resetPage()})}else a.setState({loading:!1,modalProps:{isOpen:!0,title:"Loading failed",message:"An error occured while loading the list of tickets."}})}).catch(function(){a.setState({loading:!1,modalProps:{isOpen:!0,title:"Loading failed",message:"An error occured while loading the list of tickets."}})})})},a.onFilterChanged=function(e,t){clearTimeout(a.state.typingTimeoutId),a.state.filters[e]=t,a.setState({filters:a.state.filters,typingTimeoutId:setTimeout(function(){a.loadTicketList()},3e3)})},a.setSelectedColumns=function(e){a.setState({selectedColumns:e})},a.getVisibleColumns=function(){return Object(Tn.filter)(a.state.columns,function(e){return Object(Tn.findIndex)(a.state.selectedColumns,{name:e.name})>=0})},a.generateReport=function(){Object(Tn.isNil)(a.props.memberId)||a.setState({loading:!0,check_internet_flag:!0},function(){var e=a.state.query,t=Object(Tn.map)(a.state.filters,function(e,t){return{columnName:t,value:e}});An.generateMemberTicketsReport(a.props.memberId,e,t).then(function(e){a.setState({loading:!1},function(){if(void 0!==e)if("application/json"===e.type)a.setState({check_internet_flag:!1,modalProps:{isOpen:!0,title:"Generate Report Error",message:"Failed to generate list of tickets report.",next:null}});else{var t="MEMBER_TICKETS_".concat(Je()().format("MMM-DD-YYYY"),".csv"),n=new File([e],t,{type:"text/csv;charset=utf-8"});Object(bu.saveAs)(n)}else a.setState({modalProps:{isOpen:!0,title:"Generate Report Error",message:"Failed to generate list of tickets report.",next:null}})})}).catch(function(){a.setState({loading:!1})})})},a.onSearchTextChange=function(e){e.preventDefault(),clearTimeout(a.state.typingTimeoutId);var t=e.target.value;a.setState({query:t,typingTimeoutId:setTimeout(function(){a.setState({searchBarQuery:t}),a.loadTicketList()},3e3)})},a.onStatusFilterClick=function(e){a.state.status!==e&&(a.setState({status:e}),a.tableListRef.current.resetPage())},a.componentWillMount=function(){var e=Qg.columns;a.setState({columns:e,selectedColumns:e,fixedColumns:Object.keys(Qg).length>0?Qg.fixedColumns:[],formattedColumns:Object.keys(Qg).length>0?Qg.formattedColumns:[],columnExtensions:Object.keys(Qg).length>0?Qg.columnExtensions:[]}),a.props.match.params.tab&&a.setState({status:a.props.match.params.tab})},a.componentDidMount=Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An.getUserPmakerUId().then(function(e){var t={};t.pmakerUid=e,a.setState({userData:t},Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An.getUserGroup().then(function(e){t.group=e;var n=!1;__.includes(e.name)&&(n=!0),a.setState({isMembershipModuleManager:n,userData:t},Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An.getUserFullName().then(function(e){t.userName=e,console.log("USERDATA",t),a.setState({userData:t},function(){return a.setState({filters:{status:"OPEN"},startRender:!0})})}).catch(function(){return a.setState({filters:{status:"OPEN"},startRender:!0})});case 2:case"end":return e.stop()}},e)})))}).catch(function(){return a.setState({filters:{status:"OPEN"},startRender:!0})});case 2:case"end":return e.stop()}},e)})))}).catch(function(){return a.setState({filters:{status:"OPEN"},startRender:!0})});case 2:a.loadTicketList();case 3:case"end":return e.stop()}},e)})),a.handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})},a.getFilteredTickets=function(e){var t=a.tickets;return e.map(function(e){t=t.filter(function(t){return!a.state.filters[e.name]||(""===a.state.filters[e.name]||t[e.name]&&t[e.name].toString().toLowerCase().includes(a.state.filters[e.name].toLowerCase()))}).filter(function(e){return""===a.state.status||e.status.toLowerCase()===a.state.status.toLowerCase()}).filter(function(e){return""===a.state.query||e.app_number.toLowerCase().includes(a.state.query.toLowerCase())})}),a.tableListRef.current&&a.tableListRef.current.resetPage(),t},a.closeModal=function(){var e=a.state.modalProps.next;a.setState({modalProps:{isOpen:!1,title:"",message:"",next:null}},function(){Object(Tn.isNil)(e)||e()})},a.state={tab_count:{UNASSIGNED:0,CLOSED:0,OPEN:0,ALL:0},redirect:!1,redirect_info:{},startRender:!1,reassign_modal_mode:"Reassign",searchBarQuery:"",isMembershipModuleManager:!1,userData:void 0,open_reassign_ticket_modal:!1,open_confirmation_modal:!1,confirmation_modal_title:"",confirmation_modal_message:"",action_after_confirmation:function(){},check_internet_flag:!1,loading:!1,status:"open",query:"",columns:[],selectedColumns:[],fixedColumns:[],formattedColumns:{},columnExtensions:[],rows:[],ticketStats:{},ticketList:[],ticketChosen:void 0,filters:{},typingTimeoutId:null,modalProps:{isOpen:!1,title:"",message:"",next:null}},a.tickets=[],a.tableListRef=n.createRef(),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"sortTickets",value:function(e,t){var a=Object(Tn.cloneDeep)(this.state.rows);a.sort(function(a,n){return a[e]&&n[e]&&a[e].toString().toLowerCase()>n[e].toString().toLowerCase()?t?1:-1:t?-1:1}),this.setState({rows:a})}},{key:"handleClaimTicket",value:function(){var e=this,t=this.state.ticketChosen,a=this.state.userData;if(t&&a){var n={next_user:a.pmakerUid},r={status:"OPEN",assignee:a.userName,assignee_pmaker_uid:a.pmakerUid};gs.postClaim("light/case/".concat(t.pmaker_case_uid,"/claim")).then(function(a){void 0!==a&&void 0!==a.error?e.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):gs.put("cases/".concat(t.pmaker_case_uid,"/variable"),n).then(function(a){void 0!==a&&void 0!==a.error?e.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):gs.put("cases/".concat(t.pmaker_case_uid,"/route-case"),{}).then(function(a){void 0!==a&&void 0!==a.error?e.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):An.patchMembersTicket(t._id,r).then(function(){window.location.reload()})})})})}}},{key:"handleReassignTicket",value:function(e){var t=this,a=this.state.ticketChosen;if(a){this.setState({loading:!0});var n=this.state.isMembershipModuleManager,r={assignee:e.label,assignee_pmaker_uid:e.params[0]};if(a.status&&["OPEN","PENDING"].includes(a.status.toUpperCase()))if(n){var i={usr_uid_source:a.assignee_pmaker_uid,usr_uid_target:e.params[0]};gs.put("cases/".concat(a.pmaker_case_uid,"/reassign-case"),i).then(function(e){void 0!==e&&void 0!==e.error?t.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):An.patchMembersTicket(a._id,r).then(function(){t.setState({loading:!1}),window.location.reload()})})}else{var o={pressed_reassign:!0,next_user:e.params[0]};gs.put("cases/".concat(a.pmaker_case_uid,"/variable"),o).then(function(e){void 0!==e&&void 0!==e.error?t.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):gs.put("cases/".concat(a.pmaker_case_uid,"/route-case"),{}).then(function(e){void 0!==e&&void 0!==e.error?t.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):An.patchMembersTicket(a._id,r).then(function(){t.setState({loading:!1}),window.location.reload()})})})}else if(a.status&&["UNASSIGNED"].includes(a.status.toUpperCase())){var l={assignee:e.label,assignee_pmaker_uid:e.params[0],status:"OPEN"},s={next_user:e.params[0]};gs.postClaim("light/case/".concat(a.pmaker_case_uid,"/claim")).then(function(e){void 0!==e&&void 0!==e.error?t.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):gs.put("cases/".concat(a.pmaker_case_uid,"/variable"),s).then(function(e){void 0!==e&&void 0!==e.error?t.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):gs.put("cases/".concat(a.pmaker_case_uid,"/route-case"),{}).then(function(e){void 0!==e&&void 0!==e.error?t.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):An.patchMembersTicket(a._id,l).then(function(){t.setState({loading:!1}),window.location.reload()})})})})}}}},{key:"handleClickRow",value:function(){var e=Object(m.a)(c.a.mark(function e(t){var a,n,r,i,o,l,s=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=void 0,n="cases/".concat(t.pmaker_case_uid),console.log("URL",n),e.next=7,gs.get(n).then(function(e){void 0!==e&&void 0!==e.error?s.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):a=e}).catch(function(e){return console.log(e)});case 7:if(a){e.next=9;break}return e.abrupt("return");case 9:if(console.log("ACCEPT!",a),r=a.current_task,i="",!(Array.isArray(r)&&r.length>0)){e.next=16;break}i=r[0].del_index,e.next=17;break;case 16:return e.abrupt("return");case 17:return o="",l="",e.next=21,gs.get("cases/".concat(t.pmaker_case_uid,"/variables?app_index=").concat(i)).then(function(e){void 0!==e&&void 0!==e.error?s.setState({modalProps:{isOpen:!0,title:"User Data Error",message:"Token expired. Please try logging in again.",next:function(){window.location.replace("../index.html#/")}}}):e&&(e.member_upload_id&&(o=e.member_upload_id),e.mother_contract_id&&(l=e.mother_contract_id))}).catch(function(e){return console.log(e)});case 21:e.t0=t.ticket_type,e.next="Claimed Enroll Memberlist"===e.t0?24:"Enroll Memberlist"===e.t0?24:"Verify Memberlist"===e.t0?26:"Claimed Verify Memberlist"===e.t0?26:"Verify Member"===e.t0?26:"Claimed Verify Member"===e.t0?26:"Add Member"===e.t0?28:"Claimed Print Card IDs"===e.t0?30:"Print Card IDs"===e.t0?30:32;break;case 24:return this.setState({redirect:!0,redirect_info:{pathname:"/membership/encode-member/".concat(t.pmaker_case_uid,"/").concat(l,"/").concat(t.client_id,"/?ticketId=").concat(t.ticket_id,"&isProcessing=").concat(""!==t.status,"&memberUploadId=").concat(o),state:{case_id:t.pmaker_case_uid,proposal_id:l,client_id:t.client,ticket_id:t.ticket_id,isProcessing:""!==t.status,member_upload_id:o}}}),e.abrupt("break",32);case 26:return void 0!==t&&this.setState({redirect:!0,redirect_info:{pathname:"/membership/verify-member/"+t.pmaker_case_uid+"/"+o,state:{case_id:t.pmaker_case_uid}}}),e.abrupt("break",32);case 28:return this.setState({redirect:!0,redirect_info:{pathname:"/membership/add-members/".concat(t.pmaker_case_uid,"/").concat(l,"/").concat(t.client,"/?ticketId=").concat(t.ticket_id,"&isProcessing=").concat(""!==t.status,"&memberUploadId=").concat(o),state:{case_id:t.pmaker_case_uid,proposal_id:l,client_id:t.client,ticket_id:t.ticket_id,isProcessing:""!==t.status,member_upload_id:o}}}),e.abrupt("break",32);case 30:return this.setState({redirect:!0,redirect_info:{pathname:"/membership/process-batches/".concat(t.pmaker_case_uid,"/").concat(t.client_id,"/").concat(t.client)}}),e.abrupt("break",32);case 32:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderStatus",value:function(e,t){var a=this;return n.createElement(J.a,{item:!0,xs:!0,className:Object(tt.default)("tickets-table-stats")},n.createElement(S.a,{id:"".concat(t,"_ticket_tab"),"data-cy":"".concat(t,"_ticket_tab"),align:"center",onClick:function(){a.onStatusFilterClick(t)}},n.createElement("span",{className:this.state.status==t?Object(tt.default)("ticket-label-active"):Object(tt.default)("ticket-label")},e)))}},{key:"render",value:function(){var e=this;if(!0===this.state.redirect)return n.createElement(v.a,{to:this.state.redirect_info});var t=this.state,a=t.modalProps;if(!t.startRender)return n.createElement("div",null);var r=function(e){return{minWidth:e,maxWidth:e}},i=[{name:"Status",key:"status",filterType:"string",canSort:!0},{name:"Ticket ID",key:"ticket_id",filterType:"string",canSort:!0,style:r("100px")},{name:"Due Date",key:"due_date",filterType:"string",canSort:!0},{name:"Assigned To",key:"assignee",filterType:"string",canSort:!0,style:r("100px")},{name:"Ticket Type",key:"ticket_type",filterType:"string",canSort:!0},{name:"Batch Number",key:"batch_no",filterType:"string",canSort:!0,style:r("125px")},{name:"Member/Corporation",key:"client",filterType:"string",canSort:!0},{name:"",key:"",style:r("125px")}];return n.createElement("div",null,this.state.loading?n.createElement(Rn,null):null,n.createElement("div",{className:Object(tt.default)("TicketListPage")},n.createElement(J.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline"},n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("header-label")},n.createElement(S.a,{className:Object(tt.default)("title"),color:"textPrimary"},"Tickets"))),n.createElement(J.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1,className:Object(tt.default)("search")},n.createElement(J.a,{item:!0,sm:12,lg:7},n.createElement(j.a,{id:"cc_search_tickets_tf","data-cy":"cc_search_tickets_tf",placeholder:"Search ticket ID",className:Object(tt.default)("search-field"),margin:"dense",variant:"outlined",fullWidth:!0,onChange:this.onSearchTextChange,value:this.state.query,inputProps:{"aria-label":"bare"},InputProps:{startAdornment:n.createElement(X.a,{icon:Z.E,className:Object(tt.default)("input-adornment")})}})),n.createElement(J.a,{item:!0,sm:12,lg:5,container:!0,direction:"row",justify:"space-between",alignItems:"center"},n.createElement(J.a,{item:!0,sm:4,lg:4,alignContent:"flex-end",justify:"flex-end"}),n.createElement(J.a,{item:!0,sm:4,lg:4,alignContent:"flex-end",justify:"flex-end"},n.createElement(z.a,{id:"generate_report_button","data-cy":"generate_report_button",fullWidth:!0,disabled:!0,onClick:function(){e.generateReport()}},n.createElement(S.a,{className:Object(tt.default)("link-button disabled"),align:"right"},n.createElement(X.a,{icon:Z.m,className:Object(tt.default)("link-button-icon disabled")}),n.createElement("span",{className:Object(tt.default)("link-button-text")},"Generate Report")))),n.createElement(J.a,{item:!0,sm:4,lg:4,alignContent:"flex-end"},n.createElement(v_,{setSelectedColumns:this.setSelectedColumns,columns:this.state.columns,selectedColumns:this.state.selectedColumns})))),n.createElement(J.a,{container:!0,direction:"row",className:Object(tt.default)("tickets-table")},n.createElement(J.a,{item:!0,xs:12},n.createElement(N.a,{className:Object(tt.default)("tickets-table-container")},n.createElement(J.a,{container:!0,xs:12},this.renderStatus("OPEN","open"),this.renderStatus("CLOSED","closed"),this.renderStatus("UNASSIGNED","unassigned"),this.renderStatus("ALL","all")),n.createElement(J.a,{item:!0,xs:12,style:{overflow:"auto"}},n.createElement(m_,{className:"custom-table-scrollable-small",canOverflow:!0,stickyHeader:!0,ref:this.tableListRef,rows:this.state.ticketList,rowsPerPageOptions:[5,25,50],statusTab:this.state.status,isMembershipModuleManager:this.state.isMembershipModuleManager,userData:this.state.userData,searchBarQuery:this.state.searchBarQuery,resetSearchBarQuery:function(){return e.setState({searchBarQuery:""})},renderRow:function(t,a){return e.renderTicketListRow(t,a)},simpleModeOption:{columns:"unassigned"!==this.state.status?i:i.filter(function(e){return"assignee"!==e.key})},serverSideOption:{getUrl:function(e,t,a,n,r,i){var o="";n&&(o=',"order": "'.concat(n,'"'));var l="";r&&(l="tab_counts=true&filter_for_counts=".concat(JSON.stringify(i),"&"));var s="members/ticket?"+l+'filter={"skip":'.concat(e,',"limit":').concat(t,',"where":').concat(JSON.stringify(a)).concat(o,"}");return console.log("URL",s),s},onSuccess:function(t){if(console.log("RESPONSE",t),e.setState({ticketList:t.tickets},function(){return console.log(e.state.ticketList)}),t&&t.tab_counts){var a=Object(Tn.cloneDeep)(e.state.tab_count),n=0;t.tab_counts.forEach(function(e){a[e._id]=e.count,n+=e.count}),a.ALL=n,e.setState({tab_count:a})}},onFail:function(){},getCount:function(e){return e.count}},setLoading:function(t){return e.setState({loading:t})}})))))),n.createElement(g_,{mode:this.state.reassign_modal_mode,ticket:this.state.ticketChosen,isOpen:this.state.open_reassign_ticket_modal,onClose:function(){return e.setState({open_reassign_ticket_modal:!1})},onSuccess:function(t){e.setState({confirmation_modal_title:"Confirm ".concat(e.state.reassign_modal_mode," Ticket"),confirmation_modal_message:"Are you sure you want to ".concat(e.state.reassign_modal_mode.toLocaleLowerCase()," this ticket from ").concat(e.state.ticketChosen.assignee," to ").concat(t.label,"?"),action_after_confirmation:function(){return e.handleReassignTicket(t)},open_confirmation_modal:!0}),e.setState({open_reassign_ticket_modal:!1})}}),n.createElement(Cl,{id:"Confirmation Modal",isModalOpen:this.state.open_confirmation_modal,confirmText:this.state.reassign_modal_mode,modalTitle:this.state.confirmation_modal_title,modalMessage:this.state.confirmation_modal_message,onClose:function(){return e.setState({open_confirmation_modal:!1})},onConfirm:function(){e.state.action_after_confirmation&&(e.state.action_after_confirmation(),e.setState({open_confirmation_modal:!1}))}}),n.createElement(ql,{id:"ticket-list-page-modal",isModalOpen:a.isOpen,title:a.title,message:a.message,onClose:this.closeModal}),n.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}))}},{key:"renderTicketListRow",value:function(e,t){var a=this,r=e&&e.status&&["OPEN"].includes(e.status),i={backgroundColor:t%2===0?"#FFFFFF":"#F6F7FA",cursor:r?"pointer":void 0},o=!1,l=!1,s=!1;e.status&&"UNASSIGNED"===e.status.toUpperCase()&&(s=!0,this.state.isMembershipModuleManager&&(o=!0)),e.status&&["OPEN","PENDING"].includes(e.status.toUpperCase())&&this.state.isMembershipModuleManager&&(l=!0);var c=!1;return n.createElement(Ii.a,{style:i,onClick:function(){!c&&r?(console.log("ROW CLICKED",e.ticket_id),a.handleClickRow(e)):c=!1}},n.createElement(qn.a,null,e.status),n.createElement(qn.a,null,e.ticket_id),n.createElement(qn.a,null,Je()(e.due_date).isValid()?$g.toCommonDateString(e.due_date):"---"),e.status&&"UNASSIGNED"!==e.status.toUpperCase()?n.createElement(qn.a,null,e.assignee):null,n.createElement(qn.a,null,e.ticket_type),n.createElement(qn.a,null,e.batch_no),n.createElement(qn.a,null,e.client),n.createElement(qn.a,null,o?n.createElement(n.Fragment,null,n.createElement(n_,{label:"Assign",onClick:function(){console.log("CLICKED ASSIGN",e.ticket_id),c=!0,a.setState({open_reassign_ticket_modal:!0,ticketChosen:e,reassign_modal_mode:"Assign"})}}),n.createElement("div",{style:{paddingLeft:"1rem",display:"inline-block"}})):null,l?n.createElement(n.Fragment,null,n.createElement(n_,{label:"Reassign",onClick:function(){console.log("CLICKED REASSIGN",e.ticket_id),c=!0,a.setState({open_reassign_ticket_modal:!0,ticketChosen:e,reassign_modal_mode:"Reassign"})}}),n.createElement("div",{style:{paddingLeft:"1rem",display:"inline-block"}})):null,s?n.createElement(n_,{label:"Claim",onClick:function(){console.log("CLICKED CLAIM",e.ticket_id),c=!0,a.setState({ticketChosen:e},function(){return a.handleClaimTicket()})}}):null))}}]),t}(n.Component),y_=a(272);a(2011);function x_(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var O_="",C_=!1,S_=!1,w_=new(function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).DB_OBJECT=void 0,a.STORE_OBJECT=void 0,a.initStorage=function(e){a.openDb(e).then(function(e){a.DB_OBJECT=e.result;"upgradeneeded"===e.cbType&&[{name:"user_data",keyPath:"key"},{name:"icd10",keyPath:"key"},{name:"cpt",keyPath:"key"},{name:"icd10_list",keyPath:"_id"},{name:"cpt_list",keyPath:"_id"},{name:"tmp",keyPath:"key"},{name:"config",keyPath:"key"}].forEach(function(e){if(!Object(Ln.a)(a.DB_OBJECT.objectStoreNames).includes(e))if("cpt_list"===e.name){a.createStoreOnDb(a.DB_OBJECT,e.name,e.keyPath,[{name:"label",keyPath:"label",unique:!1}])}else if("icd10_list"===e.name){a.createStoreOnDb(a.DB_OBJECT,e.name,e.keyPath,[{name:"full_code",keyPath:"full_code",unique:!1},{name:"full_description",keyPath:"full_description",unique:!1}])}else a.createStoreOnDb(a.DB_OBJECT,e.name,e.keyPath).then(function(e){return console.log(e)}).catch(function(e){return e})})}).catch(function(e){return console.log(e)})},a.saveEntry=function(e,t){return a.openDb("himsDb").then(function(n){return a.DB_OBJECT=n.result,a.saveToStore(a.DB_OBJECT,t,e)})},a.getSingleEntryByKeyReturnValue=function(e,t){return a.openDb("himsDb").then(function(n){return a.DB_OBJECT=n.result,a.getByKeyReturnValue(a.DB_OBJECT,e,t)})},a.getAllEntry=function(e){return a.openDb("himsDb").then(function(t){return a.DB_OBJECT=t.result,a.getAll(a.DB_OBJECT,e)})},a.updateEntry=function(e,t,n){return a.openDb("himsDb").then(function(r){return a.DB_OBJECT=r.result,a.updateEntryByKey(a.DB_OBJECT,e,t,n)})},a.deleteEntry=function(e,t){return new Promise(function(n,r){a.openDb("himsDb").then(function(i){a.DB_OBJECT=i.result,a.deleteEntryByKey(a.DB_OBJECT,e,t).then(function(e){n(e)}).catch(function(e){return r(e)})})})},a.validateStoreCount=function(e,t){return a.openDb(e).then(function(e){return a.DB_OBJECT=e.result,a.getStoreCount(a.DB_OBJECT,t)})},a.clearUser=function(e){return a.openDb(e).then(function(e){return a.DB_OBJECT=e.result,a.clearStore(a.DB_OBJECT,"user_data")})},a}return Object(b.a)(t,e),t}(function e(){Object(d.a)(this,e),this.deleteDb=function(e){var t=window.indexedDB.deleteDatabase(e);return new Promise(function(e,a){t.onerror=function(e){console.log("Error deleting database."),a(e)},t.onsuccess=function(t){e(t)}})},this.openDb=function(e){var t=window.indexedDB.open(e,3);return new Promise(function(e,a){var n={cbType:"",result:{}};t.onerror=function(){a("Error opening database.")},t.onsuccess=function(t){var a=t.target.result;n.cbType=t.type,n.result=a,e(n)},t.onupgradeneeded=function(t){var a=t.target.result;n.cbType=t.type,n.result=a,e(n)}})},this.createStoreOnDb=function(e,t,a,n){var r=e.createObjectStore(t,{keyPath:a,autoIncrement:!1});return new Promise(function(e,t){var a={cbType:"",result:{}};n&&n.length>0&&n.forEach(function(e){r.createIndex(e.name,e.keyPath,{unique:e.unique})}),r.transaction.onerror=function(){t("error creating store on db.")},r.transaction.oncomplete=function(t){var n=t.target.result;a.cbType=t.type,a.result=n,e(a)}})},this.saveToStore=function(e,t,a){var n=e.transaction([t],"readwrite"),r=n.objectStore(t);return new Promise(function(e,t){var i={cbType:"",result:{}};(!a||a.length<0)&&t({type:"error",message:"entries invalid"}),a.forEach(function(e){r.put(e)}),n.oncomplete=function(t){i.cbType=t.type,i.result="Saved complete.",e(i)}})},this.getByKeyReturnValue=function(e,t,a){return new Promise(function(n,r){try{e.transaction(t,"readonly");var i=e.transaction(t,"readonly").objectStore(t),o={cbType:"",result:{}};i.get(a).onsuccess=function(e){var t=e.target.result;void 0===t?(o.cbType="error",o.result=null,r(o)):(o.cbType=e.type,o.result=t.value,n(o))}}catch(l){r("store not found.")}})},this.updateEntryByKey=function(e,t,a,n){return new Promise(function(r,i){try{e.transaction([t],"readwrite");var o=e.transaction([t],"readwrite").objectStore(t),l={cbType:"",result:{}};e.onerror=function(e){console.log(e)},o.get(a).onsuccess=function(e){var t=e.target.result;void 0!==t?(t.value=n,o.put(t).onsuccess=function(e){l.cbType=e.type,l.result={message:"value updated."}},r(l)):(l.cbType="error",l.result={message:"error updating value."},i(l))}}catch(s){i("store not found.")}})},this.getAll=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readonly").objectStore(t).getAll();r.onerror=function(){n("Error getting all data.")},r.onsuccess=function(e){a(e.target.result)}})},this.deleteEntryByKey=function(e,t,a){return new Promise(function(n,r){var i=e.transaction(t,"readwrite").objectStore(t),o={cbType:"",result:{}};i.delete(a).onsuccess=function(e){void 0===e.target.result?(o.cbType="error",o.result=null,r(o)):(o.cbType=e.type,o.result="entry deleted",n(o))}})},this.getStoreCount=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readwrite").objectStore(t).count();r.onerror=function(){n("error getting store count.")},r.onsuccess=function(e){a(e.target.result)}})},this.filterBy=function(e,t,a,n,r){return new Promise(function(i,o){var l=e.transaction(t,"readwrite").objectStore(t).index(a);if(0!==n.length){var s=l.openCursor(),c=[];s.onerror=function(){o("error filter")},s.onsuccess=function(e){var t=e.target.result;if(t){switch(r){case"startsWith":t.value[a].toLowerCase().startsWith(n.toLowerCase())&&c.push(t.value);break;case"match":t.value[a].toLowerCase().match(n.toLowerCase())&&c.push(t.value);break;default:t.value[a].toLowerCase().startsWith(n.toLowerCase())&&c.push(t.value)}t.continue()}else i(c)}}else i([])})},this.clearStore=function(e,t){return new Promise(function(a,n){var r=e.transaction(t,"readwrite").objectStore(t).clear();r.onerror=function(){n("error clearing store")},r.onsuccess=function(){a("store cleared")}})}})),k_=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(g.a)(e,2),i=t[0],o=t[1],l=0,s=[],d=0,u=[];Object(n.useEffect)(function(){var e={PARTNER_URL:Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_RENDER_CONTRACT_BASE_URL:"http%3A%2F%2Fhims-api-dev.veridata.com.ph%3A4101%2Fapi%2F",REACT_APP_PMAKER_BASE_URL:"http://18.140.39.215/api/1.0/workflow/",REACT_APP_PMAKER_ROOT_URL:"http://18.140.39.215/workflow/",REACT_APP_BASE_URL:"http://api-dev.hims.veridata.com.ph:4101/api/"}).REACT_APP_HIMS_API_PARTNER_URL,CLIENT_URL:Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_RENDER_CONTRACT_BASE_URL:"http%3A%2F%2Fhims-api-dev.veridata.com.ph%3A4101%2Fapi%2F",REACT_APP_PMAKER_BASE_URL:"http://18.140.39.215/api/1.0/workflow/",REACT_APP_PMAKER_ROOT_URL:"http://18.140.39.215/workflow/",REACT_APP_BASE_URL:"http://api-dev.hims.veridata.com.ph:4101/api/"}).REACT_APP_HIMS_API_CLIENT_URL},t=Object.entries(e).map(function(e){return{key:e[0],value:e[1]}});w_.initStorage("himsDb"),w_.saveEntry(t,"config").then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),w_.clearUser("himsDb").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},[]);var p=function(){console.log(O_),"Underwriting"===O_?(localStorage.setItem("sidebar","dashboard"),window.location.replace("underwriting/index.html#/underwriting/")):"Customer Care"===O_?window.location.replace("customer-care/index.html#/customer-care/"):"Membership"===O_?(localStorage.setItem("sidebar","dashboard"),window.location.replace("membership/index.html#/membership/")):"Claims"===O_?(localStorage.setItem("sidebar","dashboard"),window.location.replace("claims")):window.location.replace("system-admin/index.html#/system-admin/")},f=function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={limit:2e4,skip:d},a="".concat("http://api-dev.hims.veridata.com.ph:4101/api/","icd10-codes?filter=").concat(JSON.stringify(t)),n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=5,fetch(a,n).then(function(e){return e.json()}).then(function(e){e.length>0?(d+=e.length,u.push.apply(u,Object(Ln.a)(e)),f()):w_.saveEntry(u,"icd10_list").then(function(){S_=!0,C_&&p()}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w_.getSingleEntryByKeyReturnValue("icd10","date_updated");case 2:return t=e.sent,a="".concat("http://api-dev.hims.veridata.com.ph:4101/api/","icd10-codes/latest/").concat(t.result),n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=7,fetch(a,n).then(function(e){return e.json()}).then(function(e){var t=[];e.forEach(function(e){var a={key:"",value:{}};a.key=e._id,a.value=e,t.push(a),w_.saveEntry(t,"icd10_list").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})})}).catch(function(e){return console.log(e)});case 7:S_=!0,C_&&p();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={limit:1e3,skip:l},a="".concat("http://api-dev.hims.veridata.com.ph:4101/api/","cpts?filter=").concat(JSON.stringify(t)),n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=5,fetch(a,n).then(function(e){return e.json()}).then(function(e){e.length>0?(l+=e.length,s.push.apply(s,Object(Ln.a)(e)),_()):w_.saveEntry(s,"cpt_list").then(function(){C_=!0,S_&&p()}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w_.getSingleEntryByKeyReturnValue("cpt","date_updated");case 2:return t=e.sent,a="".concat("http://api-dev.hims.veridata.com.ph:4101/api/","cpts/latest/").concat(t.result),n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=7,fetch(a,n).then(function(e){return e.json()}).then(function(e){var t=[];e.forEach(function(e){var a={key:"",value:{}};a.key=e._id,a.value=e,t.push(a),w_.saveEntry(t,"cpt_list").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})})}).catch(function(e){return console.log(e)});case 7:C_=!0,S_&&p();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.entries(t.login).map(function(e){return{key:e[0],value:e[1]}}),n=Object.entries(t.icd10).map(function(e){return{key:e[0],value:e[1]}}),r=Object.entries(t.cpt).map(function(e){return{key:e[0],value:e[1]}}),w_.saveEntry(a,"user_data").then(function(e){console.log(e)}).catch(function(e){return console.log(e)}),w_.getSingleEntryByKeyReturnValue("icd10","date_updated").then(function(e){e.result===t.icd10.date_updated?w_.validateStoreCount("himsDb","icd10_list").then(function(e){console.log(e),0===e?f():p()}):(b(),w_.updateEntry("icd10","date_updated",t.icd10.date_updated).then(function(){}).catch(function(e){return console.log(e)}))}).catch(function(){w_.saveEntry(n,"icd10").then(function(e){console.log(e),f()}).catch(function(e){return console.log(e)})}),w_.getSingleEntryByKeyReturnValue("cpt","date_updated").then(function(e){e.result===t.cpt.date_updated?w_.validateStoreCount("himsDb","cpt_list").then(function(e){0===e?_():p()}):(h(),w_.updateEntry("cpt","date_updated",t.cpt.date_updated).then(function(e){console.log(e)}).catch(function(e){return console.log(e)}))}).catch(function(){w_.saveEntry(r,"cpt").then(function(){_()}).catch(function(e){return console.log(e)})});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=Object(n.useRef)(null),y=Object(n.useRef)(null),x=function(e){return function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x_(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x_(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},i,Object(wi.a)({},e,t.target.value));o(a)}},O=function(){var e=Object(m.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("http://api-dev.hims.veridata.com.ph:4101/api/","login"),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},j(!0),e.next=5,fetch(t,a).then(function(e){return e.json()}).then(function(){var e=Object(m.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error){e.next=14;break}return localStorage.setItem("api_token",t.login.access_token),localStorage.setItem("pm_token",t.login.access_token),localStorage.setItem("user_id",t.login.user_id),localStorage.setItem("employee_id",t.login.employee_id),localStorage.setItem("first_name",t.login.first_name),localStorage.setItem("last_name",t.login.last_name),"Underwriting"===t.login.main_module?localStorage.setItem("sidebar","dashboard"):"Customer Care"===t.login.main_module||"Membership"===t.login.main_module&&localStorage.setItem("sidebar","dashboard"),O_=t.login.main_module,t.login.pm_token=t.login.access_token,e.next=12,v(t);case 12:e.next=17;break;case 14:j(!1),alert(t.error.message),window.location.reload();case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){alert(e.message),window.location.reload()});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.username.length){e.next=4;break}return alert("Username is required."),window.location.reload(),e.abrupt("return");case 4:if(0!==i.password.length){e.next=8;break}return alert("Password is required."),window.location.reload(),e.abrupt("return");case 8:return e.next=10,O();case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=Object(n.useState)(!1),w=Object(g.a)(S,2),k=w[0],j=w[1];return r.a.createElement(J.a,{container:!0,className:"login-main"},r.a.createElement("img",{alt:"shape1",className:"login-shape-1",src:a(2012)}),r.a.createElement("img",{alt:"shape2",className:"login-shape-2",src:a(2013)}),r.a.createElement(J.a,{item:!0,xs:6}),r.a.createElement(J.a,{item:!0,xs:6,className:"login-block"},r.a.createElement("img",{alt:"logo",className:"login-logo",src:a(2014)}),r.a.createElement("div",{className:"login-project-name"},"Intellicare HIMS"),r.a.createElement("div",{className:"login-input-area"},r.a.createElement("span",{className:"login-text"},"Username"),r.a.createElement(y_.a,{className:"login-text-field",fullWidth:!0,value:i.username,onChange:x("username"),inputRef:E})),r.a.createElement("div",{className:"login-input-area"},r.a.createElement(J.a,{container:!0,className:"login-text"},r.a.createElement(J.a,{item:!0,xs:6},"Password"),r.a.createElement(J.a,{item:!0,xs:6,style:{textAlign:"right"}},r.a.createElement(re.a,{className:"login-link",onClick:function(){alert("onForgotPassword() clicked")}},"Forgot Password"))),r.a.createElement(y_.a,{className:"login-text-field",fullWidth:!0,type:"password",onChange:x("password"),inputRef:y})),r.a.createElement(z.a,{disabled:!!k,className:"login-button",onClick:C},k?"Initializing...":"LOG IN"),r.a.createElement("div",{style:{paddingTop:"2.5rem"}},"Problems logging in? Please \xa0",r.a.createElement(re.a,{className:"login-link",onClick:function(){alert("onContact() clicked")}},"contact your IT Team"),"\xa0 for assistance.")))},j_=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",width:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},boldText:{fontWeight:"bold"},cancelButton:{width:115,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),N_=function(e){var t=e.isModalOpen,a=e.id,r=j_();return n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},e.title,n.createElement(ne.a,{"data-cy":"missing_column_error_close_btn",id:"missing_column_error_close_btn","aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0,className:r.dialogContentContainer},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},e.message)),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{"data-cy":"missing_column_error_ok_btn",id:"missing_column_error_ok_btn",className:r.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Ok"))))))};N_.defaultProps={isModalOpen:!1,id:"modal_id"};var D_=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",width:"350px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:600},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},boldText:{fontWeight:"bold"},saveButton:{minWidth:100},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},contentText:{fontWeight:700},label:{fontSize:"1rem"},errorText2:{color:"#E53935",marginTop:"0px"},numberField:{marginTop:e.spacing(2),paddingLeft:e.spacing(6)}}}),T_=function(e){var t=e.isModalOpen,a=e.id,r=D_(),i=Object(n.useState)(""),o=Object(g.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(!1),m=Object(g.a)(c,2),d=m[0],u=m[1],p=Object(n.useState)(""),f=Object(g.a)(p,2),b=f[0],_=f[1];return Object(n.useEffect)(function(){s(e.state_data.number_of_members)},[e.state_data]),n.createElement(U.a,{id:a,open:t,"aria-labelledby":"modal-title",className:r.dialog,style:{zIndex:9999}},n.createElement("div",null,n.createElement(J.a,{container:!0,className:r.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:r.dialogTitle,disableTypography:!0,id:"modal-title"},e.title,n.createElement(ne.a,{"data-cy":"conflict_member_number_close_btn",id:"conflict_member_number_close_btn","aria-label":"close",className:r.closeButton,onClick:e.onClose},n.createElement(Xe.a,null)))),n.createElement(J.a,{item:!0,xs:!0,className:r.dialogContentContainer},n.createElement(V.a,{className:r.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:r.dialogContentText},n.createElement("span",null,"This batch was set to have ",n.createElement("span",{className:r.contentText},(new Intl.NumberFormat).format(e.state_data.number_of_members)," members "),"but the file you\u2019re trying to upload has ",n.createElement("span",{className:r.contentText},(new Intl.NumberFormat).format(e.state_data.rows)," rows. "),"Please update the number of members in the batch upload."),n.createElement(J.a,{container:!0,justify:"center",alignItems:"center",className:r.numberField},n.createElement(J.a,{item:!0,xs:12},n.createElement(F.a,{className:r.label,htmlFor:"conflict_member_number_error_field"},"No. of Members"),n.createElement(j.a,{"data-cy":"conflict_member_number_error_field",id:"conflict_member_number_error_field",style:{marginTop:"8px"},type:"number",margin:"normal",variant:"outlined",value:l,onChange:function(e){var t=e.target.value;s(t)},error:d,inputProps:{"aria-label":"bare"}}),!0===d?n.createElement(R.a,{id:"add_details_number_of_members_error",className:r.errorText2},b):null)))),n.createElement(q.a,{className:r.dialogAction},n.createElement(z.a,{"data-cy":"conflict_member_number_save_btn",id:"conflict_member_number_save_btn",className:r.saveButton,variant:"contained",color:"primary",onClick:function(){return""===l||0===l?(u(!0),void _("Number of members is required.")):parseInt(l)!==e.state_data.rows?(u(!0),void _("Number of members not equal to the rows of file.")):void(e.onSave&&e.onSave(l))}},"Save"))))))};T_.defaultProps={isModalOpen:!1,id:"modal_id"};var M_=Object(y.a)({root:{width:"100%"},tableWrapper:function(e){return{overflow:"auto",maxHeight:e.maxHeight?e.maxHeight:"auto"}},tableHeader:{backgroundColor:"#272E4C"},select:{backgroundColor:"transparent"},table:{"& th:not(:last-child)":{borderRight:"1px solid rgba(60, 57, 74, 0.3);"},"& td:not(:last-child)":{borderRight:"1px solid rgba(60, 57, 74, 0.3);"}},cell:{padding:"10px 40px 10px 16px"}}),F_=function(e){var t=n.useState(e.id),a=Object(g.a)(t,2),r=a[0],i=a[1],o=n.useState(e.rows),l=Object(g.a)(o,2),s=l[0],c=l[1],m=n.useState(e.columns),d=Object(g.a)(m,2),u=d[0],p=d[1];n.useEffect(function(){i(e.id),c(e.rows),p(e.columns)},[e.id,e.rows,e.columns]);var f=M_(e);function b(t){e.handleChange&&e.handleChange(t.target.value,t.target.name,e.name)}return n.createElement(N.a,{className:f.tableWrapper},n.createElement(Ri.a,{id:r,stickyHeader:!0,className:f.table},n.createElement(Li.a,{className:f.tableHeader},n.createElement(Ii.a,null,u.map(function(e,t){return n.createElement(qn.a,{className:f.cell,key:t,align:e.align,style:{minWidth:e.minWidth}},e.title)}))),n.createElement(Wi.a,null,s.map(function(t,a){return n.createElement(Ii.a,{role:"checkbox",tabIndex:-1,key:t.code,className:t.className?t.className:""},u.map(function(r,i){var o=t[r.name],l=!!t.required&&t.required;return r.type?function(t,a,r,i){var o,l=a[t.name];switch(t.type){case"select":if(t.options){var c=[];if("column names"===e.name||"add_new_data_map"===e.name){var m=s.map(function(e){if(""!==e.sheet_name)return e.sheet_name});if("Member ID"===a.system_name)for(var d in t.options){var u=t.options[d];""===u.value||"Member ID"!==u.value||-1!==m.indexOf(u.value)&&u.value!==l||c.push(u)}else for(var p in t.options){var g=t.options[p];""===g.value||"Member ID"===g.value||-1!==m.indexOf(g.value)&&g.value!==l||c.push(g)}c.length>=1&&c.unshift({id:"",value:"",label:""}),0===c.length&&c.push({id:"",value:"no_data_available",label:"No data available"})}else{var _=Object(Ln.a)(t.options);_.push({id:a.values,value:"".concat(a.values," - For Validation"),label:"For Validation"}),c=_}o=n.createElement(qn.a,{className:f.cell,key:i,align:t.align},n.createElement(A.a,{id:t.id,className:f.select,value:l,name:r.toString(),onChange:b,style:{width:"100%",backgroundColor:"transparent"}},c.map(function(e,t){return n.createElement(D.a,{key:t,value:e.value,disabled:"no_data_available"===e.value},e.label)})))}else o=n.createElement(qn.a,{className:f.cell,key:i,align:t.align},t.format&&"number"===typeof l?t.format(l):l);break;default:o=n.createElement(qn.a,{className:f.cell,key:i,align:t.align},t.format&&"number"===typeof l?t.format(l):l)}return o}(r,t,a,i):n.createElement(qn.a,{className:f.cell,key:i,align:r.align},r.format&&"number"===typeof o?r.format(o):o,l?" *":"")}))}),0===s.length?n.createElement(Ii.a,{role:"checkbox",tabIndex:-1},n.createElement(qn.a,{className:f.cell,align:"center",colSpan:u.length},e.empty_message)):null)))};F_.defaultProps={rows:[],columns:[]};a(486);var P_=Object(y.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",minWidth:"250px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:"5px",fontSize:"16px",color:"#272E4C",fontWeight:600,padding:"16px 18px"},dialogAction:{marginBottom:e.spacing(1),justifyContent:"center",padding:"3px"},dialogContentContainer:{width:"100%"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},saveButton:{width:115,marginLeft:25},label:{fontSize:"1rem"},errorText:{marginTop:"0px",marginBottom:"5px",color:"#E53935"},errorText2:{marginTop:"10px",color:"#E53935"}}}),A_=function(e){var t=e.isModalOpen,a=e.account,r=e.id,i=P_(),o="add_new_data_map",l=Object(n.useState)(""),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)(!1),u=Object(g.a)(d,2),p=u[0],f=u[1],b=Object(n.useState)(!1),_=Object(g.a)(b,2),h=_[0],v=_[1],E=Object(n.useState)(""),y=Object(g.a)(E,2),x=y[0],O=y[1],C=Object(n.useState)(!1),S=Object(g.a)(C,2),w=S[0],k=S[1],N=Object(n.useState)(""),D=Object(g.a)(N,2),T=D[0],M=D[1],P=Object(n.useState)({}),A=Object(g.a)(P,2),B=A[0],I=A[1];return Object(n.useEffect)(function(){e.isModalOpen&&(m(""),e.data.columns[1].options=e.data.columns[1].options.filter(function(e){return"Member ID"!==e.id}),e.data.rows=e.data.rows.filter(function(e){return"member_id"!==e.field_name}),I(e.data),function(){var t=B,a=t.rows,n=t.columns;if(!a||!n)return;var r=Object(Tn.find)(n,function(e){return!(!e.type||"select"!==Object(Tn.lowerCase)(e.type))});if(!r||!r.options)return;for(var i=r.options,l=a.length,s=function(e){var n=a[e].system_name,r=Object(Tn.find)(i,function(e){return Object(Tn.lowerCase)(n)===Object(Tn.lowerCase)(e.value)});r&&(t.rows[e].sheet_name=r.value)},c=0;c<l;c++)s(c);e.setDataValues(t,o)}())},[e.isModalOpen]),n.createElement(U.a,{id:r,open:t,"aria-labelledby":"modal-title",className:i.dialog},n.createElement("div",null,n.createElement(J.a,{container:!0,className:i.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},n.createElement(J.a,{item:!0,xs:!0},n.createElement(Y.a,{className:i.dialogTitle,disableTypography:!0,id:"modal-title"},e.title)),n.createElement(J.a,{item:!0,xs:!0,className:i.dialogContentContainer},n.createElement(V.a,{className:i.dialogContent,style:{padding:"0px 20px 10px 20px"}},n.createElement(H.a,{className:i.dialogContentText},n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:12},n.createElement(F.a,{className:i.label,htmlFor:"add_new_data_map_field"},"Name"),n.createElement(j.a,{"data-cy":"add_new_data_map_field",id:"add_new_data_map_field",style:{marginTop:"8px",width:"100%"},margin:"normal",variant:"outlined",value:c,onChange:function(e){var t=e.target.value;m(t),v(!1),O("")},error:h,inputProps:{"aria-label":"bare"}}),!0===h?n.createElement(R.a,{id:"add_new_data_map_field_error",className:i.errorText},x):null),n.createElement(J.a,{item:!0,xs:12},n.createElement(F_,{"data-cy":"add_new_data_map_table",id:"add_new_data_map_table",rows:Object.keys(B).length>0?B.rows:[],columns:Object.keys(B).length>0?B.columns:[],empty_message:"No data available.",name:o,handleChange:function(t,a,n){var r=B;r.rows[parseInt(a)].sheet_name=t,e.setDataValues(r,n),k(!1),M("")},maxHeight:"300px"}),!0===w?n.createElement(R.a,{id:"add_new_data_map_field_error",className:i.errorText2},T):null),n.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"5px"}},n.createElement(ns.a,null,n.createElement(K.a,{control:n.createElement(G.a,{"data-cy":"add_new_data_map_set_default",id:"add_new_data_map_set_default",checked:p,style:{padding:"5px"},color:"primary",onChange:function(e){f(e.target.checked)}}),label:"Set as template default for ".concat(a)})))))),n.createElement(q.a,{className:i.dialogAction},n.createElement(z.a,{"data-cy":"cancel_new_data_map_btn",id:"cancel_new_data_map_btn",className:i.cancelButton,variant:"contained",color:"secondary",onClick:e.onClose},"Cancel"),n.createElement(z.a,{"data-cy":"save_new_data_map_btn",id:"save_new_data_map_btn",className:i.saveButton,variant:"contained",color:"primary",onClick:function(){var t=0;""!==c&&void 0!==c||(v(!0),O("Name is required."),t+=1);var a=!1;for(var n in B.rows){var r=B.rows[n];if(""!==r.sheet_name&&void 0!==r.sheet_name){a=!0;break}}if(a||(t+=1,k(!0),M("Please set mapping.")),0===t){e.onClose();var i={client_id:"",name:c,is_default:p,mapping:[]};for(var o in B.rows){var l=B.rows[o];""!==l.sheet_name&&void 0!==l.sheet_name&&i.mapping.push({system_name:l.system_name,sheet_name:l.sheet_name})}e.savingNewDataMap(i)}}},"Save"))))))};A_.defaultProps={isModalOpen:!1,id:"modal_id"};var B_=Object(y.a)(function(e){return Object(x.a)({root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"1rem",fontWeight:600},dialogTitleProcessing:{color:"#272E4C"},dialogTitleDone:{color:"#3ab77d"},dialogTitleTicket:{marginLeft:"16px",fontSize:"0.875rem",fontWeight:500,color:"#151c1b80",textTransform:"uppercase"},dialogTitleSubtext:{fontSize:"0.875rem",fontWeight:400,color:"#272E4C"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},boldText:{fontWeight:"bold"},cancelButton:{marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{marginLeft:25},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},linearProgress:{height:10,colorPrimary:{backgroundColor:"#3ab77d"},barColorPrimary:{backgroundColor:"#151c1b80"}},progress:{fontSize:"1rem",fontWeight:600},progressCount:{color:"#3ab77d"},progressTotalCount:{color:"#151c1b80"}})}),I_=function(e){var t=B_(),a=Object(n.useState)(!0),i=Object(g.a)(a,1)[0],o=Object(n.useState)("xl"),l=Object(g.a)(o,1)[0],s=Object(n.useState)(""),c=Object(g.a)(s,2),m=c[0],d=c[1],u=Object(n.useState)(""),p=Object(g.a)(u,2),f=p[0],b=p[1],_=Object(n.useState)(""),h=Object(g.a)(_,2),v=h[0],E=h[1],y=Object(n.useState)(t.dialogTitleDone),x=Object(g.a)(y,2),O=x[0],C=x[1],S=Object(n.useState)(0),w=Object(g.a)(S,2),k=w[0],j=w[1],N=Object(n.useState)(0),D=Object(g.a)(N,2),T=D[0],M=D[1],F=Object(n.useState)(0),P=Object(g.a)(F,2),A=P[0],B=P[1],I=Object(n.useState)([]),R=Object(g.a)(I,2),L=R[0],W=R[1];Object(n.useEffect)(function(){if(e.status){var t=e.status,a=t.status,n=t.active_index,r=t.total_count;if(!Object(Tn.isNil)(a)&&!Object(Tn.isNil)(n)&&!Object(Tn.isNil)(r)){var i=n/r*100;d(a),M(r),j(n),B(i)}}},[e.status]),Object(n.useEffect)(function(){X(),Z()},[m]);var H=function(){e.onCancelProcess&&e.onCancelProcess()},G=function(){e.onBackToDashboard&&e.onBackToDashboard()},K=function(){e.onConfirmEnrollment&&e.onConfirmEnrollment()},X=function(){var e=O,a=f,n=v;switch(Object(Tn.toLower)(m)){case Object(Tn.toLower)("SUCCESS"):a="Finished Processing Members",n="Processing the member list is done. You may proceed with the enrollment.",e=t.dialogTitleDone;break;case Object(Tn.toLower)("ONGOING"):case Object(Tn.toLower)("INITIAL"):a="Processing Members",n="Please wait while we process the members you uploaded. You may go back to this page later or check the dashboard for its progress.",e=t.dialogTitleProcessing;break;default:a=f,n=v,e=O}b(a),E(n),C(e)},Z=function(){var e=[];switch(Object(Tn.toLower)(m)){case Object(Tn.toLower)("SUCCESS"):e=[r.a.createElement(z.a,{"data-cy":"member_upload_status_confirm_btn",id:"member_upload_status_confirm_btn",key:"confirm-enrollment-btn",className:t.submitButton,variant:"contained",color:"primary",onClick:K},"Confirm Enrollment")];break;case Object(Tn.toLower)("INITIAL"):case Object(Tn.toLower)("ONGOING"):e=[r.a.createElement(z.a,{"data-cy":"member_upload_status_cancel_btn",id:"member_upload_status_cancel_btn",key:"cancel-process-btn",className:t.cancelButton,variant:"contained",color:"secondary",onClick:H},"Cancel Process"),r.a.createElement(z.a,{"data-cy":"member_upload_status_dashboard_btn",id:"member_upload_status_dashboard_btn",key:"back-dashboard-btn",className:t.submitButton,variant:"contained",color:"primary",onClick:G},"Back to Dashboard")];break;default:e=[]}W(e)};return r.a.createElement(U.a,{id:e.id,open:e.isOpen,fullWidth:i,maxWidth:l,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(Y.a,{id:"".concat(e.id,"-dialog-title"),className:t.dialogTitle,disableTypography:!0},r.a.createElement("div",null,r.a.createElement("span",{id:"member_upload_status_title",className:Object(tt.default)(t.dialogTitle,O)},f),r.a.createElement("span",{id:"member_upload_status_ticket_id",className:t.dialogTitleTicket},"TICKET ID: ",e.ticketId||"-")),r.a.createElement("div",null,r.a.createElement("span",{className:t.dialogTitleSubtext},v))),r.a.createElement(V.a,{className:t.dialogContent},r.a.createElement(J.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"stretch",direction:"column",spacing:1},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(ss.a,{"data-cy":"member_upload_status_progress",id:"member_upload_status_progress",className:t.linearProgress,variant:"determinate",value:A})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("div",null,r.a.createElement("span",{"data-cy":"member_upload_status_processed_entries",id:"member_upload_status_processed_entries",className:Object(tt.default)(t.progress,t.progressCount)},"".concat(k,"/")),r.a.createElement("span",{"data-cy":"member_upload_status_total_entries",id:"member_upload_status_total_entries",className:Object(tt.default)(t.progress,t.progressTotalCount)},"".concat(T," entries")))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(ll,{id:"upload_file_table",rows:Object.keys(e.uploadedData).length>0?e.uploadedData.rows:[],columns:Object.keys(e.uploadedData).length>0?e.uploadedData.columns:[],message:"No available data",onClickRow:function(){},disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,formattedColumns:Object.keys(e.uploadedData).length>0?e.uploadedData.formattedColumns:{},columnExtensions:Object.keys(e.uploadedData).length>0?e.uploadedData.columnExtensions:[],pageSize:10})))),r.a.createElement(q.a,{className:t.dialogAction},L))};I_.defaultProps={id:"member-upload-status-modal-id",isOpen:!1};var R_=Object(y.a)({listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(44, 46, 142, 1)",cursor:"pointer",textDecoration:"underline"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:400,color:"rgba(39, 46, 76, 0.5)",cursor:"pointer"},listBorder:{borderRight:"1px solid rgba(60, 57, 74, 0.16)"},error:{marginTop:"15px",color:"#E53935"},spanFont:{fontWeight:700}}),L_=function(e){var t=function(t){return e.uploadMemberData[t]},a=Object(n.useState)(!1),r=Object(g.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(!1),s=Object(g.a)(l,2),c=s[0],m=s[1],d=Object(n.useState)("Cancel processing of members"),u=Object(g.a)(d,1)[0],p=Object(n.useState)(""),f=Object(g.a)(p,2),b=f[0],_=f[1],h=Object(n.useState)(e.column_names),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)(e.uploaded_data),O=Object(g.a)(x,2),C=O[0],w=O[1],k=Object(n.useState)(!1),N=Object(g.a)(k,2),D=N[0],T=N[1],M=Object(n.useState)(t("selected_filename")),P=Object(g.a)(M,2),A=P[0],B=P[1],I=Object(n.useState)("gender"),R=Object(g.a)(I,2),L=R[0],W=R[1],U=Object(n.useState)(!1),Y=Object(g.a)(U,2),V=Y[0],H=Y[1],q=Object(n.useState)(""),G=Object(g.a)(q,2),K=G[0],Q=G[1],$=Object(n.useState)(""),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],le=Object(n.useState)(null),se=Object(g.a)(le,2),de=se[0],pe=se[1],fe=Object(n.useState)(!1),be=Object(g.a)(fe,2),ge=be[0],_e=be[1],he=Object(n.useState)({}),ve=Object(g.a)(he,2),Ee=ve[0],ye=ve[1],xe=Object(n.useState)(!1),Oe=Object(g.a)(xe,2),Ce=Oe[0],Se=Oe[1],we=Object(n.useState)(!1),ke=Object(g.a)(we,2),je=ke[0],Ne=ke[1],De=Object(n.useState)("File successfully uploaded."),Te=Object(g.a)(De,1)[0],Me=Object(n.useState)("success"),Fe=Object(g.a)(Me,1)[0];Object(n.useEffect)(function(){y(e.column_names)},[e.column_names]),Object(n.useEffect)(function(){w(e.uploaded_data)},[e.uploaded_data]),Object(n.useEffect)(function(){e.isProcessing&&e.getProcessingStatus()},[e.isProcessing]),Object(n.useEffect)(function(){if(e.processingStatus){var t=e.processingStatus,a=t.status,n=t.active_index,r=t.total_count,i=t.message;Object(Tn.isNil)(n)||Object(Tn.isNil)(r)||_("".concat(n," out of ").concat(r," members are already processed. Cancelling this will stop the enrollment and all progress will not be saved. Are you sure you want to cancel?")),["INITIAL","ONGOING","SUCCESS"].includes(a)?o(!0):"FAILED"===a&&(ae("Processing of Members Failed"),Object(Tn.toLower)(i)===Object(Tn.toLower)("Attempt to write outside buffer bounds")?Q("Processing of members failed. Please try again."):Q(i),o(!1),H(!0))}},[e.processingStatus]),Object(n.useEffect)(function(){e.filtered_raw_data&&e.filtered_raw_data.columns&&e.filtered_raw_data.data_values&&e.filtered_raw_data.rows&&Re(e.filtered_raw_data,e.selected_data_map)},[e.filtered_raw_data,e.selected_data_map]),Object(n.useEffect)(function(){var e=t("selected_filename");T(!!e),B(e)},[e.uploadMemberData]);var Pe=function(t,a){e.updateUploadMemberData&&e.updateUploadMemberData(t,a)},Ae=R_(),Be={formattedColumns:{},columnExtensions:[],columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header"}],rows:[{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""}]};function Ie(e,t,a){for(var n in e){var r=e[n];for(var i in void 0===a.data_values[r]&&(a.data_values[r]=[]),t)void 0!==t[i][n]&&null!==t[i][n]&&""!==t[i][n]&&-1===a.data_values[r].indexOf(t[i][n])&&a.data_values[r].push(t[i][n])}return a}function Re(t,a){var n=t.columns,r=t.rows,i={formattedColumns:{},columnExtensions:[],columns:[],rows:[]},o={columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header",type:"select",options:[{id:"",value:"",label:""}]}],rows:[]};for(var l in n)if(n[l]){var s=n[l].replace(" ","_").toLowerCase();i.columns.push({name:s,title:n[l]}),i.columnExtensions.push({columnName:s,wordWrapEnabled:!0}),o.columns[1].options.push({id:n[l],value:n[l],label:n[l]})}var c=Le(o,t,i,a);for(var m in o=c.temp_table,i=c.temp_tables,r){var d={};for(var u in i.columns)d[i.columns[u].name]=r[m][u];i.rows.push(d)}e.updateState(i,"uploaded_data"),e.updateState(o,"columns_data")}function Le(t,a,n,r){var i=["Gender","Civil Status","Plan Type","Type","Relationship to Principal"],o=[];e.column_names&&(o=e.column_names.rows);var l=function(e){return o.find(function(t){return t.system_name===e})},s=function(e,t){var a=Object(Tn.find)(e,function(e){var a=Object(Tn.lowerCase)(t),n=Object(Tn.lowerCase)(e);return a===n||Object(Tn.replace)(a," ","_")===n});return null!==a&&void 0!==a};if(r){var c=Object(Tn.cloneDeep)(e.data_maps),m=Object(Tn.find)(c,function(e){return e._id===r.id}),d=[];e.column_names&&e.column_names.rows&&(d=e.column_names.rows);if(m){var u=[],p=a.columns;for(var f in e.system_names){var b=e.system_names[f],g="",_="",h=function(){var e,a=m.mapping[v];if(a.system_name===b.system_name){if(p&&p.length>0&&-1!==p.indexOf(a.sheet_name)){g=a.sheet_name;var n=l(a.sheet_name);n&&(g=n.sheet_name)}else if(p&&p.length>0&&s(p,a.system_name)){g=Object(Tn.find)(p,function(e){var t=Object(Tn.lowerCase)(a.system_name),n=Object(Tn.lowerCase)(e);return t===n||Object(Tn.replace)(t," ","_")===n});var r=l(a.sheet_name);r&&(g=r.sheet_name)}else if(p&&0===p.length)g=a.sheet_name,t.columns[1].options.push({id:"",value:g,label:g});else{var i=(e=a,Object(Tn.find)(d,function(t){return t.system_name===e.system_name}));Object(Tn.isNil)(i)||(g=i.sheet_name)}return _=g.replace(" ","_").toLowerCase(),"break"}};for(var v in m.mapping){if("break"===h())break}if(-1!==i.indexOf(b.system_name)&&We(b.system_name,g,a),g&&!0===b.is_required){var E=g.replace(" ","_").toLowerCase();u.push(E)}t.rows.push({system_name:b.system_name,field_name:b.field_name,sheet_name:g,sheet_field:_,required:b.is_required})}Object.keys(n).length>0&&u.length>0?n.formattedColumns.required_columns=u:Object.keys(n).length>0&&(n.formattedColumns={})}}else for(var y in e.system_names){var x=e.system_names[y];t.rows.push({system_name:x.system_name,field_name:x.field_name,sheet_name:"",sheet_field:"",required:x.is_required})}return{temp_table:t,temp_tables:n}}function We(t,a,n){var r={columns:[{name:"values",title:"Values"},{name:"data_column",title:"Data Column",type:"select",options:[],callback:Ue}],rows:[]};switch(t.toLowerCase()){case"gender":if(n.data_values[a]){var i=n.data_values[a],o=[{id:"",value:"",label:""},{id:"",value:"Female",label:"Female"},{id:"",value:"Male",label:"Male"},{id:"",value:"Unspecified",label:"Unspecified"}];if(r.columns[1].options=o,i){var l=function(t){var a=i[t];if(e.gender_data){var n=e.gender_data.rows;if(n&&n.length>0){var l=n.find(function(e){return e.values===a});l&&(a=l.data_column)}}var s=o.find(function(e){return e.value===a}),c="";s&&(c=s.value),r.rows.push({values:i[t],data_column:c})};for(var s in i)l(s)}}e.updateState(r,"gender_data");break;case"civil status":if(n.data_values[a]){var c=n.data_values[a],m=[{id:"",value:"",label:""},{id:"",value:"Single",label:"Single"},{id:"",value:"Married",label:"Married"},{id:"",value:"Single Parent",label:"Single Parent"},{id:"",value:"Annulled",label:"Annulled"},{id:"",value:"Widowed",label:"Widowed"},{id:"",value:"Divorced",label:"Divorced"},{id:"",value:"Separated",label:"Separated"}];if(r.columns[1].options=m,c){var d=function(t){var a=c[t];if(e.civil_status_data){var n=e.civil_status_data.rows;if(n&&n.length>0){var i=n.find(function(e){return e.values===a});i&&(a=i.data_column)}}var o=m.find(function(e){return e.value===a}),l="";o&&(l=o.value),r.rows.push({values:c[t],data_column:l})};for(var s in c)d(s)}}e.updateState(r,"civil_status_data");break;case"plan type":if(n.data_values[a]){var u=n.data_values[a],p=[{id:"",value:"",label:""},{id:"",value:"default_plantype_placeholder",label:"Default"}],f=e.plan_type_options;if(f&&f.length>0&&(p=[{id:"",value:"",label:""}].concat(Object(Ln.a)(f))),r.columns[1].options=p,u){var b=function(t){var a=u[t];if(e.plan_type_data){var n=e.plan_type_data.rows;if(n&&n.length>0){var i=n.find(function(e){return e.values===a});i&&(a=i.data_column)}}var o=p.find(function(e){return e.value===a}),l="";o&&(l=o.value),r.rows.push({values:u[t],data_column:l})};for(var s in u)b(s)}}e.updateState(r,"plan_type_data");break;case"type":if(n.data_values[a]){var g=n.data_values[a],_=[{id:"",value:"",label:""},{id:"",value:"Principal",label:"Principal"},{id:"",value:"Dependent",label:"Dependent"},{id:"",value:"Extended Dependent",label:"Extended Dependent"}];if(r.columns[1].options=_,g){var h=function(t){var a=g[t];if(e.type_data){var n=e.type_data.rows;if(n&&n.length>0){var i=n.find(function(e){return e.values===a});i&&(a=i.data_column)}}var o=_.find(function(e){return e.value===a}),l="";o&&(l=o.value),r.rows.push({values:g[t],data_column:l})};for(var s in g)h(s)}}e.updateState(r,"type_data");break;case"relationship to principal":if(n.data_values[a]){var v=n.data_values[a],E=[{id:"",value:"",label:""},{id:"",value:"Mother",label:"Mother"},{id:"",value:"Father",label:"Father"},{id:"",value:"Brother",label:"Brother"},{id:"",value:"Sister",label:"Sister"},{id:"",value:"Husband",label:"Husband"},{id:"",value:"Wife",label:"Wife"},{id:"",value:"Son",label:"Son"},{id:"",value:"Daughter",label:"Daughter"},{id:"",value:"Grandmother",label:"Grandmother"},{id:"",value:"Grandfather",label:"Grandfather"},{id:"",value:"Grandson",label:"Grandson"},{id:"",value:"Granddaughter",label:"Granddaughter"},{id:"",value:"Common Law Partner",label:"Common Law Partner"},{id:"",value:"Same Sex Partner",label:"Same Sex Partner"},{id:"",value:"Auntie",label:"Auntie"},{id:"",value:"Uncle",label:"Uncle"},{id:"",value:"Niece",label:"Niece"},{id:"",value:"Nephew",label:"Nephew"},{id:"",value:"Cousin",label:"Cousin"},{id:"",value:"Household Help",label:"Household Help"}];if(r.columns[1].options=E,v){var y=function(t){var a=v[t];if(e.relationship_data){var n=e.relationship_data.rows;if(n&&n.length>0){var i=n.find(function(e){return e.values===a});i&&(a=i.data_column)}}var o=E.find(function(e){return e.value===a}),l="";o&&(l=o.value),r.rows.push({values:v[t],data_column:l})};for(var s in v)y(s)}}e.updateState(r,"relationship_data")}}function ze(t){"add"!==t.value?(e.updateState({columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header",type:"select",options:[{id:"",value:"",label:""}]}],rows:[]},"columns_data"),e.updateState(t,"selected_data_map")):(!function(){var t={columns:[{name:"system_name",title:"System Name",minWidth:"100px"},{name:"sheet_name",title:"Column Header",type:"select",options:[{id:"",value:"",label:""}]}],rows:[]};for(var a in e.system_names){var n=e.system_names[a];t.rows.push({system_name:n.system_name,field_name:n.field_name,sheet_name:"",sheet_field:""})}var r=e.raw_uploaded_data.columns;for(var i in r)r[i]&&t.columns[1].options.push({id:r[i],value:r[i],label:r[i]});e.updateState(t,"add_new_data_map")}(),Se(!0))}function Ue(t,a,n){var r={};switch(n){case"column names":if((r=e.column_names).rows[parseInt(a)].sheet_name=t,r.rows[parseInt(a)].sheet_field=""!==t&&void 0!==t&&null!==t?t.replace(" ","_").toLowerCase():"",We(r.rows[parseInt(a)].system_name,r.rows[parseInt(a)].sheet_name,e.filtered_raw_data),e.updateState(r,"columns_data"),!0===r.rows[parseInt(a)].required){var i=[];for(var o in r.rows){var l=r.rows[o];if(!0===l.required&&l.sheet_name){var s=l.sheet_name.replace(" ","_").toLowerCase();i.push(s)}}var c=e.uploaded_data;Object.keys(c).length>0&&(c.formattedColumns={},i.length>0&&(c.formattedColumns.required_columns=i),e.updateState(c,"uploaded_data"))}break;case"gender":(r=e.gender_data).rows[parseInt(a)].data_column=t,e.updateState(r,"gender_data");break;case"civil status":(r=e.civil_status_data).rows[parseInt(a)].data_column=t,e.updateState(r,"civil_status_data");break;case"plan type":(r=e.plan_type_data).rows[parseInt(a)].data_column=t,e.updateState(r,"plan_type_data");break;case"type":(r=e.type_data).rows[parseInt(a)].data_column=t,e.updateState(r,"type_data");break;case"relationship":(r=e.relationship_data).rows[parseInt(a)].data_column=t,e.updateState(r,"relationship_data")}}return n.createElement(J.a,{container:!0,alignItems:"stretch",className:Object(tt.default)("member-body")},D?null:n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("padding-top-20")},n.createElement(F.a,{htmlFor:"upload_member_file_drop",className:Object(tt.default)("h2-label")},"Upload File"),n.createElement(Yl.a,{onDrop:function(t){return function(t){if(t.length>0){e.showHideLoader(!0);var a=new FileReader;a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.onload=function(){var r=a.result,i=Vl.read(r,{type:"array",raw:!0}),o=i.SheetNames,l=i.Sheets[o[0]],s=Vl.utils.sheet_to_json(l,{header:1,raw:!1,blankrows:!1});if(0===s.length){e.showHideLoader(!1);return H(!0),ae("No available data in the file"),void Q("The file you\u2019re trying to upload is empty or has no available data. Please upload a new one.")}var c=[/\$/g,/\./g],m=Object(Tn.map)(s[0],function(e){var t=e;if(!Object(Tn.isNil)(t))for(var a in c)Object(Tn.isNil)(c[a])||(t=t.replace(c[a],""));return t});s.shift();var d={columns:m,rows:s,data_values:{}};if(e.updateState("","rows_start_at"),(d=Ie(m,s,d)).rows&&0===d.rows.length){e.showHideLoader(!1);return H(!0),ae("No available data in the file"),void Q("The file you\u2019re trying to upload is empty or has no available data. Please upload a new one.")}var u=0;for(var p in e.system_names){!0===e.system_names[p].is_required&&u++}if(m.length<u)return e.showHideLoader(!1),oe(!0),void pe(n.createElement("div",null,n.createElement("span",null,"The file you\u2019re trying to upload has less columns than the required data types. Please upload again with at least"," ",n.createElement("span",{className:Ae.spanFont},u," columns."))));if(e.showHideLoader(!1),e.updateState(d,"raw_uploaded_data"),e.rows_start_at){var f=parseInt(e.rows_start_at),b={rows:[],columns:d.columns,data_values:{}};if(f>0){var g=f-1;g<d.rows.length&&(b.rows=JSON.parse(JSON.stringify(d.rows)),b.rows.splice(0,g),b=Ie(m,b.rows,b))}e.updateState(b,"filtered_raw_data")}else e.updateState(d,"filtered_raw_data");Pe("selected_filename",t[0].name),T(!0),Ne(!0)},a.readAsArrayBuffer(t[0])}}(t)},accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, .csv"},function(e){var t=e.getRootProps,a=e.getInputProps;return n.createElement("section",null,n.createElement("div",Object.assign({className:Object(tt.default)("upload-file")},t()),n.createElement("input",Object.assign({"data-cy":"upload_member_file_drop",id:"upload_member_file_drop"},a())),n.createElement(X.a,{className:"fa-2x",icon:Z.s,style:{color:"rgba(39, 46, 76, 0.56)"}}),n.createElement("p",{style:{color:"rgba(39, 46, 76, 0.56)",fontWeight:400}},"Click or drag/drop file to preview member list")))})),D?n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("padding-top-20")},n.createElement(J.a,{item:!0,container:!0,spacing:4,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:12},n.createElement(S.a,{className:Object(tt.default)("sub-title"),color:"textPrimary"},"Preview of File"),n.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},n.createElement("span",null,n.createElement("span",null,A),n.createElement("span",{"data-cy":"upload_member_file_delete_btn",id:"upload_member_file_delete_btn",style:{paddingLeft:"10px",fontSize:"15px"},onClick:function(){T(!1);var t={rows:[],columns:[],formattedColumns:{}},a={columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header",type:"select",options:[{id:"",value:"",label:""}]}],rows:[]},n={columns:[],rows:[],data_values:{}},r=Le(a,n,t,e.selected_data_map);a=r.temp_table,t=r.temp_tables,e.updateState(n,"raw_uploaded_data"),e.updateState({},"filtered_raw_data"),e.updateState(t,"uploaded_data"),e.updateState(a,"columns_data"),e.updateState("","rows_start_at"),Pe("selected_filename",null)}},n.createElement(X.a,{icon:Z.O,style:{color:"#B0AFB8"}}))))),n.createElement(J.a,{item:!0,xs:12},n.createElement(ll,{id:"upload_file_table",rows:Object.keys(C).length>0?C.rows:[],columns:Object.keys(C).length>0?C.columns:[],message:"No available data",onClickRow:function(){},disableSelect:!0,disableSearch:!0,disableFilter:!0,disableSort:!0,formattedColumns:Object.keys(C).length>0?C.formattedColumns:{},columnExtensions:Object.keys(C).length>0?C.columnExtensions:[],pageSize:10})))):null,n.createElement(J.a,{item:!0,xs:3,className:Object(tt.default)("padding-top-20")},D?n.createElement(Bl,{"data-cy":"upload_member_data_map_select",id:"upload_member_data_map_select",options:e.client_maps,label:"Data Mapping",value:e.selected_data_map,addButton:!0,addButtonLabel:"Add New Data Map",onChange:ze,error:!1,error_message:""}):n.createElement(Bl,{"data-cy":"upload_member_data_map_select",id:"upload_member_data_map_select",options:e.client_maps,label:"Data Mapping",value:e.selected_data_map,addButton:!1,addButtonLabel:"",onChange:ze,error:!1,error_message:"",disabled:!0})),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("padding-top-20")},n.createElement(F.a,{htmlFor:"upload_member_row_start_field"},"Rows start at"),n.createElement(j.a,{"data-cy":"upload_member_row_start_field",id:"upload_member_row_start_field",type:"number",margin:"normal",variant:"outlined",inputProps:{"aria-label":"bare",min:0},InputProps:{onKeyDown:function(e){"-"!==e.key&&"."!==e.key&&"+"!==e.key&&"e"!==e.key&&"E"!==e.key||e.preventDefault()},onPaste:function(e){var t=e.clipboardData;if(t&&t.getData("text")){var a=t.getData("text");try{var n=parseFloat(a);(isNaN(n)||n<0||a.includes("."))&&e.preventDefault()}catch(r){e.preventDefault()}}}},value:e.rows_start_at,onChange:function(t){var a=t.target.value;if(e.updateState(a,"rows_start_at"),a){var n=parseInt(a),r={rows:[],columns:e.raw_uploaded_data.columns,data_values:{}};if(n>0){var i=n-1;i<e.raw_uploaded_data.rows.length&&(r.rows=JSON.parse(JSON.stringify(e.raw_uploaded_data.rows)),r.rows.splice(0,i),r=Ie(e.raw_uploaded_data.columns,r.rows,r))}else r.rows=e.raw_uploaded_data.rows,r.data_values=e.raw_uploaded_data.data_values;e.updateState(r,"filtered_raw_data"),Re(r,e.selected_data_map)}}})),n.createElement(J.a,{item:!0,xs:12,className:Object(tt.default)("padding-top-20")},n.createElement(J.a,{item:!0,container:!0,spacing:5,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4},n.createElement(F.a,{className:Object(tt.default)("table-label"),htmlFor:"upload_member_column_names_table"},"Column Names"),n.createElement(F_,{"data-cy":"upload_member_column_names_table",id:"upload_member_column_names_table",rows:Object.keys(E).length>0?E.rows:[],columns:Object.keys(E).length>0?E.columns:[],empty_message:"No data available.",name:"column names",handleChange:Ue,maxHeight:"auto"}),n.createElement(Ye.a,{style:{paddingTop:16},display:"flex",flexDirection:"row-reverse"},n.createElement(z.a,{"data-cy":"upload_member_columns_save_btn",id:"upload_member_columns_save_btn",variant:"contained",color:"primary",size:"small",disabled:!1,onClick:e.updatingDataMap},"Save"))),n.createElement(J.a,{item:!0,xs:8},n.createElement(J.a,{item:!0,container:!0,direction:"row",spacing:5},n.createElement(J.a,{item:!0,xs:5,sm:4,className:Ae.listBorder},n.createElement(F.a,{className:Object(tt.default)("values-columns"),htmlFor:"upload_values_list"},"Values"),n.createElement(ce.a,{id:"upload_values_list"},n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_gender_item",id:"upload_member_values_gender_item",classes:{root:Ae.listItemTextRoot,primary:"gender"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("gender")}},"Gender")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_civil_item",id:"upload_member_values_civil_item",classes:{root:Ae.listItemTextRoot,primary:"civil status"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("civil status")}},"Civil Status")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_plan_item",id:"upload_member_values_plan_item",classes:{root:Ae.listItemTextRoot,primary:"plan type"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("plan type")}},"Plan Type")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_type_item",id:"upload_member_values_type_item",classes:{root:Ae.listItemTextRoot,primary:"type"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("type")}},"Type")),n.createElement(me.a,null,n.createElement(ue.a,{"data-cy":"upload_member_values_relationship_item",id:"upload_member_values_relationship_item",classes:{root:Ae.listItemTextRoot,primary:"relationship to principal"===L?Ae.listItemTextPrimarySelected:Ae.listItemTextPrimaryNotSelected},onClick:function(){W("relationship to principal")}},"Relationship to Principal")))),n.createElement(J.a,{item:!0,xs:7,sm:8,className:Object(tt.default)("values-tables")},"gender"===L?n.createElement(F_,{"data-cy":"upload_member_values_gender_table",id:"upload_member_values_gender_table",rows:Object.keys(e.gender_data).length>0?e.gender_data.rows:[],columns:Object.keys(e.gender_data).length>0?e.gender_data.columns:[],empty_message:"No data available.",name:"gender",handleChange:Ue,maxHeight:"auto"}):"civil status"===L?n.createElement(F_,{"data-cy":"upload_member_values_civil_table",id:"upload_member_values_civil_table",rows:Object.keys(e.civil_status_data).length>0?e.civil_status_data.rows:[],columns:Object.keys(e.civil_status_data).length>0?e.civil_status_data.columns:[],empty_message:"No data available.",name:"civil status",handleChange:Ue,maxHeight:"auto"}):"plan type"===L?n.createElement(F_,{"data-cy":"upload_member_values_plan_table",id:"upload_member_values_plan_table",rows:Object.keys(e.plan_type_data).length>0?e.plan_type_data.rows:[],columns:Object.keys(e.plan_type_data).length>0?e.plan_type_data.columns:[],empty_message:"No data available.",name:"plan type",handleChange:Ue,maxHeight:"auto"}):"type"===L?n.createElement(F_,{"data-cy":"upload_member_values_type_table",id:"upload_member_values_type_table",rows:Object.keys(e.type_data).length>0?e.type_data.rows:[],columns:Object.keys(e.type_data).length>0?e.type_data.columns:[],empty_message:"No data available.",name:"type",handleChange:Ue,maxHeight:"auto"}):"relationship to principal"===L?n.createElement(F_,{"data-cy":"upload_member_values_relationship_table",id:"upload_member_values_relationship_table",rows:Object.keys(e.relationship_data).length>0?e.relationship_data.rows:[],columns:Object.keys(e.relationship_data).length>0?e.relationship_data.columns:[],empty_message:"No data available.",name:"relationship",handleChange:Ue,maxHeight:"auto"}):null))))),n.createElement(ql,{id:"error_upload_modal",isModalOpen:V,title:te,message:K,onClose:function(){H(!1)}}),n.createElement(N_,{id:"missing_columns_error",isModalOpen:ie,title:"Some columns are missing",message:de,onClose:function(){oe(!1)}}),n.createElement(T_,{id:"conflict_number_error",isModalOpen:ge,title:"Conflict in number of members",state_data:Ee,onClose:function(){T(!1),e.updateState({},"uploaded_data"),e.updateState(Be,"columns_data"),ye({}),_e(!1)},onSave:function(t){var a=e.details_data;a.number_of_members=t,e.updateDetails(a,"number_of_members"),ye({}),_e(!1)}}),n.createElement(A_,{id:"add_new_data_map_modal",isModalOpen:Ce,title:"Define Data Map",account:e.corporate_account,onClose:function(){Se(!1)},data:e.add_new_data_map,setDataValues:e.updateState,savingNewDataMap:e.savingNewDataMap}),n.createElement(Ql,{isOpen:je,message:Te,variant:Fe,onSnackbarClose:function(){Ne(!1)}}),n.createElement(I_,{isOpen:i,ticketId:e.ticketId,status:e.processingStatus,uploadedData:C,onCancelProcess:function(){o(!1),m(!0),e.cancelStatusBgPolling&&e.cancelStatusBgPolling()},onBackToDashboard:function(){e.onBackToDashboard&&e.onBackToDashboard()},onConfirmEnrollment:function(){o(!1),e.onConfirmEnrollment&&e.onConfirmEnrollment()}}),n.createElement(Cl,{id:"upload-member-confirm-modal",isModalOpen:c,modalTitle:u,modalMessage:b,variant:"danger",closeText:"Continue Process",confirmText:"Cancel Process",onClose:function(){e.resumeStatusBgPolling&&e.resumeStatusBgPolling(),m(!1),o(!0)},onConfirm:function(){m(!1),o(!1),e.onCancelProcess&&e.onCancelProcess()}}))};function W_(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function z_(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W_(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W_(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}L_.defaultProps={uploaded_data:{},column_names:{}};var U_=Object(y.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialog:{align:"center",justify:"center",width:"95%",fontFamily:"usual"},dialogContent:{paddingTop:"0px",width:"100%",height:400},dialogTitle:{paddingTop:e.spacing(4)},dialogFirstTitle:{fontSize:"16px",color:"#272E4C",fontWeight:600,marginBottom:"5px"},dialogAction:{paddingTop:e.spacing(8),paddingBottom:e.spacing(4)},cancelButton:{minWidth:129,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},nextMemberButton:{minWidth:129,backgroundColor:"#3AB77D"},terminateButton:{minWidth:129,backgroundColor:"#FD5451","&:hover":{backgroundColor:"#fd2724"}},labelRemarks:{fontSize:"12px",paddingBottom:e.spacing(1),color:"#272E4C"},labelSource:{fontSize:"12px",color:"#272E4C",padding:"2.75px 20px 0 0"},memberName:{fontSize:"13px",paddingBottom:e.spacing(2),fontWeight:600},prevButtonContainer:{display:"flex",alignItems:"center","&:hover":{cursor:"pointer",textDecoration:"underline"}},prevIcon:{},prevButton:{fontSize:"12px",fontWeight:600,paddingLeft:"10px"},dropzone:{width:"100%",height:"60px",backgroundColor:"#E6E8EE",borderRadius:"5px",border:"2px dashed #1E20714D",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"25px"},centerDrop:{display:"flex"},centerDropLabel:{display:"block",color:"#272E4C",fontSize:12}}}),Y_=function(e){var t=U_(),a=n.useState(),r=Object(g.a)(a,2),i=r[0],o=r[1],l=n.useState({termination_date:Je()().toISOString(),endorsed_date:Je()().toISOString(),endorsed_by:"",endorser_name:"",endorser_email:"",channel:"",reason:"",ticket_no:"",source:"Internal",terminated_by:"",members:[],client_id:""}),s=Object(g.a)(l,2),c=s[0],m=s[1],d=n.useState({title:"",open:!1,method:function(){}}),u=Object(g.a)(d,2),p=u[0],f=u[1],b=n.useState(),_=Object(g.a)(b,2),h=_[0],v=_[1];n.useEffect(function(){ka.StorageService("user_data","full_name").then(function(e){m(z_({},c,{terminated_by:e.result}))}).catch(function(e){return console.log(e),!1})},[]),n.useEffect(function(){if(!0===e.isModalOpen&&e.memberData.length>0){var t=[];e.memberData.forEach(function(e){var a={member_id:e.member_id,first_name:e.first_name,last_name:e.last_name,date_of_birth:void 0!==e.birthday&&!0===Je()(e.birthday).isValid()?Je()(e.birthday).format("MM/DD/YYYY"):void 0};t.push(a)}),m(z_({},c,{members:t,client_id:e.clientDetails.id}))}},[e.isModalOpen]);var E=function(){e.onClose(),f(z_({},p,{open:!0,title:"Confirm Membership Termination",method:function(){!function(t){t.channel=t.channel?t.channel.value:"",t.endorsed_by=t.endorsed_by?t.endorsed_by.value:"",t.endorser_name=t.endorser_name?t.endorser_name:"",t.reason=t.reason?t.reason.value:"";var a={corporate_account:e.clientDetails.name,channel_used:t.channel,sender:"Internal"===c.source?t.endorsed_by:t.endorser_name,email_address:t.endorser_email,endorsement_date:t.endorsed_date,member_count:e.memberData.length};y(),e.onSubmit(t,a)}(c)}})),v(n.createElement("span",null,"Are you sure you want to terminate the membership of","\xa0",n.createElement("b",null,e.memberData.length," members in ",e.clientDetails.name)," on ",n.createElement("b",null,Je()(c.termination_date).format("MMMM DD, YYYY")),"?","\xa0","Principals and their dependents will no longer be eligible to any benefits in this contract."))},y=function(){f(z_({},p,{open:!1}))};return n.createElement(n.Fragment,null,n.createElement(U.a,{id:e.id,maxWidth:"xs",open:e.isModalOpen,scroll:"paper","aria-labelledby":"modal-title",className:t.dialog},n.createElement(Y.a,{className:t.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement("div",{className:t.dialogFirstTitle},"Termination Details"),n.createElement(ne.a,{id:"client_close_button","data-cy":"client_close_button","aria-label":"close",className:t.closeButton,onClick:function(){e.onClose()}},n.createElement(Xe.a,null))),n.createElement(V.a,{className:t.dialogContent},n.createElement(J.a,{container:!0,spacing:2},n.createElement("br",null),n.createElement(J.a,{item:!0,xs:12},n.createElement(Zr.a,{row:!0,value:c.source,onChange:function(e){m(z_({},c,{source:e.target.value}))}},n.createElement(S.a,{className:t.labelSource},"Source"),n.createElement(K.a,{value:"Internal",control:n.createElement(Jn.a,{color:"primary"}),label:"Internal"}),n.createElement(K.a,{value:"External",control:n.createElement(Jn.a,{color:"primary"}),label:"External"}))),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Date of Termination"),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,value:c.termination_date,error:!1,format:"MMMM DD, YYYY",variant:"dialog",inputVariant:"outlined",invalidDateMessage:"",minDate:new Date,fullWidth:!0,onChange:function(e){m(z_({},c,{termination_date:Je()(e).toISOString()}))}}))),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Endorsed Date"),n.createElement(io.a,{utils:ro.a},n.createElement(_r.a,{autoOk:!0,value:c.endorsed_date,error:!1,format:"MMMM DD, YYYY",variant:"dialog",inputVariant:"outlined",invalidDateMessage:"",fullWidth:!0,onChange:function(e){m(z_({},c,{endorsed_date:Je()(e).toISOString()}))}}))),n.createElement(J.a,{item:!0,xs:6},"Internal"===c.source?n.createElement(n.Fragment,null,n.createElement(F.a,{className:t.labelRemarks},"Endorsed by"),n.createElement(j.a,{value:c.endorsed_by?c.endorsed_by.label:"",error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){m(z_({},c,{endorsed_by:{value:e.target.value,label:e.target.value}}))}})):n.createElement(Wl,{id:"client_member_data_endorsedby",labelSize:"small",options:[{value:"Client",label:"Client"},{value:"Broker",label:"Broker"}],label:"Endorsed by",value:c.endorsed_by?c.endorsed_by:"",onChange:function(e){m(z_({},c,{endorsed_by:e}))},error:!1,error_message:""})),n.createElement(J.a,{item:!0,xs:6},n.createElement(Wl,{id:"client_member_data_sentvia",labelSize:"small",options:[{value:"Email",label:"Email"},{value:"Ticket",label:"Ticket"},{value:"Portal",label:"Portal"},{value:"Fax",label:"Fax"}],label:"Sent via",value:c.channel?c.channel:"",onChange:function(e){console.log(e),m(z_({},c,{channel:e}))},error:!1,error_message:""})),"External"===c.source?n.createElement(n.Fragment,null,n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Person who endorsed"),n.createElement(j.a,{value:c.endorser_name,error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){m(z_({},c,{endorser_name:e.target.value}))}})),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Email Address"),n.createElement(j.a,{value:c.endorser_email,error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){m(z_({},c,{endorser_email:e.target.value}))}}))):null,n.createElement(J.a,{item:!0,xs:6},n.createElement(Wl,{id:"client_member_data_reason",labelSize:"small",options:[{value:"Death",label:"Death"},{value:"Resignation",label:"Resignation"},{value:"Non - affiliation",label:"Non - affiliation"},{value:"Enrollment to other HMO",label:"Enrollment to other HMO"},{value:"Other",label:"Other"}],label:"Reason",value:c.reason?c.reason:"",onChange:function(e){m(z_({},c,{reason:e}))},error:!1,error_message:""})),n.createElement(J.a,{item:!0,xs:6},n.createElement(F.a,{className:t.labelRemarks},"Ticket Number"),n.createElement(j.a,{value:c.ticket_no?c.ticket_no:"",error:!1,variant:"outlined",fullWidth:!0,onChange:function(e){m(z_({},c,{ticket_no:e.target.value}))}})),n.createElement(J.a,{item:!0,xs:12},n.createElement(Yl.a,{multiple:!1,onDrop:function(e){!function(e){o(e[0])}(e),console.log(e)}},function(e){var a=e.getRootProps,r=e.getInputProps;return n.createElement("section",a({className:"dropzone ".concat(t.dropzone)}),n.createElement("div",null,n.createElement("input",r()),n.createElement("div",{className:t.centerDrop},n.createElement(J.a,{item:!0,xs:12},n.createElement(X.a,{style:{opacity:.56},icon:Z.s,color:"#272E4C",size:"1x"})),n.createElement(J.a,{item:!0,xs:12},n.createElement("div",{style:{marginLeft:"10px",maxWidth:"250px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},i&&i instanceof File?i.name:n.createElement(n.Fragment,null,n.createElement("span",{className:t.centerDropLabel},"Drag or drop file for supporting documents")))))))})))),n.createElement(q.a,{className:t.dialogAction},n.createElement(J.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{className:t.cancelButton,variant:"contained",color:"primary",onClick:function(){return e.onClose()}},"Cancel")),n.createElement(J.a,{item:!0,xs:4,style:{textAlign:"center"}},n.createElement(z.a,{className:t.terminateButton,variant:"contained",color:"primary",onClick:function(){return E()}},"Submit"))))),n.createElement(Cl,{id:"termination-details-confirm-modal",isModalOpen:p.open,modalTitle:p.title,modalMessage:h,closeText:"Cancel",confirmText:"Terminate",onClose:y,onConfirm:p.method,variant:"danger"}))},V_=(Object(y.a)(function(e){return{main:{backgroundColor:"#F5F7FB",padding:"32px 24px",position:"relative"},sideBarContainer:{borderRight:"1px solid #ccc",paddingRight:e.spacing(4)},contentContainer:{paddingLeft:e.spacing(4)}}}),Object(y.a)(function(e){return{label:{paddingBottom:e.spacing(.5),textTransform:"uppercase",display:"block",color:"#adadad",fontSize:"13px"},value:{fontWeight:800,display:"block"},row:{marginBottom:e.spacing(2)},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px",fontSize:14}}})),H_=[{name:"account_no",title:"Account No",sortingEnabled:!1},{name:"first_name",title:"First Name",sortingEnabled:!1},{name:"middle_name",title:"Middle Name",sortingEnabled:!1},{name:"last_name",title:"Last Name",sortingEnabled:!1},{name:"orig_first_term",title:"Original (1st) Endorsed Termination Date",sortingEnabled:!1},{name:"orig_first_endorse",title:"Original (1st) Endorsement Date",sortingEnabled:!1},{name:"new_second_term",title:"New (2nd) Endorsed Termination Date",sortingEnabled:!1},{name:"new_second_endorse",title:"New (2nd) Endorsement Date",sortingEnabled:!1}],q_=[{name:"account_no",title:"Account No",sortingEnabled:!1},{name:"first_name",title:"First Name",sortingEnabled:!1},{name:"middle_name",title:"Middle Name",sortingEnabled:!1},{name:"last_name",title:"Last Name",sortingEnabled:!1},{name:"effectivity_date",title:"Effective Date",sortingEnabled:!1},{name:"termination_date",title:"Termination Date",sortingEnabled:!1},{name:"endorsed_termination_date",title:"Endorsed Termination Date",sortingEnabled:!1},{name:"date_of_birth",title:"Birthday",sortingEnabled:!1},{name:"gender",title:"Gender",sortingEnabled:!1},{name:"plan_type",title:"Plan Type",sortingEnabled:!1},{name:"type",title:"Type",sortingEnabled:!1}],G_=[{columnName:"account_no",wordWrapEnabled:!0},{columnName:"first_name",wordWrapEnabled:!0},{columnName:"middle_name",wordWrapEnabled:!0},{columnName:"last_name",wordWrapEnabled:!0},{columnName:"orig_first_term",width:200,wordWrapEnabled:!0},{columnName:"orig_first_endorse",width:150,wordWrapEnabled:!0},{columnName:"new_second_term",width:150,wordWrapEnabled:!0},{columnName:"new_second_endorse",width:150,wordWrapEnabled:!0}],J_=[{columnName:"account_no",filteringEnabled:!1},{columnName:"first_name",filteringEnabled:!1},{columnName:"middle_name",filteringEnabled:!1},{columnName:"last_name",filteringEnabled:!1},{columnName:"orig_first_term",filteringEnabled:!1},{columnName:"orig_first_endorse",filteringEnabled:!1},{columnName:"new_second_term",filteringEnabled:!1},{columnName:"new_second_endorse",filteringEnabled:!1}],K_=[{columnName:"account_no",wordWrapEnabled:!0},{columnName:"first_name",wordWrapEnabled:!0},{columnName:"middle_name",wordWrapEnabled:!0},{columnName:"last_name",wordWrapEnabled:!0},{columnName:"effectivity_date",wordWrapEnabled:!0},{columnName:"termination_date",wordWrapEnabled:!0},{columnName:"endorsed_termination_date",width:150,wordWrapEnabled:!0},{columnName:"date_of_birth",wordWrapEnabled:!0},{columnName:"gender",wordWrapEnabled:!0},{columnName:"plan_type",wordWrapEnabled:!0},{columnName:"type",wordWrapEnabled:!0}],X_=[{columnName:"account_no",filteringEnabled:!1},{columnName:"first_name",filteringEnabled:!1},{columnName:"middle_name",filteringEnabled:!1},{columnName:"last_name",filteringEnabled:!1},{columnName:"effectivity_date",filteringEnabled:!1},{columnName:"termination_date",filteringEnabled:!1},{columnName:"endorsed_termination_date",filteringEnabled:!1},{columnName:"date_of_birth",filteringEnabled:!1},{columnName:"gender",filteringEnabled:!1},{columnName:"plan_type",filteringEnabled:!1},{columnName:"type",filteringEnabled:!1}],Z_=[5,10,20],Q_=!1,$_=!1,eh="",th=!1,ah={},nh=Object(Vn.a)({select:{backgroundColor:"transparent"}}),rh=Object(Vn.a)({root:{"& div.MuiInputBase-root":{backgroundColor:"transparent"}}}),ih=Object(Vn.a)({root:{"&.Mui-checked":{color:"#3AB77D"}}}),oh=function(e){var t=e.id,a=e.value,r=e.items,i=nh();return n.createElement(A.a,{id:t,classes:i,value:a,style:{width:"100%",backgroundColor:"transparent"},renderValue:function(e){if(null!==e){var t=r.find(function(t){return t.value===e});return t?t.name:"\u2014"}return"\u2014"}},r.map(function(e){return n.createElement(D.a,{key:e.value,value:e.value},e.name)}))},lh=function(e){var t=e.filter,a=e.onFilter,r=e.filteringEnabled,i=e.classes,o=e.column;return r?n.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:i},n.createElement(P.a,{classes:i,style:{width:"100%"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):o.actionColumn?n.createElement(qn.a,{style:{padding:"0px 0px 0px 0px"},classes:i,align:"center"},n.createElement(G.a,{color:"primary",onChange:function(e){a(void 0!==e.target.checked?{action:e.target.checked}:null)}})):o.resetColumn?n.createElement(qn.a,{align:"center"},n.createElement(J.a,{container:!0,justify:"center",style:{paddingLeft:"22px"}},n.createElement(re.a,{onClick:function(){a({reset_action:!0})}},n.createElement(J.a,{container:!0,justify:"center",alignItems:"center"},n.createElement(J.a,{item:!0,xs:12,alignContent:"center"},n.createElement(X.a,{icon:Z.C,style:{fontSize:"20px"}})),n.createElement(J.a,{item:!0,xs:12,alignContent:"center"},n.createElement("span",{style:{fontSize:"10px"}},"Reset All")))))):n.createElement(qn.a,{style:{padding:"0px 10px 8px 10px"},classes:i})},sh=function(e){var t=e.style,a=e.selected,r=e.onToggle,i=e.classes,o=Object(Wn.a)(e,["style","selected","onToggle","classes"]);return n.createElement(qn.a,Object.assign({padding:"checkbox",style:t,classes:i},o),n.createElement(Jn.a,{classes:i,checked:a,onClick:function(e){e.stopPropagation(),r()}}))},ch=function(e){var t=e.style,a=e.selected,r=e.onToggle,i=e.classes,o=Object(Wn.a)(e,["style","selected","onToggle","classes"]);return n.createElement(qn.a,Object.assign({padding:"checkbox",style:t,classes:i},o),n.createElement(G.a,{icon:n.createElement(X.a,{icon:Z.I}),checkedIcon:n.createElement(X.a,{icon:Z.i}),classes:i,checked:a,onClick:function(e){e.stopPropagation(),r()}}))},mh=function(e){var t=e.value,a=e.onValueChange;return n.createElement(P.a,{value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:n.createElement(Ve.a,{position:"start"},n.createElement(X.a,{icon:Z.E}))})},dh=function(e){var t=e.children;return n.createElement(ae.a,{disableGutters:!0,children:t})},uh=function(e){return"asc"===e.direction?n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.H}):n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.G})},ph=function(e){var t=e.column,a=e.onSort,r=e.children,i=e.direction;return void 0!==t.sortingEnabled&&null!==t.sortingEnabled&&!1===t.sortingEnabled?t.actionColumn||t.resetColumn?n.createElement(J.a,{container:!0,justify:"center"},t.title):n.createElement("span",null,t.title):n.createElement(Gn.a,{hideSortIcon:!0,onClick:a},r,i?n.createElement(uh,{direction:i}):n.createElement(X.a,{style:{marginLeft:"10px"},icon:Z.F}))},fh=function(e){var t=e.value;return""===t||void 0===t||null===t?n.createElement(X.a,{style:{color:"#FD5451",fontSize:"16px"},icon:Z.o}):t},bh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:fh},e))},gh=function(e){var t=e.row,a=e.value;return!0!==t.required||""!==a&&void 0!==a&&null!==a?!1!==t.required||""!==a&&void 0!==a&&null!==a?a:"N/A":n.createElement(X.a,{style:{color:"#FD5451",fontSize:"16px"},icon:Z.o})},_h=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:gh},e))},hh=function(e){var t=e.column,a=e.row,r=e.value,i=ih();return n.createElement(J.a,{container:!0,justify:"center"},n.createElement(K.a,{control:n.createElement(G.a,{checked:!(!a||!a.action_chosen),value:r,style:{padding:"0px 0px 0px 26px"},className:i.root,color:"primary",onChange:function(e){a.action_chosen=e.target.checked,th=!0,ah={value:e.target.checked,name:t.name,row:a}}}),label:""}))},vh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:hh},e))},Eh=function(e){var t=e.column,a=e.row,r=t.name+"_"+a.id;return n.createElement("div",{id:r,onClick:function(e){console.log("e>",e)}},n.createElement(S.a,{color:"textPrimary",style:{paddingTop:"5px"}},n.createElement("span",null,n.createElement("span",{style:{paddingRight:"10px",fontSize:"15px"}},n.createElement(X.a,{icon:Z.s,style:{color:"#0D5E40"}})),n.createElement("span",{style:{textDecoration:"underline",color:"#0D5E40"}},"Upload File"))))},yh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Eh},e))},xh=function(e){var t=e.row,a=function(e){t.action_chosen=e.target.value};return n.createElement("div",null,n.createElement(Zr.a,{"aria-label":"position",name:"position",onChange:function(e){e.stopPropagation(),$_=!0,eh=e.target.value},row:!0},[{value:"approve",label:"Approve"},{value:"disapprove",label:"Disapprove"}].map(function(e,r){return n.createElement(K.a,{checked:t&&t.action_chosen&&t.action_chosen===e.value,key:r,value:e.value,control:n.createElement(Jn.a,{style:{padding:"0px 2px 0px 2px",margin:0,fontSize:"10px"},onClick:a,color:"primary",size:"small"}),label:n.createElement("span",{style:{fontSize:"12px",fontWeight:600}},e.label),labelPlacement:"end"})})))},Oh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:xh},e))},Ch=function(e){var t=e.row,a=function(e){t.action_chosen=e.target.value};return n.createElement("div",null,n.createElement(Zr.a,{"aria-label":"position",name:"position",key:"virtual-group-".concat(t._id,"-").concat(t._id),value:t&&t.action_chosen?t.action_chosen:void 0,onChange:function(e){e.stopPropagation(),$_=!0,eh=e.target.value},row:!0},[{value:"approve",label:"Approve"},{value:"disapprove",label:"Disapprove"}].map(function(e,r){return n.createElement(K.a,{key:"virtual-label-".concat(r,"-").concat(e,"-").concat(t._id),value:e.value,control:n.createElement(Jn.a,{key:"virtual-radio-".concat(r,"-").concat(e,"-").concat(t._id),id:t._id,onClick:a,color:"primary",size:"small"}),label:n.createElement("span",{key:"virtual-text-".concat(r,"-").concat(e),style:{fontSize:"14px",fontWeight:600}},e.label),labelPlacement:"end"})})))},Sh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ch},e))},wh=function(e){var t=e.row;return n.createElement(J.a,{container:!0,justify:"center",alignItems:"center"},n.createElement(re.a,{onClick:function(){t&&(Q_=!0,t.action_chosen="")}},n.createElement(X.a,{icon:Z.C,style:{fontSize:"20px"}})))},kh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:wh},e))},jh=function(e){var t=e.value;return n.createElement("div",null,n.createElement(Zr.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation(),$_=!0,eh=e.target.value},row:!0},[{value:"approve",label:"Approve"},{value:"disapprove",label:"Disapprove"},{value:"for confirmation",label:"For Confirmation"}].map(function(e,t){return n.createElement(K.a,{key:t,value:e.value,control:n.createElement(Jn.a,{color:"primary"}),label:e.label,labelPlacement:"end",onClick:function(e){$_=!0,console.log("radio button label onclick",e)},onChange:function(e){$_=!0,console.log("radio button label onchange",e)}})})))},Nh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:jh},e))},Dh=function(e){var t=e.value;return console.log("Radio group value: ",t),n.createElement("div",null,n.createElement(Zr.a,{"aria-label":"position",name:"position",value:t,onChange:function(e){e.stopPropagation(),$_=!0,eh=e.target.value},row:!0},[{value:"match",label:"Match"},{value:"not",label:"Not Match"},{value:"confirmation",label:"For Confirmation"}].map(function(e,t){return n.createElement(K.a,{key:t,value:e.value,control:n.createElement(Jn.a,{color:"primary"}),label:e.label,labelPlacement:"end",onClick:function(e){$_=!0,console.log("radio button label onclick",e)},onChange:function(e){$_=!0,console.log("radio button label onchange",e)}})})))},Th=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Dh},e))},Mh=function(e){var t=e.value;return n.createElement(oh,{items:[{name:"",value:""},{name:"Married",value:"married"},{name:"Single",value:"single"},{name:"Widowed",value:"widowed"},{name:"Annulled",value:"annulled"}],value:t})},Fh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Mh},e))},Ph=function(e){var t=e.value;return n.createElement(oh,{items:[{name:"First Name",value:"first_name"},{name:"Middle Name",value:"middle_name"},{name:"Last Name",value:"last_name"},{name:"Birthday",value:"birthday"},{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"},{name:"Plan Type",value:"plan_type"},{name:"Type",value:"type"}],value:t})},Ah=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Ph},e))},Bh=function(e){var t=e.value;return n.createElement(oh,{items:[{name:"Civil Status",value:"civil_status"},{name:"Gender",value:"gender"}],value:t})},Ih=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Bh},e))},Rh=function(e){var t=e.value,a=rh();return n.createElement(j.a,{value:t,type:"number",classes:a})},Lh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Rh},e))},Wh=function(e){var t=e.value,a=rh();return n.createElement(j.a,{value:t,classes:a})},zh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Wh},e))},Uh=function(e){var t=e.value,a=t;if(a)try{a=Je()(t).format("MMM DD, YYYY")}catch(n){a=t}else a="";return a},Yh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Uh},e))},Vh=function(e){var t=e.value,a=t;if(a)try{a=Je()(t).format("hh:mm:ss A")}catch(n){a=t}else a="";return a},Hh=function(e){return n.createElement(Un.c,Object.assign({formatterComponent:Vh},e))},qh=function(e){var t=e.disableIntegratedFiltering,a=e.columns,r=e.formattedColumns,i=e.singleSelect,o=e.disablePaging,l=e.disableSearch,s=e.disableSelect,c=e.disableSort,m=e.disableFilter,d=e.toolbarType,u=e.columnExtensions,p=e.columnBands,f=e.id,b=e.showSelectionColumn,_=e.query,h=e.totalCount,v=e.currentPage,E=e.limit,y=Object(n.useState)([]),x=Object(g.a)(y,2),O=x[0],C=x[1],S=Object(n.useState)(e.pageSizes?e.pageSizes:[10,25,50,100,0]),w=Object(g.a)(S,1)[0],k=Object(n.useState)(e.defaultSort?e.defaultSort:[]),j=Object(g.a)(k,2),D=j[0],T=j[1],M=Object(n.useState)(e.rows),F=Object(g.a)(M,2),P=F[0],A=F[1];Object(n.useEffect)(function(){A(e.rows)},[e.rows]),Object(n.useEffect)(function(){T(e.defaultSort?e.defaultSort:[])},[e.defaultSort]);var B=[];void 0!==r&&Object.keys(r).length>0&&(void 0!==r.number&&B.push(n.createElement(Lh,{for:r.number})),void 0!==r.text&&B.push(n.createElement(zh,{for:r.text})),void 0!==r.system_name&&B.push(n.createElement(Ah,{for:r.system_name})),void 0!==r.data_name&&B.push(n.createElement(Ih,{for:r.data_name})),void 0!==r.value_name&&B.push(n.createElement(Fh,{for:r.value_name})),void 0!==r.required_columns&&B.push(n.createElement(bh,{for:r.required_columns})),void 0!==r.radio&&B.push(n.createElement(Th,{for:r.radio})),void 0!==r.incomplete_radio&&B.push(n.createElement(Nh,{for:r.incomplete_radio})),void 0!==r.approve_disapprove_action&&B.push(n.createElement(Oh,{for:r.approve_disapprove_action})),void 0!==r.approve_disapprove_action_virtual&&B.push(n.createElement(Sh,{for:r.approve_disapprove_action_virtual})),void 0!==r.approve_disapprove_reset&&B.push(n.createElement(kh,{for:r.approve_disapprove_reset})),void 0!==r.required_checkbox&&B.push(n.createElement(vh,{for:r.required_checkbox})),void 0!==r.upload_file&&B.push(n.createElement(yh,Object.assign({for:r.upload_file},e))),void 0!==r.required_cell&&B.push(n.createElement(_h,Object.assign({for:r.required_cell},e))),void 0!==r.date&&B.push(n.createElement(Yh,{for:r.date})),void 0!==r.time&&B.push(n.createElement(Hh,{for:r.time})));var I=dh;return n.createElement(N.a,{id:f},e.topBar?e.topBar():null,n.createElement(zn.a,{rows:P,columns:a},B,o?null:n.createElement(Un.m,{currentPage:v,onCurrentPageChange:function(t){var a=E*t;e.onPageChange(t,a)},pageSize:E,onPageSizeChange:function(t){e.ongPageSizeChange(t)}}),o?null:n.createElement(Un.b,{totalCount:h}),!l||_?n.createElement(Un.o,{value:_}):null,c?c?null:n.createElement(Un.q,{defaultSorting:[]}):n.createElement(Un.q,{defaultSorting:[],sorting:D,onSortingChange:function(e){T(e)}}),c?null:n.createElement(Un.k,null),s&&b?null:n.createElement(Un.p,{selection:O,onSelectionChange:function(t){if(console.log("here click row"),e.onClickRow)$_||th||Q_?$_&&!Q_?(console.log("radioselected",t),e.onSelectedRadio&&e.onSelectedRadio(t[0],eh),A(Object(Ln.a)(P)),$_=!1):Q_?(e.onSelectedReset&&e.onSelectedReset(t),Q_=!1):th&&(console.log(" here !!! >>>",e.onClickCell),e.onClickCell&&e.onClickCell(ah),th=!1,ah={}):(console.log("onclickrow"),e.onClickRow(t));else if(i){var a=t.find(function(e){return-1===O.indexOf(e)});console.log(t,O,a),void 0!==a&&C([a])}else C(t)}}),s?null:n.createElement(Un.j,null),m?null:n.createElement(Un.e,{defaultFilters:[],filters:void 0!==e.defaultFilter?e.defaultFilter:[],columnFilteringEnabled:e.columnFilteringEnabled,columnExtensions:e.filterExtensions,onFiltersChange:e.onFilterChange}),m||t?null:n.createElement(Un.h,null),e.isVirtualTable?null:n.createElement(zn.d,{columnExtensions:u,messages:{noData:e.message}}),e.isVirtualTable?n.createElement(zn.j,{columnExtensions:u,height:300}):null,s||b?b?null:n.createElement(zn.h,{selectByRowClick:!0,showSelectionColumn:!1,cellComponent:i?sh:ch,headerCellComponent:ch}):n.createElement(zn.h,{showSelectAll:!i,cellComponent:i?sh:ch,headerCellComponent:ch}),n.createElement(zn.g,{showSortingControls:!c,sortLabelComponent:ph}),m?null:n.createElement(zn.f,{cellComponent:lh}),p?n.createElement(zn.e,{columnBands:p}):null,!l||d?n.createElement(zn.i,{rootComponent:I}):null,l?null:n.createElement(zn.c,{inputComponent:mh}),o?null:n.createElement(zn.b,{pageSizes:w})))};function Gh(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Jh(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gh(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gh(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}qh.defaultProps={rows:[],columns:[],columnExtensions:[],filterExtensions:[],columnBands:null,formattedColumns:{},singleSelect:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,toolbarType:null,defaultFilter:[],showSelectionColumn:!1,columnFilteringEnabled:!0,id:"table-1",totalCount:0,message:"No available data",query:"",currentPage:0,limit:0};var Kh=function(e){var t=e.terminated,a=V_(),n=t.members_terminated_before.length,i=t.members_terminated.length,o=r.a.useState({members_terminated_before:t.members_terminated_before,limit:10,skip:0,currentPage:0,totalCount:0}),l=Object(g.a)(o,2),s=l[0],c=l[1],m=r.a.useState({members_terminated:t.members_terminated,limit:10,skip:0,currentPage:0,totalCount:0}),d=Object(g.a)(m,2),u=d[0],p=d[1];r.a.useEffect(function(){f(),b()},[]);var f=function(){for(var e=[],a=0;a<10;a++)t.members_terminated_before[a]&&e.push(t.members_terminated_before[a]);c({members_terminated_before:e,limit:10,totalCount:n,skip:0,currentPage:0})},b=function(){for(var e=[],a=0;a<10;a++)t.members_terminated[a]&&e.push(t.members_terminated[a]);p({members_terminated:e,limit:10,totalCount:i,skip:0,currentPage:0})},_=function(e,a){for(var r=[],i=0===e?0:e*a,o=0===e?a:i+a,l=i;l<o;l++)t.members_terminated_before[l]&&r.push(t.members_terminated_before[l]);c({members_terminated_before:r,limit:a,totalCount:n,skip:i,currentPage:e})},h=function(e,a){for(var n=[],r=0===e?0:e*a,o=0===e?a:r+a,l=r;l<o;l++)t.members_terminated[l]&&n.push(t.members_terminated[l]);p({members_terminated:n,limit:a,totalCount:i,skip:r,currentPage:e})},v=function(e,t){var a=[];return 1===t?e.length>0?(e.forEach(function(e){var t=Jh({},e,{account_no:e.hasOwnProperty("member_id")?e.member_id:"N/A",first_name:e.hasOwnProperty("first_name")?e.first_name:"N/A",middle_name:e.hasOwnProperty("middle_name")?e.middle_name:"N/A",last_name:e.hasOwnProperty("last_name")?e.last_name:"N/A",orig_first_term:e.hasOwnProperty("member_termination")?Je()(e.member_termination.termination_date).format("MMM DD, YYYY"):"N/A",orig_first_endorse:e.hasOwnProperty("member_termination")?Je()(e.member_termination.endorsed_date).format("MMM DD, YYYY"):"N/A",new_second_term:e.hasOwnProperty("member_termination")?Je()(e.member_termination.second_termination_date).format("MMM DD, YYYY"):"N/A",new_second_endorse:e.hasOwnProperty("member_termination")?Je()(e.member_termination.second_endorsed_date).format("MMM DD, YYYY"):"N/A"});a.push(t)}),a):[]:e.length>0?(e.forEach(function(e){var t=Jh({},e,{account_no:e.hasOwnProperty("member_id")?e.member_id:"N/A",first_name:e.hasOwnProperty("first_name")?e.first_name:"N/A",middle_name:e.hasOwnProperty("middle_name")?e.middle_name:"N/A",last_name:e.hasOwnProperty("last_name")?e.last_name:"N/A",effectivity_date:e.hasOwnProperty("effectivity_date")?Je()(e.effectivity_date).format("MMM DD, YYYY"):"N/A",termination_date:e.hasOwnProperty("member_termination")?Je()(e.member_termination.termination_date).format("MMM DD, YYYY"):"N/A",endorsed_termination_date:e.hasOwnProperty("member_termination")?Je()(e.member_termination.endoresed_date).format("MMM DD, YYYY"):"N/A",date_of_birth:e.hasOwnProperty("date_of_birth")?Je()(e.date_of_birth).format("MMM DD, YYYY"):"N/A",gender:e.hasOwnProperty("gender")?e.gender:"N/A",plan_type:e.hasOwnProperty("plan_type")?e.plan_type:"N/A",type:e.hasOwnProperty("member_type")?e.member_type:"N/A"});a.push(t)}),a):[]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0,xs:12,style:{marginLeft:"30px"}},r.a.createElement(Tl,{id:"upload_member_stepper",label:"View Terminated Members"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J.a,{container:!0,justify:"space-between",className:a.row},r.a.createElement(J.a,{item:!0,xs:2,style:{marginLeft:"30px"}},r.a.createElement("span",{className:a.label},"CORPORATE ACCOUNT"),r.a.createElement("span",{className:a.value},t.view_terminated_data.corporate_account?t.view_terminated_data.corporate_account:"")),r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement("span",{className:a.label},"CHANNEL USED"),r.a.createElement("span",{className:a.value},t.view_terminated_data.channel_used?t.view_terminated_data.channel_used:"")),r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement("span",{className:a.label},"SENDER"),r.a.createElement("span",{className:a.value},t.view_terminated_data.sender?t.view_terminated_data.sender:"")),t.view_terminated_data.email_address?r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement("span",{className:a.label},"EMAIL ADDRESS"),r.a.createElement("span",{className:a.value},t.view_terminated_data.email_address)):null,r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement("span",{className:a.label},"ENDORESMENT DATE"),r.a.createElement("span",{className:a.value},t.view_terminated_data.endorsement_date?Je()(t.view_terminated_data.endorsement_date).format("MMM DD, YYYY"):"")),r.a.createElement(J.a,{item:!0,xs:2})),r.a.createElement(J.a,{container:!0,justify:"space-between",className:a.row},t.view_terminated_data.batch_no?r.a.createElement(J.a,{item:!0,xs:2,style:{marginLeft:"30px"}},r.a.createElement("span",{className:a.label},"BATCH NO."),r.a.createElement("span",{className:a.value},t.view_terminated_data.batch_no)):null,r.a.createElement(J.a,{item:!0,xs:2,style:t.view_terminated_data.batch_no?{}:{marginLeft:"30px"}},r.a.createElement("span",{className:a.label},"NO. OF MEMBERS"),r.a.createElement("span",{className:a.value},t.view_terminated_data.member_count?t.view_terminated_data.member_count:"")),r.a.createElement(J.a,{item:!0,xs:2}),r.a.createElement(J.a,{item:!0,xs:2}),r.a.createElement(J.a,{item:!0,xs:2}),r.a.createElement(J.a,{item:!0,xs:2})),r.a.createElement(J.a,{container:!0,className:a.row},r.a.createElement(J.a,{item:!0,xs:12,style:{marginLeft:"30px",paddingTop:"32px"}},r.a.createElement(J.a,{item:!0,container:!0,xs:12},r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{style:{fontSize:"17px",color:"#272E4C"}},r.a.createElement("b",null,"Termination Exception Report"))),r.a.createElement(J.a,{item:!0,xs:5}),r.a.createElement(J.a,{item:!0,xs:3,style:{textAlign:"right",paddingRight:"30px"}}))),r.a.createElement(J.a,{item:!0,xs:12,justify:"space-between",style:{marginLeft:"30px",marginTop:"5px"}},r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{style:{fontSize:"14px",marginTop:"15px",color:"#272E4C"}},"Terminated Members who has been terminated before")),r.a.createElement(J.a,{item:!0,xs:4}),r.a.createElement(J.a,{item:!0,xs:4})),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"15px",marginLeft:"30px",marginRight:"24px"}},r.a.createElement(qh,{id:"termination-exception-report-table",rows:v(s.members_terminated_before,1),columns:H_,pageSizes:Z_,columnExtensions:G_,totalCount:n,update:function(){},message:"No data to display",disableSelect:!0,disableSearch:!0,filterExtensions:J_,onPageChange:function(e){_(e,s.limit)},ongPageSizeChange:function(e){_(s.currentPage,e)},currentPage:s.currentPage,limit:s.limit})),r.a.createElement(J.a,{item:!0,xs:12,justify:"space-between",style:{marginLeft:"30px",paddingTop:"100px"}},r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(S.a,{style:{fontSize:"14px",marginTop:"15px",color:"#272E4C"}},"Terminated Members")),r.a.createElement(J.a,{item:!0,xs:4}),r.a.createElement(J.a,{item:!0,xs:4})),r.a.createElement(J.a,{item:!0,xs:12,style:{paddingTop:"15px",marginLeft:"30px",paddingRight:"50px"}},r.a.createElement(qh,{id:"termination-exception-report-table",rows:v(u.members_terminated,2),columns:q_,pageSizes:Z_,columnExtensions:K_,totalCount:i,update:function(){},message:"No data to display",disableSelect:!0,disableSearch:!0,filterExtensions:X_,onPageChange:function(e){h(e,u.limit)},ongPageSizeChange:function(e){h(u.currentPage,e)},currentPage:u.currentPage,limit:u.limit}))))};function Xh(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Zh(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xh(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xh(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Qh=Object(y.a)({root:{height:"40px",minWidth:"150px","&.Mui-disabled":{backgroundColor:"#E4E4E4",color:"rgba(0, 0, 0, 0.61)"}},rightButton:{height:"40px",minWidth:"99px",backgroundColor:"#3C394A",color:"#FFFFFF"},leftButton:{padding:"0px 8px",height:"40px",width:"150px",border:"2px solid #3AB77D"},backButton:{padding:"0px 8px",height:"40px",width:"150px",backgroundColor:"#3C394A",color:"#FFFFFF",textTransform:"none","&:hover":{background:"#000000"}},leftText1:{fontSize:"13px"},leftText2:{fontSize:"7px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}});function $h(e){var t=Qh();return n.createElement("div",null,1===e.currentActiveStep?n.createElement(z.a,{"data-cy":"upload_member_next_btn",id:"upload_member_next_btn",className:t.root,variant:"contained",color:"primary",size:"small",disabled:e.disabled,onClick:e.handleNextButton},"Next"):null,2===e.currentActiveStep?n.createElement(z.a,{"data-cy":"upload_member_next_btn",id:"upload_member_next_btn",className:t.root,variant:"contained",color:"primary",size:"small",disabled:e.disabled,onClick:e.handleMarkAsDoneButton},"Mark As Done"):null)}var ev=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleCloseLostInternetConnectionModal=function(){a.setState({check_internet_flag:!1})};var n=e.location,r=n.state,i=n.search,o="",l={},s=[],c=!1,m=null;if(r){var u=r.ticket_id,b=r.isProcessing,g=r.member_upload_id;c=null!==b&&!0===b,m=Mn.a.isNil(g)?null:g,u&&(o=u,l={id:u,value:u,label:u},s.push(l))}else if(i)try{var _=new URLSearchParams(i),h=_.get("ticketId"),v=_.get("isProcessing"),E=_.get("memberUploadId");m=Mn.a.isNil(E)?null:E,h&&(o=h,l={id:h,value:h,label:h},s.push(l)),v&&Mn.a.toLower(v)===Mn.a.toLower("true")&&(c=!0)}catch(O){}var y={account:{id:e.match.params.client_id||"",value:e.match.params.client_id||""},contract:{id:e.match.params.proposal_id,value:e.match.params.proposal_id,label:""},sender_name:"",sender_email:"",date_sent:new Date,sent_through_channel:{id:"",value:"",label:""},batch_name:l,number_of_members:""},x={columns:[{name:"values",title:"Values"},{name:"data_column",title:"Data Column"}],rows:[]};return a.state={check_internet_flag:!1,pmaker_task:"Enroll Members",initial_load:!1,breadcrumbs:[],steps:["Add Details","Add Members","Submit"],activeStep:1,open:!1,uploaded_file_flag:!1,disabledNext:!1,pageHeader:"Upload a File for Termination",details_data:y,corporate_account:"",clients_data:[],loading_state:!0,sender_email_error:!1,sender_email_error_message:"",account_error:!1,account_error_message:"",contract_error:!1,contract_error_message:"",sender_name_error:!1,sender_name_error_message:"",date_sent_error:!1,date_sent_error_message:"",sent_through_channel_error:!1,sent_through_channel_error_message:"",batch_name_error:!1,batch_name_error_message:"",number_of_members_error:!1,number_of_members_error_message:"",uploaded_data:{},raw_uploaded_data:{columns:[],rows:[],data_values:{}},system_names:[],columns_data:{columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header"}],rows:[{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""}]},clients_data_maps:[],selected_data_map:{},contracts_data:[],gender_data:x,civil_status_data:x,plan_type_data:x,type_data:x,relationship_data:x,add_new_data_map:{},rows_start_at:"",filtered_raw_data:{columns:[],rows:[],data_values:{}},client_maps:[],isOpenModal:!1,isConfirmModalOpen:!1,modalTitle:"",modalMessage:"",next:null,isOpenErrorWithListModal:!1,error_list:[],submit_flag:!1,batchnames:s,plan_type_options:[],civil_status_options:[],relationship_options:[],save_for_now_id:"",uploadMemberData:{},ticketId:e.match.params.ticket_id,isProcessing:c,processingStatus:{},trueTicketId:o,isAddMembersTicket:!1,isFromEncodeMembersTicket:!1,redirectFlag:!1,redirectInfo:{},memberUploadId:m,terminationModalOpen:!1,terminationData:{terminateMembersArray:[]},clientDetails:{id:"",name:""},viewTerminatedData:{}},a.handleUpdateDetails=a.handleUpdateDetails.bind(Object(jn.a)(a)),a.validateDetails=a.validateDetails.bind(Object(jn.a)(a)),a.handleNextButton=a.handleNextButton.bind(Object(jn.a)(a)),a.handleMarkAsDoneButton=a.handleMarkAsDoneButton.bind(Object(jn.a)(a)),a.handleBackButton=a.handleBackButton.bind(Object(jn.a)(a)),a.getSaveForNowData=a.getSaveForNowData.bind(Object(jn.a)(a)),a.doSaveForNow=a.doSaveForNow.bind(Object(jn.a)(a)),a.handleSaveForNow=a.handleSaveForNow.bind(Object(jn.a)(a)),a.handleSaveForNowOnSubmit=a.handleSaveForNowOnSubmit.bind(Object(jn.a)(a)),a.deleteSaveForNow=a.deleteSaveForNow.bind(Object(jn.a)(a)),a.showHideLoader=a.showHideLoader.bind(Object(jn.a)(a)),a.updateState=a.updateState.bind(Object(jn.a)(a)),a.updateUploadMemberData=a.updateUploadMemberData.bind(Object(jn.a)(a)),a.savingNewDataMap=a.savingNewDataMap.bind(Object(jn.a)(a)),a.updatingSelectedDataMap=a.updatingSelectedDataMap.bind(Object(jn.a)(a)),a.closeModalMessage=a.closeModalMessage.bind(Object(jn.a)(a)),a.closeModal=a.closeModal.bind(Object(jn.a)(a)),a.onHandleSubmitClick=a.onHandleSubmitClick.bind(Object(jn.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(jn.a)(a)),a.closeModalWithList=a.closeModalWithList.bind(Object(jn.a)(a)),a.getBatchNames=a.getBatchNames.bind(Object(jn.a)(a)),a.getPlanTypes=a.getPlanTypes.bind(Object(jn.a)(a)),a.onSaveForNowClicked=a.onSaveForNowClicked.bind(Object(jn.a)(a)),a.createAddMemberTicket=a.createAddMemberTicket.bind(Object(jn.a)(a)),a.executeTicketTrigger=a.executeTicketTrigger.bind(Object(jn.a)(a)),a.setTicketVariable=a.setTicketVariable.bind(Object(jn.a)(a)),a.getProcessingStatus=a.getProcessingStatus.bind(Object(jn.a)(a)),a.getMuStatusOnBg=a.getMuStatusOnBg.bind(Object(jn.a)(a)),a.cancelStatusBgPolling=a.cancelStatusBgPolling.bind(Object(jn.a)(a)),a.resumeStatusBgPolling=a.resumeStatusBgPolling.bind(Object(jn.a)(a)),a.getMuStatusOnBg=a.getMuStatusOnBg.bind(Object(jn.a)(a)),a.onCancelProcess=a.onCancelProcess.bind(Object(jn.a)(a)),a.onBackToDashboard=a.onBackToDashboard.bind(Object(jn.a)(a)),a.onConfirmEnrollment=a.onConfirmEnrollment.bind(Object(jn.a)(a)),a.handleSubmitTerminationModal=a.handleSubmitTerminationModal.bind(Object(jn.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.match.params.client_id&&An.getClient(this.props.match.params.client_id).then(function(t){var a=[];if(t&&void 0===t.error)if(e.props.match.params.client_id){var n=t;if(n){var r=[{label:"CLIENTS",url:""},{label:n.registered_name,url:"#/membership/clients-profile/"+e.props.match.params.client_id},{label:"MEMBERS",url:"#/membership/members"},{label:"TERMINATE MEMBERS",url:""}];if(void 0!==n.member_data_fields){a=n.member_data_fields;var i=Math.min.apply(null,a.map(function(e){return e.sort_order}));a.unshift({data_type:"Alphanumeric",field_choices:[],field_name:"member_id",field_type:"Mandatory",info_type:"Member Profile",input_type:"Text Field",is_client_added:!1,is_required:!0,sort_order:i-1,system_name:"Member ID"}),console.log("client system names",a)}var o=e.state.details_data;o.account.label=n.registered_name,e.setState({check_internet_flag:!1,breadcrumbs:r,clients_data:t,system_names:a,details_data:o,corporate_account:n.registered_name,clientDetails:{id:n._id,name:n.registered_name}},function(){return e.getClientDataMap(e.props.match.params.client_id,!1)})}else e.getClientDataMap(e.props.match.params.client_id,!1)}else e.setState({clients_data:t,system_names:[],loading_state:!1},function(){return e.getClientDataMap(e.props.match.params.client_id,!1)});else e.setState({system_names:[]},function(){return e.getClientDataMap(e.props.match.params.client_id,!1)})})}},{key:"componentDidUpdate",value:function(e,t){console.log(e),t.terminationData!==this.state.terminationData&&console.log("terminationData",this.state.terminationData)}},{key:"getClientContracts",value:function(e){var t=this,a=this.state.batchnames;this.setState({check_internet_flag:!0}),this.showHideLoader(!0),An.getClientContracts(e).then(function(n){if(null===Mn.a.get(n,"error",null)){var r=t.state.details_data,i=a;t.props.match.params.proposal_id?i=t.getBatchNames(t.props.match.params.proposal_id,e,n):(r.contract={id:"",value:"",label:""},i=t.getBatchNames("","",n)),t.setState({check_internet_flag:!1,loading_state:!1,initial_load:!0,contracts_data:n,details_data:r,batchnames:i},function(){return t.getPlanTypes(e)})}else t.setState({loading_state:!1,initial_load:!0,contracts_data:[]},function(){return t.getPlanTypes(e)})})}},{key:"getBatchNames",value:function(e,t,a){var n=this.state.batchnames,r=n;if(e&&t&&a){var i=n;for(var o in a){var l=a[o];if(l._id===t){for(var s in l.upload_batch_objects){var c=l.upload_batch_objects[s];c.contract_id===e&&i.push({id:c.batch_name,value:c.batch_name,label:c.batch_name})}break}}}return r}},{key:"getPlanTypes",value:function(e,t){var a=this,n=this.state.details_data.contract.id;n?(t&&this.showHideLoader(!0),this.setState({check_internet_flag:!0}),this.showHideLoader(!0),An.getContractTree(n).then(function(n){if(n&&void 0===n.error){a.setState({check_internet_flag:!1});var r=n.filter(function(e){return"PlanType"===e.type&&"Base Plan Type"!==e.name}).map(function(e,t){return{id:t,value:e.name,label:e.name}}),i=n.filter(function(e){var t=e.tree_id,a=e.level,n=e.type;return!(!t||!t.includes("-DP-")||7!==a||"Benefit"!==n)}),o=[];i.forEach(function(e){o.some(function(t){return t.value===e.name})||o.push({id:e._id,value:e.name,label:e.name})});var l=n.filter(function(e){var t=e.tree_id,a=e.level,n=e.type;return!(!t||!t.includes("-DP-")||8!==a||"Sub-Benefit"!==n)}),s=[];l.forEach(function(e){s.some(function(t){return t.value===e.name})||s.push({id:e._id,value:e.name,label:e.name})}),t?a.setState({loading_state:!1,plan_type_options:r,civil_status_options:o,relationship_options:s}):a.setState({loading_state:!1,plan_type_options:r,civil_status_options:o,relationship_options:s},function(){a.getClientDataMap(e,!0)})}})):t?this.showHideLoader(!1):this.getClientDataMap(e,!0)}},{key:"updateClientDataMaps",value:function(e){var t=this;e&&e.trim()&&(this.showHideLoader(!0),An.getClientDataMap(e).then(function(e){if(void 0===e.error){var a=[];for(var n in e)if(!Mn.a.isNil(e[n])){var r=e[n];a.push({id:r._id,value:r._id,label:r.name,is_default:!!r.is_default&&r.is_default})}t.setState({loading_state:!1,clients_data_maps:e,client_maps:a})}else t.showHideLoader(!1)}).catch(function(){t.showHideLoader(!1)}))}},{key:"getClientDataMap",value:function(e,t){var a=this;e&&e.trim()?(this.setState({check_internet_flag:!0}),this.showHideLoader(!0),An.getClientDataMap(e).then(function(e){if(void 0===e.error){console.log("client data maps",e),a.setState({check_internet_flag:!1});var n=[];if(t){var r={},i=[],o=a.state.system_names,l={columns:[{name:"system_name",title:"System Name"},{name:"sheet_name",title:"Column Header"}],rows:[{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""},{sheet_name:"",system_name:""}]};for(var s in e)if(null!==e[s]){var c=e[s],m={id:c._id,value:c._id,label:c.name,is_default:!!c.is_default&&c.is_default};!0===c.is_default&&0===Object.keys(r).length&&(r=m,c.mapping&&c.mapping.length>0&&(i=c.mapping)),n.push(m)}if(o.length>0&&i.length>0){l.rows=[],l.columns[1].type="select",l.columns[1].options=[{id:"",value:"",label:""}];var d=[];for(var u in o){var p=o[u],f={system_name:p.system_name,field_name:p.field_name,sheet_name:"",sheet_field:"",required:p.is_required};for(var b in i){var g=i[b];if(g.system_name===p.system_name){f.sheet_name=g.sheet_name,d.push(g.sheet_name);break}}l.rows.push(f)}var _=d.map(function(e){return{id:"",value:e,label:e}});l.columns[1].options=_}a.setState({loading_state:!1,clients_data_maps:e,selected_data_map:r,columns_data:l,client_maps:n},function(){a.getSaveForNowData()})}else{for(var h in e){var v=e[h];n.push({id:v._id,value:v._id,label:v.name,is_default:!!v.is_default&&v.is_default})}a.setState({loading_state:!1,clients_data_maps:e,client_maps:n},function(){a.getSaveForNowData()})}}else a.setState({clients_data_maps:[],client_maps:[]},function(){a.getSaveForNowData()})})):this.setState({clients_data_maps:[],client_maps:[]},function(){a.getSaveForNowData()})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"openTerminationDetailsModal",value:function(){this.setState({terminationModalOpen:!0})}},{key:"onHandleSubmitClick",value:function(){this.closeModal();var e=this.state,t=e.ticketId,a=e.isAddMembersTicket,n=e.isFromEncodeMembersTicket;if(t&&null!==t&&void 0!==t){var r=this.props.match.params.ticket_id;a&&n&&t===r?this.createAddMemberTicket(!1):(this.setTicketVariable(t),this.handleSaveForNowOnSubmit())}else this.createAddMemberTicket(!1)}},{key:"handleSubmit",value:function(){this.setState({loading_state:!0});var e=this.state,t=e.details_data,a=e.uploaded_data,n=e.columns_data,r=["Gender","Civil Status","Plan Type","Type","Relationship to Principal"],i={client_id:t.account.id,contract_id:t.contract.id,sender_name:t.sender_name,sender_email:t.sender_email,channel:t.sent_through_channel.value,date_sent:t.date_sent,batch_name:t.batch_name.value,no_of_members:a.rows.length,members:[]};for(var o in a.rows){var l=a.rows[o],s={};for(var c in n.rows){var m=n.rows[c];if(m&&m.sheet_name&&void 0!==l[m.sheet_field]&&null!==l[m.sheet_field]&&-1!==r.indexOf(m.system_name))s=this.generateValuesData(l[m.sheet_field],m.field_name,m.system_name,s);else if(m&&m.sheet_name&&void 0!==l[m.sheet_field]&&null!==l[m.sheet_field])if("suffix"===m.field_name){s[m.field_name]=l[m.sheet_field].trim();var d=l[m.sheet_field].trim();if(l[m.sheet_field]&&void 0!==l[m.sheet_field]&&null!==l[m.sheet_field]){var u=l[m.sheet_field].replace(".","").toLowerCase();switch(u){case"sr":case"jr":d=u.charAt(0).toUpperCase()+u.substring(1)+".";break;case"others":d=u.charAt(0).toUpperCase()+u.substring(1);break;case"i":case"ii":case"iii":case"iv":case"v":d=u.toUpperCase()}s[m.field_name]=d}}else s[m.field_name]=l[m.sheet_field];else s[m.field_name]=""}Object.keys(s).length>0&&(s.contracts=[t.contract.id],i.members.push(s))}this.routeWorkflow(i)}},{key:"routeWorkflow",value:function(e){var t=this,a=this.state,n=a.details_data,r=a.ticketId;gs.put("cases/".concat(r,"/variable"),{client_id:n.account.id,client_name:n.account.label,mother_contract_id:n.contract.id,use_import:!0}).then(function(){t.postUploadMember(e)}).catch(function(a){"USER_DATA_NOT_FOUND"===a.message?t.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):t.postUploadMember(e)})}},{key:"postUploadMember",value:function(e){var t=this,a=this.state.ticketId;this.setState({check_internet_flag:!0}),An.postUploadMember(e,a).then(function(e){if(e&&void 0===e.error)t.setState({check_internet_flag:!1}),t.onPostUploadMemberSuccess(e);else if(e&&e.error){var a="Error in Uploading",n="",r=e.error,i=r.statusCode,o=r.name,l=r.message,s=r.details;500===i?(a="Submission Failed",n="Something went wrong. Please try again later."):"PayloadTooLargeError"===o?(a="Submission Failed",n="The content of the file uploaded is too large."):422===i?(a="Submission Failed",n=l,s&&s.length>0&&s[0].path.includes("suffix")&&(n="One or more uploaded member have suffix values that are unaccepted. Kindly adjust and reupload from among the accepted values: Sr., Jr., I, II, III, IV, V")):(a="Submission Failed",n=l),t.setState({loading_state:!1,modalTitle:a,modalMessage:n,isOpenModal:!0})}else t.setState({loading_state:!1,modalTitle:"Submission Failed",modalMessage:"Failed to submit members.",isOpenModal:!0})}).catch(function(e){"USER_DATA_NOT_FOUND"===e.message?t.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):t.setState({loading_state:!1,modalTitle:"Submission Failed",modalMessage:"Failed to submit members.",isOpenModal:!0})})}},{key:"onPostUploadMemberSuccess",value:function(e){var t=this,a=this.state.ticketId,n=e._id;this.setState({loading_state:!1,memberUploadId:n,processingStatus:{}},function(){t.setTicketVariable(a),t.startMemberUploadJob(e)})}},{key:"startMemberUploadJob",value:function(e){var t=this,a={loading_state:!1,isConfirmModalOpen:!0,modalTitle:"Submission Failed",modalMessage:"Failed to submit members.",next:function(){t.startMemberUploadJob(e)}};this.setState({loading_state:!0},function(){var n=e._id;An.startMemberUpload(n,t.state.ticketId).then(function(e){var n=Mn.a.get(e,"error",null);Mn.a.isNil(n)?t.getProcessingStatus():t.setState(a)}).catch(function(e){console.log("startMemberUploadJob",e),"USER_DATA_NOT_FOUND"===e.message?t.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):t.setState(a)})})}},{key:"generateValuesData",value:function(e,t,a,n){switch(n[t]="",a.toLowerCase()){case"gender":var r=this.state.gender_data;if(r&&r.rows&&r.rows.length>0)for(var i in r.rows){var o=r.rows[i];if(o.values===e){n[t]=o.data_column;break}}break;case"civil status":var l=this.state.civil_status_data;if(l&&l.rows&&l.rows.length>0)for(var s in l.rows){var c=l.rows[s];if(c.values===e){n[t]=c.data_column;break}}break;case"plan type":var m=this.state.plan_type_data;if(m&&m.rows&&m.rows.length>0)for(var d in m.rows){var u=m.rows[d];if(u.values===e){n[t]=u.data_column;break}}break;case"type":var p=this.state.type_data;if(p&&p.rows&&p.rows.length>0)for(var f in p.rows){var b=p.rows[f];if(b.values===e){n[t]=b.data_column;break}}break;case"relationship to principal":var g=this.state.relationship_data;if(g&&g.rows&&g.rows.length>0)for(var _ in g.rows){var h=g.rows[_];if(h.values===e){n[t]=h.data_column;break}}}return n[t]&&"default_plantype_placeholder"===n[t]?n[t]="":n[t]&&""!==n[t]||(n[t]="".concat(e," - For Validation")),n}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"validateDetails",value:function(){var e=this.state,t=e.activeStep,a=e.details_data;if(0===t){var n=0;for(var r in a){var i=this.getErrorMessage(r);switch(r){case"account":case"contract":case"sent_through_channel":var o;if(!a[r]||!a[r].value||""===a[r].value)this.setState((o={},Object(wi.a)(o,r+"_error",!0),Object(wi.a)(o,r+"_error_message",i),o)),n++;break;case"sender_name":var l;if(""===a[r]||!a[r]||null===a[r])this.setState((l={},Object(wi.a)(l,r+"_error",!0),Object(wi.a)(l,r+"_error_message",i),l)),n++;break;case"date_sent":var s;if(""!==a[r]&&a[r]&&null!==a[r])qr.isValidDate(a[r])||(this.setState({date_sent_error:!0,date_sent_error_message:"Date is invalid"}),n++);else this.setState((s={},Object(wi.a)(s,r+"_error",!0),Object(wi.a)(s,r+"_error_message",i),s)),n++;break;case"sender_email":var c,m=a.sent_through_channel;if(m&&"Email"===m.value)if(""!==a[r]&&a[r]&&null!==a[r])this.validateEmail(a.sender_email)&&(this.setState({sender_email_error:!0,sender_email_error_message:"Wrong format"}),n++);else this.setState((c={},Object(wi.a)(c,r+"_error",!0),Object(wi.a)(c,r+"_error_message",i),c)),n++}}if(n>0)return n}return 0}},{key:"handleNextButton",value:function(){var e=this.state,t=e.activeStep,a=e.uploaded_data,n=e.columns_data;if(1===t){if(Object.keys(a).length<=0||a.rows.length<=0)return void this.setState({modalTitle:"Submission Failed",modalMessage:"You must upload a spreadsheet file before you can proceed.",isOpenModal:!0});if(n.rows&&0===n.rows.length)return void this.setState({isOpenModal:!0,modalTitle:"Error Message",modalMessage:"Mapping of data is required. Please complete first the mapping of data to continue."});var r=[];for(var i in n.rows){var o=n.rows[i];!0!==o.required||""!==o.sheet_name&&void 0!==o.sheet_name||-1!==r.indexOf(o.system_name)||r.push(o.system_name)}if(r.length>0)return void this.setState({isOpenErrorWithListModal:!0,modalTitle:"Mapping of data is incomplete",modalMessage:"Please map the following required fields: ",error_list:r});var l=!1;for(var s in a.rows){var c=a.rows[s];for(var m in n.rows){var d=n.rows[m];if(d&&d.sheet_name&&void 0!==c[d.sheet_field]&&null!==c[d.sheet_field]&&"date_of_birth"===d.field_name){var u=c[d.sheet_field],p=Je()(u).isValid(),f=/^(\d{4})$/.test(u);p&&!f||(l=!0);break}}if(l)break}if(l)return void this.setState({isOpenModal:!0,modalTitle:"Invalid date format",modalMessage:"Invalid format for date of birth. Please follow the MM/DD/YYYY or YYYY/MM/DD format."});void 0!==a.rows&&a.rows.length>0&&(console.log("column data",n),console.log("uploaded data rows",a.rows),this.setState({terminationData:{terminateMembersArray:a.rows}}),this.openTerminationDetailsModal())}}},{key:"handleMarkAsDoneButton",value:function(){this.onBackToDashboard()}},{key:"handleBackButton",value:function(){var e=this.state.activeStep;e-1===0&&this.setState({pageHeader:"Upload a File for Termination",activeStep:e-1})}},{key:"getErrorMessage",value:function(e){var t="";switch(e){case"account":t="Corporate account is required";break;case"contract":t="Contract is required";break;case"sent_through_channel":t="Sent through channel is required";break;case"batch_name":t="Batch name is required";break;case"sender_name":t="Sender name is required";break;case"date_sent":t="Date sent is required";break;case"number_of_members":t="Number of members is required";break;case"sender_email":t="Sender email is required"}return t}},{key:"validateEmail",value:function(e){return!e.match(/\S+@\S+\.\S+/)||(-1!==e.indexOf(" ")||-1!==e.indexOf(".."))}},{key:"handleUpdateDetails",value:function(e,t){var a,n=this;this.setState((a={},Object(wi.a)(a,t+"_error",!1),Object(wi.a)(a,t+"_error_message",""),Object(wi.a)(a,"details_data",e),Object(wi.a)(a,"disabledNext",!1),a),function(){if("account"===t)n.setState({loading_state:!0,corporate_account:e.account.label},function(){n.getClientContracts(e.account.value),n.getClientDataMap(e.account.value,!0)});else if("contract"===t){var a=n.state.details_data;n.getPlanTypes(a.contract.id,!0)}})}},{key:"getSaveForNowData",value:function(){var e=this;if(this.showHideLoader(!0),Mn.a.isEmpty(this.props.match.params.ticket_id))this.showHideLoader(!1);else{var t=this.state.isProcessing;this.setState({check_internet_flag:!0}),An.getSaveForNowData("encode-member",this.props.match.params.ticket_id).then(function(a){if(void 0!==a&&a.length>0){e.setState({check_internet_flag:!1});var n=e.state,r=n.save_for_now_id,i=n.details_data,o=n.batchnames,l=n.uploadMemberData,s=n.raw_uploaded_data,c=n.filtered_raw_data,m=n.selected_data_map,d=n.rows_start_at,u=n.uploaded_data,p=n.columns_data,f=n.gender_data,b=n.civil_status_data,g=n.plan_type_data,_=n.type_data,h=n.relationship_data,v=a[0],E=v._id,y=v.data;E&&(i=Zh({},i,{sender_name:y.sender_name,sender_email:y.sender_email,date_sent:y.date_sent,sent_through_channel:y.sent_through_channel,batch_name:y.batch_name,number_of_members:y.number_of_members}),r=E,o=y.batchnames,s=y.raw_uploaded_data,l=y.uploadMemberData,c=y.filtered_raw_data,m=y.selected_data_map,d=y.rows_start_at,u=y.uploaded_data,p=y.columns_data,f=y.gender_data,b=y.civil_status_data,g=y.plan_type_data,_=y.type_data,h=y.relationship_data),e.setState({loading_state:!1,save_for_now_id:r,details_data:i,batchnames:o,raw_uploaded_data:s,filtered_raw_data:c,uploadMemberData:l,selected_data_map:m,rows_start_at:d,uploaded_data:u,columns_data:p,gender_data:f,civil_status_data:b,plan_type_data:g,type_data:_,relationship_data:h,activeStep:t?1:0,pageHeader:t?"Upload Member File":"Upload a File for Termination"})}else e.setState({loading_state:!1})}).catch(function(){e.setState({loading_state:!1})})}}},{key:"doSaveForNow",value:function(e,t){var a=this,n=this.state,r=n.save_for_now_id,i=n.ticketId,o=n.details_data,l=o.sender_name,s=o.sender_email,c=o.date_sent,m=o.sent_through_channel,d=o.batch_name,u=o.number_of_members,p={sender_name:l,sender_email:s,date_sent:c,sent_through_channel:m,batchnames:n.batchnames,batch_name:d,number_of_members:u,uploadMemberData:n.uploadMemberData,raw_uploaded_data:n.raw_uploaded_data,filtered_raw_data:n.filtered_raw_data,selected_data_map:n.selected_data_map,rows_start_at:n.rows_start_at,uploaded_data:n.uploaded_data,columns_data:n.columns_data,gender_data:n.gender_data,civil_status_data:n.civil_status_data,plan_type_data:n.plan_type_data,type_data:n.type_data,relationship_data:n.relationship_data};this.setState({check_internet_flag:!0}),r&&""!==r?An.patchSaveForNow(r,p).then(function(){e&&(a.setState({check_internet_flag:!1}),e())}).catch(function(e){var a="Error: ".concat(JSON.stringify(e));t&&t(a)}):An.saveForNow("encode-member",i,"Encode Members",p).then(function(n){if(void 0!==n&&void 0===n.error)a.setState({check_internet_flag:!1,save_for_now_id:n._id},function(){e&&e()});else{var r="Error: ".concat(JSON.stringify(n.error));t&&t(r)}}).catch(function(e){var a="Error: ".concat(JSON.stringify(e));t&&t(a)})}},{key:"handleSaveForNow",value:function(){var e=this;this.showHideLoader(!0),this.doSaveForNow(function(){e.setState({loading_state:!1,isOpenModal:!0,modalTitle:"Save for now",modalMessage:"Details are saved successfully."})},function(t){e.setState({loading_state:!1,isOpenModal:!0,modalTitle:"Error saving information",modalMessage:t})})}},{key:"handleSaveForNowOnSubmit",value:function(){var e=this;this.showHideLoader(!0),this.doSaveForNow(function(){e.setState({loading_state:!1},function(){e.handleSubmit()})},function(t){e.setState({loading_state:!1,isOpenModal:!0,modalTitle:"Error saving information",modalMessage:t})})}},{key:"onSaveForNowClicked",value:function(){var e=this.state,t=e.ticketId,a=e.isAddMembersTicket,n=e.isFromEncodeMembersTicket;if(t&&null!==t&&void 0!==t){var r=this.props.match.params.ticket_id;a&&n&&t===r?this.createAddMemberTicket(!0):(this.setTicketVariable(t),this.handleSaveForNow())}else this.createAddMemberTicket(!0)}},{key:"createAddMemberTicket",value:function(e){var t=this;this.showHideLoader(!0),gs.post("cases/",{pro_uid:"5310535875df6222bae2930014295490",tas_uid:"5098598465df6225498bc87032787138"}).then(function(a){if(console.log("createAddMemberTicket",a),t.showHideLoader(!1),void 0!==a.app_uid){var n=a.app_uid;t.setState({ticketId:n,trueTicketId:a.app_number},function(){t.executeTicketTrigger(n),t.setTicketVariable(n,a),e?t.handleSaveForNow():t.handleSaveForNowOnSubmit()})}}).catch(function(e){console.log("createAddMemberTicket",e),"USER_DATA_NOT_FOUND"===e.message?t.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):t.showHideLoader(!1)})}},{key:"executeTicketTrigger",value:function(e){gs.put("cases/"+e+"/execute-trigger/6066708415df623339fa4f4056468668",{}).then(function(e){console.log("executeTicketTrigger",e)}).catch(function(e){console.log("executeTicketTrigger",e)})}},{key:"setTicketVariable",value:function(e,t){var a=this.state,n=a.details_data,r=n.account,i=n.contract,o=a.memberUploadId;gs.put("cases/"+e+"/variable",{client_id:r.value||"",client_name:r.label||"",mother_contract_id:i.value||"",from_membership:!0,member_upload_id:o},!0).then(function(a){if(console.log("setTicketVariable",a),t){var n={status:"OPEN",ticket_id:t.app_number.toString(),pmaker_case_uid:e,ticket_type:"Add Member",client:r.label,client_id:r.value};An.postTicket(n,!0).then(function(){console.log("postTicket: Verify Member")}).catch(function(){})}}).catch(function(e){console.log("setTicketVariable",e)})}},{key:"deleteSaveForNow",value:function(){var e=this,t=this.state.save_for_now_id;t&&""!==t&&(this.setState({check_internet_flag:!0}),An.deleteSaveForNow(t).then(function(t){e.setState({check_internet_flag:!1}),console.log("deleteSaveForNow Response: ",t)}).catch(function(e){console.log("deleteSaveForNow Error: ",e)}))}},{key:"showHideLoader",value:function(e){this.setState({loading_state:e})}},{key:"updateState",value:function(e,t){this.setState(Object(wi.a)({},t,e))}},{key:"updateUploadMemberData",value:function(e,t){var a=Zh({},this.state.uploadMemberData,Object(wi.a)({},e,t));this.setState({uploadMemberData:a})}},{key:"savingNewDataMap",value:function(e){var t=this;this.setState({loading_state:!0,check_internet_flag:!0}),e.client_id=this.state.details_data.account.value,An.postNewDataMap(e).then(function(e){if(e&&void 0===e.error){var a=t.state,n=a.clients_data_maps,r=a.client_maps,i={id:e._id,value:e._id,label:e.name,is_default:!!e.is_default&&e.is_default};n.push(e),r.push(i),t.setState({check_internet_flag:!1,loading_state:!1,clients_data_maps:n,client_maps:r,selected_data_map:i,modalTitle:"Success",modalMessage:"New data map was successfully added.",isOpenModal:!0,next:function(){t.updateClientDataMaps(t.state.details_data.account.value)}})}else e&&e.error&&e.error.message?t.setState({loading_state:!1,modalTitle:"Error",modalMessage:e.error.message,isOpenModal:!0}):t.setState({loading_state:!1,modalTitle:"Error",modalMessage:"Failed to add new data map.",isOpenModal:!0})})}},{key:"updatingSelectedDataMap",value:function(){var e=this,t=this.state.selected_data_map&&this.state.selected_data_map.id?this.state.selected_data_map.id.trim():"",a=null;t&&(a=this.state.client_maps&&this.state.client_maps.length>0?this.state.client_maps[Mn.a.findIndex(this.state.client_maps,{id:t})]:null);var n=this.state.columns_data&&this.state.columns_data.rows&&this.state.columns_data.rows.length>0?this.state.columns_data.rows:[];if(a&&n){this.setState({loading_state:!0,check_internet_flag:!0});var r={};for(var i in r.client_id=this.state.details_data.account.value,r.name=a.label,r.is_default=a.is_default,r.mapping=[],n){var o=n[i];""!==o.sheet_name&&void 0!==o.sheet_name&&"Member ID"!==o.system_name&&r.mapping.push({system_name:o.system_name,sheet_name:o.sheet_name})}console.log("save data map payload",r),An.patchDataMap(t,r).then(function(t){var a=Mn.a.get(t,"error",null);Mn.a.isNil(a)?e.setState({check_internet_flag:!1,loading_state:!1,modalTitle:"Success",modalMessage:"Data map was successfully updated.",isOpenModal:!0,next:function(){e.updateClientDataMaps(e.state.details_data.account.value)}}):t&&t.error&&t.error.message?e.setState({loading_state:!1,modalTitle:"Error",modalMessage:t.error.message,isOpenModal:!0}):e.setState({loading_state:!1,modalTitle:"Error",modalMessage:"Failed to update data map.",isOpenModal:!0})})}}},{key:"setShouldUpdateStatus",value:function(e){localStorage.setItem("ENCODE_MEMBER_BACKGROUND_TASK_STATUS",e?"true":"false")}},{key:"getShouldUpdateStatus",value:function(){var e=localStorage.getItem("ENCODE_MEMBER_BACKGROUND_TASK_STATUS");return null!==e&&"true"===e}},{key:"setBgTaskMuId",value:function(e){localStorage.setItem("ENCODE_MEMBER_BACKGROUND_TASK_MEMBER_UPLOAD_ID",e)}},{key:"isEqualToSavedBgTaskMuId",value:function(e){var t=localStorage.getItem("ENCODE_MEMBER_BACKGROUND_TASK_MEMBER_UPLOAD_ID");return null!==t&&t===e}},{key:"setBgPollingTask",value:function(e){var t=this.getBgPollingTask();window.clearTimeout(t),localStorage.setItem("ENCODE_MEMBER_BACKGROUND_TASK_ID","".concat(e))}},{key:"getBgPollingTask",value:function(){var e=localStorage.getItem("ENCODE_MEMBER_BACKGROUND_TASK_ID");if(null!==e)try{return parseInt(e)}catch(t){console.log("getBgPollingTask Error parsing timeout id: ".concat(e))}return 0}},{key:"cancelStatusBgPolling",value:function(){var e=this.getBgPollingTask();window.clearTimeout(e),this.setShouldUpdateStatus(!1),this.setBgTaskMuId(""),this.setBgPollingTask(0)}},{key:"resumeStatusBgPolling",value:function(){this.setShouldUpdateStatus(!0),this.setBgTaskMuId(this.state.memberUploadId);var e=window.setTimeout(this.getMuStatusOnBg,1e3);this.setBgPollingTask(e)}},{key:"getMuStatusOnBg",value:function(){var e=this;this.setState({check_internet_flag:!0}),An.getMemberUploadStatus(this.state.memberUploadId).then(function(t){if(t&&void 0===t.error&&e.getShouldUpdateStatus()){e.setState({check_internet_flag:!1});var a=t.member_upload_id,n=t.active_index,r=t.status;if(!Mn.a.isNil(a)&&!e.isEqualToSavedBgTaskMuId(a))return;if((Mn.a.isEmpty(e.state.processingStatus)||e.state.processingStatus.active_index<=n)&&e.setState({processingStatus:t}),["INITIAL","ONGOING"].includes(r)){e.setBgTaskMuId(e.state.memberUploadId);var i=window.setTimeout(e.getMuStatusOnBg,5e3);e.setBgPollingTask(i)}}})}},{key:"getProcessingStatus",value:function(){var e=this;Mn.a.isNil(this.state.memberUploadId)||(this.setState({loading_state:!0,check_internet_flag:!0},function(){e.setShouldUpdateStatus(!0),e.setBgTaskMuId(e.state.memberUploadId)}),An.getMemberUploadStatus(this.state.memberUploadId).then(function(t){e.setState({loading_state:!1,check_internet_flag:!1},function(){if(t&&void 0===t.error&&e.getShouldUpdateStatus()){var a=t.member_upload_id,n=t.active_index,r=t.status;if(!Mn.a.isNil(a)&&!e.isEqualToSavedBgTaskMuId(a))return;if((Mn.a.isEmpty(e.state.processingStatus)||e.state.processingStatus.active_index<=n)&&e.setState({processingStatus:t}),["INITIAL","ONGOING"].includes(r)){e.setBgTaskMuId(e.state.memberUploadId);var i=window.setTimeout(e.getMuStatusOnBg,5e3);e.setBgPollingTask(i)}}})}).catch(function(){e.setState({loading_state:!1})}))}},{key:"closeModalMessage",value:function(){this.setState({isOpenModal:!1})}},{key:"closeModalWithList",value:function(){this.setState({modalTitle:"",modalMessage:"",error_list:[],isOpenErrorWithListModal:!1})}},{key:"onCancelProcess",value:function(){var e=this;this.setState({loading_state:!0,check_internet_flag:!0});var t=this.state.trueTicketId;An.cancelMemberUpload(this.state.memberUploadId,this.state.ticketId).then(function(a){a&&void 0!==a.error?e.setState({check_internet_flag:!1,loading_state:!1}):e.setState({loading_state:!1,processingStatus:{},isOpenModal:!0,modalTitle:"Processing of members cancelled",modalMessage:"All progress has been discarded. Start over by uploading a new members list or editing the data mapping for ticket ID ".concat(t,".")})}).catch(function(t){console.log("onCancelProcess",t),"USER_DATA_NOT_FOUND"===t.message?e.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):e.setState({loading_state:!1})})}},{key:"onBackToDashboard",value:function(){this.setState({redirectFlag:!0,redirectInfo:{pathname:"/membership/"}})}},{key:"onConfirmEnrollment",value:function(){var e=this;this.setState({loading_state:!0,check_internet_flag:!0}),An.confirmMemberUpload(this.state.memberUploadId,this.state.ticketId).then(function(t){t&&void 0!==t.error?e.setState({loading_state:!1,check_internet_flag:!1}):(e.setState({loading_state:!1,isOpenModal:!0,modalTitle:"Submission Successful",modalMessage:"Member file was successfully uploaded.",next:e.onBackToDashboard}),e.deleteSaveForNow())}).catch(function(t){console.log("onConfirmEnrollment",t),"USER_DATA_NOT_FOUND"===t.message?e.setState({loading_state:!1,modalTitle:"User Data Error",modalMessage:"User data not found. Please try logging in again.",isOpenModal:!0,next:function(){window.location.replace("../index.html#/")}}):e.setState({loading_state:!1})})}},{key:"handleSubmitTerminationModal",value:function(e,t){var a=this;console.log(e),this.setState({loading_state:!0,check_internet_flag:!0},function(){An.putMemberTerminationByFileUpload([e]).then(function(e){console.log(e),e&&void 0===e.error?(e.view_terminated_data=t,a.setState({viewTerminatedData:e,activeStep:2,loading_state:!1,check_internet_flag:!1,isOpenModal:!0,modalTitle:"Member Termination Successful",modalMessage:"Member(s) have been successfully terminated."})):n()}).catch(function(e){console.log(e),n()});var n=function(){a.setState({loading_state:!1,check_internet_flag:!1,isOpenModal:!0,modalTitle:"Member Termination Failed",modalMessage:"An error occured while trying to terminate the uploaded member(s)."})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.pmaker_task,r=t.breadcrumbs,i=t.pageHeader,o=t.steps,l=t.activeStep,s=t.open,c=t.details_data,m=t.corporate_account,d=t.disabledNext,u=t.loading_state,p=t.uploaded_data,f=t.columns_data,b=t.system_names,g=t.clients_data_maps,_=t.selected_data_map,h=t.gender_data,E=t.civil_status_data,y=t.plan_type_data,x=t.type_data,O=t.relationship_data,C=t.raw_uploaded_data,S=t.add_new_data_map,w=t.rows_start_at,k=t.filtered_raw_data,j=t.client_maps,N=t.modalTitle,D=t.modalMessage,T=t.isOpenModal,M=t.isConfirmModalOpen,F=t.isOpenErrorWithListModal,P=t.error_list,A=t.plan_type_options,B=t.civil_status_options,I=t.relationship_options,R=t.uploadMemberData,L=t.ticketId,W=t.trueTicketId,z=t.isProcessing,U=t.processingStatus,Y=t.redirectFlag,V=t.redirectInfo,H=t.terminationModalOpen,q=t.terminationData,G=t.clientDetails,K=t.viewTerminatedData;return Y?n.createElement(v.a,{to:V}):n.createElement("div",{className:Object(tt.default)("BatchTerminationPage")},u?n.createElement(Rn,null):null,n.createElement(J.a,{container:!0,className:Object(tt.default)("member-header")},n.createElement(J.a,{item:!0,xs:12},n.createElement(bn.UI.BreadcrumbsComponent,{items:r})),1===l?n.createElement(J.a,{item:!0,xs:12},n.createElement(Tl,{id:"upload_member_stepper",label:i,steps:o,activeStep:l})):null),1===l?n.createElement(L_,{case_id:L,ticketId:W,pmaker_task:a,updateDetails:this.handleUpdateDetails,details_data:c,corporate_account:m,system_names:b,uploaded_data:p,column_names:f,showHideLoader:this.showHideLoader,updateState:this.updateState,updateUploadMemberData:this.updateUploadMemberData,data_maps:g,selected_data_map:_,gender_data:h,civil_status_data:E,plan_type_data:y,type_data:x,relationship_data:O,raw_uploaded_data:C,add_new_data_map:S,rows_start_at:w,filtered_raw_data:k,savingNewDataMap:this.savingNewDataMap,updatingDataMap:this.updatingSelectedDataMap,client_maps:j,plan_type_options:A,civil_status_options:B,relationship_options:I,uploadMemberData:R,isProcessing:z,processingStatus:U,getProcessingStatus:this.getProcessingStatus,resumeStatusBgPolling:this.resumeStatusBgPolling,cancelStatusBgPolling:this.cancelStatusBgPolling,onBackToDashboard:this.onBackToDashboard,onConfirmEnrollment:this.onConfirmEnrollment,onCancelProcess:this.onCancelProcess}):null,2===l?n.createElement(Kh,{terminated:K}):null,n.createElement(J.a,{container:!0,alignItems:"stretch"},n.createElement(J.a,{item:!0,xs:12},n.createElement(Fl,{leftButtons:n.createElement($h,{handleSaveForNow:this.onSaveForNowClicked,handleNextButton:this.handleNextButton,handleMarkAsDoneButton:this.handleMarkAsDoneButton,disabled:d,currentActiveStep:l})}))),n.createElement(xl,{id:"encode-member-modal",isModalOpen:s,company:c.account.label,member_count:Object.keys(p).length>0?p.rows.length:0,onSubmit:this.onHandleSubmitClick,onClose:this.closeModal}),n.createElement(Cl,{id:"upload-member-confirm-modal",isModalOpen:M,modalTitle:N,modalMessage:D,closeText:"Cancel",confirmText:"Continue Process",onClose:function(){e.setState({isConfirmModalOpen:!1})},onConfirm:function(){var t=e.state.next;t&&e.setState({isConfirmModalOpen:!1},function(){t()})}}),n.createElement(ql,{id:"upload_modal_error",isModalOpen:T,title:N,message:D,onClose:this.closeModalMessage}),n.createElement(fs,{id:"upload_modal_list_error",isModalOpen:F,title:N,message:D,data:P,onClose:this.closeModalWithList}),n.createElement(Pi,{id:"Lost Internet Modal",isModalOpen:this.state.check_internet_flag,onClose:this.handleCloseLostInternetConnectionModal}),n.createElement(Y_,{id:"termination_details_modal",isModalOpen:H,memberData:q.terminateMembersArray,clientDetails:G,onSubmit:this.handleSubmitTerminationModal,onClose:function(){e.setState({terminationModalOpen:!1})}}))}}]),t}(n.Component),tv=Object(kn.a)(),av=function(){return r.a.createElement(bn.UI.ProfilePage,{url:"http://api-dev.hims.veridata.com.ph:4101/api/"})},nv=Object(E.a)({typography:ib()(nb()({}),{fontFamily:"usual"}),palette:{text:{primary:"#272E4C",secondary:"#272E4C",hint:"#272E4C"},primary:{main:"#3AB77D",contrastText:"#FFFFFF"},secondary:{main:"rgba(58, 183, 125, 0.38)",contrastText:"#FFFFFF"}},overrides:{MuiLink:{underlineAlways:{fontWeight:"bold",color:"#272E4C"},underlineHover:{textDecoration:"underline","&:hover":{fontWeight:"bold",color:"#272E4C"}}},MuiTab:{root:{textTransform:"none",textAlign:"left",color:"rgba(39, 46, 76, 0.5)","&.Mui-selected":{textDecoration:"underline",fontSize:"14px",fontWeight:"bold",color:"rgba(58, 183, 125, 1)"},"@media (min-width:960px)":{minWidth:"120px"}}},MuiTabs:{indicator:{backgroundColor:"#3AB77D",display:"none"}},MuiButton:{containedPrimary:{textTransform:"inherit",boxShadow:"0px 3px 6px #1e207129","&:hover":{backgroundColor:"#008650"}},containedSecondary:{textTransform:"inherit",border:"1px solid #0000001A",boxShadow:"0px 1px 3px #00000033","&:hover":{backgroundColor:"#008650"}}},MuiListItem:{root:{paddingTop:"2.5px",paddingBottom:"2.5px"}},MuiListSubheader:{root:{color:"#B7BAC7",fontSize:"0.813em",fontWeight:"bold",textTransform:"uppercase"}},MuiListItemText:{root:{color:"#272E4C",fontSize:"0.875em"}},MuiFormHelperText:{root:{color:"272E4C"},contained:{marginLeft:"0px"}},MuiOutlinedInput:{input:{padding:"12px 16px"}},MuiInputBase:{root:{backgroundColor:"#FFFFFF",fontSize:"0.813em",".PageSizeSelector.inputRoot > .MuiSelect-selectMenu":{border:"1px solid rgba(0, 0, 0, 0.3)"}}},MuiTable:{root:{fontWeight:600,"& thead":{backgroundColor:"#DDDFE3"},"& tbody tr:nth-of-type(even)":{backgroundColor:"#F6F7FA","&.same-field":{backgroundColor:"#FEDCDB","& :first-child":{borderLeft:"3px solid #FD5451"}}},"& tbody tr:nth-of-type(odd)":{backgroundColor:"#FFFFFF","&.same-field":{backgroundColor:"#FEDCDB","& :first-child":{borderLeft:"3px solid #FD5451"}}}}},MuiTableCell:{root:{fontSize:"0.8125rem",borderBottom:"1px solid rgba(224, 224, 224, 0.3);"},head:{color:"#272E4C",fontSize:"0.8125rem",fontWeight:600},body:{color:"#272E4C",fontWeight:600},stickyHeader:{backgroundColor:"#DDDFE3"}},MuiStepper:{root:{padding:"0",backgroundColor:"#F5F7FB"}},MuiBreadcrumbs:{root:{fontSize:"0.75rem",textTransform:"uppercase"}},MuiTypography:{root:{fontSize:"0.75rem"},body1:{fontSize:"0.75rem"}},MuiStepLabel:{label:{fontWeight:600,"&.MuiStepLabel-active":{fontWeight:600},"&.MuiStepLabel-completed":{fontWeight:600}}},MuiStepIcon:{root:{color:"#E7E9EF"},text:{opacity:0}},MuiSnackbar:{root:{bottom:"10px"}},MuiSnackbarContent:{root:{width:"100%",backgroundColor:"#363636",opacity:.64,borderRadius:"0px",lineHeight:4.25,border:"1px solid #707070"}},MuiMenuItem:{root:{fontSize:"0.9375rem","&:first-child":{paddingTop:"10px"},"&:last-child":{paddingTop:"10px"}}},MuiFormControl:{marginNormal:{marginTop:"10px"}},MuiInput:{underline:{"&:before":{borderBottom:"1px solid rgba(0, 0, 0, 0)"}}},MuiButtonBase:{root:{"&.textColorInherit":{"&.selected":{textDecoration:"underline"}},"& .MuiIconButton-label":{'& input[type="radio"]':{border:"1px solid #707070"}},"&.MuiTab-root":{alignItems:"left"},"&.PrivateSwitchBase-root":{padding:"0px 5px"},"&.MuiPickersDay-dayDisabled":{color:"#ff0000"}}},MuiFormControlLabel:{root:{"& .MuiFormControlLabel-label":{fontWeight:600}}},MuiRadio:{root:{padding:"0px 5px"},colorPrimary:{"&.Mui-checked":{color:"#1E2071"}}},MuiPaper:{elevation1:{boxShadow:"0px 3px 6px rgb(0, 0, 0, 0.29)","@media (max-width:0px)":{maxWidth:"300px"},"@media (max-width:600px)":{maxWidth:"580px"},"@media (max-width:960px)":{maxWidth:"940px"},"@media (max-width:1280px)":{maxWidth:"1260px"},"@media (max-width:1920px)":{maxWidth:"1900px"}}},MuiCheckbox:{colorPrimary:{"&.Mui-checked":{color:"#1E2071"}}},MuiSelect:{select:{"&.Mui-disabled":{backgroundColor:"#E4E4E4"}}},MuiDialog:{paperScrollPaper:{maxHeight:"calc(100% - 50px)"}}}}),rv=wn.NotFoundPage,iv=!1;function ov(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(""),l=Object(g.a)(o,2),s=l[0],E=l[1],y=Object(n.useState)(""),x=Object(g.a)(y,2),O=x[0],C=x[1],S=Object(n.useState)(""),w=Object(g.a)(S,2),k=w[0],j=w[1];iv||tv.listen(function(e){iv=!0,"#/membership/dashboard"!==e.hash&&"#/membership/"!==e.hash&&"#/membership"!==e.hash||i("dashboard")});var N=function(e){return function(t){function a(){return Object(d.a)(this,a),Object(p.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(b.a)(a,t),Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(r.a.Component)},D=[{path:"/",component:N(sf),exact:!0},{path:"/member-contract/:member_id/:contract_id/:contract_check",component:N(El)},{path:"/member-contract/:member_id/:contract_id",component:N(El)},{path:"/encode-member/:ticket_id/:proposal_id/:client_id",component:N(Os)},{path:"/add-members/:ticket_id/:proposal_id/:client_id",component:N(Os)},{path:"/add-members",component:N(Os)},{path:"/verify-member/:ticket_id/:member_upload_id",component:N(bc)},{path:"/view-member/:member_id/:source_id",component:N(cu)},{path:"/view-member/:member_id",component:N(cu)},{path:"/person-profile/:member_id",component:N(fu)},{path:"/members",component:N(Vp)},{path:"/process-batches/:case_id/:client_id/:client_name",component:N(tb)},{path:"/process-batches/:client_name/:client_id",component:N(tb)},{path:"/process-batches",component:N(tb)},{path:"/clients",component:N(xf)},{path:"/dashboard",component:N(sf)},{path:"/clients-profile/batch-terminate/:client_id",component:N(ev)},{path:"/clients-profile/:client_id",component:N(Jg)},{path:"/ticketlist/:tab",component:N(E_)},{path:"/ticketlist",component:N(E_)},{path:"/",component:N(sf),exact:!0},{path:"/profile",component:N(av)},{path:"/login",component:N(k_)}];D.map(function(e){"/profile"!==e.path&&(e.path="".concat("/membership").concat(e.path))}),r.a.useEffect(function(){T()},[]);var T=function(){var e=Object(m.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An.getUserDataFromDb();case 2:t=e.sent,E(t.loginUsername),C(t.userName),j(t.profilePic);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(at.a,{theme:nv},r.a.createElement(_.Helmet,{titleTemplate:"NEO - %s",defaultTitle:"NEO"},r.a.createElement("meta",{name:"description",content:"NEO application"})),r.a.createElement(bn.UI.PageLayout,{selectedMenu:a,setSelectedMenu:i,history:tv,page:"membership",onLogout:function(){window.location.replace("../index.html#/")},currentModule:"Membership",username:s,fullname:O,profilePic:k},r.a.createElement(v.d,null,Object(h.a)(D),r.a.createElement(v.b,{path:"",component:rv}))))}var lv,sv=a(434),cv={en:wn.Message.formatTranslationMessages("en",sv)};!function(e){e.LOAD_REPOS="boilerplate/App/LOAD_REPOS",e.LOAD_REPOS_SUCCESS="boilerplate/App/LOAD_REPOS_SUCCESS",e.LOAD_REPOS_ERROR="boilerplate/App/LOAD_REPOS_ERROR"}(lv||(lv={}));var mv=lv;function dv(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var uv={loading:!1,error:!1,currentUser:"",userData:{repositories:[]}};var pv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mv.LOAD_REPOS:return{currentUser:e.currentUser,loading:!0,error:!1,userData:{repositories:[]}};case mv.LOAD_REPOS_SUCCESS:return{currentUser:t.payload.username,loading:!1,error:e.error,userData:{repositories:t.payload.repos}};case mv.LOAD_REPOS_ERROR:e.error,e.loading;var a=Object(Wn.a)(e,["error","loading"]);return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dv(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dv(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({error:t.payload,loading:!1},a);default:return e}};function fv(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var bv=ka.configureStore,gv=ka.history,_v=wn.Message.Provider,hv=bn.Services.ServiceWorker,vv=new l.a("Open Sans",{}),Ev=bv(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ka.history;return Object(xe.c)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fv(a,!0).forEach(function(t){Object(wi.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fv(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({global:pv,language:wn.Message.messageProviderReducer,router:Object(Ce.b)(t)},e))},{},gv),yv=document.getElementById("app"),xv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ov,a=wn.Document.Component;i.render(n.createElement(a,{Component:t,store:Ev,componentProps:{}},n.createElement(_v,{messages:e},n.createElement(t,null))),yv)};vv.load(void 0,6e4).then(function(){document.body.classList.add("fontLoaded")}),window.Intl?xv(cv):new Promise(function(e){e(Promise.all([a.e(3),a.e(6)]).then(a.t.bind(null,2124,7)))}).then(function(){return Promise.all([a.e(5).then(a.t.bind(null,2125,7)),a.e(4).then(a.t.bind(null,2126,7))])}).then(function(){return xv(cv)}).catch(function(e){throw e}),hv.register()},243:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=243},276:function(e,t,a){},307:function(e,t,a){},329:function(e,t,a){},434:function(e){e.exports=JSON.parse('{"boilerplate.containers.NotFoundPage.header":"Page not found."}')},435:function(e,t,a){},436:function(e,t,a){},438:function(e,t){},439:function(e,t,a){},486:function(e,t,a){},495:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return c});var n=a(18),r=a(19),i=a(21),o=a(20),l=a(22),s=a(0),c=function(t){function a(e){return Object(n.a)(this,a),Object(i.a)(this,Object(o.a)(a).call(this,e))}return Object(l.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){var t="".concat(e.execPath,"/../../../sample.pdf");console.log("pdf url ",t);var a="".concat(e.execPath,"/../pdfjs-2.2.228-dist/web/viewer.html?file=").concat(t.replace("=","%3D"));return console.log("viewer url ",a),s.createElement("div",null,s.createElement("iframe",{style:{width:"100%",height:"1280px"},src:a}))}}]),a}(s.Component)}).call(this,a(174))},532:function(e,t,a){e.exports=a(2015)},797:function(e,t,a){},798:function(e,t,a){},799:function(e,t,a){},803:function(e,t){},805:function(e,t){},806:function(e,t){},807:function(e,t){},808:function(e,t){},815:function(e,t,a){},816:function(e,t,a){},817:function(e,t,a){},818:function(e,t,a){},820:function(e,t){},821:function(e,t){},822:function(e,t,a){},823:function(e,t,a){},824:function(e,t,a){},832:function(e,t,a){},833:function(e,t,a){},834:function(e,t,a){},835:function(e,t,a){},836:function(e,t,a){},963:function(e,t,a){},964:function(e,t,a){}},[[532,1,2]]]);
//# sourceMappingURL=main.4083871d.chunk.js.map