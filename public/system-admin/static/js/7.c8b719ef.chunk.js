(window["webpackJsonpsystem-admin"]=window["webpackJsonpsystem-admin"]||[]).push([[7],{807:function(e,t,a){"use strict";var n=a(44);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(88)).default)(r.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");t.default=l},819:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(26),l=a.n(r),o=a(22),i=a(53),c=a(0),s=a.n(c),m=a(62),u={ResetReducer:"Account_ResetReducer",SetReducer:"Account_SetReducer"},p=function(e){return{payload:e,type:u.SetReducer}},d=a(319),g=a(152),f=a(92),E=a(38),b=Object(E.a)(function(e){return{mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px",position:"relative"},headMain:{},gridContainer:{padding:e.spacing(1),paddingBottom:"75px"},gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},bodyContainer:{minHeight:"100vh",backgroundColor:"#F5F7FB",padding:e.spacing(4)},sideBarContainer:{borderRight:"1px solid #ccc",paddingRight:"25px",paddingLeft:"25px"},contentContainer:{paddingLeft:"25px"},sideBarLists:{padding:0,margin:0,listStyle:"none"},sideBarLink:{color:"#272e4c",margin:"0 0 10px",display:"block"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(o.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"},userImage:{width:e.spacing(15),height:e.spacing(15)}}}),h=(Object(E.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogTitle:{marginTop:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},inputTextField:{width:"100%",marginTop:e.spacing(1),marginBottom:e.spacing(1),paddingRight:0},iconEye:{color:"#9EA3AC"},labelNote:{color:"#797F92",fontSize:12},errorMessage:{color:"#E53935",fontSize:14},errorIcon:{color:"#E53935"}}}),a(407)),y=a.n(h),x=a(442),v=a(744),O=a(311),_=a(741),N=a(71),S=a(128),j=a(12),w=a(74),k=a(127),C=a(55),D=a(36),A=a(408),I=a(31),P=a(317),R=a(15),M=a(180),z=a(32),L=a.n(z),T=a(122),B=a(807),U=a.n(B);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Y=Object(E.a)(function(){return{label:{color:"#3C394A",fontSize:12,opacity:.6},value:{color:"#3C394A",fontSize:16,fontWeight:800},linkAction:{color:"#3AB77D",textDecoration:"underline",fontSize:12,cursor:"pointer"},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px",fontSize:14},circle:{width:8,height:8,background:"#3C394A",borderRadius:"100%",display:"inline-block",marginRight:3,marginTop:5},padlock:{color:"#3AB77D",fontSize:18,position:"relative",top:-3,marginRight:5}}}),H=function(e){var t=Y(),a=c.useState(!1),r=Object(n.a)(a,2),l=r[0],o=r[1],i=c.useState(!1),s=Object(n.a)(i,2),m=s[0],u=s[1],p=c.useState(!1),d=Object(n.a)(p,2),g=d[0],E=d[1],b=c.useState(!1),h=Object(n.a)(b,2),y=h[0],x=h[1],v=c.useState({open:!1,title:"",message:""}),O=Object(n.a)(v,2),_=O[0],N=O[1],k=function(){N(W({},_,{open:!1}))},C=function(){x(!1)};return c.createElement(c.Fragment,null,g?c.createElement(T.LoadingIndicator,null):null,c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:12},c.createElement(R.a,null,c.createElement("b",null,"ACCOUNT"))),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"USERNAME"),c.createElement(R.a,{className:t.value},e.userData.username)),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"PRIMARY ROLE AND MODULE"),c.createElement(R.a,{className:t.value},e.userData.main_role&&e.userData.main_role.name+" - "+e.userData.main_module))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"EMAIL"),c.createElement(R.a,{className:t.value},e.userData.email)),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"USER GROUP"),c.createElement(R.a,{className:t.value},null==e.userData.group?"N/A":e.userData.group.name))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"PASSWORD"),c.createElement(R.a,{className:t.value},c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle})),c.createElement(S.a,{onClick:function(){o(!0)}},"Reset Password")),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"ROLES FROM USER GROUPS"),c.createElement(R.a,{className:t.value},c.createElement("u",null,e.userData.hasOwnProperty("group")&&e.userData.group.hasOwnProperty("roles")&&e.userData.group.roles.length>0?e.userData.group.roles.map(function(t,a){return Object.keys(t).length>0?"".concat(t.name).concat(a!==e.userData.group.roles.length-1?", ":""):"N/A"}):"N/A")))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"STATUS"),c.createElement(R.a,{className:t.value,style:{textTransform:"capitalize"}},c.createElement("b",null,e.userData.status)),"locked"===e.userData.status?c.createElement(S.a,{onClick:function(){x(!0)}},c.createElement(U.a,{className:t.padlock}),"Unlock User"):""),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"OTHER ROLES"),c.createElement(R.a,{className:t.value},c.createElement("u",null,e.userData.hasOwnProperty("roles")&&e.userData.roles.length>0?e.userData.roles.map(function(t,a){return"".concat(t.name).concat(a!==e.userData.roles.length-1?", ":"")}):"N/A")))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"SUPERVISOR"),e.userData.reports_to?c.createElement(c.Fragment,null,c.createElement(R.a,{className:t.value},e.userData.reports_to.first_name," ",e.userData.reports_to.last_name),c.createElement(R.a,{style:{color:"rgba(60, 57, 74, 0.7)"}},c.createElement("small",null,c.createElement("b",null,e.userData.reports_to.job_title?e.userData.reports_to.job_title:"N/A"))),c.createElement(R.a,{style:{color:"rgba(60, 57, 74, 0.7)"}},c.createElement("small",null,c.createElement("i",null,e.userData.reports_to.employee_id?e.userData.reports_to.employee_id:"N/A")))):c.createElement(R.a,{className:t.value},"N/A"))),c.createElement(j.a,{container:!0,spacing:5,style:{paddingBottom:30}},c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"EFFECTIVITY DATE"),c.createElement(R.a,{className:t.value},e.userData.effectivity_date?L()(e.userData.effectivity_date).format("MMM DD, YYYY"):"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"EXPIRY DATE (If applicable)"),c.createElement(R.a,{className:t.value},e.userData.expiry_date?L()(e.userData.expiry_date).format("MMM DD, YYYY"):"N/A"))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:12},c.createElement(R.a,null,c.createElement("b",null,"PROFILE"))),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"FIRST NAME"),c.createElement(R.a,{className:t.value},e.userData.first_name?e.userData.first_name:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"MIDDLE NAME"),c.createElement(R.a,{className:t.value},e.userData.middle_name?e.userData.middle_name:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"LAST NAME"),c.createElement(R.a,{className:t.value},e.userData.last_name?e.userData.last_name:"N/A"))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"EMPLOYEE ID NUMBER"),c.createElement(R.a,{className:t.value},e.userData.employee_id?e.userData.employee_id:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"DEPARTMENT"),c.createElement(R.a,{className:t.value},e.userData.department?e.userData.department.name:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"JOB POSITION / RANK"),c.createElement(R.a,{className:t.value},e.userData.job_title?e.userData.job_title:"N/A"))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"SECTION"),c.createElement(R.a,{className:t.value},e.userData.section?e.userData.section:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"LOCATION"),c.createElement(R.a,{className:t.value},e.userData.location?e.userData.location:"N/A"))),c.createElement(M.a,{isModalOpen:l,onClose:function(){return o(!1)},message:"Do you really want to reset the password of this user?",title:"Reset Password",buttons:c.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{onClick:function(){o(!1)},className:t.button,variant:"outlined",color:"secondary"},"Cancel")),c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){E(!0),Object(f.h)(e.userData.username).then(function(e){console.log(e),o(!1),u(!0),E(!1)})}},"Reset")))}),c.createElement(M.a,{isModalOpen:m,onClose:function(){return u(!1)},message:"New password has been sent to the user's registered email account.",title:"Reset Password Success",buttons:c.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){u(!1)}},"Okay")))}),c.createElement(M.a,{isModalOpen:y,onClose:C,message:"Are you sure you want to grant ".concat(e.userData.first_name," access to the system again?"),title:"Unlock User",buttons:c.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{onClick:C,className:t.button,variant:"outlined",color:"secondary"},"Cancel")),c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){E(!0),C(),Object(f.j)(e.userData._id).then(function(t){t.error?N(W({},_,{open:!0,title:"Error",message:t.error.message})):(N(W({},_,{open:!0,title:"Unlock User Success",message:"This user has been successfully unlocked."})),e.setUserData(t)),E(!1)}).catch(function(e){E(!1),N(W({},_,{open:!0,title:"Error",message:e.message}))})}},"Unlock")))}),c.createElement(M.a,{isModalOpen:_.open,onClose:k,message:_.message,title:_.title,buttons:c.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{className:t.button,variant:"contained",color:"primary",onClick:k},"Okay")))}))},V=a(438),G=a(747),J=a(79),K=a(796),X=a(67),q=a(129),Q=a(66),Z=a.n(Q),$=a(748),ee=a(179),te=a(27);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var re=Object(E.a)(function(){return{label:{color:"#3C394A",fontSize:12,opacity:.6,marginBottom:5},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},userAlignRight:{textAlign:"right"},input:{},value:{color:"#3C394A",fontSize:16,fontWeight:800},linkAction:{color:"#3AB77D",textDecoration:"underline",fontSize:12,cursor:"pointer"},circle:{width:8,height:8,background:"#3C394A",borderRadius:"100%",display:"inline-block",marginRight:3,marginTop:5},saveButton:{width:"135px",fontSize:"14px",color:"#fff"},cancelAdd:{width:"135px",fontSize:"14px",color:"#ffffff",marginRight:"20px",backgroundColor:"#3C394A","&:hover":{backgroundColor:"#302e3c"}},errorLabel:{color:"#E53935",fontSize:"12px"},errorIcon:{color:"#E53935"},padlock:{color:"#3AB77D",fontSize:18,position:"relative",top:-3,marginRight:5},linkUnlock:{marginTop:10,display:"block"}}}),le=function(e){var t=e.userData,a=e.setMode,r=e.setUserData,c=e.updateStates,m=s.a.useState([{label:"",value:""}]),u=Object(n.a)(m,2),p=u[0],d=u[1];s.a.useEffect(function(){var e=Object.assign(H,t);if(Q(e),Object(f.b)().then(function(e){var t=[];e.error?Ae(ne({},De,{open:!0,title:"Error",message:e.error.message,onOkay:function(){Ae(ne({},De,{open:!1}))}})):(e.forEach(function(e){var a={label:e.name,value:e};t.push(a)}),d(t))}).catch(function(e){Ae(ne({},De,{open:!0,title:"Error",message:e.message,onOkay:function(){Ae(ne({},De,{open:!1}))}}))}),ue({label:"".concat(t.main_role.name," - ").concat(t.main_module),value:t.main_role}),fe({label:t.department.name,value:t.department}),t.hasOwnProperty("effectivity_date")&&void 0!==t.effectivity_date&&Me(t.effectivity_date),t.hasOwnProperty("expiry_date")&&void 0!==t.expiry_date&&Be(t.expiry_date),t.hasOwnProperty("group")&&null!==t.group&&ie({label:t.group.name,value:t.group}),t.hasOwnProperty("roles")&&t.roles.length>0){var a=t.roles.map(function(e){return{value:e,label:e.name}});console.log(a),_e(a)}t.hasOwnProperty("reports_to")&&t.reports_to&&ye({label:t.reports_to.first_name,value:t.reports_to}),Object(ee.e)().then(function(e){var t={body:e.body,label:"name"};P(E(t))}).catch(function(e){Ae(ne({},De,{open:!0,title:"Error",message:e.message,onOkay:function(){Ae(ne({},De,{open:!1}))}}))})},[]);var E=function(e){var t=[];return e.body&&e.body.length>0?(e.body.map(function(a){var n={label:a[e.label],value:a};t.push(n)}),t):[]},b=function(){var e=Object(i.a)(l.a.mark(function e(a,n){var r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={first_name:{like:"".concat(a,".*"),options:"i"},main_module:B.hasOwnProperty("main_module")?B.main_module:t.main_module},e.next=3,Object(f.e)(1e3,0,r).catch(function(){return n([])});case 3:(o=e.sent)&&n(y(o.body));case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),h=function(e,t){Q(ne({},H,Object(o.a)({},t,e.target.value))),F(ne({},B,Object(o.a)({},t,e.target.value)))},y=function(e){return e.map(function(e){return{value:e,label:"".concat(e.hasOwnProperty("first_name")?e.first_name:"","\n                      ").concat(e.hasOwnProperty("middle_name")?e.middle_name:"","\n                      ").concat(e.hasOwnProperty("last_name")?e.last_name:"")}})},x=function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ye(!0),Je(!1),e.next=4,Object(f.h)(H.username).catch(function(e){Ae(ne({},De,{open:!0,title:"Error resetting password",message:e.message,onOkay:function(){Ae(ne({},De,{open:!1}))}}))});case 4:(t=e.sent)&&(t.error?Ae(ne({},De,{open:!0,title:"Error resetting password",message:t.error.message,onOkay:function(){Ae(ne({},De,{open:!1}))}})):Ae(ne({},De,{open:!0,title:"Reset Password Success",message:"New password has been sent to the user's registered email account",onOkay:function(){Ae(ne({},De,{open:!1}))}}))),Ye(!1);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=ne({},t,{},B),yt(!0),jt||gt(a)&&we(ne({},je,{open:!0,title:"Confirm Changes",message:"Are you sure you want to update your account details?",onClose:function(){we(ne({},je,{open:!1}))},onSubmit:_}));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=ne({},t,{},B),gt(a)&&we(ne({},je,{open:!0,title:"Confirm Changes",message:"Are you sure you want to update your account details?",onClose:function(){we(ne({},je,{open:!1}))},onSubmit:_}));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){L()(Te).isSameOrBefore()&&"deactivated"!==t.status.toLowerCase()?we(ne({},je,{open:!0,title:"Deactivate User",message:"Would you like to continue deactivating this user?",onClose:function(){we(ne({},je,{open:!1}))},onSubmit:function(){N()}})):L()(Te).isSameOrAfter()&&"active"!==t.status.toLowerCase()||null===Te&&"active"!==t.status.toLowerCase()?"awaiting activation"===t.status.toLowerCase()?N():we(ne({},je,{open:!0,title:"Activate User",message:"Would you like to continue activating this user?",onClose:function(){we(ne({},je,{open:!1}))},onSubmit:function(){N()}})):N()},N=function(){var e=Object(i.a)(l.a.mark(function e(){var n,o,i,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return we(ne({},je,{open:!1})),Ye(!0),(n=ne({},t,{},B)).status=n.status.toLowerCase(),n.hasOwnProperty("group_roles")&&delete n.group_roles,n.expiry_date||delete n.expiry_date,n.section&&null!==n.section||delete n.section,n.roles&&null!==n.roles||(n.roles=[]),delete n.username,delete n._id,delete n.is_locked,delete n.needs_password_update,delete n.password,delete n.is_online,e.next=16,Object(f.k)(Object(g.a)(),n).catch(function(e){console.log(e),Ae(ne({},De,{open:!0,title:"Error saving changes",message:e.message,onOkay:function(){Ae(ne({},De,{open:!1}))}}))});case 16:if(!(o=e.sent)){e.next=33;break}if(!o||o.error){e.next=32;break}return e.next=21,te.c.StorageService("user_data","username").catch(function(e){return console.log(e)});case 21:if(!(i=e.sent)){e.next=28;break}if(i.result!==o.username){e.next=28;break}return e.next=26,Object(f.i)({username:o.username,password:o.include}).catch(function(e){return console.log(e)});case 26:s=e.sent,c(s.login);case 28:r(o),Ae(ne({},De,{open:!0,title:"Changes Saved",message:"Your changes to your account have been saved successfully.",onOkay:function(){a("view")}})),e.next=33;break;case 32:Ae(ne({},De,{open:!0,title:"Error saving changes",message:o.error.message,onOkay:function(){Ae(ne({},De,{open:!1}))}}));case 33:Ye(!1),console.log(JSON.stringify(n));case 35:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){dt(ne({},pt,{open:!1}))},C=function(){st(!1)},D=s.a.useState(),A=Object(n.a)(D,2),I=A[0],P=A[1],z=s.a.useState({}),T=Object(n.a)(z,2),B=T[0],F=T[1],W=s.a.useState({first_name:"",middle_name:"",last_name:"",group:null,email:"",employee_id:"",department:"",job_title:"",location:"",section:"",username:"",main_module:"",main_role:"",effectivity_date:"",expiry_date:"",roles:null,profile_pic:"",reports_to:""}),Y=Object(n.a)(W,2),H=Y[0],Q=Y[1],ae=s.a.useState({}),le=Object(n.a)(ae,2),oe=le[0],ie=le[1],ce=s.a.useState({}),se=Object(n.a)(ce,2),me=se[0],ue=se[1],pe=s.a.useState({}),de=Object(n.a)(pe,2),ge=de[0],fe=de[1],Ee=s.a.useState(""),be=Object(n.a)(Ee,2),he=be[0],ye=be[1],xe=s.a.useState([]),ve=Object(n.a)(xe,2),Oe=ve[0],_e=ve[1],Ne=s.a.useState({open:!1,title:"",message:"",onClose:function(){},onSubmit:function(){}}),Se=Object(n.a)(Ne,2),je=Se[0],we=Se[1],ke=s.a.useState({open:!1,title:"",message:"",onOkay:function(){}}),Ce=Object(n.a)(ke,2),De=Ce[0],Ae=Ce[1],Ie=s.a.useState(""),Pe=Object(n.a)(Ie,2),Re=Pe[0],Me=Pe[1],ze=s.a.useState(""),Le=Object(n.a)(ze,2),Te=Le[0],Be=Le[1],Ue=s.a.useState(!1),Fe=Object(n.a)(Ue,2),We=Fe[0],Ye=Fe[1],He=s.a.useState(!1),Ve=Object(n.a)(He,2),Ge=Ve[0],Je=Ve[1],Ke=s.a.useState({first_name:"",middle_name:"",last_name:"",email:"",employee_id:"",department:"",job_title:"",location:"",username:"",main_module:"",effectivity_date:"",main_role:"",roles:""}),Xe=Object(n.a)(Ke,2),qe=Xe[0],Qe=Xe[1],Ze=s.a.useState({first_name:null,middle_name:null,last_name:null,email:null,employee_id:null,department:null,job_title:null,location:null,username:null,main_module:null,effectivity_date:null,main_role:null,roles:null}),$e=Object(n.a)(Ze,2),et=$e[0],tt=$e[1],at=s.a.useState(g.b.email.test(t.email)),nt=Object(n.a)(at,2),rt=nt[0],lt=nt[1],ot=s.a.useState(!1),it=Object(n.a)(ot,2),ct=it[0],st=it[1],mt=s.a.useState({open:!1,title:"",message:""}),ut=Object(n.a)(mt,2),pt=ut[0],dt=ut[1],gt=function(e){var t=["section","group","profile_pic","reports_to","expiry_date","is_active","is_locked","retry_count","roles"],a=[],n=[];Object.entries(e).forEach(function(e){t.includes(e[0])||(e[1]?"email"===e[0]?rt?(e[1]=!0,a.push(e)):(e[1]=!1,n.push(e)):(e[1]=!0,a.push(e)):(e[1]=!1,n.push(e)))});var r=Object.assign(Object.fromEntries(a),Object.fromEntries(n));for(var l in tt(r),console.log(r),Qe({first_name:r.first_name?"":"Invalid Input",middle_name:r.middle_name?"":"Invalid Input",last_name:r.last_name?"":"Invalid Input",employee_id:r.employee_id?"":""===qe.employee_id?"Invalid Input":qe.employee_id,department:r.department?"":"Invalid Input",job_title:r.job_title?"":"Invalid Input",email:r.email?"":""===qe.email?"Invalid Input":qe.email,location:r.location?"":"Invalid Input",effectivity_date:r.effectivity_date?"":"Invalid Input",main_module:r.main_module?"":"Select a Primary Role and Module",main_role:r.main_role?"":"Select a Primary Role and Module"}),r)if(!r[l])return!1;return!0},ft=function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.g)(1e3,t).catch(function(){return a([])}).catch(function(e){Ae(ne({},De,{open:!0,title:"Error",message:e.message,onOkay:function(){Ae(ne({},De,{open:!1}))}}))});case 2:(n=e.sent)&&(console.log(n),a(Et(n.body,!1)));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Et=function(e,t){var a=[];return e&&e.length>0?(e.map(function(e){var n={value:e,label:""};n.label=t?e.name:"".concat(e.name," - ").concat(e.hasOwnProperty("module")?e.module:""),a.push(n)}),a):[]},bt=function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.g)(1e3,t).catch(function(){return a([])});case 2:(n=e.sent)&&a(ht(n.body,!0));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ht=function(e,t){var a=[];return e&&e.length>0?(e.map(function(e){var n={value:e,label:""};n.label=t?e.name:"".concat(e.name," - ").concat(e.hasOwnProperty("module")?e.module:""),a.push(n)}),a):[]},yt=function(){var e=Object(i.a)(l.a.mark(function e(a){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={email:H.email},""===H.email||!H.email||H.email===Ot){e.next=15;break}if(wt(!0),g.b.email.test(H.email)){e.next=9;break}lt(!1),Qe(ne({},qe,{email:"Invalid email"})),tt(ne({},et,{email:!1})),e.next=13;break;case 9:return e.next=11,Object(f.e)(1,0,n).catch(function(){lt(!0),Qe(ne({},qe,{email:""})),tt(ne({},et,{email:!0})),a&&O()});case 11:(r=e.sent)&&r.body[0].email!==t.email&&(lt(!1),Qe(ne({},qe,{email:"Already Exist"})),tt(ne({},et,{email:!1})));case 13:_t(H.email),wt(!1);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),xt=s.a.useState(""),vt=Object(n.a)(xt,2),Ot=vt[0],_t=vt[1],Nt=s.a.useState(!1),St=Object(n.a)(Nt,2),jt=St[0],wt=St[1],kt=re();return s.a.createElement(s.a.Fragment,null,We&&s.a.createElement(X.a.LoadingIndicator,null),s.a.createElement("div",{style:{marginBottom:80}},s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:12},s.a.createElement(R.a,null,s.a.createElement("b",null,"Edit Account Details"))),s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:kt.label},"Username"),s.a.createElement(V.a,{type:"text",className:kt.input,value:t.username,fullWidth:!0,disabled:!0,id:"outline-username",variant:"outlined"})),s.a.createElement(j.a,{item:!0,xs:7},s.a.createElement(R.a,{className:kt.label},"Primary Role and Module"),s.a.createElement(X.a.Dropdown,{async:!0,onChange:function(e){ue(e),F(ne({},B,{main_module:e.value.module,main_role:e.value})),ye("")},fetchOption:ft,placeholder:"Search One",icon:!1,isMulti:!1,noOptionsMessage:"Type to search",closeOnSelect:!0,value:me,choices:[]}))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:kt.label},"Email"),s.a.createElement(V.a,{type:"text",error:null!==et.email?!et.email:et.email,onBlur:function(){return yt()},onChange:function(e){return h(e,"email")},className:kt.input,value:H.email,fullWidth:!0,id:"outline-username",variant:"outlined",InputProps:{endAdornment:s.a.createElement(G.a,{position:"start"}," ",jt?s.a.createElement($.a,{size:20}):"")}}),s.a.createElement(j.a,{container:!0},null!==et.email&&!1===et.email?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:kt.errorLabel},qe.email)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:kt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:7},s.a.createElement(R.a,{className:kt.label},"User Group"),s.a.createElement(X.a.Dropdown,{placeholder:"Select One",defaultValue:I?I[2]:"",icon:!0,isMulti:!1,closeOnSelect:!0,onChange:function(e){ie(e),console.log(e),F(ne({},B,{group:e.value}))},value:oe,choices:I}))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:kt.label},"Password"),s.a.createElement(R.a,{className:kt.value},s.a.createElement("span",{className:kt.circle}),s.a.createElement("span",{className:kt.circle}),s.a.createElement("span",{className:kt.circle}),s.a.createElement("span",{className:kt.circle}),s.a.createElement("span",{className:kt.circle}),s.a.createElement("span",{className:kt.circle})),s.a.createElement(S.a,{onClick:function(){Je(!0)}},"Reset Password")),s.a.createElement(j.a,{item:!0,xs:7},s.a.createElement(R.a,{className:kt.label},"Roles from User Group"),s.a.createElement(R.a,{className:kt.value},s.a.createElement("u",null,Object.keys(oe).length>0&&oe.value.hasOwnProperty("roles")&&oe.value.roles.length>0?oe.value.roles.map(function(e,t){return Object.keys(e).length>0?"".concat(e.name).concat(t!==oe.value.roles.length-1?", ":""):"N/A"}):"N/A")))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:kt.label},"Status"),s.a.createElement(V.a,{type:"text",className:kt.input,value:t.hasOwnProperty("status")&&t.status.toUpperCase(),fullWidth:!0,disabled:!0,id:"outline-username",variant:"outlined"}),"locked"===t.status?s.a.createElement(S.a,{onClick:function(){st(!0)},className:kt.linkUnlock},s.a.createElement(U.a,{className:kt.padlock}),"Unlock User"):""),s.a.createElement(j.a,{item:!0,xs:7},s.a.createElement(R.a,{className:kt.label},"Other Roles"),s.a.createElement(X.a.Dropdown,{async:!0,onChange:function(e){_e(e),console.log(e);var t=[];e&&e.length>0&&e.map(function(e){return t.push(e.value)}),Q(ne({},H,{roles:t})),F(ne({},B,{roles:t}))},fetchOption:bt,placeholder:"Search Role",noOptionsMessage:"Type to search",icon:!0,isMulti:!0,closeOnSelect:!0,value:Oe,choices:[]}))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:kt.label},"Supervisor Name"),s.a.createElement(X.a.Dropdown,{disabled:!t.main_module||!t.main_role||""===t.main_module||""===t.main_role,async:!0,onChange:function(e){ye(e),F(ne({},B,{reports_to:e.value}))},fetchOption:b,placeholder:"Search User",noOptionsMessage:"Type to search",icon:!1,isMulti:!1,closeOnSelect:!0,value:he,choices:[]}))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:kt.label},"Effectivity Date"),s.a.createElement(J.a,{utils:q.a},s.a.createElement(K.a,{variant:"dialog",inputProps:{disabled:!0},format:"MMMM DD, YYYY",inputVariant:"outlined",value:Re,invalidDateMessage:"",onChange:function(e){Me(L()(e).toISOString()),Q(ne({},B,{effectivity_date:L()(e).toISOString()})),F(ne({},B,{effectivity_date:L()(e).toISOString()}))},style:{width:"100%"}}))),s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:kt.label},"Expiry Date"),s.a.createElement(J.a,{utils:q.a},s.a.createElement(K.a,{minDate:Re,variant:"dialog",clearable:!0,inputProps:{disabled:!0},format:"MMMM DD, YYYY",inputVariant:"outlined",value:Te,invalidDateMessage:"",onChange:function(e){Be(L()(e).toISOString()),Q(ne({},B,{expiry_date:L()(e).toISOString()})),F(ne({},B,{expiry_date:L()(e).toISOString()}))},style:{width:"100%"}})))),s.a.createElement(j.a,{item:!0,xs:12,style:{marginTop:40,marginBottom:20}},s.a.createElement(R.a,null,s.a.createElement("b",null,"Edit Profile"))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:kt.label},"First Name"),s.a.createElement(V.a,{type:"text",error:null!==et.first_name?!et.first_name:et.first_name,onChange:function(e){return h(e,"first_name")},className:kt.input,value:H.first_name,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==et.first_name&&!1===et.first_name?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:kt.errorLabel},qe.first_name)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:kt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:kt.label},"Middle Name"),s.a.createElement(V.a,{type:"text",error:null!==et.middle_name?!et.middle_name:et.middle_name,onChange:function(e){return h(e,"middle_name")},className:kt.input,value:H.middle_name,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==et.middle_name&&!1===et.middle_name?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:kt.errorLabel},qe.middle_name)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:kt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:kt.label},"Last Name"),s.a.createElement(V.a,{type:"text",error:null!==et.last_name?!et.last_name:et.last_name,onChange:function(e){return h(e,"last_name")},className:kt.input,value:H.last_name,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==et.last_name&&!1===et.last_name?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:kt.errorLabel},qe.last_name)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:kt.errorIcon}))):""))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:kt.label},"Employee ID"),s.a.createElement(V.a,{type:"text",error:null!==et.employee_id?!et.employee_id:et.employee_id,onChange:function(e){return h(e,"employee_id")},className:kt.input,value:H.employee_id,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==et.employee_id&&!1===et.employee_id?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:kt.errorLabel},qe.employee_id)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:kt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:kt.label},"Department"),s.a.createElement(X.a.Dropdown,{error:null!==et.department&&null!==et.department?!et.department:et.department,placeholder:"Select One",icon:!0,isMulti:!1,closeOnSelect:!0,isCreatable:!0,value:ge,onChange:function(e){fe(e),e.__isNew__?F(ne({},B,{department:{name:e.value}})):F(ne({},B,{department:e.value}))},choices:p}),s.a.createElement(j.a,{container:!0},null!==et.department&&!1===et.department?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:kt.errorLabel},qe.department)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:kt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:kt.label},"Job Position/Rank"),s.a.createElement(V.a,{type:"text",error:null!==et.job_title?!et.job_title:et.job_title,onChange:function(e){return h(e,"job_title")},className:kt.input,value:H.job_title,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==et.job_title&&!1===et.job_title?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:kt.errorLabel},qe.job_title)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:kt.errorIcon}))):""))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:kt.label},"Section"),s.a.createElement(V.a,{type:"text",onChange:function(e){return h(e,"section")},className:kt.input,value:H.section,fullWidth:!0,id:"outline-username",variant:"outlined"})),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:kt.label},"Location"),s.a.createElement(V.a,{type:"text",error:null!==et.location?!et.location:et.location,onChange:function(e){return h(e,"location")},className:kt.input,value:H.location,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==et.location&&!1===et.location?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:kt.errorLabel},qe.location)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:kt.errorIcon}))):""))),s.a.createElement(X.a.FloatingFooter,null,s.a.createElement(j.a,{item:!0,xs:12,className:kt.userAlignRight},s.a.createElement(w.a,{onClick:function(){a("view")},className:kt.cancelAdd,variant:"contained",color:"primary"},"Cancel"),s.a.createElement(w.a,{disabled:!(Object.keys(B).length>0&&B.constructor===Object||t.profile_pic!==H.profile_pic),onClick:v,className:kt.saveButton,variant:"contained",color:"primary"},"Save Changes"))),s.a.createElement(M.a,{isModalOpen:je.open,onClose:je.onClose,message:je.message,title:je.title,buttons:s.a.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:je.onClose,className:kt.button,variant:"outlined",color:"secondary"},"Cancel")),s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:je.onSubmit,className:kt.button,variant:"contained",color:"primary"},"Save")))}),s.a.createElement(X.a.MsgModal,{isModalOpen:De.open,title:De.title,message:De.message,onClose:De.onOkay}),s.a.createElement(M.a,{isModalOpen:Ge,onClose:function(){return Je(!1)},message:"Do you really want to reset the password of this user?",title:"Reset Password",buttons:s.a.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:function(){Je(!1)},className:kt.button,variant:"outlined",color:"secondary"},"Cancel")),s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{className:kt.button,variant:"contained",color:"primary",onClick:function(){x()}},"Reset")))}),s.a.createElement(M.a,{isModalOpen:ct,onClose:C,message:"Are you sure you want to grant ".concat(e.userData.first_name," access to the system again?"),title:"Unlock User",buttons:s.a.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:C,className:kt.button,variant:"outlined",color:"secondary"},"Cancel")),s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{className:kt.button,variant:"contained",color:"primary",onClick:function(){Ye(!0),C(),Object(f.j)(e.userData._id).then(function(e){e.error?dt(ne({},pt,{open:!0,title:"Error",message:e.error.message})):(dt(ne({},pt,{open:!0,title:"Unlock User Success",message:"This user has been successfully unlocked."})),r(e)),Ye(!1)}).catch(function(e){Ye(!1),dt(ne({},pt,{open:!0,title:"Error",message:e.message}))})}},"Unlock")))}),s.a.createElement(M.a,{isModalOpen:pt.open,onClose:k,message:pt.message,title:pt.title,buttons:s.a.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{className:kt.button,variant:"contained",color:"primary",onClick:k},"Okay")))})))},oe=function(e){var t=e.userData,a=e.mode,n=e.setMode,r=e.userIdDb,l=e.setUserData,o=e.updateStates;return s.a.createElement(s.a.Fragment,null,"view"===a?s.a.createElement(H,{setUserData:l,userData:t,userIdDb:r}):"edit"===a?s.a.createElement(le,{updateStates:o,setUserData:l,setMode:n,userData:t}):"")},ie=["ACCOUNT"],ce=[{name:"Account"},{name:"Activity Logs",disabled:!0},{name:"Audit Logs",disabled:!0}];function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}a.d(t,"Account",function(){return pe}),a.d(t,"mapStateToProps",function(){return de}),a.d(t,"mapDispatchToProps",function(){return ge});var ue=Object(E.a)(function(e){return{mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px",paddingBottom:"40px"},headMain:{},root:{"& > *":{margin:e.spacing(1),width:200}},item:{padding:"10px, 24px 25px"},label:{marginBottom:"10px"},input:{marginBottom:"2px"},formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},selectedItems:{borderRadius:20,fontSize:13,backgroundColor:"#d1d4db",padding:"5px 10px",margin:"5px",display:"inline-block"},selectedText:{paddingRight:"5px"},noLabel:{marginTop:e.spacing(3)},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px",marginTop:"20px"},preview:{width:"83px",height:"83px",border:"1px solid #707070 ",position:"relative",backgroundColor:"#ffffff",borderRadius:"100%",padding:"20px",display:"flex",alignItems:"center",justifyContent:"center","&:focus":{outline:0}},dropzone:{width:"296px",height:"107px",backgroundColor:"#E6E8EE",borderRadius:"5px",border:"2px dashed #1E20714D",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"25px"},centerDrop:{display:"flex"},centerDropLabels:{marginLeft:"10px",maxWidth:"140px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},centerDropLabel:{display:"block",colro:"#272E4C",fontSize:12,marginTop:-2},errorLabel:{color:"#E53935",fontSize:"12px"},editIconContainer:{position:"absolute",right:"-3px",bottom:"0px",background:"#3AB77D",borderRadius:"100%",width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},editIcon:{color:"#ffffff",width:13,height:13},imageDropzone:{width:"18px",height:"24px"},previewPhoto:{width:"83px",height:"83px",borderRadius:"100%"},saveButton:{width:"135px",fontSize:"14px",color:"#fff"},cancelAdd:{width:"135px",fontSize:"14px",color:"#ffffff",marginRight:"20px",backgroundColor:"#3C394A","&:hover":{backgroundColor:"#302e3c"}},closeButton:{color:"#272E4C",position:"absolute",right:0,top:0,"&hover":{fontSize:"0.875rem"}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",padding:e.spacing(2,4,3),"&:focus":{outline:0}},cancelButton:{width:"135px",fontSize:"14px"},userAlignRight:{textAlign:"right"},inputLabel1:{color:"#272e4c",fontSize:"15px",marginBottom:"20px",marginTop:"35px"},errorIcon:{color:"#E53935"}}}),pe=function(e){var t=b(),a=ue();s.a.useEffect(function(){r(),c()},[]);var r=function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,Object(f.d)(Object(g.a)()).catch(function(e){ge(me({},de,{open:!0,title:"Error",message:e.message}))});case 3:(t=e.sent)&&(h(t.body.profile_pic),q(t.body)),V(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),o=function(){ge(me({},de,{open:!1}))},c=function(){te.c.StorageService("user_data","user_id").then(function(e){F(e.result),console.log("reponse",e,"wew")})},m=function(){L(!1),h(null)},u=s.a.useState(),p=Object(n.a)(u,2),E=p[0],h=p[1],R=s.a.useState(!1),M=Object(n.a)(R,2),z=M[0],L=M[1],T=s.a.useState(""),B=Object(n.a)(T,2),U=B[0],F=B[1],W=s.a.useState(!1),Y=Object(n.a)(W,2),H=Y[0],V=Y[1],G=s.a.useState({department:"",email:"",employee_id:"",first_name:"",group:{},is_locked:!1,job_title:"",last_name:"",location:"",main_module:"",main_role:"",middle_name:"",position:"",profile_pic:"",role:[],section:"",status:"",user_id:"",username:"",_id:""}),J=Object(n.a)(G,2),K=J[0],q=J[1],Q=s.a.useState(),Z=Object(n.a)(Q,2),$=Z[0],ee=Z[1],ae=s.a.useState("view"),ne=Object(n.a)(ae,2),re=ne[0],le=ne[1],se=s.a.useState({open:!1,title:"",message:"",onOkay:function(){ge(me({},de,{open:!1}))}}),pe=Object(n.a)(se,2),de=pe[0],ge=pe[1];return s.a.createElement(s.a.Fragment,null,H&&s.a.createElement(X.a.LoadingIndicator,null),s.a.createElement(x.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:z,className:a.modal,onClose:m,closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},s.a.createElement(O.a,{in:z},s.a.createElement("div",{className:a.paper},s.a.createElement(_.a,null,s.a.createElement(N.a,null,s.a.createElement(S.a,{className:a.closeButton,onClick:m},s.a.createElement(D.a,{icon:I.w})))),s.a.createElement("p",{id:"transition-modal-title",style:{fontSize:"20px"}},s.a.createElement("b",null,"Upload Picture")),s.a.createElement(A.a,{multiple:!1,onDrop:function(e){!function(e){["image/jpeg","image/jpg,","image/png"].includes(e[0].type)?h(e[0]):ge(me({},de,{open:!0,title:"Error selecting image",message:"Invalid file extension.",method:o}))}(e)}},function(e){var n=e.getRootProps,r=e.getInputProps;return s.a.createElement("section",n({className:"dropzone ".concat(t.dropzone)}),s.a.createElement("div",null,s.a.createElement("input",r()),s.a.createElement("div",{className:a.centerDrop},s.a.createElement(D.a,{style:{opacity:.56},icon:I.h,color:"#272E4C",size:"2x"}),s.a.createElement("div",{className:a.centerDropLabels},E&&E instanceof File?E.name:s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:a.centerDropLabel},"Drag or drop file."),s.a.createElement("span",{className:a.centerDropLabel},".jpg or .png"))))))}),s.a.createElement(j.a,{container:!0,spacing:1},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{className:a.cancelButton,variant:"outlined",color:"secondary",onClick:m},"Cancel")),s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:function(){var e=new FileReader;e.readAsDataURL(E),e.onload=function(){q(me({},K,{profile_pic:e.result.split(",")[1]})),m()}},className:a.saveButton,variant:"contained",color:"primary"},"Upload")))))),s.a.createElement(d.a,{headingTitle:K.username,breadCrumbsArray:ie,buttonFunc:function(){le("edit")},buttonName:"Edit Account",layoutType:"layout_1",enableButton:"edit"!==re}),s.a.createElement(j.a,{className:t.bodyContainer,container:!0,xs:12},s.a.createElement(j.a,{item:!0,xs:3,lg:2,className:t.sideBarContainer},s.a.createElement(k.a,{edge:"end",onClick:function(){}},s.a.createElement(C.a,{className:t.userImage,src:"DEFAULT_PIC"!==K.profile_pic?"data:image/jpeg;base64,".concat(K.profile_pic):"user.jpg",alt:"avatar"}),"edit"===re&&s.a.createElement("span",{onClick:function(){return L(!0)},style:{position:"absolute",right:"15px",bottom:"15px",background:"#3AB77D",borderRadius:"100%",width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},s.a.createElement(y.a,{style:{color:"#ffffff",width:13,height:13}}))),s.a.createElement(P.a,{items:ce,activeItems:function(e){ee(e)}})),s.a.createElement(j.a,{item:!0,xs:9,lg:10,className:t.contentContainer},s.a.createElement(oe,{updateStates:e.updateStates,setMode:le,userIdDb:U,userData:K,setUserData:q,mode:re})),$),s.a.createElement(X.a.MsgModal,{isModalOpen:de.open,title:de.title,message:de.message,onClose:de.onOkay}))},de=function(e){return e.users},ge=function(e){return{Map:Object(m.bindActionCreators)(p,e)}}}}]);
//# sourceMappingURL=7.c8b719ef.chunk.js.map