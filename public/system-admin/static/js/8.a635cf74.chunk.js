(window["webpackJsonpsystem-admin"]=window["webpackJsonpsystem-admin"]||[]).push([[8],{755:function(e,t,a){"use strict";a.d(t,"b",function(){return l}),a.d(t,"a",function(){return o});var n=new(a(290).a),l=function(e,t,a){return n.call({method:"GET"},"account-roles?filter[offset]=".concat(t,"&filter[limit]=").concat(e,"&filter[skip]=").concat(a))},o=function(e){return n.call({method:"GET"},'account-roles?filter={"where":{"_id":"'.concat(e,'"}}'))}},793:function(e,t,a){"use strict";a.r(t);var n=a(76),l=a(51),o=a(0),r=a(8),c={ResetReducer:"Roles_ResetReducer",SetReducer:"Roles_SetReducer"},i=function(e){return{payload:e,type:c.SetReducer}},s=a(13),m=a(27),u=a(1),d=a(190),E=a(150),p=a(79),g=a(29),b=a(746),h=a(287),f=a(740),x=a(745),v=a(7),S=a.n(v),y=function(e){var t=e.rows,a=e.viewOnly,l=e.classes,r=e.mode,c=e.moduleName,i=o.useState(!1),u=Object(n.a)(i,2),v=u[0],y=u[1],C=o.useState(0),O=Object(n.a)(C,2),N=O[0],w=O[1],I=o.useState(!1),T=Object(n.a)(I,2),_=T[0],j=T[1],L=o.useState(null),R=Object(n.a)(L,2),k=R[0],A=R[1],M=o.useState(null),F=Object(n.a)(M,2),D=F[0],B=F[1],P=o.useState(null),Y=Object(n.a)(P,2),U=Y[0],z=Y[1],G=o.useState(null),W=Object(n.a)(G,2),V=W[0],J=W[1],H=o.useState(!1),X=Object(n.a)(H,2),q=X[0],Q=X[1];console.log(a),console.log(c,"moduleName dog"),console.log(t);var K=[{name:"User Management",value:"0"},{name:"Membership",value:"1"},{name:"Underwriting",value:"2"},{name:"Customer Care",value:"3"},{name:"Claims",value:"4"},{name:"Billing",value:"5"}],Z=function(){Q(!1),A(K[Number(N)].name)};return o.createElement(o.Fragment,null,o.createElement(s.a,{container:!0,xs:12,spacing:3},"view"===r?o.createElement(o.Fragment,null,o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"ROLE ID"),o.createElement(p.a,null,o.createElement("b",null,t&&t.role_id))),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"description"},"DESCRIPTION"),o.createElement(p.a,null,o.createElement("b",null,"Manages and Configures technicals settings of the system"))),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"status"},"STATUS"),o.createElement(p.a,null,o.createElement("b",null,t&&t.status))),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"ROLE NAME"),o.createElement(p.a,null,o.createElement("b",null,t&&t.name))),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"description"},"ATTACHED GROUP/S"),o.createElement(p.a,null,t&&t.associate_groups&&t.associate_groups.length>0&&t.associate_groups.map(function(e){return o.createElement("b",null,e," ")}))),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"primary_module"},"PRIMARY MODULE"),o.createElement(p.a,null,o.createElement("b",null,"User Management"))),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"primary_module"},"LAST UPDATE"),o.createElement(p.a,null,o.createElement("b",null,"July 29, 2019")))):"edit"===r?o.createElement(o.Fragment,null,o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"MODULE"),o.createElement(p.a,null,o.createElement("b",null,null!==k?k:t.module)),o.createElement(g.a,{onClick:function(){j(!0)}},"Change Module")),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"ROLE ID"),o.createElement(p.a,null,o.createElement("b",null,t.role_id))),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"DESCRIPTION"),o.createElement(d.BasicTextField,null)),o.createElement(s.a,{item:!0,xs:6},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"ROLE NAME"),o.createElement(d.BasicTextField,{value:null!==V?V:t.name,onChange:function(e){J(e.target.value)}})),o.createElement(s.a,{item:!0,xs:6},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"STATUS"),o.createElement(p.a,null,o.createElement("b",null,t&&t.status))),o.createElement(s.a,{item:!0,xs:6},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"EFFECTIVITY DATE"),o.createElement(f.a,{views:["year","date","month"],value:null!==D?D:S()(t.effectivityDate),format:"MMM DD, YYYY",style:{width:"100%",marginTop:10},onChange:function(e){B(e)},inputVariant:"outlined"})),o.createElement(s.a,{item:!0,xs:6},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"EXPIRY DATE (If applicable)"),o.createElement(f.a,{views:["year","date","month"],value:U,style:{width:"100%",marginTop:10},format:"MMM DD, YYYY",onChange:function(e){z(e)},inputVariant:"outlined"}))):"add"===r?o.createElement(o.Fragment,null,o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"MODULE"),o.createElement(p.a,null,o.createElement("b",null,null!==k?k:c)),o.createElement(g.a,{onClick:function(){j(!0)}},"Change Module")),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"ROLE ID"),o.createElement(p.a,null,o.createElement("b",null,"RID2"))),o.createElement(s.a,{item:!0,xs:4},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"DESCRIPTION"),o.createElement(d.BasicTextField,null)),o.createElement(s.a,{item:!0,xs:6},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"ROLE NAME"),o.createElement(d.BasicTextField,{value:V,onChange:function(e){J(e.target.value)}})),o.createElement(s.a,{item:!0,xs:6}),o.createElement(s.a,{item:!0,xs:6},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"EFFECTIVITY DATE"),o.createElement(f.a,{views:["year","date","month"],value:D,format:"MMM DD, YYYY",style:{width:"100%",marginTop:10},onChange:function(e){B(e)},inputVariant:"outlined"})),o.createElement(s.a,{item:!0,xs:6},o.createElement(E.a,{className:l.inputLabel,htmlFor:"role_id"},"EXPIRY DATE (If applicable)"),o.createElement(f.a,{views:["year","date","month"],value:U,style:{width:"100%",marginTop:10},format:"MMM DD, YYYY",onChange:function(e){z(e)},inputVariant:"outlined"}))):null,o.createElement(s.a,{item:!0,xs:12},o.createElement(h.a,{onSearch:function(){return console.log("on search")},placeholder:"Search policies"}),t?o.createElement(b.a,{rows:t.rbac,columns:[{name:"operation",title:"Object and Operations"},{name:"policy",title:"Policies"},{name:"policy_id",title:"Policy ID"},{name:"name",title:"Name"}],enableGrouping:!0,groupColumnName:"name",viewOnly:!1,message:"There are no user accounts to show yet."}):null)),o.createElement(x.a,{isModalOpen:v,onClose:function(){},message:"New Role has been added successfully.",title:"Added New Role",buttons:o.createElement(s.a,{container:!0,justify:"center",alignItems:"center"},o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{onClick:function(){y(!1)},className:l.button,variant:"contained",color:"primary"},"Okay")))}),o.createElement(x.a,{isModalOpen:_,onClose:function(){Z()},message:"Select a module for the role you will create:",title:"Choose a Module",buttons:o.createElement(s.a,{container:!0,justify:"center",alignItems:"center",style:{textAlign:"center"}},o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{onClick:function(){j(!1)},variant:"outlined",color:"secondary",className:l.button},"Cancel")),o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{variant:"contained",color:"primary",className:l.button,onClick:function(){Q(!0),j(!1)}},"Continue")))},o.createElement("div",{style:{width:"90%",margin:"auto"}},o.createElement(d.BasicSelect,{menuItems:K,width:"100%",value:N,onChange:function(e){w(e.target.value)}}))),o.createElement(x.a,{isModalOpen:q,onClose:function(){Q(!1)},message:"All progress made will be lost. Continue to change the module?",title:"Confirm Change Module",buttons:o.createElement(s.a,{container:!0,justify:"center",alignItems:"center"},o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{onClick:function(){Q(!1)},className:l.button,variant:"outlined",color:"secondary"},"Cancel")),o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{className:l.button,variant:"contained",color:"primary",onClick:function(){return Z()}},"Continue")))}))},C=a(191),O=a.n(C),N=a(94),w=a(108),I=a(111),T=a(109),_=a(110),j=a(49),L=a(48),R=Object(u.a)(function(){return{selectedItems:{borderRadius:20,fontSize:13,backgroundColor:"#d1d4db",padding:"5px 10px"},xIcon:{fontSize:16}}});console.log(R);var k=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(I.a)(this,Object(T.a)(t).call(this,e))).handleOnSearch=function(e){var t=a.state.selectedItems;t.push(e),a.setState({selectedItems:t}),console.log(t)},a.handleRemoveItem=function(e){var t=a.state.selectedItems;t.splice(e,1),a.setState({selectedItems:t})},a.handleOnSaveItems=function(){a.props.onSave(a.state.selectedItems)},a.state={selectedItems:[],comboArray:[]},a}return Object(_.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.setState({comboArray:[{name:"John Ernest Seraspi",value:"test"},{name:"Teqpwoe",value:"test2"}]})}},{key:"render",value:function(){var e=this,t={buttonsContainer:{padding:"1em"},selectedContainer:{padding:"3em 0 2em"},selectedItems:{borderRadius:20,fontSize:13,backgroundColor:"#d1d4db",padding:"5px 10px",margin:"5px",display:"inline-block"},selectedText:{paddingRight:"5px"},saveButton:{width:"135px",fontSize:"14px",color:"#fff"},cancelButton:{width:"135px",fontSize:"14px"}};return o.createElement(o.Fragment,null,o.createElement(h.a,{searchLabel:"Search user account",onSearch:this.handleOnSearch,comboBoxMode:!0,comboListsArray:this.state.comboArray}),o.createElement("div",{style:t.selectedContainer},o.createElement("div",null,o.createElement("label",null,"Selected Users")),this.state.selectedItems.map(function(a,n){return o.createElement("div",{style:t.selectedItems},o.createElement("span",{style:t.selectedText},a),o.createElement("span",{onClick:function(){return e.handleRemoveItem(n)}},o.createElement(j.a,{icon:L.w})))})),o.createElement(s.a,{container:!0,spacing:1},o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{style:t.cancelButton,variant:"outlined",color:"secondary",onClick:function(){return e.props.onClose()}},"Cancel")),o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{disabled:this.state.selectedItems.length<1,style:t.saveButton,variant:"contained",color:"primary",onClick:function(){return e.handleOnSaveItems()}},"Save"))))}}]),t}(o.Component),A=function(e){var t=e.rows,a=e.viewOnly,l=e.classes,r=Object(o.useState)("Groups"),c=Object(n.a)(r,2),i=c[0],u=c[1],E=Object(o.useState)(0),f=Object(n.a)(E,2),v=f[0],S=f[1],y=Object(o.useState)("none"),C=Object(n.a)(y,2),N=C[0],w=C[1],I=Object(o.useState)(!1),T=Object(n.a)(I,2),_=T[0],j=T[1];console.log(t,a);return o.createElement(o.Fragment,null,o.createElement(s.a,{container:!0,xs:12},o.createElement(s.a,{item:!0,xs:12},o.createElement(p.a,null,o.createElement("b",null,"Attached Groups and Users"))),o.createElement(s.a,{item:!0,xs:12},o.createElement(s.a,{container:!0,xs:12,alignItems:"center"},o.createElement(s.a,{item:!0,xs:6},o.createElement("ul",{style:{padding:"0",margin:"0"}},["Groups","Users"].map(function(e,t){return o.createElement("li",{className:l.menuList},o.createElement(g.a,{className:O()(l.menuLink,v===t?l.LinkActive:null),onClick:function(){return function(e,t){u(e),S(t)}(e,t)}},e))}))),o.createElement(s.a,{item:!0,xs:6,className:l.alignRight},o.createElement(g.a,{onClick:function(){w("block")}}," Add to this role")))),o.createElement(s.a,{item:!0,xs:12},"Groups"==i?o.createElement(o.Fragment,null,o.createElement(h.a,{onSearch:function(){return console.log("search")},placeholder:"Search a user group"}),o.createElement(b.a,{rows:[{group_id:"0122-93282-0012",group:"APD Encoding",users_in_group:10,status:"Active"},{group_id:"0132-232-0012",group:"APD Decoding",users_in_group:34,status:"Active"}],columns:[{name:"group_id",title:"Group ID"},{name:"group",title:"Group"},{name:"users_in_group",title:"Users in the Group"},{name:"status",title:"Status"},{name:"action_delete",title:" "}],columnExtensions:[{columnName:"action_delete",width:75,wordWrapEnabled:!0,align:"center"}],message:"There are no user accounts to show yet.",sortingStateColumnExtensions:[{columnName:"action_delete",sortingEnabled:!1}],onDeleteRow:function(e){console.log(e,"rowdeleted")}})):null,"Users"==i?o.createElement(o.Fragment,null,o.createElement(h.a,{onSearch:function(){return console.log("search")},placeholder:"Search a user account"}),o.createElement(b.a,{rows:[{username:"Imstaana",user_account:"Louise Marianne Sta. Ana",last_activity_date:"Nov 12, 2019",status:"Active"},{username:"psbarrios",user_account:"Philip Salvador Q. Barrios",last_activity_date:"Nov 12, 2019",status:"Active"}],columns:[{name:"username",title:"Username"},{name:"user_account",title:"User Account"},{name:"last_activity_date",title:"Last Activity Date"},{name:"status",title:"Status"},{name:"action_delete",title:" "}],columnExtensions:[{columnName:"action_delete",width:75,wordWrapEnabled:!0,align:"center"}],message:"There are no user accounts to show yet.",sortingStateColumnExtensions:[{columnName:"action_delete",sortingEnabled:!1}],onDeleteRow:function(e){console.log(e,"rowdeleted")}})):null)),o.createElement(d.SideModalBlock,{handleClose:function(){w("none")},showBlock:N,title:"Add to this Role"},o.createElement(k,{onClose:function(){w("none")},onSave:function(e){console.log(e,"onsaveaddrole")}})),o.createElement(x.a,{isModalOpen:_,onClose:function(){j(!0)},message:"Remove APD screening from this role?",title:"Remove from Role",buttons:o.createElement(s.a,{container:!0,justify:"center",alignItems:"center"},o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{onClick:function(){j(!1)},className:l.button,variant:"outlined",color:"secondary"},"Cancel")),o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{className:l.button,variant:"contained",color:"primary"},"Remove")))}))},M=a(760),F=a(751),D=a(755);a.d(t,"RolesPage",function(){return P}),a.d(t,"mapStateToProps",function(){return Y}),a.d(t,"mapDispatchToProps",function(){return U});var B=Object(u.a)(function(e){return{mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px",position:"relative"},headMain:{},gridContainer:{padding:e.spacing(1),paddingBottom:"75px"},gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},sideBarContainer:{borderRight:"1px solid #ccc",paddingRight:"25px"},contentContainer:{paddingLeft:"25px"},sideBarLists:{padding:0,margin:0,listStyle:"none"},sideBarLink:{color:"#272e4c",margin:"0 0 10px",display:"block"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(l.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"}}}),P=function(e){var t=B(),a=Object(o.useState)(!0),l=Object(n.a)(a,2),r=l[0],c=l[1],i=Object(o.useState)(!1),u=Object(n.a)(i,2),E=u[0],p=u[1],g=Object(o.useState)("Policies"),b=Object(n.a)(g,2),h=b[0],f=b[1],v=Object(o.useState)(!1),S=Object(n.a)(v,2),C=S[0],O=S[1],N=Object(o.useState)(!1),w=Object(n.a)(N,2),I=w[0],T=w[1],_=Object(o.useState)("add"),j=Object(n.a)(_,2),L=j[0],R=j[1],k=Object(o.useState)([]),P=Object(n.a)(k,2),Y=P[0],U=P[1],z=Object(o.useState)(""),G=Object(n.a)(z,2),W=G[0],V=G[1];console.log(p,e);o.useEffect(function(){e.match.params.id&&"add-role"!==e.match.params.id&&J(),e&&e.location&&e.location.state&&e.location.state.from&&V(e.location.state.from)},[]);var J=function(){Object(D.a)(e.match.params.id).then(function(e){U(e[0]),R("view"),p(!1)}).catch(function(e){console.log(e),p(!1)})},H=function(){T(!1),O(!1)};return o.createElement(o.Fragment,null,o.createElement(M.a,{headingTitle:"Technical Admin",breadCrumbsArray:["ROLES","TECHNICAL ADMIN"],buttonFunc:function(){c(!1),R("edit"),console.log(f,"yes edit")},buttonName:"Edit Role",layoutType:"layout_1",enableButton:"add"!==L}),o.createElement("div",{className:t.main},E?o.createElement(d.LoadingIndicator,null):null,o.createElement(s.a,{container:!0,xs:12},o.createElement(s.a,{item:!0,xs:3,className:t.sideBarContainer},o.createElement(F.a,{items:[{name:"Policies"},{name:"Groups And Users"}],activeItems:function(t){f(t),c(!0),"Policies"===t&&e.match.params.id&&"add-role"!==e.match.params.id&&J()}})),o.createElement(s.a,{item:!0,xs:9,className:t.contentContainer},"Policies"==h&&o.createElement(y,{moduleName:W,rows:Y,mode:L,classes:t,viewOnly:r}),"Groups And Users"==h&&o.createElement(A,{rows:Y,classes:t,viewOnly:r})))),o.createElement(x.a,{isModalOpen:I,onClose:H,message:"Save all changes made?",title:"Confirmation",buttons:o.createElement(s.a,{container:!0,justify:"center",alignItems:"center"},o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{onClick:function(){T(!1)},className:t.button,variant:"outlined",color:"secondary"},"Cancel")),o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{className:t.button,variant:"contained",color:"primary"},"Save")))}),o.createElement(x.a,{isModalOpen:C,onClose:H,message:"Exit and remove all changes made?",title:"Confirmation",buttons:o.createElement(s.a,{container:!0,justify:"center",alignItems:"center"},o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{onClick:function(){O(!1)},className:t.button,variant:"outlined",color:"secondary"},"Cancel")),o.createElement(s.a,{item:!0,xs:6},o.createElement(m.a,{className:t.button,variant:"contained",color:"primary"},"Continue")))}))},Y=function(e){return e.roles},U=function(e){return{Map:Object(r.bindActionCreators)(i,e)}}}}]);
//# sourceMappingURL=8.a635cf74.chunk.js.map