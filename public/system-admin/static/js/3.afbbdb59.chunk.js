(window["webpackJsonpsystem-admin"]=window["webpackJsonpsystem-admin"]||[]).push([[3],{802:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(0),r=a(748),i=a(42),o=Object(i.a)({root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"}}),l=function(){var e=o();return n.createElement("div",{className:e.root},n.createElement("div",{className:e.container},n.createElement(r.a,{size:150})))};l.defaultProps={}},803:function(e,t,a){"use strict";a.d(t,"a",function(){return j});var n=a(14),r=a(208),i=a(0),o=a(176),l=a(16),c=a(124),s=a(30),u=a(29),m=a(258),d=a(256),p=a(794),g=a(158),f=a(800),E=a(750),b=a(802),v=(a(804),a(78)),h=a(796),y=a(128),x=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"deactivated",label:"Deactivated"},{value:"awaiting activation",label:"Awaiting activation"}],C=function(e){var t=e.items,a=Object(r.a)(e,["items"]);return i.createElement(m.a,Object.assign({variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return i.createElement(d.a,{key:t,value:e.value},e.label)}))},S=function(e){var t=e.filter,a=e.onFilter,n=e.filteringEnabled,r=e.classes,o=e.column;return n?"action_delete"===o.name?i.createElement(p.a,{style:{padding:"0px 10px 8px 10px"},classes:r}):"last_login"===o.name?i.createElement(p.a,{style:{padding:"0px 10px 8px 10px"},classes:r},i.createElement(v.a,{utils:y.a},i.createElement(h.a,{variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",value:t?t.value:"",invalidDateMessage:"",onChange:function(e){a(e?{value:e.toISOString()}:null)}}))):"status"===o.name?i.createElement(p.a,{classes:r,style:{paddingTop:"5px"}},i.createElement(C,{onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},name:"status",items:x,id:"status",value:t?t.value:""})):i.createElement(p.a,{style:{padding:"0px 10px 8px 10px"},classes:r},i.createElement(g.a,{classes:r,style:{width:"100%"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):null},O=function(e){return"asc"===e.direction?i.createElement(s.a,{style:{marginLeft:"10px"},icon:u.s}):i.createElement(s.a,{style:{marginLeft:"10px"},icon:u.r})},k=function(e){var t=e.column,a=e.onSort,n=e.children,r=e.direction;return"action_delete"===t.name?null:i.createElement(f.a,{hideSortIcon:!0,onClick:a,style:{textOverflow:"ellipsis",overflow:"hidden"}},n,r?i.createElement(O,{direction:r}):i.createElement(s.a,{style:{marginLeft:"10px"},icon:u.q}))},D=function(e){var t=e.expanded;return i.createElement(i.Fragment,null,i.createElement("div",{style:{padding:"8.5px 12px",display:"table-cell",verticalAlign:"middle"}},i.createElement(s.a,{icon:t?u.b:u.a,size:"2x",color:"rgba(0, 0, 0, 0.54)"})))},j=function(e){var t=e.rows,a=e.columns,r=e.disableSort,m=e.disableFilter,d=e.enableGrouping,g=e.groupColumnName,f=e.viewOnly,v=e.message,h=e.columnExtensions,y=e.sortingStateColumnExtensions,x=e.defaultSorting,C=e.onDeleteRow,O=e.enableSelection,j=e.enableSelectAll,N=e.onRowClick,M=e.totalCount,w=e.onPageChange,P=e.currentPage,I=e.pageSize,R=e.onSetPageSize,A=e.onCheckRow,T=e.onSelectGroup,L=e.loading,_=e.onSortingChange,F=e.enableIntegratedSorting,z=e.enableOpenGroupTotalChecked,q=i.useState([]),B=Object(n.a)(q,2),Y=B[0],U=B[1],G=i.useState([5,10,15]),W=Object(n.a)(G,1)[0],V=i.useState([]),J=Object(n.a)(V,2),K=J[0],H=J[1],X=function(e){var t=e.row,a=e.onToggle;return i.createElement(p.a,null,i.createElement(E.a,{icon:i.createElement(s.a,{icon:u.l}),checkedIcon:i.createElement(s.a,{icon:u.d}),checked:t.checked,onClick:function(e){e.stopPropagation(),a(),A&&A(t)}}))};return i.createElement("div",{style:{padding:"10px 0"}},i.createElement(o.a,null,i.createElement(c.a,{rows:t,columns:a},i.createElement(l.o,{currentPage:P,onCurrentPageChange:w,pageSize:I,onPageSizeChange:R}),i.createElement(l.b,{totalCount:M}),!r&&_?i.createElement(l.s,{defaultSorting:x,columnExtensions:y,sorting:K,onSortingChange:function(e){_&&_(e),H(e)}}):r?null:i.createElement(l.s,{defaultSorting:[]}),f?null:i.createElement(l.r,{selection:Y,onSelectionChange:function(e){N?O||N(e[0]):U(e)}}),d&&g?i.createElement(l.h,{grouping:[{columnName:g}]}):null,m?null:i.createElement(l.e,{onFiltersChange:e.onFilterChange}),F?i.createElement(l.m,null):null,d?i.createElement(l.j,null):null,i.createElement(c.d,{columnExtensions:h,messages:{noData:v},cellComponent:function(e){var t=e.value,a=e.row;return"action_delete"===e.column.name?i.createElement(p.a,{style:{padding:"0px 30px 8px 10px",textAlign:"right"}},i.createElement("span",{onClick:function(){C&&C(a)}},i.createElement(s.a,{icon:u.k}))):i.createElement(p.a,null,t)}}),i.createElement(c.h,{showSortingControls:!r,sortLabelComponent:k}),i.createElement(c.b,{pageSizes:d?[30,40,50]:W}),f?null:i.createElement(c.i,{highlightRow:!0,selectByRowClick:!0,showSelectAll:!!j||void 0,cellComponent:X,showSelectionColumn:O}),d?i.createElement(c.g,{contentComponent:function(e){var a=e.row,n=!1,r=0,o=0;return t.map(function(e){e.name===a.value&&(o++,e.checked&&(n=!0,r++))}),f?f&&z?i.createElement(i.Fragment,null,i.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},i.createElement("span",null,a.value)),i.createElement("div",{style:{padding:"8.5px 30px",display:"table-cell",verticalAlign:"middle"}},i.createElement("span",null,r,"/",o))):i.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},i.createElement("span",null,a.value)):i.createElement(i.Fragment,null,i.createElement("div",{style:{padding:"8.5px 15.5px",display:"table-cell",verticalAlign:"middle"}},i.createElement(E.a,{icon:i.createElement(s.a,{icon:u.l}),checkedIcon:i.createElement(s.a,{icon:u.d}),checked:n,onClick:function(e){e.stopPropagation(),T&&T(a.value)}})),i.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},i.createElement("span",null,a.value)),i.createElement("div",{style:{padding:"8.5px 30px",display:"table-cell",verticalAlign:"middle"}},i.createElement("span",null,r,"/",o)))},iconComponent:D}):null,m?null:i.createElement(c.f,{cellComponent:S})),L&&i.createElement(b.a,null)))};j.defaultProps={rows:[],columns:[],enableIntegratedSorting:!1,disableSort:!1,disableFilter:!1,enableGrouping:!1,enableSelection:!1,enableSelectAll:!1,enableOpenGroupTotalChecked:!1,groupColumnName:"",viewOnly:!0,columnExtensions:[],message:"",sortingStateColumnExtensions:[],defaultSorting:[],totalCount:0,currentPage:0,pageSize:0,groupNameChecked:[],loading:!1}},804:function(e,t,a){},821:function(e,t,a){"use strict";a.r(t);var n=a(26),r=a.n(n),i=a(53),o=a(14),l=a(22),c=a(0),s=a(62),u={ResetReducer:"Roles_ResetReducer",SetReducer:"Roles_SetReducer"},m=function(e){return{payload:e,type:u.SetReducer}},d=a(12),p=a(83),g=a(42),f=a(160),E=a(142),b=a(15),v=a(127),h=a(750),y=a(803),x=a(315),C=a(796),S=a(179),O=a(39),k=a.n(O),D=a(30),j=a(29);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var w=function(e){var t=e.classes,a=e.moduleName,n=e.rbacList,r=e.onChangeModuleName,i=e.roleId,l=e.onUpdateChange,s=e.onPageChange,u=e.onFilterChange,m=e.onSortChange,g=e.onPageSizeChange,O=e.onSearch,N=e.rbacState,w=e.inputtedData,P=c.useState(!1),I=Object(o.a)(P,2),R=I[0],A=I[1],T=c.useState(0),L=Object(o.a)(T,2),_=L[0],F=L[1],z=c.useState(!1),q=Object(o.a)(z,2),B=q[0],Y=q[1],U=c.useState(null),G=Object(o.a)(U,2),W=G[0],V=G[1],J=c.useState(!1),K=Object(o.a)(J,2),H=K[0],X=K[1],Q=c.useState([]),Z=Object(o.a)(Q,2),$=Z[0],ee=Z[1],te=c.useState(!1),ae=Object(o.a)(te,2),ne=ae[0],re=ae[1],ie=c.useState([]),oe=Object(o.a)(ie,2),le=oe[0],ce=oe[1],se=c.useState(!1),ue=Object(o.a)(se,2),me=ue[0],de=ue[1],pe=c.useState(!1),ge=Object(o.a)(pe,2),fe=ge[0],Ee=ge[1],be=c.useState(n),ve=Object(o.a)(be,2),he=ve[0],ye=ve[1],xe=c.useState({description:"",roleName:"",isProcessMaker:!1,effectivityDate:new Date,expiryDate:""}),Ce=Object(o.a)(xe,2),Se=Ce[0],Oe=Ce[1],ke=c.useState({description:{required:"Description is a required field.",isError:!1},roleName:{required:"Role name is a required field.",isError:!1},effectivityDate:{required:"Effectivity date is a required field.",minDate:"Effectivity date cannot be higher or equal than expiry date.",isError:!1},expiryDate:{minDate:"Expiry date cannot be lower than effectivity date.",isError:!1}}),De=Object(o.a)(ke,2),je=De[0],Ne=De[1],Me=[{name:"User Management",value:"0"},{name:"Membership",value:"1"},{name:"Underwriting",value:"2"},{name:"Customer Care",value:"3"},{name:"Claims",value:"4"},{name:"Franchising",value:"5"},{name:"Billing and Collections",value:"6"},{name:"Partner Network",value:"7"}],we=function(e,t){var r;r=(he.length>0?he:n).filter(function(e){return e.checked}),console.log(r);var o={module:null!==W?W:a,name:e.roleName,role_id:i,effectivity_date:k()(""!==e.effectivityDate?e.effectivityDate:new Date).toISOString(),description:e.description,status:"active",date_last_update:k()().toISOString(),is_processmaker:e.isProcessMaker,rbac:r};""!==e.expiryDate&&(o.expiry_date=k()(e.expiryDate).toISOString()),console.log(r.length>0,t,"rbac"),t&&r.length>0?l(o,!0):l(o,!1)},Pe=function(e,t){var a=!1;for(var n in Ne(t),t){if(!0===t[n].isError)return we(e,!1),!1;a=!0}for(var n in e){if(console.log(e[n]),""===e[n]&&"isProcessMaker"!==n&&"expiryDate"!==n)return we(e,!1),!1;a=!0}return we(e,!0),a};return console.log("added expiry date = ".concat(Se.expiryDate)),console.log("inputted expiry date = ".concat(w.expiry_date)),c.createElement(c.Fragment,null,c.createElement(d.a,{container:!0,xs:12,spacing:4},c.createElement(d.a,{item:!0,xs:4},c.createElement(E.a,{className:t.inputLabel,htmlFor:"role_id"},"MODULE"),c.createElement(b.a,null,c.createElement("b",null,null!==W?W:a)),c.createElement(v.a,{onClick:function(){Y(!0)}},"Change Module")),c.createElement(d.a,{item:!0,xs:4},c.createElement(E.a,{className:t.inputLabel},"ROLE ID"),c.createElement(b.a,null,c.createElement("b",null,i))),c.createElement(d.a,{item:!0,xs:4},c.createElement(E.a,{className:t.inputLabel},"DESCRIPTION *"),c.createElement(f.BasicTextField,{value:""!==Se.description?Se.description:w.description,error:je.description.isError,onChange:function(e){Oe(M({},Se,{description:e.target.value})),""===e.target.value||null===e.target.value?Pe(M({},Se,{description:e.target.value}),M({},je,{description:{required:je.description.required,isError:!0}})):Pe(M({},Se,{description:e.target.value}),M({},je,{description:{required:je.description.required,isError:!1}}))}}),je.description.isError?c.createElement("div",{className:t.errorMessageContainer},c.createElement("span",{className:t.errorMessage},je.description.required),c.createElement(D.a,{className:t.errorMessageIcon,icon:j.f})):null),c.createElement(d.a,{item:!0,xs:6},c.createElement(E.a,{className:t.inputLabel},"ROLE NAME *"),c.createElement(f.BasicTextField,{value:Se.roleName?Se.roleName:w.name,error:je.roleName.isError,onChange:function(e){Oe(M({},Se,{roleName:e.target.value})),""===e.target.value||null===e.target.value?Pe(M({},Se,{roleName:e.target.value}),M({},je,{roleName:{required:je.roleName.required,isError:!0}})):Pe(M({},Se,{roleName:e.target.value}),M({},je,{roleName:{required:je.roleName.required,isError:!1}}))}}),je.roleName.isError?c.createElement("div",{className:t.errorMessageContainer},c.createElement("span",{className:t.errorMessage},je.roleName.required),c.createElement(D.a,{className:t.errorMessageIcon,icon:j.f})):null),c.createElement(d.a,{item:!0,xs:6},c.createElement(E.a,{className:t.inputLabel},"IS A PROCESSMAKER PROCESS MAKER ROLE"),c.createElement(h.a,{checked:Se.isProcessMaker?Se.isProcessMaker:w.is_processmaker,onChange:function(e){Oe(M({},Se,{isProcessMaker:e.target.checked})),Pe(M({},Se,{isProcessMaker:e.target.checked}),je)}})),c.createElement(d.a,{item:!0,xs:6},c.createElement(E.a,{className:t.inputLabel},"EFFECTIVITY DATE *"),c.createElement(C.a,{error:je.effectivityDate.isError,value:""!==Se.effectivityDate?Se.effectivityDate:new Date,format:"MMMM DD, YYYY",variant:"dialog",inputProps:{disabled:!0},invalidDateMessage:" ",style:{width:"100%",marginTop:10,marginBottom:5},onChange:function(e){Oe(M({},Se,{effectivityDate:e})),null!==e&&k()(e).isValid()?k()(e)>=k()(Se.expiryDate)?Pe(M({},Se,{effectivityDate:e}),M({},je,{effectivityDate:{minDate:je.effectivityDate.minDate,isError:!0}})):Pe(M({},Se,{effectivityDate:e}),M({},je,{effectivityDate:{minDate:je.effectivityDate.minDate,required:je.effectivityDate.required,isError:!1}})):Ne(M({},je,{effectivityDate:{required:je.effectivityDate.required,isError:!0}}))},inputVariant:"outlined",maxDate:k()(Se.expiryDate)}),je.effectivityDate.isError?c.createElement("div",{className:t.errorMessageContainer},c.createElement("span",{className:t.errorMessage},je.effectivityDate.required?je.effectivityDate.required:je.effectivityDate.minDate),c.createElement(D.a,{className:t.errorMessageIcon,icon:j.f})):null),c.createElement(d.a,{item:!0,xs:6},c.createElement(E.a,{className:t.inputLabel},"EXPIRY DATE (If applicable)"),c.createElement(C.a,{minDate:k()(Se.effectivityDate).add(1,"days"),minDateMessage:"",value:Se.expiryDate&&""!==Se.expiryDate?Se.expiryDate:w.expiry_date&&null!==w.expiry_date?w.expiry_date:""!==Se.expiryDate&&""!==w.expiry_date?w.expiry_date:null,style:{width:"100%",marginTop:10},format:"MMMM DD, YYYY",invalidDateMessage:"",variant:"dialog",onChange:function(e){Oe(M({},Se,{expiryDate:e})),k()(Se.effectivityDate)>k()(e)?Pe(M({},Se,{expiryDate:e}),{expiryDate:{minDate:je.expiryDate.minDate,isError:!0}}):Pe(M({},Se,{expiryDate:e}),M({},je,{expiryDate:{minDate:je.expiryDate.minDate,isError:!1}}))},inputVariant:"outlined",inputProps:{disabled:!0},clearable:!0}),je.expiryDate.isError?c.createElement("div",{className:t.errorMessageContainer},c.createElement("span",{className:t.errorMessage},je.expiryDate.minDate),c.createElement(D.a,{className:t.errorMessageIcon,icon:j.f})):null),c.createElement(d.a,{item:!0,xs:12},c.createElement(x.a,{onSearch:O,onChange:O,placeholder:"Search policies"}),c.createElement(y.a,{rows:n,columns:[{name:"operation",title:"Object and Operations"},{name:"policy",title:"Policies"},{name:"policy_id",title:"Policy ID"},{name:"name",title:"Name"}],enableGrouping:!0,groupColumnName:"name",viewOnly:!1,enableOpenGroupTotalChecked:!1,message:"There are no policies to show yet.",enableSelection:!0,loading:ne,onCheckRow:function(e){!function(e){re(!0);var t=n,a=he;0===$.length?ee(n):t=$,t.length>0&&(t.map(function(t){t._id===e._id&&(t.checked?a.push(t):a.filter(function(t){return e._id!==t._id}),t.checked=!t.checked)}),ye(a),ee(t)),Pe(Se,je),re(!1)}(e)},currentPage:N.currentPage,pageSize:N.limit,defaultFilters:le,onFilterChange:function(e){ce(e),u(e)},onSortingChange:m,onSetPageSize:g,onPageChange:s,totalCount:N.count?N.count:0,onSelectGroup:function(e){!function(e){re(!0);var t=n,a=0,r=he;0===$.length&&ee(n),t.length>0&&t.map(function(t){t.name==e&&!0===t.checked&&a++}),a>0?t.map(function(t){t.name==e&&(t.checked=!1)}):t.map(function(t){t.name==e&&(t.checked=!0,r.push(t))}),ye(r),ee(t),setTimeout(function(){re(!1),Pe(Se,je)},500)}(e)}}))),c.createElement(S.a,{isModalOpen:R,onClose:function(){},message:"New Role has been added successfully.",title:"Added New Role",buttons:c.createElement(d.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{onClick:function(){A(!1)},className:t.button,variant:"contained",color:"primary"},"Okay")))}),c.createElement(S.a,{isModalOpen:B,onClose:function(){Y(!1)},message:"Select a module for the role you will create:",title:"Choose a Module",buttons:c.createElement(d.a,{container:!0,justify:"center",alignItems:"center",style:{textAlign:"center"}},c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{onClick:function(){Y(!1)},variant:"outlined",color:"secondary",className:t.button},"Cancel")),c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){X(!0),Y(!1)}},"Continue")))},c.createElement("div",{style:{width:"90%",margin:"auto"}},c.createElement(f.BasicSelect,{menuItems:Me,width:"100%",value:_,onChange:function(e){F(e.target.value)}}))),c.createElement(S.a,{isModalOpen:H,onClose:function(){X(!1)},message:"All progress made will be lost. Continue to change the module?",title:"Confirm Change Module",buttons:c.createElement(d.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{onClick:function(){X(!1)},className:t.button,variant:"outlined",color:"secondary"},"Cancel")),c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){return function(){var e=Me[Number(_)].name;X(!1),V(e),r(e)}()}},"Continue")))}),c.createElement(S.a,{isModalOpen:me,onClose:function(){de(!1)},message:"New role has been deleted.",title:"Delete Success",buttons:c.createElement(d.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(d.a,{item:!0},c.createElement(p.a,{onClick:function(){de(!1)},className:t.button,variant:"contained",color:"primary"},"Okay")))}),c.createElement(S.a,{isModalOpen:fe,onClose:function(){Ee(!1)},message:"You do not have an assigned role to your account to perform this action.",title:"Cannot Edit Role",buttons:c.createElement(d.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(d.a,{item:!0},c.createElement(p.a,{onClick:function(){Ee(!1)},className:t.button,variant:"contained",color:"primary"},"Okay")))}))},P=a(319),I=a(317),R=a(161),A=a(154);a.d(t,"AddRolesPage",function(){return L}),a.d(t,"mapStateToProps",function(){return _}),a.d(t,"mapDispatchToProps",function(){return F});var T=Object(g.a)(function(e){return{mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px",position:"relative"},headMain:{},gridContainer:{padding:e.spacing(1),paddingBottom:"75px"},gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},sideBarContainer:{borderRight:"1px solid #ccc",paddingRight:"25px"},contentContainer:{paddingLeft:"25px"},sideBarLists:{padding:0,margin:0,listStyle:"none"},sideBarLink:{color:"#272e4c",margin:"0 0 10px",display:"block"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(l.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px",fontSize:14},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"},errorMessage:{color:"#f44336",fontSize:13},errorMessageContainer:{display:"flex",alignItems:"center"},errorMessageIcon:{color:"#f44336",marginLeft:"auto"}}}),L=function(e){var t=T(),a=Object(c.useState)(!1),n=Object(o.a)(a,2),l=n[0],s=n[1],u=Object(c.useState)("Policies"),m=Object(o.a)(u,2),g=m[0],E=m[1],b=Object(c.useState)(!1),v=Object(o.a)(b,2),h=v[0],y=v[1],x=Object(c.useState)(!1),C=Object(o.a)(x,2),O=C[0],k=C[1],D=Object(c.useState)(!1),j=Object(o.a)(D,2),N=j[0],M=j[1],L=Object(c.useState)("User Management"),_=Object(o.a)(L,2),F=_[0],z=_[1],q=Object(c.useState)([]),B=Object(o.a)(q,2),Y=B[0],U=B[1],G=Object(c.useState)([]),W=Object(o.a)(G,2),V=W[0],J=W[1],K=Object(c.useState)(0),H=Object(o.a)(K,2),X=H[0],Q=H[1],Z=Object(c.useState)(""),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)({}),ne=Object(o.a)(ae,2),re=ne[0],ie=ne[1],oe=Object(c.useState)(!1),le=Object(o.a)(oe,2),ce=le[0],se=le[1],ue=Object(c.useState)(""),me=Object(o.a)(ue,2),de=me[0],pe=me[1],ge=Object(c.useState)(!0),fe=Object(o.a)(ge,2),Ee=fe[0],be=fe[1],ve=Object(c.useState)({filter:[],order:"",limit:40,skip:0,count:0,currentPage:0}),he=Object(o.a)(ve,2),ye=he[0],xe=he[1],Ce=Object(c.useState)(0),Se=Object(o.a)(Ce,2),Oe=Se[0],ke=Se[1];c.useEffect(function(){console.log(e),e&&e.location&&(e.location.state?e.location.state.from&&(z(e.location.state.from),De(e.location.state.from)):De(F));J([{name:"ROLES",link:"/system-admin/users/roles"},{name:"ADD A ROLE"}]),je(ye.filter,ye.order,ye.limit,ye.skip,ye.currentPage)},[]);var De=function(e){Object(R.h)(e).then(function(t){te(we(e,t.count+1)),Q(t.count+1)}).catch(function(e){console.log(e),alert(e)})},je=function(t,a,n,r,i,o,l,c){console.log(c),Oe&&clearTimeout(Oe);var u={},m=a?"".concat(a[0].columnName," ").concat(a[0].direction):"";t.length>0?(t.map(function(e){u[e.columnName]={like:"^".concat(e.value,".*"),options:"i"}}),u.module={like:"^".concat(F,".*"),options:"i"}):u=c&&void 0!==c?{module:{like:"^".concat(c,".*"),options:"i"}}:{module:{like:"^".concat(e.location.state&&e.location.state.from?e.location.state.from:F,".*"),options:"i"}};var d={limit:n,skip:r,order:m,where:u};ke(setTimeout(function(){s(!0),Object(R.i)(d,l||"").then(function(e){var l=e.body;xe({currentPage:i,filter:t,order:a,limit:n,skip:r,count:e.count}),o&&l.length>0&&l.map(function(e){o.rbac&&o.rbac.length>0&&o.rbac.map(function(t){e._id===t._id&&(e.checked=!0)})}),U(l),s(!1)}).catch(function(e){console.log(e),s(!1),alert(e)})},t.length>0||l?2e3:0))},Ne=function(e){console.log(e),E(e)},Me=function(){k(!1),y(!1)},we=function(e,t){var a="";switch(e){case"User Management":a="UM".concat(t);break;case"Membership":a="MS".concat(t);break;case"Underwriting":a="U".concat(t);break;case"Customer Care":a="C".concat(t);break;case"Claims":a="CL".concat(t);break;case"Franchising":a="FR".concat(t);break;case"Billing and Collections":a="BC".concat(t);break;case"Partner Network":a="PN".concat(t);break;default:a="UM".concat(t)}return a},Pe=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t);case 2:te(we(t,X)),je([],"",ye.limit,0,0,"","",t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.createElement(c.Fragment,null,ce&&c.createElement(A.a,{to:{pathname:de}}),c.createElement(P.a,{headingTitle:V[1]?V[1].name:"",breadCrumbsArray:V,layoutType:"layout_1"}),c.createElement("div",{className:t.main},l?c.createElement(f.LoadingIndicator,null):null,c.createElement(d.a,{container:!0,xs:12},c.createElement(d.a,{item:!0,xs:3,className:t.sideBarContainer},c.createElement(I.a,{items:[{name:"Policies"}],activeItems:Ne})),c.createElement(d.a,{item:!0,xs:9,className:t.contentContainer},"Policies"==g&&c.createElement(w,{rbacList:Y,moduleName:F,roleId:ee,classes:t,rbacState:ye,inputtedData:re,onSearch:function(e){je(ye.filter,ye.order,ye.limit,0,ye.page,re,e)},onNavigateSideMenu:function(e){Ne(e)},onChangeModuleName:function(e){Pe(e)},onUpdateChange:function(e,t){!function(e,t){ie(e),be(!t)}(e,t)},onPageChange:function(e){var t=e*ye.limit;je(ye.filter,ye.order,ye.limit,t,e,re)},onPageSizeChange:function(e){je(ye.filter,ye.order,e,ye.skip,ye.currentPage,re)},onFilterChange:function(e){je(e,ye.order,ye.limit,0,0,re)},onSortChange:function(e){je(ye.filter,e,ye.limit,ye.skip,ye.currentPage,re)}})))),c.createElement(S.a,{isModalOpen:O,onClose:Me,message:"Save all changes made?",title:"Confirmation",buttons:c.createElement(d.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{onClick:function(){k(!1)},className:t.button,variant:"outlined",color:"secondary"},"Cancel")),c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){return function(){var e=re;e.rbac&&e.rbac.map(function(e){e.checked&&delete e.checked}),s(!0),Object(R.c)(e).then(function(e){M(!0),k(!1),pe("/system-admin/roles/"+e._id),se(!0),s(!1)}).catch(function(e){s(!1),alert(e)})}()}},"Save")))}),c.createElement(S.a,{isModalOpen:h,onClose:Me,message:"Exit and remove all changes made?",title:"Confirmation",buttons:c.createElement(d.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{onClick:function(){y(!1)},className:t.button,variant:"outlined",color:"secondary"},"Cancel")),c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){y(!1),pe("/system-admin/users"),se(!0)}},"Continue")))}),c.createElement(S.a,{isModalOpen:N,onClose:function(){M(!1)},message:"Changes has been saved.",title:"Save Success",buttons:c.createElement(d.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(d.a,{item:!0,xs:6},c.createElement(p.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){M(!1)}},"Okay")))}),"Policies"===g?c.createElement(f.FloatingFooter,null,c.createElement(d.a,{container:!0,spacing:1,justify:"flex-end",style:{textAlign:"right"}},c.createElement(d.a,{item:!0},c.createElement(p.a,{className:t.button,variant:"contained",color:"primary",style:{backgroundColor:"#3C394A"},onClick:function(){return y(!0)}},"Cancel")),c.createElement(d.a,{item:!0},c.createElement(p.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){return k(!0)},disabled:Ee},"Save Changes")))):"")},_=function(e){return e.roles},F=function(e){return{Map:Object(s.bindActionCreators)(m,e)}}}}]);
//# sourceMappingURL=3.afbbdb59.chunk.js.map