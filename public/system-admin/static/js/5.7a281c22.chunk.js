(window["webpackJsonpsystem-admin"]=window["webpackJsonpsystem-admin"]||[]).push([[5],{802:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(0),o=a(748),r=a(38),l=Object(r.a)({root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"}}),i=function(){var e=l();return n.createElement("div",{className:e.root},n.createElement("div",{className:e.container},n.createElement(o.a,{size:150})))};i.defaultProps={}},803:function(e,t,a){"use strict";a.d(t,"a",function(){return P});var n=a(14),o=a(210),r=a(0),l=a(176),i=a(16),c=a(125),s=a(36),u=a(31),m=a(258),d=a(257),p=a(794),g=a(159),f=a(800),h=a(750),b=a(802),E=(a(804),a(79)),v=a(796),y=a(129),S=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"deactivated",label:"Deactivated"},{value:"awaiting activation",label:"Awaiting activation"}],x=function(e){var t=e.items,a=Object(o.a)(e,["items"]);return r.createElement(m.a,Object.assign({variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return r.createElement(d.a,{key:t,value:e.value},e.label)}))},C=function(e){var t=e.filter,a=e.onFilter,n=e.filteringEnabled,o=e.classes,l=e.column;return n?"action_delete"===l.name?r.createElement(p.a,{style:{padding:"0px 10px 8px 10px"},classes:o}):"last_login"===l.name?r.createElement(p.a,{style:{padding:"0px 10px 8px 10px"},classes:o},r.createElement(E.a,{utils:y.a},r.createElement(v.a,{variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",value:t?t.value:"",invalidDateMessage:"",onChange:function(e){a(e?{value:e.toISOString()}:null)}}))):"status"===l.name?r.createElement(p.a,{classes:o,style:{paddingTop:"5px"}},r.createElement(x,{onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},name:"status",items:S,id:"status",value:t?t.value:""})):r.createElement(p.a,{style:{padding:"0px 10px 8px 10px"},classes:o},r.createElement(g.a,{classes:o,style:{width:"100%"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):null},w=function(e){return"asc"===e.direction?r.createElement(s.a,{style:{marginLeft:"10px"},icon:u.s}):r.createElement(s.a,{style:{marginLeft:"10px"},icon:u.r})},O=function(e){var t=e.column,a=e.onSort,n=e.children,o=e.direction;return"action_delete"===t.name?null:r.createElement(f.a,{hideSortIcon:!0,onClick:a,style:{textOverflow:"ellipsis",overflow:"hidden"}},n,o?r.createElement(w,{direction:o}):r.createElement(s.a,{style:{marginLeft:"10px"},icon:u.q}))},_=function(e){var t=e.expanded;return r.createElement(r.Fragment,null,r.createElement("div",{style:{padding:"8.5px 12px",display:"table-cell",verticalAlign:"middle"}},r.createElement(s.a,{icon:t?u.b:u.a,size:"2x",color:"rgba(0, 0, 0, 0.54)"})))},P=function(e){var t=e.rows,a=e.columns,o=e.disableSort,m=e.disableFilter,d=e.enableGrouping,g=e.groupColumnName,f=e.viewOnly,E=e.message,v=e.columnExtensions,y=e.sortingStateColumnExtensions,S=e.defaultSorting,x=e.onDeleteRow,w=e.enableSelection,P=e.enableSelectAll,k=e.onRowClick,N=e.totalCount,j=e.onPageChange,A=e.currentPage,T=e.pageSize,I=e.onSetPageSize,D=e.onCheckRow,z=e.onSelectGroup,M=e.loading,R=e.onSortingChange,L=e.enableIntegratedSorting,G=e.enableOpenGroupTotalChecked,B=r.useState([]),F=Object(n.a)(B,2),q=F[0],W=F[1],Y=r.useState([5,10,15]),U=Object(n.a)(Y,1)[0],V=r.useState([]),H=Object(n.a)(V,2),J=H[0],$=H[1],K=function(e){var t=e.row,a=e.onToggle;return r.createElement(p.a,null,r.createElement(h.a,{icon:r.createElement(s.a,{icon:u.l}),checkedIcon:r.createElement(s.a,{icon:u.d}),checked:t.checked,onClick:function(e){e.stopPropagation(),a(),D&&D(t)}}))};return r.createElement("div",{style:{padding:"10px 0"}},r.createElement(l.a,null,r.createElement(c.a,{rows:t,columns:a},r.createElement(i.o,{currentPage:A,onCurrentPageChange:j,pageSize:T,onPageSizeChange:I}),r.createElement(i.b,{totalCount:N}),!o&&R?r.createElement(i.s,{defaultSorting:S,columnExtensions:y,sorting:J,onSortingChange:function(e){R&&R(e),$(e)}}):o?null:r.createElement(i.s,{defaultSorting:[]}),f?null:r.createElement(i.r,{selection:q,onSelectionChange:function(e){k?w||k(e[0]):W(e)}}),d&&g?r.createElement(i.h,{grouping:[{columnName:g}]}):null,m?null:r.createElement(i.e,{onFiltersChange:e.onFilterChange}),L?r.createElement(i.m,null):null,d?r.createElement(i.j,null):null,r.createElement(c.d,{columnExtensions:v,messages:{noData:E},cellComponent:function(e){var t=e.value,a=e.row;return"action_delete"===e.column.name?r.createElement(p.a,{style:{padding:"0px 30px 8px 10px",textAlign:"right"}},r.createElement("span",{onClick:function(){x&&x(a)}},r.createElement(s.a,{icon:u.k}))):r.createElement(p.a,null,t)}}),r.createElement(c.h,{showSortingControls:!o,sortLabelComponent:O}),r.createElement(c.b,{pageSizes:d?[30,40,50]:U}),f?null:r.createElement(c.i,{highlightRow:!0,selectByRowClick:!0,showSelectAll:!!P||void 0,cellComponent:K,showSelectionColumn:w}),d?r.createElement(c.g,{contentComponent:function(e){var a=e.row,n=!1,o=0,l=0;return t.map(function(e){e.name===a.value&&(l++,e.checked&&(n=!0,o++))}),f?f&&G?r.createElement(r.Fragment,null,r.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},r.createElement("span",null,a.value)),r.createElement("div",{style:{padding:"8.5px 30px",display:"table-cell",verticalAlign:"middle"}},r.createElement("span",null,o,"/",l))):r.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},r.createElement("span",null,a.value)):r.createElement(r.Fragment,null,r.createElement("div",{style:{padding:"8.5px 15.5px",display:"table-cell",verticalAlign:"middle"}},r.createElement(h.a,{icon:r.createElement(s.a,{icon:u.l}),checkedIcon:r.createElement(s.a,{icon:u.d}),checked:n,onClick:function(e){e.stopPropagation(),z&&z(a.value)}})),r.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},r.createElement("span",null,a.value)),r.createElement("div",{style:{padding:"8.5px 30px",display:"table-cell",verticalAlign:"middle"}},r.createElement("span",null,o,"/",l)))},iconComponent:_}):null,m?null:r.createElement(c.f,{cellComponent:C})),M&&r.createElement(b.a,null)))};P.defaultProps={rows:[],columns:[],enableIntegratedSorting:!1,disableSort:!1,disableFilter:!1,enableGrouping:!1,enableSelection:!1,enableSelectAll:!1,enableOpenGroupTotalChecked:!1,groupColumnName:"",viewOnly:!0,columnExtensions:[],message:"",sortingStateColumnExtensions:[],defaultSorting:[],totalCount:0,currentPage:0,pageSize:0,groupNameChecked:[],loading:!1}},804:function(e,t,a){},818:function(e,t,a){"use strict";a.r(t);var n=a(14),o=a(22),r=a(0),l=a.n(r),i=a(62),c={ResetReducer:"Users_ResetReducer",SetReducer:"Users_SetReducer"},s=function(e){return{payload:e,type:c.SetReducer}},u=a(9),m=a(38),d=a(820),p=a(815),g=a(12),f=a(15),h=a(75),b=a(84),E=a(87),v=a(85),y=a(86),S=a(128),x=a(74),C=a(36),w=a(31),O=a(803),_=a(315),P=a(179),k=a(155),N=a(802),j=a(180),A=a(323);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var I=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).APIGetRolesList=function(e,t,n){a.setState({loading:!0});var o=e*t;a.setState({currentPage:e},function(){a.setState({skip:o})});var r={limit:t,skip:o};Object(P.k)(r,a.state.default_filter,a.state.order,n).then(function(n){console.log(Math.ceil(n.count/t)-1),console.log(n.body),a.setState({rows:n.body,loading:!1,totalCount:n.count,currentPage:a.state.currentPage>Math.ceil(n.count/t)-1?Math.ceil(n.count/t)-1:e,limit:t})}).catch(function(){a.setState({rows:[],loading:!1,totalCount:0})})},a.handleTimeOutSearchTableRoles=function(e){a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({currentPage:0},function(){a.setState({query:e,typingTimeout:setTimeout(function(){a.setState({loading:!0}),a.APIGetRolesList(a.state.currentPage,a.state.limit,a.state.query)},3e3)})})},a.onSearchTableRoles=function(){a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({loading:!0,currentPage:0},function(){a.APIGetRolesList(0,a.state.limit,a.state.query)})},a.handleOnFilterChange=function(e){var t={};a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),e.map(function(e){return"status"===e.columnName?"all"!==e.value?t[e.columnName]="".concat(e.value):"":"associate_groups"===e.columnName?t["associated_groups.name"]={like:"".concat(e.value,".*"),options:"i"}:t[e.columnName]={like:"".concat(e.value,".*"),options:"i"}}),a.setState({default_filter:t,currentPage:0,typingTimeout:setTimeout(function(){a.setState({loading:!0}),a.APIGetRolesList(a.state.currentPage,a.state.limit,a.state.query)},1500)})},a.handleSortChange=function(e){a.setState({order:"".concat(e[0].columnName," ").concat(e[0].direction.toUpperCase()),loading:!0},function(){a.APIGetRolesList(a.state.currentPage,a.state.limit,a.state.query)})},a.handleRowClick=function(e){var t=a.state.rows;a.setState({redirect_to_role:!0,redirect_data:t[e]})},a.handleAddRole=function(){console.log("handleAddRole"),a.setState({isModuleModalOpen:!0})},a.handleContinueRole=function(){var e=a.state.moduleItems[Number(a.state.moduleValue)].name;console.log(e,"datawew"),a.setState({redirect_to_addrole:!0,redirect_data:e})},a.rowDataFixer=function(e){var t=[];return e.length>0?(e.forEach(function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{name:e.hasOwnProperty("name")?e.name:"N/A",group:e.hasOwnProperty("role_id")?e.role_id:"N/A",associate_groups:e.hasOwnProperty("associated_groups")&&e.associated_groups.length>0?e.associated_groups.map(function(t,a){return"".concat(t.name).concat(a!==e.associated_groups.length-1?", ":"")}):"N/A",module:e.hasOwnProperty("module")?e.module:"N/A",status:e.hasOwnProperty("status")?r.createElement("span",{style:{textTransform:"capitalize"}},e.status):"N/A"});t.push(a)}),t):[]};return a.state={loading:!0,columns:[{name:"name",title:"Role Name"},{name:"role_id",title:"Role ID"},{name:"associate_groups",title:"Associated Groups"},{name:"module",title:"Module"},{name:"status",title:"Status"}],rows:[],redirect_to_role:!1,redirect_to_addrole:!1,redirect_data:[],isModuleModalOpen:!1,moduleItems:[{name:"User Management",value:0},{name:"Membership",value:1},{name:"Underwriting",value:2},{name:"Customer Care",value:3},{name:"Claims",value:4},{name:"Franchising",value:5},{name:"Billing and Collections",value:6},{name:"Partner Network",value:7}],moduleValue:0,totalCount:0,currentPage:0,typingTimeout:0,limit:10,order:"",default_filter:[],query:"",skip:0},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({loading:!0},function(){t.APIGetRolesList(e.state.currentPage,e.state.limit,e.state.query)})}},{key:"render",value:function(){var e=this;return this.state.redirect_to_role?r.createElement(r.Fragment,null,r.createElement(k.a,{to:{pathname:"/system-admin/roles/"+this.state.redirect_data._id}})):this.state.redirect_to_addrole?r.createElement(k.a,{to:{pathname:"/system-admin/add-roles",state:{from:this.state.redirect_data}}}):r.createElement("div",null,this.state.loading?r.createElement(N.a,null):null,r.createElement(g.a,{container:!0,alignItems:"center",style:{textAlign:"center"},spacing:4},r.createElement(g.a,{item:!0,xs:8,md:9},r.createElement(_.a,{placeholder:"Search a role",onSearch:this.onSearchTableRoles,onChange:this.handleTimeOutSearchTableRoles})),r.createElement(g.a,{item:!0,xs:4,md:3},r.createElement(g.a,{container:!0},r.createElement(g.a,{item:!0,xs:6},r.createElement(C.a,{icon:w.e,className:this.props.classes.addFieldIcon}),r.createElement(S.a,{className:this.props.classes.linkStyleSelected},"Generate Report")),r.createElement(g.a,{item:!0,xs:6},r.createElement(C.a,{icon:w.n,className:this.props.classes.addFieldIcon}),r.createElement(S.a,{className:this.props.classes.linkStyleSelected,onClick:function(){return e.handleAddRole()}},"Add Role"))))),r.createElement(O.a,{rows:this.rowDataFixer(this.state.rows),columns:this.state.columns,message:"There are no user roles to show yet.",viewOnly:!1,enableSelection:!1,onRowClick:this.handleRowClick,totalCount:this.state.totalCount,currentPage:this.state.currentPage,pageSize:this.state.limit,defaultFilters:this.state.default_filter,onFilterChange:this.handleOnFilterChange,onSortingChange:this.handleSortChange,onSetPageSize:function(t){e.APIGetRolesList(e.state.currentPage,t,e.state.query)},onPageChange:function(t){e.APIGetRolesList(t,e.state.limit,e.state.query)}}),r.createElement(j.a,{isModalOpen:this.state.isModuleModalOpen,onClose:function(){e.setState({isModuleModalOpen:!1})},message:"Select a module for the role you will create:",title:"Choose a Module",buttons:r.createElement(g.a,{container:!0,justify:"center",alignItems:"center",style:{textAlign:"center"}},r.createElement(g.a,{item:!0,xs:6},r.createElement(x.a,{onClick:function(){e.setState({isModuleModalOpen:!1})},variant:"outlined",color:"secondary",className:this.props.classes.button},"Cancel")),r.createElement(g.a,{item:!0,xs:6},r.createElement(x.a,{className:this.props.classes.button,variant:"contained",color:"primary",onClick:function(){return e.handleContinueRole()}},"Continue")))},r.createElement("div",{style:{width:"90%",margin:"auto"}},r.createElement(A.a,{menuItems:this.state.moduleItems,width:"100%",value:this.state.moduleValue,onChange:function(t){e.setState({moduleValue:t.target.value})}}))))}}]),t}(r.Component),D=a(210),z=a(125),M=a(16),R=a(79),L=a(796),G=a(129),B=a(258),F=a(257),q=a(794),W=a(159),Y=a(800),U=[{columnName:"username",wordWrapEnabled:!0},{columnName:"first_name",wordWrapEnabled:!0},{columnName:"group",wordWrapEnabled:!0},{columnName:"roles",wordWrapEnabled:!0}],V=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"deactivated",label:"Deactivated"},{value:"locked",label:"Locked"},{value:"awaiting activation",label:"Awaiting activation"}],H=function(e){var t=e.items,a=Object(D.a)(e,["items"]);return l.a.createElement(B.a,Object.assign({variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return l.a.createElement(F.a,{key:t,value:e.value},e.label)}))},J=function(e){var t=e.filter,a=e.onFilter,n=e.filteringEnabled,o=e.classes,r=e.column;return n?"last_login"===r.name||"expiry_date"===r.name?l.a.createElement(q.a,{style:{padding:"0px 10px 8px 10px"},classes:o},l.a.createElement(R.a,{utils:G.a},l.a.createElement(L.a,{disabled:!0,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",value:t?t.value:"",invalidDateMessage:"",onChange:function(e){console.log(e),a(e?{value:e.toISOString()}:null)}}))):"status"===r.name?l.a.createElement(q.a,{classes:o,style:{paddingTop:"5px"}},l.a.createElement(H,{onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},name:"status",items:V,id:"status",value:t?t.value:""})):l.a.createElement(q.a,{style:{padding:"0px 10px 8px 10px"},classes:o},l.a.createElement(W.a,{classes:o,style:{width:"100%"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):null},$=function(e){return"asc"===e.direction?l.a.createElement(C.a,{style:{marginLeft:"10px"},icon:w.s}):l.a.createElement(C.a,{style:{marginLeft:"10px"},icon:w.r})},K=function(e){var t=e.column,a=e.onSort,n=e.children,o=e.direction;return void 0!==t.sortingEnabled&&null!==t.sortingEnabled&&!1===t.sortingEnabled?l.a.createElement("span",null,t.title):l.a.createElement(Y.a,{hideSortIcon:!0,onClick:a},n,o?l.a.createElement($,{direction:o}):l.a.createElement(C.a,{style:{marginLeft:"10px"},icon:w.q}))},Q=function(e){var t=e.rows,a=e.columns,o=e.totalCount,r=e.currentPage,i=e.pageSize,c=e.pageSizes,s=e.onFilterChange,u=e.onCurrentPageChange,m=e.onPageSizeChange,d=e.onSortingChange,p=e.onRowClick,g=l.a.useState([]),f=Object(n.a)(g,2),h=f[0],b=f[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{getRowId:function(e){return e._id},rows:t,columns:a},l.a.createElement(M.e,{onFiltersChange:s}),l.a.createElement(M.r,{selection:h,onSelectionChange:function(e){b(e),p(e)}}),l.a.createElement(M.s,{onSortingChange:d}),l.a.createElement(M.o,{currentPage:r,pageSize:i,onCurrentPageChange:u,onPageSizeChange:m}),l.a.createElement(M.b,{totalCount:o}),l.a.createElement(z.k,{columnExtensions:U}),l.a.createElement(z.h,{showSortingControls:!0,sortLabelComponent:K}),l.a.createElement(z.f,{cellComponent:J}),l.a.createElement(z.i,{selectByRowClick:!0,highlightRow:!0,showSelectionColumn:!1}),l.a.createElement(z.b,{pageSizes:c})))},X=[{name:"username",title:"Username"},{name:"first_name",title:"Name"},{name:"group",title:"User Group"},{name:"roles",title:"User Role/s"},{name:"last_login",title:"Last Login Date"},{name:"expiry_date",title:"Expiry Date"},{name:"status",title:"Status"}],Z=[10,15,20],ee=a(92),te=a(67),ae=a(99),ne=a(32),oe=a.n(ne);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ie=Object(m.a)({addFieldIcon:{color:"#3AB77D",cursor:"pointer",fontSize:"13px",marginRight:"8px",marginLeft:"20px"},searchSection:{marginBottom:"21px"},label:{color:"#272E4C",fontSize:13},value:{color:"#3AB77D",fontSize:13,fontWeight:800,marginRight:"10px"},tableTop:{padding:"20px"},searchTabAction:{display:"flex",justifyContent:"flex-end"},linkStyleSelected:{"&:hover":{fontWeight:"normal"}}}),ce=function(){var e=ie();l.a.useEffect(function(){t({pageSize:10,offset:0},!0)},[]);var t=function(e,t){d(!0),Object(ee.e)(e.pageSize,e.offset,e.where,e.order,e.query).then(function(n){if(console.log(n),n.error){var o=le({},e,{rows:[],totalCount:0});a(o)}else{var r=le({},e,{rows:n.body,totalCount:n.count});t&&!0===t&&(D(n.summary),L(n.statuses)),a(r)}d(!1)}).catch(function(){console.log("catch"),d(!1);var t=le({},e,{rows:[],totalCount:0});a(t)})},a=function(e){c(le({},i,{},e))},o=l.a.useState({rows:[],currentPage:0,totalCount:0,pageSize:10,offset:0,order:"",where:{},query:""}),r=Object(n.a)(o,2),i=r[0],c=r[1],s=l.a.useState(!0),u=Object(n.a)(s,2),m=u[0],d=u[1],p=l.a.useState(!1),f=Object(n.a)(p,2),h=f[0],b=f[1],E=l.a.useState(""),v=Object(n.a)(E,2),y=v[0],x=v[1],O=l.a.useState(0),P=Object(n.a)(O,2),N=P[0],j=P[1],A=l.a.useState(),T=Object(n.a)(A,2),I=T[0],D=T[1],z=l.a.useState(),M=Object(n.a)(z,2),R=M[0],L=M[1];return!0===h?l.a.createElement(k.a,{to:"account/".concat(y)}):l.a.createElement(l.a.Fragment,null,m&&l.a.createElement(te.a.LoadingIndicator,null),l.a.createElement(g.a,{container:!0,xs:12,spacing:2,direction:"row",justify:"center",alignItems:"center",className:e.searchSection},l.a.createElement(g.a,{item:!0,xs:9},l.a.createElement(_.a,{onChange:function(e){N&&clearTimeout(N),j(setTimeout(function(){var a={currentPage:0,pageSize:i.pageSize,offset:0,order:i.order,where:i.where,query:e};t(a)},3e3))},placeholder:"Search user",onSearch:function(e){N&&clearTimeout(N);var a={currentPage:0,pageSize:i.pageSize,offset:0,order:i.order,where:i.where,query:e};t(a)}})),l.a.createElement(g.a,{xs:3,md:3},l.a.createElement("div",{className:e.searchTabAction},l.a.createElement(te.a.GenerateReport,null),l.a.createElement(C.a,{icon:w.n,className:e.addFieldIcon}),l.a.createElement(ae.b,{to:"/system-admin/adduser"},l.a.createElement(S.a,{className:e.linkStyleSelected},"Add User"))))),l.a.createElement("div",{style:{boxShadow:"0px 3px 6px #00000029"}},l.a.createElement(g.a,{container:!0,className:e.tableTop},I&&Object.entries(I).length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{style:{textAlign:"center"},item:!0,xs:4},l.a.createElement("span",{className:e.value},I.total_users),l.a.createElement("span",{className:e.label},"TOTAL")),l.a.createElement(g.a,{style:{textAlign:"center"},item:!0,xs:4},l.a.createElement("span",{className:e.value},I.active_users),l.a.createElement("span",{className:e.label},"ACTIVE")),l.a.createElement(g.a,{style:{textAlign:"center"},item:!0,xs:4},l.a.createElement("span",{className:e.value},I.deactivated_users),l.a.createElement("span",{className:e.label},"INACTIVE"))):"Loading..."),l.a.createElement(Q,{rows:function(e){var t=[];return e.length>0?(e.forEach(function(e){var a=le({},e,{first_name:"".concat(e.full_name),group:e.hasOwnProperty("group")?e.group.name:"N/A",roles:e.hasOwnProperty("roles")&&e.roles.length>0?e.roles.map(function(t,a){return"".concat(t.name).concat(a!==e.roles.length-1?", ":"")}):"N/A",expiry_date:e.hasOwnProperty("expiry_date")?oe()(e.expiry_date).format("MMM DD, YYYY"):"N/A",last_login:e.hasOwnProperty("last_login")?oe()(e.last_login).format("MMM DD, YYYY"):"N/A",status:e.hasOwnProperty("status")?l.a.createElement("span",{style:{textTransform:"capitalize"}},e.status):"N/A"});t.push(a)}),t):[]}(i.rows),columns:X,pageSize:i.pageSize,pageSizes:Z,currentPage:i.currentPage,totalCount:i.totalCount,statusOptions:R,onRowClick:function(e){x(e),b(!0)},onFilterChange:function(e){N&&clearTimeout(N),j(setTimeout(function(){var a={currentPage:0,pageSize:i.pageSize,offset:0,order:i.order,where:{},query:i.query};e.map(function(e){return"first_name"===e.columnName?a.where=le({},a.where,{or:[{first_name:{like:"".concat(e.value,".*"),options:"i"}},{middle_name:{like:"".concat(e.value,".*"),options:"i"}},{last_name:{like:"".concat(e.value,".*"),options:"i"}}]}):"group"===e.columnName?a.where.group_name={like:"".concat(e.value,".*"),options:"i"}:"roles"===e.columnName?a.where["main_role.name"]={like:"".concat(e.value,".*"),options:"i"}:"status"===e.columnName?a.where.status=e.value:a.where[e.columnName]={like:"".concat(e.value,".*"),options:"i"}}),console.log(a),t(a)},3e3))},onCurrentPageChange:function(e){var a={pageSize:i.pageSize,currentPage:e,offset:i.pageSize*e,order:i.order,where:i.where,query:i.query};t(a)},onPageSizeChange:function(e){var a={pageSize:e,offset:i.offset,order:i.order,where:i.where,query:i.query};i.currentPage>Math.ceil(i.totalCount/e)-1&&(a.currentPage=Math.ceil(i.totalCount/e)-1,a.offset=(Math.ceil(i.totalCount/e)-1)*e),t(a)},onSortingChange:function(e){var a=le({},e[0],{direction:e[0].direction.toUpperCase()});"roles"===a.columnName&&(a=le({},e[0],{columnName:"main_role.name"}));var n=Object.values(a).join(" "),o={pageSize:i.pageSize,offset:i.offset,order:[n],where:i.where,query:i.query};t(o)}})))},se=a(104),ue=a(26),me=a.n(ue),de=a(53),pe=a(438),ge=a(66),fe=a.n(ge),he=a(143),be=a(741),Ee=a(71),ve=a(442),ye=a(744),Se=a(122);function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var we=Object(m.a)(function(e){return{root:{"& > *":{margin:e.spacing(1),width:200}},item:{padding:"10px, 24px 25px"},label:{marginBottom:"10px"},input:{marginBottom:"2px"},formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},selectedItems:{borderRadius:20,fontSize:13,backgroundColor:"#d1d4db",padding:"5px 10px",margin:"5px",display:"inline-block"},selectedText:{paddingRight:"5px"},noLabel:{marginTop:e.spacing(3)},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px",marginTop:"20px"},errorLabel:{color:"#E53935",fontSize:"12px"},saveButton:{width:"135px",fontSize:"14px",color:"#fff"},cancelAdd:{width:"135px",fontSize:"14px",color:"#ffffff",marginRight:"20px",backgroundColor:"#3C394A","&:hover":{backgroundColor:"#302e3c"}},closeButton:{color:"#272E4C",position:"absolute",right:0,top:0,"&hover":{fontSize:"0.875rem"}},modal:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",padding:e.spacing(2,4,3),"&:focus":{outline:0}},cancelButton:{width:"135px",fontSize:"14px"},userAlignRight:{textAlign:"right"},inputLabel1:{color:"#272e4c",fontSize:"15px",marginBottom:"20px",marginTop:"35px"},errorIcon:{color:"#E53935"},keyboardDatePicker:{marginTop:"10px",marginBottom:"12px",width:"90%"}}}),Oe=function(e){console.log(e.refreshData);var t=we(),a=r.useState(null),l=Object(n.a)(a,2),i=l[0],c=l[1],s=r.useState(null),u=Object(n.a)(s,2),m=u[0],d=u[1],p=r.useState(!1),h=Object(n.a)(p,2),b=h[0],E=h[1],v=r.useState(),y=Object(n.a)(v,2),O=y[0],_=y[1],P=r.useState({title:"",message:function(){return r.createElement("p",null)},buttonLeft:{method:function(){},label:""},buttonRight:{method:function(){},label:""},open:!1,mode:""}),k=Object(n.a)(P,2),N=k[0],j=k[1],A=r.useState(""),T=Object(n.a)(A,2),I=T[0],D=T[1],z=r.useState([]),M=Object(n.a)(z,2),B=M[0],F=M[1],q=r.useState({name:"",description:"",department:"",effectivity_date:""}),W=Object(n.a)(q,2),Y=W[0],U=W[1],V=r.useState({title:"",message:"",open:!1,method:function(){}}),H=Object(n.a)(V,2),J=H[0],$=H[1],K=r.useState({name:"",description:"",department:"",effectivity_date:"",expiry_date:"",reports_to:"",amount_limit:0}),Q=Object(n.a)(K,2),X=Q[0],Z=Q[1],ae=r.useState({name:null,description:null,department:null,effectivity_date:null}),ne=Object(n.a)(ae,2),oe=ne[0],re=ne[1],le=r.useState([{label:"",value:""}]),ie=Object(n.a)(le,2),ce=ie[0],ue=ie[1];r.useEffect(function(){Object(ee.b)().then(function(e){var t=[];e.error?$(Ce({},J,{open:!0,title:"Error",message:e.error.message,method:Te})):(e.forEach(function(e){var a={label:e.name,value:e};t.push(a)}),ue(t))}).catch(function(e){$(Ce({},J,{open:!0,title:"Error",message:e.message,method:Te}))}),Object(ee.e)(100,0).then(function(e){F(Ne(e.body))}),console.log(ce)},[]);var ge=function(e,t){Z(Ce({},X,Object(o.a)({},t,e.target.value)))},xe=function(){e.handleClose(),j(Ce({},N,{open:!1})),Z(Ce({},X,{name:"",description:"",amount_limit:0}))},Oe=function(){xe(),$(Ce({},J,{method:Te}))},_e=function(){$(Ce({},J,{open:!1}))},Pe=function(){var e=Object(de.a)(me.a.mark(function e(t,a){var n,o;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={first_name:{like:"".concat(t,".*"),options:"i"}},e.next=3,Object(ee.e)(100,0,n).catch(function(){return a([])});case 3:(o=e.sent)&&a(Ne(o.body));case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ke=function(){Z(Ce({},X,{reports_to:""})),Object(ee.e)(100,0).then(function(e){F(e.body.map(function(e){return{value:e,label:e.first_name}}))}).catch(function(e){return console.log(e)})},Ne=function(e){return e.map(function(e){return{value:e,label:"".concat(e.hasOwnProperty("first_name")?e.first_name:"","\n                    ").concat(e.hasOwnProperty("middle_name")?e.middle_name:"","\n                    ").concat(e.hasOwnProperty("last_name")?e.last_name:"")}})},je=function(){var e=X;E(!0),xe(),""===e.expiry_date&&delete e.expiry_date,""===e.reports_to&&delete e.reports_to,Object(se.a)(e).then(function(e){E(!1),e.error?$(Ce({},J,{open:!0,title:"Add New Group Failed",message:"Something went wrong. New group was not added.",method:Te})):$(Ce({},J,{open:!0,title:"New group added",message:"New group has been successfully added.",method:Ae}))}).catch(function(e){E(!1),$(Ce({},J,{open:!0,title:"Add New Group Failed",message:e.message,method:Te}))}),console.log(e),console.log(JSON.stringify(e))},Ae=function(){e.handleClose(),_e(),Z(Ce({},X,{name:"",description:"",amount_limit:0}))},Te=function(){e.handleClose(),_e(),j(Ce({},N,{open:!1})),Z(Ce({},X,{name:"",description:"",amount_limit:0}))},Ie=function(e){var t=["expiry_date","reports_to"],a=[],n=[];Object.entries(e).forEach(function(e){t.includes(e[0])?(e[1]=!1,n.push(e)):e[1]?a.push(e):n.push(e)});var o=Object.assign(Object.fromEntries(a),Object.fromEntries(n));for(var r in re(o),U({name:o.name?"":"Invalid Input",description:o.description?"":"Invalid Input",department:o.department?"":"Invalid Input",effectivity_date:o.effectivity_date?"":"Invalid Input"}),console.log(ke),console.log(o),console.log(X),o)if(!o[r])return!1;return!0};return r.createElement(r.Fragment,null,b&&r.createElement(te.a.LoadingIndicator,null),r.createElement("div",null,r.createElement(g.a,{container:!0},r.createElement(g.a,{item:!0,xs:12},r.createElement(he.a,{className:t.inputLabel}," * Group Name "),r.createElement(pe.a,{type:"text",error:null!==oe.name?!oe.name:oe.name,value:X.name,onChange:function(e){return ge(e,"name")},className:t.input,fullWidth:!0,required:!0,id:"outline-groupname",variant:"outlined"}),r.createElement(g.a,{container:!0},null!==oe.name&&!1===oe.name?r.createElement(r.Fragment,null,r.createElement(g.a,{item:!0,xs:10,md:10,lg:10},r.createElement("span",{className:t.errorLabel},Y.name)),r.createElement(g.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},r.createElement(fe.a,{fontSize:"small",className:t.errorIcon}))):"")),r.createElement(g.a,{item:!0,xs:12},r.createElement(he.a,{className:t.inputLabel}," * Description "),r.createElement(Se.BasicTextField,{labelFontSize:"12px",rows:"2",value:X.description,error:null!==oe.description?!oe.description:oe.description,onChange:function(e){return ge(e,"description")}}),r.createElement(g.a,{container:!0},null!==oe.description&&!1===oe.description?r.createElement(r.Fragment,null,r.createElement(g.a,{item:!0,xs:10,md:10,lg:10},r.createElement("span",{className:t.errorLabel},Y.description)),r.createElement(g.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},r.createElement(fe.a,{fontSize:"small",className:t.errorIcon}))):"")),r.createElement(g.a,{item:!0,xs:12,md:12,lg:12},r.createElement(he.a,{className:t.inputLabel},"* Department"),r.createElement(te.a.Dropdown,{error:null!==oe.department&&null!==oe.department?!oe.department:oe.department,placeholder:"Select One",icon:!0,isMulti:!1,closeOnSelect:!0,isCreatable:!0,value:O,onChange:function(e){console.log(e),console.log(e.__isNew__),e.__isNew__?(_({value:e.value,label:e.label}),Z(Ce({},X,{department:e.value}))):(_({value:e.value,label:e.label}),Z(Ce({},X,{department:e.value.name})))},choices:ce}),r.createElement(g.a,{container:!0},null!==oe.department&&!1===oe.department?r.createElement(r.Fragment,null,r.createElement(g.a,{item:!0,xs:10,md:10,lg:10},r.createElement("span",{className:t.errorLabel},Y.department)),r.createElement(g.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},r.createElement(fe.a,{fontSize:"small",className:t.errorIcon}))):"")),r.createElement(g.a,{container:!0},r.createElement(g.a,null,r.createElement(he.a,{className:t.inputLabel},"* Effectivity Date"),r.createElement(R.a,{utils:G.a},r.createElement(L.a,{className:t.keyboardDatePicker,allowKeyboardControl:!1,error:null!==oe.effectivity_date&&null!==oe.effectivity_date?!oe.effectivity_date:oe.effectivity_date,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",inputProps:{disabled:!0},value:i,invalidDateMessage:"",onChange:function(e){return function(e,t){var a=e;null!==e&&a.toISOString(),c(e),Z(Ce({},X,Object(o.a)({},t,a)))}(e,"effectivity_date")},style:{width:"100%"}})),r.createElement(g.a,{container:!0},null!==oe.effectivity_date&&!1===oe.effectivity_date?r.createElement(r.Fragment,null,r.createElement(g.a,{item:!0,xs:10,md:10,lg:10},r.createElement("span",{className:t.errorLabel},Y.effectivity_date)),r.createElement(g.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},r.createElement(fe.a,{fontSize:"small",className:t.errorIcon}))):"")),r.createElement(f.a,{display:"inline"},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),r.createElement(g.a,null,r.createElement(he.a,{className:t.inputLabel},"Expiry Date"),r.createElement(R.a,{utils:G.a},r.createElement(L.a,{className:t.keyboardDatePicker,allowKeyboardControl:!1,disabled:null===i,minDate:null!==i?i:"",variant:"dialog",clearable:!0,inputProps:{disabled:!0},format:"MMMM DD, YYYY",inputVariant:"outlined",value:m,invalidDateMessage:"",onChange:function(e){return function(e,t){var a=e;null!==e&&a.toISOString(),d(e),Z(Ce({},X,Object(o.a)({},t,a)))}(e,"expiry_date")},style:{width:"100%"}})))),r.createElement(g.a,{container:!0,spacing:3},r.createElement(g.a,{item:!0,xs:12,md:12,lg:12},r.createElement(he.a,{className:t.inputLabel},"Reports To"),r.createElement(te.a.Dropdown,{async:!0,onChange:function(e){D(e),Z(Ce({},X,{reports_to:e.value}))},fetchOption:Pe,placeholder:"",icon:!1,isMulti:!1,closeOnSelect:!0,value:I,choices:B}))),r.createElement(g.a,{container:!0,spacing:3},r.createElement(g.a,{item:!0,xs:12,md:12,lg:12},r.createElement(he.a,{className:t.inputLabel},"Amount Limit:"),r.createElement(pe.a,{type:"number",value:X.amount_limit,className:t.input,onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&Z(Ce({},X,{amount_limit:e.target.value}))},fullWidth:!0,required:!0,id:"outline-amountlimit",variant:"outlined"}))),r.createElement(Se.GridHorizontalDivider,{height:"10px"}),r.createElement(g.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},r.createElement(g.a,{item:!0,xs:4},r.createElement(x.a,{className:t.cancelAdd,onClick:function(){return e="cancel",console.log("this is the group data: ",X),void("add"===e?(console.log("Add button was clicked"),Ie(X)&&j(Ce({},N,{open:!0,mode:e,title:"Confirm New Group",message:function(){return r.createElement(r.Fragment,null,r.createElement("p",{id:"confirm_modal"},"Are you sure you want to add group",r.createElement("br",null)," ",r.createElement("b",null,"".concat(X.name,"'s")),"?"))},buttonLeft:{method:Oe,label:"Cancel"},buttonRight:{method:je,label:"Add Group"}}))):j(Ce({},N,{open:!0,title:"Cancel New Group",mode:e,message:function(){return r.createElement("p",null,"Do you wish to cancel creation of this new group?")},buttonLeft:{method:function(){j(Ce({},N,{open:!1}))},label:"Cancel"},buttonRight:{method:Oe,label:"Confirm"}})));var e},variant:"outlined",color:"default",fullWidth:!0},"Cancel")),r.createElement(g.a,{item:!0,xs:4},r.createElement(x.a,{onClick:function(){console.log("Save button is clicked!",X),j(Ce({},N,{open:!0,title:"Confirm New Group",message:function(){return r.createElement(r.Fragment,null,r.createElement("p",{id:"confirm_modal"},"Are you sure you want to add group ",r.createElement("b",null,r.createElement("br",null),"".concat(X.name,"'s")),"?"))},buttonLeft:{method:Te,label:"Cancel"},buttonRight:{method:je,label:"Add Group"}}))},className:t.saveButton,variant:"contained",color:"primary",fullWidth:!0,disabled:""===X.name||""===X.description||""===X.effectivity_date||""===X.department},"Save"))),r.createElement(ve.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:N.open,onClose:xe,closeAfterTransition:!0,BackdropComponent:ye.a,BackdropProps:{timeout:0}},r.createElement("div",{className:t.paper},r.createElement(be.a,null,r.createElement(Ee.a,null,r.createElement(S.a,{className:t.closeButton,onClick:xe},r.createElement(C.a,{icon:w.w})))),r.createElement("p",{id:"transition-modal-title",style:{fontSize:"20px"}},r.createElement("b",null,N.title)),N.message(),r.createElement(g.a,{container:!0,spacing:1},r.createElement(g.a,{item:!0,xs:6},r.createElement(x.a,{className:t.cancelButton,variant:"outlined",color:"secondary",onClick:N.buttonLeft.method},N.buttonLeft.label)),r.createElement(g.a,{item:!0,xs:6},r.createElement(x.a,{onClick:N.buttonRight.method,className:t.saveButton,variant:"contained",color:"primary"},N.buttonRight.label))))),r.createElement(ve.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:J.open,onClose:J.method,closeAfterTransition:!0,BackdropComponent:ye.a,BackdropProps:{timeout:500}},r.createElement("div",{className:t.paper},r.createElement(be.a,null,r.createElement(Ee.a,null,r.createElement(S.a,{className:t.closeButton,onClick:J.method},r.createElement(C.a,{icon:w.w})))),r.createElement("p",{id:"transition-modal-title",style:{fontSize:"20px"}},r.createElement("b",null,J.title)),r.createElement("p",{id:"transition-modal-description"},J.message),r.createElement("br",null),r.createElement(g.a,{container:!0,spacing:1},r.createElement(g.a,{item:!0,xs:12},r.createElement(x.a,{onClick:J.method,className:t.saveButton,variant:"contained",color:"primary",style:{marginLeft:"70px"}},"Okay"))))))))},_e=function(){return{_id:"",name:"",description:"",department:"",effectivity_date:"",expiry_date:"",reports_to:""}};function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ke=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).APIGetGroupList=function(e,t,n){a.setState({loading:!0});var o=e*t;a.setState({currentPage:e},function(){a.setState({skip:o})});var r={limit:t,skip:o};Object(se.e)(r,a.state.default_filter,a.state.order,n).then(function(n){console.log(Math.ceil(n.count/t)-1),console.log("this is the response: ",n.body),a.setState({rows:n.body,loading:!1,totalCount:n.count,currentPage:a.state.currentPage>Math.ceil(n.count/t)-1?Math.ceil(n.count/t)-1:e,limit:t})}).catch(function(){a.setState({rows:[],loading:!1,totalCount:0})})},a.handleTimeOutSearchTableGroups=function(e){a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({currentPage:0},function(){a.setState({query:e,typingTimeout:setTimeout(function(){a.setState({loading:!0}),a.APIGetGroupList(a.state.currentPage,a.state.limit,a.state.query)},3e3)})})},a.onSearchTableGroups=function(){a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({loading:!0,currentPage:0},function(){a.APIGetGroupList(0,a.state.limit,a.state.query)})},a.handleOnFilterChange=function(e){var t={};a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),e.map(function(e){return"status"===e.columnName?"all"!==e.value?t[e.columnName]="".concat(e.value):"":"group_id"===e.columnName?t.group_id="".concat(e.value):"roles"===e.columnName?t["roles.name"]={like:"".concat(e.value),options:"i"}:t[e.columnName]={like:"".concat(e.value,".*"),options:"i"}}),a.setState({default_filter:t,currentPage:0,typingTimeout:setTimeout(function(){a.setState({loading:!0}),a.APIGetGroupList(a.state.currentPage,a.state.limit,a.state.query)},1500)})},a.handleSortChange=function(e){a.setState({order:"".concat(e[0].columnName," ").concat(e[0].direction.toUpperCase()),loading:!0},function(){a.APIGetGroupList(a.state.currentPage,a.state.limit,a.state.query)})},a.handleRowClick=function(e){var t=a.state.rows;console.log("this is the data ",t[e].group_id),a.setState({redirect_to_group:!0,redirect_data:t[e].group_id}),console.log("this is the data: ",a.state.redirect_data)},a.handleAddGroup=function(){console.log("Loading: Add Group Handler")},a.rowDataFixer=function(e){var t=[];return e.length>0?(e.forEach(function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{name:e.hasOwnProperty("name")?e.name:"N/A",group:e.hasOwnProperty("group_id")?e.group_id:"N/A",department:e.hasOwnProperty("department")?e.department:"N/A",roles:e.hasOwnProperty("roles")&&e.roles.length>0?e.roles.map(function(t,a){return"".concat(t.name).concat(a!==e.roles.length-1?", ":"")}):"N/A",status:e.hasOwnProperty("status")?l.a.createElement("span",{style:{textTransform:"capitalize"}},e.status):"N/A"});t.push(a)}),t):[]},a.handleCloseSideModalBlock=function(){a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({show_side_modal_block:"none",side_modal_block_mode:"",add_group:_e(),currentPage:0},function(){a.setState({typingTimeout:setTimeout(function(){a.setState({loading:!0}),a.APIGetGroupList(a.state.currentPage,a.state.limit,a.state.query)},3e3)})})},a.handleOpenBlock=function(){a.setState({show_side_modal_block:"block"},function(){return a.passDataToSideModalBlockBody()})},a.handleInvalidFieldsPrompts=function(){a.setState({isModalOpen:!0,modalTitle:"Incomplete/Invalid Fields",modalMessage:"Please complete the form before proceeding."})},a.handleSaveGroup=function(e){console.log("this is the group data from the modal: ",e)},a.passDataToSideModalBlockBody=function(){a.state.add_group&&a.setState({add_group:a.state.add_group})},a.handleChangeSideModalBlockMode=function(){a.setState({side_modal_block_mode:"add"},function(){return a.handleOpenBlock()})};return a.state={loading:!0,columns:[{name:"group_id",title:"Group ID"},{name:"name",title:"Name"},{name:"roles",title:"Attached Roles"},{name:"department",title:"Department"},{name:"status",title:"Status"}],rows:[],redirect_to_group:!1,redirect_to_addgroup:!1,redirect_data:[],totalCount:0,currentPage:0,typingTimeout:0,limit:10,order:"",default_filter:[],query:"",skip:0,add_group:_e(),invalid_fields:[],show_side_modal_block:"none",disableSaveButton:!1,clickSaveButton:!1,side_modal_block_mode:"add",modalTitle:"",modalMessage:"",isModalOpen:!1,confirm_modal_message:"",confirm_modal_open:!1,confirm_modal_title:"",action_after_confirm:function(){},department_dropdown_choices:e.departmentDropdown,reports_to_dropdown_choices:e.reportsToDropdown},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({loading:!0},function(){t.APIGetGroupList(e.state.currentPage,e.state.limit,e.state.query)})}},{key:"renderSideModalBlock",value:function(){var e=this.props.classes;return l.a.createElement(Se.SideModalBlock,{blockPosition:"fixed",title:"Add Group",editIconDescription:"Add Group",showBlock:this.state.show_side_modal_block,handleClose:this.handleCloseSideModalBlock,sideModalBlockMode:"add"},l.a.createElement(Oe,{classes:e,handleClose:this.handleCloseSideModalBlock}))}},{key:"render",value:function(){var e=this;return this.state.redirect_to_group?l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{to:{pathname:"/system-admin/group/"+this.state.redirect_data}})):l.a.createElement("div",null,this.state.loading?l.a.createElement(N.a,null):null,l.a.createElement(g.a,{container:!0,alignItems:"center",style:{textAlign:"center"},spacing:4},l.a.createElement(g.a,{item:!0,xs:8,md:9},l.a.createElement(_.a,{placeholder:"Search a group",onSearch:this.onSearchTableGroups,onChange:this.handleTimeOutSearchTableGroups})),l.a.createElement(g.a,{item:!0,xs:4,md:3},l.a.createElement(g.a,{container:!0},l.a.createElement(g.a,{item:!0,xs:6},l.a.createElement(C.a,{icon:w.e,className:this.props.classes.addFieldIcone}),l.a.createElement(S.a,{className:this.props.classes.linkStyleSelected},"Generate Report")),l.a.createElement(g.a,{item:!0,xs:6},l.a.createElement(C.a,{icon:w.n,className:this.props.classes.addFieldIcon}),l.a.createElement(S.a,{className:this.props.classes.linkStyleSelected,onClick:function(){e.setState({add_group:_e(),disableSaveButton:!0},function(){return e.handleChangeSideModalBlockMode()})}},"Add Group"))))),l.a.createElement(O.a,{rows:this.rowDataFixer(this.state.rows),columns:this.state.columns,message:"There are no user groups to show yet.",viewOnly:!1,enableSelection:!1,onRowClick:this.handleRowClick,totalCount:this.state.totalCount,currentPage:this.state.currentPage,pageSize:this.state.limit,defaultFilters:this.state.default_filter,onFilterChange:this.handleOnFilterChange,onSortingChange:this.handleSortChange,onSetPageSize:function(t){e.APIGetGroupList(e.state.currentPage,t,e.state.query)},onPageChange:function(t){e.APIGetGroupList(t,e.state.limit,e.state.query)}}),this.renderSideModalBlock())}}]),t}(l.a.Component),Ne=a(152);a.d(t,"UsersPage",function(){return De}),a.d(t,"mapStateToProps",function(){return ze}),a.d(t,"mapDispatchToProps",function(){return Me});var je=["Accounts","Roles","Groups"],Ae=Object(u.a)({root:{},indicator:{display:"none"}})(d.a),Te=Object(u.a)({root:{color:"rgba(39, 46, 76, 0.5)",minWidth:80,paddingLeft:24,paddingRight:24,fontSize:"0.875rem",fontWeight:400,"&:hover":{color:"rgba(39, 46, 76, 1)",fontWeight:400},"&$selected":{textDecoration:"underline",color:"#3AB77D",fontWeight:600}},selected:{}})(p.a),Ie=Object(m.a)(function(e){return{gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:16,fontWeight:400,color:"#272e4c"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(o.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},gridContainer:{backgroundColor:"",minHeight:"100px"},breadCrumbs:{marginBottom:"20px"},headerTitle:{fontSize:"1.5rem",alignItems:"flex-start",fontWeight:600,paddingBottom:"20px"},linkPrevious:{fontSize:12,fontWeight:300,color:"black",cursor:"pointer",textDecoration:"underline"},sideBar:{borderRight:"1px solid #C3C3C3"},selectedpage:{paddingLeft:"37px"},linkCurrent:{fontSize:12,fontWeight:600,color:"black",cursor:"pointer"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px"},gridItemLayout:{padding:e.spacing(1)},avatar:{width:"130px",height:"130px"},linkStyleSelected:{"&:hover":{fontWeight:"normal"}},sideNavHeader:{fontSize:13,fontWeight:700,color:"rgba(39, 46, 76, 0.3)"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"#2c2e8e",cursor:"pointer",textDecoration:"underline"},listItemTextPrimaryNotSelected:{fontSize:14,color:"#272e4c",cursor:"pointer"},addFieldIcon:{color:"#3AB77D",cursor:"pointer",fontSize:"13px",marginRight:"8px"},addACode:{paddingRight:"15px",marginTop:15,textAlign:"center"},codeHeader:{color:"#272E4C",textAlign:"left",opacity:1,letterSpacing:0,textAlignLast:"left",fontSize:"16px"},codeItems:{color:"#272E4C",textAlign:"left",opacity:.6,letterSpacing:0,textAlignLast:"left",fontSize:"12px"},codeListItems:{color:"#272E4C",textAlign:"left",opacity:1,letterSpacing:0,textAlignLast:"left",fontSize:"12px","&:hover":{textDecoration:"underline",color:"#3AB77D",fontWeight:600},"&$selected":{textDecoration:"underline",color:"#3AB77D",fontWeight:600}}}}),De=function(){var e=Object(r.useState)(0),t=Object(n.a)(e,2),a=t[0],o=t[1],l=Ie();return r.useEffect(function(){"roles"===Object(Ne.a)()&&o(1),"groups"===Object(Ne.a)()&&o(2)},[]),r.createElement("div",{className:l.main},r.createElement(g.a,{container:!0,justify:"space-between",alignItems:"center",className:l.gridContainer},r.createElement(g.a,{item:!0},r.createElement(f.a,{className:l.headerTitle},"Users",r.createElement(Ae,{value:a,onChange:function(e,t){o(t)},"aria-label":"page tab"},je.map(function(e,t){return r.createElement(Te,{label:e,id:"users_tab_"+t,"aria-controls":"users-tabpanel-"+t,key:t})}))))),r.createElement(g.a,{container:!0},r.createElement(g.a,{item:!0,xs:12,md:12,className:l.selectedpage},0===a?r.createElement(ce,null):1===a?r.createElement(I,{classes:l}):2===a?r.createElement(ke,{classes:l}):null)))},ze=function(e){return e.users},Me=function(e){return{Map:Object(i.bindActionCreators)(s,e)}}}}]);
//# sourceMappingURL=5.7a281c22.chunk.js.map