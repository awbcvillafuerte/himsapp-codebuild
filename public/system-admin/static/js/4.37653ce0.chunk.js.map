{"version":3,"sources":["Pages/Lookup/Components/Loader/index.tsx","Components/UI/TableComponent/ReactTable.tsx","Pages/Roles/ActionConsts.ts","Pages/Roles/RolesActions.ts","Pages/Roles/Components/ViewPolicies.tsx","Pages/Roles/Components/EditPolicies.tsx","Pages/Roles/Components/Policies.tsx","Components/UI/SearchBar/APICallSearch.tsx","Pages/Roles/Components/AddUserRoleBody.tsx","Pages/Roles/Components/AddGroupRoleBody.tsx","Pages/Roles/Components/GroupsAndUsers.tsx","Pages/Roles/RolesPage.tsx"],"names":["useStyles","makeStyles","root","position","width","height","zIndex","right","bottom","top","left","textAlign","backgroundColor","container","outline","alignItems","justifyContent","display","flexDirection","Loader","classes","className","size","defaultProps","statusOption","value","label","Select","items","restProps","variant","style","renderValue","selected","find","item","map","i","key","FilterCell","filter","onFilter","filteringEnabled","column","name","padding","utils","MomentUtils","format","inputVariant","invalidDateMessage","onChange","date","toISOString","paddingTop","e","target","id","labelWidth","placeholder","SortingIcon","direction","marginLeft","icon","faSortUp","faSortDown","SortLabel","onSort","children","hideSortIcon","onClick","textOverflow","overflow","faSort","groupIconContentCell","expanded","verticalAlign","faAngleUp","faAngleDown","color","ReactTable","props","rows","columns","disableSort","disableFilter","enableGrouping","groupColumnName","viewOnly","message","columnExtensions","sortingStateColumnExtensions","defaultSorting","onDeleteRow","enableSelection","enableSelectAll","onRowClick","totalCount","onPageChange","currentPage","pageSize","onSetPageSize","onCheckRow","onSelectGroup","loading","onSortingChange","enableIntegratedSorting","enableOpenGroupTotalChecked","React","selection","setSelection","pageSizes","sorting","setSorting","selectCell","row","onToggle","faMinusSquare","checkedIcon","faCheckSquare","checked","stopPropagation","onCurrentPageChange","onPageSizeChange","onSelectionChange","grouping","columnName","onFiltersChange","onFilterChange","messages","noData","cellComponent","faMinusCircle","showSortingControls","sortLabelComponent","highlightRow","selectByRowClick","showSelectAll","undefined","showSelectionColumn","contentComponent","isChecked","countChecked","countItems","data","iconComponent","groupNameChecked","ActionConsts","ResetReducer","SetReducer","RolesActions","payload","type","ViewPolicies","Grid","xs","InputLabel","inputLabel","htmlFor","Typography","role_id","module","description","status","effectivity_date","moment","expiry_date","associated_groups","length","groups","date_last_update","EditPolicies","dataChanges","isProcessMaker","effectivityDate","expiryDate","editData","setEditData","onBlur","disabled","is_processMaker","Checkbox","inputProps","maxDate","subtract","startOf","maxDateMessage","marginTop","clearable","minDate","add","minDateMessage","Policies","mode","rbacList","rbacState","onUpdateChange","onNavigateSideMenu","onSortChange","onSearch","isAddedModalRole","setIsAddedModalRole","moduleValue","setModuleValue","isModuleModalOpen","setIsModuleModalOpen","moduleLabel","setModuleLabel","isModalConfirmChangeModule","setIsModalConfirmChangeModule","newRbacList","setNewRbacList","setLoading","defaultFilters","setDefaultFilters","isModalDeleteSuccessOpen","setIsModalDeleteSuccessOpen","isModalCannotEditOpen","setIsModalCannotEditOpen","isEdited","setIsEdited","checkedList","setCheckedList","moduleItems","handleUpdateCheck","_data","console","log","rbac","is_processmaker","_id","spacing","group","ReactSearch","title","checklist","push","list","handleOnCheckRow","limit","count","setTimeout","handleOnCheckGroup","ModalComponent","isModalOpen","onClose","buttons","justify","Button","button","margin","menuItems","moduleName","Number","handleContinueRole","theme","gridContainerNoPadding","searchIcon","transform","fontSize","searchContainer","borderRadius","searchBox","border","searchLabel","comboBoxContainer","opacity","maxHeight","overflowY","APICallSearch","newComboList","setNewComboList","searchValue","setSearchValue","typingTimeout","setTypingTimeout","isLoadingChoices","setIsLoadingChoices","ref","setRef","typing","setTyping","getChoices","usernames","selectedUsers","username","usersWithRole","usernamesWithRole","getRolesUsersLists","fields","where","nin","then","resp","resp_body","body","roles","array","a","x","some","b","removeDuplicateRoles","full_name","first_name","middle_name","last_name","catch","handleKeyPress","event","clearTimeout","faSearch","onKeyUp","keyCode","which","listStyle","current","focus","searchCombo","selectedItems","xIcon","AddUserRoleBody","initializeData","state","removeDuplicates","setUsersWithRole","handleOnSearch","arr","setSelectedUsers","handleRemoveItem","index","splice","handleOnSaveItems","onSave","apiCallFields","and","or","roleId","prevProps","this","setState","refreshUsersWithRole","buttonsContainer","selectedContainer","selectedText","paddingRight","saveButton","cancelButton","minHeight","minWidth","faTimesCircle","paddingLeft","AddGroupRoleBody","comboArray","getAllGroups","res","group_id","user_count","date_updated","pmaker_uid","amount_limit","department","rank","reports_to","meta_data","newChoices","c","beauty","err","SearchUserGroup","comboBoxMode","comboListsArray","user_fields","employee_id","main_module","main_role","group_name","last_login","GroupsAndUsers","useState","activeItem","setActiveItem","activeClass","setActiveClass","groupShowBlock","setGroupShowBlock","userShowBlock","setUserShowBlock","isFetching","setIsFetching","userList","setUserList","skip","order","userTable","setUserTable","offset","query","tableStates","setTableState","open","method","modalProps","setModalProps","confirmationModalProps","setConfirmationModalProps","refreshUsers","setRefreshUsers","isConfirmDetachUserRoleModalOpen","setIsConfirmDetachUserRoleModalOpen","userDetachRole","setUserDetachRole","attachUserRoleNotifModalOpen","setAttachUserRoleNotifModalOpen","setAttachUserRoleSuccess","userColumns","getCellValue","charAt","toUpperCase","slice","APIGetGroupsAttachToRoleList","attachUserRole","attachUserRoles","getUserLists","detachUserRole","detachUserRoles","page","search","_filter","_order","like","options","lte","endOf","gte","params","response","Math","ceil","newState","saveSummary","getAllGroupsAttachToRole","error","updateTableState","prop","handleCloseModalProps","handleOpenConfirmationModalProps","roledata","handleCloseConfirmationModalProps","selectedGroupToRemove","user_account","groupRoles","newGroupRoles","attachRoleToGroups","JSON","stringify","handleDeleteGroup","LoadingIndicator","menuList","Link","classNames","menuLink","LinkActive","handleMenuClick","alignRight","newEntry","forEach","newRow","hasOwnProperty","textTransform","rowDataFixer","wordWrapEnabled","align","sortingEnabled","w","parseInt","Object","values","join","sort","handleClose","showBlock","selectedGroupId","isUnique","onSaveAddRoleToGroup","Array","isArray","attach_role_data","user","role","mainContainer","main","headMain","gridContainer","paddingBottom","sectionTitle","fontWeight","subSectionTitle","editBtn","sideBarContainer","borderRight","contentContainer","sideBarLists","sideBarLink","fieldGroupTitle","listItemTextRoot","flex","listItemTextPrimarySelected","cursor","listItemTextPrimaryNotSelected","dropzone","marginBottom","keyboardDatePicker","checkbox","radio","appBar","breakpoints","up","grow","flexGrow","buttonTitle","buttonSubTitle","textDecoration","RolesPage","setViewOnly","activeItemIndex","setActiveItemIndex","isModalConfirmExitOpen","setIsModalConfirmExitOpen","isModalConfirmSaveOpen","setIsModalConfirmSaveOpen","isModalSaveSuccessOpen","setIsmodalSaveSuccessOpen","setMode","isOpenSideModalBlock","setIsOpenSideModalBlock","policyResponse","setPolicyResponse","setModuleName","setRbacList","breadCrumbs","setBreadCrumbs","rbacCount","setRoleId","policyData","setPolicyData","isRedirect","setIsRedirect","currentModule","setCurrentModule","setRbacState","set","loadRbacList","setLoadRbacList","showDeactivationWarning","setShowDeactivationWarning","sideBarItems","handleGetRoleData","getRoleData","match","_crumbs","link","handGetRbacList","alert","isEmpty","obj","resParam","_mode","curModule","getRbacList","policy","activeSideBarItem","handleModalConfirmationClose","to","pathname","SubHeader","headingTitle","breadCrumbsArray","buttonFunc","buttonName","layoutType","enableButton","SideMenu","activeItems","onChangeModuleName","generateRoleId","handleChangeModuleName","openSideModalBlock","updateRoleRbac","handleOnSave","today","exp_date","isSameOrAfter","mapStateToProps","mapDispatchToProps","dispatch","Map","bindActionCreators"],"mappings":"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","file":"static/js/4.37653ce0.chunk.js","sourcesContent":["import * as React from 'react';\nimport { CircularProgress } from '@material-ui/core/';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface LoaderProps {\n}\n\nconst useStyles = makeStyles({\n\troot: {\n        position: 'fixed',\n        width: '100%',\n        height: '100%',\n        zIndex: 9999,\n        right: '0px',\n        bottom: '0px',\n        top: '0px',\n        left: '0px',\n        textAlign: \"center\",\n        backgroundColor: 'rgba(0, 0, 0, 0.5)'\n    },\n    container:{\n        height: '100%',\n        outline: 0,\n        alignItems: 'center',\n        justifyContent: 'center',\n        display: 'flex',\n        flexDirection: 'column'\n    }\n});\n\nexport const Loader: React.FC<LoaderProps> = (): JSX.Element => {\n    // const buttonclasses = ButtonStyle();\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <div className={classes.container}>\n                <CircularProgress size={150}/>\n            </div>\n        </div>\n    )\n}\n\nLoader.defaultProps = {}","import * as React from 'react';\n// import { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport {\n    FilteringState,\n    SortingState,\n    IntegratedSorting,\n    IntegratedGrouping,\n    GroupingState,\n    SelectionState,\n    // IntegratedPaging,\n    PagingState,\n    CustomPaging,\n} from '@devexpress/dx-react-grid';\nimport {\n    Grid,\n    Table,\n    //   Toolbar,\n    TableHeaderRow,\n    TableFilterRow,\n    TableGroupRow,\n    TableSelection,\n    PagingPanel,\n    // TableFixedColumns,\n} from '@devexpress/dx-react-grid-material-ui';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n    // faSearch,\n    faCheckSquare,\n    faMinusSquare,\n    faSort,\n    faSortUp,\n    faSortDown,\n    faMinusCircle,\n    faAngleDown,\n    faAngleUp,\n    // faPlus,\n    // faCheck, \n    // faTimes\n} from '@fortawesome/free-solid-svg-icons';\nimport * as MaterialUI from '@material-ui/core';\nimport { Loader } from 'Pages/Lookup/Components/Loader';\nimport './ReactTable.scss';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers'\nimport MomentUtils from '@date-io/moment'\n\n// import { ReactSearch } from '../SearchBar/ReactSearch';\n\nexport interface IReactTableProps {\n    rows: any,\n    columns: any,\n    disableSort?: boolean,\n    disableFilter?: boolean,\n    enableIntegratedSorting?: boolean,\n    enableGrouping?: boolean,\n    enableSelection?: boolean,\n    enableSelectAll?: boolean,\n    enableOpenGroupTotalChecked?: boolean,\n    groupColumnName?: string,\n    viewOnly?: boolean,\n    columnExtensions?: any[],\n    message?: string,\n    sortingStateColumnExtensions?: any[],\n    defaultSorting?: any[],\n    totalCount?: number,\n    currentPage?: number,\n    pageSize?: number,\n    groupNameChecked?: any,\n    loading?: boolean,\n    defaultFilters?: any,\n    onDeleteRow?: (row) => void,\n    onRowClick?: (row) => void,\n    onPageChange?: (page) => void,\n    onSetPageSize?: (size) => void,\n    onCheckRow?: (row) => void,\n    onSelectGroup?: (group) => void,\n    onFilterChange?: (filter) => void,\n    onSortingChange?: (sort) => void,\n\n}\n\nconst defaultProps: IReactTableProps = {\n    rows: [],\n    columns: [],\n    enableIntegratedSorting: false,\n    disableSort: false,\n    disableFilter: false,\n    enableGrouping: false,\n    enableSelection: false,\n    enableSelectAll: false,\n    enableOpenGroupTotalChecked: false,\n    groupColumnName: '',\n    viewOnly: true,\n    columnExtensions: [],\n    message: '',\n    sortingStateColumnExtensions: [],\n    defaultSorting: [],\n    totalCount: 0,\n    currentPage: 0,\n    pageSize: 0,\n    groupNameChecked: [],\n    loading: false,\n}\n\nconst statusOption = [\n    {\n        value: 'all',\n        label: 'All',\n    },\n    {\n        value: 'active',\n        label: 'Active'\n    },\n    {\n        value: 'deactivated',\n        label: 'Deactivated'\n    },\n    {\n        value: 'awaiting activation',\n        label: 'Awaiting activation'\n    }\n]\n\nconst Select = ({ items, ...restProps }: any) => {\n    return (\n        <MaterialUI.Select\n            variant='outlined'\n            style={{ width: '100%' }}\n            renderValue={(selected: any) => {\n                if (selected != null) {\n                    const value: any = items.find((item: any) => {\n                        return item.value === selected;\n                    });\n                    if (value) {\n                        return value.label;\n                    } else {\n                        return '——';\n                    }\n                }\n                return '——';\n            }}\n            {...restProps}\n        >\n            {items.map((item: any, i: number) => (\n                <MaterialUI.MenuItem key={i} value={item.value}>\n                    {item.label}\n                </MaterialUI.MenuItem>\n            ))}\n        </MaterialUI.Select>\n    );\n};\n\nconst FilterCell = ({ filter, onFilter, filteringEnabled, classes, column }: any) => {\n    if (filteringEnabled) {\n        if (column.name === 'action_delete') {\n            return (\n                <MaterialUI.TableCell style={{ padding: '0px 10px 8px 10px' }} classes={classes}>\n                </MaterialUI.TableCell>\n            )\n        } else if (column.name === 'last_login') {\n            return (\n                <MaterialUI.TableCell style={{ padding: '0px 10px 8px 10px' }} classes={classes}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <KeyboardDatePicker\n                            variant=\"dialog\"\n                            format=\"MMMM DD, YYYY\"\n                            inputVariant=\"outlined\"\n                            value={filter ? filter.value : ''}\n                            invalidDateMessage=\"\"\n                            onChange={date => { onFilter(date ? { value: date.toISOString() } : null) }}\n                        />\n                    </MuiPickersUtilsProvider>\n                </MaterialUI.TableCell>\n            )\n        } else if (column.name === 'status') {\n            return (\n                <MaterialUI.TableCell classes={classes} style={{ paddingTop: '5px' }}>\n                    <Select\n                        onChange={e => onFilter(e.target.value ? { value: e.target.value } : null)}\n                        name={'status'}\n                        items={statusOption}\n                        id={'status'}\n                        value={filter ? filter.value : ''}\n                    />\n                </MaterialUI.TableCell>\n            )\n        } else {\n            return (\n                <MaterialUI.TableCell style={{ padding: '0px 10px 8px 10px' }} classes={classes}>\n                    <MaterialUI.OutlinedInput\n                        classes={classes}\n                        style={{ width: '100%' }}\n                        value={filter ? filter.value : ''}\n                        labelWidth={0}\n                        onChange={e => onFilter(e.target.value ? { value: e.target.value } : null)}\n                        placeholder=\"\"\n                    />\n                </MaterialUI.TableCell>\n            );\n        }\n    }\n    return null;\n}\n\nconst SortingIcon = ({ direction }: any) =>\n    direction === 'asc' ? (\n        <FontAwesomeIcon style={{ marginLeft: '10px' }} icon={faSortUp} />\n    ) : (\n            <FontAwesomeIcon style={{ marginLeft: '10px' }} icon={faSortDown} />\n        );\n\nconst SortLabel = ({ column, onSort, children, direction }: any) => {\n    if (column.name === 'action_delete') {\n        return null;\n    } else {\n        return (\n            <MaterialUI.TableSortLabel hideSortIcon={true} onClick={onSort} style={{ textOverflow: \"ellipsis\", overflow: \"hidden\" }}>\n                {children}\n                {direction ? (\n                    <SortingIcon direction={direction} />\n                ) : (\n                        <FontAwesomeIcon style={{ marginLeft: '10px' }} icon={faSort} />\n                    )}\n            </MaterialUI.TableSortLabel>\n        );\n    }\n};\n\n\nconst groupIconContentCell = ({ expanded }: any) => {\n    return (\n        <>\n            <div style={{ padding: '8.5px 12px', display: 'table-cell', verticalAlign: 'middle' }} >\n                <FontAwesomeIcon\n                    icon={expanded ? faAngleUp : faAngleDown}\n                    size={'2x'}\n                    color={\"rgba(0, 0, 0, 0.54)\"}\n                />\n            </div>\n        </>\n    )\n}\n\n\n\nexport const ReactTable: React.FC<IReactTableProps> = (props: IReactTableProps): JSX.Element => {\n    const {\n        rows,\n        columns,\n        disableSort,\n        disableFilter,\n        enableGrouping,\n        groupColumnName,\n        viewOnly,\n        message,\n        columnExtensions,\n        sortingStateColumnExtensions,\n        defaultSorting,\n        onDeleteRow,\n        enableSelection,\n        enableSelectAll,\n        onRowClick,\n        totalCount,\n        onPageChange,\n        currentPage,\n        pageSize,\n        onSetPageSize,\n        onCheckRow,\n        onSelectGroup,\n        // groupNameChecked,\n        loading,\n        onSortingChange,\n        enableIntegratedSorting,\n        enableOpenGroupTotalChecked\n    } = props;\n\n    const [selection, setSelection] = React.useState<any>([])\n    const [pageSizes] = React.useState([5, 10, 15]);\n    const [sorting, setSorting] = React.useState([])\n    // const [pageSize, setPageSize] = React.useState(10);\n    // console.log(onCheckRow, onSelectGroup)\n\n    const setSortingMethod = (e: any) => {\n        onSortingChange && onSortingChange(e)\n        setSorting(e);\n    }\n    const handleSelectionChange = (row: any[]) => {\n        if (onRowClick) {\n            if (!enableSelection) {\n                onRowClick(row[0]);\n            }\n        } else {\n            setSelection(row);\n        }\n    }\n\n    const selectCell = ({ row, onToggle }: any) => {\n        return (\n            <MaterialUI.TableCell>\n                <MaterialUI.Checkbox\n                    icon={<FontAwesomeIcon icon={faMinusSquare} />}\n                    checkedIcon={<FontAwesomeIcon icon={faCheckSquare} />}\n                    checked={row.checked}\n                    onClick={(e: any) => {\n                        e.stopPropagation();\n                        onToggle();\n                        onCheckRow && onCheckRow(row);\n                    }}\n                />\n            </MaterialUI.TableCell>\n        )\n    }\n\n\n    const groupContentCell = ({ row }: any) => {\n\n        let isChecked = false;\n        let countChecked = 0;\n        let countItems = 0;\n        rows.map(data => {\n            if (data.name === row.value) {\n                countItems++;\n                if (data.checked) {\n                    isChecked = true;\n                    countChecked++;\n                }\n            }\n        })\n\n        if (!viewOnly) {\n            return (\n                <>\n                    <div style={{ padding: '8.5px 15.5px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <MaterialUI.Checkbox\n                            icon={<FontAwesomeIcon icon={faMinusSquare} />}\n                            checkedIcon={<FontAwesomeIcon icon={faCheckSquare} />}\n                            checked={isChecked}\n                            onClick={e => {\n                                e.stopPropagation();\n                                onSelectGroup && onSelectGroup(row.value)\n                            }}\n                        />\n                    </div>\n                    <div style={{ padding: '8.5px 2px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <span>{row.value}</span>\n                    </div>\n                    <div style={{ padding: '8.5px 30px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <span>{countChecked}/{countItems}</span>\n                    </div>\n                </>\n            )\n        } else if (viewOnly && enableOpenGroupTotalChecked) {\n            return (\n                <>\n                    <div style={{ padding: '8.5px 2px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <span>{row.value}</span>\n                    </div>\n                    <div style={{ padding: '8.5px 30px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <span>{countChecked}/{countItems}</span>\n                    </div>\n                </>\n            )\n        } else {\n            return (\n                <div style={{ padding: '8.5px 2px', display: 'table-cell', verticalAlign: 'middle' }} >\n                    <span>{row.value}</span>\n                </div>\n            )\n        }\n\n    }\n\n    const tableCell = ({ value, row, column }: any) => {\n        if (column.name === 'action_delete') {\n            return (\n                <MaterialUI.TableCell style={{ padding: '0px 30px 8px 10px', textAlign: 'right' }}>\n\n                    <span\n                        onClick={() => {\n                            onDeleteRow && onDeleteRow(row)\n                        }}>\n\n                        <FontAwesomeIcon\n                            icon={faMinusCircle}\n                        />\n                    </span>\n\n                </MaterialUI.TableCell>\n            )\n        } else {\n            return (\n                <MaterialUI.TableCell>\n                    {value}\n                </MaterialUI.TableCell>\n            )\n        }\n    }\n\n\n    return (\n        <div style={{ padding: '10px 0' }}>\n            <Paper>\n                <Grid\n                    rows={rows}\n                    columns={columns}\n                >\n                    <PagingState\n                        currentPage={currentPage}\n                        onCurrentPageChange={onPageChange}\n                        pageSize={pageSize}\n                        onPageSizeChange={onSetPageSize}\n                    />\n                    <CustomPaging\n                        totalCount={totalCount}\n                    />\n                    {!disableSort && onSortingChange ? (\n                        <SortingState\n                            defaultSorting={defaultSorting}\n                            columnExtensions={sortingStateColumnExtensions}\n                            sorting={sorting}\n                            onSortingChange={setSortingMethod}\n                        />\n                    ) : !disableSort ? (\n                        <SortingState\n                            defaultSorting={[]}\n                        />\n                    ) : null}\n                    {!viewOnly ? <SelectionState\n                        selection={selection}\n                        onSelectionChange={handleSelectionChange}\n                    /> : null}\n                    {enableGrouping && groupColumnName ? <GroupingState grouping={[{ columnName: groupColumnName }]} /> : null}\n                    {!disableFilter ?\n                        <FilteringState\n                            onFiltersChange={props.onFilterChange}\n                        /> : null}\n                    {/* <IntegratedPaging /> */}\n                    {enableIntegratedSorting ? <IntegratedSorting /> : null}\n                    {enableGrouping ? <IntegratedGrouping /> : null}\n                    <Table\n                        columnExtensions={columnExtensions}\n                        messages={{ noData: message }}\n                        cellComponent={tableCell}\n                    />\n                    <TableHeaderRow\n                        showSortingControls={!disableSort}\n                        sortLabelComponent={SortLabel}\n                    />\n                    {/* <TableFixedColumns /> */}\n                    <PagingPanel\n                        pageSizes={enableGrouping ? [30, 40, 50] : pageSizes}\n                    />\n                    {!viewOnly ?\n                        <TableSelection\n                            highlightRow\n                            selectByRowClick\n                            showSelectAll={enableSelectAll ? true : undefined}\n                            cellComponent={!loading ? selectCell : selectCell}\n                            showSelectionColumn={enableSelection}\n                        /> : null}\n\n                    {enableGrouping ?\n                        <TableGroupRow\n                            contentComponent={groupContentCell}\n                            iconComponent={groupIconContentCell}\n                        ></TableGroupRow> : null}\n                    {!disableFilter ? <TableFilterRow cellComponent={FilterCell} /> : null}\n                </Grid>\n                {\n                    loading &&\n                    <Loader />\n                }\n            </Paper>\n        </div>\n    )\n}\n\nReactTable.defaultProps = defaultProps;","export const ActionConsts = {\n\tRoles: {\n\t\tResetReducer: 'Roles_ResetReducer',\n\t\tSetReducer: 'Roles_SetReducer',\n\t},\n};\n","//#region Global Imports\n// import { Dispatch } from 'redux';\n//#endregion Global Imports\n\n//#region Local Imports\nimport { ActionConsts } from './ActionConsts';\n// import { PlanetaryService } from 'Components/Services';\n//#endregion Local Imports\n\n//#region Interface Imports\n//#endregion Interface Imports\n\nexport const RolesActions = {\n\tMap: (payload: []) => ({\n\t\tpayload,\n\t\ttype: ActionConsts.Roles.SetReducer,\n\t}),\n\n\tReset: () => ({\n\t\ttype: ActionConsts.Roles.ResetReducer,\n\t}),\n\n\t// GetApod: (payload) => async (dispatch: Dispatch) => {\n\n\t// },\n};\n","import * as React from 'react';\nimport {\n    Grid,\n    InputLabel,\n    Typography\n} from '@material-ui/core';\nimport moment from 'moment';\n\ninterface IViewPoliciesProps {\n    classes?: any,\n    rows: any,\n    onNavigateSideMenu?: (group) => void,\n}\n\nexport const ViewPolicies: React.FC<IViewPoliciesProps> = (props: IViewPoliciesProps): JSX.Element => {\n    const {\n        classes,\n        rows\n    } = props;\n\n    return (\n        <>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">ROLE ID</InputLabel>\n                <Typography><b>{rows && rows.role_id ? rows.role_id : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"primary_module\">MODULE</InputLabel>\n                <Typography><b>{rows && rows.module ? rows.module : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"description\">DESCRIPTION</InputLabel>\n                <Typography><b>{rows && rows.description ? rows.description : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">ROLE NAME</InputLabel>\n                <Typography><b>{rows && rows.name ? rows.name : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"status\">STATUS</InputLabel>\n                <Typography><b>{rows && rows.status ? rows.status : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"primary_module\">EFFECTIVITY DATE</InputLabel>\n                <Typography><b>{rows && rows.effectivity_date ? moment(rows.effectivity_date).format('MMMM DD, YYYY') : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"primary_module\">EXPIRY DATE</InputLabel>\n                <Typography><b>{rows && rows.expiry_date ? moment(rows.expiry_date).format('MMMM DD, YYYY') : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"description\">ATTACHED GROUP/S</InputLabel>\n                <Typography>\n                    {\n                        rows && rows.associated_groups && rows.associated_groups.length > 0 ? rows.associated_groups.map((groups, i) => (\n                            <b>{`${groups.name}${i !== (rows.associated_groups.length - 1) ? ', ' : ''}`}</b>\n                        )) : '-'\n                    }\n                </Typography>\n                {/* <Link\n                    onClick={() => {\n                        console.log(onNavigateSideMenu)\n                        // onNavigateSideMenu && onNavigateSideMenu('Groups And Users')\n                    }}\n                >+ Add Group</Link> */}\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"primary_module\">LAST UPDATE</InputLabel>\n                <Typography><b>{rows && rows.date_last_update ? moment(rows.date_last_update).format('MMMM DD, YYYY') : '-'}</b></Typography>\n            </Grid>\n        </>\n    )\n}","import * as React from 'react';\nimport {\n    Grid,\n    InputLabel,\n    Typography,\n    Checkbox\n} from '@material-ui/core';\nimport moment from 'moment';\nimport { BasicTextField } from 'Components/UI';\nimport { KeyboardDatePicker } from '@material-ui/pickers';\n\ninterface IEditPoliciesProps {\n    classes?: any,\n    rows: any,\n    dataChanges: (data) => void,\n}\n\nexport const EditPolicies: React.FC<IEditPoliciesProps> = (props: IEditPoliciesProps): JSX.Element => {\n    const {\n        rows,\n        classes,\n        dataChanges\n    } = props;\n\n    const [editData, setEditData] = React.useState<any>({\n        description: null,\n        isProcessMaker: null,\n        effectivityDate: rows.effectivity_date,\n        expiryDate: '',\n    })\n\n    React.useEffect(() => {\n        if (rows.expiry_date && rows.expiry_date !== '') {\n            setEditData({\n                ...editData,\n                expiryDate: rows.expiry_date\n            })\n        }\n    }, [])\n\n\n    return (\n        <>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">MODULE</InputLabel>\n                <Typography><b>{rows.module}</b></Typography>\n                {/* <Link onClick={() => { setIsModuleModalOpen(true) }}>Change Module</Link> */}\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">ROLE ID</InputLabel>\n                <Typography><b>{rows.role_id}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">DESCRIPTION</InputLabel>\n                <BasicTextField\n                    value={editData.description !== null ? editData.description : rows.description}\n                    onChange={(e: any) => {\n                        setEditData({\n                            ...editData,\n                            description: e.target.value\n                        })\n                    }}\n                    onBlur={(e: any) => {\n                        dataChanges({\n                            ...editData,\n                            description: e.target.value\n                        })\n                    }}\n                    disabled={rows.is_processMaker ? true : false}\n                ></BasicTextField>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">ROLE NAME</InputLabel>\n                <Typography><b>{rows && rows.name ? rows.name : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel}>IS A PROCESSMAKER PROCESS MAKER ROLE</InputLabel>\n                <Checkbox\n                    checked={editData.isProcessMaker !== null ? editData.isProcessMaker : rows.is_processMaker}\n                    onChange={(e: any) => {\n                        setEditData({\n                            ...editData,\n                            isProcessMaker: e.target.checked\n                        })\n                        dataChanges({\n                            ...editData,\n                            isProcessMaker: e.target.checked\n                        })\n                    }}\n                    disabled={true}\n                ></Checkbox>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">STATUS</InputLabel>\n                <Typography><b>{rows && rows.status}</b></Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">EFFECTIVITY DATE</InputLabel>\n                <KeyboardDatePicker\n                    inputProps={{\n                        disabled: true\n                    }}\n                    maxDate={moment(editData.expiryDate).subtract(1, 'days').startOf('day')}\n                    maxDateMessage={\"Effectivity date cannot be higher or equal than expiry date.\"}\n                    value={editData.effectivityDate}\n                    format={'MMM DD, YYYY'}\n                    style={{ width: \"100%\", marginTop: 10 }}\n                    onChange={(e: any) => {\n                        setEditData({\n                            ...editData,\n                            effectivityDate: e\n                        })\n                        dataChanges({\n                            ...editData,\n                            effectivityDate: e\n                        })\n                    }}\n                    clearable\n                    disabled={rows.is_processMaker ? true : false}\n                    inputVariant={'outlined'}\n                />\n            </Grid>\n            <Grid item xs={6}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">EXPIRY DATE (If applicable)</InputLabel>\n                <KeyboardDatePicker\n                    inputProps={{\n                        disabled: true\n                    }}\n                    clearable\n                    minDate={moment(editData.effectivityDate).add(1, 'days').startOf('day')}\n                    minDateMessage={\"Expiry date cannot be lower or equal than effectivity date.\"}\n                    value={editData.expiryDate}\n                    style={{ width: \"100%\", marginTop: 10 }}\n                    invalidDateMessage=\"\"\n                    format=\"MMMM DD, YYYY\"\n                    onChange={(e: any) => {\n                        setEditData({\n                            ...editData,\n                            expiryDate: e,\n                        })\n                        dataChanges({\n                            ...editData,\n                            expiryDate: e,\n                        })\n                    }}\n                    disabled={rows.is_processMaker ? true : false}\n                    inputVariant={'outlined'}\n                />\n            </Grid>\n\n\n        </>\n    )\n}\n","import * as React from 'react';\nimport {\n    Grid,\n    Button,\n} from '@material-ui/core';\nimport { ReactTable } from 'Components/UI/TableComponent/ReactTable';\nimport { ReactSearch } from 'Components/UI/SearchBar/ReactSearch';\nimport { BasicSelect } from 'Components/UI';\nimport { ModalComponent } from 'Components/UI/ModalComponent/ModalComponent';\n// import BasicSelect from 'Components/UI/BasicSelect'\nimport moment from 'moment';\nimport { RolesRbacData } from '../IRolesPage';\nimport { ViewPolicies } from './ViewPolicies';\nimport { EditPolicies } from './EditPolicies';\n\nexport interface IPoliciesProps {\n    rows?: any,\n    viewOnly: boolean,\n    classes: any,\n    mode?: 'edit' | 'view' | 'add' | string,\n    moduleName?: string,\n    rbacList: any,\n    loadRbacList: any,\n    isEdited: boolean,\n    roleId?: string,\n    rbacState: any,\n    onPageChange: (page) => void,\n    onFilterChange: (filter) => void,\n    onSortChange: (sort) => void,\n    onPageSizeChange: (size) => void,\n    onSearch: (search) => void,\n    onChangeModuleName?: (name) => void,\n    onUpdateChange: (data) => void,\n    onNavigateSideMenu?: (name) => void,\n}\n\nexport const Policies: React.FC<IPoliciesProps> = (props: IPoliciesProps): JSX.Element => {\n    const {\n        rows,\n        classes,\n        mode,\n        rbacList,\n        rbacState,\n        onUpdateChange,\n        onNavigateSideMenu,\n        onPageChange,\n        onFilterChange,\n        onSortChange,\n        onPageSizeChange,\n        onSearch,\n    } = props;\n    const [isAddedModalRole, setIsAddedModalRole] = React.useState(false)\n    const [moduleValue, setModuleValue] = React.useState(0);\n    const [isModuleModalOpen, setIsModuleModalOpen] = React.useState(false);\n    const [moduleLabel, setModuleLabel] = React.useState<any>(null);\n    const [isModalConfirmChangeModule, setIsModalConfirmChangeModule] = React.useState(false)\n    const [newRbacList, setNewRbacList] = React.useState(rbacList);\n    const [loading, setLoading] = React.useState(false);\n    const [defaultFilters, setDefaultFilters] = React.useState([]);\n    const [isModalDeleteSuccessOpen, setIsModalDeleteSuccessOpen] = React.useState(false)\n    const [isModalCannotEditOpen, setIsModalCannotEditOpen] = React.useState(false);\n    const [isEdited, setIsEdited] = React.useState(false);\n    const [checkedList, setCheckedList] = React.useState<any>(rbacList);\n\n    const [editData, setEditData] = React.useState<any>({\n        description: null,\n        isProcessMaker: null,\n        effectivityDate: null,\n        expiryDate: null,\n    });\n    \n    React.useEffect(() => {\n        // console.log(loadRbacList);\n        setCheckedList(rbacList)\n    },[rbacList])\n\n    const moduleItems = [\n        {\n            name: 'User Management',\n            value: '0'\n        },\n        {\n            name: 'Membership',\n            value: '1'\n        },\n        {\n            name: 'Underwriting',\n            value: '2'\n        },\n        {\n            name: 'Customer Care',\n            value: '3'\n        },\n        {\n            name: 'Claims',\n            value: '4',\n        },\n    ]\n\n    const columns: any = [\n        {\n            name: 'operation',\n            title: 'Object and Operations',\n        },\n        {\n            name: 'policy',\n            title: 'Policies',\n        },\n        {\n            name: 'policy_id',\n            title: 'Policy ID',\n        },\n        {\n            name: 'name',\n            title: 'Name'\n        }\n    ]\n\n\n    const handleCannotEditRoleModalClose = () => {\n        setIsModalCannotEditOpen(false)\n    }\n\n    const handleDeleteSuccessRoleModalClose = () => {\n        setIsModalDeleteSuccessOpen(false)\n    }\n\n    const handleRemoveRoleModalClose = () => {\n\n    }\n\n    const handleContinueRole = () => {\n        let moduleName = moduleItems[Number(moduleValue)].name;\n        setIsModalConfirmChangeModule(false);\n        setModuleLabel(moduleName);\n        console.log(moduleLabel)\n    }\n\n    const handleOnCheckRow = (row) => {\n        setLoading(true);\n\n        let rbac = rbacList;\n        let checklist = checkedList;\n        if (newRbacList.length === 0) {\n            setNewRbacList(rbacList);\n        } else {\n            rbac = newRbacList;\n        }\n        if (rbac.length > 0) {\n            rbac.map((data: any) => {\n                if (data._id === row._id) {\n                   \n                    if (data.checked) {\n                        checklist.push(data);\n                    } else {\n                        checklist.filter(list => {\n                            return row._id !== list._id\n                        })\n                    }\n\n                    data['checked'] = !data['checked'];\n                }\n            })\n\n            setCheckedList(checklist)\n            setNewRbacList(rbac);\n        }\n\n        handleUpdateCheck(editData)\n        setLoading(false)\n    }\n\n    const handleOnCheckGroup = (group) => {\n        setLoading(true);\n        let rbac = rbacList;\n        let countChecked = 0;\n        let checklist = checkedList;\n\n        if (newRbacList.length === 0) {\n            setNewRbacList(rbacList)\n        }\n        if (rbac.length > 0) {\n            rbac.map((data: any) => {\n                if (data.name == group && data.checked === true) {\n                    countChecked++;\n                }\n            })\n        }\n        if (countChecked > 0) {\n            rbac.map((data: any) => {\n                if (data.name == group) {\n                    data['checked'] = false;\n                }\n            })\n        } else {\n            rbac.map((data: any) => {\n                if (data.name == group) {\n                    data['checked'] = true;\n                    checklist.push(data)\n                }\n            })\n        }\n        setCheckedList(checklist)\n        setNewRbacList(rbac);\n        setTimeout(() => {\n            setLoading(false);\n            handleUpdateCheck(editData)\n        }, 500)\n    }\n\n    const handleUpdateCheck = (_data: any) => {\n        console.log(checkedList);\n        console.log(rbacList);\n        var rbac: any[] = [];\n        const _rbacList = checkedList;\n\n        rbac = _rbacList.filter((data: any) => {\n            return data.checked;\n        })\n\n        console.log(rbac)\n\n        var data: RolesRbacData = {\n            module: rows.module,\n            name: rows.name,\n            role_id: rows.role_id,\n            effectivity_date: _data.effectivityDate ? moment(_data.effectivityDate).toISOString() : rows.effectivity_date,\n            description: _data.description !== null ? _data.description : rows.description,\n            status: 'active',\n            date_last_update: moment().toISOString(),\n            is_processmaker: _data.isProcessMaker ? _data.isProcessMaker : rows.is_processMaker ? rows.is_processmaker : false,\n            rbac: rbac.length > 0 ? rbac : rows.rbac,\n        }\n\n        if (mode === 'edit') {\n            data['_id'] = rows._id\n            data['status'] = rows.status\n        }\n\n        if (_data.expiryDate !== '' || null) {\n            data['expiry_date'] = moment(_data.expiryDate).toISOString();\n        }\n\n        onUpdateChange(data);\n        setIsEdited(true);\n        console.log(isEdited);\n    }\n\n    const handleOnFilterChange = (filter) => {\n        setDefaultFilters(filter);\n        onFilterChange(filter)\n    }\n\n    return (\n        <>\n            <Grid container xs={12} spacing={4}>\n                {\n                    mode === 'view' ? (\n                        <ViewPolicies\n                            rows={rows}\n                            onNavigateSideMenu={(group: string) => {\n                                onNavigateSideMenu && onNavigateSideMenu(group)\n                            }}\n                            classes={classes}\n                        />\n                    ) : mode === 'edit' ? (\n                        <EditPolicies\n                            rows={rows}\n                            classes={classes}\n                            dataChanges={(data: any) => {\n                                setEditData(data);\n                                handleUpdateCheck(data);\n                            }}\n                        />\n                    ) : null\n                }\n                <Grid item xs={12}>\n\n                    <ReactSearch\n                        onSearch={onSearch}\n                        onChange={onSearch}\n                        placeholder={'Search policies'}\n                    />\n                    {\n                        <ReactTable\n                            rows={rbacList}\n                            columns={columns}\n                            enableGrouping={true}\n                            groupColumnName={'name'}\n                            viewOnly={mode === 'view' ? true : false}\n                            enableOpenGroupTotalChecked={mode === 'view' ? true : false}\n                            message={'There are no policies to show yet.'}\n                            enableSelection={mode !== 'view' ? true : false}\n                            loading={loading}\n                            onCheckRow={(row) => {\n                                handleOnCheckRow(row)\n                            }}\n                            currentPage={rbacState.currentPage}\n                            pageSize={rbacState.limit}\n                            defaultFilters={defaultFilters}\n                            onFilterChange={handleOnFilterChange}\n                            onSortingChange={onSortChange}\n                            onSetPageSize={onPageSizeChange}\n                            onPageChange={onPageChange}\n                            totalCount={rbacState.count ? rbacState.count : 0}\n                            onSelectGroup={(group) => {\n                                handleOnCheckGroup(group)\n                            }}\n                        />\n                    }\n                </Grid>\n            </Grid>\n            <ModalComponent\n                isModalOpen={isAddedModalRole}\n                onClose={handleRemoveRoleModalClose}\n                message={'New Role has been added successfully.'}\n                title={'Added New Role'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button onClick={() => { setIsAddedModalRole(false) }} className={classes.button} variant={'contained'} color={'primary'}>Okay</Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n            <ModalComponent\n                isModalOpen={isModuleModalOpen}\n                onClose={() => {\n                    setIsModuleModalOpen(false)\n                }}\n                message={'Select a module for the role you will create:'}\n                title={'Choose a Module'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\" style={{ textAlign: 'center' }}>\n                        <Grid item xs={6}>\n                            <Button\n                                onClick={() => {\n                                    setIsModuleModalOpen(false)\n                                }}\n                                variant={'outlined'}\n                                color={'secondary'}\n                                className={classes.button}\n                            >Cancel</Button>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Button variant={'contained'} color={'primary'}\n                                className={classes.button}\n                                onClick={() => {\n                                    setIsModalConfirmChangeModule(true)\n                                    setIsModuleModalOpen(false)\n                                }}>Continue</Button>\n                        </Grid>\n                    </Grid>\n                }\n            >\n                <div style={{ width: '90%', margin: 'auto' }}>\n                    <BasicSelect\n                        menuItems={moduleItems}\n                        width={'100%'}\n                        value={moduleValue}\n                        onChange={(e: any) => {\n                            setModuleValue(e.target.value)\n                        }}\n                    />\n                </div>\n            </ModalComponent>\n            <ModalComponent\n                isModalOpen={isModalConfirmChangeModule}\n                onClose={() => {\n                    setIsModalConfirmChangeModule(false);\n                }}\n                message={'All progress made will be lost. Continue to change the module?'}\n                title={'Confirm Change Module'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button onClick={() => { setIsModalConfirmChangeModule(false) }} className={classes.button} variant={'outlined'} color={'secondary'}>Cancel</Button>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Button className={classes.button} variant={'contained'} color={'primary'} onClick={() => handleContinueRole()}>Continue</Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n\n            <ModalComponent\n                isModalOpen={isModalDeleteSuccessOpen}\n                onClose={handleDeleteSuccessRoleModalClose}\n                message={'New role has been deleted.'}\n                title={'Delete Success'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item >\n                            <Button\n                                onClick={() => {\n                                    setIsModalDeleteSuccessOpen(false)\n                                }}\n                                className={classes.button}\n                                variant={'contained'}\n                                color={'primary'}>\n                                Okay\n                            </Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n\n\n            <ModalComponent\n                isModalOpen={isModalCannotEditOpen}\n                onClose={handleCannotEditRoleModalClose}\n                message={'You do not have an assigned role to your account to perform this action.'}\n                title={'Cannot Edit Role'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item>\n                            <Button\n                                onClick={() => {\n                                    setIsModalCannotEditOpen(false)\n                                }}\n                                className={classes.button}\n                                variant={'contained'}\n                                color={'primary'}>\n                                Okay\n                            </Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n        </>\n    )\n}","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n    faSearch,\n} from '@fortawesome/free-solid-svg-icons';\nimport { getRolesUsersLists } from 'Pages/API/Calls/Roles';\n\nexport interface IAPICallSearchProps {\n    fields: any;\n    usersWithRole: any[];\n    selectedUsers: any;\n    placeholder?: string;\n    searchLabel?: string;\n    onSearch: (event) => void;\n    onChange?: (value) => void;\n}\n\nconst useStyles = makeStyles(theme => ({\n    gridContainerNoPadding: {\n        padding: theme.spacing(1),\n    },\n    searchIcon: {\n        position: \"absolute\",\n        left: \"15px\",\n        top: \"50%\",\n        transform: \"translateY(-50%)\",\n        fontSize: \"20px\",\n        color: \"#b0b0b0\"\n    },\n    searchContainer: {\n        borderRadius: \"3px\",\n        position: \"relative\",\n    },\n    searchBox: {\n        display: \"block\",\n        padding: \"12px 12px 12px 40px\",\n        borderRadius: \"3px\",\n        fontSize: \"14px\",\n        width: \"100%\",\n        border: '1px solid #c4c4c4',\n        outline: 'none',\n        overflow: \"hidden\",\n        '&:hover': {\n            border: \"1px solid rgb(39, 46, 76)\",\n        },\n        '&:focus': {\n            outline: \"2px solid #3AB77D\"\n        }\n    },\n    searchLabel: {\n        fontSize: 14,\n        display: 'block',\n        padding: '5px 0',\n    },\n    comboBoxContainer: {\n        opacity: 100,\n        position: 'absolute',\n        top: '100%',\n        left: '0%',\n        width: '100%',\n        backgroundColor: '#fff',\n        borderRadius: '2px',\n        border: '1px solid #c4c4c4',\n        padding: '10px',\n        maxHeight: 300,\n        overflowY: 'auto',\n        zIndex: 1000\n    },\n    list: {\n        fontSize: 12,\n        padding: '5px',\n        '&:hover': {\n            backgroundColor: '#dddfe3',\n        }\n    }\n}));\n\n\nexport const APICallSearch: React.FC<IAPICallSearchProps> = (props: IAPICallSearchProps): JSX.Element => {\n    const {\n        placeholder,\n        searchLabel,\n        onSearch,\n        onChange,\n    } = props;\n\n    const classes = useStyles();\n    const [newComboList, setNewComboList] = React.useState<any>(null);\n    const [searchValue, setSearchValue] = React.useState<any>(null);\n    const [typingTimeout, setTypingTimeout] = React.useState<any>(0);\n    const [isLoadingChoices, setIsLoadingChoices] = React.useState<boolean>(false);\n    const [ref, setRef] = React.useState<any>();\n    const [typing, setTyping] = React.useState<boolean>(false);\n\n    React.useEffect(() => {\n        setRef(React.createRef());\n    }, []);\n\n    const removeDuplicateRoles = (array: any[]) => {\n        let a: any[] = []\n        array.map(x => {\n            if (!a.some(b => b.role_id === x.role_id)) {\n                a.push(x)\n            }\n        })\n        return a\n    };\n\n    const getChoices = () => {\n\n        const value = searchValue;\n        console.log('SEARCH VAL', value);\n        setIsLoadingChoices(true);\n        const selectedUsernames = props.selectedUsers.map(item => { return item.username });\n        let usernames: any[] = selectedUsernames;\n        if (props.usersWithRole && props.usersWithRole.length > 0) {\n            const usernamesWithRole = props.usersWithRole.map(item => { return item.username });\n            usernames = [...usernames, ...usernamesWithRole];\n        }\n        getRolesUsersLists({ fields: props.fields, where: { username: { nin: usernames } } }, value).then(resp => {\n            const resp_body = resp.body.map(item => {\n                item.roles = removeDuplicateRoles(item.roles);\n                return {\n                    ...item, name: item.full_name ? item.full_name : item.first_name + \" \" + item.middle_name + \" \" + item.last_name,\n                }\n            });\n            setNewComboList(resp_body)\n            setIsLoadingChoices(false);\n        }).catch(e => {\n            setNewComboList([])\n            setIsLoadingChoices(false);\n            console.log(e);\n        })\n    }\n\n\n    const handleKeyPress = (event) => {\n        let value = event.target.value;\n        onChange && onChange(value)\n\n\n        if (!value) setNewComboList(null);\n    }\n\n    const searchCombo = (list) => {\n        ref.current.focus();\n        // setSearchValue(list);\n        setNewComboList(null);\n        onSearch(list);\n        setSearchValue({ name: '' });\n        setNewComboList(null);\n    }\n\n    React.useEffect(() => {\n        if (!searchValue) return;\n        setTyping(true);\n        if (typingTimeout) {\n            clearTimeout(typingTimeout);\n        }\n        setTypingTimeout(setTimeout(function () {\n            if (searchValue.length >= 3) {\n                console.log('timeout search');\n                setTyping(false);\n                getChoices();\n            }\n\n        }, 2000));\n    }, [searchValue])\n\n\n    return (\n        <>\n            <Grid container xs={12} style={{ padding: \"10px 0\" }}>\n                <Grid item xs={12}>\n                    {searchLabel ? <label className={classes.searchLabel}>{searchLabel}</label> : null}\n                </Grid>\n                <Grid item xs={12} className={classes.searchContainer} >\n                    <FontAwesomeIcon icon={faSearch} className={classes.searchIcon} />\n                    <input\n                        ref={ref}\n                        type={'search'}\n                        placeholder={placeholder}\n                        value={searchValue && searchValue.name !== undefined ? searchValue.name : null}\n                        onChange={(event) => {\n                            handleKeyPress(event)\n                            setSearchValue(event.target.value)\n                        }}\n                        onKeyUp={(event) => {\n                            let code = event.keyCode || event.which\n                            if (code == 13 && typing && searchValue && searchValue.length >= 3) {\n                                console.log('enter search');\n                                if (typingTimeout) {\n                                    clearTimeout(typingTimeout);\n                                }\n                                getChoices();\n                                setTyping(false);\n\n                            }\n                        }}\n                        className={classes.searchBox}\n                    />\n                    {isLoadingChoices ? (\n                        <div className={classes.comboBoxContainer}>Loading...</div>\n                    ) : newComboList && newComboList.length > 0 ?\n                            <div className={classes.comboBoxContainer}>\n                                <ul style={{ padding: 0, margin: 0, listStyle: 'none' }}>\n                                    {\n                                        newComboList && newComboList.map(list => (\n                                            <li className={classes.list} onClick={() => searchCombo(list)}>{list && list.name ? list.name : null}</li>\n                                        ))\n                                    }\n                                </ul>\n                            </div>\n                            : newComboList && newComboList.length === 0 ? (\n                                <div className={classes.comboBoxContainer}>No Results</div>\n                            ) : null}\n                </Grid>\n            </Grid>\n        </>\n    )\n}","import * as React from 'react';\nimport { APICallSearch } from 'Components/UI/SearchBar/APICallSearch';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\n// import { InputLabel } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Grid } from '@material-ui/core';\nimport { getRolesUsersLists } from 'Pages/API/Calls/Roles';\n\n\nconst useStyles = makeStyles(() => ({\n    selectedItems: {\n        borderRadius: 20,\n        fontSize: 13,\n        backgroundColor: '#d1d4db',\n        padding: '5px 10px'\n    },\n    xIcon: {\n        fontSize: 16\n    }\n}));\nconsole.log(useStyles);\n\ninterface IAddUserRoleBodyProps {\n    apiCallFields: any;\n\n    selectedUsers: any[];\n    setSelectedUsers: (data: any) => void;\n\n    refreshUsersWithRole: boolean;\n    usersWithRole: any[];\n    setUsersWithRole: (data: any) => void;\n\n    roleId: string;\n    onClose: () => void;\n    onSave: (items) => void;\n}\n\ninterface IAddUserRoleBodyState {\n    selectedUsers: any[];\n    filter: any;\n}\n\nexport class AddUserRoleBody extends React.Component<IAddUserRoleBodyProps, IAddUserRoleBodyState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedUsers: [],\n            filter: {\n                fields: this.props.apiCallFields,\n                where: {\n                    and: [{}],\n                    or: [\n                        { 'roles.role_id': this.props.roleId }\n                    ]\n                }\n            },\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.selectedUsers !== this.props.selectedUsers)\n            this.setState({ selectedUsers: this.props.selectedUsers });\n        if (prevProps.refreshUsersWithRole !== this.props.refreshUsersWithRole)\n            this.initializeData();\n    }\n\n    componentDidMount() {\n        this.initializeData();\n    }\n\n    removeDuplicates(array: any[]) {\n        let a: any[] = []\n        array.map(x => {\n            if (!a.some(b => b.role_id === x.role_id)) {\n                a.push(x)\n            }\n        })\n        return a\n    };\n\n    initializeData = () => {\n        getRolesUsersLists(this.state.filter, '').then(resp => {\n            let resp_body = resp.body.map(item => {\n                item.roles = this.removeDuplicates(item.roles);\n                return {\n                    ...item, name: item.full_name ? item.full_name : item.first_name + \" \" + item.middle_name + \" \" + item.last_name,\n                }\n            });\n            // this.props.setSelectedUsers(resp_body);\n            this.props.setUsersWithRole(resp_body);\n        }).catch(e => {\n            // this.props.setSelectedUsers([]);\n            console.log(e);\n        });\n    }\n\n\n    handleOnSearch = (list) => {\n        if (!list || typeof list !== 'object' || (list && !list.name) || (list && !list.username)) return;\n        let arr = this.props.selectedUsers;\n        arr.push(list);\n        this.props.setSelectedUsers(arr);\n        console.log(arr);\n    }\n\n    handleRemoveItem = (index) => {\n        let arr = this.props.selectedUsers;\n        arr.splice(index, 1);\n        this.props.setSelectedUsers(arr);\n    }\n\n    handleOnSaveItems = () => {\n        this.props.onSave(this.props.selectedUsers);\n    }\n\n    public render(): JSX.Element {\n        const classes = {\n            buttonsContainer: {\n                padding: '1em',\n            },\n            selectedContainer: {\n                padding: '3em 0 2em'\n            },\n            selectedItems: {\n                borderRadius: 20,\n                fontSize: 13,\n                backgroundColor: '#d1d4db',\n                padding: '5px 10px',\n                margin: '5px',\n                display: 'inline-block',\n            },\n            selectedText: {\n                paddingRight: '5px'\n            },\n            saveButton: {\n                width: '135px',\n                fontSize: '14px',\n                color: '#fff',\n            },\n            cancelButton: {\n                width: '135px',\n                fontSize: '14px',\n            }\n        };\n\n        return (\n            <>\n                <div style={{ minHeight: 400, minWidth: 400 }}>\n                    <APICallSearch\n                        placeholder={'Please enter at least 3 characters to search.'}\n                        fields={this.props.apiCallFields}\n                        searchLabel={'Search user account'}\n                        onSearch={this.handleOnSearch}\n                        selectedUsers={this.state.selectedUsers}\n                        usersWithRole={this.props.usersWithRole}\n                    />\n                    <div style={classes.selectedContainer}>\n                        <div>\n                            {this.state.selectedUsers.length > 0 ? <label>Selected Users</label> : null}\n                        </div>\n                        {this.state.selectedUsers.map((item, index) =>\n                            <div style={classes.selectedItems}>\n                                <span style={classes.selectedText}>{item.name}</span>\n                                <span onClick={() => this.handleRemoveItem(index)}>\n                                    <FontAwesomeIcon icon={faTimesCircle} />\n                                </span>\n                            </div>\n                        )\n                        }\n                    </div>\n                </div>\n                <Grid container spacing={3} justify=\"center\" alignItems=\"baseline\">\n                    <Grid item xs={4} style={{ paddingRight: 20 }}>\n                        <Button style={classes.cancelButton} variant=\"outlined\" color=\"secondary\" onClick={() => this.props.onClose()}>Cancel</Button>\n                    </Grid>\n                    <Grid item xs={4} style={{ paddingLeft: 20 }}>\n                        <Button disabled={this.state.selectedUsers.length < 1 ? true : false} style={classes.saveButton} variant=\"contained\" color=\"primary\" onClick={() => this.handleOnSaveItems()}>Save</Button>\n                    </Grid>\n                </Grid>\n            </>\n        )\n    }\n\n}\n// export const AddRoleBody : React.FC<IAddRoleBodyProps> = (props: IAddRoleBodyProps): JSX.Element => {\n\n// }","import * as React from 'react';\nimport { SearchUserGroup } from 'Components/UI/SearchBar/SearchUserGroup';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\n// import { InputLabel } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Grid } from '@material-ui/core';\nimport { getAllGroups } from 'Pages/API/Calls/Roles';\n\nconst useStyles = makeStyles(() => ({\n    selectedItems: {\n        borderRadius: 20,\n        fontSize: 13,\n        backgroundColor: '#d1d4db',\n        padding: '5px 10px'\n    },\n    xIcon: {\n        fontSize: 16\n    }\n}));\nconsole.log(useStyles);\n\ninterface IAddGroupRoleBodyProps {\n    onClose: () => void;\n    onSave: (items) => void;\n}\n\ninterface IAddGroupRoleBodyState {\n    selectedItems: any;\n    comboArray: any[];\n}\n\n\nexport class AddGroupRoleBody extends React.Component<IAddGroupRoleBodyProps, IAddGroupRoleBodyState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedItems: [],\n            comboArray: [],\n        }\n    }\n\n    componentDidMount() {\n        getAllGroups().then(res => {\n            console.log(res)\n            let data = {\n                body: res.body,\n                id: \"_id\",\n                group_id: \"group_id\",\n                name: \"name\",\n                description: \"description\",\n                user_count: \"user_count\",\n                effectivity_date: \"effectivity_date\",\n                date_updated: \"date_updated\",\n                is_processmaker: \"is_processmaker\",\n                pmaker_uid: \"pmaker_uid\",\n                amount_limit: \"amount_limit\",\n                roles: \"roles\",\n                status: \"status\",\n                department: \"department\",\n                expiry_date: \"expiry_date\",\n                rank: \"rank\",\n                reports_to: \"reports_to\",\n                meta_data: \"meta_data\"\n            }\n            let newChoices: any = [];\n\n            if (data.body && data.body.length > 0) {\n                data.body.map(c => {\n                    let beauty = {\n                        // value: c,\n                        id: c[data.id],\n                        group_id: c[data.group_id],\n                        name: c[data.name],\n                        description: c[data.description],\n                        user_count: c[data.user_count],\n                        effectivity_date: c[data.effectivity_date],\n                        date_updated: c[data.date_updated],\n                        is_processmaker: c[data.is_processmaker],\n                        pmaker_uid: c[data.pmaker_uid],\n                        amount_limit: c[data.amount_limit],\n                        roles: c[data.roles],\n                        status: c[data.status],\n                        department: c[data.department],\n                        expiry_date: c[data.expiry_date] ? c[data.expiry_date] : undefined,\n                        rank: c[data.rank] ? c[data.rank] : undefined,\n                        reports_to: c[data.reports_to] ? c[data.reports_to] : undefined,\n                        meta_data: c[data.meta_data] ? c[data.meta_data] : undefined\n                    }\n                    newChoices.push(beauty)\n                })\n                this.setState({\n                    comboArray: newChoices\n                })\n                console.log(this.state.comboArray)\n            }\n        }).catch(err => {\n            console.log(err);\n        })\n    }\n\n\n    handleOnSearch = (list) => {\n        console.log(list)\n        if (!list || typeof list !== 'object' || (list && !list.name)) return;\n        let arr = this.state.selectedItems;\n        arr.push(list);\n        this.setState({\n            selectedItems: arr\n        })\n        console.log(arr);\n    }\n\n    handleRemoveItem = (index) => {\n        let arr = this.state.selectedItems;\n        arr.splice(index, 1);\n        this.setState({\n            selectedItems: arr\n        })\n    }\n\n    handleOnSaveItems = () => {\n        this.props.onSave(this.state.selectedItems);\n        this.setState({\n            selectedItems: []\n        })\n    }\n\n    public render(): JSX.Element {\n        const classes = {\n            buttonsContainer: {\n                padding: '1em',\n            },\n            selectedContainer: {\n                padding: '3em 0 2em'\n            },\n            selectedItems: {\n                borderRadius: 20,\n                fontSize: 13,\n                backgroundColor: '#d1d4db',\n                padding: '5px 10px',\n                margin: '5px',\n                display: 'inline-block',\n            },\n            selectedText: {\n                paddingRight: '5px'\n            },\n            saveButton: {\n                width: '135px',\n                fontSize: '14px',\n                color: '#fff',\n            },\n            cancelButton: {\n                width: '135px',\n                fontSize: '14px',\n            }\n        };\n\n        return (\n            <>\n                <div style={{ minHeight: 400, minWidth: 400 }}>\n                    <SearchUserGroup\n                        placeholder={'Please enter at least 3 characters to search.'}\n                        searchLabel={'Search user group'}\n                        onSearch={this.handleOnSearch}\n                        comboBoxMode={true}\n                        comboListsArray={this.state.comboArray}\n                    />\n                    <div style={classes.selectedContainer}>\n                        {this.state.selectedItems.length > 0 ?\n                            <div>\n                                <label>Selected Groups</label>\n                            </div>\n                            : null}\n                        {this.state.selectedItems.map((item, index) =>\n                            <div style={classes.selectedItems}>\n                                <span style={classes.selectedText}>{item.name}</span>\n                                <span onClick={() => this.handleRemoveItem(index)}>\n                                    <FontAwesomeIcon icon={faTimesCircle} />\n                                </span>\n                            </div>\n                        )\n                        }\n                    </div>\n                </div>\n                <Grid container spacing={1}>\n                    <Grid item xs={6}>\n                        <Button style={classes.cancelButton} variant=\"outlined\" color=\"secondary\" onClick={() => this.props.onClose()}>Cancel</Button>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Button disabled={this.state.selectedItems.length < 1 ? true : false}\n                            style={classes.saveButton}\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={() => this.handleOnSaveItems()}>\n                            Add\n                        </Button>\n                    </Grid>\n                </Grid>\n            </>\n        )\n    }\n\n}\n// export const AddRoleBody : React.FC<IAddRoleBodyProps> = (props: IAddRoleBodyProps): JSX.Element => {\n\n// }","import * as React from 'react';\nimport { Typography, Grid, Link, Button } from '@material-ui/core';\nimport { ReactSearch } from 'Components/UI/SearchBar/ReactSearch';\nimport { ReactTable } from 'Components/UI/TableComponent/ReactTable';\nimport { useState } from 'react';\nimport classNames from 'classnames';\nimport { SideModalBlock } from 'Components/UI';\nimport { AddUserRoleBody } from './AddUserRoleBody';\nimport { AddGroupRoleBody } from './AddGroupRoleBody';\nimport { ModalComponent } from 'Components/UI/ModalComponent/ModalComponent';\n\nimport {\n    getRolesUsersLists,\n    attachUserRoles,\n    detachUserRoles\n} from 'Pages/API/Calls/Roles';\nimport moment from 'moment';\nimport { attachRoleToGroups } from 'Pages/API/Calls/Roles';\nimport { getAllGroupsAttachToRole } from 'Pages/API/Calls/Roles';\nimport { UI } from 'Components';\n// import { TableComponent } from './TableComponent'\n\n\n\nconst user_fields = {\n    _id: true,\n    first_name: true,\n    last_name: true,\n    middle_name: true,\n    username: true,\n    employee_id: true,\n    department: true,\n    main_module: true,\n    main_role: true,\n    group: true,\n    group_name: true,\n    reports_to: true,\n    roles: true,\n    full_name: true,\n    last_login: true,\n    status: true\n}\n\nexport interface IGroupsAndUsersProps {\n    rows?: any,\n    viewOnly: boolean,\n    classes: any,\n    openSideModalBlock?: boolean,\n}\n\nexport const GroupsAndUsers: React.FC<IGroupsAndUsersProps> = (props: IGroupsAndUsersProps): JSX.Element => {\n    const {\n        rows,\n        classes,\n    } = props;\n    const [activeItem, setActiveItem] = useState('Groups');\n    const [activeClass, setActiveClass] = useState(0);\n    const [groupShowBlock, setGroupShowBlock] = useState('none');\n    const [userShowBlock, setUserShowBlock] = useState('none');\n    const [isFetching, setIsFetching] = React.useState(false);\n    const [typingTimeout, setTypingTimeout] = React.useState<any>(0)\n    const [userList, setUserList] = useState<any>();\n    const [userTable, setUserTable] = useState<any>({\n        limit: 10,\n        skip: 0,\n        currentPage: 0,\n        order: [],\n        filter: [],\n        count: 0\n    })\n\n    // const [statuses, setStatuses] = React.useState<any>()\n    const [tableStates, setTableState] = React.useState<any>({\n        rows: [],\n        currentPage: 0,\n        totalCount: 0,\n        pageSize: 10,\n        offset: 0,\n        order: '',\n        where: {},\n        query: ''\n    })\n    const [modalProps, setModalProps] = React.useState({\n        title: '',\n        message: '',\n        open: false,\n        method: () => { }\n    });\n    const [confirmationModalProps, setConfirmationModalProps] = React.useState({\n        title: '',\n        message: '',\n        open: false,\n        method: () => { }\n    });\n    const [selectedUsers, setSelectedUsers] = useState<any[]>([]);\n    const [usersWithRole, setUsersWithRole] = useState<any[]>([]);\n    const [refreshUsers, setRefreshUsers] = useState<boolean>(false);\n    const [isConfirmDetachUserRoleModalOpen, setIsConfirmDetachUserRoleModalOpen] = useState<boolean>(false);\n    const [userDetachRole, setUserDetachRole] = useState<any>(null);\n    const [attachUserRoleNotifModalOpen, setAttachUserRoleNotifModalOpen] = useState<boolean>(false);\n    const [attachUserRoleSuccess, setAttachUserRoleSuccess] = useState<boolean>(false);\n\n\n    const userColumns: any = [\n        {\n            name: 'username',\n            title: 'Username',\n        },\n        {\n            name: 'full_name',\n            title: 'User Account',\n        },\n        {\n            name: 'last_login',\n            title: 'Last Activity Date',\n            getCellValue: row => (row.last_login ? moment(row.last_login).format('MMMM DD, YYYY') : 'N/A')\n        },\n        {\n            name: 'status',\n            title: 'Status',\n            getCellValue: row => (row.status ? row.status.charAt(0).toUpperCase() + row.status.slice(1) : '')\n        },\n        {\n            name: 'action_delete',\n            title: ' ',\n        },\n    ]\n\n    const groupsColumns: any = [\n        {\n            name: 'group_id',\n            title: 'Group ID',\n        },\n        {\n            name: 'name',\n            title: 'Group',\n        },\n        {\n            name: 'user_count',\n            title: 'Users in the Group',\n        },\n        {\n            name: 'status',\n            title: 'Status',\n        },\n        {\n            name: 'action_delete',\n            title: ' ',\n        },\n    ];\n\n    const menuItems = [\n        'Groups',\n        'Users'\n    ]\n\n\n\n\n\n    React.useEffect(() => {\n        // groups list endpoint\n        console.log(rows)\n        APIGetGroupsAttachToRoleList({\n            pageSize: 10,\n            offset: 0,\n            role_id: `${rows[\"role_id\"]}`,\n            where: {},\n            order: [\"group_id ASC\"]\n        }, true);\n    }, []);\n\n\n\n    const handleMenuClick = (item, index) => {\n        setActiveItem(item);\n        setActiveClass(index)\n        if (item == 'Users') {\n            getUserLists(\n                10,\n                0,\n                [],\n                0,\n                [],\n            )\n        }\n        if (item == 'Groups') {\n            APIGetGroupsAttachToRoleList({\n                pageSize: 10,\n                offset: 0,\n                role_id: `${rows[\"role_id\"]}`,\n                where: {},\n                order: [\"group_id ASC\"]\n            }, true);\n        }\n    }\n\n\n    const removeDuplicateRoles = (array: any[]) => {\n        let a: any[] = []\n        array.map(x => {\n            if (!a.some(b => b.role_id === x.role_id)) {\n                a.push(x)\n            }\n        })\n        return a\n    };\n\n\n\n    const attachUserRole = async (data: any) => {\n        setIsFetching(true);\n        await attachUserRoles(rows.role_id, data).then(resp => {\n            console.log(resp)\n            setAttachUserRoleSuccess(true);\n        }).catch(e => {\n            setAttachUserRoleSuccess(false);\n            console.log(e)\n        });\n        setAttachUserRoleNotifModalOpen(true);\n        setSelectedUsers([]);\n        setUserShowBlock('none');\n        getUserLists(\n            userTable.limit,\n            userTable.skip,\n            userTable.order,\n            userTable.currentPage,\n            userTable.filter,\n        );\n        setRefreshUsers(!refreshUsers);\n    }\n\n    const detachUserRole = async (data: any) => {\n        setIsConfirmDetachUserRoleModalOpen(false);\n        setIsFetching(true);\n        await detachUserRoles(rows.role_id, data).then(resp => console.log(resp)).catch(e => console.log(e));\n        setUserShowBlock('none');\n        getUserLists(\n            userTable.limit,\n            userTable.skip,\n            userTable.order,\n            userTable.currentPage,\n            userTable.filter,\n        );\n        setRefreshUsers(!refreshUsers);\n    }\n\n\n    const getUserLists = (\n        limit: number,\n        skip: number,\n        order: any,\n        page: number,\n        filter: any,\n        search?: string\n    ) => {\n\n        if (typingTimeout) {\n            clearTimeout(typingTimeout)\n        }\n\n        let _filter: any = {};\n        let _order = order.length > 0 ? `${order[0].columnName === 'full_name' ? 'first_name' : order[0].columnName} ${order[0].direction}` : [];\n\n        if (filter.length > 0) {\n            filter.map((item: any) => {\n                if (item.columnName == 'status') {\n                    if (item.value !== 'all') {\n                        _filter[item.columnName] = item.value\n                    }\n                } else if (item.columnName == 'full_name') {\n                    _filter['first_name'] = {\n                        like: `^${item.value}.*`,\n                        options: \"i\"\n                    }\n                } else if (item.columnName == 'last_login') {\n                    _filter['and'] = [\n                        { last_login: { lte: `${moment(item.value).endOf('day').toISOString()}` } },\n                        { last_login: { gte: `${moment(item.value).startOf('day').toISOString()}` } }\n                    ]\n                    // _filter['last_login'] = {\n                    //     lte: `${moment(item.value).toISOString()}`\n                    // }\n                } else {\n                    _filter[item.columnName] = {\n                        like: `^${item.value}.*`,\n                        options: \"i\"\n                    }\n                }\n            })\n        }\n\n        let params = {\n            fields: user_fields,\n            limit: limit,\n            offset: skip,\n            order: _order,\n            where: {\n                \"and\": [\n                    {\n                        \"roles.role_id\": rows.role_id,\n                    },\n                    {\n                        \"or\": [_filter]\n                    }\n                ],\n            }\n        }\n\n        setTypingTimeout(\n            setTimeout(() => {\n                // setLoading(true)\n                setIsFetching(true)\n                getRolesUsersLists(params, search ? search : '').then((response) => {\n                    const resp_body = response.body.map(item => {\n                        item.roles = removeDuplicateRoles(item.roles);\n                        return item;\n                    });\n                    setUserList(resp_body)\n                    setUserTable({\n                        currentPage: userTable.currentPage > (Math.ceil(response.count / limit) - 1) ? (Math.ceil(response.count / limit) - 1) : page,\n                        order: order,\n                        limit: limit,\n                        skip: skip,\n                        filter: filter,\n                        count: response.count\n                    })\n                    // setLoading(false)\n                    setIsFetching(false)\n                    console.log(resp_body)\n                }).catch(err => {\n                    // alert(err);\n                    setUserList([])\n                    console.log(err)\n                    setIsFetching(false)\n                    // setLoading(false)\n                })\n            }, filter.length > 0 || search ? 2000 : 0)\n        )\n    }\n\n\n\n    const APIGetGroupsAttachToRoleList = (newState?: any, saveSummary?: boolean) => {\n        setIsFetching(true)\n\n\n        getAllGroupsAttachToRole(\n            newState.role_id,\n            newState.pageSize,\n            newState.offset,\n            newState.where,\n            newState.order,\n            newState.query).then((data: any) => {\n                console.log(data)\n                if (!data.error) {\n\n                    const state = {\n                        ...newState,\n                        rows: data.body,\n                        totalCount: data.count.count\n                    }\n\n\n                    if (saveSummary && saveSummary === true) {\n                        // setStatuses(data.statuses)\n                    }\n\n                    updateTableState(state)\n\n\n                } else {\n                    const state = {\n                        ...newState,\n                        rows: [],\n                        totalCount: 0\n                    }\n\n                    updateTableState(state)\n                }\n\n                setIsFetching(false)\n            }).catch(() => {\n                console.log(\"catch\")\n                setIsFetching(false)\n                const state = {\n                    ...newState,\n                    rows: [],\n                    totalCount: 0\n                }\n\n                updateTableState(state)\n            })\n    }\n\n\n\n\n    const updateTableState = (prop) => {\n        setTableState({\n            ...tableStates,\n            ...prop\n        })\n    }\n\n\n    const onSaveAddRoleToGroup = (items) => {\n        // console.log(items)\n        setIsFetching(true)\n        let data = {\n            body: items\n        }\n        let payload: any = [];\n\n        if (tableStates && tableStates.length !== null) {\n            payload.push(...tableStates.rows)\n        }\n\n        if (data.body && data.body.length > 0) {\n            data.body.map(c => {\n                let selectedGroupId = {\n                    _id: c[\"id\"],\n                    group_id: c[\"group_id\"],\n                    name: c[\"name\"],\n                    description: c[\"description\"],\n                    user_account: c[\"user_count\"],\n                    effectivity_date: c[\"effectivity_date\"],\n                    date_updated: c[\"date_updated\"],\n                    is_processmaker: c[\"is_processmaker\"],\n                    pmaker_uid: c[\"pmaker_uid\"],\n                    amount_limit: c[\"amount_limit\"],\n                    user_count: c[\"user_count\"],\n                    status: c[\"status\"],\n                    department: c[\"department\"]\n                }\n                let groupRoles = c[\"roles\"]\n\n                if (groupRoles && groupRoles.length > 0) {\n                    var isUnique = true;\n                    groupRoles.map(e => {\n                        var role_id = e[\"_id\"];\n                        if (role_id === rows[\"_id\"]) {\n                            isUnique = false;\n                        }\n                    })\n                    if (isUnique === true) {\n                        groupRoles.push(rows)\n                    }\n                } else {\n                    groupRoles.push(rows)\n                }\n\n                let expiry_date = c[\"expiry_date\"]\n                let rank = c[\"rank\"]\n                let reports_to = c[\"reports_to\"]\n                let meta_data = c[\"meta_data\"]\n\n                if (expiry_date !== undefined) { selectedGroupId[\"expiry_date\"] = expiry_date }\n                if (rank !== undefined) { selectedGroupId[\"rank\"] = rank }\n                if (reports_to !== undefined) { selectedGroupId[\"reports_to\"] = reports_to }\n                if (meta_data !== undefined) { selectedGroupId[\"meta_data\"] = meta_data }\n\n                selectedGroupId[\"roles\"] = groupRoles;\n\n\n\n                payload.push(selectedGroupId)\n            })\n        }\n        console.log(payload)\n        attachRoleToGroups(rows[\"role_id\"], payload, '').then((resp: any) => {\n            setIsFetching(false)\n            if (!resp.error) {\n                setModalProps({\n                    ...modalProps,\n                    open: true,\n                    title: 'User group added!',\n                    message: 'New user group have been successfully added.',\n                    method: handleCloseModalProps\n                })\n            } else {\n                setModalProps({\n                    ...modalProps,\n                    open: true,\n                    title: 'Add User Group Failed!',\n                    message: 'Something went wrong. New user wasn’t added.',\n                    method: handleCloseModalProps\n                })\n            }\n        }).catch((err) => {\n            setIsFetching(false)\n            setModalProps({\n                ...modalProps,\n                open: true,\n                title: 'Add User Group Failed!',\n                message: err.message,\n                method: handleCloseModalProps\n            })\n            console.log(err)\n        })\n        console.log(JSON.stringify(payload));\n    }\n\n    const handleDeleteGroup = (roledata) => {\n        handleCloseConfirmationModalProps();\n        setIsFetching(true)\n        let data = {\n            body: [roledata],\n            label: \"name\"\n        }\n\n        let payload: any = [];\n\n        if (data.body && data.body.length > 0) {\n            data.body.map(a => {\n                let selectedGroupToRemove = {\n                    _id: a[\"_id\"],\n                    group_id: a[\"group_id\"],\n                    name: a[\"name\"],\n                    description: a[\"description\"],\n                    user_account: a[\"user_count\"],\n                    effectivity_date: a[\"effectivity_date\"],\n                    date_updated: a[\"date_updated\"],\n                    is_processmaker: a[\"is_processmaker\"],\n                    pmaker_uid: a[\"pmaker_uid\"],\n                    amount_limit: a[\"amount_limit\"],\n                    user_count: a[\"user_count\"],\n                    department: a[\"department\"],\n                    status: a.status.props.children\n                }\n                let groupRoles = a[\"roles\"]\n                let newGroupRoles: any = [];\n\n                if (groupRoles && groupRoles.length > 0) {\n\n                    groupRoles.map(e => {\n                        var role_id = e[\"_id\"];\n                        if (role_id === rows[\"_id\"]) {\n                            newGroupRoles.push(e)\n                        }\n                    })\n                }\n\n                let expiry_date = a[\"expiry_date\"]\n                let rank = a[\"rank\"]\n                let reports_to = a[\"reports_to\"]\n                let meta_data = a[\"meta_data\"]\n\n                if (expiry_date !== undefined) { selectedGroupToRemove[\"expiry_date\"] = expiry_date }\n                if (rank !== undefined) { selectedGroupToRemove[\"rank\"] = rank }\n                if (reports_to !== undefined) { selectedGroupToRemove[\"reports_to\"] = reports_to }\n                if (meta_data !== undefined) { selectedGroupToRemove[\"meta_data\"] = meta_data }\n\n                selectedGroupToRemove[\"roles\"] = newGroupRoles;\n                payload.push(selectedGroupToRemove)\n            })\n        }\n        console.log(payload)\n        attachRoleToGroups(rows[\"role_id\"], payload, 'remove').then((resp: any) => {\n            setIsFetching(false)\n            if (!resp.error) {\n                setModalProps({\n                    ...modalProps,\n                    open: true,\n                    title: 'User group removed!',\n                    message: `${roledata[\"name\"]} has been successfully removed.`,\n                    method: handleCloseModalProps\n                })\n            } else {\n                setModalProps({\n                    ...modalProps,\n                    open: true,\n                    title: 'Remove User Group Failed!',\n                    message: 'Something went wrong. User group wasn’t removed.',\n                    method: handleCloseModalProps\n                })\n            }\n        }).catch((err) => {\n            setIsFetching(false)\n            setModalProps({\n                ...modalProps,\n                open: true,\n                title: 'Removed User Group Failed!',\n                message: err.message,\n                method: handleCloseModalProps\n            })\n            console.log(err)\n        })\n        console.log(JSON.stringify(payload));\n\n    }\n\n\n    const rowDataFixer = (array: any) => {\n        let newEntry: any = [];\n        if (array.length > 0) {\n            array.forEach(data => {\n                let newRow = {\n                    ...data,\n                    group_id: `${data.group_id}`,\n                    name: data.hasOwnProperty('name') ? data.name : 'N/A',\n                    user_count: data.hasOwnProperty('user_count') ? data.user_count : 'N/A',\n                    status: data.hasOwnProperty('status') ? <span style={{ textTransform: 'capitalize' }}>{data.status}</span> : 'N/A',\n                }\n\n                newEntry.push(newRow)\n            })\n\n            return newEntry\n        }\n\n        return []\n    }\n\n    const handleTimeOutGroupSearch = (value) => {\n        if (typingTimeout) {\n            clearTimeout(typingTimeout);\n        }\n\n        setTypingTimeout(setTimeout(function () {\n            const state = {\n                currentPage: 0,\n                pageSize: tableStates.pageSize,\n                offset: 0,\n                role_id: `${rows[\"role_id\"]}`,\n                order: tableStates.order ? tableStates.order : \"group_id ASC\",\n                where: tableStates.where,\n                query: value\n            }\n\n            APIGetGroupsAttachToRoleList(state)\n\n        }, 3000));\n    }\n\n\n    const handleSearchGroup = (e) => {\n        if (typingTimeout) {\n            clearTimeout(typingTimeout);\n        }\n        const state = {\n            currentPage: 0,\n            pageSize: tableStates.pageSize,\n            offset: 0,\n            role_id: `${rows[\"role_id\"]}`,\n            order: tableStates.order ? tableStates.order : \"group_id ASC\",\n            where: tableStates.where,\n            query: e\n        }\n\n        APIGetGroupsAttachToRoleList(state)\n\n    }\n\n\n    const onFilterChange = (value) => {\n        if (typingTimeout) {\n            clearTimeout(typingTimeout);\n        }\n\n        setTypingTimeout(setTimeout(function () {\n            const state = {\n                currentPage: 0,\n                pageSize: tableStates.pageSize,\n                offset: 0,\n                role_id: `${rows[\"role_id\"]}`,\n                order: tableStates.order ? tableStates.order : \"group_id ASC\",\n                where: {},\n                query: tableStates.query\n            }\n\n            value.map(w =>\n                w.columnName === 'group_id' && w.value !== '' ?\n                    state.where['group_id'] = parseInt(w.value)\n                    : w.columnName === 'name' ?\n                        state.where['name'] = {\n                            like: `${w.value}.*`,\n                            options: 'i'\n                        }\n                        : w.columnName === 'user_count' && w.value !== '' ?\n                            state.where[\"user_count\"] = parseInt(w.value)\n                            : w.columnName === 'status' && w.value !== 'all' ?\n                                state.where[\"status\"] = w.value\n                                : ''\n            )\n\n            console.log(state)\n            APIGetGroupsAttachToRoleList(state)\n        }, 3000));\n    }\n\n    const onCurrentPageChange = (value) => {\n        const state = {\n            pageSize: tableStates.pageSize,\n            currentPage: value,\n            role_id: `${rows[\"role_id\"]}`,\n            order: tableStates.order ? tableStates.order : \"group_id ASC\",\n            offset: tableStates.pageSize * value,\n            where: tableStates.where,\n            query: tableStates.query\n        }\n\n        APIGetGroupsAttachToRoleList(state)\n    }\n\n    const onPageSizeChange = (value) => {\n        const state = {\n            pageSize: value,\n            offset: tableStates.offset,\n            role_id: `${rows[\"role_id\"]}`,\n            order: tableStates.order ? tableStates.order : \"group_id ASC\",\n            where: tableStates.where,\n            query: tableStates.query\n        }\n\n        if (tableStates.currentPage > (Math.ceil(tableStates.totalCount / value) - 1)) {\n            state['currentPage'] = ((Math.ceil(tableStates.totalCount / value) - 1))\n            state['offset'] = ((Math.ceil(tableStates.totalCount / value) - 1)) * value\n        }\n\n        APIGetGroupsAttachToRoleList(state)\n    }\n\n    const onSortingChange = (value) => {\n\n        let filter = {\n            ...value[0],\n            direction: value[0].direction.toUpperCase()\n        }\n\n        let a = Object.values(filter).join(' ')\n\n        const state = {\n            pageSize: tableStates.pageSize,\n            offset: tableStates.offset,\n            role_id: `${rows[\"role_id\"]}`,\n            order: [a],\n            where: tableStates.where,\n            query: tableStates.query\n        }\n\n        APIGetGroupsAttachToRoleList(state)\n    }\n\n\n    const handleCloseModalProps = () => {\n        setModalProps({\n            ...modalProps,\n            open: false\n        })\n        setGroupShowBlock('none')\n        APIGetGroupsAttachToRoleList({\n            pageSize: 10,\n            offset: 0,\n            role_id: `${rows[\"role_id\"]}`,\n            where: {},\n            order: [\"group_id ASC\"]\n        }, true);\n    };\n\n    const handleOpenConfirmationModalProps = (data) => {\n        console.log(\"this is for deletion\")\n        console.log(data)\n        setConfirmationModalProps({\n            ...confirmationModalProps,\n            open: true,\n            title: \"Remove from role\",\n            message: `Are you sure you want to remove ${data.name} from the role ${rows[\"name\"]}?`,\n            method: () => { handleDeleteGroup(data) }\n        });\n    }\n\n    const handleCloseConfirmationModalProps = () => {\n        setConfirmationModalProps({\n            ...confirmationModalProps,\n            open: false\n        })\n    };\n\n\n    return (\n        <>\n            {isFetching && <UI.LoadingIndicator />}\n            <Grid container xs={12}>\n                <Grid item xs={12}>\n                    <Typography><b>Attached Groups and Users</b></Typography>\n                </Grid>\n                <Grid item xs={12}>\n                    <Grid container xs={12} alignItems={'center'}>\n                        <Grid item xs={6}>\n                            <ul style={{ padding: '0', margin: '0' }}>\n                                {\n                                    menuItems.map((item, i) => (\n                                        <li className={classes.menuList}>\n                                            <Link\n                                                className={classNames(classes.menuLink, activeClass === i ? classes.LinkActive : null)}\n                                                onClick={() => handleMenuClick(item, i)}>\n                                                {item}\n                                            </Link>\n                                        </li>\n                                    ))\n                                }\n                            </ul>\n                        </Grid>\n                        <Grid item xs={6} className={classes.alignRight}>\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12}>\n                    {\n                        activeItem == 'Groups' ?\n                            <>\n                                <Grid className={classes.alignRight}>\n                                    <Link onClick={() => { setGroupShowBlock('block') }}> Add to this role</Link>\n                                </Grid>\n                                <ReactSearch\n                                    onChange={handleTimeOutGroupSearch}\n                                    placeholder={'Search a user group'}\n                                    onSearch={handleSearchGroup} />\n                                <ReactTable\n                                    rows={rowDataFixer(tableStates.rows)}\n                                    columns={groupsColumns}\n                                    viewOnly={false}\n                                    enableSelection={false}\n                                    totalCount={tableStates.totalCount}\n                                    currentPage={tableStates.currentPage}\n                                    pageSize={tableStates.pageSize}\n                                    columnExtensions={\n                                        [{\n                                            columnName: 'action_delete',\n                                            width: 75,\n                                            wordWrapEnabled: true,\n                                            align: 'center'\n                                        }]\n                                    }\n                                    message={'There are no groups to show yet.'}\n                                    sortingStateColumnExtensions={[\n                                        { columnName: 'action_delete', sortingEnabled: false }\n                                    ]}\n                                    onFilterChange={onFilterChange}\n                                    onPageChange={onCurrentPageChange}\n                                    onSetPageSize={onPageSizeChange}\n                                    onSortingChange={onSortingChange}\n                                    onDeleteRow={(row) => {\n                                        handleOpenConfirmationModalProps(row)\n                                    }}\n                                />\n                            </>\n                            : null\n                    }\n                    {\n                        activeItem == 'Users' ?\n                            <>\n                                <Grid className={classes.alignRight}>\n                                    <Link onClick={() => { setUserShowBlock('block') }}> Add to this role</Link>\n                                </Grid>\n                                <ReactSearch\n                                    onSearch={(search: string) => {\n                                        getUserLists(\n                                            userTable.limit,\n                                            userTable.skip,\n                                            userTable.order,\n                                            userTable.currentPage,\n                                            userTable.filter,\n                                            search\n                                        )\n                                    }}\n                                    onChange={(search: string) => {\n                                        getUserLists(\n                                            userTable.limit,\n                                            userTable.skip,\n                                            userTable.order,\n                                            userTable.currentPage,\n                                            userTable.filter,\n                                            search\n                                        )\n                                    }}\n                                    placeholder={'Search a user account'} />\n                                <ReactTable\n                                    rows={userList ? userList : []}\n                                    columns={userColumns}\n                                    columnExtensions={\n                                        [{\n                                            columnName: 'action_delete',\n                                            width: 75,\n                                            wordWrapEnabled: true,\n                                            align: 'center'\n                                        }]\n                                    }\n                                    message={'There are no user accounts to show yet.'}\n                                    sortingStateColumnExtensions={[\n                                        { columnName: 'action_delete', sortingEnabled: false }\n                                    ]}\n                                    onDeleteRow={(row) => {\n                                        setUserDetachRole(row);\n                                        setIsConfirmDetachUserRoleModalOpen(true);\n                                        console.log(row, 'rowdeleted');\n                                    }}\n                                    currentPage={userTable.currentPage}\n                                    pageSize={userTable.limit}\n                                    totalCount={userTable.count}\n                                    defaultFilters={userTable.filter}\n                                    onFilterChange={(filter: any) => {\n                                        getUserLists(\n                                            userTable.limit,\n                                            0,\n                                            userTable.order,\n                                            0,\n                                            filter,\n                                        )\n                                    }}\n                                    onSortingChange={(sort: any) => {\n                                        getUserLists(\n                                            userTable.limit,\n                                            userTable.skip,\n                                            sort,\n                                            userTable.currentPage,\n                                            userTable.filter,\n                                        )\n                                    }}\n                                    onSetPageSize={(size: number) => {\n                                        getUserLists(\n                                            size,\n                                            userTable.skip,\n                                            userTable.order,\n                                            userTable.currentPage,\n                                            userTable.filter,\n                                        )\n                                    }}\n                                    onPageChange={(page: number) => {\n                                        let skip = page * userTable.limit\n                                        getUserLists(\n                                            userTable.limit,\n                                            skip,\n                                            userTable.order,\n                                            page,\n                                            userTable.filter,\n                                        )\n                                    }}\n\n                                />\n                            </>\n                            : null\n                    }\n                </Grid>\n            </Grid>\n\n            <SideModalBlock\n                handleClose={() => { setGroupShowBlock('none') }}\n                showBlock={activeItem == 'Groups' ? groupShowBlock : 'none'}\n                title={'Add to this Role'}>\n                <AddGroupRoleBody\n                    onClose={() => {\n                        setGroupShowBlock('none')\n                    }}\n                    onSave={(data: any) => {\n                        onSaveAddRoleToGroup(data)\n                    }}\n                />\n            </SideModalBlock>\n\n            <SideModalBlock\n                handleClose={() => { setUserShowBlock('none') }}\n                showBlock={activeItem == 'Users' ? userShowBlock : 'none'}\n                title={'Add to this Role'}>\n                <AddUserRoleBody\n                    apiCallFields={user_fields}\n                    roleId={rows.role_id}\n                    refreshUsersWithRole={refreshUsers}\n                    selectedUsers={selectedUsers}\n                    setSelectedUsers={(data: any) => setSelectedUsers([...data])}\n                    usersWithRole={usersWithRole}\n                    setUsersWithRole={(data: any) => setUsersWithRole([...data])}\n                    onClose={() => {\n                        setUserShowBlock('none')\n                    }}\n                    onSave={(data: any) => {\n                        if (!Array.isArray(data)) return;\n\n                        const attach_role_data = data.filter(user => {\n                            if (user && user.roles && user.roles.some(role => role.role_id === rows.role_id)) {\n                                return false;\n                            }\n                            return true;\n                        });\n                        console.log('ATTACH DATA', attach_role_data);\n                        attachUserRole(attach_role_data);\n                    }}\n                />\n            </SideModalBlock>\n\n\n            {/* {this modal is for success and error for both adding groups and accounts} */}\n            <ModalComponent\n                isModalOpen={modalProps.open}\n                onClose={modalProps.method}\n                message={modalProps.message}\n                title={modalProps.title}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item >\n                            <Button\n                                onClick={modalProps.method}\n                                className={classes.button}\n                                variant={'contained'}\n                                color={'primary'}>\n                                Okay\n                            </Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n\n            {/* {this modal is for confirmation for both removing groups and accounts} */}\n            <ModalComponent\n                isModalOpen={confirmationModalProps.open}\n                onClose={handleCloseConfirmationModalProps}\n                message={confirmationModalProps.message}\n                title={confirmationModalProps.title}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button\n                                onClick={handleCloseConfirmationModalProps}\n                                className={classes.button}\n                                variant={'outlined'}\n                                color={'secondary'}>\n                                Cancel\n                            </Button>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Button\n                                onClick={confirmationModalProps.method}\n                                className={classes.button}\n                                variant={'contained'}\n                                color={'primary'}>\n                                Remove\n                            </Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n\n\n            <ModalComponent\n                isModalOpen={isConfirmDetachUserRoleModalOpen}\n                onClose={() => {\n                    setIsConfirmDetachUserRoleModalOpen(false);\n                }}\n                message={`Remove ${userDetachRole && userDetachRole.full_name ? userDetachRole.full_name : 'user'} from this role?`}\n                title={'Remove from Role'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button onClick={() => { setIsConfirmDetachUserRoleModalOpen(false) }} className={classes.button} variant={'outlined'} color={'secondary'}>Cancel</Button>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Button className={classes.button} variant={'contained'} color={'primary'} onClick={() => detachUserRole([userDetachRole])}>Remove</Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n            {/* To-do: apply success and fail messages. */}\n            <ModalComponent\n                isModalOpen={attachUserRoleNotifModalOpen}\n                onClose={() => setAttachUserRoleNotifModalOpen(false)}\n                message={attachUserRoleSuccess ? 'New user account/s have been successfully added.' : 'New user account/s have been successfully added.'}\n                title={attachUserRoleSuccess ? 'User account added!' : 'User account added!'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button className={classes.button} variant={'contained'} color={'primary'} onClick={() => setAttachUserRoleNotifModalOpen(false)}>Okay</Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n        </>\n    )\n}\n","//#region Global Imports\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\n// import NEOLink from 'next/link';\n//#endregion Global Imports\n\n//#region Interface Imports\n// import { Heading } from 'Components/UI/Heading';\nimport { Store } from 'Components/Stores/IStore';\nimport { RolesActions } from './RolesActions';\nimport { IRolesPage } from './IRolesPage';\nimport { Grid, Button } from '@material-ui/core';\n// import Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { LoadingIndicator, FloatingFooter } from 'Components/UI';\nimport { Policies } from './Components/Policies';\nimport { GroupsAndUsers } from './Components/GroupsAndUsers';\nimport { SubHeader } from 'Components/UI/SubHeader';\nimport { SideMenu } from 'Components/UI/SideMenu';\nimport { ModalComponent } from 'Components/UI/ModalComponent/ModalComponent';\nimport { getRoleData, getRbacList, updateRoleRbac } from 'Pages/API/Calls/Roles';\nimport { Redirect } from 'react-router-dom';\nimport moment from 'moment'\n\n// import { LoadingIndicator } from 'Components/UI';\n//#endregion Interface Imports\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tpadding: '32px 24px 25px'\n\t},\n\tmain: {\n\t\tbackgroundColor: '#F5F7FB',\n\t\tpadding: '32px 24px',\n\t\tposition: 'relative'\n\t},\n\theadMain: {\n\t\t// backgroundColor: '#F5F7FB',\n\t},\n\tgridContainer: {\n\t\tpadding: theme.spacing(1),\n\t\tpaddingBottom: '75px'\n\t},\n\tgridContainerNoPadding: {\n\t\tpadding: theme.spacing(1),\n\t},\n\tsectionTitle: {\n\t\tfontSize: 24,\n\t\tfontWeight: 700,\n\t\tcolor: '#272e4c',\n\t},\n\tsubSectionTitle: {\n\t\tfontSize: 14,\n\t\tfontWeight: 400,\n\t\tcolor: '#272e4c',\n\t},\n\teditBtn: {\n\t\twidth: '135px',\n\t\tfontSize: '14px',\n\t\tcolor: '#fff',\n\t},\n\talignRight: {\n\t\ttextAlign: 'right',\n\t},\n\tsideBarContainer: {\n\t\tborderRight: \"1px solid #ccc\",\n\t\tpaddingRight: \"25px\",\n\t},\n\tcontentContainer: {\n\t\tpaddingLeft: \"25px\",\n\t},\n\tsideBarLists: {\n\t\tpadding: 0,\n\t\tmargin: 0,\n\t\tlistStyle: 'none'\n\t},\n\tsideBarLink: {\n\t\tcolor: \"#272e4c\",\n\t\tmargin: \"0 0 10px\",\n\t\tdisplay: \"block\"\n\t},\n\tfieldGroupTitle: {\n\t\tfontSize: 13,\n\t\tfontWeight: 700,\n\t\tcolor: '#272e4c',\n\t},\n\tlistItemTextRoot: {\n\t\tflex: 'none',\n\t},\n\tlistItemTextPrimarySelected: {\n\t\tfontSize: 14,\n\t\tfontWeight: 700,\n\t\tcolor: 'rgba(39, 46, 76, 1)',\n\t\tcursor: 'pointer',\n\t},\n\tlistItemTextPrimaryNotSelected: {\n\t\tfontSize: 14,\n\t\tfontWeight: 700,\n\t\tcolor: 'rgba(39, 46, 76, 0.3)',\n\t\tcursor: 'pointer',\n\t},\n\tdropzone: {\n\t\twidth: '460px',\n\t\theight: '88px',\n\t\tmarginTop: '10px',\n\t\tmarginBottom: '20px',\n\t\tborder: '2px dashed rgba(30, 32, 113, 0.3)',\n\t\tborderRadius: '5px',\n\t\tbackgroundColor: '#e6e8ee',\n\t\tcolor: '#7b8094',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tflexDirection: 'column',\n\t},\n\tinputLabel: {\n\t\tcolor: '#272e4c',\n\t\tfontSize: '12px',\n\t\tmarginBottom: '5px'\n\t},\n\tkeyboardDatePicker: {\n\t\tmarginTop: '10px',\n\t\tmarginBottom: '20px',\n\t\twidth: '212px',\n\t},\n\tcheckbox: {\n\t\t'&.Mui-checked': {\n\t\t\tcolor: '#1e2071',\n\t\t},\n\t},\n\tradio: {\n\t\t'&.Mui-checked': {\n\t\t\tcolor: '#1e2071',\n\t\t},\n\t},\n\tappBar: {\n\t\ttop: 'auto',\n\t\tbottom: 0,\n\t\tborder: '1px solid #707070',\n\t\tbackgroundColor: 'rgba(54, 54, 54, 0.64)',\n\t\t[theme.breakpoints.up('sm')]: {\n\t\t\twidth: 'calc(100% - 72px)',\n\t\t},\n\t},\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\tbutton: {\n\t\tmargin: '0 10px',\n\t\tminHeight: '42px',\n\t\tminWidth: '150px',\n\t\tfontSize: 14\n\t},\n\tbuttonTitle: {\n\t\tfontWeight: 700,\n\t\tfontSize: 13,\n\t},\n\tbuttonSubTitle: {\n\t\tfontWeight: 400,\n\t\tfontSize: 7,\n\t},\n\tmenuList: {\n\t\tdisplay: \"inline-block\",\n\t\tpadding: \"10px 45px 10px 0\"\n\t},\n\tmenuLink: {\n\t\tcolor: \"#929292\",\n\t\tdisplay: \"block\",\n\t\tfontSize: \"1.10em\",\n\t\t'&:hover': {\n\t\t\tcolor: \"#3ab77d\",\n\t\t}\n\t},\n\tLinkActive: {\n\t\tcolor: \"#3ab77d\",\n\t\tfontWeight: \"bold\",\n\t\ttextDecoration: \"underline\"\n\t}\n}));\n\n\nexport const RolesPage: React.FC<IRolesPage.IProps> = (props: IRolesPage.IProps): JSX.Element => {\n\tconst classes = useStyles();\n\tconst [viewOnly, setViewOnly] = useState(true);\n\tconst [isEdited, setIsEdited] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [activeItem, setActiveItem] = useState('Policies');\n\tconst [activeItemIndex, setActiveItemIndex] = useState(0);\n\tconst [isModalConfirmExitOpen, setIsModalConfirmExitOpen] = useState(false);\n\tconst [isModalConfirmSaveOpen, setIsModalConfirmSaveOpen] = useState(false);\n\tconst [isModalSaveSuccessOpen, setIsmodalSaveSuccessOpen] = useState(false);\n\tconst [mode, setMode] = useState('view');\n\t// const [dataResponse, setDataResponse ] = useState([]);\n\tconst [isOpenSideModalBlock, setIsOpenSideModalBlock] = useState(false);\n\tconst [policyResponse, setPolicyResponse] = useState<any>([]);\n\tconst [moduleName, setModuleName] = useState('User Management');\n\tconst [rbacList, setRbacList] = useState([]);\n\tconst [breadCrumbs, setBreadCrumbs] = useState<any[]>([])\n\tconst [rbacCount,] = useState(0);\n\tconst [roleId, setRoleId] = useState('');\n\tconst [policyData, setPolicyData] = useState<any>({})\n\tconst [isRedirect, setIsRedirect] = useState<boolean>(false)\n\tconst [currentModule, setCurrentModule] = useState<string>('')\n\tconst [rbacState, setRbacState] = useState<any>({\n\t\tfilter: [],\n\t\torder: '',\n\t\tlimit: 40,\n\t\tskip: 0,\n\t\tcount: 0,\n\t\tcurrentPage: 0\n\t})\n\tconst [loadRbacList, setLoadRbacList] = useState<any>({\n\t\tset: false,\n\t\tdata: [],\n\t})\n\tconst [typingTimeout, setTypingTimeout] = useState<any>(0);\n\tconst [showDeactivationWarning, setShowDeactivationWarning] = useState<boolean>(false)\n\n\tconst sideBarItems = [\n\t\t{\n\t\t\tname: 'Policies',\n\t\t\t// label: 'POLICY'\n\t\t},\n\t\t{\n\t\t\tname: 'Groups And Users',\n\t\t\t// label: 'GROUPIE'\n\t\t},\n\t];\n\n\tReact.useEffect(() => {\n\t\thandleGetRoleData()\n\t}, []);\n\n\tconst handleGetRoleData = () => {\n\t\tsetMode('view');\n\t\tsetLoading(true)\n\t\tgetRoleData(props.match.params.id).then(response => {\n\t\t\tvar _crumbs: any[] = [\n\t\t\t\t{\n\t\t\t\t\tname: \"ROLES\",\n\t\t\t\t\tlink: \"/system-admin/users/roles\"\n\t\t\t\t},\n\t\t\t];\n\t\t\t_crumbs.push({ name: response.name })\n\t\t\tsetBreadCrumbs(_crumbs);\n\t\t\tsetPolicyResponse(response);\n\t\t\tsetCurrentModule(response.module);\n\t\t\thandGetRbacList(\n\t\t\t\trbacState.filter,\n\t\t\t\trbacState.order,\n\t\t\t\trbacState.limit,\n\t\t\t\trbacState.skip,\n\t\t\t\trbacState.currentPage,\n\t\t\t\tresponse,\n\t\t\t\t'view',\n\t\t\t\t'',\n\t\t\t\tresponse.module\n\t\t\t);\n\t\t\tconsole.log(response)\n\t\t}).catch(err => {\n\t\t\tsetLoading(false)\n\t\t\tconsole.log(err)\n\t\t\talert(err);\n\t\t})\n\t}\n\n\tconst isEmpty = (obj) => {\n\t\tfor(var key in obj) {\n\t\t\tif(obj.hasOwnProperty(key))\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tconst handGetRbacList = (\n\t\tfilter: any,\n\t\tsort: any,\n\t\tlimit: number,\n\t\tskip: number,\n\t\tcurrentPage: number,\n\t\tresParam?: any,\n\t\t_mode?: string,\n\t\tsearch?: string,\n\t\tcurModule?: string\n\t) => {\n\t\tconsole.log(resParam);\n\t\t\n\t\tif (typingTimeout) {\n\t\t\tclearTimeout(typingTimeout)\n\t\t}\n\n\t\tlet _filter: any = {};\n\t\tlet _order = sort ? `${sort[0].columnName} ${sort[0].direction}` : '';\n\n\t\tif (filter.length > 0) {\n\t\t\tfilter.map((item: any) => {\n\t\t\t\t_filter[item.columnName] = {\n\t\t\t\t\tlike: `^${item.value}.*`,\n\t\t\t\t\toptions: \"i\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t_filter['module'] = {\n\t\t\t\tlike: `^${currentModule}.*`,\n\t\t\t\toptions: \"i\"\n\t\t\t}\n\t\t} else {\n\t\t\t_filter = {\n\t\t\t\tmodule: {\n\t\t\t\t\tlike: `^${curModule ? curModule : currentModule}.*`,\n\t\t\t\t\toptions: \"i\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tlet params = {\n\t\t\tlimit: limit,\n\t\t\tskip: skip,\n\t\t\torder: _order,\n\t\t\twhere: _filter\n\t\t}\n\n\t\tsetTypingTimeout(setTimeout(() => {\n\t\t\tsetLoading(true)\n\t\t\tgetRbacList(params, search ? search : '').then(response => {\n\t\t\t\tlet res = response.body;\n\t\t\t\tresParam = isEmpty(resParam) ? !isEmpty(policyData) ? policyData : policyResponse : resParam\t\n\t\t\t\t\n\t\t\t\tsetRbacState({\n\t\t\t\t\tcurrentPage: currentPage,\n\t\t\t\t\tfilter: filter,\n\t\t\t\t\torder: sort,\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\tskip: skip,\n\t\t\t\t\tcount: response.count\n\t\t\t\t})\n\n\t\t\t\tres.length > 0 && res.map((item: any) => {\n\t\t\t\t\tresParam.rbac && resParam.rbac.length > 0 && resParam.rbac.map((policy: any) => {\n\t\t\t\t\t\tif (item._id === policy._id) {\n\t\t\t\t\t\t\titem['checked'] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t// if (_mode === 'view' && resParam) {\n\t\t\t\t// \tres = res.length > 0 && res.filter((item: any) => {\n\t\t\t\t// \t\treturn item.checked ? true : false\n\t\t\t\t// \t})\n\t\t\t\t// }\n\t\t\t\tif (loadRbacList.set === false){\n\t\t\t\t\tsetLoadRbacList({\n\t\t\t\t\t\tset: true,\n\t\t\t\t\t\tdata: res,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tconsole.log(loadRbacList);\n\t\t\t\tsetRbacList(res)\n\t\t\t\tsetLoading(false)\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tsetLoading(false)\n\t\t\t\talert(err);\n\t\t\t})\n\t\t}, filter.length > 0 || search ? 2000 : 0))\n\t}\n\n\tconst editRole = () => {\n\t\tsetViewOnly(false);\n\t\tsetMode('edit');\n\t\thandGetRbacList(\n\t\t\trbacState.filter,\n\t\t\trbacState.order,\n\t\t\trbacState.limit,\n\t\t\trbacState.skip,\n\t\t\trbacState.currentPage,\n\t\t\tpolicyResponse,\n\t\t\t'edit',\n\t\t)\n\t}\n\n\tconst activeSideBarItem = (item) => {\n\t\tsetActiveItem(item);\n\t\tsetViewOnly(true);\n\t\tif (item === 'Policies') {\n\t\t\thandleGetRoleData();\n\t\t}\n\t\tsideBarItems.map((data, index) => {\n\t\t\tif (data.name === item) {\n\t\t\t\tif (item === 'Groups And Users') {\n\t\t\t\t\tsetIsOpenSideModalBlock(true)\n\t\t\t\t}\n\t\t\t\tsetActiveItemIndex(index);\n\t\t\t}\n\t\t})\n\t}\n\n\tconst handleModalConfirmationClose = () => {\n\t\tsetIsModalConfirmSaveOpen(false);\n\t\tsetIsModalConfirmExitOpen(false);\n\t}\n\n\tconst generateRoleId = (moduleName: string, count: number) => {\n\t\tlet roleId = '';\n\n\t\tswitch (moduleName) {\n\t\t\tcase 'User Management':\n\t\t\t\troleId = `UM${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Membership':\n\t\t\t\troleId = `MS${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Underwriting':\n\t\t\t\troleId = `U${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Customer Care':\n\t\t\t\troleId = `C${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Claims':\n\t\t\t\troleId = `CL${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Franchising':\n\t\t\t\troleId = `FR${count}`\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\troleId = `UM${count}`\n\t\t\t\tbreak;\n\t\t}\n\t\treturn roleId;\n\t}\n\n\tconst handleChangeModuleName = (moduleName) => {\n\t\tsetRoleId(generateRoleId(moduleName, rbacCount));\n\t}\n\n\n\tconst handleOnSave = () => {\n\t\tlet data = policyData;\n\n\t\tif (!data[\"expiry_date\"] && data.expiry_date === null) {\n\t\t\tdelete data.expiry_date\n\t\t}\n\n\t\tdata.rbac && data.rbac.map((rbac: any) => {\n\t\t\tif (rbac.checked) {\n\t\t\t\tdelete rbac.checked\n\t\t\t}\n\t\t})\n\t\tsetLoading(true)\n\t\tupdateRoleRbac(data._id, data).then((response: any) => {\n\t\t\tconsole.log(response)\n\t\t\tsetMode('view');\n\t\t\thandGetRbacList(\n\t\t\t\trbacState.filter,\n\t\t\t\trbacState.order,\n\t\t\t\trbacState.limit,\n\t\t\t\trbacState.skip,\n\t\t\t\trbacState.currentPage,\n\t\t\t\tresponse,\n\t\t\t\t'view',\n\t\t\t)\n\t\t\tsetPolicyResponse(response)\n\t\t\tsetIsmodalSaveSuccessOpen(true)\n\t\t\tsetIsModalConfirmSaveOpen(false);\n\t\t\tsetBreadCrumbs([\n\t\t\t\t{\n\t\t\t\t\tname: \"ROLES\",\n\t\t\t\t\tlink: \"/system-admin/users/roles\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: response.name\n\t\t\t\t}\n\t\t\t])\n\t\t\tsetModuleName(response.module)\n\t\t\tsetLoading(false);\n\t\t\tsetIsEdited(false);\n\t\t}).catch(err => {\n\t\t\tsetLoading(false)\n\t\t\talert(err);\n\t\t})\n\t}\n\n\tconst handleRemoveAllChanges = () => {\n\t\thandleGetRoleData()\n\t\thandGetRbacList(\n\t\t\trbacState.filter,\n\t\t\trbacState.order,\n\t\t\trbacState.limit,\n\t\t\trbacState.skip,\n\t\t\trbacState.currentPage,\n\t\t\tpolicyResponse,\n\t\t\t'view',\n\t\t)\n\t\tsetIsModalConfirmExitOpen(false)\n\t\tsetIsRedirect(true)\n\t}\n\n\tconst renderSaveChangesMessage = () => {\n\t\tif (showDeactivationWarning)\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<span>Save all changes made?</span>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<strong>NOTE:</strong><br />\n\t\t\t\t\t<span>You changed the expiry date of this role. This will deactivate the role.</span>\n\t\t\t\t</>\n\t\t\t)\n\t\telse\n\t\t\treturn 'Save all changes made?'\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\tisRedirect &&\n\t\t\t\t<Redirect\n\t\t\t\t\tto={{\n\t\t\t\t\t\tpathname: '/system-admin/users',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t}\n\t\t\t<SubHeader\n\t\t\t\theadingTitle={breadCrumbs[1] ? breadCrumbs[1].name : ''}\n\t\t\t\tbreadCrumbsArray={breadCrumbs}\n\t\t\t\tbuttonFunc={editRole}\n\t\t\t\tbuttonName={'Edit Role'}\n\t\t\t\tlayoutType={'layout_1'}\n\t\t\t\tenableButton={mode === 'view' && activeItem === 'Policies' && policyResponse.is_processmaker === false ? true : false}\n\t\t\t></SubHeader>\n\t\t\t<div className={classes.main}>\n\t\t\t\t{loading ?\n\t\t\t\t\t(<LoadingIndicator />) : null\n\t\t\t\t}\n\t\t\t\t<Grid container xs={12}>\n\t\t\t\t\t<Grid item xs={3} className={classes.sideBarContainer}>\n\t\t\t\t\t\t<SideMenu\n\t\t\t\t\t\t\titems={sideBarItems}\n\t\t\t\t\t\t\tactiveItems={activeSideBarItem}\n\t\t\t\t\t\t\tsetActiveItem={activeItemIndex}\n\t\t\t\t\t\t></SideMenu>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={9} className={classes.contentContainer}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactiveItem == 'Policies' &&\n\t\t\t\t\t\t\t<Policies\n\t\t\t\t\t\t\t\trbacList={rbacList}\n\t\t\t\t\t\t\t\tloadRbacList={loadRbacList.data}\n\t\t\t\t\t\t\t\tmoduleName={moduleName}\n\t\t\t\t\t\t\t\troleId={roleId}\n\t\t\t\t\t\t\t\trows={policyResponse}\n\t\t\t\t\t\t\t\tmode={mode}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tviewOnly={viewOnly}\n\t\t\t\t\t\t\t\tisEdited={isEdited}\n\t\t\t\t\t\t\t\trbacState={rbacState}\n\t\t\t\t\t\t\t\tonSearch={(search: string) => {\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\trbacState.filter,\n\t\t\t\t\t\t\t\t\t\trbacState.order,\n\t\t\t\t\t\t\t\t\t\trbacState.limit,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\trbacState.page,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonNavigateSideMenu={(name: string) => {\n\t\t\t\t\t\t\t\t\tactiveSideBarItem(name)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChangeModuleName={(name: string) => {\n\t\t\t\t\t\t\t\t\thandleChangeModuleName(name)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonUpdateChange={(data: any) => {\n\t\t\t\t\t\t\t\t\tsetPolicyData(data);\n\t\t\t\t\t\t\t\t\tsetIsEdited(true);\n\t\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonPageChange={(page: number) => {\n\t\t\t\t\t\t\t\t\tlet skip = page * rbacState.limit\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\trbacState.filter,\n\t\t\t\t\t\t\t\t\t\trbacState.order,\n\t\t\t\t\t\t\t\t\t\trbacState.limit,\n\t\t\t\t\t\t\t\t\t\tskip,\n\t\t\t\t\t\t\t\t\t\tpage,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonPageSizeChange={(size: number) => {\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\trbacState.filter,\n\t\t\t\t\t\t\t\t\t\trbacState.order,\n\t\t\t\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\t\t\t\trbacState.skip,\n\t\t\t\t\t\t\t\t\t\trbacState.currentPage,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFilterChange={(filter: any) => {\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\tfilter,\n\t\t\t\t\t\t\t\t\t\trbacState.order,\n\t\t\t\t\t\t\t\t\t\trbacState.limit,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonSortChange={(sort: any) => {\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\trbacState.filter,\n\t\t\t\t\t\t\t\t\t\tsort,\n\t\t\t\t\t\t\t\t\t\trbacState.limit,\n\t\t\t\t\t\t\t\t\t\trbacState.skip,\n\t\t\t\t\t\t\t\t\t\trbacState.currentPage,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactiveItem == 'Groups And Users' &&\n\t\t\t\t\t\t\t<GroupsAndUsers\n\t\t\t\t\t\t\t\trows={policyResponse}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tviewOnly={viewOnly}\n\t\t\t\t\t\t\t\topenSideModalBlock={isOpenSideModalBlock}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t\t<ModalComponent\n\t\t\t\tisModalOpen={isModalConfirmSaveOpen}\n\t\t\t\tonClose={handleModalConfirmationClose}\n\t\t\t\tmessage={renderSaveChangesMessage()}\n\t\t\t\ttitle={'Confirmation'}\n\t\t\t\tbuttons={\n\t\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button onClick={() => { setIsModalConfirmSaveOpen(false) }} className={classes.button} variant={'outlined'} color={'secondary'}>Cancel</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\tvariant={'contained'}\n\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\tonClick={() => handleOnSave()}\n\t\t\t\t\t\t\t>Save</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<ModalComponent\n\t\t\t\tisModalOpen={isModalConfirmExitOpen}\n\t\t\t\tonClose={handleModalConfirmationClose}\n\t\t\t\tmessage={'Exit and remove all changes made?'}\n\t\t\t\ttitle={'Confirmation'}\n\t\t\t\tbuttons={\n\t\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetIsModalConfirmExitOpen(false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\tvariant={'outlined'}\n\t\t\t\t\t\t\t\tcolor={'secondary'}\n\t\t\t\t\t\t\t>Cancel</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\tvariant={'contained'}\n\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleRemoveAllChanges()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>Continue</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<ModalComponent\n\t\t\t\tisModalOpen={isModalSaveSuccessOpen}\n\t\t\t\tonClose={() => { setIsmodalSaveSuccessOpen(false) }}\n\t\t\t\tmessage={'Changes has been saved.'}\n\t\t\t\ttitle={'Save Success'}\n\t\t\t\tbuttons={\n\t\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\tvariant={'contained'}\n\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\tonClick={() => { setIsmodalSaveSuccessOpen(false) }}\n\t\t\t\t\t\t\t>Okay</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{\n\t\t\t\tmode === 'edit' && activeItem === 'Policies' && policyData !== '' && isEdited === true ?\n\t\t\t\t\t<FloatingFooter>\n\t\t\t\t\t\t<Grid container spacing={1} justify={'flex-end'} style={{ textAlign: 'right' }}>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\tvariant={'contained'}\n\n\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#3C394A' }}\n\t\t\t\t\t\t\t\t\tonClick={() => setIsModalConfirmExitOpen(true)}\n\t\t\t\t\t\t\t\t>Cancel</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\tvariant={'contained'}\n\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tconst today = moment().startOf('day')\n\t\t\t\t\t\t\t\t\t\tconst exp_date = policyData && policyData.expiry_date ? moment(policyData.expiry_date).startOf('day') : undefined;\n\n\t\t\t\t\t\t\t\t\t\tif (today.isSameOrAfter(exp_date)) {\n\t\t\t\t\t\t\t\t\t\t\tsetShowDeactivationWarning(true)\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetShowDeactivationWarning(false)\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tsetIsModalConfirmSaveOpen(true)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>Save Changes</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</FloatingFooter>\n\n\t\t\t\t\t: \"\"\n\t\t\t}\n\t\t</>\n\t);\n}\n\nconst mapStateToProps = (state: Store) => state.roles;\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n\tMap: bindActionCreators(RolesActions.Map, dispatch),\n});\n\nexport { mapStateToProps, mapDispatchToProps };\n"],"sourceRoot":""}