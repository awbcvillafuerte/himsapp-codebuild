{"version":3,"sources":["Pages/Lookup/Components/Loader/index.tsx","Components/UI/TableComponent/ReactTable.tsx","Pages/Roles/ActionConsts.ts","Pages/Roles/RolesActions.ts","Pages/Roles/Components/ViewPolicies.tsx","Pages/Roles/Components/EditPolicies.tsx","Pages/Roles/Components/Policies.tsx","Components/UI/SearchBar/APICallSearch.tsx","Pages/Roles/Components/AddUserRoleBody.tsx","Components/UI/SearchBar/SearchUserGroup.tsx","Pages/Roles/Components/AddGroupRoleBody.tsx","Pages/Roles/Components/GroupsAndUsers.tsx","Pages/Roles/RolesPage.tsx"],"names":["useStyles","makeStyles","root","position","width","height","zIndex","right","bottom","top","left","textAlign","backgroundColor","container","outline","alignItems","justifyContent","display","flexDirection","Loader","classes","className","size","defaultProps","statusOption","value","label","Select","items","restProps","variant","style","renderValue","selected","find","item","map","i","key","FilterCell","filter","onFilter","filteringEnabled","column","name","padding","utils","MomentUtils","format","inputVariant","invalidDateMessage","onChange","date","toISOString","paddingTop","e","target","id","labelWidth","placeholder","SortingIcon","direction","marginLeft","icon","faSortUp","faSortDown","SortLabel","onSort","children","hideSortIcon","onClick","textOverflow","overflow","faSort","groupIconContentCell","expanded","verticalAlign","faAngleUp","faAngleDown","color","ReactTable","props","rows","columns","disableSort","disableFilter","enableGrouping","groupColumnName","viewOnly","message","columnExtensions","sortingStateColumnExtensions","defaultSorting","onDeleteRow","enableSelection","enableSelectAll","onRowClick","totalCount","onPageChange","currentPage","pageSize","onSetPageSize","onCheckRow","onSelectGroup","loading","onSortingChange","enableIntegratedSorting","enableOpenGroupTotalChecked","React","selection","setSelection","pageSizes","sorting","setSorting","selectCell","row","onToggle","faMinusSquare","checkedIcon","faCheckSquare","checked","stopPropagation","onCurrentPageChange","onPageSizeChange","onSelectionChange","grouping","columnName","onFiltersChange","onFilterChange","messages","noData","cellComponent","faMinusCircle","showSortingControls","sortLabelComponent","highlightRow","selectByRowClick","showSelectAll","undefined","showSelectionColumn","contentComponent","isChecked","countChecked","countItems","data","iconComponent","groupNameChecked","ActionConsts","ResetReducer","SetReducer","RolesActions","payload","type","ViewPolicies","Grid","xs","InputLabel","inputLabel","htmlFor","Typography","role_id","module","description","status","effectivity_date","moment","expiry_date","associated_groups","length","groups","date_last_update","EditPolicies","dataChanges","isProcessMaker","effectivityDate","expiryDate","editData","setEditData","onBlur","disabled","is_processMaker","Checkbox","inputProps","maxDate","subtract","startOf","maxDateMessage","marginTop","clearable","minDate","add","minDateMessage","Policies","mode","rbacList","rbacState","onUpdateChange","onNavigateSideMenu","onSortChange","onSearch","isAddedModalRole","setIsAddedModalRole","moduleValue","setModuleValue","isModuleModalOpen","setIsModuleModalOpen","moduleLabel","setModuleLabel","isModalConfirmChangeModule","setIsModalConfirmChangeModule","newRbacList","setNewRbacList","setLoading","defaultFilters","setDefaultFilters","isModalDeleteSuccessOpen","setIsModalDeleteSuccessOpen","isModalCannotEditOpen","setIsModalCannotEditOpen","isEdited","setIsEdited","checkedList","setCheckedList","moduleItems","handleUpdateCheck","_data","console","log","rbac","forEach","some","_id","push","is_processmaker","spacing","group","ReactSearch","title","checklist","list","handleOnCheckRow","limit","count","setTimeout","handleOnCheckGroup","ModalComponent","isModalOpen","onClose","buttons","justify","Button","button","margin","menuItems","moduleName","Number","handleContinueRole","theme","gridContainerNoPadding","searchIcon","transform","fontSize","searchContainer","borderRadius","searchBox","border","searchLabel","comboBoxContainer","opacity","maxHeight","overflowY","APICallSearch","newComboList","setNewComboList","searchValue","setSearchValue","typingTimeout","setTypingTimeout","isLoadingChoices","setIsLoadingChoices","ref","setRef","typing","setTyping","getChoices","usernames","selectedUsers","username","usersWithRole","usernamesWithRole","getRolesUsersLists","fields","where","nin","then","resp","resp_body","body","roles","array","a","x","b","removeDuplicateRoles","full_name","first_name","middle_name","last_name","catch","handleKeyPress","event","clearTimeout","faSearch","onKeyUp","keyCode","which","listStyle","current","focus","searchCombo","selectedItems","xIcon","AddUserRoleBody","initializeData","state","removeDuplicates","setUsersWithRole","handleOnSearch","arr","setSelectedUsers","handleRemoveItem","index","splice","handleOnSaveItems","onSave","apiCallFields","and","or","roleId","prevProps","this","setState","refreshUsersWithRole","buttonsContainer","selectedContainer","selectedText","paddingRight","saveButton","cancelButton","minHeight","minWidth","faTimesCircle","paddingLeft","SearchUserGroup","comboListsArray","comboBoxMode","searchJSONValue","combo","checkMatchString","jsonValue","newRegEx","RegExp","toLowerCase","match","handleSearch","AddGroupRoleBody","comboArray","getAllGroups","res","group_id","user_count","date_updated","pmaker_uid","amount_limit","department","rank","reports_to","meta_data","newChoices","c","beauty","err","user_fields","employee_id","main_module","main_role","group_name","last_login","GroupsAndUsers","useState","activeItem","setActiveItem","activeClass","setActiveClass","groupShowBlock","setGroupShowBlock","userShowBlock","setUserShowBlock","isFetching","setIsFetching","userList","setUserList","skip","order","userTable","setUserTable","offset","query","tableStates","setTableState","open","method","modalProps","setModalProps","confirmationModalProps","setConfirmationModalProps","refreshUsers","setRefreshUsers","isConfirmDetachUserRoleModalOpen","setIsConfirmDetachUserRoleModalOpen","userDetachRole","setUserDetachRole","attachUserRoleNotifModalOpen","setAttachUserRoleNotifModalOpen","setAttachUserRoleSuccess","userColumns","getCellValue","charAt","toUpperCase","slice","APIGetGroupsAttachToRoleList","attachUserRole","attachUserRoles","getUserLists","detachUserRole","detachUserRoles","page","search","_filter","_order","like","options","lte","endOf","gte","params","response","Math","ceil","newState","saveSummary","getAllGroupsAttachToRole","error","updateTableState","prop","handleCloseModalProps","handleOpenConfirmationModalProps","roledata","handleCloseConfirmationModalProps","selectedGroupToRemove","user_account","groupRoles","newGroupRoles","attachRoleToGroups","JSON","stringify","handleDeleteGroup","LoadingIndicator","menuList","Link","classNames","menuLink","LinkActive","handleMenuClick","alignRight","newEntry","newRow","hasOwnProperty","textTransform","rowDataFixer","wordWrapEnabled","align","sortingEnabled","w","parseInt","Object","values","join","sort","handleClose","showBlock","selectedGroupId","isUnique","onSaveAddRoleToGroup","Array","isArray","attach_role_data","user","role","mainContainer","main","headMain","gridContainer","paddingBottom","sectionTitle","fontWeight","subSectionTitle","editBtn","sideBarContainer","borderRight","contentContainer","sideBarLists","sideBarLink","fieldGroupTitle","listItemTextRoot","flex","listItemTextPrimarySelected","cursor","listItemTextPrimaryNotSelected","dropzone","marginBottom","keyboardDatePicker","checkbox","radio","appBar","breakpoints","up","grow","flexGrow","buttonTitle","buttonSubTitle","textDecoration","RolesPage","setViewOnly","activeItemIndex","setActiveItemIndex","isModalConfirmExitOpen","setIsModalConfirmExitOpen","isModalConfirmSaveOpen","setIsModalConfirmSaveOpen","isModalSaveSuccessOpen","setIsmodalSaveSuccessOpen","setMode","isOpenSideModalBlock","setIsOpenSideModalBlock","policyResponse","setPolicyResponse","setModuleName","setRbacList","breadCrumbs","setBreadCrumbs","rbacCount","setRoleId","policyData","setPolicyData","isRedirect","setIsRedirect","currentModule","setCurrentModule","setRbacState","set","loadRbacList","setLoadRbacList","showDeactivationWarning","setShowDeactivationWarning","sideBarItems","handleGetRoleData","getRoleData","_crumbs","link","handGetRbacList","alert","isEmpty","obj","resParam","_mode","curModule","getRbacList","policy","activeSideBarItem","handleModalConfirmationClose","to","pathname","SubHeader","headingTitle","breadCrumbsArray","buttonFunc","buttonName","layoutType","enableButton","SideMenu","activeItems","onChangeModuleName","generateRoleId","handleChangeModuleName","openSideModalBlock","updateRoleRbac","handleOnSave","today","exp_date","isSameOrAfter","mapStateToProps","mapDispatchToProps","dispatch","Map","bindActionCreators"],"mappings":"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","file":"static/js/4.1cda329e.chunk.js","sourcesContent":["import * as React from 'react';\nimport { CircularProgress } from '@material-ui/core/';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface LoaderProps {\n}\n\nconst useStyles = makeStyles({\n\troot: {\n        position: 'fixed',\n        width: '100%',\n        height: '100%',\n        zIndex: 9999,\n        right: '0px',\n        bottom: '0px',\n        top: '0px',\n        left: '0px',\n        textAlign: \"center\",\n        backgroundColor: 'rgba(0, 0, 0, 0.5)'\n    },\n    container:{\n        height: '100%',\n        outline: 0,\n        alignItems: 'center',\n        justifyContent: 'center',\n        display: 'flex',\n        flexDirection: 'column'\n    }\n});\n\nexport const Loader: React.FC<LoaderProps> = (): JSX.Element => {\n    // const buttonclasses = ButtonStyle();\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <div className={classes.container}>\n                <CircularProgress size={150}/>\n            </div>\n        </div>\n    )\n}\n\nLoader.defaultProps = {}","import * as React from 'react';\n// import { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport {\n    FilteringState,\n    SortingState,\n    IntegratedSorting,\n    IntegratedGrouping,\n    GroupingState,\n    SelectionState,\n    // IntegratedPaging,\n    PagingState,\n    CustomPaging,\n} from '@devexpress/dx-react-grid';\nimport {\n    Grid,\n    Table,\n    //   Toolbar,\n    TableHeaderRow,\n    TableFilterRow,\n    TableGroupRow,\n    TableSelection,\n    PagingPanel,\n    // TableFixedColumns,\n} from '@devexpress/dx-react-grid-material-ui';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n    // faSearch,\n    faCheckSquare,\n    faMinusSquare,\n    faSort,\n    faSortUp,\n    faSortDown,\n    faMinusCircle,\n    faAngleDown,\n    faAngleUp,\n    // faPlus,\n    // faCheck, \n    // faTimes\n} from '@fortawesome/free-solid-svg-icons';\nimport * as MaterialUI from '@material-ui/core';\nimport { Loader } from 'Pages/Lookup/Components/Loader';\nimport './ReactTable.scss';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers'\nimport MomentUtils from '@date-io/moment'\n\n// import { ReactSearch } from '../SearchBar/ReactSearch';\n\nexport interface IReactTableProps {\n    rows: any,\n    columns: any,\n    disableSort?: boolean,\n    disableFilter?: boolean,\n    enableIntegratedSorting?: boolean,\n    enableGrouping?: boolean,\n    enableSelection?: boolean,\n    enableSelectAll?: boolean,\n    enableOpenGroupTotalChecked?: boolean,\n    groupColumnName?: string,\n    viewOnly?: boolean,\n    columnExtensions?: any[],\n    message?: string,\n    sortingStateColumnExtensions?: any[],\n    defaultSorting?: any[],\n    totalCount?: number,\n    currentPage?: number,\n    pageSize?: number,\n    groupNameChecked?: any,\n    loading?: boolean,\n    defaultFilters?: any,\n    onDeleteRow?: (row) => void,\n    onRowClick?: (row) => void,\n    onPageChange?: (page) => void,\n    onSetPageSize?: (size) => void,\n    onCheckRow?: (row) => void,\n    onSelectGroup?: (group) => void,\n    onFilterChange?: (filter) => void,\n    onSortingChange?: (sort) => void,\n\n}\n\nconst defaultProps: IReactTableProps = {\n    rows: [],\n    columns: [],\n    enableIntegratedSorting: false,\n    disableSort: false,\n    disableFilter: false,\n    enableGrouping: false,\n    enableSelection: false,\n    enableSelectAll: false,\n    enableOpenGroupTotalChecked: false,\n    groupColumnName: '',\n    viewOnly: true,\n    columnExtensions: [],\n    message: '',\n    sortingStateColumnExtensions: [],\n    defaultSorting: [],\n    totalCount: 0,\n    currentPage: 0,\n    pageSize: 0,\n    groupNameChecked: [],\n    loading: false,\n}\n\nconst statusOption = [\n    {\n        value: 'all',\n        label: 'All',\n    },\n    {\n        value: 'active',\n        label: 'Active'\n    },\n    {\n        value: 'deactivated',\n        label: 'Deactivated'\n    },\n    {\n        value: 'awaiting activation',\n        label: 'Awaiting activation'\n    }\n]\n\nconst Select = ({ items, ...restProps }: any) => {\n    return (\n        <MaterialUI.Select\n            variant='outlined'\n            style={{ width: '100%' }}\n            renderValue={(selected: any) => {\n                if (selected != null) {\n                    const value: any = items.find((item: any) => {\n                        return item.value === selected;\n                    });\n                    if (value) {\n                        return value.label;\n                    } else {\n                        return '——';\n                    }\n                }\n                return '——';\n            }}\n            {...restProps}\n        >\n            {items.map((item: any, i: number) => (\n                <MaterialUI.MenuItem key={i} value={item.value}>\n                    {item.label}\n                </MaterialUI.MenuItem>\n            ))}\n        </MaterialUI.Select>\n    );\n};\n\nconst FilterCell = ({ filter, onFilter, filteringEnabled, classes, column }: any) => {\n    if (filteringEnabled) {\n        if (column.name === 'action_delete') {\n            return (\n                <MaterialUI.TableCell style={{ padding: '0px 10px 8px 10px' }} classes={classes}>\n                </MaterialUI.TableCell>\n            )\n        } else if (column.name === 'last_login') {\n            return (\n                <MaterialUI.TableCell style={{ padding: '0px 10px 8px 10px' }} classes={classes}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <KeyboardDatePicker\n                            variant=\"dialog\"\n                            format=\"MMMM DD, YYYY\"\n                            inputVariant=\"outlined\"\n                            value={filter ? filter.value : ''}\n                            invalidDateMessage=\"\"\n                            onChange={date => { onFilter(date ? { value: date.toISOString() } : null) }}\n                        />\n                    </MuiPickersUtilsProvider>\n                </MaterialUI.TableCell>\n            )\n        } else if (column.name === 'status') {\n            return (\n                <MaterialUI.TableCell classes={classes} style={{ paddingTop: '5px' }}>\n                    <Select\n                        onChange={e => onFilter(e.target.value ? { value: e.target.value } : null)}\n                        name={'status'}\n                        items={statusOption}\n                        id={'status'}\n                        value={filter ? filter.value : ''}\n                    />\n                </MaterialUI.TableCell>\n            )\n        } else {\n            return (\n                <MaterialUI.TableCell style={{ padding: '0px 10px 8px 10px' }} classes={classes}>\n                    <MaterialUI.OutlinedInput\n                        classes={classes}\n                        style={{ width: '100%' }}\n                        value={filter ? filter.value : ''}\n                        labelWidth={0}\n                        onChange={e => onFilter(e.target.value ? { value: e.target.value } : null)}\n                        placeholder=\"\"\n                    />\n                </MaterialUI.TableCell>\n            );\n        }\n    }\n    return null;\n}\n\nconst SortingIcon = ({ direction }: any) =>\n    direction === 'asc' ? (\n        <FontAwesomeIcon style={{ marginLeft: '10px' }} icon={faSortUp} />\n    ) : (\n            <FontAwesomeIcon style={{ marginLeft: '10px' }} icon={faSortDown} />\n        );\n\nconst SortLabel = ({ column, onSort, children, direction }: any) => {\n    if (column.name === 'action_delete') {\n        return null;\n    } else {\n        return (\n            <MaterialUI.TableSortLabel hideSortIcon={true} onClick={onSort} style={{ textOverflow: \"ellipsis\", overflow: \"hidden\" }}>\n                {children}\n                {direction ? (\n                    <SortingIcon direction={direction} />\n                ) : (\n                        <FontAwesomeIcon style={{ marginLeft: '10px' }} icon={faSort} />\n                    )}\n            </MaterialUI.TableSortLabel>\n        );\n    }\n};\n\n\nconst groupIconContentCell = ({ expanded }: any) => {\n    return (\n        <>\n            <div style={{ padding: '8.5px 12px', display: 'table-cell', verticalAlign: 'middle' }} >\n                <FontAwesomeIcon\n                    icon={expanded ? faAngleUp : faAngleDown}\n                    size={'2x'}\n                    color={\"rgba(0, 0, 0, 0.54)\"}\n                />\n            </div>\n        </>\n    )\n}\n\n\n\nexport const ReactTable: React.FC<IReactTableProps> = (props: IReactTableProps): JSX.Element => {\n    const {\n        rows,\n        columns,\n        disableSort,\n        disableFilter,\n        enableGrouping,\n        groupColumnName,\n        viewOnly,\n        message,\n        columnExtensions,\n        sortingStateColumnExtensions,\n        defaultSorting,\n        onDeleteRow,\n        enableSelection,\n        enableSelectAll,\n        onRowClick,\n        totalCount,\n        onPageChange,\n        currentPage,\n        pageSize,\n        onSetPageSize,\n        onCheckRow,\n        onSelectGroup,\n        // groupNameChecked,\n        loading,\n        onSortingChange,\n        enableIntegratedSorting,\n        enableOpenGroupTotalChecked\n    } = props;\n\n    const [selection, setSelection] = React.useState<any>([])\n    const [pageSizes] = React.useState([5, 10, 15]);\n    const [sorting, setSorting] = React.useState([])\n    // const [pageSize, setPageSize] = React.useState(10);\n    // console.log(onCheckRow, onSelectGroup)\n\n    const setSortingMethod = (e: any) => {\n        onSortingChange && onSortingChange(e)\n        setSorting(e);\n    }\n    const handleSelectionChange = (row: any[]) => {\n        if (onRowClick) {\n            if (!enableSelection) {\n                onRowClick(row[0]);\n            }\n        } else {\n            setSelection(row);\n        }\n    }\n\n    const selectCell = ({ row, onToggle }: any) => {\n        return (\n            <MaterialUI.TableCell>\n                <MaterialUI.Checkbox\n                    icon={<FontAwesomeIcon icon={faMinusSquare} />}\n                    checkedIcon={<FontAwesomeIcon icon={faCheckSquare} />}\n                    checked={row.checked}\n                    onClick={(e: any) => {\n                        e.stopPropagation();\n                        onToggle();\n                        onCheckRow && onCheckRow(row);\n                    }}\n                />\n            </MaterialUI.TableCell>\n        )\n    }\n\n\n    const groupContentCell = ({ row }: any) => {\n\n        let isChecked = false;\n        let countChecked = 0;\n        let countItems = 0;\n        rows.map(data => {\n            if (data.name === row.value) {\n                countItems++;\n                if (data.checked) {\n                    isChecked = true;\n                    countChecked++;\n                }\n            }\n        })\n\n        if (!viewOnly) {\n            return (\n                <>\n                    <div style={{ padding: '8.5px 15.5px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <MaterialUI.Checkbox\n                            icon={<FontAwesomeIcon icon={faMinusSquare} />}\n                            checkedIcon={<FontAwesomeIcon icon={faCheckSquare} />}\n                            checked={isChecked}\n                            onClick={e => {\n                                e.stopPropagation();\n                                onSelectGroup && onSelectGroup(row.value)\n                            }}\n                        />\n                    </div>\n                    <div style={{ padding: '8.5px 2px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <span>{row.value}</span>\n                    </div>\n                    <div style={{ padding: '8.5px 30px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <span>{countChecked}/{countItems}</span>\n                    </div>\n                </>\n            )\n        } else if (viewOnly && enableOpenGroupTotalChecked) {\n            return (\n                <>\n                    <div style={{ padding: '8.5px 2px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <span>{row.value}</span>\n                    </div>\n                    <div style={{ padding: '8.5px 30px', display: 'table-cell', verticalAlign: 'middle' }} >\n                        <span>{countChecked}/{countItems}</span>\n                    </div>\n                </>\n            )\n        } else {\n            return (\n                <div style={{ padding: '8.5px 2px', display: 'table-cell', verticalAlign: 'middle' }} >\n                    <span>{row.value}</span>\n                </div>\n            )\n        }\n\n    }\n\n    const tableCell = ({ value, row, column }: any) => {\n        if (column.name === 'action_delete') {\n            return (\n                <MaterialUI.TableCell style={{ padding: '0px 30px 8px 10px', textAlign: 'right' }}>\n\n                    <span\n                        onClick={() => {\n                            onDeleteRow && onDeleteRow(row)\n                        }}>\n\n                        <FontAwesomeIcon\n                            icon={faMinusCircle}\n                        />\n                    </span>\n\n                </MaterialUI.TableCell>\n            )\n        } else {\n            return (\n                <MaterialUI.TableCell>\n                    {value}\n                </MaterialUI.TableCell>\n            )\n        }\n    }\n\n\n    return (\n        <div style={{ padding: '10px 0' }}>\n            <Paper>\n                <Grid\n                    rows={rows}\n                    columns={columns}\n                >\n                    <PagingState\n                        currentPage={currentPage}\n                        onCurrentPageChange={onPageChange}\n                        pageSize={pageSize}\n                        onPageSizeChange={onSetPageSize}\n                    />\n                    <CustomPaging\n                        totalCount={totalCount}\n                    />\n                    {!disableSort && onSortingChange ? (\n                        <SortingState\n                            defaultSorting={defaultSorting}\n                            columnExtensions={sortingStateColumnExtensions}\n                            sorting={sorting}\n                            onSortingChange={setSortingMethod}\n                        />\n                    ) : !disableSort ? (\n                        <SortingState\n                            defaultSorting={[]}\n                        />\n                    ) : null}\n                    {!viewOnly ? <SelectionState\n                        selection={selection}\n                        onSelectionChange={handleSelectionChange}\n                    /> : null}\n                    {enableGrouping && groupColumnName ? <GroupingState grouping={[{ columnName: groupColumnName }]} /> : null}\n                    {!disableFilter ?\n                        <FilteringState\n                            onFiltersChange={props.onFilterChange}\n                        /> : null}\n                    {/* <IntegratedPaging /> */}\n                    {enableIntegratedSorting ? <IntegratedSorting /> : null}\n                    {enableGrouping ? <IntegratedGrouping /> : null}\n                    <Table\n                        columnExtensions={columnExtensions}\n                        messages={{ noData: message }}\n                        cellComponent={tableCell}\n                    />\n                    <TableHeaderRow\n                        showSortingControls={!disableSort}\n                        sortLabelComponent={SortLabel}\n                    />\n                    {/* <TableFixedColumns /> */}\n                    <PagingPanel\n                        pageSizes={enableGrouping ? [30, 40, 50] : pageSizes}\n                    />\n                    {!viewOnly ?\n                        <TableSelection\n                            highlightRow\n                            selectByRowClick\n                            showSelectAll={enableSelectAll ? true : undefined}\n                            cellComponent={!loading ? selectCell : selectCell}\n                            showSelectionColumn={enableSelection}\n                        /> : null}\n\n                    {enableGrouping ?\n                        <TableGroupRow\n                            contentComponent={groupContentCell}\n                            iconComponent={groupIconContentCell}\n                        ></TableGroupRow> : null}\n                    {!disableFilter ? <TableFilterRow cellComponent={FilterCell} /> : null}\n                </Grid>\n                {\n                    loading &&\n                    <Loader />\n                }\n            </Paper>\n        </div>\n    )\n}\n\nReactTable.defaultProps = defaultProps;","export const ActionConsts = {\n\tRoles: {\n\t\tResetReducer: 'Roles_ResetReducer',\n\t\tSetReducer: 'Roles_SetReducer',\n\t},\n};\n","//#region Global Imports\n// import { Dispatch } from 'redux';\n//#endregion Global Imports\n\n//#region Local Imports\nimport { ActionConsts } from './ActionConsts';\n// import { PlanetaryService } from 'Components/Services';\n//#endregion Local Imports\n\n//#region Interface Imports\n//#endregion Interface Imports\n\nexport const RolesActions = {\n\tMap: (payload: []) => ({\n\t\tpayload,\n\t\ttype: ActionConsts.Roles.SetReducer,\n\t}),\n\n\tReset: () => ({\n\t\ttype: ActionConsts.Roles.ResetReducer,\n\t}),\n\n\t// GetApod: (payload) => async (dispatch: Dispatch) => {\n\n\t// },\n};\n","import * as React from 'react';\nimport {\n    Grid,\n    InputLabel,\n    Typography\n} from '@material-ui/core';\nimport moment from 'moment';\n\ninterface IViewPoliciesProps {\n    classes?: any,\n    rows: any,\n    onNavigateSideMenu?: (group) => void,\n}\n\nexport const ViewPolicies: React.FC<IViewPoliciesProps> = (props: IViewPoliciesProps): JSX.Element => {\n    const {\n        classes,\n        rows\n    } = props;\n\n    return (\n        <>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">ROLE ID</InputLabel>\n                <Typography><b>{rows && rows.role_id ? rows.role_id : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"primary_module\">MODULE</InputLabel>\n                <Typography><b>{rows && rows.module ? rows.module : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"description\">DESCRIPTION</InputLabel>\n                <Typography><b>{rows && rows.description ? rows.description : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">ROLE NAME</InputLabel>\n                <Typography><b>{rows && rows.name ? rows.name : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"status\">STATUS</InputLabel>\n                <Typography><b>{rows && rows.status ? rows.status : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"primary_module\">EFFECTIVITY DATE</InputLabel>\n                <Typography><b>{rows && rows.effectivity_date ? moment(rows.effectivity_date).format('MMMM DD, YYYY') : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"primary_module\">EXPIRY DATE</InputLabel>\n                <Typography><b>{rows && rows.expiry_date ? moment(rows.expiry_date).format('MMMM DD, YYYY') : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"description\">ATTACHED GROUP/S</InputLabel>\n                <Typography>\n                    {\n                        rows && rows.associated_groups && rows.associated_groups.length > 0 ? rows.associated_groups.map((groups, i) => (\n                            <b>{`${groups.name}${i !== (rows.associated_groups.length - 1) ? ', ' : ''}`}</b>\n                        )) : '-'\n                    }\n                </Typography>\n                {/* <Link\n                    onClick={() => {\n                        console.log(onNavigateSideMenu)\n                        // onNavigateSideMenu && onNavigateSideMenu('Groups And Users')\n                    }}\n                >+ Add Group</Link> */}\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"primary_module\">LAST UPDATE</InputLabel>\n                <Typography><b>{rows && rows.date_last_update ? moment(rows.date_last_update).format('MMMM DD, YYYY') : '-'}</b></Typography>\n            </Grid>\n        </>\n    )\n}","import * as React from 'react';\nimport {\n    Grid,\n    InputLabel,\n    Typography,\n    Checkbox\n} from '@material-ui/core';\nimport moment from 'moment';\nimport { BasicTextField } from 'Components/UI';\nimport { KeyboardDatePicker } from '@material-ui/pickers';\n\ninterface IEditPoliciesProps {\n    classes?: any,\n    rows: any,\n    dataChanges: (data) => void,\n}\n\nexport const EditPolicies: React.FC<IEditPoliciesProps> = (props: IEditPoliciesProps): JSX.Element => {\n    const {\n        rows,\n        classes,\n        dataChanges\n    } = props;\n\n    const [editData, setEditData] = React.useState<any>({\n        description: null,\n        isProcessMaker: null,\n        effectivityDate: rows.effectivity_date,\n        expiryDate: '',\n    })\n\n    React.useEffect(() => {\n        if (rows.expiry_date && rows.expiry_date !== '') {\n            setEditData({\n                ...editData,\n                expiryDate: rows.expiry_date\n            })\n        }\n    }, [])\n\n\n    return (\n        <>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">MODULE</InputLabel>\n                <Typography><b>{rows.module}</b></Typography>\n                {/* <Link onClick={() => { setIsModuleModalOpen(true) }}>Change Module</Link> */}\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">ROLE ID</InputLabel>\n                <Typography><b>{rows.role_id}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">DESCRIPTION</InputLabel>\n                <BasicTextField\n                    value={editData.description !== null ? editData.description : rows.description}\n                    onChange={(e: any) => {\n                        setEditData({\n                            ...editData,\n                            description: e.target.value\n                        })\n                    }}\n                    onBlur={(e: any) => {\n                        dataChanges({\n                            ...editData,\n                            description: e.target.value\n                        })\n                    }}\n                    disabled={rows.is_processMaker ? true : false}\n                ></BasicTextField>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">ROLE NAME</InputLabel>\n                <Typography><b>{rows && rows.name ? rows.name : '-'}</b></Typography>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel}>IS A PROCESSMAKER PROCESS MAKER ROLE</InputLabel>\n                <Checkbox\n                    checked={editData.isProcessMaker !== null ? editData.isProcessMaker : rows.is_processMaker}\n                    onChange={(e: any) => {\n                        setEditData({\n                            ...editData,\n                            isProcessMaker: e.target.checked\n                        })\n                        dataChanges({\n                            ...editData,\n                            isProcessMaker: e.target.checked\n                        })\n                    }}\n                    disabled={true}\n                ></Checkbox>\n            </Grid>\n            <Grid item xs={4}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">STATUS</InputLabel>\n                <Typography><b>{rows && rows.status}</b></Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">EFFECTIVITY DATE</InputLabel>\n                <KeyboardDatePicker\n                    inputProps={{\n                        disabled: true\n                    }}\n                    maxDate={moment(editData.expiryDate).subtract(1, 'days').startOf('day')}\n                    maxDateMessage={\"Effectivity date cannot be higher or equal than expiry date.\"}\n                    value={editData.effectivityDate}\n                    format={'MMM DD, YYYY'}\n                    style={{ width: \"100%\", marginTop: 10 }}\n                    onChange={(e: any) => {\n                        setEditData({\n                            ...editData,\n                            effectivityDate: e\n                        })\n                        dataChanges({\n                            ...editData,\n                            effectivityDate: e\n                        })\n                    }}\n                    clearable\n                    disabled={rows.is_processMaker ? true : false}\n                    inputVariant={'outlined'}\n                />\n            </Grid>\n            <Grid item xs={6}>\n                <InputLabel className={classes.inputLabel} htmlFor=\"role_id\">EXPIRY DATE (If applicable)</InputLabel>\n                <KeyboardDatePicker\n                    inputProps={{\n                        disabled: true\n                    }}\n                    clearable\n                    minDate={moment(editData.effectivityDate).add(1, 'days').startOf('day')}\n                    minDateMessage={\"Expiry date cannot be lower or equal than effectivity date.\"}\n                    value={editData.expiryDate}\n                    style={{ width: \"100%\", marginTop: 10 }}\n                    invalidDateMessage=\"\"\n                    format=\"MMMM DD, YYYY\"\n                    onChange={(e: any) => {\n                        setEditData({\n                            ...editData,\n                            expiryDate: e,\n                        })\n                        dataChanges({\n                            ...editData,\n                            expiryDate: e,\n                        })\n                    }}\n                    disabled={rows.is_processMaker ? true : false}\n                    inputVariant={'outlined'}\n                />\n            </Grid>\n\n\n        </>\n    )\n}\n","import * as React from 'react';\nimport {\n    Grid,\n    Button,\n} from '@material-ui/core';\nimport { ReactTable } from 'Components/UI/TableComponent/ReactTable';\nimport { ReactSearch } from 'Components/UI/SearchBar/ReactSearch';\nimport { BasicSelect } from 'Components/UI';\nimport { ModalComponent } from 'Components/UI/ModalComponent/ModalComponent';\n// import BasicSelect from 'Components/UI/BasicSelect'\nimport moment from 'moment';\nimport { RolesRbacData } from '../IRolesPage';\nimport { ViewPolicies } from './ViewPolicies';\nimport { EditPolicies } from './EditPolicies';\n\nexport interface IPoliciesProps {\n    rows?: any,\n    viewOnly: boolean,\n    classes: any,\n    mode?: 'edit' | 'view' | 'add' | string,\n    moduleName?: string,\n    rbacList: any,\n    loadRbacList: any,\n    isEdited: boolean,\n    roleId?: string,\n    rbacState: any,\n    onPageChange: (page) => void,\n    onFilterChange: (filter) => void,\n    onSortChange: (sort) => void,\n    onPageSizeChange: (size) => void,\n    onSearch: (search) => void,\n    onChangeModuleName?: (name) => void,\n    onUpdateChange: (data) => void,\n    onNavigateSideMenu?: (name) => void,\n}\n\nexport const Policies: React.FC<IPoliciesProps> = (props: IPoliciesProps): JSX.Element => {\n    const {\n        rows,\n        classes,\n        mode,\n        rbacList,\n        rbacState,\n        onUpdateChange,\n        onNavigateSideMenu,\n        onPageChange,\n        onFilterChange,\n        onSortChange,\n        onPageSizeChange,\n        onSearch,\n    } = props;\n    const [isAddedModalRole, setIsAddedModalRole] = React.useState(false)\n    const [moduleValue, setModuleValue] = React.useState(0);\n    const [isModuleModalOpen, setIsModuleModalOpen] = React.useState(false);\n    const [moduleLabel, setModuleLabel] = React.useState<any>(null);\n    const [isModalConfirmChangeModule, setIsModalConfirmChangeModule] = React.useState(false)\n    const [newRbacList, setNewRbacList] = React.useState(rbacList);\n    const [loading, setLoading] = React.useState(false);\n    const [defaultFilters, setDefaultFilters] = React.useState([]);\n    const [isModalDeleteSuccessOpen, setIsModalDeleteSuccessOpen] = React.useState(false)\n    const [isModalCannotEditOpen, setIsModalCannotEditOpen] = React.useState(false);\n    const [isEdited, setIsEdited] = React.useState(false);\n    const [checkedList, setCheckedList] = React.useState<any>(rbacList);\n\n    const [editData, setEditData] = React.useState<any>({\n        description: null,\n        isProcessMaker: null,\n        effectivityDate: null,\n        expiryDate: null,\n    });\n    \n    React.useEffect(() => {\n        // console.log('heyho',rbacList);\n        setCheckedList([...rbacList])\n    },[rbacList])\n\n    const moduleItems = [\n        {\n            name: 'User Management',\n            value: '0'\n        },\n        {\n            name: 'Membership',\n            value: '1'\n        },\n        {\n            name: 'Underwriting',\n            value: '2'\n        },\n        {\n            name: 'Customer Care',\n            value: '3'\n        },\n        {\n            name: 'Claims',\n            value: '4',\n        },\n    ]\n\n    const columns: any = [\n        {\n            name: 'operation',\n            title: 'Object and Operations',\n        },\n        {\n            name: 'policy',\n            title: 'Policies',\n        },\n        {\n            name: 'policy_id',\n            title: 'Policy ID',\n        },\n        {\n            name: 'name',\n            title: 'Name'\n        }\n    ]\n\n\n    const handleCannotEditRoleModalClose = () => {\n        setIsModalCannotEditOpen(false)\n    }\n\n    const handleDeleteSuccessRoleModalClose = () => {\n        setIsModalDeleteSuccessOpen(false)\n    }\n\n    const handleRemoveRoleModalClose = () => {\n\n    }\n\n    const handleContinueRole = () => {\n        let moduleName = moduleItems[Number(moduleValue)].name;\n        setIsModalConfirmChangeModule(false);\n        setModuleLabel(moduleName);\n        console.log(moduleLabel)\n    }\n\n    const handleOnCheckRow = (row) => {\n        setLoading(true);\n\n        let rbac = rbacList;\n        let checklist = checkedList;\n        if (newRbacList.length === 0) {\n            setNewRbacList(rbacList);\n        } else {\n            rbac = newRbacList;\n        }\n        if (rbac.length > 0) {\n            rbac.map((data: any) => {\n                if (data._id === row._id) {\n                   \n                    if (data.checked) {\n                        checklist.push(data);\n                    } else {\n                        checklist.filter(list => {\n                            return row._id !== list._id\n                        })\n                    }\n\n                    data['checked'] = !data['checked'];\n                }\n            })\n\n            setCheckedList([...checklist])\n            setNewRbacList(rbac);\n        }\n\n        handleUpdateCheck(editData)\n        setLoading(false)\n    }\n\n    const handleOnCheckGroup = (group) => {\n        setLoading(true);\n        let rbac = rbacList;\n        let countChecked = 0;\n        let checklist = checkedList;\n\n        if (newRbacList.length === 0) {\n            setNewRbacList(rbacList)\n        }\n        if (rbac.length > 0) {\n            rbac.map((data: any) => {\n                if (data.name == group && data.checked === true) {\n                    countChecked++;\n                }\n            })\n        }\n        if (countChecked > 0) {\n            rbac.map((data: any) => {\n                if (data.name == group) {\n                    data['checked'] = false;\n                }\n            })\n        } else {\n            rbac.map((data: any) => {\n                if (data.name == group) {\n                    data['checked'] = true;\n                    checklist.push(data)\n                }\n            })\n        }\n        setCheckedList([...checklist])\n        setNewRbacList(rbac);\n        setTimeout(() => {\n            setLoading(false);\n            handleUpdateCheck(editData)\n        }, 500)\n    }\n\n    const handleUpdateCheck = (_data: any) => {\n        console.log(checkedList);\n        console.log(rbacList);\n        var rbac: any[] = [];\n        const _rbacList = checkedList;\n\n        _rbacList.forEach((data: any) => {\n            if(data.checked && !rbac.some(item => item._id === data._id)) rbac.push(data) \n        })\n\n        console.log(rbac)\n\n        var data: RolesRbacData = {\n            module: rows.module,\n            name: rows.name,\n            role_id: rows.role_id,\n            effectivity_date: _data.effectivityDate ? moment(_data.effectivityDate).toISOString() : rows.effectivity_date,\n            description: _data.description !== null ? _data.description : rows.description,\n            status: 'active',\n            date_last_update: moment().toISOString(),\n            is_processmaker: _data.isProcessMaker ? _data.isProcessMaker : rows.is_processMaker ? rows.is_processmaker : false,\n            rbac: rbac.length > 0 ? rbac : rows.rbac,\n        }\n\n        if (mode === 'edit') {\n            data['_id'] = rows._id\n            data['status'] = rows.status\n        }\n\n        if (_data.expiryDate !== '' || null) {\n            data['expiry_date'] = moment(_data.expiryDate).toISOString();\n        }\n\n        onUpdateChange(data);\n        setIsEdited(true);\n        console.log(isEdited);\n    }\n\n    const handleOnFilterChange = (filter) => {\n        setDefaultFilters(filter);\n        onFilterChange(filter)\n    }\n\n    return (\n        <>\n            <Grid container xs={12} spacing={4}>\n                {\n                    mode === 'view' ? (\n                        <ViewPolicies\n                            rows={rows}\n                            onNavigateSideMenu={(group: string) => {\n                                onNavigateSideMenu && onNavigateSideMenu(group)\n                            }}\n                            classes={classes}\n                        />\n                    ) : mode === 'edit' ? (\n                        <EditPolicies\n                            rows={rows}\n                            classes={classes}\n                            dataChanges={(data: any) => {\n                                setEditData(data);\n                                handleUpdateCheck(data);\n                            }}\n                        />\n                    ) : null\n                }\n                <Grid item xs={12}>\n\n                    <ReactSearch\n                        onSearch={onSearch}\n                        onChange={onSearch}\n                        placeholder={'Search policies'}\n                    />\n                    {\n                        <ReactTable\n                            rows={rbacList}\n                            columns={columns}\n                            enableGrouping={true}\n                            groupColumnName={'name'}\n                            viewOnly={mode === 'view' ? true : false}\n                            enableOpenGroupTotalChecked={mode === 'view' ? true : false}\n                            message={'There are no policies to show yet.'}\n                            enableSelection={mode !== 'view' ? true : false}\n                            loading={loading}\n                            onCheckRow={(row) => {\n                                handleOnCheckRow(row)\n                            }}\n                            currentPage={rbacState.currentPage}\n                            pageSize={rbacState.limit}\n                            defaultFilters={defaultFilters}\n                            onFilterChange={handleOnFilterChange}\n                            onSortingChange={onSortChange}\n                            onSetPageSize={onPageSizeChange}\n                            onPageChange={onPageChange}\n                            totalCount={rbacState.count ? rbacState.count : 0}\n                            onSelectGroup={(group) => {\n                                handleOnCheckGroup(group)\n                            }}\n                        />\n                    }\n                </Grid>\n            </Grid>\n            <ModalComponent\n                isModalOpen={isAddedModalRole}\n                onClose={handleRemoveRoleModalClose}\n                message={'New Role has been added successfully.'}\n                title={'Added New Role'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button onClick={() => { setIsAddedModalRole(false) }} className={classes.button} variant={'contained'} color={'primary'}>Okay</Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n            <ModalComponent\n                isModalOpen={isModuleModalOpen}\n                onClose={() => {\n                    setIsModuleModalOpen(false)\n                }}\n                message={'Select a module for the role you will create:'}\n                title={'Choose a Module'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\" style={{ textAlign: 'center' }}>\n                        <Grid item xs={6}>\n                            <Button\n                                onClick={() => {\n                                    setIsModuleModalOpen(false)\n                                }}\n                                variant={'outlined'}\n                                color={'secondary'}\n                                className={classes.button}\n                            >Cancel</Button>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Button variant={'contained'} color={'primary'}\n                                className={classes.button}\n                                onClick={() => {\n                                    setIsModalConfirmChangeModule(true)\n                                    setIsModuleModalOpen(false)\n                                }}>Continue</Button>\n                        </Grid>\n                    </Grid>\n                }\n            >\n                <div style={{ width: '90%', margin: 'auto' }}>\n                    <BasicSelect\n                        menuItems={moduleItems}\n                        width={'100%'}\n                        value={moduleValue}\n                        onChange={(e: any) => {\n                            setModuleValue(e.target.value)\n                        }}\n                    />\n                </div>\n            </ModalComponent>\n            <ModalComponent\n                isModalOpen={isModalConfirmChangeModule}\n                onClose={() => {\n                    setIsModalConfirmChangeModule(false);\n                }}\n                message={'All progress made will be lost. Continue to change the module?'}\n                title={'Confirm Change Module'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button onClick={() => { setIsModalConfirmChangeModule(false) }} className={classes.button} variant={'outlined'} color={'secondary'}>Cancel</Button>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Button className={classes.button} variant={'contained'} color={'primary'} onClick={() => handleContinueRole()}>Continue</Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n\n            <ModalComponent\n                isModalOpen={isModalDeleteSuccessOpen}\n                onClose={handleDeleteSuccessRoleModalClose}\n                message={'New role has been deleted.'}\n                title={'Delete Success'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item >\n                            <Button\n                                onClick={() => {\n                                    setIsModalDeleteSuccessOpen(false)\n                                }}\n                                className={classes.button}\n                                variant={'contained'}\n                                color={'primary'}>\n                                Okay\n                            </Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n\n\n            <ModalComponent\n                isModalOpen={isModalCannotEditOpen}\n                onClose={handleCannotEditRoleModalClose}\n                message={'You do not have an assigned role to your account to perform this action.'}\n                title={'Cannot Edit Role'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item>\n                            <Button\n                                onClick={() => {\n                                    setIsModalCannotEditOpen(false)\n                                }}\n                                className={classes.button}\n                                variant={'contained'}\n                                color={'primary'}>\n                                Okay\n                            </Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n        </>\n    )\n}","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n    faSearch,\n} from '@fortawesome/free-solid-svg-icons';\nimport { getRolesUsersLists } from 'Pages/API/Calls/Roles';\n\nexport interface IAPICallSearchProps {\n    fields: any;\n    usersWithRole: any[];\n    selectedUsers: any;\n    placeholder?: string;\n    searchLabel?: string;\n    onSearch: (event) => void;\n    onChange?: (value) => void;\n}\n\nconst useStyles = makeStyles(theme => ({\n    gridContainerNoPadding: {\n        padding: theme.spacing(1),\n    },\n    searchIcon: {\n        position: \"absolute\",\n        left: \"15px\",\n        top: \"50%\",\n        transform: \"translateY(-50%)\",\n        fontSize: \"20px\",\n        color: \"#b0b0b0\"\n    },\n    searchContainer: {\n        borderRadius: \"3px\",\n        position: \"relative\",\n    },\n    searchBox: {\n        display: \"block\",\n        padding: \"12px 12px 12px 40px\",\n        borderRadius: \"3px\",\n        fontSize: \"14px\",\n        width: \"100%\",\n        border: '1px solid #c4c4c4',\n        outline: 'none',\n        overflow: \"hidden\",\n        '&:hover': {\n            border: \"1px solid rgb(39, 46, 76)\",\n        },\n        '&:focus': {\n            outline: \"2px solid #3AB77D\"\n        }\n    },\n    searchLabel: {\n        fontSize: 14,\n        display: 'block',\n        padding: '5px 0',\n    },\n    comboBoxContainer: {\n        opacity: 100,\n        position: 'absolute',\n        top: '100%',\n        left: '0%',\n        width: '100%',\n        backgroundColor: '#fff',\n        borderRadius: '2px',\n        border: '1px solid #c4c4c4',\n        padding: '10px',\n        maxHeight: 300,\n        overflowY: 'auto',\n        zIndex: 1000\n    },\n    list: {\n        fontSize: 12,\n        padding: '5px',\n        '&:hover': {\n            backgroundColor: '#dddfe3',\n        }\n    }\n}));\n\n\nexport const APICallSearch: React.FC<IAPICallSearchProps> = (props: IAPICallSearchProps): JSX.Element => {\n    const {\n        placeholder,\n        searchLabel,\n        onSearch,\n        onChange,\n    } = props;\n\n    const classes = useStyles();\n    const [newComboList, setNewComboList] = React.useState<any>(null);\n    const [searchValue, setSearchValue] = React.useState<any>(null);\n    const [typingTimeout, setTypingTimeout] = React.useState<any>(0);\n    const [isLoadingChoices, setIsLoadingChoices] = React.useState<boolean>(false);\n    const [ref, setRef] = React.useState<any>();\n    const [typing, setTyping] = React.useState<boolean>(false);\n\n    React.useEffect(() => {\n        setRef(React.createRef());\n    }, []);\n\n    const removeDuplicateRoles = (array: any[]) => {\n        let a: any[] = []\n        array.map(x => {\n            if (!a.some(b => b.role_id === x.role_id)) {\n                a.push(x)\n            }\n        })\n        return a\n    };\n\n    const getChoices = () => {\n\n        const value = searchValue;\n        console.log('SEARCH VAL', value);\n        setIsLoadingChoices(true);\n        const selectedUsernames = props.selectedUsers.map(item => { return item.username });\n        let usernames: any[] = selectedUsernames;\n        if (props.usersWithRole && props.usersWithRole.length > 0) {\n            const usernamesWithRole = props.usersWithRole.map(item => { return item.username });\n            usernames = [...usernames, ...usernamesWithRole];\n        }\n        getRolesUsersLists({ fields: props.fields, where: { username: { nin: usernames } } }, value).then(resp => {\n            const resp_body = resp.body.map(item => {\n                item.roles = removeDuplicateRoles(item.roles);\n                return {\n                    ...item, name: item.full_name ? item.full_name : item.first_name + \" \" + item.middle_name + \" \" + item.last_name,\n                }\n            });\n            setNewComboList(resp_body)\n            setIsLoadingChoices(false);\n        }).catch(e => {\n            setNewComboList([])\n            setIsLoadingChoices(false);\n            console.log(e);\n        })\n    }\n\n\n    const handleKeyPress = (event) => {\n        let value = event.target.value;\n        onChange && onChange(value)\n\n\n        if (!value) setNewComboList(null);\n    }\n\n    const searchCombo = (list) => {\n        ref.current.focus();\n        // setSearchValue(list);\n        setNewComboList(null);\n        onSearch(list);\n        setSearchValue({ name: '' });\n        setNewComboList(null);\n    }\n\n    React.useEffect(() => {\n        if (!searchValue) return;\n        setTyping(true);\n        if (typingTimeout) {\n            clearTimeout(typingTimeout);\n        }\n        setTypingTimeout(setTimeout(function () {\n            if (searchValue.length >= 3) {\n                console.log('timeout search');\n                setTyping(false);\n                getChoices();\n            }\n\n        }, 2000));\n    }, [searchValue])\n\n\n    return (\n        <>\n            <Grid container xs={12} style={{ padding: \"10px 0\" }}>\n                <Grid item xs={12}>\n                    {searchLabel ? <label className={classes.searchLabel}>{searchLabel}</label> : null}\n                </Grid>\n                <Grid item xs={12} className={classes.searchContainer} >\n                    <FontAwesomeIcon icon={faSearch} className={classes.searchIcon} />\n                    <input\n                        ref={ref}\n                        type={'search'}\n                        placeholder={placeholder}\n                        value={searchValue && searchValue.name !== undefined ? searchValue.name : null}\n                        onChange={(event) => {\n                            handleKeyPress(event)\n                            setSearchValue(event.target.value)\n                        }}\n                        onKeyUp={(event) => {\n                            let code = event.keyCode || event.which\n                            if (code == 13 && typing && searchValue && searchValue.length >= 3) {\n                                console.log('enter search');\n                                if (typingTimeout) {\n                                    clearTimeout(typingTimeout);\n                                }\n                                getChoices();\n                                setTyping(false);\n\n                            }\n                        }}\n                        className={classes.searchBox}\n                    />\n                    {isLoadingChoices ? (\n                        <div className={classes.comboBoxContainer}>Loading...</div>\n                    ) : newComboList && newComboList.length > 0 ?\n                            <div className={classes.comboBoxContainer}>\n                                <ul style={{ padding: 0, margin: 0, listStyle: 'none' }}>\n                                    {\n                                        newComboList && newComboList.map(list => (\n                                            <li className={classes.list} onClick={() => searchCombo(list)}>{list && list.name ? list.name : null}</li>\n                                        ))\n                                    }\n                                </ul>\n                            </div>\n                            : newComboList && newComboList.length === 0 ? (\n                                <div className={classes.comboBoxContainer}>No Results</div>\n                            ) : null}\n                </Grid>\n            </Grid>\n        </>\n    )\n}","import * as React from 'react';\nimport { APICallSearch } from 'Components/UI/SearchBar/APICallSearch';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\n// import { InputLabel } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Grid } from '@material-ui/core';\nimport { getRolesUsersLists } from 'Pages/API/Calls/Roles';\n\n\nconst useStyles = makeStyles(() => ({\n    selectedItems: {\n        borderRadius: 20,\n        fontSize: 13,\n        backgroundColor: '#d1d4db',\n        padding: '5px 10px'\n    },\n    xIcon: {\n        fontSize: 16\n    }\n}));\nconsole.log(useStyles);\n\ninterface IAddUserRoleBodyProps {\n    apiCallFields: any;\n\n    selectedUsers: any[];\n    setSelectedUsers: (data: any) => void;\n\n    refreshUsersWithRole: boolean;\n    usersWithRole: any[];\n    setUsersWithRole: (data: any) => void;\n\n    roleId: string;\n    onClose: () => void;\n    onSave: (items) => void;\n}\n\ninterface IAddUserRoleBodyState {\n    selectedUsers: any[];\n    filter: any;\n}\n\nexport class AddUserRoleBody extends React.Component<IAddUserRoleBodyProps, IAddUserRoleBodyState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedUsers: [],\n            filter: {\n                fields: this.props.apiCallFields,\n                where: {\n                    and: [{}],\n                    or: [\n                        { 'roles.role_id': this.props.roleId }\n                    ]\n                }\n            },\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.selectedUsers !== this.props.selectedUsers)\n            this.setState({ selectedUsers: this.props.selectedUsers });\n        if (prevProps.refreshUsersWithRole !== this.props.refreshUsersWithRole)\n            this.initializeData();\n    }\n\n    componentDidMount() {\n        this.initializeData();\n    }\n\n    removeDuplicates(array: any[]) {\n        let a: any[] = []\n        array.map(x => {\n            if (!a.some(b => b.role_id === x.role_id)) {\n                a.push(x)\n            }\n        })\n        return a\n    };\n\n    initializeData = () => {\n        getRolesUsersLists(this.state.filter, '').then(resp => {\n            let resp_body = resp.body.map(item => {\n                item.roles = this.removeDuplicates(item.roles);\n                return {\n                    ...item, name: item.full_name ? item.full_name : item.first_name + \" \" + item.middle_name + \" \" + item.last_name,\n                }\n            });\n            // this.props.setSelectedUsers(resp_body);\n            this.props.setUsersWithRole(resp_body);\n        }).catch(e => {\n            // this.props.setSelectedUsers([]);\n            console.log(e);\n        });\n    }\n\n\n    handleOnSearch = (list) => {\n        if (!list || typeof list !== 'object' || (list && !list.name) || (list && !list.username)) return;\n        let arr = this.props.selectedUsers;\n        arr.push(list);\n        this.props.setSelectedUsers(arr);\n        console.log(arr);\n    }\n\n    handleRemoveItem = (index) => {\n        let arr = this.props.selectedUsers;\n        arr.splice(index, 1);\n        this.props.setSelectedUsers(arr);\n    }\n\n    handleOnSaveItems = () => {\n        this.props.onSave(this.props.selectedUsers);\n    }\n\n    public render(): JSX.Element {\n        const classes = {\n            buttonsContainer: {\n                padding: '1em',\n            },\n            selectedContainer: {\n                padding: '3em 0 2em'\n            },\n            selectedItems: {\n                borderRadius: 20,\n                fontSize: 13,\n                backgroundColor: '#d1d4db',\n                padding: '5px 10px',\n                margin: '5px',\n                display: 'inline-block',\n            },\n            selectedText: {\n                paddingRight: '5px'\n            },\n            saveButton: {\n                width: '135px',\n                fontSize: '14px',\n                color: '#fff',\n            },\n            cancelButton: {\n                width: '135px',\n                fontSize: '14px',\n            }\n        };\n\n        return (\n            <>\n                <div style={{ minHeight: 400, minWidth: 400 }}>\n                    <APICallSearch\n                        placeholder={'Please enter at least 3 characters to search.'}\n                        fields={this.props.apiCallFields}\n                        searchLabel={'Search user account'}\n                        onSearch={this.handleOnSearch}\n                        selectedUsers={this.state.selectedUsers}\n                        usersWithRole={this.props.usersWithRole}\n                    />\n                    <div style={classes.selectedContainer}>\n                        <div>\n                            {this.state.selectedUsers.length > 0 ? <label>Selected Users</label> : null}\n                        </div>\n                        {this.state.selectedUsers.map((item, index) =>\n                            <div style={classes.selectedItems}>\n                                <span style={classes.selectedText}>{item.name}</span>\n                                <span onClick={() => this.handleRemoveItem(index)}>\n                                    <FontAwesomeIcon icon={faTimesCircle} />\n                                </span>\n                            </div>\n                        )\n                        }\n                    </div>\n                </div>\n                <Grid container spacing={3} justify=\"center\" alignItems=\"baseline\">\n                    <Grid item xs={4} style={{ paddingRight: 20 }}>\n                        <Button style={classes.cancelButton} variant=\"outlined\" color=\"secondary\" onClick={() => this.props.onClose()}>Cancel</Button>\n                    </Grid>\n                    <Grid item xs={4} style={{ paddingLeft: 20 }}>\n                        <Button disabled={this.state.selectedUsers.length < 1 ? true : false} style={classes.saveButton} variant=\"contained\" color=\"primary\" onClick={() => this.handleOnSaveItems()}>Save</Button>\n                    </Grid>\n                </Grid>\n            </>\n        )\n    }\n\n}\n// export const AddRoleBody : React.FC<IAddRoleBodyProps> = (props: IAddRoleBodyProps): JSX.Element => {\n\n// }","import * as React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n    faSearch,\n} from '@fortawesome/free-solid-svg-icons';\n\nexport interface ISearchUserGroupProps {\n    placeholder?: string;\n    searchLabel?: string;\n    onSearch: (event) => void;\n    comboBoxMode?: boolean;\n    comboListsArray?: any;\n    onChange?: (value) => void;\n}\n\nconst useStyles = makeStyles(theme => ({\n    gridContainerNoPadding: {\n        padding: theme.spacing(1),\n    },\n    searchIcon: {\n        position: \"absolute\",\n        left: \"15px\",\n        top: \"50%\",\n        transform: \"translateY(-50%)\",\n        fontSize: \"20px\",\n        color: \"#b0b0b0\"\n    },\n    searchContainer: {\n        borderRadius: \"3px\",\n        position: \"relative\",\n    },\n    searchBox: {\n        display: \"block\",\n        padding: \"12px 12px 12px 40px\",\n        borderRadius: \"3px\",\n        fontSize: \"14px\",\n        width: \"100%\",\n        border: '1px solid #c4c4c4',\n        outline: 'none',\n        overflow: \"hidden\",\n        '&:hover': {\n            border: \"1px solid rgb(39, 46, 76)\",\n        },\n        '&:focus': {\n            outline: \"2px solid #3AB77D\"\n        }\n    },\n    searchLabel: {\n        fontSize: 14,\n        display: 'block',\n        padding: '5px 0',\n    },\n    comboBoxContainer: {\n        position: 'absolute',\n        top: '100%',\n        left: '0%',\n        width: '100%',\n        backgroundColor: '#fff',\n        borderRadius: '2px',\n        border: '1px solid #c4c4c4',\n        padding: '10px',\n        maxHeight: 140,\n        overflowY: 'auto'\n    },\n    list: {\n        fontSize: 12,\n        padding: '5px',\n        '&:hover': {\n            backgroundColor: '#dddfe3',\n        }\n    }\n}));\n\n\nexport const SearchUserGroup: React.FC<ISearchUserGroupProps> = (props: ISearchUserGroupProps): JSX.Element => {\n    const {\n        placeholder,\n        searchLabel,\n        onSearch,\n        comboListsArray,\n        comboBoxMode,\n        onChange,\n    } = props;\n\n    const classes = useStyles();\n    const [newComboList, setNewComboList] = React.useState<any>([]);\n    const [searchValue, setSearchValue] = React.useState<any>(null)\n    const [typingTimeout, setTypingTimeout] = React.useState<any>(0);\n\n    const handleKeyPress = (event) => {\n        if (event.target.value.length >= 3 || event.target.value.length === 0) {\n            let value = event.target.value;\n            onChange && onChange(value)\n\n            if (typingTimeout) {\n                clearTimeout(typingTimeout);\n            }\n\n            setTypingTimeout(setTimeout(function () {\n                if (comboBoxMode) {\n                    if (comboListsArray) {\n                        searchJSONValue(value);\n                        return;\n                    } else {\n                        return false;\n                    }\n                } else {\n                    return false;\n                }\n\n            }, 2000));\n        }\n    }\n\n    const handleSearch = (event) => {\n\n        let value = event.target.value;\n        onChange && onChange(value)\n\n        if (comboBoxMode) {\n            if (comboListsArray) {\n                searchJSONValue(value);\n                return;\n            } else {\n                return false;\n            }\n        } else {\n            return false;\n        }\n\n    }\n\n    const searchJSONValue = (value) => {\n\n        var combo = comboListsArray.filter(list => {\n            return checkMatchString(value, list.name)\n        })\n        setNewComboList(combo)\n    }\n\n    const checkMatchString = (value, jsonValue) => {\n\n        if (value !== \"\") {\n            var newRegEx = new RegExp(value.toLowerCase(), \"i\");\n            var match = jsonValue.toLowerCase().match(newRegEx);\n            return match ? true : false;\n        }\n\n        return false\n    }\n\n    const searchCombo = (list) => {\n        onSearch(list)\n        setSearchValue('');\n        setNewComboList([]);\n    }\n\n    console.log(searchValue)\n    return (\n        <>\n            <Grid container xs={12} style={{ padding: \"10px 0\" }}>\n                <Grid item xs={12}>\n                    {searchLabel ? <label className={classes.searchLabel}>{searchLabel}</label> : null}\n                </Grid>\n                <Grid item xs={12} className={classes.searchContainer} >\n                    <FontAwesomeIcon icon={faSearch} className={classes.searchIcon} />\n                    <input\n                        type={'search'}\n                        placeholder={placeholder}\n                        value={searchValue}\n                        onChange={(event) => {\n                            handleKeyPress(event)\n                            setSearchValue(event.target.value)\n                        }}\n                        onKeyUp={(event) => {\n                            let code = event.keyCode || event.which\n                            if (code == 13 && searchValue.length >= 3) {\n                                handleSearch(event)\n                            }\n                        }}\n                        className={classes.searchBox}\n                    />\n\n                    {comboBoxMode && newComboList.length > 0 ?\n                        <div className={classes.comboBoxContainer}>\n                            <ul style={{ padding: 0, margin: 0, listStyle: 'none' }}>\n                                {\n                                    newComboList && newComboList.map(list => (\n                                        <li className={classes.list} onClick={() => searchCombo(list)}>{list.name}</li>\n                                    ))\n                                }\n                            </ul>\n                        </div>\n                        : comboBoxMode && newComboList.length === 0 && searchValue !== null && searchValue !== '' ? (\n                            <div className={classes.comboBoxContainer}>No Results</div>\n                        ) : null\n                    }\n                </Grid>\n            </Grid>\n        </>\n    )\n}","import * as React from 'react';\nimport { SearchUserGroup } from 'Components/UI/SearchBar/SearchUserGroup';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\n// import { InputLabel } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Grid } from '@material-ui/core';\nimport { getAllGroups } from 'Pages/API/Calls/Roles';\n\nconst useStyles = makeStyles(() => ({\n    selectedItems: {\n        borderRadius: 20,\n        fontSize: 13,\n        backgroundColor: '#d1d4db',\n        padding: '5px 10px'\n    },\n    xIcon: {\n        fontSize: 16\n    }\n}));\nconsole.log(useStyles);\n\ninterface IAddGroupRoleBodyProps {\n    onClose: () => void;\n    onSave: (items) => void;\n}\n\ninterface IAddGroupRoleBodyState {\n    selectedItems: any;\n    comboArray: any[];\n}\n\n\nexport class AddGroupRoleBody extends React.Component<IAddGroupRoleBodyProps, IAddGroupRoleBodyState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedItems: [],\n            comboArray: [],\n        }\n    }\n\n    componentDidMount() {\n        getAllGroups().then(res => {\n            console.log(res)\n            let data = {\n                body: res.body,\n                id: \"_id\",\n                group_id: \"group_id\",\n                name: \"name\",\n                description: \"description\",\n                user_count: \"user_count\",\n                effectivity_date: \"effectivity_date\",\n                date_updated: \"date_updated\",\n                is_processmaker: \"is_processmaker\",\n                pmaker_uid: \"pmaker_uid\",\n                amount_limit: \"amount_limit\",\n                roles: \"roles\",\n                status: \"status\",\n                department: \"department\",\n                expiry_date: \"expiry_date\",\n                rank: \"rank\",\n                reports_to: \"reports_to\",\n                meta_data: \"meta_data\"\n            }\n            let newChoices: any = [];\n\n            if (data.body && data.body.length > 0) {\n                data.body.map(c => {\n                    let beauty = {\n                        // value: c,\n                        id: c[data.id],\n                        group_id: c[data.group_id],\n                        name: c[data.name],\n                        description: c[data.description],\n                        user_count: c[data.user_count],\n                        effectivity_date: c[data.effectivity_date],\n                        date_updated: c[data.date_updated],\n                        is_processmaker: c[data.is_processmaker],\n                        pmaker_uid: c[data.pmaker_uid],\n                        amount_limit: c[data.amount_limit],\n                        roles: c[data.roles],\n                        status: c[data.status],\n                        department: c[data.department],\n                        expiry_date: c[data.expiry_date] ? c[data.expiry_date] : undefined,\n                        rank: c[data.rank] ? c[data.rank] : undefined,\n                        reports_to: c[data.reports_to] ? c[data.reports_to] : undefined,\n                        meta_data: c[data.meta_data] ? c[data.meta_data] : undefined\n                    }\n                    newChoices.push(beauty)\n                })\n                this.setState({\n                    comboArray: newChoices\n                })\n                console.log(this.state.comboArray)\n            }\n        }).catch(err => {\n            console.log(err);\n        })\n    }\n\n\n    handleOnSearch = (list) => {\n        console.log(list)\n        if (!list || typeof list !== 'object' || (list && !list.name)) return;\n        let arr = this.state.selectedItems;\n        arr.push(list);\n        this.setState({\n            selectedItems: arr\n        })\n        console.log(arr);\n    }\n\n    handleRemoveItem = (index) => {\n        let arr = this.state.selectedItems;\n        arr.splice(index, 1);\n        this.setState({\n            selectedItems: arr\n        })\n    }\n\n    handleOnSaveItems = () => {\n        this.props.onSave(this.state.selectedItems);\n        this.setState({\n            selectedItems: []\n        })\n    }\n\n    public render(): JSX.Element {\n        const classes = {\n            buttonsContainer: {\n                padding: '1em',\n            },\n            selectedContainer: {\n                padding: '3em 0 2em'\n            },\n            selectedItems: {\n                borderRadius: 20,\n                fontSize: 13,\n                backgroundColor: '#d1d4db',\n                padding: '5px 10px',\n                margin: '5px',\n                display: 'inline-block',\n            },\n            selectedText: {\n                paddingRight: '5px'\n            },\n            saveButton: {\n                width: '135px',\n                fontSize: '14px',\n                color: '#fff',\n            },\n            cancelButton: {\n                width: '135px',\n                fontSize: '14px',\n            }\n        };\n\n        return (\n            <>\n                <div style={{ minHeight: 400, minWidth: 400 }}>\n                    <SearchUserGroup\n                        placeholder={'Please enter at least 3 characters to search.'}\n                        searchLabel={'Search user group'}\n                        onSearch={this.handleOnSearch}\n                        comboBoxMode={true}\n                        comboListsArray={this.state.comboArray}\n                    />\n                    <div style={classes.selectedContainer}>\n                        {this.state.selectedItems.length > 0 ?\n                            <div>\n                                <label>Selected Groups</label>\n                            </div>\n                            : null}\n                        {this.state.selectedItems.map((item, index) =>\n                            <div style={classes.selectedItems}>\n                                <span style={classes.selectedText}>{item.name}</span>\n                                <span onClick={() => this.handleRemoveItem(index)}>\n                                    <FontAwesomeIcon icon={faTimesCircle} />\n                                </span>\n                            </div>\n                        )\n                        }\n                    </div>\n                </div>\n                <Grid container spacing={1}>\n                    <Grid item xs={6}>\n                        <Button style={classes.cancelButton} variant=\"outlined\" color=\"secondary\" onClick={() => this.props.onClose()}>Cancel</Button>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Button disabled={this.state.selectedItems.length < 1 ? true : false}\n                            style={classes.saveButton}\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={() => this.handleOnSaveItems()}>\n                            Add\n                        </Button>\n                    </Grid>\n                </Grid>\n            </>\n        )\n    }\n\n}\n// export const AddRoleBody : React.FC<IAddRoleBodyProps> = (props: IAddRoleBodyProps): JSX.Element => {\n\n// }","import * as React from 'react';\nimport { Typography, Grid, Link, Button } from '@material-ui/core';\nimport { ReactSearch } from 'Components/UI/SearchBar/ReactSearch';\nimport { ReactTable } from 'Components/UI/TableComponent/ReactTable';\nimport { useState } from 'react';\nimport classNames from 'classnames';\nimport { SideModalBlock } from 'Components/UI';\nimport { AddUserRoleBody } from './AddUserRoleBody';\nimport { AddGroupRoleBody } from './AddGroupRoleBody';\nimport { ModalComponent } from 'Components/UI/ModalComponent/ModalComponent';\n\nimport {\n    getRolesUsersLists,\n    attachUserRoles,\n    detachUserRoles\n} from 'Pages/API/Calls/Roles';\nimport moment from 'moment';\nimport { attachRoleToGroups } from 'Pages/API/Calls/Roles';\nimport { getAllGroupsAttachToRole } from 'Pages/API/Calls/Roles';\nimport { UI } from 'Components';\n// import { TableComponent } from './TableComponent'\n\n\n\nconst user_fields = {\n    _id: true,\n    first_name: true,\n    last_name: true,\n    middle_name: true,\n    username: true,\n    employee_id: true,\n    department: true,\n    main_module: true,\n    main_role: true,\n    group: true,\n    group_name: true,\n    reports_to: true,\n    roles: true,\n    full_name: true,\n    last_login: true,\n    status: true\n}\n\nexport interface IGroupsAndUsersProps {\n    rows?: any,\n    viewOnly: boolean,\n    classes: any,\n    openSideModalBlock?: boolean,\n}\n\nexport const GroupsAndUsers: React.FC<IGroupsAndUsersProps> = (props: IGroupsAndUsersProps): JSX.Element => {\n    const {\n        rows,\n        classes,\n    } = props;\n    const [activeItem, setActiveItem] = useState('Groups');\n    const [activeClass, setActiveClass] = useState(0);\n    const [groupShowBlock, setGroupShowBlock] = useState('none');\n    const [userShowBlock, setUserShowBlock] = useState('none');\n    const [isFetching, setIsFetching] = React.useState(false);\n    const [typingTimeout, setTypingTimeout] = React.useState<any>(0)\n    const [userList, setUserList] = useState<any>();\n    const [userTable, setUserTable] = useState<any>({\n        limit: 10,\n        skip: 0,\n        currentPage: 0,\n        order: [],\n        filter: [],\n        count: 0\n    })\n\n    // const [statuses, setStatuses] = React.useState<any>()\n    const [tableStates, setTableState] = React.useState<any>({\n        rows: [],\n        currentPage: 0,\n        totalCount: 0,\n        pageSize: 10,\n        offset: 0,\n        order: '',\n        where: {},\n        query: ''\n    })\n    const [modalProps, setModalProps] = React.useState({\n        title: '',\n        message: '',\n        open: false,\n        method: () => { }\n    });\n    const [confirmationModalProps, setConfirmationModalProps] = React.useState({\n        title: '',\n        message: '',\n        open: false,\n        method: () => { }\n    });\n    const [selectedUsers, setSelectedUsers] = useState<any[]>([]);\n    const [usersWithRole, setUsersWithRole] = useState<any[]>([]);\n    const [refreshUsers, setRefreshUsers] = useState<boolean>(false);\n    const [isConfirmDetachUserRoleModalOpen, setIsConfirmDetachUserRoleModalOpen] = useState<boolean>(false);\n    const [userDetachRole, setUserDetachRole] = useState<any>(null);\n    const [attachUserRoleNotifModalOpen, setAttachUserRoleNotifModalOpen] = useState<boolean>(false);\n    const [attachUserRoleSuccess, setAttachUserRoleSuccess] = useState<boolean>(false);\n\n\n    const userColumns: any = [\n        {\n            name: 'username',\n            title: 'Username',\n        },\n        {\n            name: 'full_name',\n            title: 'User Account',\n        },\n        {\n            name: 'last_login',\n            title: 'Last Activity Date',\n            getCellValue: row => (row.last_login ? moment(row.last_login).format('MMMM DD, YYYY') : 'N/A')\n        },\n        {\n            name: 'status',\n            title: 'Status',\n            getCellValue: row => (row.status ? row.status.charAt(0).toUpperCase() + row.status.slice(1) : '')\n        },\n        {\n            name: 'action_delete',\n            title: ' ',\n        },\n    ]\n\n    const groupsColumns: any = [\n        {\n            name: 'group_id',\n            title: 'Group ID',\n        },\n        {\n            name: 'name',\n            title: 'Group',\n        },\n        {\n            name: 'user_count',\n            title: 'Users in the Group',\n        },\n        {\n            name: 'status',\n            title: 'Status',\n        },\n        {\n            name: 'action_delete',\n            title: ' ',\n        },\n    ];\n\n    const menuItems = [\n        'Groups',\n        'Users'\n    ]\n\n\n\n\n\n    React.useEffect(() => {\n        // groups list endpoint\n        console.log(rows)\n        APIGetGroupsAttachToRoleList({\n            pageSize: 10,\n            offset: 0,\n            role_id: `${rows[\"role_id\"]}`,\n            where: {},\n            order: [\"group_id ASC\"]\n        }, true);\n    }, []);\n\n\n\n    const handleMenuClick = (item, index) => {\n        setActiveItem(item);\n        setActiveClass(index)\n        if (item == 'Users') {\n            getUserLists(\n                10,\n                0,\n                [],\n                0,\n                [],\n            )\n        }\n        if (item == 'Groups') {\n            APIGetGroupsAttachToRoleList({\n                pageSize: 10,\n                offset: 0,\n                role_id: `${rows[\"role_id\"]}`,\n                where: {},\n                order: [\"group_id ASC\"]\n            }, true);\n        }\n    }\n\n\n    const removeDuplicateRoles = (array: any[]) => {\n        let a: any[] = []\n        array.map(x => {\n            if (!a.some(b => b.role_id === x.role_id)) {\n                a.push(x)\n            }\n        })\n        return a\n    };\n\n\n\n    const attachUserRole = async (data: any) => {\n        setIsFetching(true);\n        await attachUserRoles(rows.role_id, data).then(resp => {\n            console.log(resp)\n            setAttachUserRoleSuccess(true);\n        }).catch(e => {\n            setAttachUserRoleSuccess(false);\n            console.log(e)\n        });\n        setAttachUserRoleNotifModalOpen(true);\n        setSelectedUsers([]);\n        setUserShowBlock('none');\n        getUserLists(\n            userTable.limit,\n            userTable.skip,\n            userTable.order,\n            userTable.currentPage,\n            userTable.filter,\n        );\n        setRefreshUsers(!refreshUsers);\n    }\n\n    const detachUserRole = async (data: any) => {\n        setIsConfirmDetachUserRoleModalOpen(false);\n        setIsFetching(true);\n        await detachUserRoles(rows.role_id, data).then(resp => console.log(resp)).catch(e => console.log(e));\n        setUserShowBlock('none');\n        getUserLists(\n            userTable.limit,\n            userTable.skip,\n            userTable.order,\n            userTable.currentPage,\n            userTable.filter,\n        );\n        setRefreshUsers(!refreshUsers);\n    }\n\n\n    const getUserLists = (\n        limit: number,\n        skip: number,\n        order: any,\n        page: number,\n        filter: any,\n        search?: string\n    ) => {\n\n        if (typingTimeout) {\n            clearTimeout(typingTimeout)\n        }\n\n        let _filter: any = {};\n        let _order = order.length > 0 ? `${order[0].columnName === 'full_name' ? 'first_name' : order[0].columnName} ${order[0].direction}` : [];\n\n        if (filter.length > 0) {\n            filter.map((item: any) => {\n                if (item.columnName == 'status') {\n                    if (item.value !== 'all') {\n                        _filter[item.columnName] = item.value\n                    }\n                } else if (item.columnName == 'full_name') {\n                    _filter['first_name'] = {\n                        like: `^${item.value}.*`,\n                        options: \"i\"\n                    }\n                } else if (item.columnName == 'last_login') {\n                    _filter['and'] = [\n                        { last_login: { lte: `${moment(item.value).endOf('day').toISOString()}` } },\n                        { last_login: { gte: `${moment(item.value).startOf('day').toISOString()}` } }\n                    ]\n                    // _filter['last_login'] = {\n                    //     lte: `${moment(item.value).toISOString()}`\n                    // }\n                } else {\n                    _filter[item.columnName] = {\n                        like: `^${item.value}.*`,\n                        options: \"i\"\n                    }\n                }\n            })\n        }\n\n        let params = {\n            fields: user_fields,\n            limit: limit,\n            offset: skip,\n            order: _order,\n            where: {\n                \"and\": [\n                    {\n                        \"roles.role_id\": rows.role_id,\n                    },\n                    {\n                        \"or\": [_filter]\n                    }\n                ],\n            }\n        }\n\n        setTypingTimeout(\n            setTimeout(() => {\n                // setLoading(true)\n                setIsFetching(true)\n                getRolesUsersLists(params, search ? search : '').then((response) => {\n                    const resp_body = response.body.map(item => {\n                        item.roles = removeDuplicateRoles(item.roles);\n                        return item;\n                    });\n                    setUserList(resp_body)\n                    setUserTable({\n                        currentPage: userTable.currentPage > (Math.ceil(response.count / limit) - 1) ? (Math.ceil(response.count / limit) - 1) : page,\n                        order: order,\n                        limit: limit,\n                        skip: skip,\n                        filter: filter,\n                        count: response.count\n                    })\n                    // setLoading(false)\n                    setIsFetching(false)\n                    console.log(resp_body)\n                }).catch(err => {\n                    // alert(err);\n                    setUserList([])\n                    console.log(err)\n                    setIsFetching(false)\n                    // setLoading(false)\n                })\n            }, filter.length > 0 || search ? 2000 : 0)\n        )\n    }\n\n\n\n    const APIGetGroupsAttachToRoleList = (newState?: any, saveSummary?: boolean) => {\n        setIsFetching(true)\n\n\n        getAllGroupsAttachToRole(\n            newState.role_id,\n            newState.pageSize,\n            newState.offset,\n            newState.where,\n            newState.order,\n            newState.query).then((data: any) => {\n                console.log(data)\n                if (!data.error) {\n\n                    const state = {\n                        ...newState,\n                        rows: data.body,\n                        totalCount: data.count.count\n                    }\n\n\n                    if (saveSummary && saveSummary === true) {\n                        // setStatuses(data.statuses)\n                    }\n\n                    updateTableState(state)\n\n\n                } else {\n                    const state = {\n                        ...newState,\n                        rows: [],\n                        totalCount: 0\n                    }\n\n                    updateTableState(state)\n                }\n\n                setIsFetching(false)\n            }).catch(() => {\n                console.log(\"catch\")\n                setIsFetching(false)\n                const state = {\n                    ...newState,\n                    rows: [],\n                    totalCount: 0\n                }\n\n                updateTableState(state)\n            })\n    }\n\n\n\n\n    const updateTableState = (prop) => {\n        setTableState({\n            ...tableStates,\n            ...prop\n        })\n    }\n\n\n    const onSaveAddRoleToGroup = (items) => {\n        // console.log(items)\n        setIsFetching(true)\n        let data = {\n            body: items\n        }\n        let payload: any = [];\n\n        if (tableStates && tableStates.length !== null) {\n            payload.push(...tableStates.rows)\n        }\n\n        if (data.body && data.body.length > 0) {\n            data.body.map(c => {\n                let selectedGroupId = {\n                    _id: c[\"id\"],\n                    group_id: c[\"group_id\"],\n                    name: c[\"name\"],\n                    description: c[\"description\"],\n                    user_account: c[\"user_count\"],\n                    effectivity_date: c[\"effectivity_date\"],\n                    date_updated: c[\"date_updated\"],\n                    is_processmaker: c[\"is_processmaker\"],\n                    pmaker_uid: c[\"pmaker_uid\"],\n                    amount_limit: c[\"amount_limit\"],\n                    user_count: c[\"user_count\"],\n                    status: c[\"status\"],\n                    department: c[\"department\"]\n                }\n                let groupRoles = c[\"roles\"]\n\n                if (groupRoles && groupRoles.length > 0) {\n                    var isUnique = true;\n                    groupRoles.map(e => {\n                        var role_id = e[\"_id\"];\n                        if (role_id === rows[\"_id\"]) {\n                            isUnique = false;\n                        }\n                    })\n                    if (isUnique === true) {\n                        groupRoles.push(rows)\n                    }\n                } else {\n                    groupRoles.push(rows)\n                }\n\n                let expiry_date = c[\"expiry_date\"]\n                let rank = c[\"rank\"]\n                let reports_to = c[\"reports_to\"]\n                let meta_data = c[\"meta_data\"]\n\n                if (expiry_date !== undefined) { selectedGroupId[\"expiry_date\"] = expiry_date }\n                if (rank !== undefined) { selectedGroupId[\"rank\"] = rank }\n                if (reports_to !== undefined) { selectedGroupId[\"reports_to\"] = reports_to }\n                if (meta_data !== undefined) { selectedGroupId[\"meta_data\"] = meta_data }\n\n                selectedGroupId[\"roles\"] = groupRoles;\n\n\n\n                payload.push(selectedGroupId)\n            })\n        }\n        console.log(payload)\n        attachRoleToGroups(rows[\"role_id\"], payload, '').then((resp: any) => {\n            setIsFetching(false)\n            if (!resp.error) {\n                setModalProps({\n                    ...modalProps,\n                    open: true,\n                    title: 'User group added!',\n                    message: 'New user group have been successfully added.',\n                    method: handleCloseModalProps\n                })\n            } else {\n                setModalProps({\n                    ...modalProps,\n                    open: true,\n                    title: 'Add User Group Failed!',\n                    message: 'Something went wrong. New user wasn’t added.',\n                    method: handleCloseModalProps\n                })\n            }\n        }).catch((err) => {\n            setIsFetching(false)\n            setModalProps({\n                ...modalProps,\n                open: true,\n                title: 'Add User Group Failed!',\n                message: err.message,\n                method: handleCloseModalProps\n            })\n            console.log(err)\n        })\n        console.log(JSON.stringify(payload));\n    }\n\n    const handleDeleteGroup = (roledata) => {\n        handleCloseConfirmationModalProps();\n        setIsFetching(true)\n        let data = {\n            body: [roledata],\n            label: \"name\"\n        }\n\n        let payload: any = [];\n\n        if (data.body && data.body.length > 0) {\n            data.body.map(a => {\n                let selectedGroupToRemove = {\n                    _id: a[\"_id\"],\n                    group_id: a[\"group_id\"],\n                    name: a[\"name\"],\n                    description: a[\"description\"],\n                    user_account: a[\"user_count\"],\n                    effectivity_date: a[\"effectivity_date\"],\n                    date_updated: a[\"date_updated\"],\n                    is_processmaker: a[\"is_processmaker\"],\n                    pmaker_uid: a[\"pmaker_uid\"],\n                    amount_limit: a[\"amount_limit\"],\n                    user_count: a[\"user_count\"],\n                    department: a[\"department\"],\n                    status: a.status.props.children\n                }\n                let groupRoles = a[\"roles\"]\n                let newGroupRoles: any = [];\n\n                if (groupRoles && groupRoles.length > 0) {\n\n                    groupRoles.map(e => {\n                        var role_id = e[\"_id\"];\n                        if (role_id === rows[\"_id\"]) {\n                            newGroupRoles.push(e)\n                        }\n                    })\n                }\n\n                let expiry_date = a[\"expiry_date\"]\n                let rank = a[\"rank\"]\n                let reports_to = a[\"reports_to\"]\n                let meta_data = a[\"meta_data\"]\n\n                if (expiry_date !== undefined) { selectedGroupToRemove[\"expiry_date\"] = expiry_date }\n                if (rank !== undefined) { selectedGroupToRemove[\"rank\"] = rank }\n                if (reports_to !== undefined) { selectedGroupToRemove[\"reports_to\"] = reports_to }\n                if (meta_data !== undefined) { selectedGroupToRemove[\"meta_data\"] = meta_data }\n\n                selectedGroupToRemove[\"roles\"] = newGroupRoles;\n                payload.push(selectedGroupToRemove)\n            })\n        }\n        console.log(payload)\n        attachRoleToGroups(rows[\"role_id\"], payload, 'remove').then((resp: any) => {\n            setIsFetching(false)\n            if (!resp.error) {\n                setModalProps({\n                    ...modalProps,\n                    open: true,\n                    title: 'User group removed!',\n                    message: `${roledata[\"name\"]} has been successfully removed.`,\n                    method: handleCloseModalProps\n                })\n            } else {\n                setModalProps({\n                    ...modalProps,\n                    open: true,\n                    title: 'Remove User Group Failed!',\n                    message: 'Something went wrong. User group wasn’t removed.',\n                    method: handleCloseModalProps\n                })\n            }\n        }).catch((err) => {\n            setIsFetching(false)\n            setModalProps({\n                ...modalProps,\n                open: true,\n                title: 'Removed User Group Failed!',\n                message: err.message,\n                method: handleCloseModalProps\n            })\n            console.log(err)\n        })\n        console.log(JSON.stringify(payload));\n\n    }\n\n\n    const rowDataFixer = (array: any) => {\n        let newEntry: any = [];\n        if (array.length > 0) {\n            array.forEach(data => {\n                let newRow = {\n                    ...data,\n                    group_id: `${data.group_id}`,\n                    name: data.hasOwnProperty('name') ? data.name : 'N/A',\n                    user_count: data.hasOwnProperty('user_count') ? data.user_count : 'N/A',\n                    status: data.hasOwnProperty('status') ? <span style={{ textTransform: 'capitalize' }}>{data.status}</span> : 'N/A',\n                }\n\n                newEntry.push(newRow)\n            })\n\n            return newEntry\n        }\n\n        return []\n    }\n\n    const handleTimeOutGroupSearch = (value) => {\n        if (typingTimeout) {\n            clearTimeout(typingTimeout);\n        }\n\n        setTypingTimeout(setTimeout(function () {\n            const state = {\n                currentPage: 0,\n                pageSize: tableStates.pageSize,\n                offset: 0,\n                role_id: `${rows[\"role_id\"]}`,\n                order: tableStates.order ? tableStates.order : \"group_id ASC\",\n                where: tableStates.where,\n                query: value\n            }\n\n            APIGetGroupsAttachToRoleList(state)\n\n        }, 3000));\n    }\n\n\n    const handleSearchGroup = (e) => {\n        if (typingTimeout) {\n            clearTimeout(typingTimeout);\n        }\n        const state = {\n            currentPage: 0,\n            pageSize: tableStates.pageSize,\n            offset: 0,\n            role_id: `${rows[\"role_id\"]}`,\n            order: tableStates.order ? tableStates.order : \"group_id ASC\",\n            where: tableStates.where,\n            query: e\n        }\n\n        APIGetGroupsAttachToRoleList(state)\n\n    }\n\n\n    const onFilterChange = (value) => {\n        if (typingTimeout) {\n            clearTimeout(typingTimeout);\n        }\n\n        setTypingTimeout(setTimeout(function () {\n            const state = {\n                currentPage: 0,\n                pageSize: tableStates.pageSize,\n                offset: 0,\n                role_id: `${rows[\"role_id\"]}`,\n                order: tableStates.order ? tableStates.order : \"group_id ASC\",\n                where: {},\n                query: tableStates.query\n            }\n\n            value.map(w =>\n                w.columnName === 'group_id' && w.value !== '' ?\n                    state.where['group_id'] = parseInt(w.value)\n                    : w.columnName === 'name' ?\n                        state.where['name'] = {\n                            like: `${w.value}.*`,\n                            options: 'i'\n                        }\n                        : w.columnName === 'user_count' && w.value !== '' ?\n                            state.where[\"user_count\"] = parseInt(w.value)\n                            : w.columnName === 'status' && w.value !== 'all' ?\n                                state.where[\"status\"] = w.value\n                                : ''\n            )\n\n            console.log(state)\n            APIGetGroupsAttachToRoleList(state)\n        }, 3000));\n    }\n\n    const onCurrentPageChange = (value) => {\n        const state = {\n            pageSize: tableStates.pageSize,\n            currentPage: value,\n            role_id: `${rows[\"role_id\"]}`,\n            order: tableStates.order ? tableStates.order : \"group_id ASC\",\n            offset: tableStates.pageSize * value,\n            where: tableStates.where,\n            query: tableStates.query\n        }\n\n        APIGetGroupsAttachToRoleList(state)\n    }\n\n    const onPageSizeChange = (value) => {\n        const state = {\n            pageSize: value,\n            offset: tableStates.offset,\n            role_id: `${rows[\"role_id\"]}`,\n            order: tableStates.order ? tableStates.order : \"group_id ASC\",\n            where: tableStates.where,\n            query: tableStates.query\n        }\n\n        if (tableStates.currentPage > (Math.ceil(tableStates.totalCount / value) - 1)) {\n            state['currentPage'] = ((Math.ceil(tableStates.totalCount / value) - 1))\n            state['offset'] = ((Math.ceil(tableStates.totalCount / value) - 1)) * value\n        }\n\n        APIGetGroupsAttachToRoleList(state)\n    }\n\n    const onSortingChange = (value) => {\n\n        let filter = {\n            ...value[0],\n            direction: value[0].direction.toUpperCase()\n        }\n\n        let a = Object.values(filter).join(' ')\n\n        const state = {\n            pageSize: tableStates.pageSize,\n            offset: tableStates.offset,\n            role_id: `${rows[\"role_id\"]}`,\n            order: [a],\n            where: tableStates.where,\n            query: tableStates.query\n        }\n\n        APIGetGroupsAttachToRoleList(state)\n    }\n\n\n    const handleCloseModalProps = () => {\n        setModalProps({\n            ...modalProps,\n            open: false\n        })\n        setGroupShowBlock('none')\n        APIGetGroupsAttachToRoleList({\n            pageSize: 10,\n            offset: 0,\n            role_id: `${rows[\"role_id\"]}`,\n            where: {},\n            order: [\"group_id ASC\"]\n        }, true);\n    };\n\n    const handleOpenConfirmationModalProps = (data) => {\n        console.log(\"this is for deletion\")\n        console.log(data)\n        setConfirmationModalProps({\n            ...confirmationModalProps,\n            open: true,\n            title: \"Remove from role\",\n            message: `Are you sure you want to remove ${data.name} from the role ${rows[\"name\"]}?`,\n            method: () => { handleDeleteGroup(data) }\n        });\n    }\n\n    const handleCloseConfirmationModalProps = () => {\n        setConfirmationModalProps({\n            ...confirmationModalProps,\n            open: false\n        })\n    };\n\n\n    return (\n        <>\n            {isFetching && <UI.LoadingIndicator />}\n            <Grid container xs={12}>\n                <Grid item xs={12}>\n                    <Typography><b>Attached Groups and Users</b></Typography>\n                </Grid>\n                <Grid item xs={12}>\n                    <Grid container xs={12} alignItems={'center'}>\n                        <Grid item xs={6}>\n                            <ul style={{ padding: '0', margin: '0' }}>\n                                {\n                                    menuItems.map((item, i) => (\n                                        <li className={classes.menuList}>\n                                            <Link\n                                                className={classNames(classes.menuLink, activeClass === i ? classes.LinkActive : null)}\n                                                onClick={() => handleMenuClick(item, i)}>\n                                                {item}\n                                            </Link>\n                                        </li>\n                                    ))\n                                }\n                            </ul>\n                        </Grid>\n                        <Grid item xs={6} className={classes.alignRight}>\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12}>\n                    {\n                        activeItem == 'Groups' ?\n                            <>\n                                <Grid className={classes.alignRight}>\n                                    <Link onClick={() => { setGroupShowBlock('block') }}> Add to this role</Link>\n                                </Grid>\n                                <ReactSearch\n                                    onChange={handleTimeOutGroupSearch}\n                                    placeholder={'Search a user group'}\n                                    onSearch={handleSearchGroup} />\n                                <ReactTable\n                                    rows={rowDataFixer(tableStates.rows)}\n                                    columns={groupsColumns}\n                                    viewOnly={false}\n                                    enableSelection={false}\n                                    totalCount={tableStates.totalCount}\n                                    currentPage={tableStates.currentPage}\n                                    pageSize={tableStates.pageSize}\n                                    columnExtensions={\n                                        [{\n                                            columnName: 'action_delete',\n                                            width: 75,\n                                            wordWrapEnabled: true,\n                                            align: 'center'\n                                        }]\n                                    }\n                                    message={'There are no groups to show yet.'}\n                                    sortingStateColumnExtensions={[\n                                        { columnName: 'action_delete', sortingEnabled: false }\n                                    ]}\n                                    onFilterChange={onFilterChange}\n                                    onPageChange={onCurrentPageChange}\n                                    onSetPageSize={onPageSizeChange}\n                                    onSortingChange={onSortingChange}\n                                    onDeleteRow={(row) => {\n                                        handleOpenConfirmationModalProps(row)\n                                    }}\n                                />\n                            </>\n                            : null\n                    }\n                    {\n                        activeItem == 'Users' ?\n                            <>\n                                <Grid className={classes.alignRight}>\n                                    <Link onClick={() => { setUserShowBlock('block') }}> Add to this role</Link>\n                                </Grid>\n                                <ReactSearch\n                                    onSearch={(search: string) => {\n                                        getUserLists(\n                                            userTable.limit,\n                                            userTable.skip,\n                                            userTable.order,\n                                            userTable.currentPage,\n                                            userTable.filter,\n                                            search\n                                        )\n                                    }}\n                                    onChange={(search: string) => {\n                                        getUserLists(\n                                            userTable.limit,\n                                            userTable.skip,\n                                            userTable.order,\n                                            userTable.currentPage,\n                                            userTable.filter,\n                                            search\n                                        )\n                                    }}\n                                    placeholder={'Search a user account'} />\n                                <ReactTable\n                                    rows={userList ? userList : []}\n                                    columns={userColumns}\n                                    columnExtensions={\n                                        [{\n                                            columnName: 'action_delete',\n                                            width: 75,\n                                            wordWrapEnabled: true,\n                                            align: 'center'\n                                        }]\n                                    }\n                                    message={'There are no user accounts to show yet.'}\n                                    sortingStateColumnExtensions={[\n                                        { columnName: 'action_delete', sortingEnabled: false }\n                                    ]}\n                                    onDeleteRow={(row) => {\n                                        setUserDetachRole(row);\n                                        setIsConfirmDetachUserRoleModalOpen(true);\n                                        console.log(row, 'rowdeleted');\n                                    }}\n                                    currentPage={userTable.currentPage}\n                                    pageSize={userTable.limit}\n                                    totalCount={userTable.count}\n                                    defaultFilters={userTable.filter}\n                                    onFilterChange={(filter: any) => {\n                                        getUserLists(\n                                            userTable.limit,\n                                            0,\n                                            userTable.order,\n                                            0,\n                                            filter,\n                                        )\n                                    }}\n                                    onSortingChange={(sort: any) => {\n                                        getUserLists(\n                                            userTable.limit,\n                                            userTable.skip,\n                                            sort,\n                                            userTable.currentPage,\n                                            userTable.filter,\n                                        )\n                                    }}\n                                    onSetPageSize={(size: number) => {\n                                        getUserLists(\n                                            size,\n                                            userTable.skip,\n                                            userTable.order,\n                                            userTable.currentPage,\n                                            userTable.filter,\n                                        )\n                                    }}\n                                    onPageChange={(page: number) => {\n                                        let skip = page * userTable.limit\n                                        getUserLists(\n                                            userTable.limit,\n                                            skip,\n                                            userTable.order,\n                                            page,\n                                            userTable.filter,\n                                        )\n                                    }}\n\n                                />\n                            </>\n                            : null\n                    }\n                </Grid>\n            </Grid>\n\n            <SideModalBlock\n                handleClose={() => { setGroupShowBlock('none') }}\n                showBlock={activeItem == 'Groups' ? groupShowBlock : 'none'}\n                title={'Add to this Role'}>\n                <AddGroupRoleBody\n                    onClose={() => {\n                        setGroupShowBlock('none')\n                    }}\n                    onSave={(data: any) => {\n                        onSaveAddRoleToGroup(data)\n                    }}\n                />\n            </SideModalBlock>\n\n            <SideModalBlock\n                handleClose={() => { setUserShowBlock('none') }}\n                showBlock={activeItem == 'Users' ? userShowBlock : 'none'}\n                title={'Add to this Role'}>\n                <AddUserRoleBody\n                    apiCallFields={user_fields}\n                    roleId={rows.role_id}\n                    refreshUsersWithRole={refreshUsers}\n                    selectedUsers={selectedUsers}\n                    setSelectedUsers={(data: any) => setSelectedUsers([...data])}\n                    usersWithRole={usersWithRole}\n                    setUsersWithRole={(data: any) => setUsersWithRole([...data])}\n                    onClose={() => {\n                        setUserShowBlock('none')\n                    }}\n                    onSave={(data: any) => {\n                        if (!Array.isArray(data)) return;\n\n                        const attach_role_data = data.filter(user => {\n                            if (user && user.roles && user.roles.some(role => role.role_id === rows.role_id)) {\n                                return false;\n                            }\n                            return true;\n                        });\n                        console.log('ATTACH DATA', attach_role_data);\n                        attachUserRole(attach_role_data);\n                    }}\n                />\n            </SideModalBlock>\n\n\n            {/* {this modal is for success and error for both adding groups and accounts} */}\n            <ModalComponent\n                isModalOpen={modalProps.open}\n                onClose={modalProps.method}\n                message={modalProps.message}\n                title={modalProps.title}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item >\n                            <Button\n                                onClick={modalProps.method}\n                                className={classes.button}\n                                variant={'contained'}\n                                color={'primary'}>\n                                Okay\n                            </Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n\n            {/* {this modal is for confirmation for both removing groups and accounts} */}\n            <ModalComponent\n                isModalOpen={confirmationModalProps.open}\n                onClose={handleCloseConfirmationModalProps}\n                message={confirmationModalProps.message}\n                title={confirmationModalProps.title}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button\n                                onClick={handleCloseConfirmationModalProps}\n                                className={classes.button}\n                                variant={'outlined'}\n                                color={'secondary'}>\n                                Cancel\n                            </Button>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Button\n                                onClick={confirmationModalProps.method}\n                                className={classes.button}\n                                variant={'contained'}\n                                color={'primary'}>\n                                Remove\n                            </Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n\n\n            <ModalComponent\n                isModalOpen={isConfirmDetachUserRoleModalOpen}\n                onClose={() => {\n                    setIsConfirmDetachUserRoleModalOpen(false);\n                }}\n                message={`Remove ${userDetachRole && userDetachRole.full_name ? userDetachRole.full_name : 'user'} from this role?`}\n                title={'Remove from Role'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button onClick={() => { setIsConfirmDetachUserRoleModalOpen(false) }} className={classes.button} variant={'outlined'} color={'secondary'}>Cancel</Button>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Button className={classes.button} variant={'contained'} color={'primary'} onClick={() => detachUserRole([userDetachRole])}>Remove</Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n            {/* To-do: apply success and fail messages. */}\n            <ModalComponent\n                isModalOpen={attachUserRoleNotifModalOpen}\n                onClose={() => setAttachUserRoleNotifModalOpen(false)}\n                message={attachUserRoleSuccess ? 'New user account/s have been successfully added.' : 'New user account/s have been successfully added.'}\n                title={attachUserRoleSuccess ? 'User account added!' : 'User account added!'}\n                buttons={\n                    <Grid container justify=\"center\" alignItems=\"center\">\n                        <Grid item xs={6}>\n                            <Button className={classes.button} variant={'contained'} color={'primary'} onClick={() => setAttachUserRoleNotifModalOpen(false)}>Okay</Button>\n                        </Grid>\n                    </Grid>\n                }\n            />\n        </>\n    )\n}\n","//#region Global Imports\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\n// import NEOLink from 'next/link';\n//#endregion Global Imports\n\n//#region Interface Imports\n// import { Heading } from 'Components/UI/Heading';\nimport { Store } from 'Components/Stores/IStore';\nimport { RolesActions } from './RolesActions';\nimport { IRolesPage } from './IRolesPage';\nimport { Grid, Button } from '@material-ui/core';\n// import Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { LoadingIndicator, FloatingFooter } from 'Components/UI';\nimport { Policies } from './Components/Policies';\nimport { GroupsAndUsers } from './Components/GroupsAndUsers';\nimport { SubHeader } from 'Components/UI/SubHeader';\nimport { SideMenu } from 'Components/UI/SideMenu';\nimport { ModalComponent } from 'Components/UI/ModalComponent/ModalComponent';\nimport { getRoleData, getRbacList, updateRoleRbac } from 'Pages/API/Calls/Roles';\nimport { Redirect } from 'react-router-dom';\nimport moment from 'moment'\n\n// import { LoadingIndicator } from 'Components/UI';\n//#endregion Interface Imports\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tpadding: '32px 24px 25px'\n\t},\n\tmain: {\n\t\tbackgroundColor: '#F5F7FB',\n\t\tpadding: '32px 24px',\n\t\tposition: 'relative'\n\t},\n\theadMain: {\n\t\t// backgroundColor: '#F5F7FB',\n\t},\n\tgridContainer: {\n\t\tpadding: theme.spacing(1),\n\t\tpaddingBottom: '75px'\n\t},\n\tgridContainerNoPadding: {\n\t\tpadding: theme.spacing(1),\n\t},\n\tsectionTitle: {\n\t\tfontSize: 24,\n\t\tfontWeight: 700,\n\t\tcolor: '#272e4c',\n\t},\n\tsubSectionTitle: {\n\t\tfontSize: 14,\n\t\tfontWeight: 400,\n\t\tcolor: '#272e4c',\n\t},\n\teditBtn: {\n\t\twidth: '135px',\n\t\tfontSize: '14px',\n\t\tcolor: '#fff',\n\t},\n\talignRight: {\n\t\ttextAlign: 'right',\n\t},\n\tsideBarContainer: {\n\t\tborderRight: \"1px solid #ccc\",\n\t\tpaddingRight: \"25px\",\n\t},\n\tcontentContainer: {\n\t\tpaddingLeft: \"25px\",\n\t},\n\tsideBarLists: {\n\t\tpadding: 0,\n\t\tmargin: 0,\n\t\tlistStyle: 'none'\n\t},\n\tsideBarLink: {\n\t\tcolor: \"#272e4c\",\n\t\tmargin: \"0 0 10px\",\n\t\tdisplay: \"block\"\n\t},\n\tfieldGroupTitle: {\n\t\tfontSize: 13,\n\t\tfontWeight: 700,\n\t\tcolor: '#272e4c',\n\t},\n\tlistItemTextRoot: {\n\t\tflex: 'none',\n\t},\n\tlistItemTextPrimarySelected: {\n\t\tfontSize: 14,\n\t\tfontWeight: 700,\n\t\tcolor: 'rgba(39, 46, 76, 1)',\n\t\tcursor: 'pointer',\n\t},\n\tlistItemTextPrimaryNotSelected: {\n\t\tfontSize: 14,\n\t\tfontWeight: 700,\n\t\tcolor: 'rgba(39, 46, 76, 0.3)',\n\t\tcursor: 'pointer',\n\t},\n\tdropzone: {\n\t\twidth: '460px',\n\t\theight: '88px',\n\t\tmarginTop: '10px',\n\t\tmarginBottom: '20px',\n\t\tborder: '2px dashed rgba(30, 32, 113, 0.3)',\n\t\tborderRadius: '5px',\n\t\tbackgroundColor: '#e6e8ee',\n\t\tcolor: '#7b8094',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tflexDirection: 'column',\n\t},\n\tinputLabel: {\n\t\tcolor: '#272e4c',\n\t\tfontSize: '12px',\n\t\tmarginBottom: '5px'\n\t},\n\tkeyboardDatePicker: {\n\t\tmarginTop: '10px',\n\t\tmarginBottom: '20px',\n\t\twidth: '212px',\n\t},\n\tcheckbox: {\n\t\t'&.Mui-checked': {\n\t\t\tcolor: '#1e2071',\n\t\t},\n\t},\n\tradio: {\n\t\t'&.Mui-checked': {\n\t\t\tcolor: '#1e2071',\n\t\t},\n\t},\n\tappBar: {\n\t\ttop: 'auto',\n\t\tbottom: 0,\n\t\tborder: '1px solid #707070',\n\t\tbackgroundColor: 'rgba(54, 54, 54, 0.64)',\n\t\t[theme.breakpoints.up('sm')]: {\n\t\t\twidth: 'calc(100% - 72px)',\n\t\t},\n\t},\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\tbutton: {\n\t\tmargin: '0 10px',\n\t\tminHeight: '42px',\n\t\tminWidth: '150px',\n\t\tfontSize: 14\n\t},\n\tbuttonTitle: {\n\t\tfontWeight: 700,\n\t\tfontSize: 13,\n\t},\n\tbuttonSubTitle: {\n\t\tfontWeight: 400,\n\t\tfontSize: 7,\n\t},\n\tmenuList: {\n\t\tdisplay: \"inline-block\",\n\t\tpadding: \"10px 45px 10px 0\"\n\t},\n\tmenuLink: {\n\t\tcolor: \"#929292\",\n\t\tdisplay: \"block\",\n\t\tfontSize: \"1.10em\",\n\t\t'&:hover': {\n\t\t\tcolor: \"#3ab77d\",\n\t\t}\n\t},\n\tLinkActive: {\n\t\tcolor: \"#3ab77d\",\n\t\tfontWeight: \"bold\",\n\t\ttextDecoration: \"underline\"\n\t}\n}));\n\n\nexport const RolesPage: React.FC<IRolesPage.IProps> = (props: IRolesPage.IProps): JSX.Element => {\n\tconst classes = useStyles();\n\tconst [viewOnly, setViewOnly] = useState(true);\n\tconst [isEdited, setIsEdited] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [activeItem, setActiveItem] = useState('Policies');\n\tconst [activeItemIndex, setActiveItemIndex] = useState(0);\n\tconst [isModalConfirmExitOpen, setIsModalConfirmExitOpen] = useState(false);\n\tconst [isModalConfirmSaveOpen, setIsModalConfirmSaveOpen] = useState(false);\n\tconst [isModalSaveSuccessOpen, setIsmodalSaveSuccessOpen] = useState(false);\n\tconst [mode, setMode] = useState('view');\n\t// const [dataResponse, setDataResponse ] = useState([]);\n\tconst [isOpenSideModalBlock, setIsOpenSideModalBlock] = useState(false);\n\tconst [policyResponse, setPolicyResponse] = useState<any>([]);\n\tconst [moduleName, setModuleName] = useState('User Management');\n\tconst [rbacList, setRbacList] = useState([]);\n\tconst [breadCrumbs, setBreadCrumbs] = useState<any[]>([])\n\tconst [rbacCount,] = useState(0);\n\tconst [roleId, setRoleId] = useState('');\n\tconst [policyData, setPolicyData] = useState<any>({})\n\tconst [isRedirect, setIsRedirect] = useState<boolean>(false)\n\tconst [currentModule, setCurrentModule] = useState<string>('')\n\tconst [rbacState, setRbacState] = useState<any>({\n\t\tfilter: [],\n\t\torder: '',\n\t\tlimit: 40,\n\t\tskip: 0,\n\t\tcount: 0,\n\t\tcurrentPage: 0\n\t})\n\tconst [loadRbacList, setLoadRbacList] = useState<any>({\n\t\tset: false,\n\t\tdata: [],\n\t})\n\tconst [typingTimeout, setTypingTimeout] = useState<any>(0);\n\tconst [showDeactivationWarning, setShowDeactivationWarning] = useState<boolean>(false)\n\n\tconst sideBarItems = [\n\t\t{\n\t\t\tname: 'Policies',\n\t\t\t// label: 'POLICY'\n\t\t},\n\t\t{\n\t\t\tname: 'Groups And Users',\n\t\t\t// label: 'GROUPIE'\n\t\t},\n\t];\n\n\tReact.useEffect(() => {\n\t\thandleGetRoleData()\n\t}, []);\n\n\tconst handleGetRoleData = () => {\n\t\tsetMode('view');\n\t\tsetLoading(true)\n\t\tgetRoleData(props.match.params.id).then(response => {\n\t\t\tvar _crumbs: any[] = [\n\t\t\t\t{\n\t\t\t\t\tname: \"ROLES\",\n\t\t\t\t\tlink: \"/system-admin/users/roles\"\n\t\t\t\t},\n\t\t\t];\n\t\t\t_crumbs.push({ name: response.name })\n\t\t\tsetBreadCrumbs(_crumbs);\n\t\t\tsetPolicyResponse(response);\n\t\t\tsetCurrentModule(response.module);\n\t\t\thandGetRbacList(\n\t\t\t\trbacState.filter,\n\t\t\t\trbacState.order,\n\t\t\t\trbacState.limit,\n\t\t\t\trbacState.skip,\n\t\t\t\trbacState.currentPage,\n\t\t\t\tresponse,\n\t\t\t\t'view',\n\t\t\t\t'',\n\t\t\t\tresponse.module\n\t\t\t);\n\t\t\tconsole.log(response)\n\t\t}).catch(err => {\n\t\t\tsetLoading(false)\n\t\t\tconsole.log(err)\n\t\t\talert(err);\n\t\t})\n\t}\n\n\tconst isEmpty = (obj) => {\n\t\tfor(var key in obj) {\n\t\t\tif(obj.hasOwnProperty(key))\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tconst handGetRbacList = (\n\t\tfilter: any,\n\t\tsort: any,\n\t\tlimit: number,\n\t\tskip: number,\n\t\tcurrentPage: number,\n\t\tresParam?: any,\n\t\t_mode?: string,\n\t\tsearch?: string,\n\t\tcurModule?: string\n\t) => {\n\t\tconsole.log(resParam);\n\t\t\n\t\tif (typingTimeout) {\n\t\t\tclearTimeout(typingTimeout)\n\t\t}\n\n\t\tlet _filter: any = {};\n\t\tlet _order = sort ? `${sort[0].columnName} ${sort[0].direction}` : '';\n\n\t\tif (filter.length > 0) {\n\t\t\tfilter.map((item: any) => {\n\t\t\t\t_filter[item.columnName] = {\n\t\t\t\t\tlike: `^${item.value}.*`,\n\t\t\t\t\toptions: \"i\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t_filter['module'] = {\n\t\t\t\tlike: `^${currentModule}.*`,\n\t\t\t\toptions: \"i\"\n\t\t\t}\n\t\t} else {\n\t\t\t_filter = {\n\t\t\t\tmodule: {\n\t\t\t\t\tlike: `^${curModule ? curModule : currentModule}.*`,\n\t\t\t\t\toptions: \"i\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tlet params = {\n\t\t\tlimit: limit,\n\t\t\tskip: skip,\n\t\t\torder: _order,\n\t\t\twhere: _filter\n\t\t}\n\n\t\tsetTypingTimeout(setTimeout(() => {\n\t\t\tsetLoading(true)\n\t\t\tgetRbacList(params, search ? search : '').then(response => {\n\t\t\t\tlet res = response.body;\n\t\t\t\tresParam = isEmpty(resParam) ? !isEmpty(policyData) ? policyData : policyResponse : resParam\t\n\t\t\t\t\n\t\t\t\tsetRbacState({\n\t\t\t\t\tcurrentPage: currentPage,\n\t\t\t\t\tfilter: filter,\n\t\t\t\t\torder: sort,\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\tskip: skip,\n\t\t\t\t\tcount: response.count\n\t\t\t\t})\n\n\t\t\t\tres.length > 0 && res.map((item: any) => {\n\t\t\t\t\tresParam.rbac && resParam.rbac.length > 0 && resParam.rbac.map((policy: any) => {\n\t\t\t\t\t\tif (item._id === policy._id) {\n\t\t\t\t\t\t\titem['checked'] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t// if (_mode === 'view' && resParam) {\n\t\t\t\t// \tres = res.length > 0 && res.filter((item: any) => {\n\t\t\t\t// \t\treturn item.checked ? true : false\n\t\t\t\t// \t})\n\t\t\t\t// }\n\t\t\t\tif (loadRbacList.set === false){\n\t\t\t\t\tsetLoadRbacList({\n\t\t\t\t\t\tset: true,\n\t\t\t\t\t\tdata: res,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tconsole.log(loadRbacList);\n\t\t\t\tsetRbacList(res)\n\t\t\t\tsetLoading(false)\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tsetLoading(false)\n\t\t\t\talert(err);\n\t\t\t})\n\t\t}, filter.length > 0 || search ? 2000 : 0))\n\t}\n\n\tconst editRole = () => {\n\t\tsetViewOnly(false);\n\t\tsetMode('edit');\n\t\thandGetRbacList(\n\t\t\trbacState.filter,\n\t\t\trbacState.order,\n\t\t\trbacState.limit,\n\t\t\trbacState.skip,\n\t\t\trbacState.currentPage,\n\t\t\tpolicyResponse,\n\t\t\t'edit',\n\t\t)\n\t}\n\n\tconst activeSideBarItem = (item) => {\n\t\tsetActiveItem(item);\n\t\tsetViewOnly(true);\n\t\tif (item === 'Policies') {\n\t\t\thandleGetRoleData();\n\t\t}\n\t\tsideBarItems.map((data, index) => {\n\t\t\tif (data.name === item) {\n\t\t\t\tif (item === 'Groups And Users') {\n\t\t\t\t\tsetIsOpenSideModalBlock(true)\n\t\t\t\t}\n\t\t\t\tsetActiveItemIndex(index);\n\t\t\t}\n\t\t})\n\t}\n\n\tconst handleModalConfirmationClose = () => {\n\t\tsetIsModalConfirmSaveOpen(false);\n\t\tsetIsModalConfirmExitOpen(false);\n\t}\n\n\tconst generateRoleId = (moduleName: string, count: number) => {\n\t\tlet roleId = '';\n\n\t\tswitch (moduleName) {\n\t\t\tcase 'User Management':\n\t\t\t\troleId = `UM${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Membership':\n\t\t\t\troleId = `MS${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Underwriting':\n\t\t\t\troleId = `U${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Customer Care':\n\t\t\t\troleId = `C${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Claims':\n\t\t\t\troleId = `CL${count}`\n\t\t\t\tbreak;\n\t\t\tcase 'Franchising':\n\t\t\t\troleId = `FR${count}`\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\troleId = `UM${count}`\n\t\t\t\tbreak;\n\t\t}\n\t\treturn roleId;\n\t}\n\n\tconst handleChangeModuleName = (moduleName) => {\n\t\tsetRoleId(generateRoleId(moduleName, rbacCount));\n\t}\n\n\n\tconst handleOnSave = () => {\n\t\tlet data = policyData;\n\n\t\tif (!data[\"expiry_date\"] && data.expiry_date === null) {\n\t\t\tdelete data.expiry_date\n\t\t}\n\n\t\tdata.rbac && data.rbac.map((rbac: any) => {\n\t\t\tif (rbac.checked) {\n\t\t\t\tdelete rbac.checked\n\t\t\t}\n\t\t})\n\t\tsetLoading(true)\n\t\tupdateRoleRbac(data._id, data).then((response: any) => {\n\t\t\tconsole.log(response)\n\t\t\tsetMode('view');\n\t\t\thandGetRbacList(\n\t\t\t\trbacState.filter,\n\t\t\t\trbacState.order,\n\t\t\t\trbacState.limit,\n\t\t\t\trbacState.skip,\n\t\t\t\trbacState.currentPage,\n\t\t\t\tresponse,\n\t\t\t\t'view',\n\t\t\t)\n\t\t\tsetPolicyResponse(response)\n\t\t\tsetIsmodalSaveSuccessOpen(true)\n\t\t\tsetIsModalConfirmSaveOpen(false);\n\t\t\tsetBreadCrumbs([\n\t\t\t\t{\n\t\t\t\t\tname: \"ROLES\",\n\t\t\t\t\tlink: \"/system-admin/users/roles\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: response.name\n\t\t\t\t}\n\t\t\t])\n\t\t\tsetModuleName(response.module)\n\t\t\tsetLoading(false);\n\t\t\tsetIsEdited(false);\n\t\t}).catch(err => {\n\t\t\tsetLoading(false)\n\t\t\talert(err);\n\t\t})\n\t}\n\n\tconst handleRemoveAllChanges = () => {\n\t\thandleGetRoleData()\n\t\thandGetRbacList(\n\t\t\trbacState.filter,\n\t\t\trbacState.order,\n\t\t\trbacState.limit,\n\t\t\trbacState.skip,\n\t\t\trbacState.currentPage,\n\t\t\tpolicyResponse,\n\t\t\t'view',\n\t\t)\n\t\tsetIsModalConfirmExitOpen(false)\n\t\tsetIsRedirect(true)\n\t}\n\n\tconst renderSaveChangesMessage = () => {\n\t\tif (showDeactivationWarning)\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<span>Save all changes made?</span>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<strong>NOTE:</strong><br />\n\t\t\t\t\t<span>You changed the expiry date of this role. This will deactivate the role.</span>\n\t\t\t\t</>\n\t\t\t)\n\t\telse\n\t\t\treturn 'Save all changes made?'\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\tisRedirect &&\n\t\t\t\t<Redirect\n\t\t\t\t\tto={{\n\t\t\t\t\t\tpathname: '/system-admin/users',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t}\n\t\t\t<SubHeader\n\t\t\t\theadingTitle={breadCrumbs[1] ? breadCrumbs[1].name : ''}\n\t\t\t\tbreadCrumbsArray={breadCrumbs}\n\t\t\t\tbuttonFunc={editRole}\n\t\t\t\tbuttonName={'Edit Role'}\n\t\t\t\tlayoutType={'layout_1'}\n\t\t\t\tenableButton={mode === 'view' && activeItem === 'Policies' && policyResponse.is_processmaker === false ? true : false}\n\t\t\t></SubHeader>\n\t\t\t<div className={classes.main}>\n\t\t\t\t{loading ?\n\t\t\t\t\t(<LoadingIndicator />) : null\n\t\t\t\t}\n\t\t\t\t<Grid container xs={12}>\n\t\t\t\t\t<Grid item xs={3} className={classes.sideBarContainer}>\n\t\t\t\t\t\t<SideMenu\n\t\t\t\t\t\t\titems={sideBarItems}\n\t\t\t\t\t\t\tactiveItems={activeSideBarItem}\n\t\t\t\t\t\t\tsetActiveItem={activeItemIndex}\n\t\t\t\t\t\t></SideMenu>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={9} className={classes.contentContainer}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactiveItem == 'Policies' &&\n\t\t\t\t\t\t\t<Policies\n\t\t\t\t\t\t\t\trbacList={rbacList}\n\t\t\t\t\t\t\t\tloadRbacList={loadRbacList.data}\n\t\t\t\t\t\t\t\tmoduleName={moduleName}\n\t\t\t\t\t\t\t\troleId={roleId}\n\t\t\t\t\t\t\t\trows={policyResponse}\n\t\t\t\t\t\t\t\tmode={mode}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tviewOnly={viewOnly}\n\t\t\t\t\t\t\t\tisEdited={isEdited}\n\t\t\t\t\t\t\t\trbacState={rbacState}\n\t\t\t\t\t\t\t\tonSearch={(search: string) => {\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\trbacState.filter,\n\t\t\t\t\t\t\t\t\t\trbacState.order,\n\t\t\t\t\t\t\t\t\t\trbacState.limit,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\trbacState.page,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonNavigateSideMenu={(name: string) => {\n\t\t\t\t\t\t\t\t\tactiveSideBarItem(name)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChangeModuleName={(name: string) => {\n\t\t\t\t\t\t\t\t\thandleChangeModuleName(name)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonUpdateChange={(data: any) => {\n\t\t\t\t\t\t\t\t\tsetPolicyData(data);\n\t\t\t\t\t\t\t\t\tsetIsEdited(true);\n\t\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonPageChange={(page: number) => {\n\t\t\t\t\t\t\t\t\tlet skip = page * rbacState.limit\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\trbacState.filter,\n\t\t\t\t\t\t\t\t\t\trbacState.order,\n\t\t\t\t\t\t\t\t\t\trbacState.limit,\n\t\t\t\t\t\t\t\t\t\tskip,\n\t\t\t\t\t\t\t\t\t\tpage,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonPageSizeChange={(size: number) => {\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\trbacState.filter,\n\t\t\t\t\t\t\t\t\t\trbacState.order,\n\t\t\t\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\t\t\t\trbacState.skip,\n\t\t\t\t\t\t\t\t\t\trbacState.currentPage,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFilterChange={(filter: any) => {\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\tfilter,\n\t\t\t\t\t\t\t\t\t\trbacState.order,\n\t\t\t\t\t\t\t\t\t\trbacState.limit,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonSortChange={(sort: any) => {\n\t\t\t\t\t\t\t\t\thandGetRbacList(\n\t\t\t\t\t\t\t\t\t\trbacState.filter,\n\t\t\t\t\t\t\t\t\t\tsort,\n\t\t\t\t\t\t\t\t\t\trbacState.limit,\n\t\t\t\t\t\t\t\t\t\trbacState.skip,\n\t\t\t\t\t\t\t\t\t\trbacState.currentPage,\n\t\t\t\t\t\t\t\t\t\tpolicyData ? policyData : policyResponse,\n\t\t\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactiveItem == 'Groups And Users' &&\n\t\t\t\t\t\t\t<GroupsAndUsers\n\t\t\t\t\t\t\t\trows={policyResponse}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tviewOnly={viewOnly}\n\t\t\t\t\t\t\t\topenSideModalBlock={isOpenSideModalBlock}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t\t<ModalComponent\n\t\t\t\tisModalOpen={isModalConfirmSaveOpen}\n\t\t\t\tonClose={handleModalConfirmationClose}\n\t\t\t\tmessage={renderSaveChangesMessage()}\n\t\t\t\ttitle={'Confirmation'}\n\t\t\t\tbuttons={\n\t\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button onClick={() => { setIsModalConfirmSaveOpen(false) }} className={classes.button} variant={'outlined'} color={'secondary'}>Cancel</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\tvariant={'contained'}\n\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\tonClick={() => handleOnSave()}\n\t\t\t\t\t\t\t>Save</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<ModalComponent\n\t\t\t\tisModalOpen={isModalConfirmExitOpen}\n\t\t\t\tonClose={handleModalConfirmationClose}\n\t\t\t\tmessage={'Exit and remove all changes made?'}\n\t\t\t\ttitle={'Confirmation'}\n\t\t\t\tbuttons={\n\t\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetIsModalConfirmExitOpen(false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\tvariant={'outlined'}\n\t\t\t\t\t\t\t\tcolor={'secondary'}\n\t\t\t\t\t\t\t>Cancel</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\tvariant={'contained'}\n\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleRemoveAllChanges()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>Continue</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<ModalComponent\n\t\t\t\tisModalOpen={isModalSaveSuccessOpen}\n\t\t\t\tonClose={() => { setIsmodalSaveSuccessOpen(false) }}\n\t\t\t\tmessage={'Changes has been saved.'}\n\t\t\t\ttitle={'Save Success'}\n\t\t\t\tbuttons={\n\t\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\tvariant={'contained'}\n\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\tonClick={() => { setIsmodalSaveSuccessOpen(false) }}\n\t\t\t\t\t\t\t>Okay</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{\n\t\t\t\tmode === 'edit' && activeItem === 'Policies' && policyData !== '' && isEdited === true ?\n\t\t\t\t\t<FloatingFooter>\n\t\t\t\t\t\t<Grid container spacing={1} justify={'flex-end'} style={{ textAlign: 'right' }}>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\tvariant={'contained'}\n\n\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#3C394A' }}\n\t\t\t\t\t\t\t\t\tonClick={() => setIsModalConfirmExitOpen(true)}\n\t\t\t\t\t\t\t\t>Cancel</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\tvariant={'contained'}\n\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tconst today = moment().startOf('day')\n\t\t\t\t\t\t\t\t\t\tconst exp_date = policyData && policyData.expiry_date ? moment(policyData.expiry_date).startOf('day') : undefined;\n\n\t\t\t\t\t\t\t\t\t\tif (today.isSameOrAfter(exp_date)) {\n\t\t\t\t\t\t\t\t\t\t\tsetShowDeactivationWarning(true)\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetShowDeactivationWarning(false)\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tsetIsModalConfirmSaveOpen(true)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>Save Changes</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</FloatingFooter>\n\n\t\t\t\t\t: \"\"\n\t\t\t}\n\t\t</>\n\t);\n}\n\nconst mapStateToProps = (state: Store) => state.roles;\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n\tMap: bindActionCreators(RolesActions.Map, dispatch),\n});\n\nexport { mapStateToProps, mapDispatchToProps };\n"],"sourceRoot":""}