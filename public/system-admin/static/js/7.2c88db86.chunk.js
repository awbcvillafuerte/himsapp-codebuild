(window["webpackJsonpsystem-admin"]=window["webpackJsonpsystem-admin"]||[]).push([[7],{807:function(e,t,a){"use strict";var n=a(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(91)).default)(r.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");t.default=l},821:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(29),l=a.n(r),o=a(20),i=a(53),c=a(0),s=a.n(c),m=a(61),u={ResetReducer:"Account_ResetReducer",SetReducer:"Account_SetReducer"},p=function(e){return{payload:e,type:u.SetReducer}},d=a(314),f=a(148),g=a(101),E=a(47),b=Object(E.a)(function(e){return{mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px",position:"relative"},headMain:{},gridContainer:{padding:e.spacing(1),paddingBottom:"75px"},gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:14,fontWeight:400,color:"#272e4c"},editBtn:{width:"135px",fontSize:"14px",color:"#fff"},alignRight:{textAlign:"right"},bodyContainer:{minHeight:"100vh",backgroundColor:"#F5F7FB",padding:e.spacing(4)},sideBarContainer:{borderRight:"1px solid #ccc",paddingRight:"25px",paddingLeft:"25px"},contentContainer:{paddingLeft:"25px"},sideBarLists:{padding:0,margin:0,listStyle:"none"},sideBarLink:{color:"#272e4c",margin:"0 0 10px",display:"block"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(o.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},menuList:{display:"inline-block",padding:"10px 45px 10px 0"},menuLink:{color:"#929292",display:"block",fontSize:"1.10em","&:hover":{color:"#3ab77d"}},LinkActive:{color:"#3ab77d",fontWeight:"bold",textDecoration:"underline"},userImage:{width:e.spacing(15),height:e.spacing(15)}}}),h=(Object(E.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogTitle:{marginTop:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px"},inputTextField:{width:"100%",marginTop:e.spacing(1),marginBottom:e.spacing(1),paddingRight:0},iconEye:{color:"#9EA3AC"},labelNote:{color:"#797F92",fontSize:12},errorMessage:{color:"#E53935",fontSize:14},errorIcon:{color:"#E53935"}}}),a(405)),y=a.n(h),x=a(441),v=a(743),O=a(307),_=a(740),N=a(70),S=a(156),j=a(21),w=a(109),C=a(173),D=a(58),k=a(27),A=a(408),I=a(23),P=a(315),R=a(59),M=a(311),z=a(66),L=a.n(z),T=a(121),B=a(807),U=a.n(B);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Y=Object(E.a)(function(){return{label:{color:"#3C394A",fontSize:12,opacity:.6},value:{color:"#3C394A",fontSize:16,fontWeight:800},linkAction:{color:"#3AB77D",textDecoration:"underline",fontSize:12,cursor:"pointer"},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px",fontSize:14},circle:{width:8,height:8,background:"#3C394A",borderRadius:"100%",display:"inline-block",marginRight:3,marginTop:5},padlock:{color:"#3AB77D",fontSize:18,position:"relative",top:-3,marginRight:5}}}),H=function(e){var t=Y(),a=c.useState(!1),r=Object(n.a)(a,2),l=r[0],o=r[1],i=c.useState(!1),s=Object(n.a)(i,2),m=s[0],u=s[1],p=c.useState(!1),d=Object(n.a)(p,2),f=d[0],E=d[1],b=c.useState(!1),h=Object(n.a)(b,2),y=h[0],x=h[1],v=c.useState({open:!1,title:"",message:""}),O=Object(n.a)(v,2),_=O[0],N=O[1],C=function(){N(W({},_,{open:!1}))},D=function(){x(!1)};return c.createElement(c.Fragment,null,f?c.createElement(T.LoadingIndicator,null):null,c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:12},c.createElement(R.a,null,c.createElement("b",null,"ACCOUNT"))),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"USERNAME"),c.createElement(R.a,{className:t.value},e.userData.username)),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"PRIMARY ROLE AND MODULE"),c.createElement(R.a,{className:t.value},e.userData.main_role&&e.userData.main_role.name+" - "+e.userData.main_module))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"EMAIL"),c.createElement(R.a,{className:t.value},e.userData.email)),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"USER GROUP"),c.createElement(R.a,{className:t.value},null==e.userData.group?"N/A":e.userData.group.name))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"PASSWORD"),c.createElement(R.a,{className:t.value},c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle}),c.createElement("span",{className:t.circle})),c.createElement(S.a,{onClick:function(){o(!0)}},"Reset Password")),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"ROLES FROM USER GROUPS"),c.createElement(R.a,{className:t.value},c.createElement("u",null,e.userData.hasOwnProperty("group")&&e.userData.group.hasOwnProperty("roles")&&e.userData.group.roles.length>0?e.userData.group.roles.map(function(t,a){return Object.keys(t).length>0?"".concat(t.name).concat(a!==e.userData.group.roles.length-1?", ":""):"N/A"}):"N/A")))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"STATUS"),c.createElement(R.a,{className:t.value,style:{textTransform:"capitalize"}},c.createElement("b",null,e.userData.status)),"locked"===e.userData.status?c.createElement(S.a,{onClick:function(){x(!0)}},c.createElement(U.a,{className:t.padlock}),"Unlock User"):""),c.createElement(j.a,{item:!0,xs:6},c.createElement(R.a,{className:t.label},"OTHER ROLES"),c.createElement(R.a,{className:t.value},c.createElement("u",null,e.userData.hasOwnProperty("roles")&&e.userData.roles.length>0?e.userData.roles.map(function(t,a){return"".concat(t.name).concat(a!==e.userData.roles.length-1?", ":"")}):"N/A")))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"SUPERVISOR"),e.userData.reports_to?c.createElement(c.Fragment,null,c.createElement(R.a,{className:t.value},e.userData.reports_to.first_name," ",e.userData.reports_to.last_name),c.createElement(R.a,{style:{color:"rgba(60, 57, 74, 0.7)"}},c.createElement("small",null,c.createElement("b",null,e.userData.reports_to.job_title?e.userData.reports_to.job_title:"N/A"))),c.createElement(R.a,{style:{color:"rgba(60, 57, 74, 0.7)"}},c.createElement("small",null,c.createElement("i",null,e.userData.reports_to.employee_id?e.userData.reports_to.employee_id:"N/A")))):c.createElement(R.a,{className:t.value},"N/A"))),c.createElement(j.a,{container:!0,spacing:5,style:{paddingBottom:30}},c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"EFFECTIVITY DATE"),c.createElement(R.a,{className:t.value},e.userData.effectivity_date?L()(e.userData.effectivity_date).format("MMM DD, YYYY"):"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"EXPIRY DATE (If applicable)"),c.createElement(R.a,{className:t.value},e.userData.expiry_date?L()(e.userData.expiry_date).format("MMM DD, YYYY"):"N/A"))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:12},c.createElement(R.a,null,c.createElement("b",null,"PROFILE"))),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"FIRST NAME"),c.createElement(R.a,{className:t.value},e.userData.first_name?e.userData.first_name:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"MIDDLE NAME"),c.createElement(R.a,{className:t.value},e.userData.middle_name?e.userData.middle_name:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"LAST NAME"),c.createElement(R.a,{className:t.value},e.userData.last_name?e.userData.last_name:"N/A"))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"EMPLOYEE ID NUMBER"),c.createElement(R.a,{className:t.value},e.userData.employee_id?e.userData.employee_id:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"DEPARTMENT"),c.createElement(R.a,{className:t.value},e.userData.department?e.userData.department.name:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"JOB POSITION / RANK"),c.createElement(R.a,{className:t.value},e.userData.job_title?e.userData.job_title:"N/A"))),c.createElement(j.a,{container:!0,spacing:5},c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"SECTION"),c.createElement(R.a,{className:t.value},e.userData.section?e.userData.section:"N/A")),c.createElement(j.a,{item:!0,xs:3},c.createElement(R.a,{className:t.label},"LOCATION"),c.createElement(R.a,{className:t.value},e.userData.location?e.userData.location:"N/A"))),c.createElement(M.a,{isModalOpen:l,onClose:function(){return o(!1)},message:"Do you really want to reset the password of this user?",title:"Reset Password",buttons:c.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{onClick:function(){o(!1)},className:t.button,variant:"outlined",color:"secondary"},"Cancel")),c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){E(!0),Object(g.j)(e.userData.username).then(function(e){console.log(e),o(!1),u(!0),E(!1)})}},"Reset")))}),c.createElement(M.a,{isModalOpen:m,onClose:function(){return u(!1)},message:"New password has been sent to the user's registered email account.",title:"Reset Password Success",buttons:c.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){u(!1)}},"Okay")))}),c.createElement(M.a,{isModalOpen:y,onClose:D,message:"Are you sure you want to grant ".concat(e.userData.first_name," access to the system again?"),title:"Unlock User",buttons:c.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{onClick:D,className:t.button,variant:"outlined",color:"secondary"},"Cancel")),c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){E(!0),D(),Object(g.k)(e.userData._id).then(function(t){t.error?N(W({},_,{open:!0,title:"Error",message:t.error.message})):(N(W({},_,{open:!0,title:"Unlock User Success",message:"This user has been successfully unlocked."})),e.setUserData(t)),E(!1)}).catch(function(e){E(!1),N(W({},_,{open:!0,title:"Error",message:e.message}))})}},"Unlock")))}),c.createElement(M.a,{isModalOpen:_.open,onClose:C,message:_.message,title:_.title,buttons:c.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},c.createElement(j.a,{item:!0,xs:6},c.createElement(w.a,{className:t.button,variant:"contained",color:"primary",onClick:C},"Okay")))}))},V=a(437),G=a(793),J=a(80),K=a(796),X=a(106),q=a(175),Q=a(85),Z=a.n(Q),$=a(789),ee=a(127);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ne=Object(E.a)(function(){return{label:{color:"#3C394A",fontSize:12,opacity:.6,marginBottom:5},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},userAlignRight:{textAlign:"right"},input:{},value:{color:"#3C394A",fontSize:16,fontWeight:800},linkAction:{color:"#3AB77D",textDecoration:"underline",fontSize:12,cursor:"pointer"},circle:{width:8,height:8,background:"#3C394A",borderRadius:"100%",display:"inline-block",marginRight:3,marginTop:5},saveButton:{width:"135px",fontSize:"14px",color:"#fff"},cancelAdd:{width:"135px",fontSize:"14px",color:"#ffffff",marginRight:"20px",backgroundColor:"#3C394A","&:hover":{backgroundColor:"#302e3c"}},errorLabel:{color:"#E53935",fontSize:"12px"},errorIcon:{color:"#E53935"},padlock:{color:"#3AB77D",fontSize:18,position:"relative",top:-3,marginRight:5},linkUnlock:{marginTop:10,display:"block"}}}),re=function(e){var t=e.userData,a=e.setMode,r=e.setUserData,c=s.a.useState([{label:"",value:""}]),m=Object(n.a)(c,2),u=m[0],p=m[1];s.a.useEffect(function(){var e=Object.assign(le,t);oe(e),Object(g.c)().then(function(e){var t=[];e.error?Te(ae({},Le,{open:!0,title:"Error",message:e.error.message,onOkay:function(){Te(ae({},Le,{open:!1}))}})):(e.forEach(function(e){var a={label:e.name,value:e};t.push(a)}),p(t))}).catch(function(e){Te(ae({},Le,{open:!0,title:"Error",message:e.message,onOkay:function(){Te(ae({},Le,{open:!1}))}}))}),fe({label:"".concat(t.main_role.name," - ").concat(t.main_module),value:t.main_role}),he({label:t.department.name,value:t.department}),t.hasOwnProperty("effectivity_date")&&void 0!==t.effectivity_date&&We(t.effectivity_date),t.hasOwnProperty("expiry_date")&&void 0!==t.expiry_date&&Ge(t.expiry_date),t.hasOwnProperty("group")&&null!==t.group&&me({label:t.group.name,value:t.group}),t.hasOwnProperty("reports_to")&&t.reports_to&&Oe({label:t.reports_to.first_name,value:t.reports_to});var a={main_module:t.main_module};Object(g.g)(100,0,a).then(function(e){var t=e.body;je(t.map(function(e){return{value:e,label:e.first_name}}))}).catch(function(e){Te(ae({},Le,{open:!0,title:"Error",message:e.message,onOkay:function(){Te(ae({},Le,{open:!1}))}}))}),Object(ee.g)(50).then(function(e){P(ae({},I,{rows:E(e.body,!0),options:E(e.body,!1)}))}).catch(function(e){Te(ae({},Le,{open:!0,title:"Error",message:e.message,onOkay:function(){Te(ae({},Le,{open:!1}))}}))}),Object(ee.e)().then(function(e){var t={body:e.body,label:"name"};F(d(t))}).catch(function(e){Te(ae({},Le,{open:!0,title:"Error",message:e.message,onOkay:function(){Te(ae({},Le,{open:!1}))}}))})},[]);var d=function(e){var t=[];return e.body&&e.body.length>0?(e.body.map(function(a){var n={label:a[e.label],value:a};t.push(n)}),t):[]},E=function(e,a){var n=[];if(e&&e.length>0){if(e.map(function(e){var t={value:e,label:""};t.label=a?e.name:"".concat(e.name," - ").concat(e.hasOwnProperty("module")?e.module:""),n.push(t)}),a&&t.hasOwnProperty("roles")&&t.roles.length>0){var r=[];t.roles.map(function(e){var t=n.find(function(t){return t.value._id===e._id});r.push(t)}),ke(r)}var l=[],o=n.find(function(e){return e.value._id===t.main_role._id});return l.push(o),fe(l),n}return[]},b=function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={first_name:{like:"".concat(t,".*"),options:"i"},main_module:H.main_module},e.next=3,Object(g.g)(100,0,n).catch(function(){return a([])});case 3:(r=e.sent)&&a(y(r.body));case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),h=function(e,t){oe(ae({},le,Object(o.a)({},t,e.target.value))),Q(ae({},H,Object(o.a)({},t,e.target.value)))},y=function(e){return e.map(function(e){return{value:e,label:"".concat(e.hasOwnProperty("first_name")?e.first_name:"","\n                      ").concat(e.hasOwnProperty("middle_name")?e.middle_name:"","\n                      ").concat(e.hasOwnProperty("last_name")?e.last_name:"")}})},x=function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return qe(!0),et(!1),e.next=4,Object(g.j)(le.username).catch(function(e){Te(ae({},Le,{open:!0,title:"Error resetting password",message:e.message,onOkay:function(){Te(ae({},Le,{open:!1}))}}))});case 4:(t=e.sent)&&(t.error?Te(ae({},Le,{open:!0,title:"Error resetting password",message:t.error.message,onOkay:function(){Te(ae({},Le,{open:!1}))}})):Te(ae({},Le,{open:!0,title:"Reset Password Success",message:"New password has been sent to the user's registered email account",onOkay:function(){Te(ae({},Le,{open:!1}))}}))),qe(!1);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=ae({},t,{},H),jt(!0),Pt||vt(a)&&Re(ae({},Pe,{open:!0,title:"Confirm Changes",message:"Are you sure you want to update your account details?",onClose:function(){Re(ae({},Pe,{open:!1}))},onSubmit:_}));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=ae({},t,{},H),vt(a)&&Re(ae({},Pe,{open:!0,title:"Confirm Changes",message:"Are you sure you want to update your account details?",onClose:function(){Re(ae({},Pe,{open:!1}))},onSubmit:_}));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){L()(Ve).isSameOrBefore()&&"deactivated"!==t.status.toLowerCase()?Re(ae({},Pe,{open:!0,title:"Deactivate User",message:"Would you like to continue deactivating this user?",onClose:function(){Re(ae({},Pe,{open:!1}))},onSubmit:function(){N()}})):L()(Ve).isSameOrAfter()&&"active"!==t.status.toLowerCase()||null===Ve&&"active"!==t.status.toLowerCase()?"awaiting activation"===t.status.toLowerCase()?N():Re(ae({},Pe,{open:!0,title:"Activate User",message:"Would you like to continue activating this user?",onClose:function(){Re(ae({},Pe,{open:!1}))},onSubmit:function(){N()}})):N()},N=function(){var e=Object(i.a)(l.a.mark(function e(){var n,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Re(ae({},Pe,{open:!1})),qe(!0),(n=ae({},t,{},H)).status=n.status.toLowerCase(),n.hasOwnProperty("group_roles")&&delete n.group_roles,n.expiry_date||delete n.expiry_date,n.section&&null!==n.section||delete n.section,n.roles&&null!==n.roles||(n.roles=[]),delete n.username,delete n._id,delete n.is_locked,delete n.needs_password_update,delete n.password,delete n.is_online,e.next=16,Object(g.l)(Object(f.a)(),n).catch(function(e){console.log(e),Te(ae({},Le,{open:!0,title:"Error saving changes",message:e.message,onOkay:function(){Te(ae({},Le,{open:!1}))}}))});case 16:(o=e.sent)&&(o&&!o.error?(Te(ae({},Le,{open:!0,title:"Changes Saved",message:"Your changes to your account have been saved successfully.",onOkay:function(){a("view")}})),r(o)):Te(ae({},Le,{open:!0,title:"Error saving changes",message:o.error.message,onOkay:function(){Te(ae({},Le,{open:!1}))}}))),qe(!1),console.log(JSON.stringify(n));case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){xt(ae({},yt,{open:!1}))},D=function(){Et(!1)},k=s.a.useState({rows:[],options:[]}),A=Object(n.a)(k,2),I=A[0],P=A[1],z=s.a.useState(),T=Object(n.a)(z,2),B=T[0],F=T[1],W=s.a.useState({}),Y=Object(n.a)(W,2),H=Y[0],Q=Y[1],te=s.a.useState({first_name:"",middle_name:"",last_name:"",group:null,email:"",employee_id:"",department:"",job_title:"",location:"",section:"",username:"",main_module:"",main_role:"",effectivity_date:"",expiry_date:"",roles:null,profile_pic:"",reports_to:""}),re=Object(n.a)(te,2),le=re[0],oe=re[1],ie=s.a.useState({}),ce=Object(n.a)(ie,2),se=ce[0],me=ce[1],ue=s.a.useState({}),pe=Object(n.a)(ue,2),de=pe[0],fe=pe[1],ge=s.a.useState({}),Ee=Object(n.a)(ge,2),be=Ee[0],he=Ee[1],ye=s.a.useState(""),xe=Object(n.a)(ye,2),ve=xe[0],Oe=xe[1],_e=s.a.useState(),Ne=Object(n.a)(_e,2),Se=Ne[0],je=Ne[1],we=s.a.useState([]),Ce=Object(n.a)(we,2),De=Ce[0],ke=Ce[1],Ae=s.a.useState({open:!1,title:"",message:"",onClose:function(){},onSubmit:function(){}}),Ie=Object(n.a)(Ae,2),Pe=Ie[0],Re=Ie[1],Me=s.a.useState({open:!1,title:"",message:"",onOkay:function(){}}),ze=Object(n.a)(Me,2),Le=ze[0],Te=ze[1],Be=s.a.useState(""),Ue=Object(n.a)(Be,2),Fe=Ue[0],We=Ue[1],Ye=s.a.useState(""),He=Object(n.a)(Ye,2),Ve=He[0],Ge=He[1],Je=s.a.useState(!1),Ke=Object(n.a)(Je,2),Xe=Ke[0],qe=Ke[1],Qe=s.a.useState(!1),Ze=Object(n.a)(Qe,2),$e=Ze[0],et=Ze[1],tt=s.a.useState({first_name:"",middle_name:"",last_name:"",email:"",employee_id:"",department:"",job_title:"",location:"",username:"",main_module:"",effectivity_date:"",main_role:"",roles:""}),at=Object(n.a)(tt,2),nt=at[0],rt=at[1],lt=s.a.useState({first_name:null,middle_name:null,last_name:null,email:null,employee_id:null,department:null,job_title:null,location:null,username:null,main_module:null,effectivity_date:null,main_role:null,roles:null}),ot=Object(n.a)(lt,2),it=ot[0],ct=ot[1],st=s.a.useState(f.b.email.test(t.email)),mt=Object(n.a)(st,2),ut=mt[0],pt=mt[1],dt=s.a.useState(!1),ft=Object(n.a)(dt,2),gt=ft[0],Et=ft[1],bt=s.a.useState({open:!1,title:"",message:""}),ht=Object(n.a)(bt,2),yt=ht[0],xt=ht[1],vt=function(e){var t=["section","group","profile_pic","reports_to","expiry_date","is_active","is_locked","retry_count","roles"],a=[],n=[];Object.entries(e).forEach(function(e){t.includes(e[0])||(e[1]?"email"===e[0]?ut?(e[1]=!0,a.push(e)):(e[1]=!1,n.push(e)):(e[1]=!0,a.push(e)):(e[1]=!1,n.push(e)))});var r=Object.assign(Object.fromEntries(a),Object.fromEntries(n));for(var l in ct(r),console.log(r),rt({first_name:r.first_name?"":"Invalid Input",middle_name:r.middle_name?"":"Invalid Input",last_name:r.last_name?"":"Invalid Input",employee_id:r.employee_id?"":""===nt.employee_id?"Invalid Input":nt.employee_id,department:r.department?"":"Invalid Input",job_title:r.job_title?"":"Invalid Input",email:r.email?"":""===nt.email?"Invalid Input":nt.email,location:r.location?"":"Invalid Input",effectivity_date:r.effectivity_date?"":"Invalid Input",main_module:r.main_module?"":"Select a Primary Role and Module",main_role:r.main_role?"":"Select a Primary Role and Module"}),r)if(!r[l])return!1;return!0},Ot=function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.g)(100,t).catch(function(){return a([])}).catch(function(e){Te(ae({},Le,{open:!0,title:"Error",message:e.message,onOkay:function(){Te(ae({},Le,{open:!1}))}}))});case 2:(n=e.sent)&&a(_t(n.body,!1));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),_t=function(e,t){var a=[];return e&&e.length>0?(e.map(function(e){var n={value:e,label:""};n.label=t?e.name:"".concat(e.name," - ").concat(e.hasOwnProperty("module")?e.module:""),a.push(n)}),a):[]},Nt=function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.g)(100,t).catch(function(){return a([])});case 2:(n=e.sent)&&a(St(n.body,!0));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),St=function(e,t){var a=[];return e&&e.length>0?(e.map(function(e){var n={value:e,label:""};n.label=t?e.name:"".concat(e.name," - ").concat(e.hasOwnProperty("module")?e.module:""),a.push(n)}),a):[]},jt=function(){var e=Object(i.a)(l.a.mark(function e(a){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={email:le.email},""===le.email||!le.email||le.email===Dt){e.next=15;break}if(Rt(!0),f.b.email.test(le.email)){e.next=9;break}pt(!1),rt(ae({},nt,{email:"Invalid email"})),ct(ae({},it,{email:!1})),e.next=13;break;case 9:return e.next=11,Object(g.g)(1,0,n).catch(function(){pt(!0),rt(ae({},nt,{email:""})),ct(ae({},it,{email:!0})),a&&O()});case 11:(r=e.sent)&&r.body[0].email!==t.email&&(pt(!1),rt(ae({},nt,{email:"Already Exist"})),ct(ae({},it,{email:!1})));case 13:kt(le.email),Rt(!1);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),wt=s.a.useState(""),Ct=Object(n.a)(wt,2),Dt=Ct[0],kt=Ct[1],At=s.a.useState(!1),It=Object(n.a)(At,2),Pt=It[0],Rt=It[1],Mt=ne();return s.a.createElement(s.a.Fragment,null,Xe&&s.a.createElement(X.a.LoadingIndicator,null),s.a.createElement("div",{style:{marginBottom:80}},s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:12},s.a.createElement(R.a,null,s.a.createElement("b",null,"Edit Account Details"))),s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:Mt.label},"Username"),s.a.createElement(V.a,{type:"text",className:Mt.input,value:t.username,fullWidth:!0,disabled:!0,id:"outline-username",variant:"outlined"})),s.a.createElement(j.a,{item:!0,xs:7},s.a.createElement(R.a,{className:Mt.label},"Primary Role and Module"),s.a.createElement(X.a.Dropdown,{async:!0,onChange:function(e){fe(e),Q(ae({},H,{main_module:e.value.module,main_role:e.value}));var t={main_module:e.value.module};Object(g.g)(100,0,t).then(function(e){var t=e.body;je(t.map(function(e){return{value:e,label:e.first_name}})),Oe("")}).catch(function(e){return console.log(e)})},fetchOption:Ot,placeholder:"Search One",icon:!1,isMulti:!1,closeOnSelect:!0,value:de,choices:I.options}))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:Mt.label},"Email"),s.a.createElement(V.a,{type:"text",error:null!==it.email?!it.email:it.email,onBlur:function(){return jt()},onChange:function(e){return h(e,"email")},className:Mt.input,value:le.email,fullWidth:!0,id:"outline-username",variant:"outlined",InputProps:{endAdornment:s.a.createElement(G.a,{position:"start"}," ",Pt?s.a.createElement($.a,{size:20}):"")}}),s.a.createElement(j.a,{container:!0},null!==it.email&&!1===it.email?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:Mt.errorLabel},nt.email)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:Mt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:7},s.a.createElement(R.a,{className:Mt.label},"User Group"),s.a.createElement(X.a.Dropdown,{placeholder:"Select One",defaultValue:B?B[2]:"",icon:!0,isMulti:!1,closeOnSelect:!0,onChange:function(e){me(e),console.log(e),Q(ae({},H,{group:e.value}))},value:se,choices:B}))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:Mt.label},"Password"),s.a.createElement(R.a,{className:Mt.value},s.a.createElement("span",{className:Mt.circle}),s.a.createElement("span",{className:Mt.circle}),s.a.createElement("span",{className:Mt.circle}),s.a.createElement("span",{className:Mt.circle}),s.a.createElement("span",{className:Mt.circle}),s.a.createElement("span",{className:Mt.circle})),s.a.createElement(S.a,{onClick:function(){et(!0)}},"Reset Password")),s.a.createElement(j.a,{item:!0,xs:7},s.a.createElement(R.a,{className:Mt.label},"Roles from User Group"),s.a.createElement(R.a,{className:Mt.value},s.a.createElement("u",null,Object.keys(se).length>0&&se.value.hasOwnProperty("roles")&&se.value.roles.length>0?se.value.roles.map(function(e,t){return Object.keys(e).length>0?"".concat(e.name).concat(t!==se.value.roles.length-1?", ":""):"N/A"}):"N/A")))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:Mt.label},"Status"),s.a.createElement(V.a,{type:"text",className:Mt.input,value:t.hasOwnProperty("status")&&t.status.toUpperCase(),fullWidth:!0,disabled:!0,id:"outline-username",variant:"outlined"}),"locked"===t.status?s.a.createElement(S.a,{onClick:function(){Et(!0)},className:Mt.linkUnlock},s.a.createElement(U.a,{className:Mt.padlock}),"Unlock User"):""),s.a.createElement(j.a,{item:!0,xs:7},s.a.createElement(R.a,{className:Mt.label},"Other Roles"),s.a.createElement(X.a.Dropdown,{async:!0,onChange:function(e){ke(e),console.log(e);var t=[];e&&e.length>0&&e.map(function(e){return t.push(e.value)}),oe(ae({},le,{roles:t})),Q(ae({},H,{roles:t}))},fetchOption:Nt,placeholder:"Search Role",icon:!0,isMulti:!0,closeOnSelect:!1,value:De,choices:I.rows}))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:Mt.label},"Supervisor Name"),s.a.createElement(X.a.Dropdown,{disabled:!t.main_module||!t.main_role||""===t.main_module||""===t.main_role,async:!0,onChange:function(e){Oe(e),Q(ae({},H,{reports_to:e.value}))},fetchOption:b,placeholder:"Search User",icon:!1,isMulti:!1,closeOnSelect:!0,value:ve,choices:Se}))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:Mt.label},"Effectivity Date"),s.a.createElement(J.a,{utils:q.a},s.a.createElement(K.a,{variant:"dialog",inputProps:{disabled:!0},format:"MMMM DD, YYYY",inputVariant:"outlined",value:Fe,invalidDateMessage:"",onChange:function(e){We(L()(e).toISOString()),oe(ae({},H,{effectivity_date:L()(e).toISOString()})),Q(ae({},H,{effectivity_date:L()(e).toISOString()}))},style:{width:"100%"}}))),s.a.createElement(j.a,{item:!0,xs:5},s.a.createElement(R.a,{className:Mt.label},"Expiry Date"),s.a.createElement(J.a,{utils:q.a},s.a.createElement(K.a,{minDate:Fe,variant:"dialog",clearable:!0,inputProps:{disabled:!0},format:"MMMM DD, YYYY",inputVariant:"outlined",value:Ve,invalidDateMessage:"",onChange:function(e){Ge(L()(e).toISOString()),oe(ae({},H,{expiry_date:L()(e).toISOString()})),Q(ae({},H,{expiry_date:L()(e).toISOString()}))},style:{width:"100%"}})))),s.a.createElement(j.a,{item:!0,xs:12,style:{marginTop:40,marginBottom:20}},s.a.createElement(R.a,null,s.a.createElement("b",null,"Edit Profile"))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:Mt.label},"First Name"),s.a.createElement(V.a,{type:"text",error:null!==it.first_name?!it.first_name:it.first_name,onChange:function(e){return h(e,"first_name")},className:Mt.input,value:le.first_name,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==it.first_name&&!1===it.first_name?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:Mt.errorLabel},nt.first_name)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:Mt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:Mt.label},"Middle Name"),s.a.createElement(V.a,{type:"text",error:null!==it.middle_name?!it.middle_name:it.middle_name,onChange:function(e){return h(e,"middle_name")},className:Mt.input,value:le.middle_name,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==it.middle_name&&!1===it.middle_name?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:Mt.errorLabel},nt.middle_name)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:Mt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:Mt.label},"Last Name"),s.a.createElement(V.a,{type:"text",error:null!==it.last_name?!it.last_name:it.last_name,onChange:function(e){return h(e,"last_name")},className:Mt.input,value:le.last_name,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==it.last_name&&!1===it.last_name?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:Mt.errorLabel},nt.last_name)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:Mt.errorIcon}))):""))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:Mt.label},"Employee ID"),s.a.createElement(V.a,{type:"text",error:null!==it.employee_id?!it.employee_id:it.employee_id,onChange:function(e){return h(e,"employee_id")},className:Mt.input,value:le.employee_id,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==it.employee_id&&!1===it.employee_id?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:Mt.errorLabel},nt.employee_id)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:Mt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:Mt.label},"Department"),s.a.createElement(X.a.Dropdown,{error:null!==it.department&&null!==it.department?!it.department:it.department,placeholder:"Select One",icon:!0,isMulti:!1,closeOnSelect:!0,isCreatable:!0,value:be,onChange:function(e){he(e),e.__isNew__?Q(ae({},H,{department:{name:e.value}})):Q(ae({},H,{department:e.value}))},choices:u}),s.a.createElement(j.a,{container:!0},null!==it.department&&!1===it.department?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:Mt.errorLabel},nt.department)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:Mt.errorIcon}))):"")),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:Mt.label},"Job Position/Rank"),s.a.createElement(V.a,{type:"text",error:null!==it.job_title?!it.job_title:it.job_title,onChange:function(e){return h(e,"job_title")},className:Mt.input,value:le.job_title,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==it.job_title&&!1===it.job_title?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:Mt.errorLabel},nt.job_title)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:Mt.errorIcon}))):""))),s.a.createElement(j.a,{container:!0,spacing:5},s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:Mt.label},"Section"),s.a.createElement(V.a,{type:"text",onChange:function(e){return h(e,"section")},className:Mt.input,value:le.section,fullWidth:!0,id:"outline-username",variant:"outlined"})),s.a.createElement(j.a,{item:!0,xs:4},s.a.createElement(R.a,{className:Mt.label},"Location"),s.a.createElement(V.a,{type:"text",error:null!==it.location?!it.location:it.location,onChange:function(e){return h(e,"location")},className:Mt.input,value:le.location,fullWidth:!0,id:"outline-username",variant:"outlined"}),s.a.createElement(j.a,{container:!0},null!==it.location&&!1===it.location?s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{item:!0,xs:10,md:10,lg:10},s.a.createElement("span",{className:Mt.errorLabel},nt.location)),s.a.createElement(j.a,{item:!0,xs:2,md:2,lg:2,style:{textAlign:"right"}},s.a.createElement(Z.a,{fontSize:"small",className:Mt.errorIcon}))):""))),s.a.createElement(X.a.FloatingFooter,null,s.a.createElement(j.a,{item:!0,xs:12,className:Mt.userAlignRight},s.a.createElement(w.a,{onClick:function(){a("view")},className:Mt.cancelAdd,variant:"contained",color:"primary"},"Cancel"),s.a.createElement(w.a,{disabled:!(Object.keys(H).length>0&&H.constructor===Object||t.profile_pic!==le.profile_pic),onClick:v,className:Mt.saveButton,variant:"contained",color:"primary"},"Save Changes"))),s.a.createElement(M.a,{isModalOpen:Pe.open,onClose:Pe.onClose,message:Pe.message,title:Pe.title,buttons:s.a.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:Pe.onClose,className:Mt.button,variant:"outlined",color:"secondary"},"Cancel")),s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:Pe.onSubmit,className:Mt.button,variant:"contained",color:"primary"},"Save")))}),s.a.createElement(X.a.MsgModal,{isModalOpen:Le.open,title:Le.title,message:Le.message,onClose:Le.onOkay}),s.a.createElement(M.a,{isModalOpen:$e,onClose:function(){return et(!1)},message:"Do you really want to reset the password of this user?",title:"Reset Password",buttons:s.a.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:function(){et(!1)},className:Mt.button,variant:"outlined",color:"secondary"},"Cancel")),s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{className:Mt.button,variant:"contained",color:"primary",onClick:function(){x()}},"Reset")))}),s.a.createElement(M.a,{isModalOpen:gt,onClose:D,message:"Are you sure you want to grant ".concat(e.userData.first_name," access to the system again?"),title:"Unlock User",buttons:s.a.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:D,className:Mt.button,variant:"outlined",color:"secondary"},"Cancel")),s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{className:Mt.button,variant:"contained",color:"primary",onClick:function(){qe(!0),D(),Object(g.k)(e.userData._id).then(function(e){e.error?xt(ae({},yt,{open:!0,title:"Error",message:e.error.message})):(xt(ae({},yt,{open:!0,title:"Unlock User Success",message:"This user has been successfully unlocked."})),r(e)),qe(!1)}).catch(function(e){qe(!1),xt(ae({},yt,{open:!0,title:"Error",message:e.message}))})}},"Unlock")))}),s.a.createElement(M.a,{isModalOpen:yt.open,onClose:C,message:yt.message,title:yt.title,buttons:s.a.createElement(j.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{className:Mt.button,variant:"contained",color:"primary",onClick:C},"Okay")))})))},le=function(e){var t=e.userData,a=e.mode,n=e.setMode,r=e.userIdDb,l=e.setUserData;return s.a.createElement(s.a.Fragment,null,"view"===a?s.a.createElement(H,{setUserData:l,userData:t,userIdDb:r}):"edit"===a?s.a.createElement(re,{setUserData:l,setMode:n,userData:t}):"")},oe=["ACCOUNT"],ie=[{name:"Account"},{name:"Activity Logs",disabled:!0},{name:"Audit Logs",disabled:!0}],ce=a(24);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}a.d(t,"Account",function(){return pe}),a.d(t,"mapStateToProps",function(){return de}),a.d(t,"mapDispatchToProps",function(){return fe});var ue=Object(E.a)(function(e){return{mainContainer:{padding:"32px 24px 25px"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px",paddingBottom:"40px"},headMain:{},root:{"& > *":{margin:e.spacing(1),width:200}},item:{padding:"10px, 24px 25px"},label:{marginBottom:"10px"},input:{marginBottom:"2px"},formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},selectedItems:{borderRadius:20,fontSize:13,backgroundColor:"#d1d4db",padding:"5px 10px",margin:"5px",display:"inline-block"},selectedText:{paddingRight:"5px"},noLabel:{marginTop:e.spacing(3)},inputLabel:{color:"#272e4c",fontSize:"12px",marginBottom:"5px",marginTop:"20px"},preview:{width:"83px",height:"83px",border:"1px solid #707070 ",position:"relative",backgroundColor:"#ffffff",borderRadius:"100%",padding:"20px",display:"flex",alignItems:"center",justifyContent:"center","&:focus":{outline:0}},dropzone:{width:"296px",height:"107px",backgroundColor:"#E6E8EE",borderRadius:"5px",border:"2px dashed #1E20714D",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"25px"},centerDrop:{display:"flex"},centerDropLabels:{marginLeft:"10px",maxWidth:"140px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},centerDropLabel:{display:"block",colro:"#272E4C",fontSize:12,marginTop:-2},errorLabel:{color:"#E53935",fontSize:"12px"},editIconContainer:{position:"absolute",right:"-3px",bottom:"0px",background:"#3AB77D",borderRadius:"100%",width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},editIcon:{color:"#ffffff",width:13,height:13},imageDropzone:{width:"18px",height:"24px"},previewPhoto:{width:"83px",height:"83px",borderRadius:"100%"},saveButton:{width:"135px",fontSize:"14px",color:"#fff"},cancelAdd:{width:"135px",fontSize:"14px",color:"#ffffff",marginRight:"20px",backgroundColor:"#3C394A","&:hover":{backgroundColor:"#302e3c"}},closeButton:{color:"#272E4C",position:"absolute",right:0,top:0,"&hover":{fontSize:"0.875rem"}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",padding:e.spacing(2,4,3),"&:focus":{outline:0}},cancelButton:{width:"135px",fontSize:"14px"},userAlignRight:{textAlign:"right"},inputLabel1:{color:"#272e4c",fontSize:"15px",marginBottom:"20px",marginTop:"35px"},errorIcon:{color:"#E53935"}}}),pe=function(){var e=b(),t=ue();s.a.useEffect(function(){a(),o()},[]);var a=function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.next=3,Object(g.f)(Object(f.a)()).catch(function(e){de(me({},pe,{open:!0,title:"Error",message:e.message}))});case 3:(t=e.sent)&&(E(t.body.profile_pic),K(t.body)),H(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),r=function(){de(me({},pe,{open:!1}))},o=function(){ce.c.StorageService("user_data","user_id").then(function(e){U(e.result),console.log("reponse",e,"wew")})},c=function(){z(!1),E(null)},m=s.a.useState(),u=Object(n.a)(m,2),p=u[0],E=u[1],h=s.a.useState(!1),R=Object(n.a)(h,2),M=R[0],z=R[1],L=s.a.useState(""),T=Object(n.a)(L,2),B=T[0],U=T[1],F=s.a.useState(!1),W=Object(n.a)(F,2),Y=W[0],H=W[1],V=s.a.useState({department:"",email:"",employee_id:"",first_name:"",group:{},is_locked:!1,job_title:"",last_name:"",location:"",main_module:"",main_role:"",middle_name:"",position:"",profile_pic:"",role:[],section:"",status:"",user_id:"",username:"",_id:""}),G=Object(n.a)(V,2),J=G[0],K=G[1],q=s.a.useState(),Q=Object(n.a)(q,2),Z=Q[0],$=Q[1],ee=s.a.useState("view"),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=s.a.useState({open:!1,title:"",message:"",onOkay:function(){de(me({},pe,{open:!1}))}}),se=Object(n.a)(re,2),pe=se[0],de=se[1];return s.a.createElement(s.a.Fragment,null,Y&&s.a.createElement(X.a.LoadingIndicator,null),s.a.createElement(x.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:M,className:t.modal,onClose:c,closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},s.a.createElement(O.a,{in:M},s.a.createElement("div",{className:t.paper},s.a.createElement(_.a,null,s.a.createElement(N.a,null,s.a.createElement(S.a,{className:t.closeButton,onClick:c},s.a.createElement(k.a,{icon:I.w})))),s.a.createElement("p",{id:"transition-modal-title",style:{fontSize:"20px"}},s.a.createElement("b",null,"Upload Picture")),s.a.createElement(A.a,{multiple:!1,onDrop:function(e){!function(e){["image/jpeg","image/jpg,","image/png"].includes(e[0].type)?E(e[0]):de(me({},pe,{open:!0,title:"Error selecting image",message:"Invalid file extension.",method:r}))}(e)}},function(a){var n=a.getRootProps,r=a.getInputProps;return s.a.createElement("section",n({className:"dropzone ".concat(e.dropzone)}),s.a.createElement("div",null,s.a.createElement("input",r()),s.a.createElement("div",{className:t.centerDrop},s.a.createElement(k.a,{style:{opacity:.56},icon:I.h,color:"#272E4C",size:"2x"}),s.a.createElement("div",{className:t.centerDropLabels},p&&p instanceof File?p.name:s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:t.centerDropLabel},"Drag or drop file."),s.a.createElement("span",{className:t.centerDropLabel},".jpg or .png"))))))}),s.a.createElement(j.a,{container:!0,spacing:1},s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{className:t.cancelButton,variant:"outlined",color:"secondary",onClick:c},"Cancel")),s.a.createElement(j.a,{item:!0,xs:6},s.a.createElement(w.a,{onClick:function(){var e=new FileReader;e.readAsDataURL(p),e.onload=function(){K(me({},J,{profile_pic:e.result.split(",")[1]})),c()}},className:t.saveButton,variant:"contained",color:"primary"},"Upload")))))),s.a.createElement(d.a,{headingTitle:J.username,breadCrumbsArray:oe,buttonFunc:function(){ne("edit")},buttonName:"Edit Account",layoutType:"layout_1",enableButton:"edit"!==ae}),s.a.createElement(j.a,{className:e.bodyContainer,container:!0,xs:12},s.a.createElement(j.a,{item:!0,xs:3,lg:2,className:e.sideBarContainer},s.a.createElement(C.a,{edge:"end",onClick:function(){}},s.a.createElement(D.a,{className:e.userImage,src:"DEFAULT_PIC"!==J.profile_pic?"data:image/jpeg;base64,".concat(J.profile_pic):"user.jpg",alt:"avatar"}),"edit"===ae&&s.a.createElement("span",{onClick:function(){return z(!0)},style:{position:"absolute",right:"15px",bottom:"15px",background:"#3AB77D",borderRadius:"100%",width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},s.a.createElement(y.a,{style:{color:"#ffffff",width:13,height:13}}))),s.a.createElement(P.a,{items:ie,activeItems:function(e){$(e)}})),s.a.createElement(j.a,{item:!0,xs:9,lg:10,className:e.contentContainer},s.a.createElement(le,{setMode:ne,userIdDb:B,userData:J,setUserData:K,mode:ae})),Z),s.a.createElement(X.a.MsgModal,{isModalOpen:pe.open,title:pe.title,message:pe.message,onClose:pe.onOkay}))},de=function(e){return e.users},fe=function(e){return{Map:Object(m.bindActionCreators)(p,e)}}}}]);
//# sourceMappingURL=7.2c88db86.chunk.js.map