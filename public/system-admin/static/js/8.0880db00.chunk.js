(window["webpackJsonpsystem-admin"]=window["webpackJsonpsystem-admin"]||[]).push([[8],{768:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(0),l=a.n(n),o=a(781),r=a(717),i=a(303),c=a(250),s=a(301),u=a(21),m=a(769),d=a.n(m),g=a(16),p=a(1),f=Object(p.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogTitle:{marginTop:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700}}}),h=function(e){var t=f();return l.a.createElement(r.a,{open:e.isModalOpen,onClose:e.onClose,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},l.a.createElement("div",null,l.a.createElement(g.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},l.a.createElement(g.a,{item:!0,xs:!0},l.a.createElement(s.a,{className:t.dialogTitle,disableTypography:!1,id:"form-dialog-title"},l.a.createElement(o.a,{fontWeight:700},e.title),l.a.createElement(u.a,{"aria-label":"close",className:t.closeButton,onClick:e.onClose},l.a.createElement(d.a,null)))),l.a.createElement(g.a,{item:!0,xs:!0,className:t.dialogContentContainer},e.message?l.a.createElement(c.a,null,l.a.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},l.a.createElement(g.a,{item:!0,xs:12},e.message))):null,e.children?e.children:null,l.a.createElement(i.a,{className:t.dialogAction},void 0!==e.buttons?e.buttons:null)))))};h.defaultProps={isModalOpen:!1}},771:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(0),l=a(757),o=a(1),r=Object(o.a)({root:{position:"fixed",width:"100%",height:"100%",zIndex:9999,right:"0px",bottom:"0px",top:"0px",left:"0px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{height:"100%",outline:0,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"}}),i=function(){var e=r();return n.createElement("div",{className:e.root},n.createElement("div",{className:e.container},n.createElement(l.a,{size:150})))};i.defaultProps={}},774:function(e,t,a){"use strict";a.d(t,"a",function(){return k});var n=a(30),l=a(309),o=a(0),r=a(182),i=a(775),c=a(778),s=a(70),u=a(68),m=a(251),d=a(249),g=a(811),p=a(19),f=a(821),h=a(50),E=a(771),v=(a(777),a(96)),b=a(763),x=a(185),S=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"deactivated",label:"Deactivated"},{value:"awaiting activation",label:"Awaiting activation"}],y=function(e){var t=e.items,a=Object(l.a)(e,["items"]);return o.createElement(m.a,Object.assign({variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return o.createElement(d.a,{key:t,value:e.value},e.label)}))},C=function(e){var t=e.filter,a=e.onFilter,n=e.filteringEnabled,l=e.classes,r=e.column;return n?"action_delete"===r.name?o.createElement(g.a,{style:{padding:"0px 10px 8px 10px"},classes:l}):"last_login"===r.name?o.createElement(g.a,{style:{padding:"0px 10px 8px 10px"},classes:l},o.createElement(v.a,{utils:x.a},o.createElement(b.a,{variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",value:t?t.value:"",invalidDateMessage:"",onChange:function(e){a(e?{value:e.toISOString()}:null)}}))):"status"===r.name?o.createElement(g.a,{classes:l,style:{paddingTop:"5px"}},o.createElement(y,{onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},name:"status",items:S,id:"status",value:t?t.value:""})):o.createElement(g.a,{style:{padding:"0px 10px 8px 10px"},classes:l},o.createElement(p.a,{classes:l,style:{width:"100%"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):null},w=function(e){return"asc"===e.direction?o.createElement(s.a,{style:{marginLeft:"10px"},icon:u.r}):o.createElement(s.a,{style:{marginLeft:"10px"},icon:u.q})},O=function(e){var t=e.column,a=e.onSort,n=e.children,l=e.direction;return"action_delete"===t.name?null:o.createElement(f.a,{hideSortIcon:!0,onClick:a,style:{textOverflow:"ellipsis",overflow:"hidden"}},n,l?o.createElement(w,{direction:l}):o.createElement(s.a,{style:{marginLeft:"10px"},icon:u.p}))},P=function(e){var t=e.expanded;return o.createElement(o.Fragment,null,o.createElement("div",{style:{padding:"8.5px 12px",display:"table-cell",verticalAlign:"middle"}},o.createElement(s.a,{icon:t?u.b:u.a,size:"2x",color:"rgba(0, 0, 0, 0.54)"})))},k=function(e){var t=e.rows,a=e.columns,l=e.disableSort,m=e.disableFilter,d=e.enableGrouping,p=e.groupColumnName,f=e.viewOnly,v=e.message,b=e.columnExtensions,x=e.sortingStateColumnExtensions,S=e.defaultSorting,y=e.onDeleteRow,w=e.enableSelection,k=e.enableSelectAll,A=e.onRowClick,N=e.totalCount,T=e.onPageChange,z=e.currentPage,_=e.pageSize,j=e.onSetPageSize,R=e.onCheckRow,I=e.onSelectGroup,M=e.loading,D=e.onSortingChange,L=e.enableIntegratedSorting,W=e.enableOpenGroupTotalChecked,F=o.useState([]),q=Object(n.a)(F,2),G=q[0],B=q[1],Y=o.useState([5,10,15]),U=Object(n.a)(Y,1)[0],V=o.useState([]),H=Object(n.a)(V,2),J=H[0],$=H[1],K=function(e){var t=e.row,a=e.onToggle;return o.createElement(g.a,null,o.createElement(h.a,{icon:o.createElement(s.a,{icon:u.l}),checkedIcon:o.createElement(s.a,{icon:u.d}),checked:t.checked,onClick:function(e){e.stopPropagation(),a(),R&&R(t)}}))};return o.createElement("div",{style:{padding:"10px 0"}},o.createElement(r.a,null,o.createElement(c.a,{rows:t,columns:a},o.createElement(i.n,{currentPage:z,onCurrentPageChange:T,pageSize:_,onPageSizeChange:j}),o.createElement(i.b,{totalCount:N}),!l&&D?o.createElement(i.r,{defaultSorting:S,columnExtensions:x,sorting:J,onSortingChange:function(e){D&&D(e),$(e)}}):l?null:o.createElement(i.r,{defaultSorting:[]}),f?null:o.createElement(i.q,{selection:G,onSelectionChange:function(e){A?w||A(e[0]):B(e)}}),d&&p?o.createElement(i.h,{grouping:[{columnName:p}]}):null,m?null:o.createElement(i.e,{onFiltersChange:e.onFilterChange}),L?o.createElement(i.l,null):null,d?o.createElement(i.j,null):null,o.createElement(c.d,{columnExtensions:b,messages:{noData:v},cellComponent:function(e){var t=e.value,a=e.row;return"action_delete"===e.column.name?o.createElement(g.a,{style:{padding:"0px 30px 8px 10px",textAlign:"right"}},o.createElement("span",{onClick:function(){y&&y(a)}},o.createElement(s.a,{icon:u.k}))):o.createElement(g.a,null,t)}}),o.createElement(c.h,{showSortingControls:!l,sortLabelComponent:O}),o.createElement(c.b,{pageSizes:d?[30,40,50]:U}),f?null:o.createElement(c.i,{highlightRow:!0,selectByRowClick:!0,showSelectAll:!!k||void 0,cellComponent:K,showSelectionColumn:w}),d?o.createElement(c.g,{contentComponent:function(e){var a=e.row,n=!1,l=0,r=0;return t.map(function(e){e.name===a.value&&(r++,e.checked&&(n=!0,l++))}),f?f&&W?o.createElement(o.Fragment,null,o.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},o.createElement("span",null,a.value)),o.createElement("div",{style:{padding:"8.5px 30px",display:"table-cell",verticalAlign:"middle"}},o.createElement("span",null,l,"/",r))):o.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},o.createElement("span",null,a.value)):o.createElement(o.Fragment,null,o.createElement("div",{style:{padding:"8.5px 15.5px",display:"table-cell",verticalAlign:"middle"}},o.createElement(h.a,{icon:o.createElement(s.a,{icon:u.l}),checkedIcon:o.createElement(s.a,{icon:u.d}),checked:n,onClick:function(e){e.stopPropagation(),I&&I(a.value)}})),o.createElement("div",{style:{padding:"8.5px 2px",display:"table-cell",verticalAlign:"middle"}},o.createElement("span",null,a.value)),o.createElement("div",{style:{padding:"8.5px 30px",display:"table-cell",verticalAlign:"middle"}},o.createElement("span",null,l,"/",r)))},iconComponent:P}):null,m?null:o.createElement(c.f,{cellComponent:C})),M&&o.createElement(E.a,null)))};k.defaultProps={rows:[],columns:[],enableIntegratedSorting:!1,disableSort:!1,disableFilter:!1,enableGrouping:!1,enableSelection:!1,enableSelectAll:!1,enableOpenGroupTotalChecked:!1,groupColumnName:"",viewOnly:!0,columnExtensions:[],message:"",sortingStateColumnExtensions:[],defaultSorting:[],totalCount:0,currentPage:0,pageSize:0,groupNameChecked:[],loading:!1}},777:function(e,t,a){},818:function(e,t,a){"use strict";a.r(t);var n=a(30),l=a(34),o=a(0),r=a.n(o),i=a(13),c={ResetReducer:"Users_ResetReducer",SetReducer:"Users_SetReducer"},s=function(e){return{payload:e,type:c.SetReducer}},u=a(4),m=a(1),d=a(816),g=a(812),p=a(16),f=a(86),h=a(105),E=a(116),v=a(119),b=a(117),x=a(118),S=a(39),y=a(33),C=a(70),w=a(68),O=a(774),P=a(308),k=a(165),A=a(159),N=a(771),T=a(768),z=a(314),_=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).APIGetRolesList=function(e,t,n){a.setState({loading:!0});var l=e*t;a.setState({currentPage:e},function(){a.setState({skip:l})});var o={limit:t,skip:l};Object(k.k)(o,a.state.default_filter,a.state.order,n).then(function(n){console.log(Math.ceil(n.count/t)-1),a.setState({rows:n.body,loading:!1,totalCount:n.count,currentPage:a.state.currentPage>Math.ceil(n.count/t)-1?Math.ceil(n.count/t)-1:e,limit:t})}).catch(function(){a.setState({rows:[],loading:!1,totalCount:0})})},a.handleTimeOutSearchTableRoles=function(e){a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({currentPage:0},function(){a.setState({query:e,typingTimeout:setTimeout(function(){a.setState({loading:!0}),a.APIGetRolesList(a.state.currentPage,a.state.limit,a.state.query)},3e3)})})},a.onSearchTableRoles=function(){a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),a.setState({loading:!0,currentPage:0},function(){a.APIGetRolesList(0,a.state.limit,a.state.query)})},a.handleOnFilterChange=function(e){var t={};a.state.typingTimeout&&clearTimeout(a.state.typingTimeout),e.map(function(e){return"status"===e.columnName?"all"!==e.value?t[e.columnName]="".concat(e.value):"":t[e.columnName]={like:"".concat(e.value,".*"),options:"i"}}),a.setState({default_filter:t,currentPage:0,typingTimeout:setTimeout(function(){a.setState({loading:!0}),a.APIGetRolesList(a.state.currentPage,a.state.limit,a.state.query)},1500)})},a.handleSortChange=function(e){a.setState({order:"".concat(e[0].columnName," ").concat(e[0].direction.toUpperCase()),loading:!0},function(){a.APIGetRolesList(a.state.currentPage,a.state.limit,a.state.query)})},a.handleRowClick=function(e){var t=a.state.rows;a.setState({redirect_to_role:!0,redirect_data:t[e]})},a.handleAddRole=function(){console.log("handleAddRole"),a.setState({isModuleModalOpen:!0})},a.handleContinueRole=function(){var e=a.state.moduleItems[Number(a.state.moduleValue)].name;console.log(e,"datawew"),a.setState({redirect_to_addrole:!0,redirect_data:e})};return a.state={loading:!0,columns:[{name:"name",title:"Role Name"},{name:"role_id",title:"Role ID"},{name:"associate_groups",title:"Associated Groups"},{name:"module",title:"Module"},{name:"status",title:"Status"}],rows:[],redirect_to_role:!1,redirect_to_addrole:!1,redirect_data:[],isModuleModalOpen:!1,moduleItems:[{name:"User Management",value:0},{name:"Membership",value:1},{name:"Underwriting",value:2},{name:"Customer Care",value:3},{name:"Claims",value:4}],moduleValue:0,totalCount:0,currentPage:0,typingTimeout:0,limit:10,order:"",default_filter:[],query:"",skip:0},a}return Object(x.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({loading:!0},function(){t.APIGetRolesList(e.state.currentPage,e.state.limit,e.state.query)})}},{key:"render",value:function(){var e=this;return this.state.redirect_to_role?o.createElement(o.Fragment,null,o.createElement(A.a,{to:{pathname:"/system-admin/roles/"+this.state.redirect_data._id}})):this.state.redirect_to_addrole?o.createElement(A.a,{to:{pathname:"/system-admin/add-roles",state:{from:this.state.redirect_data}}}):o.createElement("div",null,this.state.loading?o.createElement(N.a,null):null,o.createElement(p.a,{container:!0,alignItems:"center",style:{textAlign:"center"},spacing:4},o.createElement(p.a,{item:!0,xs:8,md:9},o.createElement(P.a,{placeholder:"Search a role",onSearch:this.onSearchTableRoles,onChange:this.handleTimeOutSearchTableRoles})),o.createElement(p.a,{item:!0,xs:4,md:3},o.createElement(p.a,{container:!0},o.createElement(p.a,{item:!0,xs:6},o.createElement(C.a,{icon:w.e,className:this.props.classes.addFieldIcon}),o.createElement(S.a,{className:this.props.classes.linkStyleSelected},"Generate Report")),o.createElement(p.a,{item:!0,xs:6},o.createElement(C.a,{icon:w.n,className:this.props.classes.addFieldIcon}),o.createElement(S.a,{className:this.props.classes.linkStyleSelected,onClick:function(){return e.handleAddRole()}},"Add Role"))))),o.createElement(O.a,{rows:this.state.rows,columns:this.state.columns,message:"There are no user roles to show yet.",viewOnly:!1,enableSelection:!1,onRowClick:this.handleRowClick,totalCount:this.state.totalCount,currentPage:this.state.currentPage,pageSize:this.state.limit,defaultFilters:this.state.default_filter,onFilterChange:this.handleOnFilterChange,onSortingChange:this.handleSortChange,onSetPageSize:function(t){e.APIGetRolesList(e.state.currentPage,t,e.state.query)},onPageChange:function(t){e.APIGetRolesList(t,e.state.limit,e.state.query)}}),o.createElement(T.a,{isModalOpen:this.state.isModuleModalOpen,onClose:function(){e.setState({isModuleModalOpen:!1})},message:"Select a module for the role you will create:",title:"Choose a Module",buttons:o.createElement(p.a,{container:!0,justify:"center",alignItems:"center",style:{textAlign:"center"}},o.createElement(p.a,{item:!0,xs:6},o.createElement(y.a,{onClick:function(){e.setState({isModuleModalOpen:!1})},variant:"outlined",color:"secondary",className:this.props.classes.button},"Cancel")),o.createElement(p.a,{item:!0,xs:6},o.createElement(y.a,{className:this.props.classes.button,variant:"contained",color:"primary",onClick:function(){return e.handleContinueRole()}},"Continue")))},o.createElement("div",{style:{width:"90%",margin:"auto"}},o.createElement(z.a,{menuItems:this.state.moduleItems,width:"100%",value:this.state.moduleValue,onChange:function(t){e.setState({moduleValue:t.target.value})}}))))}}]),t}(o.Component),j=a(309),R=a(778),I=a(775),M=a(96),D=a(763),L=a(185),W=a(251),F=a(249),q=a(811),G=a(19),B=a(821),Y=[{columnName:"username",wordWrapEnabled:!0},{columnName:"first_name",wordWrapEnabled:!0},{columnName:"group",wordWrapEnabled:!0},{columnName:"roles",wordWrapEnabled:!0}],U=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"deactivated",label:"Deactivated"},{value:"locked",label:"Locked"},{value:"awaiting activation",label:"Awaiting activation"}],V=function(e){var t=e.items,a=Object(j.a)(e,["items"]);return r.a.createElement(W.a,Object.assign({variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return r.a.createElement(F.a,{key:t,value:e.value},e.label)}))},H=function(e){var t=e.filter,a=e.onFilter,n=e.filteringEnabled,l=e.classes,o=e.column;return n?"last_login"===o.name||"expiry_date"===o.name?r.a.createElement(q.a,{style:{padding:"0px 10px 8px 10px"},classes:l},r.a.createElement(M.a,{utils:L.a},r.a.createElement(D.a,{disabled:!0,variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",value:t?t.value:"",invalidDateMessage:"",onChange:function(e){console.log(e),a(e?{value:e.toISOString()}:null)}}))):"status"===o.name?r.a.createElement(q.a,{classes:l,style:{paddingTop:"5px"}},r.a.createElement(V,{onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},name:"status",items:U,id:"status",value:t?t.value:""})):r.a.createElement(q.a,{style:{padding:"0px 10px 8px 10px"},classes:l},r.a.createElement(G.a,{classes:l,style:{width:"100%"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):null},J=function(e){return"asc"===e.direction?r.a.createElement(C.a,{style:{marginLeft:"10px"},icon:w.r}):r.a.createElement(C.a,{style:{marginLeft:"10px"},icon:w.q})},$=function(e){var t=e.column,a=e.onSort,n=e.children,l=e.direction;return void 0!==t.sortingEnabled&&null!==t.sortingEnabled&&!1===t.sortingEnabled?r.a.createElement("span",null,t.title):r.a.createElement(B.a,{hideSortIcon:!0,onClick:a},n,l?r.a.createElement(J,{direction:l}):r.a.createElement(C.a,{style:{marginLeft:"10px"},icon:w.p}))},K=function(e){var t=e.rows,a=e.columns,l=e.totalCount,o=e.currentPage,i=e.pageSize,c=e.pageSizes,s=e.onFilterChange,u=e.onCurrentPageChange,m=e.onPageSizeChange,d=e.onSortingChange,g=e.onRowClick,p=r.a.useState([]),f=Object(n.a)(p,2),h=f[0],E=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{getRowId:function(e){return e._id},rows:t,columns:a},r.a.createElement(I.e,{onFiltersChange:s}),r.a.createElement(I.q,{selection:h,onSelectionChange:function(e){E(e),g(e)}}),r.a.createElement(I.r,{onSortingChange:d}),r.a.createElement(I.n,{currentPage:o,pageSize:i,onCurrentPageChange:u,onPageSizeChange:m}),r.a.createElement(I.b,{totalCount:l}),r.a.createElement(R.k,{columnExtensions:Y}),r.a.createElement(R.h,{showSortingControls:!0,sortLabelComponent:$}),r.a.createElement(R.f,{cellComponent:H}),r.a.createElement(R.i,{selectByRowClick:!0,highlightRow:!0,showSelectionColumn:!1}),r.a.createElement(R.b,{pageSizes:c})))},Q=[{name:"username",title:"Username"},{name:"first_name",title:"Name"},{name:"group",title:"User Group"},{name:"roles",title:"User Role/s"},{name:"last_login",title:"Last Login Date"},{name:"expiry_date",title:"Expiry Date"},{name:"status",title:"Status"}],X=[10,15,20],Z=a(156),ee=a(137),te=a(127),ae=a(7),ne=a.n(ae);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var re=Object(m.a)({addFieldIcon:{color:"#3AB77D",cursor:"pointer",fontSize:"13px",marginRight:"8px",marginLeft:"20px"},searchSection:{marginBottom:"21px"},label:{color:"#272E4C",fontSize:13},value:{color:"#3AB77D",fontSize:13,fontWeight:800,marginRight:"10px"},tableTop:{padding:"20px"},searchTabAction:{display:"flex",justifyContent:"flex-end"},linkStyleSelected:{"&:hover":{fontWeight:"normal"}}}),ie=function(){var e=re();r.a.useEffect(function(){t({pageSize:10,offset:0},!0)},[]);var t=function(e,t){d(!0),Object(Z.f)(e.pageSize,e.offset,e.where,e.order,e.query).then(function(n){if(console.log(n),n.error){var l=oe({},e,{rows:[],totalCount:0});a(l)}else{var o=oe({},e,{rows:n.body,totalCount:n.count});t&&!0===t&&(R(n.summary),L(n.statuses)),a(o)}d(!1)}).catch(function(){console.log("catch"),d(!1);var t=oe({},e,{rows:[],totalCount:0});a(t)})},a=function(e){c(oe({},i,{},e))},l=r.a.useState({rows:[],currentPage:0,totalCount:0,pageSize:10,offset:0,order:"",where:{},query:""}),o=Object(n.a)(l,2),i=o[0],c=o[1],s=r.a.useState(!0),u=Object(n.a)(s,2),m=u[0],d=u[1],g=r.a.useState(!1),f=Object(n.a)(g,2),h=f[0],E=f[1],v=r.a.useState(""),b=Object(n.a)(v,2),x=b[0],y=b[1],O=r.a.useState(0),k=Object(n.a)(O,2),N=k[0],T=k[1],z=r.a.useState(),_=Object(n.a)(z,2),j=_[0],R=_[1],I=r.a.useState(),M=Object(n.a)(I,2),D=M[0],L=M[1];return!0===h?r.a.createElement(A.a,{to:"account/".concat(x)}):r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(ee.a.LoadingIndicator,null),r.a.createElement(p.a,{container:!0,xs:12,spacing:2,direction:"row",justify:"center",alignItems:"center",className:e.searchSection},r.a.createElement(p.a,{item:!0,xs:9},r.a.createElement(P.a,{onChange:function(e){N&&clearTimeout(N),T(setTimeout(function(){var a={currentPage:0,pageSize:i.pageSize,offset:0,order:i.order,where:i.where,query:e};t(a)},3e3))},placeholder:"Search user",onSearch:function(e){N&&clearTimeout(N);var a={currentPage:0,pageSize:i.pageSize,offset:0,order:i.order,where:i.where,query:e};t(a)}})),r.a.createElement(p.a,{xs:3,md:3},r.a.createElement("div",{className:e.searchTabAction},r.a.createElement(ee.a.GenerateReport,null),r.a.createElement(C.a,{icon:w.n,className:e.addFieldIcon}),r.a.createElement(te.b,{to:"/system-admin/adduser"},r.a.createElement(S.a,{className:e.linkStyleSelected},"Add User"))))),r.a.createElement("div",{style:{boxShadow:"0px 3px 6px #00000029"}},r.a.createElement(p.a,{container:!0,className:e.tableTop},j&&Object.entries(j).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{style:{textAlign:"center"},item:!0,xs:4},r.a.createElement("span",{className:e.value},j.total_users),r.a.createElement("span",{className:e.label},"TOTAL")),r.a.createElement(p.a,{style:{textAlign:"center"},item:!0,xs:4},r.a.createElement("span",{className:e.value},j.active_users),r.a.createElement("span",{className:e.label},"ACTIVE")),r.a.createElement(p.a,{style:{textAlign:"center"},item:!0,xs:4},r.a.createElement("span",{className:e.value},j.deactivated_users),r.a.createElement("span",{className:e.label},"INACTIVE"))):"Loading..."),r.a.createElement(K,{rows:function(e){var t=[];return e.length>0?(e.forEach(function(e){var a=oe({},e,{first_name:"".concat(e.full_name),group:e.hasOwnProperty("group")?e.group.name:"N/A",roles:e.hasOwnProperty("roles")&&e.roles.length>0?e.roles.map(function(t,a){return"".concat(t.name).concat(a!==e.roles.length-1?", ":"")}):"N/A",expiry_date:e.hasOwnProperty("expiry_date")?ne()(e.expiry_date).format("MMM DD, YYYY"):"N/A",last_login:e.hasOwnProperty("last_login")?ne()(e.last_login).format("MMM DD, YYYY"):"N/A",status:e.hasOwnProperty("status")?r.a.createElement("span",{style:{textTransform:"capitalize"}},e.status):"N/A"});t.push(a)}),t):[]}(i.rows),columns:Q,pageSize:i.pageSize,pageSizes:X,currentPage:i.currentPage,totalCount:i.totalCount,statusOptions:D,onRowClick:function(e){y(e),E(!0)},onFilterChange:function(e){N&&clearTimeout(N),T(setTimeout(function(){var a={currentPage:0,pageSize:i.pageSize,offset:0,order:i.order,where:{},query:i.query};e.map(function(e){return"first_name"===e.columnName?a.where=oe({},a.where,{or:[{first_name:{like:"".concat(e.value,".*"),options:"i"}},{middle_name:{like:"".concat(e.value,".*"),options:"i"}},{last_name:{like:"".concat(e.value,".*"),options:"i"}}]}):"group"===e.columnName?a.where.group_name={like:"".concat(e.value,".*"),options:"i"}:"roles"===e.columnName?a.where["main_role.name"]={like:"".concat(e.value,".*"),options:"i"}:"status"===e.columnName?a.where.status=e.value:a.where[e.columnName]={like:"".concat(e.value,".*"),options:"i"}}),console.log(a),t(a)},3e3))},onCurrentPageChange:function(e){var a={pageSize:i.pageSize,currentPage:e,offset:i.pageSize*e,order:i.order,where:i.where,query:i.query};t(a)},onPageSizeChange:function(e){var a={pageSize:e,offset:i.offset,order:i.order,where:i.where,query:i.query};i.currentPage>Math.ceil(i.totalCount/e)-1&&(a.currentPage=Math.ceil(i.totalCount/e)-1,a.offset=(Math.ceil(i.totalCount/e)-1)*e),t(a)},onSortingChange:function(e){var a=oe({},e[0],{direction:e[0].direction.toUpperCase()});"roles"===a.columnName&&(a=oe({},e[0],{columnName:"main_role.name"}));var n=Object.values(a).join(" "),l={pageSize:i.pageSize,offset:i.offset,order:[n],where:i.where,query:i.query};t(l)}})))},ce=a(213);a.d(t,"UsersPage",function(){return ge}),a.d(t,"mapStateToProps",function(){return pe}),a.d(t,"mapDispatchToProps",function(){return fe});var se=["Accounts","Roles","Groups"],ue=Object(u.a)({root:{},indicator:{display:"none"}})(d.a),me=Object(u.a)({root:{color:"rgba(39, 46, 76, 0.5)",minWidth:80,paddingLeft:24,paddingRight:24,fontSize:"0.875rem",fontWeight:400,"&:hover":{color:"rgba(39, 46, 76, 1)",fontWeight:400},"&$selected":{textDecoration:"underline",color:"#3AB77D",fontWeight:600}},selected:{}})(g.a),de=Object(m.a)(function(e){return{gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:16,fontWeight:400,color:"#272e4c"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(l.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},gridContainer:{backgroundColor:"",minHeight:"100px"},breadCrumbs:{marginBottom:"20px"},headerTitle:{fontSize:"1.5rem",alignItems:"flex-start",fontWeight:600,paddingBottom:"20px"},linkPrevious:{fontSize:12,fontWeight:300,color:"black",cursor:"pointer",textDecoration:"underline"},sideBar:{borderRight:"1px solid #C3C3C3"},selectedpage:{paddingLeft:"37px"},linkCurrent:{fontSize:12,fontWeight:600,color:"black",cursor:"pointer"},main:{backgroundColor:"#F5F7FB",padding:"32px 24px"},gridItemLayout:{padding:e.spacing(1)},avatar:{width:"130px",height:"130px"},linkStyleSelected:{"&:hover":{fontWeight:"normal"}},sideNavHeader:{fontSize:13,fontWeight:700,color:"rgba(39, 46, 76, 0.3)"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"#2c2e8e",cursor:"pointer",textDecoration:"underline"},listItemTextPrimaryNotSelected:{fontSize:14,color:"#272e4c",cursor:"pointer"},addFieldIcon:{color:"#3AB77D",cursor:"pointer",fontSize:"13px",marginRight:"8px"},addACode:{paddingRight:"15px",marginTop:15,textAlign:"center"},codeHeader:{color:"#272E4C",textAlign:"left",opacity:1,letterSpacing:0,textAlignLast:"left",fontSize:"16px"},codeItems:{color:"#272E4C",textAlign:"left",opacity:.6,letterSpacing:0,textAlignLast:"left",fontSize:"12px"},codeListItems:{color:"#272E4C",textAlign:"left",opacity:1,letterSpacing:0,textAlignLast:"left",fontSize:"12px","&:hover":{textDecoration:"underline",color:"#3AB77D",fontWeight:600},"&$selected":{textDecoration:"underline",color:"#3AB77D",fontWeight:600}}}}),ge=function(){var e=Object(o.useState)(0),t=Object(n.a)(e,2),a=t[0],l=t[1],r=de();return o.useEffect(function(){"roles"===Object(ce.a)()&&l(1)},[]),o.createElement("div",{className:r.main},o.createElement(p.a,{container:!0,justify:"space-between",alignItems:"center",className:r.gridContainer},o.createElement(p.a,{item:!0},o.createElement(f.a,{className:r.headerTitle},"Users",o.createElement(ue,{value:a,onChange:function(e,t){l(t)},"aria-label":"page tab"},se.map(function(e,t){return o.createElement(me,{label:e,id:"users_tab_"+t,"aria-controls":"users-tabpanel-"+t,key:t})}))))),o.createElement(p.a,{container:!0},o.createElement(p.a,{item:!0,xs:12,md:12,className:r.selectedpage},0===a?o.createElement(ie,null):1===a?o.createElement(_,{classes:r}):null)))},pe=function(e){return e.users},fe=function(e){return{Map:Object(i.bindActionCreators)(s,e)}}}}]);
//# sourceMappingURL=8.0880db00.chunk.js.map