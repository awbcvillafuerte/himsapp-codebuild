(this["webpackJsonphims-billingcollection-claims-partnernetwork"]=this["webpackJsonphims-billingcollection-claims-partnernetwork"]||[]).push([[3],{1448:function(t,e,a){"use strict";a.r(e),a.d(e,"createDentalClinicForm",(function(){return p})),a.d(e,"updateDentalClinicAndDentist",(function(){return m})),a.d(e,"fetchData",(function(){return h}));var i=a(5),n=a.n(i),r=a(1),s=a(32),c=a(10),o=a(710),l=a(685),u=a(672),d={stageName:"ENCODING",status:"Active",affiliationStatus:"In-Progress"};function p(t,e,a,i){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(n.a.mark((function t(e,a,i,s){var c,u,p,f,m,b,h,_,N;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="",u="",t.prev=2,p=Object(r.a)({},e),f=Object(r.a)(Object(r.a)({},a),d),m=Object(r.a)({},i),t.prev=6,f.type="DENTIST",delete f.stageName,t.next=11,o.a.createdPartnerDoctor(Object(r.a)(Object(r.a)({},f),m));case 11:if(b=t.sent,!(h=b.data.data.id)){t.next=23;break}return p.dentistId=h,c=h,f.type="DENTAL_CLINIC",t.next=19,l.a.createFacilities(Object(r.a)(Object(r.a)({},f),p));case 19:_=t.sent,N=_.data.data.id,u=N,s(!0);case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(6),console.log("error",t.t0);case 28:return f.type="DENTAL_CLINIC",f.id=u,f.stageName="ENCODING",t.abrupt("return",{clinicId:u,dentistId:c,affilType:f,dentalClinicForm:p});case 34:t.prev=34,t.t1=t.catch(2),console.log("error",t.t1);case 37:case"end":return t.stop()}}),t,null,[[2,34],[6,25]])})))).apply(this,arguments)}function m(t,e,a,i,n,r){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(n.a.mark((function t(e,a,i,s,c,u){var d,p,f,m,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=Object(r.a)({},i),p=Object(r.a)({},i),c.dentistId=a,d.type="DENTAL_CLINIC",d.id=e,t.next=7,l.a.updateFacilities(e,Object(r.a)(Object(r.a)({},d),c));case 7:return f=t.sent,p.type="DENTIST",p.id=a,delete p.stageName,t.next=13,o.a.updatePartnerDoctor(a,Object(r.a)(Object(r.a)({},p),s));case 13:return m=t.sent,t.prev=14,d.stageName="ENCODING",t.next=18,Promise.all([f,m]);case 18:return b=t.sent,console.log("ressssss",b),u(!0),t.abrupt("return",{dentalClinicAffil:d,dentistAffil:p});case 24:t.prev=24,t.t0=t.catch(14),console.log("update errorr",t.t0);case 27:case"end":return t.stop()}}),t,null,[[14,24]])})))).apply(this,arguments)}function h(t,e){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(n.a.mark((function t(e,a){var i,r,s,c,o,u,d,p,f,m,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.prev=1,t.next=4,l.a.getDentalClinicById(e);case 4:if(i=t.sent,r=i.data.data,s=N(r),c=s.affilType,o=s.form,u=s.dentistId,d=s.dentalAssociates,p=s.remarks,!u){t.next=15;break}return t.next=10,g(u);case 10:return f=t.sent,m=f.dentistProfile,b=f.tinStatus,a(!1),t.abrupt("return",{dentalClinicData:o,dentistData:m,dentalAssociates:d,remarks:p,tinStatus:b,dentistId:u,affilType:c});case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),a(!1),console.log("errors sa fetch",t.t0);case 21:case"end":return t.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}function N(t){var e={stageName:"",status:"",affiliationStatus:"",affiliationType:"",dateReceived:"",mno:"",type:"",id:""},a={unitFlrBldg:"",bldgName:"",street:"",subdivision:"",region:"",district:"",barangay:"",city:"",zipCode:"",email:""},i={dentalAssociates:[],affiliationInfos:[]},n={internalRemarks:"",externalRemarks:""};if(t){var r=t.email,c=t.stage,o=t.status,l=t.id,u=t.type,d=t.name,p=t.mno,f=t.address,m=t.remarks,b=t.treasury;a.name=d,a.roomNumber=t.room_number,a.clinicSchedule=t.clinic_schedule,a.natureOfPractice=t.nature_of_practice,a.payee=b.payee,a.district=f.district,a.region=f.region,a.street=f.street,a.unitFlrBldg=f.unit_flr_bldg,a.bldgName=f.building_name,a.city=f.city,a.barangay=f.barangay,a.subdivision=f.subdivision,a.zipCode=f.zip_code,i.affiliationInfos=t.affiliation_infos?Object(s.a)(t.affiliation_infos):[],i.dentalAssociates=t.dental_associates?Object(s.a)(t.dental_associates):[],a.dentistId=t.dentist_id,a.email=r||"",a.contactPerson=t.contact_person||"",a.contactPersonNo=t.contact_person_no||"",n.internalRemarks=m.internal_remarks,n.externalRemarks=m.external_remarks,e.status=o,e.mno=p,e.type=u,e.id=l,e.affiliationStatus=t.affiliation_status?t.affiliation_status.name:"",e.stageName=c.stage_name,e.status=o,e.dateSubmitted=c.date_submitted}return{affilType:e,form:a,dentistId:t.dentist_id?t.dentist_id:null,remarks:n,dentalAssociates:i}}function g(t){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(n.a.mark((function t(e){var a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.getPartnerDoctorById(e);case 3:return a=t.sent,i=a.data.data,t.abrupt("return",y(i));case 8:t.prev=8,t.t0=t.catch(0),console.log("error dentist",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function y(t){var e={firstName:"",middleName:"",lastName:"",suffix:"",birthDate:"",civilStatus:"",gender:"",emailAddress:"",contactNumber:"",mainSpecialization:"",majorSpecialization:"",otherSpecialization:"",subSpecialization:"",pda:"",prcNumber:"",prcExpiration:"",philhealthNumber:"",philhealthExpiration:"",tinNumber:"",id:""},a=t.philhealth,i=t.gender,n=t.name,r=t.specialization,s=t.birthdate,c=t.license,o=t.treasury,l=t.id,d={};return e.philhealthNumber=a.accreditation_number?a.accreditation_number.toString():"",e.philhealthExpiration=a.expiration_date?Object(u.dateFormat)(a.expiration_date,""):"",e.mainSpecialization=r.main?r.main:"",e.majorSpecialization=r.major?r.major:"",e.otherSpecialization=r.other?r.other:"",e.subSpecialization=r.sub?r.sub:"",e.firstName=n.first?n.first:"",e.lastName=n.last?n.last:"",e.middleName=n.middle?n.middle:"",e.suffix=n.suffix?n.suffix:"",e.gender=i,e.civilStatus=t.civil_status,e.prcNumber=c.prc?c.prc.number:"",e.id=l,e.pda=c.pda?c.pda:"",e.prcExpiration=c.prc?Object(u.dateFormat)(c.prc.expiration_date,""):"",e.tinNumber=o.tin?o.tin:"",e.emailAddress=t.email_address,e.contactNumber=t.contact_number,e.birthDate=s?Object(u.dateFormat)(s,""):"",d.tinStatus=o.tin_status?o.tin_status:"",d.vatTaxRate=o.vat?o.vat.tax_rate:"",d.nonVatable=o.non_vatable?o.non_vatable:"",{dentistProfile:e,tinStatus:d}}}}]);
//# sourceMappingURL=3.1b851188.chunk.js.map