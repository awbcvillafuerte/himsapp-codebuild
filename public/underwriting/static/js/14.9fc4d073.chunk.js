(window.webpackJsonpunderwriting=window.webpackJsonpunderwriting||[]).push([[14],{1083:function(e,t,a){"use strict";t.a={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},1340:function(e,t,a){"use strict";a.r(t);var n=a(188),o=a(64),l=a(0),r=a.n(l),i=a(741),c=a(70),s=a(73),d=a(283),u=a(771),m=a(765),p=a(278),g=a(277),f=a(272),b=a(1338),h=a(1311),v=a(19),_=a(37),x=a(1325),E=Object(p.a)({root:{"& > div":{backgroundColor:"transparent"},"& .Mui-disabled":{color:"#272E4C"}}}),w=Object(p.a)({keyboardDatePicker:{width:"100%"}}),C=function(e){var t=e.items,a=Object(d.a)(e,["items"]);return l.createElement(g.a,Object.assign({variant:"outlined",style:{width:"100%"},renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},a),t.map(function(e,t){return l.createElement(f.a,{key:t,value:e.value},e.label)}))},y=[{label:"All",value:"All"},{label:"Closed",value:"Active"},{label:"Approved",value:"Approved"},{label:"Disapproved",value:"Disapproved"},{label:"For Approval",value:"For Approval"},{label:"Signed",value:"Signed"},{label:"For Revision",value:"For Revision"},{label:"Submitted",value:"Submitted"},{label:"Resubmitted",value:"Resubmitted"},{label:"Expired",value:"Expired"},{label:"Awaiting Activation",value:"Awaiting Activation"}],S=function(e){return"asc"===e.direction?l.createElement(c.a,{style:{marginLeft:"10px"},icon:s.D}):l.createElement(c.a,{style:{marginLeft:"10px"},icon:s.C})},k=function(e){var t=e.onSort,a=e.children,n=e.direction;return l.createElement(b.a,{hideSortIcon:!0,onClick:t},a,a.props&&"Action"!==a.props.children?n?l.createElement(S,{direction:n}):l.createElement(c.a,{style:{marginLeft:"10px"},icon:s.B}):"")},j=function(e){var t=e.rows,a=e.columns,o=e.formattedColumns,r=e.disablePaging,i=e.disableSearch,c=e.disableSort,s=e.disableFilter,p=e.columnExtensions,g=e.dropdownHeader,f=e.totalCount,b=e.currentPage,S=e.limit,j=e.onPageChange,O=e.onPageSizeChange,A=e.defaultFilter,D=e.columnFilteringEnabled,F=e.filterExtensions,N=e.onFilterChange,P=e.onSearchChange,T=e.onSortingChange,B=e.onRowClick,z=e.sorting,W=e.lastSearch,R=Object(l.useState)([]),I=Object(n.a)(R,2),M=I[0],Y=I[1],L=Object(l.useState)([5,10,15,0]),U=Object(n.a)(L,1)[0],H=Object(l.useState)(0),V=Object(n.a)(H,2),G=V[0],Z=V[1],J=Object(l.useState)(!1),q=Object(n.a)(J,2),X=q[0],K=q[1],Q=Object(l.useRef)(null),$=Object(l.useState)(""),ee=Object(n.a)($,2),te=ee[0],ae=ee[1],ne=[];var oe=function(e,t,a){ae(a),t(e.target.value?{value:e.target.value}:null)},le=function(e){var t=e.value,a=E();return l.createElement(_.a,{value:t,classes:a})};void 0!==o&&void 0!==o.text&&ne.push(l.createElement(function(e){return l.createElement(m.c,Object.assign({formatterComponent:le},e))},{for:o.text}));return Object(l.useEffect)(function(){Q&&Q.current&&Z(Q.current.clientHeight)}),l.createElement(u.a,{rows:t,columns:a},ne,r?null:l.createElement(m.m,{currentPage:b,onCurrentPageChange:function(e){j(e,S*e)},pageSize:S,onPageSizeChange:function(e){K(0===e),O(e)}}),r?null:l.createElement(m.b,{totalCount:f}),i?null:l.createElement(m.o,{onValueChange:P}),c?null:l.createElement(m.q,{defaultSorting:[],sorting:z,onSortingChange:T}),l.createElement(m.p,{selection:M,onSelectionChange:function(e){var t=e.find(function(e){return-1===M.indexOf(e)});void 0!==t&&(B(t),Y([t]))}}),l.createElement(m.j,null),s?null:l.createElement(m.e,{defaultFilters:[],filters:void 0!==A?A:[],columnFilteringEnabled:D,columnExtensions:F,onFiltersChange:N}),l.createElement(u.d,{tableComponent:function(e){var t=e.children,a=Object(d.a)(e,["children"]);return l.createElement(u.d.Table,Object.assign({},a,{stickyHeader:X}),t)},containerComponent:function(e){var t=e.children,a=Object(d.a)(e,["children"]);return l.createElement("div",Object.assign({},a,{style:{overflow:X?"auto":"none",height:X?"70vh":"auto"}}),t)},columnExtensions:p}),l.createElement(u.h,{selectByRowClick:!0,showSelectionColumn:!1}),g?null:l.createElement(u.g,{showSortingControls:!c,sortLabelComponent:k,cellComponent:function(e){var t=e.style,a=e.classes,n=e.children,o=Object(d.a)(e,["style","classes","children"]);return l.createElement(h.a,Object.assign({style:t,classes:a},o,{ref:Q}),n)}}),s?null:l.createElement(u.f,{cellComponent:function(e){var t=e.column,a=e.filter,n=e.onFilter,o=e.filteringEnabled,r=e.classes,i=w();if(o){if("status"===t.name){var c=y;return l.createElement(h.a,{style:{padding:"0px 10px 8px 10px",top:X&&G?G+"px":"0"},classes:r},l.createElement(C,{onChange:function(e){return n(e.target.value?{value:e.target.value}:null)},name:"status",items:c,id:"status",value:a?a.value:""}))}return"effectivity_date"===t.name||"date_created"===t.name||"date_modified"===t.name?l.createElement(h.a,{style:{padding:"0px 10px 8px 10px",top:X&&G?G+"px":"0"},classes:r},l.createElement(x.a,{variant:"dialog",format:"MMMM DD, YYYY",inputVariant:"outlined",className:i.keyboardDatePicker,value:a?a.value:"",invalidDateMessage:"",onChange:function(e){console.log(e),n(e?{value:e}:null)}})):"action"===t.name?l.createElement(h.a,{style:{padding:"0px 10px 8px 10px",top:X&&G?G+"px":"0"},classes:r}):"account"===t.name?l.createElement(h.a,{style:{padding:"0px 10px 8px 10px",top:X&&G?G+"px":"0"},classes:r},l.createElement(v.a,{autoFocus:"account"===te&&!1===W,classes:r,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){oe(e,n,t.name)},placeholder:""})):"proposal_no"===t.name?l.createElement(h.a,{style:{padding:"0px 10px 8px 10px",top:X&&G?G+"px":"0"},classes:r},l.createElement(v.a,{autoFocus:"proposal_no"===te&&!1===W,classes:r,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){oe(e,n,t.name)},placeholder:""})):"bdobroker"===t.name?l.createElement(h.a,{style:{padding:"0px 10px 8px 10px",top:X&&G?G+"px":"0"},classes:r},l.createElement(v.a,{autoFocus:"bdobroker"===te&&!1===W,classes:r,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){oe(e,n,t.name)},placeholder:""})):"version"===t.name?l.createElement(h.a,{style:{padding:"0px 10px 8px 10px",top:X&&G?G+"px":"0"},classes:r},l.createElement(v.a,{autoFocus:"version"===te&&!1===W,classes:r,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){oe(e,n,t.name)},placeholder:""})):l.createElement(h.a,{style:{padding:"0px 10px 8px 10px",top:X&&G?G+"px":"0"},classes:r},l.createElement(v.a,{classes:r,style:{width:"100%"},value:a?a.value:"",labelWidth:0,onChange:function(e){console.log("filter changed"),n(e.target.value?{value:e.target.value}:null)},placeholder:""}))}return null}}),r?null:l.createElement(u.b,{pageSizes:U}))};j.defaultProps={rows:[],columns:[],columnExtensions:[],filterExtensions:[],sorting:[],formattedColumns:{},dropdownHeader:!1,disableSearch:!1,disablePaging:!1,disableFilter:!1,disableSort:!1,toolbarType:null,totalCount:0,currentPage:0,limit:10,defaultFilter:[],columnFilteringEnabled:!0,lastSearch:!1,onSearchChange:function(e){return console.log("onSearchChange",e)},onFilterChange:function(e){return console.log("onFilterChange",e)},onPageChange:function(e,t){return console.log("onPageChange",e,t)},onPageSizeChange:function(e){return console.log("onPageSizeChange",e)},onSortingChange:function(e){return console.log("onSortingChange",e)},onRowClick:function(e){return console.log("onRowClick",e)}};var O=a(26),A=a(14),D=a(86),F=a(1329),N=a(28),P=a(149),T=a(928),B=a(187),z=a(1),W=a(284),R=a(7),I=a.n(R),M=a(292),Y=a(839),L=a(48);a.d(t,"ProposalListPage",function(){return Q});var U=Object(z.a)(function(e){return{main:{backgroundColor:"#F5F7FB",padding:"32px 24px"},searchInputAdornment:{color:"#00000061",marginRight:"8px"},gridContainer:{padding:e.spacing(1)},gridContainerNoPadding:{padding:e.spacing(1)},headerTitle:{fontSize:32,fontWeight:700},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:16,fontWeight:400,color:"#272e4c"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(o.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7},searchField:{backgroundColor:"white"}}}),H={where:{}},V={},G=10,Z={},J="",q="",X="",K=!1;console.log(J);var Q=function(){var e=Object(l.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],d=Object(l.useState)([]),u=Object(n.a)(d,2),m=u[0],p=u[1],g=Object(l.useState)(0),f=Object(n.a)(g,2),b=f[0],h=f[1],v=Object(l.useState)([]),x=Object(n.a)(v,2),E=x[0],w=x[1],C=Object(l.useState)([]),y=Object(n.a)(C,2),S=y[0],k=y[1],z=Object(l.useState)(),R=Object(n.a)(z,2),Q=R[0],$=R[1],ee=Object(l.useState)(!0),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],oe=Object(l.useState)(""),le=Object(n.a)(oe,2),re=le[0],ie=le[1],ce=Object(l.useState)(!1),se=Object(n.a)(ce,2),de=se[0],ue=se[1],me=Object(l.useState)(""),pe=Object(n.a)(me,2),ge=pe[0],fe=pe[1],be=Object(l.useState)(null),he=Object(n.a)(be,2),ve=he[0],_e=he[1],xe=Boolean(ve),Ee=Object(l.useState)(""),we=Object(n.a)(Ee,2),Ce=we[0],ye=we[1],Se=Object(l.useState)("all_rows"),ke=Object(n.a)(Se,2),je=ke[0],Oe=ke[1],Ae=Object(l.useState)("pdf"),De=Object(n.a)(Ae,2),Fe=De[0],Ne=De[1],Pe=Object(l.useState)(0),Te=Object(n.a)(Pe,2),Be=Te[0],ze=Te[1],We=Object(l.useState)(""),Re=Object(n.a)(We,2),Ie=Re[0],Me=Re[1],Ye=Object(l.useState)(""),Le=Object(n.a)(Ye,2),Ue=Le[0],He=Le[1],Ve=Object(l.useState)(""),Ge=Object(n.a)(Ve,2),Ze=Ge[0],Je=Ge[1],qe=Object(l.useState)(""),Xe=Object(n.a)(qe,2),Ke=Xe[0],Qe=Xe[1],$e=Object(l.useState)(!1),et=Object(n.a)($e,2),tt=et[0],at=et[1],nt=Object(l.useState)(""),ot=Object(n.a)(nt,2),lt=ot[0],rt=ot[1],it=Object(l.useState)(!1),ct=Object(n.a)(it,2),st=ct[0],dt=ct[1],ut=Object(l.useState)(""),mt=Object(n.a)(ut,2),pt=mt[0],gt=mt[1],ft=Object(l.useState)(""),bt=Object(n.a)(ft,2),ht=bt[0],vt=bt[1],_t=Object(l.useState)(!1),xt=Object(n.a)(_t,2),Et=xt[0],wt=xt[1],Ct=U(),yt=function(e,t,a,n,l,r){switch(console.log(e,t,n,l),Je(t),He(a),Me(n),e){case"Submitted":fe("submitted"),ue(!0);break;case"Resubmitted":o(!0),rt("view"),vt("renderProposal"),at(!0);break;case"For Approval":l&&(Qe(l),fe("for_approval"),ue(!0));break;case"Expired":case"Awaiting Activation":case"Active":fe("active"),ue(!0);break;case"Approved":rt("download"),vt("renderProposal"),at(!0),o(!0);break;case"Signed":o(!0),St(r);break;case"For Revision":case"Disapproved":fe("disapprove"),ue(!0)}},St=function(e){var t=!0,a=!1,n=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var i=l.value;if(i.url){i.url=i.url.replace("public/","http://api-dev.hims.veridata.com.ph:4101/api/");var c=document.createElement("a");c.href=i.url,c.download=i.name,c.click(),o(!1)}}}catch(s){a=!0,n=s}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}},kt=function(e,t){ne(!1),o(!0),console.log("load"),console.log(JSON.stringify(H)),console.log(V);var a=!0;0==t&&(a=!0),L.c.StorageService("user_data").then(function(n){if(console.log("Utils",n),n&&void 0!==n)for(var l in n)if("username"===n[l].key&&(q=n[l].value),"user_id"===n[l].key&&(X=n[l].value),""!==q&&""!==X&&void 0!==q&&q.includes("bdo_user_")){H.where["custom_metadata.created_by"]=X;break}W.a.getProposal(H,a,e,t,V).then(function(e){if(console.log("Load From API:",e),e&&e.proposals&&void 0===e.error){a&&(void 0!==e.total&&(Z.total=e.total),void 0!==e.status_active&&(Z.active=e.status_active),void 0!==e.status_approved&&(Z.approved=e.status_approved),void 0!==e.status_for_revision&&(Z.for_revision=e.status_for_revision),void 0!==e.status_signed&&(Z.signed=e.status_signed),void 0!==e.total&&(Z.totalrow=e.total)),console.log("check"),console.log(e);var t=[];e.proposals.map(function(e){var a="-";e&&e.client&&e.client[0]&&e.client[0].sales_channel&&e.client[0].sales_channel.type&&("broker"===e.client[0].sales_channel.type&&e.client[0].sales_channel.contact_person?a=e.client[0].sales_channel.contact_person:"bdo"===e.client[0].sales_channel.type&&e.client[0].sales_channel.bdo_name?a=e.client[0].sales_channel.bdo_name:"agent"===e.client[0].sales_channel.type&&e.client[0].sales_channel.agent_name&&(a=e.client[0].sales_channel.agent_name)),K=e.custom_metadata.created_by===X&&void 0!=e.custom_metadata.created_by;var n=e.custom_metadata.coverage_start_date&&e.custom_metadata.coverage_end_date?new Date(e.custom_metadata.coverage_start_date).toLocaleDateString("en-US",{year:"numeric",day:"numeric",month:"short"})+" - "+new Date(e.custom_metadata.coverage_end_date).toLocaleDateString("en-US",{year:"numeric",day:"numeric",month:"short"}):"-";t.push({account:e.client&&e.client[0].registered_name?e.client[0].registered_name:"-",version:e.version?e.version:"-",proposal_no:e.proposal_number?e.proposal_number:"-",effectivity_date:n,bdobroker:a,date_created:e.custom_metadata.date_created?new Date(e.custom_metadata.date_created).toLocaleDateString("en-US",{year:"numeric",day:"numeric",month:"short"}):"-",date_modified:e.custom_metadata.date_updated?new Date(e.custom_metadata.date_updated).toLocaleDateString("en-US",{year:"numeric",day:"numeric",month:"short"}):"-",status:"Active"===e.status?"Closed":e.status,action:"Submitted"===e.status||"Disapproved"===e.status||"Resubmitted"===e.status||"Active"===e.status||"Signed"===e.status||"Expired"===e.status||"For Approval"===e.status||"Awaiting Activation"===e.status?r.a.createElement(O.a,{style:{backgroundColor:"#3AB77D",color:"white",fontSize:"12px",padding:"2px"},onClick:function(){yt(e.status,e._id,e.client[0].registered_name,e.client_id,e.ticket_no,e.files)}},"View"):"Approved"===e.status?r.a.createElement(O.a,{style:{backgroundColor:"#3AB77D",color:"white",fontSize:"12px",padding:"2px"},onClick:function(){yt(e.status,e._id,e.client[0].registered_name,e.client_id,e.ticket_no,e.files)}},"Download"):"For Revision"===e.status&&K?r.a.createElement(O.a,{style:{backgroundColor:"#3AB77D",color:"white",fontSize:"12px",padding:"2px"},onClick:function(){var t,a,n,o;t=e._id,a=e.client[0].registered_name,n=e.client_id,o=e.ticket_no,Je(t),He(a),Me(n),o&&Je(o),fe("revision"),ue(!0)}},"Revise"):"For Revision"!==e.status||K?r.a.createElement(O.a,{style:{backgroundColor:"#3AB77D",color:"white",fontSize:"12px",padding:"2px"},onClick:function(){yt(e.status,e._id,e.client[0].registered_name,e.client_id,e.ticket_no,e.files)}},"Upload Signed Proposal"):r.a.createElement(O.a,{style:{backgroundColor:"#3AB77D",color:"white",fontSize:"12px",padding:"2px"},onClick:function(){yt(e.status,e._id,e.client[0].registered_name,e.client_id,e.ticket_no,e.files)}},"View")})}),console.log("tmp: ",t),p(t),ne(!0),o(!1)}else Z.total=0,Z.active=0,Z.approved=0,Z.for_revision=0,Z.signed=0,Z.totalrow=0,p([]),o(!1),ne(!0),console.log("getbenefitlist api error: ",e)})}),ne(!0)},jt=[{name:"account",title:"Account"},{name:"proposal_no",title:"Proposal No."},{name:"effectivity_date",title:"Effectivity Date"},{name:"bdobroker",title:"BDO/Broker"},{name:"date_created",title:"Date Created"},{name:"date_modified",title:"Date Modified"},{name:"version",title:"Version"},{name:"status",title:"Status"},{name:"action",title:"Action"}];Object(l.useEffect)(function(){H={where:{}},kt(10,0)},[]);var Ot=[{columnName:"account",wordWrapEnabled:!0,textAlign:"center"},{columnName:"proposal_no",wordWrapEnabled:!0,textAlign:"center"},{columnName:"effectivity_date",wordWrapEnabled:!0,textAlign:"center"},{columnName:"bdobroker",wordWrapEnabled:!0,textAlign:"center"},{columnName:"date_created",wordWrapEnabled:!0,textAlign:"center"},{columnName:"date_modified",wordWrapEnabled:!0,textAlign:"center"},{columnName:"version",wordWrapEnabled:!0,textAlign:"center"},{columnName:"status",wordWrapEnabled:!0,textAlign:"center"},{columnName:"action",wordWrapEnabled:!0,textAlign:"center"}],At=function(e){console.log(e)},Dt=function(e){w(e),console.log("handle sort:",e);var t="";"account"==e[0].columnName?t="client.registered_name":"proposal_no"==e[0].columnName?t="proposal_number":"effectivity_date"==e[0].columnName?t="custom_metadata.coverage_start_date":"version"==e[0].columnName?t="version":"date_created"==e[0].columnName?t="custom_metadata.date_created":"date_modified"==e[0].columnName?t="custom_metadata.date_updated":"status"==e[0].columnName?t="status":"bdobroker"==e[0].columnName&&(t="client.sales_channel.contact_person"),V={field:t,direction:"asc"===e[0].direction?1:-1},kt(10,0),J=t},Ft=function(e,t){h(e),console.log("handle page change"),H.skip=t,kt(G,t)},Nt=function(e){kt(G=e,0)},Pt=function(e){console.log(e),h(0),Be&&clearTimeout(Be),ze(setTimeout(function(){o(!0),kt(G,0)},2e3))},Tt=function(e){if(console.log("Filter By Column: ",e),wt(!1),k(e),h(0),e.length>0){var t,a={};e.map(function(e){var n=e.columnName;"account"==e.columnName?(n="client.registered_name",t={like:e.value,options:"i"}):"effectivity_date"==e.columnName?(a[n="custom_metadata.coverage_start_date"]={lte:new Date(e.value)},n="custom_metadata.coverage_end_date",t=new Date(e.value)):"date_created"==e.columnName?(n="and",t=[{"custom_metadata.date_created":{lte:I()(new Date(e.value)).format("YYYY-MM-DD").toString()+"T23:59:59.999Z"}},{"custom_metadata.date_created":{gte:I()(new Date(e.value)).format("YYYY-MM-DD").toString()+"T00:00:00.000Z"}}]):"date_modified"==e.columnName?(n="and",t=[{"custom_metadata.date_updated":{lte:I()(new Date(e.value)).format("YYYY-MM-DD").toString()+"T23:59:59.999Z"}},{"custom_metadata.date_updated":{gte:I()(new Date(e.value)).format("YYYY-MM-DD").toString()+"T00:00:00.000Z"}}]):"status"==e.columnName&&"All"!==e.value?(n="status",t={eq:e.value,options:"i"}):"bdobroker"==e.columnName?(n="client.sales_channel.contact_person",t={like:e.value,options:"i"}):"version"==e.columnName?(n="version",t={like:e.value,options:"i"}):"proposal_no"==e.columnName&&(n="proposal_number",t={like:e.value,options:"i"}),"effectivity_date"==e.columnName?a[n]={gte:t}:("date_modified"===e.columnName||"date_created"===e.columnName)&&a[n]?a[n]=a[n].concat(t):a[n]=t}),H.where=a}else H.where={};if(void 0!==re){var n=re.trim();H.where?H.where.or=[{"client.registered_name":{like:n,options:"i"}},{status:{like:n,options:"i"}},{proposal_number:{like:n,options:"i"}},{"client.sales_channel.contact_person":{like:n,options:"i"}},{"custom_metadata.version":{like:n,options:"i"}}]:(H.where={},H.where.or=[{"client.registered_name":{like:n,options:"i"}},{status:{like:n,options:"i"}},{proposal_number:{like:n,options:"i"}},{"client.sales_channel.contact_person":{like:n,options:"i"}},{"custom_metadata.version":{like:n,options:"i"}}])}ne(!0),Be&&clearTimeout(Be),ze(setTimeout(function(){kt(G,0)},2e3))};if(ae&&($(r.a.createElement("div",null,r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:3,style:{textAlign:"center",backgroundColor:"#F4F4F4",paddingTop:"25px",paddingBottom:"19px"}},r.a.createElement("span",{style:{color:"#3AB77D",fontSize:"20px"}},Z.total),"\xa0\xa0TOTAL"),r.a.createElement(A.a,{item:!0,xs:2,style:{textAlign:"center",backgroundColor:"#F4F4F4",paddingTop:"25px",paddingBottom:"19px"}},r.a.createElement("span",{style:{color:"#3AB77D",fontSize:"20px"}},Z.active),"\xa0\xa0CLOSED"),r.a.createElement(A.a,{item:!0,xs:2,style:{textAlign:"center",backgroundColor:"#F4F4F4",paddingTop:"25px",paddingBottom:"19px"}},r.a.createElement("span",{style:{color:"#3AB77D",fontSize:"20px"}},Z.approved),"\xa0\xa0APPROVED"),r.a.createElement(A.a,{item:!0,xs:3,style:{textAlign:"center",backgroundColor:"#F4F4F4",paddingTop:"25px",paddingBottom:"19px"}},r.a.createElement("span",{style:{color:"#3AB77D",fontSize:"20px"}},Z.for_revision),"\xa0\xa0FOR REVISION"),r.a.createElement(A.a,{item:!0,xs:2,style:{textAlign:"center",backgroundColor:"#F4F4F4",paddingTop:"25px",paddingBottom:"19px"}},r.a.createElement("span",{style:{color:"#3AB77D",fontSize:"20px"}},Z.signed),"\xa0\xa0SIGNED")),r.a.createElement("div",{style:{minWidth:"1156",overflowX:"auto"}},r.a.createElement(j,{columns:jt,rows:m,columnExtensions:Ot,currentPage:b,limit:G,totalCount:Z.totalrow,onPageChange:Ft,onPageSizeChange:Nt,onFilterChange:Tt,onSearchChange:Pt,onSortingChange:Dt,sorting:E,defaultFilter:S,onRowClick:At,lastSearch:Et})))),ne(!1)),!0===de)switch(ge){case"proposal":return r.a.createElement(P.a,{to:{pathname:"/underwriting/create-proposal/new"}});case"active":return r.a.createElement(P.a,{to:{pathname:"/underwriting/client-benefits/"+Ie+"/"+Ze}});case"approve":return r.a.createElement(P.a,{to:{pathname:"/underwriting/finalize-proposal/"+Ie+"/"+Ze+"/uploader/"+Ze}});case"revision":return r.a.createElement(P.a,{to:{pathname:"/underwriting/create-proposal/"+Ze}});case"for_approval":return r.a.createElement(P.a,{to:{pathname:"/underwriting/approve-proposal/"+Ie+"/"+Ze+"/"+Ke}});case"disapprove":return r.a.createElement(P.a,{to:{pathname:"/underwriting/approve-proposal/"+Ie+"/"+Ze+"/disapprove"}});case"submitted":return r.a.createElement(P.a,{to:{pathname:"/underwriting/approve-proposal/"+Ie+"/"+Ze+"/submitted"}})}return r.a.createElement("div",{className:Ct.main},a?r.a.createElement(i.f,null):null,r.a.createElement(A.a,{container:!0,justify:"space-between",alignItems:"center",className:Ct.gridContainer},r.a.createElement(A.a,{item:!0,xs:8},r.a.createElement(D.a,{className:Ct.headerTitle},"Proposals")),r.a.createElement(A.a,{item:!0,xs:4,alignItems:"flex-end",alignContent:"flex-end"},r.a.createElement(F.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",p:1,style:{width:"100%",height:"100%"}},r.a.createElement(F.a,{p:1,style:{display:"none"}},r.a.createElement(N.a,{style:{color:"#3AB77D",fontSize:"0.875rem"},onClick:function(e){var t=e.currentTarget;_e(t)}},r.a.createElement(c.a,{icon:s.i}),"\xa0\xa0Generate Report")),r.a.createElement(F.a,{p:1},r.a.createElement(N.a,{"data-cy":"create_proposal_btn",id:"create_proposal_btn",style:{color:"#3AB77D",fontSize:"0.875rem"},onClick:function(){fe("proposal"),ue(!0)}},r.a.createElement(c.a,{icon:s.x}),"\xa0\xa0Create Proposal")))),r.a.createElement(i.e,{height:"5px"}),r.a.createElement(A.a,{item:!0,xs:9,style:{paddingRight:"30px"}},r.a.createElement(_.a,{"data-cy":"proposal_search",id:"proposal_search",placeholder:"Search proposals",className:Ct.searchField,margin:"dense",variant:"outlined",fullWidth:!0,value:re,onChange:function(e){ie(e.target.value),wt(!0);var t=e.target.value.trim();ne(!0),H.where?H.where.or=[{"client.registered_name":{like:t,options:"i"}},{status:{like:"Closed"===t.trim()?"Active":t,options:"i"}},{proposal_number:{like:t,options:"i"}},{"client.sales_channel.contact_person":{like:t,options:"i"}},{"custom_metadata.version":{like:t,options:"i"}}]:(H.where={},H.where.or=[{"client.registered_name":{like:"Closed"===t.trim()?"Active":t,options:"i"}},{status:{like:t,options:"i"}},{proposal_number:{like:t,options:"i"}},{"client.sales_channel.contact_person":{like:t,options:"i"}},{"custom_metadata.version":{like:t,options:"i"}}]),Be&&clearTimeout(Be),ze(setTimeout(function(){o(!0),kt(G,0)},2e3))},inputProps:{"aria-label":"bare"},InputProps:{startAdornment:r.a.createElement(c.a,{icon:s.A,className:Ct.searchInputAdornment})}})),r.a.createElement(A.a,{item:!0,xs:3},r.a.createElement(_.a,{id:"proposal_search_filter","data-cy":"proposal_search_filter",placeholder:"This Month",className:Ct.searchField,margin:"dense",variant:"outlined",fullWidth:!0,value:Ce,onChange:function(e){ye(e.target.value.trim()),wt(!0),ne(!0)},inputProps:{"aria-label":"bare"},InputProps:{endAdornment:r.a.createElement(c.a,{icon:s.d,className:Ct.searchInputAdornment})}}))),r.a.createElement(A.a,{item:!0,xs:12,id:"TableCont"},r.a.createElement(B.a,{style:{overflowX:"auto",maxWidth:"100%"}},Q)),r.a.createElement(T.a,{open:xe,anchorEl:ve,exportData:je,exportFormat:Fe,onClose:function(){_e(null)},onChangeExportData:Oe,onChangeExportFormat:Ne,generateReport:function(){console.log("handleGenerateReport"),console.log("exportData",je),console.log("setExportFormat",Fe),_e(null)}}),r.a.createElement(M.a,{clientID:Ie,clientName:Ue,fileType:"pdf",download:tt,setDownload:at,hideButton:!0,label:"Download Proposal",renderType:ht,objId:Ze,viewOnly:function(e){var t=URL.createObjectURL(e);gt(t),dt(!0)},renderAction:lt,onError:function(){o(!1)},onStartDownload:function(){console.log("downloadstarted"),o(!1)}}),r.a.createElement(Y.a,{id:"render_pdf_modal",isModalOpen:st,pdfUrl:pt,onClose:function(){dt(!1)}}))}},744:function(e,t,a){"use strict";var n=a(93);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),l=(0,n(a(231)).default)(o.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=l},839:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return g});var n=a(0),o=a(1),l=a(684),r=a(14),i=a(273),c=a(20),s=a(226),d=a(744),u=a.n(d),m=a(1083),p=Object(o.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{padding:"0px",marginTop:"0px",justify:"center",overflow:"scroll",textAlign:"center"},dialogContentText:{fontSize:"0.875rem"},item:{width:"100%",paddingTop:"0px",minHeight:"730px"},container:{paddingRight:"15px",paddingLeft:"15px",width:"100%",minHeight:"500px"},iframe:{width:"90%",height:"85%",top:50,left:50,bottom:50,right:50},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),paddingLeft:"0px",fontSize:"16px",color:"#272E4C"},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{width:115,marginLeft:25},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},loadingIndicator:{marginTop:e.spacing(3),width:"100%",color:m.a[500],justify:"center"}}}),g=function(t){var a=t.isModalOpen,o=t.id,d=p(),m="".concat(e.execPath,"/../pdfjs-2.2.228-dist/web/viewer.html?file=").concat(t.pdfUrl);return n.createElement(l.a,{id:o,open:a,"aria-labelledby":"modal-title",className:d.dialog,style:{zIndex:9999},fullWidth:!0,fullScreen:!0,maxWidth:"md"},n.createElement("div",null,n.createElement(r.a,{container:!0,className:d.container,justify:"space-between",alignItems:"flex-start",direction:"column"},n.createElement(r.a,{item:!0},n.createElement(i.a,{className:d.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement(c.a,{"aria-label":"close",className:d.closeButton,onClick:function(){t.onClose()}},n.createElement(u.a,null)))),n.createElement(r.a,{container:!0,justify:"center",alignItems:"stretch",alignContent:"stretch"},n.createElement(s.a,{className:d.dialogContent},n.createElement(r.a,{container:!0,justify:"center",alignItems:"stretch",alignContent:"stretch"},n.createElement(r.a,{item:!0,xs:12,className:d.item},n.createElement("iframe",{src:m,className:d.iframe}))))))))};g.defaultProps={isModalOpen:!1,id:"render_pdf_modal",pdfUrl:""}}).call(this,a(282))},928:function(e,t,a){"use strict";a.d(t,"a",function(){return E});var n=a(0),o=a.n(n),l=a(14),r=a(86),i=a(20),c=a(17),s=a(26),d=a(733),u=a(275),m=a(226),p=a(184),g=a(1334),f=a(1317),b=a(683),h=a(70),v=a(73),_=a(1),x=Object(_.a)(function(e){return{dialogAction:{marginBottom:e.spacing(1),justifyContent:"center"}}}),E=function(e){var t=e.open,a=e.anchorEl,n=e.exportData,_=e.exportFormat,E=e.onClose,w=e.onChangeExportData,C=e.onChangeExportFormat,y=e.generateReport,S=x();return o.a.createElement(d.a,{open:t,anchorEl:a,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},o.a.createElement(l.a,{container:!0},o.a.createElement(l.a,{item:!0},o.a.createElement(m.a,null,o.a.createElement(l.a,{container:!0},o.a.createElement(l.a,{item:!0,xs:11},o.a.createElement(r.a,{variant:"body1",style:{fontWeight:"bold"}},"Choose Data")),o.a.createElement(l.a,{item:!0,xs:1},o.a.createElement(i.a,{edge:"end",onClick:E,style:{padding:"0px"}},o.a.createElement(h.a,{color:"#3AB77D",icon:v.H,style:{fontSize:"14px"}})))),o.a.createElement(p.a,{component:"fieldset"},o.a.createElement(f.a,{name:"report_data"},o.a.createElement(b.a,{control:o.a.createElement(g.a,{checked:"all_rows"===n,name:"all_rows",onClick:function(e){e.stopPropagation(),w("all_rows")}}),label:"Include all rows"}),o.a.createElement(b.a,{control:o.a.createElement(g.a,{checked:"filtered_rows"===n,name:"filtered_rows",onClick:function(e){e.stopPropagation(),w("filtered_rows")}}),label:"Include only filtered rows"}))),o.a.createElement(r.a,{variant:"body1",style:{fontWeight:"bold"}},"Choose Format"),o.a.createElement(p.a,{component:"fieldset"},o.a.createElement(f.a,{name:"report_format"},o.a.createElement(b.a,{control:o.a.createElement(g.a,{checked:"pdf"===_,name:"pdf",onClick:function(e){e.stopPropagation(),C("pdf")}}),label:"PDF"})))),o.a.createElement(u.a,{className:Object(c.default)(S.dialogAction)},o.a.createElement(s.a,{variant:"contained",color:"primary",onClick:y},"Download Report\xa0\xa0",o.a.createElement(h.a,{icon:v.i}))))))}}}]);
//# sourceMappingURL=14.9fc4d073.chunk.js.map