(window.webpackJsonpunderwriting=window.webpackJsonpunderwriting||[]).push([[11,4],{1125:function(e,t,a){"use strict";a.r(t);var n=a(208),i=a(269),r=a(0),l=a.n(r),o=a(80),c=a(113),d=function(e){return{payload:e,type:c.a.ClientBenefits.SetBenefitNodes}},s=function(e){return{payload:e,type:c.a.ClientBenefits.SetExclusionList}},u=function(e){return{payload:e,type:c.a.ClientBenefits.SetClientData}},m=function(e){return{payload:e,type:c.a.ClientBenefits.SetSelectedPlanType}},p=function(e){return{payload:e,type:c.a.ClientBenefits.SetSelectedPlanPackage}},f=function(e){return{payload:e,type:c.a.ClientBenefits.SetSelectedBenefitCategory}},g=a(13),E=a(736),v=a(43),b=a(37),_=a(50),h=a(821),O=a(272),y=a(758),C=a(211),N=a(757),S=function(e){return e.pages.clientBenefits.exclusionList},T=function(e){return e.pages.clientBenefits.benefitNodes},A=function(e){return e.pages.clientBenefits.selectedPlanType},I=function(e){return e.pages.clientBenefits.selectedPlanPackage},D=function(e){return e.pages.clientBenefits.selectedBenefitCategory},P=function(e){return e.pages.clientBenefits.clientData},R=Object(C.a)(P,function(e){return e.businessData}),w=Object(C.a)(P,function(e){return e.natureData}),j=Object(C.a)(P,function(e){return e.contactDetailsData}),x=Object(C.a)(P,function(e){return e.HMOData}),L=Object(C.a)(P,function(e){return e.principalData}),k=Object(C.a)(T,function(e){return Object(N.h)(e,2)}),F=Object(C.a)(T,function(e){return Object(N.h)(e,3)}),B=Object(C.a)(T,function(e){return Object(N.h)(e,4)}),M=Object(C.a)(T,function(e){return Object(N.h)(e,5)}),U=Object(C.a)(T,function(e){return Object(N.h)(e,6)}),V=Object(C.a)(T,function(e){return Object(N.h)(e,7)}),H=Object(C.a)(T,function(e){return Object(N.h)(e,8)}),G=Object(C.a)(k,function(e){return Object(N.d)(e)}),z=Object(C.a)(B,M,A,I,D,function(e,t,a,n,i){return Object(N.b)(e,t,a,n,i)}),W=Object(C.a)(F,V,U,function(e,t,a){return function(e,t,a){return e.map(function(e){return e.count=t.reduce(function(t,a){return a.tree_path[2]===e.code&&a.included&&t++,t},0),e.count=a.reduce(function(t,a){return a.tree_path[2]===e.code&&["CV"].includes(a.tree_path[3])&&["EM"].includes(a.tree_path[4])&&a.included&&t++,t},e.count),e})}(e,t,a)}),Y=Object(C.a)(S,M,U,V,H,A,I,D,function(e,t,a,n,i,r,l,o){return Object(N.l)(e,t,a,n,i,r,l,o)}),q=Object(C.a)(M,A,function(e,t){return Object(N.p)(e,t,"RB")}),K=Object(C.a)(M,A,function(e,t){return Object(N.p)(e,t,"CV")}),Z=Object(C.a)(M,A,function(e,t){return Object(N.p)(e,t,"RI")}),Q=a(685),X=a(731),J=a(677),$=a(774),ee=a(764),te=a(760),ae=a(377),ne=a(104),ie=a(72),re=a(744),le=a(738),oe=Object(v.a)(function(e){return Object(J.a)({root:{maxWidth:360,backgroundColor:e.palette.background.paper}})}),ce=function(e){var t=e.benefitNodes,a=e.categoryNode,l=e.rows,o=e.planTypeList,c=e.roomAndBoardList,d=e.coverageList,s=e.riderList,u=e.selectedPlanType,m=e.selectedPlanPackage,p=e.selectedBenefitCategory,f=e.SetBenefitNodes,g=e.SetSelectedPlanType,E=e.SetSelectedPlanPackage,v=e.SetSelectedBenefitCategory,_=e.SetNewNodeCounter,h=e.editMode,O=e.viewOnly,y=e.newNodeCounter,C=e.SetEditedNodeList,N=e.editedNodeList,S=Object(r.useState)(null),T=Object(i.a)(S,2),A=T[0],I=T[1],D=Object(r.useState)([]),P=Object(i.a)(D,2),R=P[0],w=P[1],j=Boolean(A),x=oe(),L=function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"custom_metadata",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=Object(n.a)(t),c=[];h&&N&&(c=Object(n.a)(N));var d=0;d=o.findIndex(function(e){return e.id===a.id&&e.code===a.code&&e.level===a.level&&e.tree_path[2]===a.tree_path[2]&&e.tree_path[3]===a.tree_path[3]});var s={};if("limits"===r&&-1===l?s=i:s[e]=i,o[d][r]){if(l>-1?o[d][r][l]=Object.assign({},o[d][r][l],s):Array.isArray(s)?o[d][r]=Object(n.a)(s):o[d][r]=Object.assign({},o[d][r],s),h&&o[d].original_id){var u=o[d].id,m=c.find(function(e){return u===e[e.length-1].id});if(!m){var p=le.a.getNodeTree(o[d],o);c.push(p)}C(c)}f(o)}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,o=e,c=Object(n.a)(t);return r.map(function(e){var t="NODE-NEW-"+(y+o).toString().padStart(3,"0"),r=Object.assign({},i),d=c[e.index].level+1,s=Object(n.a)(r.tree_path);s[2]=e.planType?e.planType:u,s[l]=e.code,r.id=t,r.level=d,r.tree_path=s,5===d&&(r.type="BenefitCategory"),6===d&&(r.type="BenefitType"),7===d&&(r.type="Benefit"),8===d&&(r.type="Sub-Benefit");var m=Object.assign({},a,r);delete m.original_children,delete m.original_id;var p=Object(n.a)(c[e.index].children);p.includes(t)||p.push(t),c[e.index].children=p,c.push(m),o++}),[o,c]},F=function(e,a,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=Object(n.a)(t),d=[];h&&N&&(d=Object(n.a)(N));var s=c.findIndex(function(e){return e.id===i}),m={};if(r>-1&&l?(m=Object.assign({},c[s].custom_metadata))[e]&&(m[e][r][l]=a):m[e]=a,c[s].custom_metadata){if("BASE"!==u)c[s].custom_metadata=Object.assign({},c[s].custom_metadata,m),c[s].edited=!0;else{c[s].custom_metadata=Object.assign({},c[s].custom_metadata,m);var p=c[s];o.map(function(e){if("BASE"!==e.code){var t=le.a.getMatchByPlanCode(c,p,e.code);!1===c[t].edited&&(c[t].custom_metadata=Object.assign({},c[t].custom_metadata,m))}})}if(h&&c[s].original_id){var g=c[s].id,E=d.find(function(e){return g===e[e.length-1].id});if(!E){var v=le.a.getNodeTree(c[s],c);d.push(v)}C(d)}}f(c)},B=function(e,a,i){var r=Object(n.a)(t),l=r.findIndex(function(t){return 5===t.level&&t.code===i&&t.tree_path[2]===e&&t.tree_path[3]===a&&t.tree_path[4]===i});r[l].included=!0,f(r),I(null)};return r.createElement("div",null,r.createElement(b.a,{container:!0},r.createElement(b.a,{item:!0,sm:12},r.createElement($.a,{selectedPlanType:u,planTypeList:o,setSelectedPlanType:g,setModalOpen:function(){},viewOnly:O||!1,showEditPlanType:function(){}})),r.createElement(b.a,{item:!0,sm:12},r.createElement(Q.a,{variant:"middle"})),r.createElement(b.a,{item:!0,sm:12,md:3},r.createElement(te.a,{selectedBenefitCategory:p,roomAndBoardList:c,riderList:s,coverageList:d,setSelectedPlanPackage:E,setSelectedBenefitCategory:v,deleteBenefitCategory:function(e){var a=Object(n.a)(t);console.log(e);var i=a.findIndex(function(t){return 5===t.level&&t.code===e.tree_path[4]&&t.tree_path[2]===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]}),r=le.a.getDescendants(a[i],a);a[i].included=!1,r.map(function(e){var t=a.findIndex(function(t){return e.id===t.id});t>-1&&(a[t].included=!1)}),f(a)},setPopoverOpen:function(e,t){var a=e.currentTarget,n=[];"CV"===t&&(n=d.filter(function(e){return!e.included})),"RI"===t&&(n=s.filter(function(e){return!e.included})),w(n),I(a)},viewOnly:O||!1})),r.createElement(b.a,{item:!0,sm:12,md:9},r.createElement(ee.a,{selectedPlanType:u,selectedBenefitCategory:p,setRowSelection:O?function(){}:function(e){var a=Object(n.a)(t),i=[];h&&N&&(i=Object(n.a)(N)),e.map(function(e){var t=a.findIndex(function(t){return t.id===e.id});if("EX"===p&&a[t].custom_metadata){if(void 0!==a[t].custom_metadata.is_excluded&&a[t].custom_metadata.is_excluded!==e.included&&(a[t].custom_metadata.is_excluded=e.included,h&&a[t].original_id)){var r=a[t].id;if(!i.find(function(e){return r===e[e.length-1].id})){var l=le.a.getNodeTree(a[t],a);i.push(l)}}}else if(a[t].included!==e.included){var o=le.a.getNodeTree(a[t],a),c=le.a.getDescendants(a[t],a),d=[].concat(Object(n.a)(o),Object(n.a)(c));!0===e.included?d.map(function(t){var n=a.findIndex(function(e){return t.id===e.id});n>-1&&(a[n].included=e.included)}):!1===e.included&&(a[t].included=e.included,c.map(function(t){var n=a.findIndex(function(e){return t.id===e.id});n>-1&&(a[n].included=e.included)}))}}),h&&C(i),f(a)},setRowLimits:O?function(){}:function(e,a,i){var r=Object(n.a)(t),l=[];h&&N&&(l=Object(n.a)(N));var c=r.findIndex(function(e){return e.id===a}),d=e.target.value,s=e.target.name,m=Object(n.a)(r[c].limits);if(r[c].limits){if("limit_type"===s){var p=d.reduce(function(e,t){var a=re.j.find(function(e){return e.label===t});if(a){var n=m.find(function(e){return e.type===a.type&&e.limit_unit===a.limit_unit});if(n)e.push(n);else{var i={type:a.type,limit:0,limit_unit:a.limit_unit,daily_limit:0};e.push(i)}}return e},new Array);m=Object(n.a)(p)}else if(["limit","daily_limit"].includes(s)){var g=Object.assign({},m[i]);g[s]=parseFloat(d),m[i]=g}if("BASE"!==u)r[c].limits=m,r[c].edited=!0;else{r[c].limits=m;var E=r[c];o.map(function(e){if("BASE"!==e.code){var t=le.a.getMatchByPlanCode(r,E,e.code);!1===r[t].edited&&(r[t].limits=m)}})}if(h&&r[c].original_id){var v=r[c].id;if(!l.find(function(e){return v===e[e.length-1].id})){var b=le.a.getNodeTree(r[c],r);l.push(b)}C(l)}f(r)}},setRowMetadata:O?function(){}:function(e,t){F(e.target.name,e.target.value,t)},setRowMetadata2:O?function(){}:F,setSubForm:O?function(){}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom_metadata",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;"mobile_ape_availees"===e.target.name&&(e.target.value.replace("-",""),e.target.value.replace(".",""),0===e.target.value.indexOf("0")&&e.target.value.length>0&&(e.target.value=e.target.value.substring(1))),L(e.target.name,e.target.value,t,a)},setSubForm2:O?function(){}:L,createCivilStatus:O?function(){}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Object(n.a)(t),l=[],c=[],d=[],s=null,g=0,E=6,v=7;if("BASE"===u&&(d=o.reduce(function(e,t){return e.push(t.code),e},new Array)),l=r.reduce(function(e,t,a){if(t.level===E&&(d.length>1?d.includes(t.tree_path[2]):t.tree_path[2]===u)&&t.tree_path[3]===m&&t.tree_path[4]===p){var n={index:a,code:t.code,planType:t.tree_path[2]};e.push(n)}return e},new Array),(c=r.reduce(function(e,t){return t.level===v&&t.tree_path[2]===u&&t.tree_path[3]===m&&t.tree_path[4]===p&&e.push(t),e},new Array)).length>0&&(s=c[0]),null!==s){var b={name:e,code:e.replace(/[^A-Z]/g,""),description:a,metadata:{},metadata_schema:{},included:!0,children:[],custom_metadata:Object.assign({title:e}),custom_metadata_schema:{properties:{title:{type:"string"}},required:[]},tree_path:["MCT","CT","",m,p,"",e.replace(/[^A-Z]/g,"")]},h=k(0,r,s,b,l,5),O=Object(i.a)(h,2);g=O[0],r=O[1],f(r),_(y+g)}},createRelationship:O?function(){}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=Object(n.a)(t),d=[],s=[],g=[],E=null,v=0,b=l.level,h=b+1;if("BASE"===u&&(s=o.reduce(function(e,t){return e.push(t.code),e},new Array)),d=c.reduce(function(e,t,a){if(t.level===b&&t.name===l.name&&t.code===l.code&&(s.length>1?s.includes(t.tree_path[2]):t.tree_path[2]===l.tree_path[2])&&t.tree_path[3]===l.tree_path[3]&&t.tree_path[4]===l.tree_path[4]&&t.tree_path[5]===l.tree_path[5]&&t.tree_path[6]===l.tree_path[6]){var n={index:a,code:t.code,planType:t.tree_path[2]};e.push(n)}return e},new Array),(g=c.reduce(function(e,t){return t.level===h&&t.tree_path[2]===u&&t.tree_path[3]===m&&t.tree_path[4]===p&&e.push(t),e},new Array)).length>0&&(E=g[0]),null!==E){var O={name:e,code:e.replace(/[^A-Z]/g,""),description:a,metadata:{},metadata_schema:{},included:!0,children:[],custom_metadata:Object.assign({title:e},r),custom_metadata_schema:{properties:{title:{type:"string"}},required:[]},tree_path:["MCT","CT","",m,p,"DP","",e.replace(/\s+/g,"").toUpperCase()]},C=k(0,c,E,O,d,6),N=Object(i.a)(C,2);v=N[0],c=N[1],f(c),_(y+v)}},subFormNode:a,rows:l,viewOnly:O||!1})),r.createElement(X.a,{open:j,anchorEl:A,onClose:function(){I(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.createElement(ae.a,{classes:x},R.length>0?R.map(function(e){return e.name&&e.code?r.createElement(ne.a,{button:!0,key:"".concat(e.code),onClick:function(){return t=void 0!==e.tree_path[2]?e.tree_path[2]:null,a=void 0!==e.tree_path[3]?e.tree_path[3]:null,n=void 0!==e.tree_path[4]?e.tree_path[4]:null,void B(t,a,n);var t,a,n}},r.createElement(ie.a,{disableTypography:!0,primary:"".concat(e.name)})):null}):r.createElement(ne.a,null,r.createElement(ie.a,{disableTypography:!0,primary:"Cannot add more."}))))))},de=a(92),se=a.n(de);a.d(t,"ClientBenefitsPage",function(){return me}),a.d(t,"mapStateToProps",function(){return pe}),a.d(t,"mapDispatchToProps",function(){return fe});var ue=Object(v.a)(function(e){return{main:{minHeight:500,backgroundColor:"#F5F7FB"},gridHeader:{backgroundColor:"#FFFFFF",padding:"32px 24px"},gridContainer:{padding:"32px 24px"},breadCrumbs:{marginBottom:"10px"},headerTitle:{fontSize:25,fontWeight:600,color:"#272E4C"},gridItemLayout:{padding:e.spacing(1)},avatar:{width:"130px",height:"130px"},sideNavHeader:{fontSize:13,fontWeight:700,color:"rgba(39, 46, 76, 0.3)"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"#2c2e8e",cursor:"pointer",textDecoration:"underline"},listItemTextPrimaryNotSelected:{fontSize:14,color:"#272e4c",cursor:"pointer"},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},table:{marginTop:10,boxShadow:"0px 3px 6px #00000029"},tabs:{marginTop:10},tab:{fontWeight:"normal"},subSectionTitle:{fontSize:16,fontWeight:400,color:"#272e4c"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},inputLabel:{color:"#272e4c"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},title:{marginTop:20,fontSize:24,fontWeight:700},subTitle:{merginTop:2,fontSize:14},iconsSpan:{color:"#0D5E40",fontSize:"14px",fontWeight:600,cursor:"pointer"},icons:{color:"#0D5E40",fontSize:"22px",paddingRight:"6px",paddingTop:"3px"},popper:{top:"4px",'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e.palette.background.paper," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.9em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e.palette.background.paper," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e.palette.background.paper," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.9em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e.palette.background.paper)}}},arrow:{position:"absolute",fontSize:7,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},textLabel:{fontSize:"12px",fontWeight:700},text:{fontSize:"12px"},paper:{padding:"20px",width:300},downloadBtn:{width:135,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},downloadReport:{marginTop:20,textAlign:"right"},uploadFile:{border:"0.5px dashed",color:"#7b8099",backgroundColor:"#E6E8EE",textAlign:"center",borderRadius:5,width:182,height:182,padding:"46px"},dropzoneFinalize:{display:"flex",width:182,height:182,marginBottom:"46px"},uploaded:{width:182,height:182,border:"0.5px solid",borderRadius:5,paddingRight:1,paddingBottom:1,objectFit:"cover"},uploadFiles:{marginRight:"55px",marginBottom:"55px"},uploadFilesContainer:{marginTop:e.spacing(5),minHeight:"70vh",marginBottom:20},thumbnail:{width:182,height:182,border:"0.5px solid",borderRadius:5,paddingRight:1,paddingBottom:1,position:"relative",textAlign:"center",verticalAlign:"middle"},pdfIcon:{position:"absolute",top:"40%",bottom:"50%",left:"45%",right:"50%"}}}),me=function(e){var t=Object(r.useState)(!1),a=Object(i.a)(t,2),o=a[0],c=a[1],d=ue(),s=Object(r.useState)(""),u=Object(i.a)(s,2),m=u[0],p=u[1],f=Object(r.useState)(""),v=Object(i.a)(f,2),C=v[0],N=v[1],S=Object(r.useState)(""),T=Object(i.a)(S,2),A=T[0],I=T[1],D=Object(r.useState)(""),P=Object(i.a)(D,2),R=P[0],w=P[1],j=Object(r.useState)(""),x=Object(i.a)(j,2),L=x[0],k=x[1],F=Object(r.useState)(!1),B=Object(i.a)(F,2),M=B[0],U=B[1],V=Object(r.useState)(!1),H=Object(i.a)(V,2),G=H[0],z=H[1],W=e.clientData,Y=e.SetBenefitNodes,q=e.SetClientData,K=e.exclusionList,Z=e.SetExclusionList,Q=e.SetSelectedPlanType,X=e.SetSelectedPlanPackage,J=e.SetSelectedBenefitCategory,$=function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())},ee=function(e){if(e.trim().length<1)return{};var t=e.slice(1).split("&"),a={};return t.forEach(function(e){e=e.split("="),a[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(a))},te=[{label:"Clients",url:"#/underwriting/clients"},{label:C||"N.A.",url:"#/underwriting/client/"+e.match.params.client_id},{label:"History",url:""},{label:m,url:""}];return Object(r.useEffect)(function(){c(!0),O.a.getClientHMOData(e.match.params.client_id).then(function(t){if(t&&void 0===t.error){console.log("get client hmo info",t);var a=Object.assign({},t.client?t.client:{}),n=Object(y.convertClientData)(a);q(Object.assign({},W,n)),I(t.client&&t.client.corporate_account_no?t.client.corporate_account_no:""),N(t.client&&t.client.registered_name?t.client.registered_name:"");var i=t.benefit_plan_tree?t.benefit_plan_tree:[],r="",l="",o="";i.length>0&&i.forEach(function(e){2===e.level&&"MCT"===e.tree_id&&(r=e.name?e.name:"",e.custom_metadata&&(l=e.custom_metadata.coverage_start_date?e.custom_metadata.coverage_start_date:"",o=e.custom_metadata.coverage_end_date?e.custom_metadata.coverage_end_date:""))}),p(r),w(l),k(o);var c=[];t.plan_types&&t.plan_types.length>0&&(c=t.plan_types.map(function(e){return e.plan_type_code}));var d=JSON.parse(JSON.stringify(e)),s=ee(d.location.search),u=s&&s.plantype&&c.indexOf(s.plantype)>-1?s.plantype:"BASE";Q(u),U(!0)}else console.log("getclient hmo api error: ",t),U(!0)}).catch(function(e){console.log("client hmo error: ",e),U(!0)}),c(!0),O.a.getContractTree(e.match.params.contract_id).then(function(e){if(e&&e.length>0&&void 0===e.error){var t,a=Object(n.a)(e),i=Object(n.a)(K);t=Object(y.convertNodeData)(a,!0),i=Object(y.createExclusionList)(t),z(!0),Z(i),X("RB"),J("RBC"),Y(t)}else z(!0),console.log("getbenefitlist api error: ",e)}).catch(function(e){z(!0),console.log("getbenefitlist api error: ",e)})},[]),Object(r.useEffect)(function(){M&&G&&c(!1)},[M,G]),l.a.createElement("div",{className:d.main},o?l.a.createElement(E.f,null):null,l.a.createElement(b.a,{container:!0,justify:"space-between",alignItems:"center",className:d.gridHeader},l.a.createElement(b.a,{item:!0,xs:12},l.a.createElement(g.a.UI.BreadcrumbsComponent,{items:te}),l.a.createElement(_.a,{className:d.headerTitle,style:{paddingTop:8}},C))),l.a.createElement(b.a,{container:!0,justify:"space-between",alignItems:"center",className:d.gridContainer},l.a.createElement(b.a,{item:!0,xs:12,md:10},l.a.createElement(b.a,{container:!0},l.a.createElement(b.a,{item:!0,xs:12,md:3},l.a.createElement(h.a,{name:"Corporate Account No.",value:A||"-"})),l.a.createElement(b.a,{item:!0,xs:12,md:3},l.a.createElement(h.a,{name:"Contract",value:m||"-"})),l.a.createElement(b.a,{item:!0,xs:12,md:3},l.a.createElement(h.a,{name:"Effectivity Date",value:R&&$(R)?se()(R).format("MMM D, YYYY"):"-"})),l.a.createElement(b.a,{item:!0,xs:12,md:3},l.a.createElement(h.a,{name:"Expiry Date",value:L&&$(L)?se()(L).format("MMM D, YYYY"):"-"})))),l.a.createElement(b.a,{item:!0,xs:12},l.a.createElement(ce,Object.assign({viewOnly:!0,classes:d},e,{SetNewNodeCounter:function(){return console.log("SetNewNodeCounter")},newNodeCounter:0})))))},pe=function(e){return{benefitNodes:T(e),clientData:P(e),contractNode:G(e),categoryNode:z(e),planTypeList:W(e),roomAndBoardList:q(e),coverageList:K(e),riderList:Z(e),rows:Y(e),selectedPlanType:A(e),selectedPlanPackage:I(e),selectedBenefitCategory:D(e),businessData:R(e),natureData:w(e),contactDetailsData:j(e),HMOData:x(e),principalData:L(e),exclusionList:S(e)}},fe=function(e){return{SetBenefitNodes:Object(o.b)(d,e),SetClientData:Object(o.b)(u,e),SetSelectedPlanType:Object(o.b)(m,e),SetSelectedPlanPackage:Object(o.b)(p,e),SetSelectedBenefitCategory:Object(o.b)(f,e),SetExclusionList:Object(o.b)(s,e)}}},734:function(e,t,a){"use strict";var n=a(269),i=a(271),r=a(0),l=a(165),o=a(754),c=a(749),d=a(51),s=a(59),u=a(52),m=a(53),p=a(63),f=a(62),g=a(64),E=a(278),v=(a(782),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={value:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.choices.length!=e.choices.length||this.props.value.value!==e.value.value}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"detailed-dropdown"},this.props.placeholder?r.createElement("div",{className:"text"},this.props.placeholder):null,r.createElement("div",{className:"autocomplete"},r.createElement("div",{className:this.props.error?"detail-error":"detail"},this.props.value.value?this.props.value.value:null),r.createElement(E.a,{className:"actual-dropdown",classNamePrefix:this.props.error?"actual-dropdown-error":"actual-dropdown",isDisabled:!!this.props.disabled&&this.props.disabled,value:this.props.value,options:this.props.choices,onInputChange:function(t,a){e.setState({value:t})},noOptionsMessage:function(){return 0==e.props.choices.length?"Loading...":e.state.value.length<3?"Enter at least 3 characters to search":"No options"},filterOption:function(t,a){var n=0==a.length,i=e.props.choices.length<=20,r=a.length<3,l=t.label.toLowerCase().includes(a.toLowerCase());return i?!!n||l:!r&&l},onChange:function(t){e.props.onChange(t)}})))}}]),t}(r.Component)),b=a(275),_=a(266),h=a(265),O=a(259),y=a(244),C=a(687),N=a(72),S=a(1101),T=a(162),A=a(50),I=a(1111),D=a(264),P=a(1129),R=a(1127),w=a(376),j=a(744),x=a(276),L=a.n(x),k=a(1116),F=a(92),B=a.n(F);a.d(t,"b",function(){return H}),a.d(t,"a",function(){return te});var M=Object(_.a)({select:{backgroundColor:"transparent"},disabled:{color:"#272E4C"}}),U=Object(_.a)({root:{backgroundColor:"transparent"},disabled:{color:"#272E4C"}}),V=Object(_.a)({root:{"& > div":{backgroundColor:"transparent"},"& .Mui-disabled":{color:"#272E4C"}}}),H=function(e){var t="",a=e=e.toString().trim().replace(/,/g,""),n="",i=e.indexOf(".");if(i>-1&&(n=e.substring(i),a=e.substring(0,i)),a.length>3){for(var r=a;r.length>3;){t=","+r.slice(-3)+t,r=r.substring(0,r.length-3)}t=r+t}else t=a;return t+n},G=function(e){var t=e.items,a=e.disabled,n=e.value,l=Object(i.a)(e,["items","disabled","value"]),o=M();if(a){if(null!=n){var c=t.find(function(e){return e.value===n});return c?c.label:"\u2014\u2014"}return"\u2014\u2014"}return r.createElement(h.a,Object.assign({classes:o,style:{width:"100%",backgroundColor:"transparent"},value:n,renderValue:function(e){if(null!=e){var a=t.find(function(t){return t.value===e});return a?a.label:"\u2014\u2014"}return"\u2014\u2014"}},l),t.map(function(e,t){return r.createElement(O.a,{key:t,value:e.value},e.label)}))},z=function(e){var t=e.id,a=e.text,n=e.value,l=e.items,o=e.disabled,c=Object(i.a)(e,["id","text","value","items","disabled"]),d=M();if(o){if(void 0!==a){var s=l.find(function(e){return e.value===a});return s?s.label:"\u2014\u2014"}var u=[];return n.map(function(e){var t=l.find(function(t){return t.value===e});u.push(t.label)}),u.join(", ")}return r.createElement(h.a,Object.assign({multiple:!0,input:r.createElement(y.a,{id:t}),value:n,renderValue:function(e){if(void 0!==a){var t=l.find(function(e){return e.value===a});return t?t.label:"\u2014\u2014"}var n=[];return e.map(function(e){var t=l.find(function(t){return t.value===e});n.push(t.label)}),n.join(", ")},style:{width:"100%",backgroundColor:"transparent"},classes:d},c),l.map(function(e,t){return r.createElement(O.a,{key:t,value:e.value},r.createElement(C.a,{checked:n.indexOf(e.value)>-1}),r.createElement(N.a,{primary:e.label}))}))},W=function(e){var t=e.filter,a=e.onFilter,n=e.filteringEnabled,i=e.classes;return n?r.createElement(S.a,{style:{padding:"0px 10px 8px 10px"},classes:i},r.createElement(T.a,{classes:i,style:{width:"100%"},value:t?t.value:"",labelWidth:0,onChange:function(e){return a(e.target.value?{value:e.target.value}:null)},placeholder:""})):null},Y=function(e){var t=e.row,a=e.style,n=e.selected,l=e.onToggle,o=e.classes,c=Object(i.a)(e,["row","style","selected","onToggle","classes"]),u=void 0!==t.disabled&&t.disabled;return r.createElement(S.a,Object.assign({padding:"checkbox",style:a,classes:o},c),r.createElement(C.a,{icon:r.createElement(d.a,{icon:b.a}),checkedIcon:r.createElement(d.a,{icon:s.d}),classes:o,checked:!!u||n,onClick:function(e){e.stopPropagation(),l()},disabled:u}))},q=function(e){e.style;var t=e.someSelected,a=e.allSelected,n=e.onToggle,l=e.classes,o=Object(i.a)(e,["style","someSelected","allSelected","onToggle","classes"]);return r.createElement(S.a,Object.assign({padding:"checkbox",classes:l},o),r.createElement(C.a,{icon:r.createElement(d.a,{icon:b.a}),checkedIcon:a?r.createElement(d.a,{icon:s.d}):r.createElement(d.a,{icon:s.s}),classes:l,checked:t||a,onClick:function(e){e.stopPropagation(),n()}}))},K=function(e){var t=e.children,a=(e.tableRow,e.tableColumn,e.column),n=(e.classes,Object(i.a)(e,["children","tableRow","tableColumn","column","classes"]));return r.createElement(o.e.Cell,Object.assign({},n,{column:a}),r.createElement(A.a,{variant:"body2",align:"center"},t))},Z=function(e){var t=e.value,a=e.onValueChange;return r.createElement(T.a,{value:t||"",labelWidth:0,onChange:function(e){return a(e.target.value?e.target.value:null)},placeholder:"Search a benefit or benefit category",fullWidth:!0,startAdornment:r.createElement(I.a,{position:"start"},r.createElement(d.a,{icon:s.x}))})},Q=function(e){var t=e.children;return r.createElement(D.a,{disableGutters:!0,children:t})},X=function(e){var t=e.children;return r.createElement(D.a,{disableGutters:!0,style:{justifyContent:"space-between"}},t,r.createElement(l.a,{style:{color:"#3AB77D",width:"130px",marginLeft:"10px",textAlign:"right"}},r.createElement(d.a,{icon:s.u})," Add a Benefit"))},J=function(e){return"asc"===e.direction?r.createElement(d.a,{style:{marginLeft:"10px"},icon:s.A}):r.createElement(d.a,{style:{marginLeft:"10px"},icon:s.z})},$=function(e){var t=e.onSort,a=e.children,n=e.direction;return r.createElement(P.a,{hideSortIcon:!0,onClick:t},a,n?r.createElement(J,{direction:n}):r.createElement(d.a,{style:{marginLeft:"10px"},icon:s.y}))},ee={rows:[],columns:[],columnExtensions:[],columnBands:null,formattedColumns:{},dropdownHeader:!1,disableSearch:!1,disablePaging:!1,disableSelect:!1,disableFilter:!1,disableSort:!1,disableMargin:!1,toolbarType:null,selectionType:null,viewOnly:!1,setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a,n){return console.log("setRowMetadata2",e,t,a,n)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setAddDropdown:function(e){return console.log("setAddDropdown",e)},dropdownData:[],selectedOption:null,setSelectedOption:function(e){return console.log("setSelectedOption",e)}},te=function(e){var t=e.rows,a=e.columns,u=e.formattedColumns,m=e.disablePaging,p=e.disableSearch,f=e.disableSelect,g=e.disableSort,E=e.disableFilter,_=e.toolbarType,h=e.selectionType,O=e.columnExtensions,N=e.columnBands,T=e.disableMargin,P=e.dropdownHeader,x=e.setRowSelection,F=e.setRowMetadata,M=e.setRowMetadata2,J=e.setRowLimits,ee=e.viewOnly,te=e.dropdownData,ae=e.selectedOption,ne=e.setSelectedOption,ie=e.setAddDropdown,re=Object(r.useState)(0),le=Object(n.a)(re,2),oe=le[0],ce=le[1],de=Object(r.useState)(5),se=Object(n.a)(de,2),ue=se[0],me=se[1],pe=Object(r.useState)([5,10,15,0]),fe=Object(n.a)(pe,1)[0],ge=!1,Ee=!0,ve=Q,be=Y;_&&"add"===_&&(ve=X),h&&("radio"!==h&&"rab"!==h||(be=function(e){var t=e.style,a=e.selected,n=e.onToggle,l=e.classes,o=Object(i.a)(e,["style","selected","onToggle","classes"]);return r.createElement(S.a,Object.assign({padding:"checkbox",style:t,classes:l},o),r.createElement(R.a,{classes:l,checked:a,onClick:function(e){e.stopPropagation(),n()}}))},ge=!0,Ee=!1));var _e=t.reduce(function(e,t,a){return ge?t.included&&0===e.length&&e.push(a):t.included&&e.push(a),e},new Array),he=[],Oe=[];te&&te.length>0&&(Oe=te.map(function(e){return{value:e.facility_id,label:e.name}}));var ye=function(e){var t,a=e.value,i=e.column,l=e.row,o=Object(r.useState)(!1),c=Object(n.a)(o,2),d=c[0],s=c[1],u=Object(r.useState)(""),m=Object(n.a)(u,2),p=m[0],f=m[1];t="payment"===i.name?new RegExp(/^\d+(?:\.\d{0,2})?$/):new RegExp(/[\D,]/);var g=V();return ee?r.createElement("span",null,a):r.createElement(w.a,{onChange:function(e){console.log("check"),0===e.target.value.length&&(e.target.value="0"),"payment"===i.name?t.test(e.target.value)&&(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&"."!==e.target.value.substring(1,2)&&(e.target.value=e.target.value.substring(1)),f(e.target.value)):t.test(e.target.value)||(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&(e.target.value=e.target.value.substring(1)),f(e.target.value))},onFocus:function(){f(a),s(!0)},onBlur:function(e){F(e,l.id),s(!1)},name:i.name,value:d?p:a,type:"tel",classes:g,disabled:ee,inputProps:{min:"0"}})},Ce=function(e){var t=e.value,a=e.column,n=e.row,i=j.g;return r.createElement(z,{onChange:function(e){return F(e,n.id)},name:a.name,items:i,id:"eligble_availees_checkbox",value:t,disabled:ee})},Ne=function(e){var t=e.value,a=e.column,n=e.row,i=j.b;return r.createElement(G,{onChange:function(e){return F(e,n.id)},name:a.name,items:i,id:"limit_type",value:t,disabled:ee})},Se=function(e){var t=e.value,a=e.column,n=e.row,i=j.s;return r.createElement(G,{onChange:function(e){return F(e,n.id)},name:a.name,items:i,id:"required",value:t,disabled:ee})},Te=function(e){var t=e.column,a=e.row,n=e.value;return r.createElement(r.Fragment,null,n.map(function(e,n){return r.createElement(Ae,{key:n,index:n,row:a,column:t,viewOnly:ee,value:e})}))},Ae=function(e){var t,a=e.index,i=e.row,l=e.column,o=e.viewOnly,c=e.value,d=U(),s=Object(r.useState)(!1),u=Object(n.a)(s,2),m=u[0],p=u[1],f=Object(r.useState)(""),g=Object(n.a)(f,2),E=g[0],v=g[1],b="";return"PHP"===c.limit_unit&&(b="PHP",t=new RegExp(/^\d+(?:\.\d{0,2})?$/)),"Percentage"===c.limit_unit&&(b="%",t=new RegExp(/^\d+(?:\.\d{0,2})?$/),["ABL","MBL"].includes(c.type)&&(b="% "+c.type)),"Sessions"===c.limit_unit&&(b=1==c[l.name]?"session":"sessions",t=new RegExp(/\D/)),"Visits"===c.limit_unit&&(t=new RegExp(/\D/),b=1==c[l.name]?"visit":"visits"),o?r.createElement(r.Fragment,null,H(c[l.name])," ",H(c[l.name])?b:null," ",r.createElement("br",null)):r.createElement(r.Fragment,null,r.createElement(y.a,{type:"text",disabled:o,onChange:function(e){e.target.value=e.target.value.replace(/,/g,""),console.log("check value: "+e.target.value),0===e.target.value.length&&(e.target.value="0"),"PHP"===c.limit_unit||"Percentage"===c.limit_unit?t.test(e.target.value)&&(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&"."!==e.target.value.substring(1,2)&&(e.target.value=e.target.value.substring(1)),v(e.target.value)):t.test(e.target.value)||(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&(e.target.value=e.target.value.substring(1)),v(e.target.value))},onFocus:function(){v(H(c[l.name])),p(!0)},onBlur:function(e){e.target.value=e.target.value.replace(/,/g,""),console.log(e.target.value),J(e,i.id,a),p(!1)},name:l.name,value:H(m?E:c[l.name]),inputProps:{style:{textAlign:"right"}},classes:d,endAdornment:r.createElement(I.a,{disableTypography:!0,position:"end"},r.createElement(A.a,{noWrap:!0},b))}),r.createElement("br",null))},Ie=function(e){var t=e.column,a=e.row,n=e.value,i=j.j,l=n.reduce(function(e,t){var a=i.find(function(e){return e.type===t.type&&e.limit_unit===t.limit_unit});return a&&e.push(a.value),e},new Array);return r.createElement(r.Fragment,null,l.length>0?l.map(function(e,n){return r.createElement(r.Fragment,null,r.createElement(z,{key:n,onChange:function(e){return J(e,a.id)},value:l,name:t.name,items:i,id:"limit_type",text:e,disabled:ee})," ",r.createElement("br",null))}):r.createElement(z,{onChange:function(e){return J(e,a.id)},value:[],name:t.name,items:i,id:"limit_type",text:"",disabled:ee}))},De=function(e){var t=e.value,a=j.l;return r.createElement(r.Fragment,null,t.map(function(e,n){return r.createElement(r.Fragment,null,r.createElement(z,{key:n,items:a,id:"limit_type",text:e,value:t,disabled:ee})," ",r.createElement("br",null))}))},Pe=function(e){var t=e.column,a=e.row,i=e.value,l=U(),o=Object(r.useState)(!1),c=Object(n.a)(o,2),d=c[0],s=c[1],u=Object(r.useState)(""),m=Object(n.a)(u,2),p=m[0],f=m[1],g=new RegExp(/^\d+(?:\.\d{0,2})?$/);return ee?r.createElement("span",null,i," ",i?"PHP":null):r.createElement(y.a,{onChange:function(e){if(e.target.min){var t=e.target.min;e.target.value=e.target.value.trim().replace(/,/g,""),0===e.target.value.length&&(e.target.value="0"),0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&"."!==e.target.value.substring(1,2)&&(e.target.value=e.target.value.substring(1)),e.target.value>=t&&g.test(e.target.value)&&f(H(e.target.value))}},onFocus:function(e){f(e.target.value),s(!0)},onBlur:function(e){e.target.value=e.target.value.trim().replace(/,/g,""),F(e,a.id),s(!1)},onKeyPress:function(e){new RegExp(/^[0-9.]*$/).test(e.key)||e.preventDefault()},disabled:ee,value:H(d?p:i),type:"text",name:t.name,classes:l,inputProps:{style:{textAlign:"right"},min:0},endAdornment:r.createElement(I.a,{disableTypography:!0,position:"end"},r.createElement(A.a,{noWrap:!0},"PHP"))})},Re=function(e){var t=e.value,a=V();return ee?r.createElement(r.Fragment,null," ",t," "):r.createElement(w.a,{disabled:ee,value:t,classes:a})},we=function(e){var t=e.value;return r.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},je=function(e){var t=e.column,a=e.row,n=e.value,i=j.t;return r.createElement(G,{onChange:function(e){return F(e,a.id)},name:t.name,disabled:ee,items:i,id:"rollover",value:n})},xe=function(e){var t=e.column,a=e.row,n=e.value,i=j.k;return r.createElement(z,{onChange:function(e){return F(e,a.id)},name:t.name,disabled:ee,items:i,id:"maternity_eligble_availees_checkbox",value:n})},Le=function(e){var t=e.column,a=e.row,n=e.value,i=j.p;return r.createElement(G,{onChange:function(e){return F(e,a.id)},name:t.name,disabled:ee,items:i,id:"refresh",value:n})},ke=function(e){var t=e.column,a=e.value,n=e.row,i=j.q;return r.createElement(G,{onChange:function(e){return F(e,n.id)},name:t.name,disabled:ee,items:i,id:"availment",value:a})},Fe=function(e){var t=e.value,a=e.column,n=e.row,i=j.m;return r.createElement(z,{onChange:function(e){return F(e,n.id)},name:a.name,items:i,id:"member_type_checkbox",value:t,disabled:ee})},Be=function(e){var t=e.value,a=e.row,n=e.column,i=j.o;return r.createElement(z,{onChange:function(e){return F(e,a.id)},name:n.name,items:i,id:"plan_type_checkbox",value:t,disabled:ee})},Me=function(e){var t=e.column,a=e.value,n=e.row,i=j.f;return r.createElement(G,{disabled:ee,items:i,id:"eligibility",value:a,onChange:function(e){return F(e,n.id)},name:t.name})},Ue=function(e){var t=e.column,a=e.value,n=e.row,i=j.n;return r.createElement(G,{disabled:ee,items:i,id:"no_of_members",value:a,onChange:function(e){return F(e,n.id)},name:t.name})},Ve=function(e){var t=e.value,a=e.column,n=e.row,i=j.c;return r.createElement(z,{onChange:function(e){return F(e,n.id)},name:a.name,items:i,id:"day_checkbox",value:t,disabled:ee})},He=function(e){var t=e.column,a=e.value,n=e.row,i=j.v;return r.createElement(G,{onChange:function(e){return F(e,n.id)},name:t.name,disabled:ee,items:i,id:"type",value:a})},Ge=function(e){var t=e.column,a=e.value,n=e.row,i=j.i;return r.createElement(G,{onChange:function(e){return F(e,n.id)},name:t.name,disabled:ee,items:i,id:"hierarchy",value:a})},ze=function(e){var t=e.column,a=e.row,i=j.e,l=U(),o=Object(r.useState)(!1),c=Object(n.a)(o,2),d=c[0],s=c[1],u=Object(r.useState)(!1),m=Object(n.a)(u,2),p=m[0],f=m[1],g=Object(r.useState)(""),E=Object(n.a)(g,2),v=E[0],b=E[1],_=function(e){if("number"===e.target.type&&e.target.min){var a=e.target.min;(""!==e.target.value||e.target.value>=a)&&(e.target.name===t.name+"_min"&&b(e.target.value),e.target.name===t.name+"_max"&&b(e.target.value))}};if(ee){if(a.custom_metadata[t.name+"_min"]||a.custom_metadata[t.name+"_min_unit"]||a.custom_metadata[t.name+"_max"]||a.custom_metadata[t.name+"_max_unit"]){var h=["min","to","max"].map(function(e){var n=t.name+"_"+e;if("to"===e)return a.custom_metadata[t.name+"_max"]?r.createElement("span",{style:{width:"30px"}},"to"):null;var l="",o="";if(a.custom_metadata[n]&&(l=a.custom_metadata[n]),a.custom_metadata[n+"_unit"]){var c=i.find(function(e){return e.value===a.custom_metadata[n+"_unit"]});c&&(o=c.label)}return r.createElement("span",null,l," ",o)});return r.createElement("div",{style:{display:"inline-flex"}},h)}return r.createElement("span",null,"\u2014\u2014")}var O=["min","to","max"].map(function(e){var n=t.name+"_"+e;if("to"===e)return r.createElement("span",{style:{width:"30px"}},"to");var o="";return o=d?n===t.name+"_min"?v:a.custom_metadata[n]?a.custom_metadata[n]:"":p&&n===t.name+"_max"?v:a.custom_metadata[n]?a.custom_metadata[n]:"",r.createElement(G,{onChange:function(e){return F(e,a.id)},name:n+"_unit",disabled:ee,items:i,id:n+"_unit",value:a.custom_metadata[n+"_unit"]?a.custom_metadata[n+"_unit"]:"",startAdornment:r.createElement(I.a,{disableTypography:!0,position:"start"},r.createElement(y.a,{onChange:_,onFocus:function(e){n===t.name+"_min"?(b(e.target.value),s(!0)):n===t.name+"_max"&&(b(e.target.value),f(!0))},onBlur:function(e){F(e,a.id),s(!1),f(!1)},id:"enrollment_period",disabled:ee,value:o,type:"number",name:n,classes:l,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})});return r.createElement("div",{style:{display:"inline-flex"}},O)},We=function(e){var t=e.column,a=e.value,i=e.row,l=j.h,o=U(),c=Object(r.useState)(!1),d=Object(n.a)(c,2),s=d[0],u=d[1],m=Object(r.useState)(""),p=Object(n.a)(m,2),f=p[0],g=p[1];if(ee){if(i.custom_metadata[t.name]||i.custom_metadata[t.name+"_unit"]){var E="";if(i.custom_metadata[t.name+"_unit"]&&i.custom_metadata[t.name+"_unit"]){var v=l.find(function(e){return e.value===i.custom_metadata[t.name+"_unit"]});E=v?"days from "+v.label:"days"}return r.createElement("span",null,a," ",E)}return r.createElement("span",null,"\u2014\u2014")}return r.createElement(G,{onChange:function(e){return F(e,i.id)},name:t.name+"_unit",disabled:ee,items:l,id:"enrollment_period_unit",value:i.custom_metadata[t.name+"_unit"]?i.custom_metadata[t.name+"_unit"]:"",startAdornment:r.createElement(I.a,{disableTypography:!0,position:"start"},r.createElement(y.a,{onChange:function(e){if("number"===e.target.type&&e.target.min){var t=e.target.min;(""!==e.target.value||e.target.value>=t)&&g(e.target.value)}},onFocus:function(e){g(e.target.value),u(!0)},onBlur:function(e){F(e,i.id),u(!1)},id:"enrollment_period",disabled:ee,value:s?f:a,type:"number",name:t.name,classes:o,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})},Ye=function(e){var t=e.column,a=e.value,i=e.row,l=j.d,o=U(),c=Object(r.useState)(!1),d=Object(n.a)(c,2),s=d[0],u=d[1],m=Object(r.useState)(""),p=Object(n.a)(m,2),f=p[0],g=p[1];if(ee){if(i.custom_metadata[t.name]||i.custom_metadata[t.name+"_unit"]){var E="";if(i.custom_metadata[t.name+"_unit"]&&i.custom_metadata[t.name+"_unit"]){var v=l.find(function(e){return e.value===i.custom_metadata[t.name+"_unit"]});E=v?"days from "+v.label:"days"}return r.createElement("span",null,a," ",E)}return r.createElement("span",null,"\u2014\u2014")}return r.createElement(G,{onChange:function(e){return F(e,i.id)},name:t.name+"_unit",disabled:ee,items:l,id:"effectivity_coverage_unit",value:i.custom_metadata[t.name+"_unit"]?i.custom_metadata[t.name+"_unit"]:"",startAdornment:r.createElement(I.a,{disableTypography:!0,position:"start"},r.createElement(y.a,{onChange:function(e){if("number"===e.target.type&&e.target.min){var t=e.target.min;(""!==e.target.value||e.target.value>=t)&&g(e.target.value)}},onFocus:function(e){g(e.target.value),u(!0)},onBlur:function(e){F(e,i.id),u(!1)},id:"effectivity_coverage",disabled:ee,value:s?f:a,type:"number",name:t.name,classes:o,inputProps:{style:{textAlign:"right",width:"50px"},min:0}}))})},qe=function(e){var t=e.value,a=e.column,i=e.row,l=Object(r.useState)(!1),o=Object(n.a)(l,2),c=o[0],d=o[1],s=Object(r.useState)(""),u=Object(n.a)(s,2),m=u[0],p=u[1],f=V();return ee?r.createElement(r.Fragment,null," ",t," "):r.createElement(w.a,{disabled:ee,onFocus:function(e){p(e.target.value),d(!0)},onBlur:function(e){F(e,i.id),d(!0)},type:"time",name:a.name,classes:f,onChange:function(e){p(e.target.value)},value:c?m:t,inputProps:{step:300}})},Ke=function(e){var t=e.column,a=e.value,n=e.row;return r.createElement(r.Fragment,null,r.createElement(R.a,{name:t.name,disabled:ee,checked:!0===a,checkedIcon:r.createElement(d.a,{style:{color:"#3AB77D"},icon:s.c}),icon:r.createElement(d.a,{style:{color:"#CFCFD2"},icon:s.c}),onClick:function(e){e.stopPropagation(),M("partner_network_list",null===a||!1===a||null,n.parent,n.index,t.name)}}),r.createElement(R.a,{name:t.name,disabled:ee,checked:!1===a,checkedIcon:r.createElement(d.a,{style:{color:"#FD5451"},icon:s.E}),icon:r.createElement(d.a,{style:{color:"#CFCFD2"},icon:s.E}),onClick:function(e){e.stopPropagation(),M("partner_network_list",null!==a&&!0!==a&&null,n.parent,n.index,t.name)}}))},Ze=function(e){var t=e.column,a=e.value,n=e.row;return r.createElement(r.Fragment,null,r.createElement(C.a,{name:t.name,icon:r.createElement(d.a,{icon:b.a}),checkedIcon:r.createElement(d.a,{icon:s.d}),onClick:function(e){e.stopPropagation();var t=[{id:n.id,included:!a}];x(t)},checked:!a}))},Qe=function(e){var t=e.column,a=e.value,n=e.row,i=j.a;return r.createElement(r.Fragment,null,r.createElement(G,{onChange:function(e){return F(e,n.id)},name:t.name,disabled:ee,items:i,id:"payment_dropdown",value:a}))},Xe=function(e){var t=e.value,a=e.column,i=e.row,l=V(),o=Object(r.useState)(!1),c=Object(n.a)(o,2),d=c[0],s=c[1],u=Object(r.useState)(""),m=Object(n.a)(u,2),p=m[0],f=m[1];if("date"===i.custom_metadata.field_type){var g=t?B()(t.toString(),"YYYY"):null;return ee?r.createElement(r.Fragment,null," ",t," "):r.createElement(k.a,{views:["year"],value:g,onChange:function(e){M(a.name,B()(e).get("year"),i.id)},name:a.name,disableFuture:!0})}if("chip"===i.custom_metadata.field_type){var E=t||[];return ee?r.createElement(r.Fragment,null," ",E.join(", ")," "):r.createElement(L.a,{value:E,onChange:function(e){M(a.name,e,i.id)}})}return ee?r.createElement(r.Fragment,null," ",t," "):r.createElement(w.a,{disabled:ee,value:d?p:t,classes:l,onChange:function(e){f(e.target.value)},onFocus:function(e){f(e.target.value),s(!0)},onBlur:function(e){F(e,i.id),s(!0)},name:a.name})};return void 0!==u&&(void 0!==u.payment&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Qe},e))},{for:u.payment})),void 0!==u.exclusions_checkbox&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Ze},e))},{for:u.exclusions_checkbox})),void 0!==u.partner_checkbox&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Ke},e))},{for:u.partner_checkbox})),void 0!==u.number&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:ye},e))},{for:u.number})),void 0!==u.text&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Re},e))},{for:u.text})),void 0!==u.limit_type&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Ie},e))},{for:u.limit_type})),void 0!==u.limit&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Te},e))},{for:u.limit})),void 0!==u.medicine_limit_type&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:De},e))},{for:u.medicine_limit_type})),void 0!==u.php&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Pe},e))},{for:u.php})),void 0!==u.rollover&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:je},e))},{for:u.rollover})),void 0!==u.refresh&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Le},e))},{for:u.refresh})),void 0!==u.eligible_availees&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Ce},e))},{for:u.eligible_availees})),void 0!==u.html&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:we},e))},{for:u.html})),void 0!==u.maternity_eligible_availees&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:xe},e))},{for:u.maternity_eligible_availees})),void 0!==u.age_limit&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Ne},e))},{for:u.age_limit})),void 0!==u.eligibility_age_limit&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:ze},e))},{for:u.eligibility_age_limit})),void 0!==u.required&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Se},e))},{for:u.required})),void 0!==u.availment&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:ke},e))},{for:u.availment})),void 0!==u.member_type&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Fe},e))},{for:u.member_type})),void 0!==u.plan_type&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Be},e))},{for:u.plan_type})),void 0!==u.day&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({disabled:ee,formatterComponent:Ve},e))},{for:u.day})),void 0!==u.no_of_members&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Ue},e))},{for:u.no_of_members})),void 0!==u.eligibility&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Me},e))},{for:u.eligibility})),void 0!==u.type&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:He},e))},{for:u.type})),void 0!==u.hierarchy&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Ge},e))},{for:u.hierarchy})),void 0!==u.enrollment_period&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:We},e))},{for:u.enrollment_period})),void 0!==u.effectivity_coverage&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Ye},e))},{for:u.effectivity_coverage})),void 0!==u.time&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({disabled:ee,formatterComponent:qe},e))},{for:u.time})),void 0!==u.identifier&&he.push(r.createElement(function(e){return r.createElement(c.c,Object.assign({formatterComponent:Xe},e))},{for:u.identifier}))),r.createElement("div",{style:T?{}:{marginTop:"30px"}},r.createElement(o.a,{rows:t,columns:a},he,p?null:r.createElement(c.o,null),f||ee?null:r.createElement(c.p,{selection:_e,onSelectionChange:function(e){if(ge){var a=e.find(function(e){return-1===_e.indexOf(e)});if(console.log(a),void 0!==a){var n=t.reduce(function(e,t,n){if(!1===t.disabled){var i={id:t.id};i.included="rab"===h?n>=a:n===a,e.push(i)}return e},new Array);x(n)}}else{var i=t.reduce(function(t,a,n){if(!1===a.disabled){var i={id:a.id};e.includes(n)?i.included=!0:i.included=!1,t.push(i)}return t},new Array);x(i)}}}),m?null:r.createElement(c.m,{currentPage:oe,onCurrentPageChange:ce,pageSize:ue,onPageSizeChange:me}),g?null:r.createElement(c.q,{defaultSorting:[{columnName:"category",direction:"asc"}]}),E?null:r.createElement(c.e,{defaultFilters:[]}),g?null:r.createElement(c.k,null),f||ee?null:r.createElement(c.j,null),m?null:r.createElement(c.i,null),E?null:r.createElement(c.h,null),r.createElement(o.d,{columnExtensions:O}),f||ee?null:r.createElement(o.h,{showSelectAll:!!Ee,cellComponent:be,headerCellComponent:q}),P?r.createElement(o.g,{rowComponent:function(e){var t=e.children,a=Object(i.a)(e,["children"]);return r.createElement(o.g.Row,a,r.createElement(S.a,{colSpan:t.length,style:{justifyContent:"space-between"}},r.createElement(D.a,{disableGutters:!0,style:{justifyContent:"space-between"}},r.createElement(v,{choices:Oe,onChange:function(e){ne(e)},value:ae||{label:"Add a hospital...",value:"Code"}}),r.createElement(l.a,{onClick:function(){return ie(ae)},style:{color:"#3AB77D",width:"140px",marginLeft:"10px",textAlign:"right"}},r.createElement(d.a,{icon:s.u})," Add a Hospital"))))}}):r.createElement(o.g,{showSortingControls:!g,sortLabelComponent:$}),E?null:r.createElement(o.f,{cellComponent:W}),N?r.createElement(o.e,{columnBands:N,cellComponent:K}):null,!p||_?r.createElement(o.i,{rootComponent:ve}):null,p?null:r.createElement(o.c,{inputComponent:Z}),m?null:r.createElement(o.b,{pageSizes:fe})))};te.defaultProps=ee},735:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(0),i=a(266),r=a(50),l=Object(i.a)({root:{lineHeight:"1"},adornedStart:{paddingLeft:0}}),o=Object(i.a)({root:{fontWeight:"bold"}}),c=function(e){var t=l(),a=o(),i=e.label,c=e.value,d=e.menuItems,s=c;if(void 0!==d&&d.length>0){var u=d.find(function(e){return c===e.value});u&&u.name&&(s=u.name)}return n.createElement(n.Fragment,null,n.createElement(r.a,{classes:t,style:{lineHeight:"1"},variant:"overline"},i),n.createElement(r.a,{classes:a,style:{fontWeight:"bold",marginBottom:"25px"},variant:"body1"},s||"\u2014\u2014"))}},737:function(e,t,a){"use strict";var n=a(271);var i=a(0),r=a(1111),l=a(141),o=a(259),c=a(265),d=a(162),s=a(266),u=a(734);a.d(t,"a",function(){return f}),a.d(t,"b",function(){return g}),a.d(t,"c",function(){return E}),a.d(t,"d",function(){return v}),a.d(t,"e",function(){return b});var m=Object(s.a)({root:{marginTop:"16px",marginBottom:"8px"},adornedEnd:{paddingRight:0}}),p=Object(s.a)({notchedOutline:{borderTopLeftRadius:0,borderBottomLeftRadius:0},input:{textTransform:"uppercase",padding:"12.5px 16px"},root:{height:"2.90em"}}),f=function(e){return i.createElement(_,Object.assign({},e,{items:[{name:"USD",value:"USD"},{name:"PHP",value:"PHP"},{name:"EUR",value:"EUR"}],type:"number",currency:!0,defaultValue:"PHP"}))},g=function(e){return i.createElement(_,Object.assign({},e,{items:[{name:"Amount Limit",value:"amt_limit"},{name:"Max Session",value:"max_session"},{name:"Max Amount",value:"max_amount"},{name:"Percent of MBL",value:"percent_mbl"},{name:"Percent of ABL",value:"percent_abl"},{name:"No. of Visits",value:"no_visits"}],type:"number",currency:!1,defaultValue:"percent_mbl"}))},E=function(e){return i.createElement(_,Object.assign({},e,{items:[{name:"%",value:"percent"}],type:"number",currency:!1,defaultValue:"percent"}))},v=function(e){return i.createElement(_,Object.assign({},e,{items:[{name:"PHP MBL",value:"php_mbl"},{name:"PHP ABL",value:"php_abl"}],type:"number",currency:!0,defaultValue:"php_abl"}))},b=function(e){return i.createElement(_,Object.assign({},e,{items:[{name:"Months",value:"months"},{name:"Days",value:"days"}],currency:!1,type:"number",defaultValue:"months"}))},_=function(e){var t,a,s,f,g,E,v,b,_,h,O,y,C,N,S,T=m(),A=p(),I=e.noDefault;return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),t=e.id,a=e.label,f=e.items,g=e.fieldName,E=e.selectName,O=e.fieldOnChange,y=e.selectOnChange,S=e.currency,h=e.type,b=e.fieldValue,_=e.selectValue,v=e.defaultValue,C=e.disableSelect,N=e.inputProps,s=Object(n.a)(e,["id","label","items","fieldName","selectName","fieldOnChange","selectOnChange","currency","type","fieldValue","selectValue","defaultValue","disableSelect","inputProps"]),void 0===N&&(N={}),I&&(v="none"),i.createElement(i.Fragment,null,i.createElement(l.a,{htmlFor:t+"_label"},a),i.createElement(d.a,Object.assign({id:t,classes:T,type:S?"text":h,name:g,value:b?S?Object(u.b)(b):b:"tel"===h?"0":"",onChange:O||null,onKeyPress:function(e){var t=new RegExp(/^[0-9.]*$/);S&&!t.test(e.key)&&e.preventDefault()},inputProps:N,endAdornment:i.createElement(r.a,{position:"end"},i.createElement(c.a,{value:_||v,onChange:function(e){y(e)},disabled:C||!1,input:i.createElement(d.a,{classes:A,name:E,labelWidth:0,id:t+"_adornment"})},I?i.createElement(o.a,{selected:!0,disabled:!0,value:"none"},"\u2014\u2014"):null,f.map(function(e){return i.createElement(o.a,{key:e.value,value:e.value},e.name)})))},s)))}},738:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(208),i=a(52),r=a(53),l=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,null,[{key:"toNameFormat",value:function(t,a,n){return"".concat(t," ").concat(e.getIntials(a)," ").concat(n)}},{key:"formatNumber",value:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},{key:"getIntials",value:function(e){for(var t="",a=e.split(" "),n=0;n<a.length;n++)t+=a[n].substring(0,1).toUpperCase()+".";return t}},{key:"toCommonDateString",value:function(e){if(e){var t=e.getDate(),a=e.getMonth(),n=e.getFullYear();return["January","February","March","April","May","June","July","August","September","October","November","December"][a]+" "+t+", "+n}return""}},{key:"getTimeDeffirence",value:function(e,t){for(var a=(t.getTime()-e.getTime())/1e3,n=[Math.round(a/86400),Math.round(a/3600)%24,Math.round(a/60)%60,Math.round(a)%60],i=0,r=0;r<n.length;r++)if(n[r]>0){i=r;break}return i?"".concat(n[i]," ").concat([["day","days"],["hour","hours"],["minute","minutes"],["second","seconds"]][i][1==n[i]?0:1]):""}},{key:"toShortDateString",value:function(e){if(e){var t=e.getDate(),a=e.getMonth(),n=e.getFullYear();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a]+" "+t+", "+n}return""}},{key:"toDateAndTime",value:function(e){if(e){var t=e.getDate(),a=e.getMonth(),n=e.getFullYear(),i=e.getHours()-(e.getHours()>12?12:0),r=e.getMinutes(),l=e.getSeconds(),o=e.getHours()>12?"PM":"AM";return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a]+" "+t+", "+n+" - "+i+":"+r+":"+l+" "+o}return""}},{key:"getMatchByPlanCode",value:function(e,t,a){return e.findIndex(function(e){return 8===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]&&t.tree_path[6]===e.tree_path[6]&&t.tree_path[7]===e.tree_path[7]:7===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]&&t.tree_path[6]===e.tree_path[6]:6===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]:5===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]:4===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]:3===t.level?t.name===e.name&&t.code===e.code&&t.level===e.level&&a===e.tree_path[2]:t.name===e.name&&t.code===e.code&&t.level===e.level})}},{key:"getNodeTree",value:function(e,t){var a=e,i=[],r=2;return(i=Array.isArray(a.tree_path)?Object(n.a)(a.tree_path).reverse():Object.values(a.tree_path).reverse()).shift(),3===a.level&&(r=1),i.reduce(function(e,n){if(void 0!==a&&a.level>r){var i={id:a.id,name:a.name,code:a.code};a.original_id&&(i.original_id=a.original_id),e.push(i),a=t.find(function(e){return e.level===a.level-1&&e.code===n&&e.children.includes(a.id)})}return e},new Array).reverse()}},{key:"getDescendants",value:function(e,t){for(var a=e,i=a.level,r=[],l=a.children?a.children:[],o=function(e){var a=[];l.length>0&&l.map(function(e){var i=t.find(function(t){return e===t.id}),l={id:i.id,name:i.name,code:i.code};r.push(l),i.children&&i.children.length>0&&a.push.apply(a,Object(n.a)(i.children))}),l=a},c=i;c<9;c++)o();return r}},{key:"filterNodesByLevel",value:function(e,t,a){if(e.level!==a)return!0;if("BASE"!==e.tree_path[2]){if(a>3&&"NT"===e.tree_path[3]&&e.included)return!0;if(5===a&&"RB"===e.tree_path[3]&&e.included)return!0;if((8===a||7===a)&&"EL"===e.tree_path[4]&&e.included)return!0;var n=t.find(function(t){return t.name===e.name&&t.code===e.code&&t.level===e.level&&"BASE"===t.tree_path[2]});if(n){if(!n.included&&e.included)return!0;if(n.included&&e.edited)return!0;if(n.included&&e.included&&!e.edited&&e.children.filter(function(e){return!!t.find(function(t){return e===t.id})}).length>0)return!0}}else if(e.included)return!0;return!1}},{key:"generateTicketNumber",value:function(e,t,a){var n="Inquiry"===e?"":"".concat({Inpatient:"INP","Outpatient Procedure":"OP","Emergency Room":"ER",Maternity:"MAT",Consultation:"CON"}[t],"-");return"".concat({Availment:"AVL",Inquiry:"INQ"}[e],"-").concat(n).concat(a)}}]),e}()},742:function(e,t,a){},743:function(e,t,a){"use strict";a.d(t,"a",function(){return k}),a.d(t,"c",function(){return W}),a.d(t,"d",function(){return Y}),a.d(t,"b",function(){return K}),a.d(t,"e",function(){return Q});var n=a(208),i=a(29),r=a(269),l=a(0),o=a.n(l),c=a(923),d=a(921),s=a(37),u=a(50),m=a(141),p=a(377),f=a(104),g=a(72),E=a(735),v=a(736),b=a(164),_=a(682),h=a(687),O=a(127),y=a(160),C=a(1112),N=a(1127),S=a(765),T=a(51),A=a(59),I=a(1116),D=a(92),P=a.n(D),R=a(43);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(i.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var x=Object(R.a)({titleHeader:{marginTop:"15px"}}),L=[],k=function(e){var t=e.classes,a=e.invalidFields,n=e.submitMode,i=e.principalData,c=e.clientData,d=e.SetClientData,m=e.businessData,E=e.natureData,b=e.proposalInfo,_=e.SetProposalInfo,h=e.contactDetailsData,O=e.HMOData,y=e.wrongFormatFieldIds,C=e.viewOnly,N=e.kycEditable,S=Object(l.useState)("business"),T=Object(r.a)(S,2),A=T[0],I=T[1],D=x();L=[];for(var P=function(e){var t=K.filter(function(t){return t.region==h.branchAddress[e].region&&t.value==h.branchAddress[e].city});L.push({name:"Branch "+(e+1)+(0===t.length?"":" - ("+t[0].name+")"),value:"Branch "+(e+1)+(0===t.length?"":" - ("+t[0].name+")")})},R=0;R<h.branchAddress.length;R++)P(R);return o.a.createElement(s.a,{container:!0,className:n?t.gridContainerNoPadding:t.gridContainer},o.a.createElement(s.a,{item:!0,xs:12,className:D.titleHeader},n||C?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:t.sectionTitle},"Add Indicative Information"),o.a.createElement(u.a,{className:t.subSectionTitle},"Specify the composition of the members.")),n?o.a.createElement(u.a,{gutterBottom:!0,className:t.sectionTitle},"Indicative Information"):null,C&&!n?o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{gutterBottom:!0,className:t.sectionTitle},"Review Details"),o.a.createElement(u.a,{gutterBottom:!0,className:t.sectionTitle},"Indicative Information")):null),o.a.createElement(v.e,{height:"50px"}),o.a.createElement(F,{classes:t,data:i,setData:function(e){return function(e){var t=Object.assign({},c);t.principalData=e,d(t)}(e)},invalidFields:a||null,viewOnly:C}),o.a.createElement(v.e,{height:"90px"}),o.a.createElement(s.a,{item:!0,xs:12},n||C?o.a.createElement(u.a,{gutterBottom:!0,className:t.sectionTitle},"KYC Information"):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:t.sectionTitle},"Complete KYC Information"),o.a.createElement(u.a,{className:t.subSectionTitle},"Complete company information before submitting the proposal."))),o.a.createElement(v.e,{height:"60px"}),o.a.createElement(s.a,{item:!0,xs:12,sm:3},o.a.createElement(p.a,null,o.a.createElement(f.a,null,o.a.createElement(g.a,{classes:{root:t.listItemTextRoot,primary:"business"===A?t.listItemTextPrimarySelected:t.listItemTextPrimaryNotSelected},onClick:function(){I("business")}},"BUSINESS")),o.a.createElement(f.a,null,o.a.createElement(g.a,{classes:{root:t.listItemTextRoot,primary:"nature"===A?t.listItemTextPrimarySelected:t.listItemTextPrimaryNotSelected},onClick:function(){I("nature")}},"NATURE")),o.a.createElement(f.a,null,o.a.createElement(g.a,{classes:{root:t.listItemTextRoot,primary:"contact_details"===A?t.listItemTextPrimarySelected:t.listItemTextPrimaryNotSelected},onClick:function(){I("contact_details")}},"CONTACT DETAILS")),o.a.createElement(f.a,null,o.a.createElement(g.a,{classes:{root:t.listItemTextRoot,primary:"hmo"===A?t.listItemTextPrimarySelected:t.listItemTextPrimaryNotSelected},onClick:function(){I("hmo")}},"HMO")),o.a.createElement(f.a,null,o.a.createElement(g.a,{classes:{root:t.listItemTextRoot,primary:"proposal"===A?t.listItemTextPrimarySelected:t.listItemTextPrimaryNotSelected},onClick:function(){I("proposal")}},"PROPOSAL")))),o.a.createElement(s.a,{item:!0,xs:12,sm:9},"business"===A?o.a.createElement(B,{classes:t,data:m,setData:function(e){return function(e){var t=Object.assign({},c);t.businessData=e,d(t)}(e)},invalidFields:a||null,viewOnly:C,wrongFormatFieldIds:y||null,kycEditable:N}):"nature"===A?o.a.createElement(M,{data:E,setData:function(e){return function(e){var t=Object.assign({},c);t.natureData=e,d(t)}(e)},invalidFields:a||null,viewOnly:C,kycEditable:N}):"contact_details"===A?o.a.createElement(U,{classes:t,data:h,setData:function(e){return function(e){var t=Object.assign({},c);t.contactDetailsData=e,d(t)}(e)},setWrongFormatFieldIds:e.setWrongFormatFieldIds,invalidFields:a||null,viewOnly:C,wrongFormatFieldIds:y||null,kycEditable:N}):"hmo"===A?o.a.createElement(V,{classes:t,data:O,setData:function(e){return function(e){var t=Object.assign({},c);t.HMOData=e,d(t)}(e)},invalidFields:a||null,viewOnly:C,kycEditable:N}):"proposal"===A?o.a.createElement(H,{classes:t,data:b,setData:function(e){return function(e){Object.assign({},b);_(e)}(e)},invalidFields:a||null,viewOnly:C,kycEditable:N}):null))},F=function(e){var t=e.classes,a=function(t){return function(a){var r=new RegExp(/\D/);if(t.indexOf("Dependents")>-1||t.indexOf("Principals")>-1){if(!r.test(a.target.value))if(0===a.target.value.length?a.target.value=0:0===a.target.value.indexOf(0)&&1===a.target.value.length?a.target.value=0:0===a.target.value.indexOf(0)&&(a.target.value=a.target.value.substring(1)),t.indexOf("male")>-1)if(t.indexOf("Dependents")>-1){var l="femaleDependents"===t?e.data.maleDependents?Number(e.data.maleDependents)+Number(a.target.value):a.target.value:e.data.femaleDependents?Number(e.data.femaleDependents)+Number(a.target.value):a.target.value,o=j({},e.data,Object(i.a)({},t,a.target.value));n(o,"numOfDependents",l)}else if(t.indexOf("Principals")>-1){var c="femalePrincipals"===t?e.data.malePrincipals?Number(e.data.malePrincipals)+Number(a.target.value):a.target.value:e.data.femalePrincipals?Number(e.data.femalePrincipals)+Number(a.target.value):a.target.value,d=j({},e.data,Object(i.a)({},t,a.target.value));n(d,"numOfPrincipals",c)}else{var s=j({},e.data,Object(i.a)({},t,a.target.value));e.setData&&e.setData(s)}else{var u=j({},e.data,Object(i.a)({},t,a.target.value));e.setData&&e.setData(u)}}else{var m=j({},e.data,Object(i.a)({},t,a.target.value));e.setData&&e.setData(m)}}},n=function(t,a,n){var r=j({},t,Object(i.a)({},a,n));e.setData&&e.setData(r)},r=Number(e.data.maleDependents)+Number(e.data.femaleDependents),l=Number(e.data.malePrincipals)+Number(e.data.femalePrincipals);return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{item:!0,xs:12,sm:2},o.a.createElement(u.a,{className:t.fieldGroupTitle},"PRINCIPALS")),o.a.createElement(s.a,{item:!0,xs:12,sm:4},e.viewOnly?o.a.createElement(E.a,{label:"No. of Principals",value:e.data.numOfPrincipals&&0!=e.data.numOfPrincipals?e.data.numOfPrincipals.toString():"Not Specified"}):o.a.createElement(v.b,{id:"numOfPrincipals",label:"No. of Principals*",width:"140px",error:!!e.invalidFields&&(e.invalidFields.includes("No. of Principals")&&void 0==e.data.numOfPrincipals||l!=e.data.numOfPrincipals&&0!==l),InputProps:{type:"tel"},value:e.data.numOfPrincipals,onChange:a("numOfPrincipals"),error_message:0===Number(e.data.numOfPrincipals)||0===Number(e.data.malePrincipals)&&0===Number(e.data.femalePrincipals)||l==e.data.numOfPrincipals?"":"Male and female principals do not match the total"}),e.viewOnly?o.a.createElement(E.a,{label:"Male Principals",value:e.data.malePrincipals?e.data.malePrincipals.toString():"Not Specified"}):o.a.createElement(v.b,{id:"malePrincipals",label:"Male Principals",width:"140px",InputProps:{type:"tel"},value:e.data.malePrincipals,onChange:a("malePrincipals")}),e.viewOnly?o.a.createElement(E.a,{label:"Female Principals",value:e.data.femalePrincipals?e.data.femalePrincipals.toString():"Not Specified"}):o.a.createElement(v.b,{id:"femalePrincipals",label:"Female Principals",width:"140px",InputProps:{type:"tel"},value:e.data.femalePrincipals,onChange:a("femalePrincipals")})),o.a.createElement(s.a,{item:!0,xs:12,sm:2},o.a.createElement(u.a,{className:t.fieldGroupTitle},"DEPENDENTS")),o.a.createElement(s.a,{item:!0,xs:12,sm:4},e.viewOnly?o.a.createElement(E.a,{label:"No. of Dependents",value:e.data.numOfDependents&&0!=e.data.numOfDependents?e.data.numOfDependents.toString():"Not Specified"}):o.a.createElement(v.b,{id:"numOfDependents",label:"No. of Dependents*",width:"140px",error:!!e.invalidFields&&(e.invalidFields.includes("No. of Dependents")&&void 0==e.data.numOfDependents||r!=e.data.numOfDependents&&0!==r),InputProps:{type:"tel"},value:e.data.numOfDependents,onChange:a("numOfDependents"),error_message:0===Number(e.data.numOfDependents)||0===Number(e.data.maleDependents)&&0===Number(e.data.femaleDependents)||r==e.data.numOfDependents?"":"Male and female dependents do not match the total"}),e.viewOnly?o.a.createElement(E.a,{label:"Male Dependents",value:e.data.maleDependents?e.data.maleDependents.toString():"Not Specified"}):o.a.createElement(v.b,{id:"maleDependents",label:"Male Dependents",width:"140px",InputProps:{type:"tel"},value:e.data.maleDependents,onChange:a("maleDependents")}),e.viewOnly?o.a.createElement(E.a,{label:"Female Dependents",value:e.data.femaleDependents?e.data.femaleDependents.toString():"Not Specified"}):o.a.createElement(v.b,{id:"femaleDependents",label:"Female Dependents",width:"140px",InputProps:{type:"tel"},value:e.data.femaleDependents,onChange:a("femaleDependents")})))},B=function(e){console.log(e);var t=e.classes,a=function(t){return function(a){var n=a.target.value;if(""===a.target.value.trim()&&(n=a.target.value.trim()),"corporateAccountNo"===t){var r=function(e){var t=[];return t.push(e.slice(0,2)),t.push(e.slice(2,4)),t.push(e.slice(4,9)),t.filter(function(e){return""!==e})}(n.replace(/-/g,""));n=r?r.join("-"):""}var l=j({},e.data,Object(i.a)({},t,n));e.setData&&e.setData(l)}},n=Object(l.useCallback)(function(t){console.log("acceptedFiles",t),console.log(e)},[]),r=Object(l.useCallback)(function(e){console.log("Reject "+e),p("block")},[]),p=function(e){var t=document.getElementById("snkbrcont");void 0!=t&&(t.style.display=e)},f=Object(S.b)({onDrop:n,onDropRejected:r,accept:q}),g=f.acceptedFiles,O=f.getRootProps,y=f.getInputProps,C=f.isDragActive;g?g.length>0&&(e.data.uploadedLogo=g):e.data.uploadedLogo=[];var N,I=e.data.uploadedLogo&&e.data.uploadedLogo.length>0?e.data.uploadedLogo.map(function(t){return o.a.createElement("li",{key:t.path},o.a.createElement(u.a,null,t.name,e.viewOnly?null:o.a.createElement(b.a,{style:{display:"inline-block",marginTop:"10px",marginBottom:"20px",marginLeft:"8px"},disableRipple:!0,size:"small",onClick:function(t){console.log(t);var a=j({},e.data),n=e.data.uploadedLogo.filter(function(e){return e.field});n.length>0&&(a.deletedLogo=n),g.length=0,a.uploadedLogo.length=0,e.setData&&e.setData(a)}},o.a.createElement(T.a,{icon:A.F}))))}):[];return o.a.createElement("div",null,o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"snkbrcont",style:{display:"none"}},o.a.createElement(c.a,{id:"rejmsg",key:"close",anchorOrigin:{horizontal:"center",vertical:"top"},open:!0,autoHideDuration:3e3,onClose:function(){p("none")}},o.a.createElement(d.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.75)"},message:"Invalid File Dropped."})))),o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Registered Corporate Name",value:e.data.registeredCorporateName}):o.a.createElement(v.b,{id:"registeredCorporateName",label:"Registered Corporate Name*",error:!!e.invalidFields&&(e.invalidFields.includes("Registered Corporate Name")&&""===e.data.registeredCorporateName),value:e.data.registeredCorporateName,onChange:a("registeredCorporateName"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Trade / Brand Name",value:e.data.tradeBrandName}):o.a.createElement(v.b,{id:"tradeBrandName",label:"Trade / Brand Name*",error:!!e.invalidFields&&(e.invalidFields.includes("Trade / Brand Name")&&""===e.data.tradeBrandName),value:e.data.tradeBrandName,onChange:a("tradeBrandName"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Corporate Account No.",value:e.data.corporateAccountNo}):o.a.createElement(v.b,{id:"corporateAccountNo",label:"Corporate Account No.",value:e.data.corporateAccountNo,error:!!e.wrongFormatFieldIds&&(e.wrongFormatFieldIds.includes("corporateAccountNo")&&""!==e.data.corporateAccountNo),onChange:a("corporateAccountNo"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"SEC Registration No.",value:e.data.secRegistrationNo}):o.a.createElement(v.b,{id:"secRegistrationNo",label:"SEC Registration No.*",error:!!e.invalidFields&&(e.invalidFields.includes("SEC Registration No.")&&""===e.data.secRegistrationNo),value:e.data.secRegistrationNo,onChange:a("secRegistrationNo"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Corporate TIN",value:e.data.corporateTin}):o.a.createElement(v.b,{id:"corporateTin",label:"Corporate TIN*",error:!!e.invalidFields&&(e.invalidFields.includes("Corporate TIN")&&""===e.data.corporateTin),value:e.data.corporateTin,onChange:a("corporateTin"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"VAT Type",menuItems:G,value:e.data.vatType}):o.a.createElement(v.a,{id:"vatType",label:"VAT Type*",error:!!e.invalidFields&&(e.invalidFields.includes("VAT Type")&&""===e.data.vatType),menuItems:G,value:e.data.vatType,onChange:a("vatType"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"E-VAT No.",value:e.data.eVatNo}):o.a.createElement(v.b,{id:"eVatNo",label:"E-VAT No.",error:!!e.invalidFields&&(e.invalidFields.includes("E-VAT No.")&&""===e.data.eVatNo),value:e.data.eVatNo,onChange:a("eVatNo"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Name Displayed In Card",value:e.data.nameDisplayedInCard}):o.a.createElement(v.b,{id:"nameDisplayedInCard",label:"Name Displayed In Card*",error:!!e.invalidFields&&(e.invalidFields.includes("Name Displayed In Card")&&""===e.data.nameDisplayedInCard),value:e.data.nameDisplayedInCard,onChange:a("nameDisplayedInCard"),width:"460px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly?o.a.createElement(o.a.Fragment,null,I.length>0?o.a.createElement("div",null,o.a.createElement(u.a,null,"Uploaded File"),o.a.createElement("ul",null,I)):null):o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{className:t.inputLabel},"Upload Logo"),o.a.createElement("div",O({className:t.dropzone}),o.a.createElement("input",y()),C?o.a.createElement("p",null,"Click or drag/drop files"):o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{icon:A.m}),o.a.createElement(u.a,null,"Click or drag/drop files"))),o.a.createElement("aside",null,I.length>0?o.a.createElement("div",null,o.a.createElement(u.a,null,"Uploaded File"),o.a.createElement("ul",null,I)):null))),e.viewOnly&&!e.kycEditable?null:o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(_.a,{control:o.a.createElement(h.a,{color:"primary",classes:{colorPrimary:t.checkbox},checked:e.data.subCompany,onChange:(N="subCompany",function(t){var a=j({},e.data,Object(i.a)({},N,t.target.checked));e.setData&&e.setData(a)}),disabled:e.viewOnly&&!e.kycEditable}),label:"Is this a sub-company?"})),o.a.createElement(v.e,{height:"20px"}),e.data.subCompany?o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Head Company",menuItems:z,value:e.data.headCompany}):o.a.createElement(v.a,{id:"headCompany",label:"Head Company",menuItems:z,value:e.data.headCompany,onChange:a("headCompany"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),"not_yet"===e.data.headCompany?e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Company Name",menuItems:z,value:e.data.headCompanyName}):o.a.createElement(v.b,{id:"headCompanyName",label:"Company Name*",value:e.data.headCompanyName,onChange:a("headCompanyName"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}):null):null,o.a.createElement(v.e,{height:"100px"})))},M=function(e){var t=function(t){return function(a){var n;""===a.target.value.trim()&&(a.target.value=a.target.value.trim()),n="number"===a.target.type&&""!==a.target.value?a.target.valueAsNumber:a.target.value;var r=new RegExp(/\D/);if("yearsOfExistence"===t&&r.test(n)){var l=j({},e.data);e.setData&&e.setData(l)}else{var o=j({},e.data,Object(i.a)({},t,n));e.setData&&e.setData(o)}}};return o.a.createElement("div",null,o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Industry",menuItems:W,value:e.data.industry}):o.a.createElement(v.a,{id:"industry",label:"Industry*",error:!!e.invalidFields&&(e.invalidFields.includes("Industry")&&""===e.data.industry),menuItems:W,value:e.data.industry,onChange:t("industry"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Ownership",menuItems:Y,value:e.data.ownership}):o.a.createElement(v.a,{id:"ownership",label:"Ownership*",error:!!e.invalidFields&&(e.invalidFields.includes("Ownership")&&""===e.data.ownership),menuItems:Y,value:e.data.ownership,onChange:t("ownership"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Years of Existence",value:e.data.yearsOfExistence.toString()}):o.a.createElement(v.b,{id:"yearsOfExistence",label:"Years of Existence",value:e.data.yearsOfExistence,onChange:t("yearsOfExistence"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Sources of Funds",value:e.data.sourcesOfFunds}):o.a.createElement(v.b,{id:"sourcesOfFunds",label:"Sources of Funds",value:e.data.sourcesOfFunds,onChange:t("sourcesOfFunds"),width:"460px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(v.e,{height:"100px"})))},U=function(e){var t=e.classes;Z.city=K.filter(function(t){return t.region==e.data.region});for(var a=function(t){Z["city-"+t]=K.filter(function(a){return a.region==e.data.branchAddress[t].region})},r=0;r<e.data.branchAddress.length;r++)a(r);var l=function(t){return function(a){""===a.target.value.trim()&&(a.target.value=a.target.value.trim());var n=new RegExp(/\D/);if("authorizedSignatoryNumber"===t&&n.test(a.target.value)){var r=j({},e.data);e.setData&&e.setData(r)}else if("buildingNumber"===t||"zipCode"===t){if(!n.test(a.target.value)){var l=j({},e.data,Object(i.a)({},t,a.target.value));e.setData&&e.setData(l)}}else{if("authorizedSignatoryEmail"===t){var o=e.wrongFormatFieldIds;if(o&&-1!==o.indexOf("authorizedSignatoryEmail")){var c=o.indexOf("authorizedSignatoryEmail");o.splice(c,1),e.setWrongFormatFieldIds&&e.setWrongFormatFieldIds(o)}}var d=j({},e.data,Object(i.a)({},t,a.target.value));e.setData&&e.setData(d)}}},c=function(t,a,n){return function(r){var l=new RegExp(/\D/);switch(""===r.target.value.trim()&&(r.target.value=r.target.value.trim()),!0){case"telephoneNumber"===t:case"contactPerson"===t&&"number"===a:if(l.test(r.target.value)){var o=j({},e.data);e.setData&&e.setData(o)}else{var c=j({},e.data)[t].map(function(e,t){return t===n?j({},e,Object(i.a)({},a,r.target.value)):e}),d=j({},e.data,Object(i.a)({},t,c));e.setData&&e.setData(d)}break;default:if("branchAddress"!==t||"buildingNumber"!==a&&"zipCode"!==a){var s=j({},e.data)[t].map(function(e,t){return t===n?j({},e,Object(i.a)({},a,r.target.value)):e}),u=j({},e.data,Object(i.a)({},t,s));if(console.log("sub Data: "+u),"contactPerson"===t&&"email"===a){var m=e.wrongFormatFieldIds;if(m&&-1!==m.indexOf("email-"+n)){var p=m.indexOf("email-"+n);m.splice(p,1),e.setWrongFormatFieldIds&&e.setWrongFormatFieldIds(m)}}"branchAddress"===t&&"region"===a&&(Z["city-"+n]=K.filter(function(e){return e.region==r.target.value})),e.setData&&e.setData(u)}else if(!l.test(r.target.value)){var f=j({},e.data)[t].map(function(e,t){return t===n?j({},e,Object(i.a)({},a,r.target.value)):e}),g=j({},e.data,Object(i.a)({},t,f));e.setData&&e.setData(g)}}}},d=function(t,a,n,r){return function(l){""===l.target.value.trim()&&(l.target.value=l.target.value.trim());var o=new RegExp(/\D/);switch(!0){case"addrTelephoneNumber"===t:case"addrContactPerson"===t&&"number"===a:if(o.test(l.target.value)){var c=j({},e.data);e.setData&&e.setData(c)}else{var d=e.data.branchAddress[r][t].map(function(e,t){return t===n?j({},e,Object(i.a)({},a,l.target.value)):e}),s=e.data;s.branchAddress[r][t]=d,e.setData&&e.setData(s)}break;default:var u=j({},e.data).branchAddress[r][t].map(function(e,t){return t===n?j({},e,Object(i.a)({},a,l.target.value)):e}),m=e.data;if(m.branchAddress[r][t]=u,"addrContactPerson"===t&&"email"===a){var p=e.wrongFormatFieldIds;if(p&&-1!==p.indexOf("addrEmail-"+r+"-"+n)){var f=p.indexOf("addrEmail-"+r+"-"+n);p.splice(f,1),e.setWrongFormatFieldIds&&e.setWrongFormatFieldIds(p)}}e.setData&&e.setData(m)}}},p=function(t){return function(){var a,r={telno:""},l={name:"",number:"",email:"",designation:""},o={floor:"",unit:"",buildingNumber:"",buildingName:"",street:"",barangay:"",region:"",city:"",zipCode:"",addrContactPerson:[l],addrTelephoneNumber:[r]};switch(t){case"telephoneNumber":a=j({},r);break;case"contactPerson":a=l;break;case"branchAddress":a=o;break;default:a=null}var c=null==a?Object(n.a)(e.data[t]):[].concat(Object(n.a)(e.data[t]),[a]),d=j({},e.data,Object(i.a)({},t,c));e.setData&&e.setData(d)}},f=function(t,a){return function(){var i;switch(t){case"addrTelephoneNumber":i=j({},{telno:""});break;case"addrContactPerson":i={name:"",number:"",email:"",designation:""};break;default:i=null}var r=null==i?Object(n.a)(e.data.branchAddress[a][t]):[].concat(Object(n.a)(e.data.branchAddress[a][t]),[i]),l=e.data;l.branchAddress[a][t]=r,e.setData&&e.setData(l)}},g=function(t,a){return function(){var n=j({},e.data)[t].filter(function(e,t){return t!==a?e:null}),r=j({},e.data,Object(i.a)({},t,n));e.setData&&e.setData(r)}},_=function(t,a,n){return function(){var i=j({},e.data).branchAddress[n][t].filter(function(e,t){return t!==a?e:null}),r=e.data;r.branchAddress[n][t]=i,e.setData&&e.setData(r)}};return o.a.createElement("div",null,o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(u.a,{className:t.fieldGroupTitle},"MAIN OFFICE ADDRESS")),o.a.createElement(v.e,{height:"20px"}),o.a.createElement(s.a,{container:!0,direction:"row"},o.a.createElement(s.a,{item:!0},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Floor",value:e.data.floor}):o.a.createElement(v.b,{id:"floor",label:"Floor*",value:e.data.floor,error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - Floor")&&""===e.data.floor),onChange:l("floor"),width:"100px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(s.a,{item:!0},o.a.createElement("div",{style:{width:"30px"}})),o.a.createElement(s.a,{item:!0},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Unit",value:e.data.unit}):o.a.createElement(v.b,{id:"unit",label:"Unit",error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - Unit")&&""===e.data.unit),value:e.data.unit,onChange:l("unit"),width:"100px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(s.a,{item:!0},o.a.createElement("div",{style:{width:"30px"}})),o.a.createElement(s.a,{item:!0},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Building Number",value:e.data.buildingNumber}):o.a.createElement(v.b,{id:"buildingNumber",label:"Building Number*",error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - Building Number")&&""===e.data.buildingNumber),value:e.data.buildingNumber,onChange:l("buildingNumber"),width:"200px",disabled:e.viewOnly&&!e.kycEditable}))),o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Building Name",value:e.data.buildingName}):o.a.createElement(v.b,{id:"buildingName",label:"Building Name*",error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - Building Name")&&""===e.data.buildingName),value:e.data.buildingName,onChange:l("buildingName"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Street",value:e.data.street}):o.a.createElement(v.b,{id:"street",label:"Street*",error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - Street")&&""===e.data.street),value:e.data.street,onChange:l("street"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Barangay",value:e.data.barangay}):o.a.createElement(v.b,{id:"barangay",label:"Barangay*",error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - Barangay")&&""===e.data.barangay),value:e.data.barangay,onChange:l("barangay"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Region",value:e.data.region,menuItems:Q}):o.a.createElement(v.a,{id:"region",label:"Region*",error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - Region")&&""===e.data.region),menuItems:Q,value:e.data.region,onChange:l("region"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"City",menuItems:Z.city,value:e.data.city}):o.a.createElement(v.a,{id:"city",label:"City*",error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - City")&&""===e.data.city),menuItems:Z.city,value:e.data.city,onChange:l("city"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Zip Code",value:e.data.zipCode}):o.a.createElement(v.b,{id:"zipCode",label:"Zip Code*",error:!!e.invalidFields&&(e.invalidFields.includes("Main Office Address - Zip Code")&&""===e.data.zipCode),value:e.data.zipCode,onChange:l("zipCode"),width:"460px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(v.e,{height:"40px"}),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(u.a,{className:t.fieldGroupTitle},"CONTACT NUMBER")),o.a.createElement(v.e,{height:"20px"}),!e.viewOnly||e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(m.a,{className:t.inputLabel},"Telephone Number/Trunk Line*")):null,o.a.createElement(s.a,{item:!0,xs:12},function(e){var t=[];return e.data.telephoneNumber.map(function(a,n){return t.push(o.a.createElement("div",{key:"telephoneNumber-".concat(n),style:!e.viewOnly&&e.kycEditable?{display:"flex",alignItems:"center"}:{}},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Telephone Number/Trunk Line",value:a.telno}):o.a.createElement(v.b,{id:"telephoneNumber-".concat(n),value:a.telno,error:!!e.invalidFields&&(e.invalidFields.includes("Telephone Number/Trunk Line")&&""===a.telno),onChange:c("telephoneNumber","telno",n),width:"460px",disabled:e.viewOnly&&!e.kycEditable,InputProps:{type:"tel"}}),0===n||e.viewOnly&&!e.kycEditable?null:o.a.createElement(b.a,{style:{marginTop:"10px",marginBottom:"20px",marginLeft:"8px"},disableRipple:!0,size:"small",onClick:g("telephoneNumber",n)},o.a.createElement(T.a,{icon:A.F})))),null}),t}(e)),!e.viewOnly||e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(O.a,{color:"primary",disableFocusRipple:!0,onClick:p("telephoneNumber")},o.a.createElement(T.a,{icon:A.u}),"\xa0Add Contact Number")):null,o.a.createElement(v.e,{height:"40px"}),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(u.a,{className:t.fieldGroupTitle},"CONTACT PERSONS")),o.a.createElement(v.e,{height:"20px"}),o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Authorized Signatory",value:e.data.authorizedSignatoryName}):o.a.createElement(v.b,{id:"authorizedSignatoryName",label:"Authorized Signatory*",error:!!e.invalidFields&&(e.invalidFields.includes("Authorized Signatory")&&""===e.data.authorizedSignatoryName),value:e.data.authorizedSignatoryName,onChange:l("authorizedSignatoryName"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Contact Number",value:e.data.authorizedSignatoryNumber}):o.a.createElement(v.b,{id:"authorizedSignatoryNumber",label:"Contact Number",value:e.data.authorizedSignatoryNumber,onChange:l("authorizedSignatoryNumber"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Email",value:e.data.authorizedSignatoryEmail}):o.a.createElement(v.b,{id:"authorizedSignatoryEmail",label:"Email",value:e.data.authorizedSignatoryEmail,error:!!e.wrongFormatFieldIds&&(e.wrongFormatFieldIds.includes("authorizedSignatoryEmail")&&""!==e.data.authorizedSignatoryEmail),onChange:l("authorizedSignatoryEmail"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Designation",value:e.data.authorizedSignatoryDesignation}):o.a.createElement(v.b,{id:"authorizedSignatoryDesignation",label:"Designation",value:e.data.authorizedSignatoryDesignation,onChange:l("authorizedSignatoryDesignation"),width:"460px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(v.e,{height:"40px"}),o.a.createElement(s.a,{item:!0,xs:12},function(e){var a=[];return e.data.contactPerson.map(function(n,i){return a.push(o.a.createElement("div",{key:"contactPerson-".concat(i)},!e.viewOnly||e.kycEditable?o.a.createElement(m.a,{htmlFor:"contactPerson-".concat(i),className:t.inputLabel},"Contact Person ".concat(i+1,"*")):null,o.a.createElement("div",{style:!e.viewOnly&&e.kycEditable?{display:"flex",alignItems:"center"}:{}},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Contact Person ".concat(i+1),value:n.name}):o.a.createElement(v.b,{id:"contactPerson-".concat(i),value:n.name,error:!!e.invalidFields&&(e.invalidFields.includes("Contact Person - Name")&&""===n.name),onChange:c("contactPerson","name",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),0===i||e.viewOnly&&!e.kycEditable?null:o.a.createElement(b.a,{style:{marginTop:"10px",marginBottom:"20px",marginLeft:"8px"},disableRipple:!0,size:"small",onClick:g("contactPerson",i)},o.a.createElement(T.a,{icon:A.F}))),!e.viewOnly||e.kycEditable?o.a.createElement(m.a,{htmlFor:"contactNumber-".concat(i),className:t.inputLabel},"Contact Number*"):null,e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Contact Number",value:n.number}):o.a.createElement(v.b,{id:"contactNumber-".concat(i),value:n.number,error:!!e.invalidFields&&(e.invalidFields.includes("Contact Person - Contact Number")&&""===n.number),onChange:c("contactPerson","number",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),!e.viewOnly||e.kycEditable?o.a.createElement(m.a,{htmlFor:"email-".concat(i),className:t.inputLabel},"Email*"):null,e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Email",value:n.email}):o.a.createElement(v.b,{id:"email-".concat(i),value:n.email,error:!!(e.invalidFields&&e.invalidFields.includes("Contact Person - Email")&&""===n.email||e.wrongFormatFieldIds&&e.wrongFormatFieldIds.includes("email-".concat(i))&&""!==n.email),onChange:c("contactPerson","email",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),!e.viewOnly||e.kycEditable?o.a.createElement(m.a,{htmlFor:"designation-".concat(i),className:t.inputLabel},"Designation*"):null,e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Designation",value:n.designation}):o.a.createElement(v.b,{id:"designation-".concat(i),value:n.designation,error:!!e.invalidFields&&(e.invalidFields.includes("Contact Person - Designation")&&""===n.designation),onChange:c("contactPerson","designation",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}))),null}),a}(e)),!e.viewOnly||e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(O.a,{color:"primary",disableFocusRipple:!0,onClick:p("contactPerson")},o.a.createElement(T.a,{icon:A.u}),"\xa0Add Contact Person")):null,o.a.createElement(v.e,{height:"40px"}),function(e){var a=[];return e.data.branchAddress.map(function(n,i){return a.push(o.a.createElement("div",{key:"branchAddress-".concat(i)},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(u.a,{className:t.fieldGroupTitle,display:"inline"},"BRANCH OFFICE ADDRESS ".concat(i+1)),o.a.createElement(b.a,{style:{marginLeft:"8px"},disableRipple:!0,size:"small",onClick:g("branchAddress",i)},o.a.createElement(T.a,{icon:A.F}))),o.a.createElement(v.e,{height:"20px"}),o.a.createElement(s.a,{container:!0,direction:"row"},o.a.createElement(s.a,{item:!0},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Floor",value:n.floor}):o.a.createElement(v.b,{id:"floor-".concat(i),label:"Floor*",value:n.floor,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - Floor")&&""===n.floor),onChange:c("branchAddress","floor",i),width:"100px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(s.a,{item:!0},o.a.createElement("div",{style:{width:"30px"}})),o.a.createElement(s.a,{item:!0},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Unit",value:n.unit}):o.a.createElement(v.b,{id:"unit-".concat(i),label:"Unit",value:n.unit,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - Unit")&&""===n.unit),onChange:c("branchAddress","unit",i),width:"100px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(s.a,{item:!0},o.a.createElement("div",{style:{width:"30px"}})),o.a.createElement(s.a,{item:!0},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Building Number",value:n.buildingNumber}):o.a.createElement(v.b,{id:"buildingNumber-".concat(i),label:"Building Number*",value:n.buildingNumber,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - Building Number")&&""===n.buildingNumber),onChange:c("branchAddress","buildingNumber",i),width:"200px",disabled:e.viewOnly&&!e.kycEditable}))),o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Building Name",value:n.buildingName}):o.a.createElement(v.b,{id:"buildingName-".concat(i),label:"Building Name*",value:n.buildingName,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - Building Name")&&""===n.buildingName),onChange:c("branchAddress","buildingName",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Street",value:n.street}):o.a.createElement(v.b,{id:"street-".concat(i),label:"Street*",value:n.street,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - Street")&&""===n.street),onChange:c("branchAddress","street",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Barangay",value:n.barangay}):o.a.createElement(v.b,{id:"barangay-".concat(i),label:"Barangay*",value:n.barangay,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - Barangay")&&""===n.barangay),onChange:c("branchAddress","barangay",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Region",menuItems:Q,value:n.region}):o.a.createElement(v.a,{id:"region-".concat(i),label:"Region*",menuItems:Q,value:n.region,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - Region")&&""===n.region),onChange:c("branchAddress","region",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"City",menuItems:Z["city-".concat(i)],value:n.city}):o.a.createElement(v.a,{id:"city-".concat(i),label:"City*",menuItems:Z["city-".concat(i)],value:n.city,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - City")&&""===n.city),onChange:c("branchAddress","city",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Zip Code",value:n.zipCode}):o.a.createElement(v.b,{id:"zipCode-".concat(i),label:"Zip Code*",value:n.zipCode,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Office Address - Zip Code")&&""===n.zipCode),onChange:c("branchAddress","zipCode",i),width:"460px",disabled:e.viewOnly&&!e.kycEditable})),o.a.createElement(v.e,{height:"20px"}),!e.viewOnly||e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(m.a,{className:t.inputLabel},"Branch Telephone Number/Trunk Line*")):null,o.a.createElement(s.a,{item:!0,xs:12},function(e,t){var a=[];return e.data.branchAddress[t].addrTelephoneNumber.map(function(n,i){return a.push(o.a.createElement("div",{key:"addrTelephoneNumber-".concat(t,"-").concat(i),style:{display:"flex",alignItems:"center"}},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Telephone Number/Trunk Line",value:n.telno}):o.a.createElement(v.b,{id:"addrTelephoneNumber-".concat(t,"-").concat(i),value:n.telno,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Telephone Number/Trunk Line")&&""===n.telno),onChange:d("addrTelephoneNumber","telno",i,t),width:"460px",disabled:e.viewOnly&&!e.kycEditable,InputProps:{type:"tel"}}),0===i||e.viewOnly&&!e.kycEditable?null:o.a.createElement(b.a,{style:{marginTop:"10px",marginBottom:"20px",marginLeft:"8px"},disableRipple:!0,size:"small",onClick:_("addrTelephoneNumber",i,t)},o.a.createElement(T.a,{icon:A.F})))),null}),a}(e,i)),!e.viewOnly||e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(O.a,{color:"primary",disableFocusRipple:!0,onClick:f("addrTelephoneNumber",i)},o.a.createElement(T.a,{icon:A.u}),"\xa0Add Branch Contact Number")):null,o.a.createElement(v.e,{height:"20px"}),o.a.createElement(s.a,{item:!0,xs:12},function(e,a){var n=[];return e.data.branchAddress[a].addrContactPerson.map(function(i,r){return n.push(o.a.createElement("div",{key:"addrContactPerson-".concat(a,"-").concat(r)},o.a.createElement(m.a,{htmlFor:"addrContactPerson-".concat(a,"-").concat(r),className:t.inputLabel},"Branch Contact Person ".concat(r+1,"*")),o.a.createElement("div",{style:!e.viewOnly&&e.kycEditable?{display:"flex",alignItems:"center"}:{}},o.a.createElement(v.b,{id:"addrContactPerson-".concat(a,"-").concat(r),value:i.name,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Contact Person - Name")&&""===i.name),onChange:d("addrContactPerson","name",r,a),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),0===r||e.viewOnly&&!e.kycEditable?null:o.a.createElement(b.a,{style:{marginTop:"10px",marginBottom:"20px",marginLeft:"8px"},disableRipple:!0,size:"small",onClick:_("addrContactPerson",r,a)},o.a.createElement(T.a,{icon:A.F}))),o.a.createElement(m.a,{htmlFor:"addrContactNumber-".concat(a,"-").concat(r),className:t.inputLabel},"Contact Number*"),o.a.createElement(v.b,{id:"addrContactNumber-".concat(a,"-").concat(r),value:i.number,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Contact Person - Contact Number")&&""===i.number),onChange:d("addrContactPerson","number",r,a),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),o.a.createElement(m.a,{htmlFor:"addrEmail-".concat(a,"-").concat(r),className:t.inputLabel},"Email*"),o.a.createElement(v.b,{id:"addrEmail-".concat(a,"-").concat(r),value:i.email,error:!!(e.invalidFields&&e.invalidFields.includes("Branch Contact Person - Email")&&""===i.email||e.wrongFormatFieldIds&&e.wrongFormatFieldIds.includes("addrEmail-".concat(a,"-").concat(r))&&""!==i.email),onChange:d("addrContactPerson","email",r,a),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),o.a.createElement(m.a,{htmlFor:"addrDesignation-".concat(a,"-").concat(r),className:t.inputLabel},"Designation*"),o.a.createElement(v.b,{id:"addrDesignation-".concat(a,"-").concat(r),value:i.designation,error:!!e.invalidFields&&(e.invalidFields.includes("Branch Contact Person - Designation")&&""===i.designation),onChange:d("addrContactPerson","designation",r,a),width:"460px",disabled:e.viewOnly&&!e.kycEditable}))),null}),n}(e,i)),!e.viewOnly||e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(O.a,{color:"primary",disableFocusRipple:!0,onClick:f("addrContactPerson",i)},o.a.createElement(T.a,{icon:A.u}),"\xa0Add Branch Contact Person")):null,o.a.createElement(v.e,{height:"20px"}))),null}),a}(e),!e.viewOnly||e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(O.a,{color:"primary",disableFocusRipple:!0,onClick:p("branchAddress")},o.a.createElement(T.a,{icon:A.u}),"\xa0Add a Branch")):null,o.a.createElement(v.e,{height:"100px"})))},V=function(e){var t=e.classes,a=function(t){return function(a){""===a.target.value.trim()&&(a.target.value=a.target.value.trim());var n=j({},e.data,Object(i.a)({},t,a.target.value));e.setData&&e.setData(n)}},n=function(t,a){var n=j({},e.data,Object(i.a)({},t,a?a.toDate():null));e.setData&&e.setData(n)},r=Object(l.useCallback)(function(e){console.log("acceptedFiles",e)},[]),c=Object(S.b)({onDrop:r}),d=c.acceptedFiles,p=c.getRootProps,f=c.getInputProps,g=c.isDragActive;d?d.length>0&&(e.data.uploadedUtilization=d):e.data.uploadedUtilization=[];var h=e.data.uploadedUtilization&&e.data.uploadedUtilization.length>0?e.data.uploadedUtilization.map(function(t){return o.a.createElement("li",{key:t.path},o.a.createElement(u.a,null,t.name,e.viewOnly?null:o.a.createElement(b.a,{style:{display:"inline-block",marginTop:"10px",marginBottom:"20px",marginLeft:"8px"},disableRipple:!0,size:"small",onClick:function(){var t=j({},e.data,Object(i.a)({},"uploadedUtilization",[]));d.length=0,e.setData&&e.setData(t)}},o.a.createElement(T.a,{icon:A.F}))))}):[];return o.a.createElement("div",null,o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(u.a,{className:t.fieldGroupTitle},"HMO HISTORY")),o.a.createElement(v.e,{height:"20px"}),o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Previous HMO Provider",value:e.data.previousHMOProvider}):o.a.createElement(v.b,{id:"previousHMOProvider",label:"Previous HMO Provider*",error:!!e.invalidFields&&(e.invalidFields.includes("Previous HMO Provider")&&""===e.data.previousHMOProvider),value:e.data.previousHMOProvider,onChange:a("previousHMOProvider"),width:"460px",disabled:e.viewOnly&&!e.kycEditable})),e.viewOnly&&!e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(E.a,{label:"Effectivity Date",value:(""!==e.data.effectivityDate?P()(e.data.effectivityDate).format("MM/DD/YYYY").toString():"")+" \u2014 "+(""!==e.data.expiryDate?P()(e.data.expiryDate).format("MM/DD/YYYY").toString():"")})):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(m.a,{htmlFor:"effectivityDate",className:t.inputLabel},"Effectivity Date")),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(I.a,{id:"effectivityDate",variant:"dialog",format:"MM/DD/YYYY",inputVariant:"outlined",className:t.keyboardDatePicker,value:e.data.effectivityDate,invalidDateMessage:"",minDate:new Date,onChange:function(e){return n("effectivityDate",e)},disabled:e.viewOnly&&!e.kycEditable}),o.a.createElement(u.a,{display:"inline"},"\xa0\xa0\xa0\u2014\xa0\xa0\xa0"),o.a.createElement(I.a,{id:"expiryDate",variant:"dialog",format:"MM/DD/YYYY",inputVariant:"outlined",className:t.keyboardDatePicker,value:e.data.expiryDate,invalidDateMessage:"",minDate:e.data.effectivityDate,onChange:function(e){return n("expiryDate",e)},disabled:e.viewOnly&&!e.kycEditable})))),o.a.createElement(s.a,{item:!0,xs:12},e.viewOnly?o.a.createElement(o.a.Fragment,null,h.length>0?o.a.createElement("div",null,o.a.createElement(u.a,null,"Uploaded File"),o.a.createElement("ul",null,h)):null):o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{className:t.inputLabel},"Upload Previous Utilization"),o.a.createElement("div",p({className:t.dropzone}),o.a.createElement("input",f()),g?o.a.createElement("p",null,"Drop the files here ..."):o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{icon:A.m}),o.a.createElement(u.a,null,"Drag or drop file"))),o.a.createElement("aside",null,h.length>0?o.a.createElement("div",null,o.a.createElement(u.a,null,"Uploaded File"),o.a.createElement("ul",null,h)):null))),o.a.createElement(v.e,{height:"40px"}),!e.viewOnly&&!e.kycEditable||["agent","broker"].includes(e.data.salesChannel)?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(u.a,{className:t.fieldGroupTitle},"CURRENT SALES CHANNEL*"),o.a.createElement(y.a,{style:{display:e.invalidFields&&e.invalidFields.includes("Sales Channel")&&""===e.data.salesChannel?"block":"none",color:"#E53935",marginBottom:"15px",marginTop:"0px"}},"Sales Channel Required")):null,o.a.createElement(v.e,{height:"20px"}),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(C.a,{value:e.data.salesChannel,onChange:a("salesChannel")},!e.viewOnly||e.kycEditable?o.a.createElement(_.a,{value:"agent",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Agent"}):null,"agent"===e.data.salesChannel?e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Agent",value:e.data.agentName}):o.a.createElement(v.b,{id:"agentName",label:"Agent*",error:!!e.invalidFields&&(e.invalidFields.includes("Agent Name")&&""===e.data.agentName),value:e.data.agentName,onChange:a("agentName"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}):null,!e.viewOnly||e.kycEditable?o.a.createElement(_.a,{value:"broker",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Broker"}):null,!e.viewOnly||e.kycEditable?o.a.createElement(_.a,{value:"bdo",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"BDO"}):null,"bdo"===e.data.salesChannel?e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"BDO Name",value:e.data.bdoName}):o.a.createElement(v.b,{id:"bdoName",label:"BDO Name*",error:!!e.invalidFields&&(e.invalidFields.includes("BDO Name")&&""===e.data.bdoName),value:e.data.bdoName,onChange:a("bdoName"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}):null,"broker"===e.data.salesChannel?o.a.createElement(o.a.Fragment,null,e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Name of Company",value:e.data.brokerCompanyName}):o.a.createElement(v.b,{id:"brokerCompanyName",label:"Name of Company*",error:!!e.invalidFields&&(e.invalidFields.includes("Broker - Name of Company")&&""===e.data.brokerCompanyName),value:e.data.brokerCompanyName,onChange:a("brokerCompanyName"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Contact Person",value:e.data.brokerContactPerson}):o.a.createElement(v.b,{id:"brokerContactPerson",label:"Contact Person*",error:!!e.invalidFields&&(e.invalidFields.includes("Broker - Contact Person")&&""===e.data.brokerContactPerson),value:e.data.brokerContactPerson,onChange:a("brokerContactPerson"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Position",value:e.data.brokerPosition}):o.a.createElement(v.b,{id:"brokerPosition",label:"Position*",error:!!e.invalidFields&&(e.invalidFields.includes("Broker - Position")&&""===e.data.brokerPosition),value:e.data.brokerPosition,onChange:a("brokerPosition"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Contact Number",value:e.data.brokerContactNumber}):o.a.createElement(v.b,{id:"brokerContactNumber",label:"Contact Number*",error:!!e.invalidFields&&(e.invalidFields.includes("Broker - Contact Number")&&""===e.data.brokerContactNumber),value:e.data.brokerContactNumber,onChange:a("brokerContactNumber"),width:"460px",disabled:e.viewOnly&&!e.kycEditable}),e.viewOnly&&!e.kycEditable?o.a.createElement(E.a,{label:"Email Address",value:e.data.brokerEmailAddress}):o.a.createElement(v.b,{id:"brokerEmailAddress",label:"Email Address*",error:!!e.invalidFields&&(e.invalidFields.includes("Broker - Email Address")&&""===e.data.brokerEmailAddress),value:e.data.brokerEmailAddress,onChange:a("brokerEmailAddress"),width:"460px",disabled:e.viewOnly&&!e.kycEditable})):null)),o.a.createElement(v.e,{height:"100px"})))},H=function(e){var t=e.classes,a=function(t){return function(a){""===a.target.value.trim()&&(a.target.value=a.target.value.trim());var n=j({},e.data,Object(i.a)({},t,a.target.value));e.setData&&e.setData(n)}},n=function(t,a){return function(n){var i=Object.assign({},e.data);if(n.target.checked)i&&i[a]&&!i[a].includes(t)&&i[a].push(t);else if(i&&i[a]&&i[a].includes(t)){var r=i[a].indexOf(t);-1!==r&&i[a].splice(r,1)}e.setData&&e.setData(i)}},r=function(t,a){var n=j({},e.data,Object(i.a)({},t,a?a.toDate():null));e.setData&&e.setData(n)};return o.a.createElement("div",null,o.a.createElement(s.a,{container:!0},o.a.createElement(v.e,{height:"20px"}),e.viewOnly&&!e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(E.a,{label:"Coverage Period",value:(""!==e.data.coverage_start_date?P()(e.data.coverage_start_date).format("MM/DD/YYYY").toString():"")+" \u2014 "+(""!==e.data.coverage_end_date?P()(e.data.coverage_end_date).format("MM/DD/YYYY").toString():"")})):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(m.a,{htmlFor:"effectivityDate",style:{fontSize:"16px"}},"Coverage Period*")),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(I.a,{id:"coverageStartDate",variant:"dialog",format:"MM/DD/YYYY",inputVariant:"outlined",minDate:new Date,maxDate:new Date(e.data.coverage_end_date),className:t.keyboardDatePicker,value:e.data.coverage_start_date,invalidDateMessage:"",onChange:function(e){return r("coverage_start_date",e)},disabled:e.viewOnly&&!e.kycEditable,error:!!e.invalidFields&&(e.invalidFields.includes("Proposal Coverage Period")&&""===e.data.coverage_start_date)}),o.a.createElement(u.a,{display:"inline"},"\xa0\xa0\xa0\u2014\xa0\xa0\xa0"),o.a.createElement(I.a,{id:"coverageEndDate",variant:"dialog",format:"MM/DD/YYYY",inputVariant:"outlined",minDate:e.data.coverage_start_date?new Date(e.data.coverage_start_date):new Date,className:t.keyboardDatePicker,value:e.data.coverage_end_date,invalidDateMessage:"",onChange:function(e){return r("coverage_end_date",e)},disabled:e.viewOnly&&!e.kycEditable,error:!!e.invalidFields&&(e.invalidFields.includes("Proposal Coverage Period")&&""===e.data.coverage_end_date)})))),o.a.createElement(v.e,{height:"40px"}),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(u.a,{style:{fontSize:"16px"}},"Additional Proposal Details")),e.viewOnly&&!e.kycEditable?o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(p.a,null,e.data&&e.data.additional_details&&e.data.additional_details.includes("Company Name")?o.a.createElement(f.a,null,o.a.createElement(g.a,null,"- Company Name",o.a.createElement(u.a,{style:{paddingLeft:"20px"}},e.data.CompanyNameSelected))):null,e.data&&e.data.additional_details&&e.data.additional_details.includes("Contact Person")?o.a.createElement(f.a,null,o.a.createElement(g.a,null,"- Contact Person",o.a.createElement(u.a,{style:{paddingLeft:"20px"}},e.data.ContactPersonSelected))):null,e.data&&e.data.additional_details&&e.data.additional_details.includes("Address")?o.a.createElement(f.a,null,o.a.createElement(g.a,null,"- Address",o.a.createElement(u.a,{style:{paddingLeft:"20px"}},e.data.AddressSelected,"branch"===e.data.AddressSelected?o.a.createElement(u.a,null,"(",e.data.SelectedBranch,")"):null))):null)):o.a.createElement(s.a,null,o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(u.a,{style:{paddingTop:"8px",fontSize:"12px"}},"Choose details that will be included in the generated proposal")),o.a.createElement(v.e,{height:"29px"}),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(_.a,{control:o.a.createElement(h.a,{color:"primary",classes:{colorPrimary:t.checkbox},checked:!!(e.data&&e.data.additional_details&&e.data.additional_details.includes("Company Name")),onChange:n("Company Name","additional_details"),disabled:e.viewOnly&&!e.kycEditable}),style:{fontSize:"14px"},label:"Company Name"})),e.data&&e.data.additional_details&&e.data.additional_details.includes("Company Name")?o.a.createElement(s.a,{item:!0,xs:12,style:{paddingLeft:"42px"}},o.a.createElement(C.a,{value:e.data.CompanyNameSelected,onChange:a("CompanyNameSelected")},o.a.createElement(_.a,{value:"Registered Business Name",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Registered Business Name"}),o.a.createElement(_.a,{value:"Trade Name",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Trade Name"}))):null,o.a.createElement(v.e,{height:"37px"}),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(_.a,{control:o.a.createElement(h.a,{color:"primary",classes:{colorPrimary:t.checkbox},checked:!!(e.data&&e.data.additional_details&&e.data.additional_details.includes("Contact Person")),onChange:n("Contact Person","additional_details"),disabled:e.viewOnly&&!e.kycEditable}),style:{fontSize:"14px"},label:"Contact Person"})),e.data&&e.data.additional_details&&e.data.additional_details.includes("Contact Person")?o.a.createElement(s.a,{item:!0,xs:12,style:{paddingLeft:"42px"}},o.a.createElement(C.a,{value:e.data.ContactPersonSelected,onChange:a("ContactPersonSelected")},o.a.createElement(_.a,{value:"Human Resources",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Human Resources"}),o.a.createElement(_.a,{value:"Finance",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Finance"}),o.a.createElement(_.a,{value:"Signatory",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Signatory"}))):null,o.a.createElement(v.e,{height:"37px"}),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(_.a,{control:o.a.createElement(h.a,{color:"primary",classes:{colorPrimary:t.checkbox},checked:!!(e.data&&e.data.additional_details&&e.data.additional_details.includes("Address")),onChange:n("Address","additional_details"),disabled:e.viewOnly&&!e.kycEditable}),style:{fontSize:"14px"},label:"Address"})),e.data&&e.data.additional_details&&e.data.additional_details.includes("Address")?o.a.createElement(s.a,{item:!0,xs:12,style:{paddingLeft:"42px"}},o.a.createElement(C.a,{value:e.data.AddressSelected,onChange:a("AddressSelected")},o.a.createElement(_.a,{value:"Head Office",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Head Office"}),o.a.createElement(_.a,{value:"branch",control:o.a.createElement(N.a,{color:"primary",classes:{colorPrimary:t.radio},disabled:e.viewOnly&&!e.kycEditable}),label:"Choose Branch"}),o.a.createElement(s.a,{item:!0,xs:1,style:{paddingLeft:"42px",display:"branch"===e.data.AddressSelected?"block":"none"}},o.a.createElement(v.a,{id:"branch",error:!1,menuItems:L,value:e.data.SelectedBranch,onChange:a("SelectedBranch"),width:"284px",disabled:e.viewOnly&&!e.kycEditable})))):null),o.a.createElement(v.e,{height:"100px"})))},G=[{name:"VATable",value:"vat"},{name:"VAT Zero-Rated",value:"zero"},{name:"VAT Exempt",value:"exempt"}],z=[{name:"Not yet on the list",value:"not_yet"},{name:"ABC Corporation - BPO | Makati City",value:"abc_corporation_1"},{name:"ABC Corporation - Real Estate | Cebu City",value:"abc_corporation_2"},{name:"ABC Corporation - Retail | Quezon City",value:"abc_corporation_3"},{name:"Happytime Technology - IT | Taguig City",value:"happytime_technology"},{name:"NCG Industries - Hardware | Mandaluyong City",value:"ncg_industries"}],W=[{name:"ACCOUNTING , BOOKKEEPING AND AUDITING ACTIVITIES; TAX CONSULTANCY",value:"ACCOUNTING , BOOKKEEPING AND AUDITING ACTIVITIES; TAX CONSULTANCY"},{name:"ACTIVITIES AUXILIARY TO FINANCIAL SERVICE",value:"ACTIVITIES AUXILIARY TO FINANCIAL SERVICE"},{name:"ACTIVITIES AUXILIARY TO INSURANCE AND PENSION FUNDING",value:"ACTIVITIES AUXILIARY TO INSURANCE AND PENSION FUNDING"},{name:"ACTIVITIES OF BUSINESS, EMPLOYERS AND PROFESSIONAL MEMBERSHIP ORGANIZATIONS",value:"ACTIVITIES OF BUSINESS, EMPLOYERS AND PROFESSIONAL MEMBERSHIP ORGANIZATIONS"},{name:"ACTIVITIES OF HEAD OFFICE AND MANAGEMENT CONSULTANCIES",value:"ACTIVITIES OF HEAD OFFICE AND MANAGEMENT CONSULTANCIES"},{name:"ACTIVITIES OF HOUSEHOLDS AS EMPLOYERS OF DOMESTIC PERSONNEL",value:"ACTIVITIES OF HOUSEHOLDS AS EMPLOYERS OF DOMESTIC PERSONNEL"},{name:"ACTIVITIES OF OTHER MEMBERSHIP ORGANIZATIONS",value:"ACTIVITIES OF OTHER MEMBERSHIP ORGANIZATIONS"},{name:"ACTIVITIES OF POLITICAL ORGANIZATIONS",value:"ACTIVITIES OF POLITICAL ORGANIZATIONS"},{name:"ACTIVITIES OF RELIGIOUS ORGANIZATIONS",value:"ACTIVITIES OF RELIGIOUS ORGANIZATIONS"},{name:"ACTIVITIES OF TRADE UNIONS",value:"ACTIVITIES OF TRADE UNIONS"},{name:"ADMINISTRATION OF THE STATE AND ECONOMIC AND SOCIAL POLICY OF THE COMMUNITY",value:"ADMINISTRATION OF THE STATE AND ECONOMIC AND SOCIAL POLICY OF THE COMMUNITY"},{name:"ADVERTISING",value:"ADVERTISING"},{name:"AIR AND SPACECRAFT AND RELATED MACHINERY",value:"AIR AND SPACECRAFT AND RELATED MACHINERY"},{name:"AIR TRANSPORT",value:"AIR TRANSPORT"},{name:"AMUSEMENT AND RECREATION ACTIVITIES",value:"AMUSEMENT AND RECREATION ACTIVITIES"},{name:"ANIMAL PRODUCTION",value:"ANIMAL PRODUCTION"},{name:"AQUACULTURE",value:"AQUACULTURE"},{name:"ARCHITECTURAL ACTIVITIES, ENGINEERING DESIGN AND RELATED TECHNICAL CONSULTANCY",value:"ARCHITECTURAL ACTIVITIES, ENGINEERING DESIGN AND RELATED TECHNICAL CONSULTANCY"},{name:"ART GALLERIES",value:"ART GALLERIES"},{name:"ARTICLES OF FUR",value:"ARTICLES OF FUR"},{name:"BAMBOO, CANE AND RATTAN ARTICLES",value:"BAMBOO, CANE AND RATTAN ARTICLES"},{name:"BASIC CHEMICALS",value:"BASIC CHEMICALS"},{name:"BASIC IRON AND STEEL",value:"BASIC IRON AND STEEL"},{name:"BASIC PRECIOUS AND OTHER NON-FERROUS METALS",value:"BASIC PRECIOUS AND OTHER NON-FERROUS METALS"},{name:"BATTERIES AND ACCUMULATORS",value:"BATTERIES AND ACCUMULATORS"},{name:"BEVERAGE PRODUCTS",value:"BEVERAGE PRODUCTS"},{name:"BEVERAGE SERVING ACTIVITIES",value:"BEVERAGE SERVING ACTIVITIES"},{name:"BODIES FOR MOTOR VEHICLES, TRAILERS AND SEMI-TRAILERS",value:"BODIES FOR MOTOR VEHICLES, TRAILERS AND SEMI-TRAILERS"},{name:"BOOKMAKING, OFF-TRACK BETTING AND OTHER BETTING OPERATIONS",value:"BOOKMAKING, OFF-TRACK BETTING AND OTHER BETTING OPERATIONS"},{name:"BOTANICAL AND ZOOLOGICAL GARDEN AND NATURE RESERVES ACTIVITIES",value:"BOTANICAL AND ZOOLOGICAL GARDEN AND NATURE RESERVES ACTIVITIES"},{name:"BPO/KPO",value:"BPO/KPO"},{name:"BUILDING OF SHIPS AND BOATS",value:"BUILDING OF SHIPS AND BOATS"},{name:"BUSINESS SUPPORT SERVICE ACTIVITIES",value:"BUSINESS SUPPORT SERVICE ACTIVITIES"},{name:"CASTING OF METAL",value:"CASTING OF METAL"},{name:"CIVIL ENGINEERING",value:"CIVIL ENGINEERING"},{name:"CLEANING ACTIVITIES",value:"CLEANING ACTIVITIES"},{name:"CLEANING AND POLISHING PREPARATIONS",value:"CLEANING AND POLISHING PREPARATIONS"},{name:"COMBINED FACILITIES SUPPORT ACTIVTIES",value:"COMBINED FACILITIES SUPPORT ACTIVTIES"},{name:"COMMUNICATION EQUIPMENT",value:"COMMUNICATION EQUIPMENT"},{name:"COMPULSORY SOCIAL SECURITY ACTIVITIES",value:"COMPULSORY SOCIAL SECURITY ACTIVITIES"},{name:"COMPUTER AND PERIPHERAL EQUIPMENT AND ACCESSORIES",value:"COMPUTER AND PERIPHERAL EQUIPMENT AND ACCESSORIES"},{name:"COMPUTER PROGRAMMING, CONSULTANCY AND IT RELATED ACTIVITIES",value:"COMPUTER PROGRAMMING, CONSULTANCY AND IT RELATED ACTIVITIES"},{name:"CONCERTS, OPERA , LIVE THEATRICAL PRESENTATIONS, DANCE PRODUCTION AND OTHER STAGE PRODUCTIONS",value:"CONCERTS, OPERA , LIVE THEATRICAL PRESENTATIONS, DANCE PRODUCTION AND OTHER STAGE PRODUCTIONS"},{name:"CONSTRUCTION OF BUILDINGS",value:"CONSTRUCTION OF BUILDINGS"},{name:"CULTURAL EDUCATION",value:"CULTURAL EDUCATION"},{name:"CUSTOM TAILORING AND DRESSMAKING",value:"CUSTOM TAILORING AND DRESSMAKING"},{name:"DOMESTIC APPLIANCES",value:"DOMESTIC APPLIANCES"},{name:"DOMESTIC SERVICES",value:"DOMESTIC SERVICES"},{name:"DRUGS AND MEDICINES",value:"DRUGS AND MEDICINES"},{name:"EDUCATIONAL SUPPORT SERVICES",value:"EDUCATIONAL SUPPORT SERVICES"},{name:"ELECTRIC LIGHTING EQUIPMENT",value:"ELECTRIC LIGHTING EQUIPMENT"},{name:"ELECTRIC MOTORS, GENERATORS, TRANSFORMERS AND ELECTRICITY DISTRIBUTION AND CONTROL APPARATUS",value:"ELECTRIC MOTORS, GENERATORS, TRANSFORMERS AND ELECTRICITY DISTRIBUTION AND CONTROL APPARATUS"},{name:"ELECTRIC POWER GENERATION, TRANSMISSION AND DISTRIBUTION",value:"ELECTRIC POWER GENERATION, TRANSMISSION AND DISTRIBUTION"},{name:"ELECTRONIC COMPONENTS AND CONSUMER ELECTRONICS",value:"ELECTRONIC COMPONENTS AND CONSUMER ELECTRONICS"},{name:"EMPLOYMENT ACTIVITIES",value:"EMPLOYMENT ACTIVITIES"},{name:"EVENT CATERING AND OTHER FOOD SERVICE ACTIVITIES",value:"EVENT CATERING AND OTHER FOOD SERVICE ACTIVITIES"},{name:"EXPORT AND IMPORT",value:"EXPORT AND IMPORT"},{name:"EXTRACTION OF CRUDE OIL AND NATURAL GAS",value:"EXTRACTION OF CRUDE OIL AND NATURAL GAS"},{name:"FERTILIZERS AND NITROGEN COMPOUNDS",value:"FERTILIZERS AND NITROGEN COMPOUNDS"},{name:"FINANCIAL LEASING AND CREDIT GRANTING",value:"FINANCIAL LEASING AND CREDIT GRANTING"},{name:"FISHING ACTIVITIES",value:"FISHING ACTIVITIES"},{name:"FOOD AND BEVERAGE PRODUCTS",value:"FOOD AND BEVERAGE PRODUCTS"},{name:"FOOD PRODUCTS",value:"FOOD PRODUCTS"},{name:"FOOTWEAR",value:"FOOTWEAR"},{name:"FOREIGN DIPLOMATIC MISSIONS",value:"FOREIGN DIPLOMATIC MISSIONS"},{name:"FUND MANAGEMENT ACTIVITIES",value:"FUND MANAGEMENT ACTIVITIES"},{name:"FUNERAL AND RELATED ACTIVITIES",value:"FUNERAL AND RELATED ACTIVITIES"},{name:"FURNITURE AND FIXTURES",value:"FURNITURE AND FIXTURES"},{name:"GAMES AND TOYS",value:"GAMES AND TOYS"},{name:"GENERAL PURPOSE MACHINERY",value:"GENERAL PURPOSE MACHINERY"},{name:"GLASS AND GLASS PRODUCTS",value:"GLASS AND GLASS PRODUCTS"},{name:"GROWING OF NON-PERENNIAL AND PERENNIAL CROPS",value:"GROWING OF NON-PERENNIAL AND PERENNIAL CROPS"},{name:"HOLDING COMPANIES",value:"HOLDING COMPANIES"},{name:"HOSPITAL ACTIVITIES",value:"HOSPITAL ACTIVITIES"},{name:"HUNTING, TRAPPING AND RELATED ACTIVITIES",value:"HUNTING, TRAPPING AND RELATED ACTIVITIES"},{name:"INDIVIDUAL ARTISTS ACTIVITIES",value:"INDIVIDUAL ARTISTS ACTIVITIES"},{name:"INFORMATION SERVICE ACTIVITIES",value:"INFORMATION SERVICE ACTIVITIES"},{name:"INSTALLATION OF INDUSTRIAL MACHINERY AND EQUIPMENT",value:"INSTALLATION OF INDUSTRIAL MACHINERY AND EQUIPMENT"},{name:"INSURANCE AND REINSURANCE",value:"INSURANCE AND REINSURANCE"},{name:"INTERNATIONAL ORGANIZATIONS",value:"INTERNATIONAL ORGANIZATIONS"},{name:"INVESTIGATION ACTIVITIES",value:"INVESTIGATION ACTIVITIES"},{name:"IRRADIATION, ELECTROMEDICAL AND ELECTROTHERAPEUTIC EQUIPMENT",value:"IRRADIATION, ELECTROMEDICAL AND ELECTROTHERAPEUTIC EQUIPMENT"},{name:"JEWELRY AND RELATED PRODUCTS",value:"JEWELRY AND RELATED PRODUCTS"},{name:"LAND TRANSPORT AND TRANSPORT VIA PIPELINES",value:"LAND TRANSPORT AND TRANSPORT VIA PIPELINES"},{name:"LANDSCAPE CARE AND MAINTENANCE SERVICE ACTIVITIES",value:"LANDSCAPE CARE AND MAINTENANCE SERVICE ACTIVITIES"},{name:"LAUNDRY SERVICES",value:"LAUNDRY SERVICES"},{name:"LEGAL ACTIVITIES",value:"LEGAL ACTIVITIES"},{name:"LIBRARY AND ARCHIVES ACTIVITIES",value:"LIBRARY AND ARCHIVES ACTIVITIES"},{name:"MAGNETIC AND OPTICAL MEDIA",value:"MAGNETIC AND OPTICAL MEDIA"},{name:"MAN-MADE FIBERS",value:"MAN-MADE FIBERS"},{name:"MANUFACTURE AND DISTRIBUTION OF GASEOUS FUELS",value:"MANUFACTURE AND DISTRIBUTION OF GASEOUS FUELS"},{name:"MANUFACTURE OF MOTOR VEHICLES",value:"MANUFACTURE OF MOTOR VEHICLES"},{name:"MARKET RESEARCH AND PUBLIC OPINION POLLING",value:"MARKET RESEARCH AND PUBLIC OPINION POLLING"},{name:"MEASURING, TESTING, NAVIGATING AND CONTROL EQUIPMENT, WATCHES AND CLOCKS",value:"MEASURING, TESTING, NAVIGATING AND CONTROL EQUIPMENT, WATCHES AND CLOCKS"},{name:"MEDICAL AND DENTAL INSTRUMENTS AND SUPPLIES",value:"MEDICAL AND DENTAL INSTRUMENTS AND SUPPLIES"},{name:"MEDICAL, DENTAL AND OTHER HUMAN HEALTH ACTIVITIES",value:"MEDICAL, DENTAL AND OTHER HUMAN HEALTH ACTIVITIES"},{name:"MILITARY FIGHTING VEHICLES",value:"MILITARY FIGHTING VEHICLES"},{name:"MINING",value:"MINING"},{name:"MINING SUPPORT SERVICE ACTIVITIES",value:"MINING SUPPORT SERVICE ACTIVITIES"},{name:"MONETARY INTERMEDIATION",value:"MONETARY INTERMEDIATION"},{name:"MOTION PICTURE, VIDEO AND TELEVISION PROGRAM PRODUCTION, SOUND RECORDING AND MUSIC PUBLISHING ACTIVITIES",value:"MOTION PICTURE, VIDEO AND TELEVISION PROGRAM PRODUCTION, SOUND RECORDING AND MUSIC PUBLISHING ACTIVITIES"},{name:"MUSEUMS ACTIVITIES AND HISTORICAL SITES",value:"MUSEUMS ACTIVITIES AND HISTORICAL SITES"},{name:"MUSICAL INSTRUMENTS",value:"MUSICAL INSTRUMENTS"},{name:"OFFICE ADMINISTRATIVE AND SUPPORT ACTIVITIES",value:"OFFICE ADMINISTRATIVE AND SUPPORT ACTIVITIES"},{name:"OPERATION OF CASINOS",value:"OPERATION OF CASINOS"},{name:"OPERATION OF COIN-OPERATED GAMBLING MACHINES AND VIRTUAL GAMBLING WEB SITES",value:"OPERATION OF COIN-OPERATED GAMBLING MACHINES AND VIRTUAL GAMBLING WEB SITES"},{name:"OPTICAL INSTRUMENTS AND PHOTOGRAPHIC EQUIPMENT",value:"OPTICAL INSTRUMENTS AND PHOTOGRAPHIC EQUIPMENT"},{name:"ORGANIZATION OF CONVENTIONS AND TRADE SHOWS",value:"ORGANIZATION OF CONVENTIONS AND TRADE SHOWS"},{name:"OTHER ACCOMMODATION",value:"OTHER ACCOMMODATION"},{name:"OTHER CHEMICAL PRODUCTS",value:"OTHER CHEMICAL PRODUCTS"},{name:"OTHER EDUCATION SERVICES",value:"OTHER EDUCATION SERVICES"},{name:"OTHER ELECTRICAL EQUIPMENT",value:"OTHER ELECTRICAL EQUIPMENT"},{name:"OTHER FABRICATED METAL PRODUCTS AND METAL WORKING SERVICE ACTIVITIES",value:"OTHER FABRICATED METAL PRODUCTS AND METAL WORKING SERVICE ACTIVITIES"},{name:"OTHER FINANCIAL SERVICE ACTIVITIES",value:"OTHER FINANCIAL SERVICE ACTIVITIES"},{name:"OTHER MINING AND QUARRYING ACTIVITIES",value:"OTHER MINING AND QUARRYING ACTIVITIES"},{name:"OTHER MISCELLANEOUS PRODUCTS",value:"OTHER MISCELLANEOUS PRODUCTS"},{name:"OTHER NON-METALLIC MINERAL PRODUCTS",value:"OTHER NON-METALLIC MINERAL PRODUCTS"},{name:"OTHER PERSONAL SERVICE ACTIVITIES",value:"OTHER PERSONAL SERVICE ACTIVITIES"},{name:"OTHER PROFESSIONAL, SCIENTIFIC AND TECHNICAL ACTIVITIES",value:"OTHER PROFESSIONAL, SCIENTIFIC AND TECHNICAL ACTIVITIES"},{name:"OTHER RESERVATION SERVICES AND RELATED ACTIVITIES",value:"OTHER RESERVATION SERVICES AND RELATED ACTIVITIES"},{name:"OTHER TRANSPORT EQUIPMENT",value:"OTHER TRANSPORT EQUIPMENT"},{name:"PAINTS, VARNISHES AND OTHER RELATED PRODUCTS",value:"PAINTS, VARNISHES AND OTHER RELATED PRODUCTS"},{name:"PAPER AND PAPER PRODUCTS",value:"PAPER AND PAPER PRODUCTS"},{name:"PARTS AND ACCESSORIES FOR MOTOR VEHICLES",value:"PARTS AND ACCESSORIES FOR MOTOR VEHICLES"},{name:"PAWNSHOP OPERATIONS",value:"PAWNSHOP OPERATIONS"},{name:"PENSION FUNDING",value:"PENSION FUNDING"},{name:"PERSONAL SERVICES FOR WELLNESS",value:"PERSONAL SERVICES FOR WELLNESS"},{name:"PESTICIDES AND OTHER AGRO-CHEMICAL PRODUCTS",value:"PESTICIDES AND OTHER AGRO-CHEMICAL PRODUCTS"},{name:"PETROLEUM AND OTHER PRODUCTS",value:"PETROLEUM AND OTHER PRODUCTS"},{name:"PHOTOGRAPHIC ACTIVITIES",value:"PHOTOGRAPHIC ACTIVITIES"},{name:"PLANT PROPAGATION",value:"PLANT PROPAGATION"},{name:"PLASTIC PRODUCTS",value:"PLASTIC PRODUCTS"},{name:"PLASTICS AND SYNTHETIC RUBBER IN PRIMARY FORMS",value:"PLASTICS AND SYNTHETIC RUBBER IN PRIMARY FORMS"},{name:"POSTAL AND COURIER ACTIVITIES",value:"POSTAL AND COURIER ACTIVITIES"},{name:"PRE-SCHOOL, ELEMENTARY, HIGHSCHOOL AND HIGHER EDUCATION",value:"PRE-SCHOOL, ELEMENTARY, HIGHSCHOOL AND HIGHER EDUCATION"},{name:"PRINTING AND RELATED SERVICE ACTIVITIES",value:"PRINTING AND RELATED SERVICE ACTIVITIES"},{name:"PRIVATE SECURITY ACTIVITIES",value:"PRIVATE SECURITY ACTIVITIES"},{name:"PRODUCTION OF ICE FOR COOLING PURPOSES",value:"PRODUCTION OF ICE FOR COOLING PURPOSES"},{name:"PRODUCTS OF LEATHER AND IMITATION LEATHER",value:"PRODUCTS OF LEATHER AND IMITATION LEATHER"},{name:"PROGRAMMING AND BROADCASTING ACTIVITIES",value:"PROGRAMMING AND BROADCASTING ACTIVITIES"},{name:"PROVISION OF SERVICES TO THE COMMUNITY AS A WHOLE",value:"PROVISION OF SERVICES TO THE COMMUNITY AS A WHOLE"},{name:"PUBLISHING ACTIVITIES",value:"PUBLISHING ACTIVITIES"},{name:"RAILWAY LOCOMOTIVE AND ROLLING STOCK",value:"RAILWAY LOCOMOTIVE AND ROLLING STOCK"},{name:"REAL ESTATE ACTIVITIES",value:"REAL ESTATE ACTIVITIES"},{name:"REMEDIATION ACTIVITIES AND OTHER WASTE MANAGEMENT SERVICES",value:"REMEDIATION ACTIVITIES AND OTHER WASTE MANAGEMENT SERVICES"},{name:"RENTAL AND LEASING ACTIVITIES",value:"RENTAL AND LEASING ACTIVITIES"},{name:"REPAIR AND MAINTENANCE OF MOTOR VEHICLES, MOTORCYCLES AND RELATED PARTS AND ACCESSORIES",value:"REPAIR AND MAINTENANCE OF MOTOR VEHICLES, MOTORCYCLES AND RELATED PARTS AND ACCESSORIES"},{name:"REPAIR OF COMPUTERS AND COMMUNICATION EQUIPMENT",value:"REPAIR OF COMPUTERS AND COMMUNICATION EQUIPMENT"},{name:"REPAIR OF FABRICATED METAL PRODUCTS, MACHINERY AND EQUIPMENT",value:"REPAIR OF FABRICATED METAL PRODUCTS, MACHINERY AND EQUIPMENT"},{name:"REPAIR OF PERSONAL AND HOUSEHOLD GOODS",value:"REPAIR OF PERSONAL AND HOUSEHOLD GOODS"},{name:"REPRODUCTION OF RECORDED MEDIA",value:"REPRODUCTION OF RECORDED MEDIA"},{name:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON INFORMATION TECHNOLOGY",value:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON INFORMATION TECHNOLOGY"},{name:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON NATURAL SCIENCE AND ENGINEERING",value:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON NATURAL SCIENCE AND ENGINEERING"},{name:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON SOCIAL SCIENCE AND HUMANITIES",value:"RESEARCH AND EXPERIMENTAL DEVELOPMENT ON SOCIAL SCIENCE AND HUMANITIES"},{name:"RESIDENTIAL CARE AND RELATED ACTIVITIES",value:"RESIDENTIAL CARE AND RELATED ACTIVITIES"},{name:"RESTAURANTS AND MOBILE FOOD SERVICE ACTIVITIES",value:"RESTAURANTS AND MOBILE FOOD SERVICE ACTIVITIES"},{name:"RETAIL",value:"RETAIL"},{name:"RUBBER PRODUCTS",value:"RUBBER PRODUCTS"},{name:"SALE OF LOTTERY TICKETS",value:"SALE OF LOTTERY TICKETS"},{name:"SALE OF MOTOR VEHICLES, MOTORCYCLES AND RELATED PARTS AND ACCESSORIES",value:"SALE OF MOTOR VEHICLES, MOTORCYCLES AND RELATED PARTS AND ACCESSORIES"},{name:"SECURITY SYSTEMS SERVICE ACTIVITIES",value:"SECURITY SYSTEMS SERVICE ACTIVITIES"},{name:"SEWERAGE",value:"SEWERAGE"},{name:"SHORT TERM ACCOMMODATION ACTIVITIES",value:"SHORT TERM ACCOMMODATION ACTIVITIES"},{name:"SILVICULTURE, LOGGING AND OTHER FORESTRY ACTIVITIES",value:"SILVICULTURE, LOGGING AND OTHER FORESTRY ACTIVITIES"},{name:"SOAP, DETERGENTS, PERFUMES, COSMETICS AND RELATED PRODUCTS",value:"SOAP, DETERGENTS, PERFUMES, COSMETICS AND RELATED PRODUCTS"},{name:"SOCIAL WORK ACTIVITIES",value:"SOCIAL WORK ACTIVITIES"},{name:"SPECIAL PURPOSE MACHINERY",value:"SPECIAL PURPOSE MACHINERY"},{name:"SPECIALIZED CONSTRUCTION ACTIVITIES",value:"SPECIALIZED CONSTRUCTION ACTIVITIES"},{name:"SPECIALIZED DESIGN ACTIVITIES",value:"SPECIALIZED DESIGN ACTIVITIES"},{name:"SPORTS ACTIVITIES",value:"SPORTS ACTIVITIES"},{name:"SPORTS AND RECREATION EDUCATION",value:"SPORTS AND RECREATION EDUCATION"},{name:"SPORTS GOODS",value:"SPORTS GOODS"},{name:"STEAM AND AIR CONDITIONING SUPPLY",value:"STEAM AND AIR CONDITIONING SUPPLY"},{name:"STRUCTURAL METAL PRODUCTS, TANKS, RESERVOIRS AND STEAM GENERATORS",value:"STRUCTURAL METAL PRODUCTS, TANKS, RESERVOIRS AND STEAM GENERATORS"},{name:"SUPPORT ACTIVITIES FOR TRANSPORTATION",value:"SUPPORT ACTIVITIES FOR TRANSPORTATION"},{name:"SUPPORT ACTIVITIES TO AGRICULTURE",value:"SUPPORT ACTIVITIES TO AGRICULTURE"},{name:"SUPPORT SERVICES TO FORESTRY",value:"SUPPORT SERVICES TO FORESTRY"},{name:"SURGICAL DRESSING, FRACTURE BANDAGES AND OTHER RELATED PRODUCTS",value:"SURGICAL DRESSING, FRACTURE BANDAGES AND OTHER RELATED PRODUCTS"},{name:"TECHNICAL AND VOCATIONAL EDUCATION",value:"TECHNICAL AND VOCATIONAL EDUCATION"},{name:"TECHNICAL TESTING AND ANALYSIS",value:"TECHNICAL TESTING AND ANALYSIS"},{name:"TELECOMMUNICATIONS",value:"TELECOMMUNICATIONS"},{name:"TEXTILE PRODUCTS",value:"TEXTILE PRODUCTS"},{name:"TOBACCO PRODUCTS",value:"TOBACCO PRODUCTS"},{name:"TRAVEL AGENCY AND TOUR OPERATOR ACTIVITIES",value:"TRAVEL AGENCY AND TOUR OPERATOR ACTIVITIES"},{name:"TRUSTS, FUNDS AND OTHER RELATED ACTIVITIES",value:"TRUSTS, FUNDS AND OTHER RELATED ACTIVITIES"},{name:"UNDIFFERENTIATED GOODS- AND SERVICES-PRODUCING ACTIVITIES OF PRIVATE HOUSEHOLDS FOR OWN USE",value:"UNDIFFERENTIATED GOODS- AND SERVICES-PRODUCING ACTIVITIES OF PRIVATE HOUSEHOLDS FOR OWN USE"},{name:"VETERINARY ACTIVITIES",value:"VETERINARY ACTIVITIES"},{name:"WAREHOUSING AND STORAGE",value:"WAREHOUSING AND STORAGE"},{name:"WASTE COLLECTION, TREATMENT AND DISPOSAL",value:"WASTE COLLECTION, TREATMENT AND DISPOSAL"},{name:"WATER COLLECTION, TREATMENT AND SUPPLY",value:"WATER COLLECTION, TREATMENT AND SUPPLY"},{name:"WATER TRANSPORT",value:"WATER TRANSPORT"},{name:"WEAPONS AND AMMUNITION",value:"WEAPONS AND AMMUNITION"},{name:"WEARING, KNITTED AND CROCHETED APPAREL",value:"WEARING, KNITTED AND CROCHETED APPAREL"},{name:"WHOLESALE",value:"WHOLESALE"},{name:"WIRING AND WIRING DEVICES",value:"WIRING AND WIRING DEVICES"},{name:"WOOD AND WOOD PRODUCTS",value:"WOOD AND WOOD PRODUCTS"}],Y=[{name:"Local",value:"Local"},{name:"Multinational",value:"Multinational"}],q=["image/png","image/jpeg","image/jpg"],K=[{name:"Lamitan",value:"lamitan",region:"armm"},{name:"Marawi",value:"marawi",region:"armm"},{name:"Baguio",value:"baguio",region:"car"},{name:"Tabuk",value:"tabuk",region:"car"},{name:"Caloocan",value:"caloocan",region:"ncr"},{name:"Las Pi\xf1as",value:"las_pi\xf1as",region:"ncr"},{name:"Makati",value:"makati",region:"ncr"},{name:"Malabon",value:"malabon",region:"ncr"},{name:"Mandaluyong",value:"mandaluyong",region:"ncr"},{name:"Manila",value:"manila",region:"ncr"},{name:"Marikina",value:"marikina",region:"ncr"},{name:"Muntinlupa",value:"muntinlupa",region:"ncr"},{name:"Navotas",value:"navotas",region:"ncr"},{name:"Para\xf1aque",value:"para\xf1aque",region:"ncr"},{name:"Pasay",value:"pasay",region:"ncr"},{name:"Pasig",value:"pasig",region:"ncr"},{name:"Quezon City",value:"quezon_city",region:"ncr"},{name:"San Juan",value:"san_juan",region:"ncr"},{name:"Taguig",value:"taguig",region:"ncr"},{name:"Valenzuela",value:"valenzuela",region:"ncr"},{name:"Batac",value:"batac",region:"region_1"},{name:"Laoag",value:"laoag",region:"region_1"},{name:"Candon",value:"candon",region:"region_1"},{name:"Vigan",value:"vigan",region:"region_1"},{name:"San Fernando",value:"san_fernando",region:"region_1"},{name:"Alaminos",value:"alaminos",region:"region_1"},{name:"Dagupan",value:"dagupan",region:"region_1"},{name:"San Carlos",value:"san_carlos",region:"region_1"},{name:"Urdaneta",value:"urdaneta",region:"region_1"},{name:"Tuguegarao",value:"tuguegarao",region:"region_2"},{name:"Cauayan",value:"cauayan",region:"region_2"},{name:"Ilagan",value:"ilagan",region:"region_2"},{name:"Santiago",value:"santiago",region:"region_2"},{name:"Balanga",value:"balanga",region:"region_3"},{name:"Malolos",value:"malolos",region:"region_3"},{name:"Meycauayan",value:"meycauayan",region:"region_3"},{name:"San Jose del Monte",value:"san_jose_del_monte",region:"region_3"},{name:"Cabanatuan",value:"cabanatuan",region:"region_3"},{name:"Gapan",value:"gapan",region:"region_3"},{name:"Mu\xf1oz",value:"mu\xf1oz",region:"region_3"},{name:"Palayan",value:"palayan",region:"region_3"},{name:"Angeles",value:"angeles",region:"region_3"},{name:"Mabalacat",value:"mabalacat",region:"region_3"},{name:"San Fernando",value:"san_fernando",region:"region_3"},{name:"Tarlac",value:"tarlac",region:"region_3"},{name:"Olongapo",value:"olongapo",region:"region_3"},{name:"San Jose",value:"san_jose",region:"region_3"},{name:"Batangas",value:"batangas",region:"region_4a"},{name:"Lipa",value:"lipa",region:"region_4a"},{name:"Tanauan",value:"tanauan",region:"region_4a"},{name:"Bacoor",value:"bacoor",region:"region_4a"},{name:"Cavite",value:"cavite",region:"region_4a"},{name:"Dasmari\xf1as",value:"dasmari\xf1as",region:"region_4a"},{name:"General Trias",value:"general_trias",region:"region_4a"},{name:"Imus",value:"imus",region:"region_4a"},{name:"Tagaytay",value:"tagaytay",region:"region_4a"},{name:"Trece Martires",value:"trece_martires",region:"region_4a"},{name:"Bi\xf1an",value:"bi\xf1an",region:"region_4a"},{name:"Cabuyao",value:"cabuyao",region:"region_4a"},{name:"San Pablo",value:"san_pablo",region:"region_4a"},{name:"San Pedro",value:"san_pedro",region:"region_4a"},{name:"Santa Rosa",value:"santa_rosa",region:"region_4a"},{name:"Santo Tomas",value:"santo_tomas",region:"region_4a"},{name:"Lucena",value:"lucena",region:"region_4a"},{name:"Tayabas",value:"tayabas",region:"region_4a"},{name:"Antipolo",value:"antipolo",region:"region_4a"},{name:"Calamba",value:"calamba",region:"region_4a"},{name:"Calapan",value:"calapan",region:"region_4b"},{name:"Puerto Princesa",value:"puerto_princesa",region:"region_4b"},{name:"Legazpi",value:"legazpi",region:"region_5"},{name:"Ligao",value:"ligao",region:"region_5"},{name:"Tabaco",value:"tabaco",region:"region_5"},{name:"Iriga",value:"iriga",region:"region_5"},{name:"Naga",value:"naga",region:"region_5"},{name:"Masbate",value:"masbate",region:"region_5"},{name:"Sorsogon",value:"sorsogon",region:"region_5"},{name:"Roxas",value:"roxas",region:"region_6"},{name:"Iloilo",value:"iloilo",region:"region_6"},{name:"Passi",value:"passi",region:"region_6"},{name:"Bacolod",value:"bacolod",region:"region_6"},{name:"Bago",value:"bago",region:"region_6"},{name:"Cadiz",value:"cadiz",region:"region_6"},{name:"Escalante",value:"escalante",region:"region_6"},{name:"Himamaylan",value:"himamaylan",region:"region_6"},{name:"Kabankalan",value:"kabankalan",region:"region_6"},{name:"La Carlota",value:"la_carlota",region:"region_6"},{name:"Sagay",value:"sagay",region:"region_6"},{name:"San Carlos",value:"san_carlos",region:"region_6"},{name:"Silay",value:"silay",region:"region_6"},{name:"Sipalay",value:"sipalay",region:"region_6"},{name:"Talisay",value:"talisay",region:"region_6"},{name:"Victorias",value:"victorias",region:"region_6"},{name:"Tagbilaran",value:"tagbilaran",region:"region_7"},{name:"Bogo",value:"bogo",region:"region_7"},{name:"Carcar",value:"carcar",region:"region_7"},{name:"Cebu",value:"cebu",region:"region_7"},{name:"Danao",value:"danao",region:"region_7"},{name:"Lapu-lapu",value:"lapu-lapu",region:"region_7"},{name:"Mandaue",value:"mandaue",region:"region_7"},{name:"Naga",value:"naga",region:"region_7"},{name:"Talisay",value:"talisay",region:"region_7"},{name:"Bais",value:"bais",region:"region_7"},{name:"Bayawan",value:"bayawan",region:"region_7"},{name:"Canlaon",value:"canlaon",region:"region_7"},{name:"Dumaguete",value:"dumaguete",region:"region_7"},{name:"Guihulngan",value:"guihulngan",region:"region_7"},{name:"Tanjay",value:"tanjay",region:"region_7"},{name:"Borongan",value:"borongan",region:"region_8"},{name:"Baybay",value:"baybay",region:"region_8"},{name:"Ormoc",value:"ormoc",region:"region_8"},{name:"Tacloban",value:"tacloban",region:"region_8"},{name:"Calbayog",value:"calbayog",region:"region_8"},{name:"Catbalogan",value:"catbalogan",region:"region_8"},{name:"Maasin",value:"maasin",region:"region_8"},{name:"Isabela",value:"isabela",region:"region_9"},{name:"Dapitan",value:"dapitan",region:"region_9"},{name:"Dipolog",value:"dipolog",region:"region_9"},{name:"Pagadian",value:"pagadian",region:"region_9"},{name:"Zamboanga",value:"zamboanga",region:"region_9"},{name:"Malaybalay",value:"malaybalay",region:"region_10"},{name:"Valencia",value:"valencia",region:"region_10"},{name:"Iligan",value:"iligan",region:"region_10"},{name:"Oroquieta",value:"oroquieta",region:"region_10"},{name:"Ozamiz",value:"ozamiz",region:"region_10"},{name:"Tangub",value:"tangub",region:"region_10"},{name:"Cagayan de Oro",value:"cagayan_de_oro",region:"region_10"},{name:"El Salvador",value:"el_salvador",region:"region_10"},{name:"Gingoog",value:"gingoog",region:"region_10"},{name:"Panabo",value:"panabo",region:"region_11"},{name:"Samal",value:"samal",region:"region_11"},{name:"Tagum",value:"tagum",region:"region_11"},{name:"Davao",value:"davao",region:"region_11"},{name:"Digos",value:"digos",region:"region_11"},{name:"Mati",value:"mati",region:"region_11"},{name:"Kidapawan",value:"kidapawan",region:"region_12"},{name:"Cotabato",value:"cotabato",region:"region_12"},{name:"General Santos",value:"general_santos",region:"region_12"},{name:"Koronadal",value:"koronadal",region:"region_12"},{name:"Tacurong",value:"tacurong",region:"region_12"},{name:"Butuan",value:"butuan",region:"region_13"},{name:"Cabadbaran",value:"cabadbaran",region:"region_13"},{name:"Bayugan",value:"bayugan",region:"region_13"},{name:"Surigao",value:"surigao",region:"region_13"},{name:"Bislig",value:"bislig",region:"region_13"},{name:"Tandag",value:"tandag",region:"region_13"}],Z=[{city:[{name:"",value:"",region:""}]}],Q=[{name:"ARMM (Autonomous Region in Muslim Mindanao)",value:"armm"},{name:"CAR (Cordillera Administrative Region)",value:"car"},{name:"NCR (National Capital Region)",value:"ncr"},{name:"Region 1 (Ilocos Region)",value:"region_1"},{name:"Region 2 (Cagayan Valley)",value:"region_2"},{name:"Region 3 (Central Luzon)",value:"region_3"},{name:"Region 4A (CALABARZON)",value:"region_4a"},{name:"Region 4B (MIMAROPA)",value:"region_4b"},{name:"Region 5 (Bicol)",value:"region_5"},{name:"Region 6 (Western Visayas)",value:"region_6"},{name:"Region 7 (Central Visayas)",value:"region_7"},{name:"Region 8 (Eastern Visayas)",value:"region_8"},{name:"Region 9 (Zamboanga Peninsula)",value:"region_9"},{name:"Region 10 (Northern Mindanao)",value:"region_10"},{name:"Region 11 (Davao Region)",value:"region_11"},{name:"Region 12 (SOCCSKSARGEN)",value:"region_12"},{name:"Region 13 (CARAGA)",value:"region_13"}]},744:function(e,t,a){"use strict";a.d(t,"j",function(){return n}),a.d(t,"l",function(){return i}),a.d(t,"t",function(){return r}),a.d(t,"p",function(){return l}),a.d(t,"q",function(){return o}),a.d(t,"g",function(){return c}),a.d(t,"k",function(){return d}),a.d(t,"b",function(){return s}),a.d(t,"e",function(){return u}),a.d(t,"s",function(){return m}),a.d(t,"m",function(){return p}),a.d(t,"o",function(){return f}),a.d(t,"f",function(){return g}),a.d(t,"n",function(){return E}),a.d(t,"c",function(){return v}),a.d(t,"v",function(){return b}),a.d(t,"i",function(){return _}),a.d(t,"h",function(){return h}),a.d(t,"d",function(){return O}),a.d(t,"a",function(){return y}),a.d(t,"u",function(){return C}),a.d(t,"r",function(){return N});var n=[{label:"Amount Limit",value:"Amount Limit",type:"Amount",limit_unit:"PHP"},{label:"MBL Limit",value:"MBL Limit",type:"MBL",limit_unit:"PHP"},{label:"ABL Limit",value:"ABL Limit",type:"ABL",limit_unit:"PHP"},{label:"PEC Limit",value:"PEC Limit",type:"PEC",limit_unit:"PHP"},{label:"Max Session",value:"Max Session",type:"Sessions",limit_unit:"Sessions"},{label:"Percent of MBL",value:"Percent of MBL",type:"MBL",limit_unit:"Percentage"},{label:"Percent of ABL",value:"Percent of ABL",type:"ABL",limit_unit:"Percentage"},{label:"No. of Visits",value:"No. of Visits",type:"Visits",limit_unit:"Visits"},{label:"Dreaded Disease Limit",value:"Dreaded Disease Limit",type:"Disease",limit_unit:"PHP"}],i=[{label:"Amount Limit",value:"amt_limit"},{label:"Benefit Limit",value:"benefit_limit"},{label:"Max Amount",value:"max_amount"},{label:"Percent of MBL",value:"percent_mbl"},{label:"Percent of ABL",value:"percent_abl"},{label:"MBL Limit",value:"mbl_limit"},{label:"ABL Limit",value:"abl_limit"},{label:"PEC Limit",value:"pec_limit"},{label:"Dreaded Disease Limit",value:"disease_limit"}],r=[{label:"ABL",value:"abl"},{label:"MBL",value:"mbl"}],l=[{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}],o=[{label:"Reimbursement",value:"reimbursement"},{label:"Outright",value:"outright"},{label:"Both",value:"both"}],c=[{label:"Principals",value:"principals"},{label:"Dependents",value:"dependents"},{label:"Male",value:"male"},{label:"Female",value:"female"}],d=[{label:"Female Principals",value:"principals"},{label:"All Female Dependents",value:"all_dependents"},{label:"Female spouses",value:"spouses"},{label:"Mothers",value:"mothers"},{label:"Sisters",value:"sisters"},{label:"Grandmothers",value:"grandmothers"},{label:"Daughters",value:"daughters"},{label:"Niece",value:"nieces"},{label:"Aunt",value:"aunts"}],s=[{label:"None",value:0},{label:"0-29",value:1},{label:"30-60",value:2}],u=[{id:0,label:"years",value:"years"},{id:1,label:"days",value:"days"}],m=[{label:"Required",value:!0},{label:"Optional",value:!1}],p=[{label:"Employees",value:"employees"},{label:"Company-Paid Dependents",value:"company_dependents"},{label:"Employee-Paid Dependents",value:"employee_dependents"}],f=[{label:"VIP",value:"vip"},{label:"Manager",value:"mgr"},{label:"Rank and File",value:"raf"}],g=[{label:"All employees",value:"all_employees"},{label:"Aged 50-70",value:"aged"},{label:"Female employees",value:"female_employees"}],E=[{label:"Max Number",value:"max_number"},{label:"labeld Members",value:"labeld_members"}],v=[{label:"Mon",value:"Monday"},{label:"Tue",value:"Tuesday"},{label:"Wed",value:"Wednesday"},{label:"Thurs",value:"Thursday"},{label:"Fri",value:"Friday"},{label:"Sat",value:"Saturday"},{label:"Sun",value:"Sunday"}],b=[{id:1,value:"immediate",label:"Immediate"},{id:2,value:"extended",label:"Extended"}],_=[{id:0,value:"0",label:"\u2014\u2014"},{id:1,value:"1",label:"1"},{id:2,value:"2",label:"2"},{id:3,value:"3",label:"3"},{id:4,value:"4",label:"4"},{id:5,value:"5",label:"5"},{id:6,value:"6",label:"6"},{id:7,value:"7",label:"7"},{id:8,value:"8",label:"8"},{id:9,value:"9",label:"9"},{id:10,value:"10",label:"10"}],h=[{id:1,value:"effectivity_date",label:"effectivity of principal"},{id:2,value:"hire_date",label:"hire of principal"}],O=[{id:1,value:"hire_date",label:"hire date of principal"},{id:2,value:"endorsement_date",label:"endorsement date"}],y=[{id:1,value:"bill_back",label:"Bill Back"},{id:2,value:"charge_to_patient",label:"Charge to Patient"},{id:3,value:"included_in_premiums",label:"Included in Premiums"}],C=[{label:"All",value:"All"},{label:"Active",value:"Active"},{label:"Terminated",value:"Terminated"}],N=[{id:1,label:"Mother",value:"MOTHER"},{id:2,label:"Father",value:"FATHER"},{id:3,label:"Brother",value:"BROTHER"},{id:4,label:"Sister",value:"SISTER"},{id:5,label:"Husband",value:"HUSBAND"},{id:6,label:"Wife",value:"WIFE"},{id:7,label:"Son",value:"SON"},{id:8,label:"Daughter",value:"DAUGTHER"},{id:9,label:"Grandmother",value:"GRANDMOTHER"},{id:10,label:"Grandfather",value:"GRANDFATHER"},{id:11,label:"Grandson",value:"GRANDSON"},{id:12,label:"Granddaughter",value:"GRANDDAUGHTER"},{id:13,label:"Common Law Partner",value:"CLP"},{id:14,label:"Same Sex Partner",value:"SSP"},{id:15,label:"Auntie",value:"AUNTIE"},{id:16,label:"Uncle",value:"UNCLE"},{id:17,label:"Niece",value:"NIECE"},{id:18,label:"Nephew",value:"NEPHEW"},{id:19,label:"Cousin",value:"COUSIN"},{id:20,label:"Household Help",value:"HOUSEHOLD"}]},750:function(e,t,a){"use strict";var n=a(208),i=a(269),r=a(0),l=a.n(r),o=a(37),c=a(685),d=a(731),s=a(43),u=a(677),m=a(774),p=a(764),f=a(760),g=a(377),E=a(104),v=a(72),b=a(767),_=a(127),h=a(683),O=a(262),y=a(205),C=a(260),N=a(7),S=a(13),T=new RegExp(/\D/),A=S.a.UI.InputTextField.InputTextField,I=S.a.UI.InputSelect.InputSelect,D=Object(s.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2),justifyContent:"center"},container:{paddingRight:"15px",paddingLeft:"15px",maxWidth:"500px"},buttons:{minWidth:115,marginRight:"20px"},greenText:{color:"#3AB77D",fontWeight:"bold"}}}),P=function(e){var t=D(),a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],d=n[1],s=Object(r.useState)(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],f=Object(r.useState)(""),g=Object(i.a)(f,2),E=g[0],v=g[1],b=Object(r.useState)("0"),S=Object(i.a)(b,2),P=S[0],R=S[1],w=Object(r.useState)(!1),j=Object(i.a)(w,2),x=j[0],L=j[1],k=Object(r.useState)("0"),F=Object(i.a)(k,2),B=F[0],M=F[1],U=Object(r.useState)(!1),V=Object(i.a)(U,2),H=V[0],G=V[1],z=Object(r.useState)(0),W=Object(i.a)(z,2),Y=W[0],q=W[1],K=Object(r.useState)("0"),Z=Object(i.a)(K,2),Q=Z[0],X=Z[1],J=Object(r.useState)(!1),$=Object(i.a)(J,2),ee=$[0],te=$[1],ae=Object(r.useState)(""),ne=Object(i.a)(ae,2),ie=ne[0],re=ne[1],le=function(){d(""),p(!1),R("0"),L(!1),M("0"),G(!1),q(0),X("0"),te(!1),re("")},oe=function(){le(),e.onClose()},ce=e.planTypeList.reduce(function(e,t,a){if(t.included&&"BASE"!==t.code){var n={id:a,label:t.name,value:t.code};e.push(n)}return e},new Array);return l.a.createElement(h.a,{open:e.isModalOpen,onClose:oe,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},l.a.createElement("div",null,l.a.createElement(o.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},l.a.createElement(o.a,{item:!0,xs:!0},l.a.createElement(C.a,{id:"form-dialog-title"},"Add a Member Plan Type")),l.a.createElement(o.a,{item:!0,xs:!0,style:{paddingLeft:"24px",paddingRight:"24px"}},"Create a plan type based on your current base. You can also duplicate an existing plan type."),l.a.createElement(o.a,{item:!0,xs:!0},l.a.createElement(y.a,null,l.a.createElement(o.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},l.a.createElement(o.a,{item:!0,xs:12},l.a.createElement(A,{label:"New Name*",value:c,error:m,errorMessage:E,onChange:function(e){d(e),p(0===e.length),v("")}})),l.a.createElement(o.a,{item:!0,xs:6},l.a.createElement(A,{type:"tel",label:"Indicative No. of Principals",value:P,error:x,onChange:function(e){T.test(e)||(console.log(e),0===e.length?e="0":0===e.indexOf("0")&&1===e.length?e="0":0===e.indexOf("0")&&(e=e.substring(1)),R(e),L(parseInt(e)<0))}})),l.a.createElement(o.a,{item:!0,xs:6},l.a.createElement(A,{type:"tel",label:"Indicative No. of Dependents",value:B,error:H,onChange:function(e){T.test(e)||(0===e.length?e="0":0===e.indexOf("0")&&1===e.length?e="0":0===e.indexOf("0")&&(e=e.substring(1)),M(e),G(parseInt(e)<0))}})),l.a.createElement(o.a,{item:!0,xs:6},l.a.createElement(A,{type:"tel",label:"Requested Rate*",value:Q,error:ee,onChange:function(e){var t;e=(e=e.replace(/ /g,"")).replace(/,/g,""),"]"===(t="0")&&(t="\\]"),"\\"===t&&(t="\\\\"),0===(e=e.replace(new RegExp("^["+t+"]+$","g"),"")).length&&(e="0");var a=parseFloat(e);isNaN(a)&&(a=0);var n=function(e){var t=e.toString();if(e>999){var a=Math.floor(e),n=e-a,i=a.toString(),r=i.length%3;if(0===r){var l=i.match(/.{1,3}/g);l&&(t=l.join(",")+(n>0?"."+n:""))}else{var o=i.substring(0,r),c=i.substring(r).match(/.{1,3}/g);c&&(t=o+","+c.join(",")+(n>0?"."+n:""))}}return t}(a);q(a),X(n)}})),l.a.createElement(o.a,{item:!0,xs:6}),ce.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,{item:!0,sm:12,style:{marginBottom:"10px"}}),l.a.createElement(o.a,{item:!0,sm:12},l.a.createElement("span",{className:t.greenText},"Duplicate a Plan Type")),l.a.createElement(o.a,{item:!0,sm:12},l.a.createElement(I,{id:"duplicate-plan-type-select",label:"Choose plan type to duplicate",data:ce,value:ie,onChange:function(e){var t=e.value;re(t)}}))):null)),l.a.createElement(O.a,{className:Object(N.default)(t.dialogAction)},l.a.createElement(_.a,{onClick:oe,variant:"outlined",color:"default",className:t.buttons},"Cancel"),l.a.createElement(_.a,{onClick:function(){var t=!1;0===c.length&&(p(!0),t=!0);var a=e.planTypeList.findIndex(function(e){return e.name.toLowerCase()===c.toLowerCase()});if(void 0!==a&&-1!==a&&(p(!0),v("Name already exists."),t=!0),parseFloat(P)<0&&(L(!0),t=!0),parseFloat(B)<0&&(G(!0),t=!0),(!T.test(Q)||Y<=0)&&(te(!0),t=!0),!t){var n={name:c,code:c.replace(/\s+/g,"").toUpperCase(),indicativeNumOfPrincipals:parseFloat(P),indicativeNumOfDependents:parseFloat(B),requestedRate:Y,planType:ie};le(),e.onSubmit(n),e.onClose()}},variant:"contained",color:"primary",className:t.buttons},"Add"))))))};P.defaultProps={isModalOpen:!1};var R=a(744),w=a(758),j=a(738),x=a(51),L=a(59),k=S.a.UI.InputTextField.InputTextField,F=Object(s.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2),paddingTop:e.spacing(4),justifyContent:"center"},container:{paddingRight:"15px",paddingLeft:"15px",maxWidth:"500px"},buttons:{minWidth:115,marginRight:"20px"}}}),B=new RegExp(/\D/),M=function(e){var t=F(),a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],d=n[1],s=Object(r.useState)(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],f=Object(r.useState)(""),g=Object(i.a)(f,2),E=g[0],v=g[1],b=Object(r.useState)("0"),S=Object(i.a)(b,2),T=S[0],A=S[1],I=Object(r.useState)(!1),D=Object(i.a)(I,2),P=D[0],R=D[1],w=Object(r.useState)("0"),j=Object(i.a)(w,2),M=j[0],U=j[1],V=Object(r.useState)(!1),H=Object(i.a)(V,2),G=H[0],z=H[1],W=Object(r.useState)(0),Y=Object(i.a)(W,2),q=Y[0],K=Y[1],Z=Object(r.useState)("0"),Q=Object(i.a)(Z,2),X=Q[0],J=Q[1],$=Object(r.useState)(!1),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=function(e){var t=e.toString();if(e>999){var a=Math.floor(e),n=e-a,i=a.toString(),r=i.length%3;if(0===r){var l=i.match(/.{1,3}/g);l&&(t=l.join(",")+(n>0?"."+n:""))}else{var o=i.substring(0,r),c=i.substring(r).match(/.{1,3}/g);c&&(t=o+","+c.join(",")+(n>0?"."+n:""))}}return t};Object(r.useEffect)(function(){if(e.benefitNode&&(e.benefitNode.name&&void 0!==e.benefitNode.name&&d(e.benefitNode.name),e.benefitNode.custom_metadata&&e.benefitNode.custom_metadata)){if(e.benefitNode.custom_metadata.requested_rate&&void 0!==e.benefitNode.custom_metadata.requested_rate){var t=e.benefitNode.custom_metadata.requested_rate,a=ne(t);K(t),J(a)}e.benefitNode.custom_metadata.indicative_principals&&void 0!==e.benefitNode.custom_metadata.indicative_principals&&A(e.benefitNode.custom_metadata.indicative_principals),e.benefitNode.custom_metadata.indicative_dependents&&void 0!==e.benefitNode.custom_metadata.indicative_dependents&&U(e.benefitNode.custom_metadata.indicative_dependents)}},[e.benefitNode]);var ie=function(){d(""),p(!1),A("0"),R(!1),U("0"),z(!1),K(0),J("0"),ae(!1)},re=function(){ie(),e.onClose()};return l.a.createElement(h.a,{open:e.isModalOpen,onClose:re,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},l.a.createElement("div",null,l.a.createElement(o.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},l.a.createElement(o.a,{item:!0,xs:!0},l.a.createElement(C.a,{id:"form-dialog-title"},"Edit Member Plan Type")),l.a.createElement(o.a,{item:!0,xs:!0},l.a.createElement(y.a,null,l.a.createElement(o.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},l.a.createElement(o.a,{item:!0,xs:12},l.a.createElement(k,{label:"Plan Type Name*",value:c,error:m,errorMessage:E,onChange:function(e){d(e),p(0===e.length),v("")}})),l.a.createElement(o.a,{item:!0,xs:6},l.a.createElement(k,{type:"number",label:"Indicative No. of Principals",value:T,error:P,onChange:function(e){A(e),R(parseInt(e)<0)}})),l.a.createElement(o.a,{item:!0,xs:6},l.a.createElement(k,{type:"number",label:"Indicative No. of Dependents",value:M,error:G,onChange:function(e){U(e),z(parseInt(e)<0)}})),l.a.createElement(o.a,{item:!0,xs:6},l.a.createElement(k,{type:"tel",label:"Requested Rate*",value:X,error:te,onChange:function(e){var t;e=(e=e.replace(/ /g,"")).replace(/,/g,""),"]"===(t="0")&&(t="\\]"),"\\"===t&&(t="\\\\"),0===(e=e.replace(new RegExp("^["+t+"]+$","g"),"")).length&&(e="0");var a=parseFloat(e);isNaN(a)&&(a=0);var n=ne(a);K(a),J(n)}})),l.a.createElement(o.a,{item:!0,xs:12,style:{paddingTop:"15px"}},l.a.createElement("span",{onClick:e.onDelete},l.a.createElement(x.a,{className:"fa-sm",icon:L.r,style:{color:"#9EA3AC",fontSize:"15px",marginRight:"5px"}})," Delete this Plan Type")))),l.a.createElement(O.a,{className:Object(N.default)(t.dialogAction)},l.a.createElement(_.a,{onClick:re,variant:"outlined",color:"default",className:t.buttons},"Cancel"),l.a.createElement(_.a,{onClick:function(){var t=!1;0===c.length&&(p(!0),t=!0);var a=e.planTypeList.findIndex(function(t){return t.id!==e.plan_type_id&&t.name.toLowerCase()===c.toLowerCase()});if(void 0!==a&&-1!==a&&(p(!0),v("Name already exists."),t=!0),parseFloat(T)<0&&(R(!0),t=!0),parseFloat(M)<0&&(z(!0),t=!0),(!B.test(X)||q<=0)&&(ae(!0),t=!0),!t){var n={name:c,title:"Benefits for "+c,indicative_principals:parseFloat(T),indicative_dependents:parseFloat(M),requested_rate:q};ie(),e.onSubmit(n,e.plan_type_id,e.plan_type_name),e.onClose()}},variant:"contained",color:"primary",className:t.buttons},"Save"))))))};M.defaultProps={isModalOpen:!1};var U=a(766),V=a(50);a(742);a.d(t,"a",function(){return W});var H=Object(s.a)(function(e){return Object(u.a)({root:{maxWidth:360,backgroundColor:e.palette.background.paper}})}),G=Object(s.a)({cancelButton:{minWidth:115,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF",marginRight:"20px"},deleteButton:{minWidth:115,boxShadow:"0px 1px 3px #00000033",color:"#FFFFFF",backgroundColor:"#EF5350"}}),z=Object(s.a)({titleHeader:{marginTop:"15px"}}),W=function(e){var t=e.benefitNodes,a=e.contractNode,l=e.categoryNode,s=e.rows,u=e.planTypeList,h=e.roomAndBoardList,O=e.coverageList,y=e.riderList,C=e.selectedPlanType,N=e.selectedPlanPackage,S=e.selectedBenefitCategory,T=e.SetBenefitNodes,A=e.SetSelectedPlanType,I=e.SetSelectedPlanPackage,D=e.SetSelectedBenefitCategory,x=e.SetNewNodeCounter,L=e.classes,k=e.submitMode,F=e.editMode,B=e.viewOnly,W=e.newNodeCounter,Y=e.SetEditedNodeList,q=e.editedNodeList,K=Object(r.useState)(!1),Z=Object(i.a)(K,2),Q=Z[0],X=Z[1],J=Object(r.useState)(null),$=Object(i.a)(J,2),ee=$[0],te=$[1],ae=Object(r.useState)([]),ne=Object(i.a)(ae,2),ie=ne[0],re=ne[1],le=Boolean(ee),oe=Object(r.useState)(!1),ce=Object(i.a)(oe,2),de=ce[0],se=ce[1],ue=Object(r.useState)(""),me=Object(i.a)(ue,2),pe=me[0],fe=me[1],ge=Object(r.useState)(""),Ee=Object(i.a)(ge,2),ve=Ee[0],be=Ee[1],_e=Object(r.useState)({}),he=Object(i.a)(_e,2),Oe=he[0],ye=he[1],Ce=Object(r.useState)(!1),Ne=Object(i.a)(Ce,2),Se=Ne[0],Te=Ne[1],Ae=Object(r.useState)(null),Ie=Object(i.a)(Ae,2),De=Ie[0],Pe=Ie[1],Re=Object(r.useState)(""),we=Object(i.a)(Re,2),je=we[0],xe=we[1],Le=H(),ke=G(),Fe=z(),Be=function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"custom_metadata",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=Object(n.a)(t),c=[];F&&q&&(c=Object(n.a)(q));var d=0;d=o.findIndex(function(e){return e.id===l.id&&e.code===l.code&&e.level===l.level&&e.tree_path[2]===l.tree_path[2]&&e.tree_path[3]===l.tree_path[3]});var s={};if("limits"===i&&-1===r?s=a:s[e]=a,o[d][i]){if(r>-1?o[d][i][r]=Object.assign({},o[d][i][r],s):Array.isArray(s)?o[d][i]=Object(n.a)(s):o[d][i]=Object.assign({},o[d][i],s),F&&o[d].original_id){var u=o[d].id,m=c.find(function(e){return u===e[e.length-1].id});if(!m){var p=j.a.getNodeTree(o[d],o);c.push(p)}Y(c)}T(o)}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,o=e,c=Object(n.a)(t);return r.map(function(e){var t="NODE-NEW-"+(W+o).toString().padStart(3,"0"),r=Object.assign({},i),d=c[e.index].level+1,s=Object(n.a)(r.tree_path);s[2]=e.planType?e.planType:C,s[l]=e.code,r.id=t,r.level=d,r.tree_path=s,5===d&&(r.type="BenefitCategory"),6===d&&(r.type="BenefitType"),7===d&&(r.type="Benefit"),8===d&&(r.type="Sub-Benefit");var u=Object.assign({},a,r);delete u.original_children,delete u.original_id;var m=Object(n.a)(c[e.index].children);m.includes(t)||m.push(t),c[e.index].children=m,c.push(u),o++}),[o,c]},Ue=function(e,a,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=Object(n.a)(t),c=[];F&&q&&(c=Object(n.a)(q));var d=o.findIndex(function(e){return e.id===i}),s={};if(r>-1&&l?(s=Object.assign({},o[d].custom_metadata))[e]&&(s[e][r][l]=a):s[e]=a,o[d].custom_metadata){if("BASE"!==C)o[d].custom_metadata=Object.assign({},o[d].custom_metadata,s),o[d].edited=!0;else{o[d].custom_metadata=Object.assign({},o[d].custom_metadata,s);var m=o[d];u.map(function(e){if("BASE"!==e.code){var t=j.a.getMatchByPlanCode(o,m,e.code);!1===o[t].edited&&(o[t].custom_metadata=Object.assign({},o[t].custom_metadata,s))}})}if(F&&o[d].original_id){var p=o[d].id,f=c.find(function(e){return p===e[e.length-1].id});if(!f){var g=j.a.getNodeTree(o[d],o);c.push(g)}Y(c)}}T(o)},Ve=function(e,a,i){var r=Object(n.a)(t),l=r.findIndex(function(t){return 5===t.level&&t.code===i&&t.tree_path[2]===e&&t.tree_path[3]===a&&t.tree_path[4]===i});r[l].included=!0,T(r),te(null)};return r.createElement("div",null,r.createElement(o.a,{container:!0,className:L.gridContainer},r.createElement(o.a,{item:!0,sm:12,className:Fe.titleHeader},k||B?null:r.createElement(r.Fragment,null,r.createElement(V.a,{gutterBottom:!0,style:{marginRight:"20px"},className:L.sectionTitle},"Standard Benefit Plan"),r.createElement(V.a,{display:"inline",className:L.subSectionTitle,gutterBottom:!0},"You are currently customizing this benefit plan")),k?r.createElement(V.a,{gutterBottom:!0,className:L.sectionTitle},"Customized Proposal"):null,B?r.createElement(V.a,{gutterBottom:!0,className:L.sectionTitle},"Review Benefits"):null),r.createElement(b.a,{classes:L,contractNode:a,setChangeBenefitForm:function(e){var a=Object(n.a)(t),i=[];F&&q&&(i=Object(n.a)(q));var r=a.findIndex(function(e){return 2===e.level&&"CT"===e.code}),l=new RegExp(/^\d+(?:\.\d{0,2})?$/);if("budget_per_head"===e.target.name||"total_company_budget"===e.target.name||"own_computation"===e.target.name||"competitors_rates"===e.target.name||"requested_premium"===e.target.name)if(console.log("benefit: "+e.target.value),e.target.value=e.target.value.trim().replace(/,/g,""),0===e.target.value.length&&(e.target.value=0),l.test(e.target.value)){console.log("in");var o={};if(0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value=0:0===e.target.value.indexOf("0")&&"."!==e.target.value.substring(1,2)&&(e.target.value=e.target.value.substring(1)),o[e.target.name]=e.target.value,a[r].custom_metadata){if(a[r].custom_metadata=Object.assign({},a[r].custom_metadata,o),F&&a[r].original_id){var c=a[r].id;if(!i.find(function(e){return c===e[e.length-1].id})){var d=[{id:a[r].id,name:a[r].name,code:a[r].code}];a[r].original_id&&(d[0].original_id=a[r].original_id),i.push(d)}Y(i)}T(a)}}else{if(F&&a[r].original_id){var s=a[r].id;if(!i.find(function(e){return s===e[e.length-1].id})){var u=[{id:a[r].id,name:a[r].name,code:a[r].code}];a[r].original_id&&(u[0].original_id=a[r].original_id),i.push(u)}Y(i)}T(a)}else{var m={};if(m[e.target.name]=e.target.value,a[r].custom_metadata){if(a[r].custom_metadata=Object.assign({},a[r].custom_metadata,m),F&&a[r].original_id){var p=a[r].id;if(!i.find(function(e){return p===e[e.length-1].id})){var f=[{id:a[r].id,name:a[r].name,code:a[r].code}];a[r].original_id&&(f[0].original_id=a[r].original_id),i.push(f)}Y(i)}T(a)}}},viewOnly:B||!1}),r.createElement(o.a,{item:!0,sm:12},r.createElement(m.a,{selectedPlanType:C,planTypeList:u,setSelectedPlanType:A,setModalOpen:function(){X(!0)},viewOnly:B||!1,showEditPlanType:function(e,a){var i=Object(n.a)(t),r=i.findIndex(function(t){return t.id===e&&t.name.toLowerCase()===a.toLowerCase()});void 0!==r&&-1!==r&&(se(!0),fe(e),be(a),ye(i[r]))}})),r.createElement(o.a,{item:!0,sm:12},r.createElement(c.a,{variant:"middle"})),r.createElement(o.a,{item:!0,sm:2},r.createElement(f.a,{selectedBenefitCategory:S,roomAndBoardList:h,riderList:y,coverageList:O,setSelectedPlanPackage:I,setSelectedBenefitCategory:D,deleteBenefitCategory:function(e){var a=Object(n.a)(t);console.log(e);var i=a.findIndex(function(t){return 5===t.level&&t.code===e.tree_path[4]&&t.tree_path[2]===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]}),r=j.a.getDescendants(a[i],a);a[i].included=!1,r.map(function(e){var t=a.findIndex(function(t){return e.id===t.id});t>-1&&(a[t].included=!1)}),T(a)},setPopoverOpen:function(e,t){var a=e.currentTarget,n=[];"CV"===t&&(n=O.filter(function(e){return!e.included})),"RI"===t&&(n=y.filter(function(e){return!e.included})),re(n),te(a)},viewOnly:B||!1,selectedPlanType:C})),r.createElement(o.a,{item:!0,sm:10},r.createElement(p.a,{selectedPlanType:C,selectedBenefitCategory:S,setRowSelection:B?function(){}:function(e){var a=Object(n.a)(t),i=[];F&&q&&(i=Object(n.a)(q)),e.map(function(e){var t=a.findIndex(function(t){return t.id===e.id});if("EX"===S&&a[t].custom_metadata){if(void 0!==a[t].custom_metadata.is_excluded&&a[t].custom_metadata.is_excluded!==e.included&&(a[t].custom_metadata.is_excluded=e.included,F&&a[t].original_id)){var r=a[t].id;if(!i.find(function(e){return r===e[e.length-1].id})){var l=j.a.getNodeTree(a[t],a);i.push(l)}}}else if(a[t].included!==e.included){var o=j.a.getNodeTree(a[t],a),c=j.a.getDescendants(a[t],a),d=[].concat(Object(n.a)(o),Object(n.a)(c));!0===e.included?(d.map(function(t){var n=a.findIndex(function(e){return t.id===e.id});n>-1&&(a[n].included=e.included)}),"BASE"===C&&"SH"!==S&&u.map(function(i){if("BASE"!==i.code){var r=j.a.getMatchByPlanCode(a,a[t],i.code),l=j.a.getNodeTree(a[r],a),o=j.a.getDescendants(a[r],a);[].concat(Object(n.a)(l),Object(n.a)(o)).map(function(t){var n=a.findIndex(function(e){return t.id===e.id});n>-1&&(a[n].included=e.included)})}})):!1===e.included&&(a[t].included=e.included,c.map(function(t){var n=a.findIndex(function(e){return t.id===e.id});n>-1&&(a[n].included=e.included)}))}}),F&&Y(i),T(a)},setRowLimits:B?function(){}:function(e,a,i){var r=Object(n.a)(t),l=[];F&&q&&(l=Object(n.a)(q));var o=r.findIndex(function(e){return e.id===a}),c=e.target.value,d=e.target.name,s=Object(n.a)(r[o].limits);if(r[o].limits){if("limit_type"===d){var m=c.reduce(function(e,t){var a=R.j.find(function(e){return e.label===t});if(a){var n=s.find(function(e){return e.type===a.type&&e.limit_unit===a.limit_unit});if(n)e.push(n);else{var i={type:a.type,limit:0,limit_unit:a.limit_unit,daily_limit:0};e.push(i)}}return e},new Array);s=Object(n.a)(m)}else if(["limit","daily_limit"].includes(d)){var p=Object.assign({},s[i]);p[d]=parseFloat(c),s[i]=p}if("BASE"!==C)r[o].limits=s,r[o].edited=!0;else{r[o].limits=s;var f=r[o];u.map(function(e){if("BASE"!==e.code){var t=j.a.getMatchByPlanCode(r,f,e.code);!1===r[t].edited&&(r[t].limits=s)}})}if(F&&r[o].original_id){var g=r[o].id;if(!l.find(function(e){return g===e[e.length-1].id})){var E=j.a.getNodeTree(r[o],r);l.push(E)}Y(l)}T(r)}},setRowMetadata:B?function(){}:function(e,t){Ue(e.target.name,e.target.value,t)},setRowMetadata2:B?function(){}:Ue,setSubForm:B?function(){}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom_metadata",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if("number"===e.target.type&&e.target.min){var n=e.target.min;0===e.target.value.length&&(e.target.value="0"),0===e.target.value.indexOf("0")&&1===e.target.value.length?e.target.value="0":0===e.target.value.indexOf("0")&&"."!==e.target.value.substring(1,2)&&(e.target.value=e.target.value.substring(1)),(""===e.target.value||e.target.value>=n)&&Be(e.target.name,e.target.value,t,a)}else"mobile_ape_availees"===e.target.name&&(e.target.value.replace("-",""),e.target.value.replace(".",""),0===e.target.value.indexOf("0")&&e.target.value.length>0&&(e.target.value=e.target.value.substring(1))),Be(e.target.name,e.target.value,t,a)},setSubForm2:B?function(){}:Be,createCivilStatus:B?function(){}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Object(n.a)(t),l=[],o=[],c=[],d=null,s=0,m=6,p=7;if("BASE"===C&&(c=u.reduce(function(e,t){return e.push(t.code),e},new Array)),l=r.reduce(function(e,t,a){if(t.level===m&&(c.length>1?c.includes(t.tree_path[2]):t.tree_path[2]===C)&&t.tree_path[3]===N&&t.tree_path[4]===S){var n={index:a,code:t.code,planType:t.tree_path[2]};e.push(n)}return e},new Array),(o=r.reduce(function(e,t){return t.level===p&&t.tree_path[2]===C&&t.tree_path[3]===N&&t.tree_path[4]===S&&e.push(t),e},new Array)).length>0&&(d=o[0]),null!==d){var f={name:e,code:e.replace(/[^A-Z]/g,""),description:a,metadata:{},metadata_schema:{},included:!0,children:[],custom_metadata:Object.assign({title:e}),custom_metadata_schema:{properties:{title:{type:"string"}},required:[]},tree_path:["MCT","CT","",N,S,"",e.replace(/[^A-Z]/g,"")]},g=Me(0,r,d,f,l,5),E=Object(i.a)(g,2);s=E[0],r=E[1],T(r),x(W+s)}},createRelationship:B?function(){}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=Object(n.a)(t),d=[],s=[],m=[],p=null,f=0,g=o.level,E=g+1;if("BASE"===C&&(s=u.reduce(function(e,t){return e.push(t.code),e},new Array)),d=c.reduce(function(e,t,a){if(t.level===g&&t.name===o.name&&t.code===o.code&&(s.length>1?s.includes(t.tree_path[2]):t.tree_path[2]===o.tree_path[2])&&t.tree_path[3]===o.tree_path[3]&&t.tree_path[4]===o.tree_path[4]&&t.tree_path[5]===o.tree_path[5]&&t.tree_path[6]===o.tree_path[6]){var n={index:a,code:t.code,planType:t.tree_path[2]};e.push(n)}return e},new Array),(m=c.reduce(function(e,t){return t.level===E&&t.tree_path[2]===C&&t.tree_path[3]===N&&t.tree_path[4]===S&&e.push(t),e},new Array)).length>0&&(p=m[0]),null!==p){var v={name:e,code:a,description:r,metadata:{},metadata_schema:{},included:!0,children:[],custom_metadata:Object.assign({title:e},l),custom_metadata_schema:{properties:{title:{type:"string"}},required:[]},tree_path:["MCT","CT","",N,S,"DP","",e.replace(/\s+/g,"").toUpperCase()]},b=Me(0,c,p,v,d,6),_=Object(i.a)(b,2);f=_[0],c=_[1],T(c),x(W+f)}},deleteCivilStatus:B?function(){}:function(e){var a=Object(n.a)(t),i=a.find(function(t){return t.id===e}),r=a.reduce(function(e,t){return 6===t.level&&t.tree_path[2]===C&&t.tree_path[3]===N&&t.tree_path[4]===S&&e.push(t.code),e},new Array).reduce(function(e,t){var r=a.find(function(e){return 7===e.level&&e.tree_path[2]===i.tree_path[2]&&e.tree_path[3]===i.tree_path[3]&&e.tree_path[4]===i.tree_path[4]&&e.tree_path[5]===t&&e.tree_path[6]===i.tree_path[6]});if(r){var l=j.a.getDescendants(r,a);console.log(i,r,l);var o=[r].concat(Object(n.a)(l)).reduce(function(e,t){return e.push(t.id),e},new Array);return[].concat(Object(n.a)(e),Object(n.a)(o))}return e},new Array);a=a.map(function(e){if(r.includes(e.id)){var t=Object.assign({},e);return console.log(t),t.included=!1,t}return e}),T(a)},subFormNode:l,rows:s,viewOnly:B||!1})),r.createElement(d.a,{open:le,anchorEl:ee,onClose:function(){te(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.createElement(g.a,{classes:Le},ie.length>0?ie.map(function(e){return e.name&&e.code?r.createElement(E.a,{button:!0,key:"".concat(e.code),onClick:function(){return t=void 0!==e.tree_path[2]?e.tree_path[2]:null,a=void 0!==e.tree_path[3]?e.tree_path[3]:null,n=void 0!==e.tree_path[4]?e.tree_path[4]:null,void Ve(t,a,n);var t,a,n}},r.createElement(v.a,{disableTypography:!0,primary:"".concat(e.name)})):null}):r.createElement(E.a,null,r.createElement(v.a,{disableTypography:!0,primary:"Cannot add more."}))))),r.createElement(P,{planTypeList:u,onClose:function(){X(!1)},isModalOpen:Q,onSubmit:function(e){var a=Object(n.a)(t),i=e.planType?e.planType:"BASE";""===i&&(i="BASE");var r=Object(w.generatePlanNodes)(a,e.name,e.code,e,i),l=r.planNodes,o=r.planTypeID,c=a.findIndex(function(e){return 2===e.level&&"CT"===e.code});a[c].children.push(o),T([].concat(Object(n.a)(a),Object(n.a)(l)))}}),r.createElement(M,{planTypeList:u,plan_type_id:pe,plan_type_name:ve,benefitNode:Oe,onClose:function(){se(!1),fe(""),be(""),ye({})},isModalOpen:de,onSubmit:function(e,a,i){var r=Object(n.a)(t),l=[];F&&q&&(l=Object(n.a)(q));var o=r.findIndex(function(e){return e.id===a&&e.name.toLowerCase()===i.toLowerCase()}),c="";if(void 0!==o&&-1!==o){var d={requested_rate:0,indicative_principals:0,indicative_dependents:0,title:""};if(e.name&&void 0!==e.name&&(r[o].name=e.name,r[o].code=e.name,c=e.name),e.requested_rate&&void 0!==e.requested_rate&&(d.requested_rate=e.requested_rate),e.indicative_principals&&void 0!==e.indicative_principals&&(d.indicative_principals=e.indicative_principals),e.indicative_dependents&&void 0!==e.indicative_dependents&&(d.indicative_dependents=e.indicative_dependents),e.title&&void 0!==e.title&&(d.title=e.title),r[o].custom_metadata?r[o].custom_metadata=Object.assign({},r[o].custom_metadata,d):(r[o].custom_metadata={},r[o].custom_metadata_schema||(r[o].custom_metadata_schema={}),r[o].custom_metadata=Object.assign({},r[o].custom_metadata,d),r[o].custom_metadata_schema={properties:{title:{type:"string"},requested_rate:{type:"number"},indicative_principals:{type:"number"},indicative_dependents:{type:"number"}}}),""!==c&&(r=r.map(function(e){if(e.tree_path&&(Array.isArray(e.tree_path)&&e.tree_path.length>0||"object"===typeof e.tree_path&&Object.values(e.tree_path).length>0))for(var t in e.tree_path)if(e.tree_path[t]&&i&&e.tree_path[t].toLowerCase()===i.replace(/\s+/g,"").toLowerCase()){e.tree_path[t]=c;break}return e})),F&&r[o].original_id){var s=r[o].id;if(!l.find(function(e){return s===e[e.length-1].id})){var u=j.a.getNodeTree(r[o],r);l.push(u)}Y(l)}A(c),T(r)}},onDelete:function(){se(!1),xe("Delete Plan Type"),Pe(r.createElement("div",null,"This action will delete the plan type ",r.createElement("span",{style:{fontWeight:700}}," ",Oe.name," ")," along with all of the benefits you have added. Are you sure you want to perform this action?")),Te(!0)}}),r.createElement(U.a,{isModalOpen:Se,title:je,message:De,onClose:function(){Te(!1),se(!0)},buttons:r.createElement("div",null,r.createElement(_.a,{onClick:function(){Te(!1),se(!0)},className:ke.cancelButton,variant:"contained",color:"secondary"},"Cancel"),r.createElement(_.a,{onClick:function(){!function(e,a){var i=Object(n.a)(t),r=[];for(var l in i)if(i[l].id!==e)if(i[l].tree_path&&(Array.isArray(i[l].tree_path)&&i[l].tree_path.length>0||"object"===typeof i[l].tree_path&&Object.values(i[l].tree_path).length>0)){var o=!1;for(var c in i[l].tree_path)if(i[l].tree_path[c]&&a&&i[l].tree_path[c].toLowerCase()===a.replace(/\s+/g,"").toLowerCase()){o=!0;break}o||r.push(i[l])}else i[l].tree_path&&void 0!==i[l].tree_path||r.push(i[l]);T(r),A("BASE"),Te(!1),Pe(""),xe(""),se(!1),fe(""),be(""),ye({})}(pe,ve)},className:ke.deleteButton,variant:"contained",color:"primary"},"Delete"))}))}},751:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(52),i=a(53),r="http://18.140.39.215/api/1.0/workflow/",l=function(){function e(){Object(n.a)(this,e)}return Object(i.a)(e,null,[{key:"getWithToken",value:function(e,t){console.log("token: ",t);var a=r+e;return console.log("get url: ",a,t),fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("pm_token")}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"postWithToken",value:function(e,t,a){console.log("token: ",t);var n=r+e;return console.log("post url: ",n,a),fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("pm_token")},body:JSON.stringify(a)}).then(function(e){return console.log("response",e),e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"put",value:function(e,t,a){console.log("token: ",t);var n=r+e;return console.log("post url: ",n,a),fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("pm_token")},body:JSON.stringify(a)}).then(function(e){return console.log("response",e),e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"post",value:function(e,t){var a=r+e;return console.log("post url: ",a,t),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return console.log("response",e),e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"postLogin",value:function(e,t){var a="http://18.140.39.215/workflow/"+e;return console.log("post url: ",a,t),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return console.log("response",e),e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"postClaim",value:function(e){return fetch(r+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("pm_token")}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}}]),e}()},757:function(e,t,a){"use strict";a.d(t,"k",function(){return v}),a.d(t,"a",function(){return p}),a.d(t,"c",function(){return g}),a.d(t,"o",function(){return b}),a.d(t,"n",function(){return _}),a.d(t,"m",function(){return h}),a.d(t,"r",function(){return L}),a.d(t,"t",function(){return x}),a.d(t,"x",function(){return k}),a.d(t,"A",function(){return B}),a.d(t,"u",function(){return M}),a.d(t,"z",function(){return U}),a.d(t,"B",function(){return F}),a.d(t,"q",function(){return y}),a.d(t,"w",function(){return C}),a.d(t,"s",function(){return N}),a.d(t,"v",function(){return S}),a.d(t,"y",function(){return T}),a.d(t,"e",function(){return E}),a.d(t,"h",function(){return l}),a.d(t,"p",function(){return o}),a.d(t,"l",function(){return c}),a.d(t,"j",function(){return d}),a.d(t,"d",function(){return s}),a.d(t,"b",function(){return u}),a.d(t,"i",function(){return f}),a.d(t,"g",function(){return m}),a.d(t,"f",function(){return O});var n=a(208),i=a(211),r=function(e,t){return e.reduce(function(e,a){var n=Object.assign({},a),i=[];return n.children.map(function(e){var a=t.find(function(t){return e===t.id});if(a){var n=Object.assign({},a);n.disabled=!1,i.push(n)}}),n.child_nodes=i,n.disabled=!1,e.push(n),e},[])},l=function(e,t){return e.filter(function(e){return e.level===t})},o=function(e,t,a){return e.filter(function(e){return e.tree_path[2]===t&&e.tree_path[3]===a})},c=function(e,t,a,i,l,o,c,d){var s,u=[];if(["EX"].includes(d))e.length>0&&(u=e.reduce(function(e,t){if(t[0].code===o){var n=Object.assign({},t[t.length-1]),i=Object.assign({},t[t.length-2]);n.parent_name=i.name,n.parent_code=i.code,n.disabled=!1,n.included=!1;var r=a.find(function(e){return e.id===n.id});if(r&&r.custom_metadata&&void 0!==r.custom_metadata.is_excluded){var l=Object.assign({},r.custom_metadata);n.included=l.is_excluded}e.push(n)}return e},[]));else if(["ID","NT"].includes(d)){var m=t.filter(function(e){return e.tree_path[2]===o&&e.tree_path[3]===d}),p=a.filter(function(e){return e.tree_path[2]===o&&e.tree_path[3]===d});u=r(m,p)}else if(["EL"].includes(d)){var f=i.filter(function(e){return e.tree_path[2]===o&&e.tree_path[3]===c&&e.tree_path[4]===d&&"DP"===e.tree_path[5]}),g=l.filter(function(e){return e.tree_path[2]===o&&e.tree_path[3]===c&&e.tree_path[4]===d&&"DP"===e.tree_path[5]});u=r(f,g),"BASE"!==o&&(u=u.map(function(e){return e.child_nodes.map(function(e){var t=l.find(function(t){return t.name===e.name&&t.code===e.code&&"BASE"===t.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]&&t.tree_path[6]===e.tree_path[6]&&t.tree_path[7]===e.tree_path[7]});return t&&!0===t.included?e.disabled=!0:e.disabled=!1,e}),e}))}else if(["RBC"].includes(d))u=(u=(u=Object(n.a)(t)).filter(function(e){return e.tree_path[2]===o&&e.tree_path[3]===c})).map(function(e){return e.disabled=!1,e});else{if(["EM","DNT","CC","EC","PV","SH","ADD","SD"].includes(d))return u=(u=Object(n.a)(a)).filter(function(e){return e.tree_path[2]===o&&e.tree_path[3]===c&&e.tree_path[4]===d}),u="BASE"!==o&&"SH"!==d?u.map(function(e){var t=a.find(function(t){return t.name===e.name&&t.code===e.code&&"BASE"===t.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]});return t&&!0===t.included?e.disabled=!0:e.disabled=!1,e}):u.map(function(e){return e.disabled=!1,e});if(["MT","APE","IP","OP","OM","PPE"].includes(d)){var E=a.filter(function(e){return e.tree_path[2]===o&&e.tree_path[4]===d}),v=i.filter(function(e){return e.tree_path[2]===o&&e.tree_path[3]===c&&e.tree_path[4]===d});s=v,u=E.reduce(function(e,t){return t.children.map(function(a){var n=s.find(function(e){return a===e.id});if(n){var i=Object.assign({},n);i.parent_name=t.name,i.parent_code=t.code,i.disabled=!1,e.push(i)}}),e},[]),"BASE"!==o&&(u=u.map(function(e){var t=i.find(function(t){return t.name===e.name&&t.code===e.code&&"BASE"===t.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&t.tree_path[5]===e.tree_path[5]&&t.tree_path[6]===e.tree_path[6]});return t&&!0===t.included?e.disabled=!0:e.disabled=!1,e}))}else u=i.filter(function(e){return e.tree_path[2]===o&&e.tree_path[3]===c&&e.tree_path[4]===d})}return"EX"!==d&&(u=u.filter(function(e){return!e.custom_metadata||void 0===e.custom_metadata.standard_exclusion||!e.custom_metadata.standard_exclusion})),u},d=function(e,t,a,i){console.debug(a);var r=["EM","SD","PV"],l=["DNT","EC","CC","SH","ADD"],o=[].concat(Object(n.a)(t),Object(n.a)(a),Object(n.a)(i));return e.map(function(e){return e.count=o.reduce(function(n,i){if(6===i.level&&i.tree_path[2]===e.code&&i.included&&["CV"].includes(i.tree_path[3])&&r.includes(i.tree_path[4]))if("BASE"!==i.tree_path[2]){var o=a.find(function(e){return e.name===i.name&&e.code===i.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===i.tree_path[3]&&e.tree_path[4]===i.tree_path[4]&&e.tree_path[5]===i.tree_path[5]});o&&!o.included&&(console.debug("RESULT 3",i.name),n++)}else console.debug("RESULT 4",i.name,i.included),n++;else if(6===i.level&&i.tree_path[2]===e.code&&i.included&&["RI"].includes(i.tree_path[3])&&l.includes(i.tree_path[4]))if("BASE"!==i.tree_path[2]){var c=a.find(function(e){return e.name===i.name&&e.code===i.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===i.tree_path[3]&&e.tree_path[4]===i.tree_path[4]&&e.tree_path[5]===i.tree_path[5]});c&&!c.included&&"SH"!==i.tree_path[4]&&(console.debug("RESULT 6",i.name),n++)}else console.debug("RESULT 7",i.name,i.included),n++;else if(7===i.level&&i.tree_path[2]===e.code&&i.included&&!["EM","EC","EL"].includes(i.tree_path[4]))if("BASE"!==i.tree_path[2]){var d=t.find(function(e){return e.name===i.name&&e.code===i.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===i.tree_path[3]&&e.tree_path[4]===i.tree_path[4]&&e.tree_path[5]===i.tree_path[5]&&e.tree_path[6]===i.tree_path[6]});d&&!d.included&&(console.debug("RESULT 1",i.name),n++)}else console.debug("RESULT 2",i.name,i.included),n++;else if(8===i.level&&i.tree_path[2]===e.code&&i.included&&!["OP"].includes(i.tree_path[4]))if("BASE"!==i.tree_path[2]){var s=t.find(function(e){return e.name===i.name&&e.code===i.code&&"BASE"===e.tree_path[2]&&e.tree_path[3]===i.tree_path[3]&&e.tree_path[4]===i.tree_path[4]&&e.tree_path[5]===i.tree_path[5]&&e.tree_path[6]===i.tree_path[6]});s&&!s.included&&(console.debug("RESULT 1",i.name),n++)}else console.debug("RESULT 2",i.name,i.included),n++;return n},0),e})},s=function(e){return e.find(function(e){return"CT"===e.code})},u=function(e,t,a,n,i){return["RBC","EX"].includes(i)?e.find(function(e){return e.code===n&&e.tree_path[2]===a&&e.tree_path[3]===n}):"NT"===i?e.find(function(e){return e.code===i&&e.tree_path[2]===a&&e.tree_path[3]===i}):t.find(function(e){return e.code===i&&e.tree_path[2]===a&&e.tree_path[3]===n&&e.tree_path[4]===i})},m=function(e){return e.pages.createProposal.exclusionList},p=function(e){return e.pages.createProposal.benefitNodes},f=function(e){return e.pages.createProposal.newNodeCounter},g=function(e){return e.pages.createProposal.clientData},E=function(e){return e.pages.createProposal.contractType},v=function(e){return e.pages.createProposal.proposalInfo},b=function(e){return e.pages.createProposal.selectedPlanType},_=function(e){return e.pages.createProposal.selectedPlanPackage},h=function(e){return e.pages.createProposal.selectedBenefitCategory},O=function(e){return e.pages.createProposal.editedNodeList},y=Object(i.a)(g,function(e){return e.businessData}),C=Object(i.a)(g,function(e){return e.natureData}),N=Object(i.a)(g,function(e){return e.contactDetailsData}),S=Object(i.a)(g,function(e){return e.HMOData}),T=Object(i.a)(g,function(e){return e.principalData}),A=Object(i.a)(p,function(e){return l(e,2)}),I=Object(i.a)(p,function(e){return l(e,3)}),D=Object(i.a)(p,function(e){return l(e,4)}),P=Object(i.a)(p,function(e){return l(e,5)}),R=Object(i.a)(p,function(e){return l(e,6)}),w=Object(i.a)(p,function(e){return l(e,7)}),j=Object(i.a)(p,function(e){return l(e,8)}),x=Object(i.a)(A,function(e){return s(e)}),L=Object(i.a)(D,P,b,_,h,function(e,t,a,n,i){return u(e,t,a,n,i)}),k=Object(i.a)(I,w,R,j,function(e,t,a,n){return d(e,t,a,n)}),F=Object(i.a)(m,P,R,w,j,b,_,h,function(e,t,a,n,i,r,l,o){return c(e,t,a,n,i,r,l,o)}),B=Object(i.a)(P,b,function(e,t){return o(e,t,"RB")}),M=Object(i.a)(P,b,function(e,t){return o(e,t,"CV")}),U=Object(i.a)(P,b,function(e,t){return o(e,t,"RI")})},758:function(e,t,a){"use strict";a.r(t);var n=a(269),i=a(208),r=a(29),l=a(0),o=a.n(l),c=a(127),d=a(923),s=a(921),u=a(164),m=a(741),p=a.n(m),f=a(80),g=a(123),E=a(736),v=a(757),b=a(769),_=a(271),h=a(683),O=a(262),y=a(205),C=a(260),N=a(1111),S=a(376),T=a(681),A=a(163),I=a(1114),D=a(1),P=a(4),R=(a(3),a(7)),w=a(8),j=a(267),x=o.a.forwardRef(function(e,t){var a=e.children,n=e.classes,i=e.className,r=e.focusVisibleClassName,l=Object(P.a)(e,["children","classes","className","focusVisibleClassName"]);return o.a.createElement(j.a,Object(D.a)({className:Object(R.default)(n.root,i),focusVisibleClassName:Object(R.default)(r,n.focusVisible),ref:t},l),a,o.a.createElement("span",{className:n.focusHighlight}))}),L=Object(w.a)(function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}},{name:"MuiCardActionArea"})(x),k=a(1115),F=(a(57),a(70),a(36)),B=a(28),M=a(45),U=a(46),V=a(47),H=a(2),G=a(6),z=(a(10),a(17),a(77),a(214),a(42)),W=a(129),Y=(a(101),a(215),a(216),a(279)),q={cacheOptions:!1,defaultOptions:!1,filterOption:null},K=function(e){var t,a;return a=t=function(t){function a(e){var t;return Object(F.a)(this,a),t=Object(M.a)(this,Object(U.a)(a).call(this)),Object(G.a)(Object(H.a)(Object(H.a)(t)),"select",void 0),Object(G.a)(Object(H.a)(Object(H.a)(t)),"lastRequest",void 0),Object(G.a)(Object(H.a)(Object(H.a)(t)),"mounted",!1),Object(G.a)(Object(H.a)(Object(H.a)(t)),"optionsCache",{}),Object(G.a)(Object(H.a)(Object(H.a)(t)),"handleInputChange",function(e,a){var n=t.props,i=n.cacheOptions,r=n.onInputChange,l=Object(z.k)(e,a,r);if(!l)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(i&&t.optionsCache[l])t.setState({inputValue:l,loadedInputValue:l,loadedOptions:t.optionsCache[l],isLoading:!1,passEmptyOptions:!1});else{var o=t.lastRequest={};t.setState({inputValue:l,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},function(){t.loadOptions(l,function(e){t.mounted&&(e&&(t.optionsCache[l]=e),o===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:l,loadedOptions:e||[],passEmptyOptions:!1})))})})}return l}),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"undefined"!==typeof e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return Object(V.a)(a,t),Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,a=this.state.inputValue;!0===t&&this.loadOptions(a,function(t){if(e.mounted){var a=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:a})}})}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var a=this.props.loadOptions;if(!a)return t();var n=a(e,t);n&&"function"===typeof n.then&&n.then(t,function(){return t()})}},{key:"render",value:function(){var t=this,a=this.props,n=(a.loadOptions,Object(P.a)(a,["loadOptions"])),i=this.state,r=i.defaultOptions,l=i.inputValue,c=i.isLoading,d=i.loadedInputValue,s=i.loadedOptions,u=i.passEmptyOptions?[]:l&&d?s:r||[];return o.a.createElement(e,Object(D.a)({},n,{ref:function(e){t.select=e},options:u,isLoading:c,onInputChange:this.handleInputChange}))}}]),a}(l.Component),Object(G.a)(t,"defaultProps",q),a}(Object(Y.a)(W.a)),Z=a(50),Q=a(735),X=a(37),J=a(43),$=a(677),ee=a(51),te=a(59);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ie=Object(J.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2)},dialogContent:{overflow:"visible"}}}),re=Object(J.a)({card:{marginBottom:"10px",maxWidth:475,border:"1px solid #0000001A",boxShadow:"none",opacity:.2},cardSelected:{marginBottom:"10px",maxWidth:475,border:"1px solid #3AB77D",boxShadow:"none"},content:{textAlign:"center"},title:{fontSize:"14px",fontWeight:"bold"},subtitle:{fontSize:"14px"},imageArea:{width:"100%",backgroundColor:"#E6F5F6",textAlign:"center",padding:"16px"}}),le=Object(J.a)(function(e){return Object($.a)({root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:2e3,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}})}),oe={indicatorsContainer:function(e){return ne({},e,{position:"absolute",top:"-12px",right:"-6px",padding:"14px 16px"})}},ce=function(e){var t=e.inputRef,a=Object(_.a)(e,["inputRef"]);return o.a.createElement("div",Object.assign({ref:t},a))},de={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,i=e.selectProps.TextFieldProps;return o.a.createElement(S.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:ce,inputProps:ne({ref:n,children:t},a),startAdornment:o.a.createElement(N.a,{position:"start"},o.a.createElement(ee.a,{icon:te.x}))}},i))},Menu:function(e){return o.a.createElement(A.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)}},se=function(e){var t=ie(),a=re(),i=le(),r=Object(l.useState)(null),d=Object(n.a)(r,2),s=d[0],u=d[1],m=function(){u(null),e.onClose()},p="sme";return e.clientData.principalData.numOfPrincipals>100&&(p="benefit"),o.a.createElement(h.a,{id:"contract-modal",open:e.isModalOpen,onClose:m,"aria-labelledby":"contract-modal-title",maxWidth:"sm",className:t.dialog},o.a.createElement(C.a,{id:"contract-modal-title"},"Create a Proposal"),o.a.createElement(y.a,{className:t.dialogContent},o.a.createElement(X.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},o.a.createElement(X.a,{item:!0,sm:6},o.a.createElement(Q.a,{label:"Company",value:e.clientData.businessData.registeredCorporateName})),o.a.createElement(X.a,{item:!0,sm:6},o.a.createElement(Q.a,{label:"Principals",value:e.clientData.principalData.numOfPrincipals})),o.a.createElement(X.a,{item:!0,sm:6},o.a.createElement(Q.a,{label:"Industry",value:e.clientData.natureData.industry})),o.a.createElement(X.a,{item:!0,sm:6},o.a.createElement(Q.a,{label:"Dependents",value:e.clientData.principalData.numOfDependents})),o.a.createElement(X.a,{item:!0,sm:12},o.a.createElement(Z.a,{align:"center",variant:"h6"},"This template is ideal for this company")),o.a.createElement(X.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},o.a.createElement(X.a,{item:!0,xs:4},o.a.createElement(I.a,{className:"sme"===p?a.cardSelected:a.card},o.a.createElement(L,{disabled:"sme"!==p},o.a.createElement("div",{className:a.imageArea},o.a.createElement("img",{src:"shop@2x.png"})),o.a.createElement(k.a,{className:a.content},o.a.createElement(Z.a,{gutterBottom:!0,className:a.title,color:"primary",variant:"body1"},"Standard SME"),o.a.createElement(Z.a,{className:a.subtitle,variant:"body1"},"< 100 employees"))))),o.a.createElement(X.a,{item:!0,xs:4},o.a.createElement(I.a,{className:"benefit"===p?a.cardSelected:a.card},o.a.createElement(L,{disabled:"benefit"!==p},o.a.createElement("div",{className:a.imageArea},o.a.createElement("img",{src:"condo@2x.png"})),o.a.createElement(k.a,{className:a.content},o.a.createElement(Z.a,{gutterBottom:!0,className:a.title,color:"primary",variant:"body1"},"Standard Benefit"),o.a.createElement(Z.a,{className:a.subtitle,variant:"body1"},"> 100 employees")))))),"benefit"===p?o.a.createElement(o.a.Fragment,null,o.a.createElement(X.a,{item:!0,sm:12},o.a.createElement(Z.a,{align:"center",variant:"h6"},"Or you may use one of your Approved Proposals"),o.a.createElement(T.a,null,o.a.createElement(K,{menuPortalTarget:document.getElementById("contract-modal"),placeholder:"Search proposal",inputId:"search-proposal",classes:i,styles:oe,components:de,TextFieldProps:{variant:"outlined"},cacheOptions:!0,defaultOptions:!0,loadOptions:e.loadOptions,onChange:function(e){u(e)},value:s})))):null)),o.a.createElement(O.a,{className:Object(R.default)(t.dialogAction)},o.a.createElement(X.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},o.a.createElement(X.a,{item:!0,xs:3},o.a.createElement(c.a,{onClick:m,variant:"outlined",fullWidth:!0},"Cancel")),o.a.createElement(X.a,{item:!0,xs:3},o.a.createElement(c.a,{onClick:function(){return e.createProposal(p,s)},variant:"contained",color:"primary",fullWidth:!0,disabled:""===p},"Create")))))};se.defaultProps={isModalOpen:!1};var ue=a(788),me=a(743),pe=a(750),fe=a(768),ge=a(761),Ee=a(79),ve=function(e){return{payload:e,type:Ee.a.CreateProposal.SetBenefitNodes}},be=function(e){return{payload:e,type:Ee.a.CreateProposal.SetBusinessData}},_e=function(e){return{payload:e,type:Ee.a.CreateProposal.SetProposalInfo}},he=function(e){return{payload:e,type:Ee.a.CreateProposal.SetExclusionList}},Oe=function(e){return{payload:e,type:Ee.a.CreateProposal.SetNewNodeCounter}},ye=function(e){return{payload:e,type:Ee.a.CreateProposal.SetClientData}},Ce=function(e){return{payload:e,type:Ee.a.CreateProposal.SetNatureData}},Ne=function(e){return{payload:e,type:Ee.a.CreateProposal.SetPlanTypeList}},Se=function(e){return{payload:e,type:Ee.a.CreateProposal.SetContractType}},Te=function(e){return{payload:e,type:Ee.a.CreateProposal.SetSelectedPlanType}},Ae=function(e){return{payload:e,type:Ee.a.CreateProposal.SetSelectedPlanPackage}},Ie=function(e){return{payload:e,type:Ee.a.CreateProposal.SetSelectedBenefitCategory}},De=function(e){return{payload:e,type:Ee.a.CreateProposal.SetEditedNodeList}},Pe=a(751),Re=a(272),we=(a(742),a(738)),je=a(280);function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}a.d(t,"convertClientData",function(){return Be}),a.d(t,"convertNodeData",function(){return Ue}),a.d(t,"createExclusionList",function(){return Ve}),a.d(t,"generatePlanNodes",function(){return He}),a.d(t,"combineBaseBenefitNodes",function(){return Ge}),a.d(t,"getInvalidFields",function(){return ze}),a.d(t,"getClientPayload",function(){return We}),a.d(t,"CreateProposalPage",function(){return Ye}),a.d(t,"mapStateToProps",function(){return qe}),a.d(t,"mapDispatchToProps",function(){return Ke});var ke="http://api-dev.hims.veridata.com.ph:4101/api/",Fe=Object(J.a)(function(e){return{main:{backgroundColor:"#F5F7FB",padding:"32px 24px"},gridContainer:{padding:e.spacing(1),paddingBottom:"75px"},gridContainerNoPadding:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},subSectionTitle:{fontSize:16,fontWeight:400,color:"#272e4c"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(r.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}}}),Be=function(e){var t=e.branches.reduce(function(e,t){var a=[];void 0!==t.contact_numbers&&null!==t.contact_numbers&&(a=t.contact_numbers.map(function(e){return{telno:e.no?e.no:""}}));var n=[];void 0!==t.contact_persons&&null!==t.contact_persons&&(n=t.contact_persons.map(function(e){return{name:e.name?e.name:"",number:e.contact_no?e.contact_no:"",email:e.email_address?e.email_address:"",designation:e.designation?e.designation:""}}));var i={floor:t.floor?t.floor:"",unit:t.unit?t.unit:"",buildingNumber:t.bldg_no?t.bldg_no:"",buildingName:t.bldg_name?t.bldg_name:"",street:t.street?t.street:"",barangay:t.brgy?t.brgy:"",city:t.city?t.city:"",region:t.region?t.region:"",zipCode:t.zip_code?t.zip_code:"",addrTelephoneNumber:a,addrContactPerson:n};return e.push(i),e},[]),a=[];void 0!==e.main_office_address.contact_persons&&null!==e.main_office_address.contact_persons&&(a=e.main_office_address.contact_persons.reduce(function(e,t){var a={name:t.name?t.name:"",number:t.contact_no?t.contact_no:"",email:t.email_address?t.email_address:"",designation:t.designation?t.designation:""};return e.push(a),e},[]));var n=[];void 0!==e.main_office_address.contact_numbers&&null!==e.main_office_address.contact_numbers&&(n=e.main_office_address.contact_numbers.reduce(function(e,t){var a={telno:t.no?t.no:""};return e.push(a),e},[]));var i={registeredCorporateName:e.registered_name?e.registered_name:"",tradeBrandName:e.brand_name?e.brand_name:"",corporateAccountNo:e.corporate_account_no?e.corporate_account_no:"",secRegistrationNo:e.sec_reg_no?e.sec_reg_no:"",corporateTin:e.tin_no?e.tin_no:"",vatType:e.vat_type?e.vat_type:"",eVatNo:e.evat_no?e.evat_no:"",nameDisplayedInCard:e.name_on_card?e.name_on_card:"",subCompany:!1,headCompany:"",headCompanyName:e.head_company_name?e.head_company_name:"",contracts:e.contracts&&void 0!==e.contracts&&e.contracts.length>0?e.contracts:[],member_data_fields:e.member_data_fields&&void 0!==e.member_data_fields&&e.member_data_fields.length>0?e.member_data_fields:[],uploadedLogo:e.files?e.files.filter(function(e){return e.field.includes("icon")}):[]},r={industry:e.industry?e.industry:"",ownership:e.ownership?e.ownership:"",yearsOfExistence:e.years_of_existence?e.years_of_existence:0,sourcesOfFunds:e.sources_of_funds?e.sources_of_funds:""},l={floor:e.main_office_address.floor?e.main_office_address.floor:"",unit:e.main_office_address.unit?e.main_office_address.unit:"",buildingNumber:e.main_office_address.bldg_no?e.main_office_address.bldg_no:"",buildingName:e.main_office_address.bldg_name?e.main_office_address.bldg_name:"",street:e.main_office_address.street?e.main_office_address.street:"",barangay:e.main_office_address.brgy?e.main_office_address.brgy:"",city:e.main_office_address.city?e.main_office_address.city:"",region:e.main_office_address.region?e.main_office_address.region:"",zipCode:e.main_office_address.zip_code?e.main_office_address.zip_code:"",authorizedSignatoryName:e.authorized_signatory?e.authorized_signatory:"",authorizedSignatoryNumber:e.authorized_signatory_contact_no?e.authorized_signatory_contact_no:"",authorizedSignatoryEmail:e.authorized_signatory_email_address?e.authorized_signatory_email_address:"",authorizedSignatoryDesignation:e.authorized_signatory_designation?e.authorized_signatory_designation:"",telephoneNumber:n,contactPerson:a,branchAddress:t},o={previousHMOProvider:e.prev_hmo_provider?e.prev_hmo_provider:"",effectivityDate:e.prev_hmo_effectivity_date?e.prev_hmo_effectivity_date:"",expiryDate:e.prev_hmo_expiry_date?e.prev_hmo_expiry_date:"",uploadedUtilization:e.files?e.files.filter(function(e){return e.field.includes("utilization")}):[]};e.sales_channel&&void 0!==e.sales_channel&&(o.salesChannel=e.sales_channel.type?e.sales_channel.type:"",o.agentName=e.sales_channel.agent_name?e.sales_channel.agent_name:"",o.brokerCompanyName=e.sales_channel.company_name?e.sales_channel.company_name:"",o.brokerContactPerson=e.sales_channel.contact_person?e.sales_channel.contact_person:"",o.brokerPosition=e.sales_channel.position?e.sales_channel.position:"",o.brokerContactNumber=e.sales_channel.contact_no?e.sales_channel.contact_no:"",o.brokerEmailAddress=e.sales_channel.email_address?e.sales_channel.email_address:"",o.bdoName=e.sales_channel.bdo_name?e.sales_channel.bdo_name:"");var c={};return c.businessData=i,c.natureData=r,c.contactDetailsData=l,c.HMOData=o,c},Me=function(e){var t=Object(i.a)(e),a=!1;return t=t.map(function(e){return 6===e.level&&"RI"===e.tree_path[3]&&"SH"===e.tree_path[4]&&(a?e.included=!1:(e.included=!0,a=!0)),e})},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[],n=Object(i.a)(e);return t||(n=n.filter(function(e){return 1===e.level||2===e.level||e.level>2&&"BASE"===e.tree_path[2]})),n=(n=(n=n.sort(function(e,t){return 3===e.level&&"BASE"===e.code?-1:3===t.level&&"BASE"===t.code?1:e.sort_index>t.sort_index?-1:e.sort_index<t.sort_index?1:e.name>t.name?1:e.name<t.name?-1:0})).map(function(e,n){var r=e._id,l="BASE";e.level>2&&"BASE"!==e.tree_path[2]&&(l=e.tree_path[2]);var o="NODE-"+l+"-"+n.toString().padStart(3,"0");e.included=!0;var c={id:r,newID:o};if(e.custom_metadata.included_facilities&&e.custom_metadata.included_facilities.length>0){var d=Object(i.a)(e.custom_metadata.included_facilities);e.custom_metadata.partner_network_list=d.map(function(e,t){var a=Object.assign({},e);return a.parent=o,a.included=!0,a.index=t,a}),delete e.custom_metadata.included_facilities}if(e.custom_metadata.excluded_facilties&&e.custom_metadata.excluded_facilties.length>0){var s=Object(i.a)(e.custom_metadata.excluded_facilties),u=[];void 0!==e.custom_metadata.partner_network_list&&(u=Object(i.a)(e.custom_metadata.partner_network_list)),s=s.map(function(e,t){var a=Object.assign({},e);return a.parent=o,a.included=!1,a.index=t,a}),e.custom_metadata.partner_network_list=[].concat(Object(i.a)(u),Object(i.a)(s)),delete e.custom_metadata.excluded_facilties}return a.push(c),t&&(e.original_id=e._id),e.id=o,delete e._id,Object.assign({},e)})).map(function(e){return t&&(e.original_children=Object(i.a)(e.children)),e.children.length>0&&(e.children=e.children.reduce(function(e,t){var n=a.find(function(e){return e.id===t});return n&&e.push(n.newID),e},[])),e})},Ve=function(e){return e.reduce(function(t,a){if(6===a.level&&"EX"===a.tree_path[3]){var n=we.a.getNodeTree(a,e);t.push(n)}return t},[])},He=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"BASE",l=Object(i.a)(e),o="";l=l.filter(function(e){return e.level>2&&e.tree_path[2]===r});var c=[];return{planNodes:l=(l=l.map(function(e,i){var l=Object.assign({},e),d=l.id,s="NODE-"+a+"-"+i.toString().padStart(3,"0");l.level>2&&l.tree_path[2]===r&&(l.tree_path=Object.assign({},l.tree_path),l.tree_path[2]=a),3===l.level&&l.code===r&&(l.name=t,l.code=a,l.custom_metadata||(l.custom_metadata={}),l.custom_metadata_schema||(l.custom_metadata_schema={}),l.custom_metadata=Object.assign({},l.custom_metadata),l.description="Specific Plan Type Template",l.sort_index=2,l.custom_metadata.title="Benefits for "+t,l.custom_metadata.requested_rate=n.requestedRate?n.requestedRate:0,l.custom_metadata.indicative_principals=n.indicativeNumOfPrincipals?n.indicativeNumOfPrincipals:0,l.custom_metadata.indicative_dependents=n.indicativeNumOfDependents?n.indicativeNumOfDependents:0,l.custom_metadata_schema={properties:{title:{type:"string"},requested_rate:{type:"number"},indicative_principals:{type:"number"},indicative_dependents:{type:"number"}}},o=s);var u={id:d,newID:s};return c.push(u),l.id=s,l.edited=!1,delete l.original_children,delete l.original_id,l})).map(function(e){if(e.children.length>0&&(e.children=e.children.reduce(function(e,t){var a=c.find(function(e){return e.id===t});return a&&e.push(a.newID),e},[])),e.custom_metadata&&e.custom_metadata.partner_network_list){var t=Object.assign({},e.custom_metadata);t.partner_network_list=[],e.custom_metadata=t}if(e.original_node){var a=c.find(function(t){return t.id===e.original_node});a&&(e.original_node=a.newID)}return e}),planTypeID:o}},Ge=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.reduce(function(e,t){return 3===t.level&&"BASE"!==t.code&&e.push(t),e},[]),r=Object(i.a)(e);r=(r=r.filter(function(e){return!([7,8].includes(e.level)&&"TC"===e.tree_path[3]&&"EL"===e.tree_path[4])})).map(function(e){if(6===e.level&&"TC"===e.tree_path[3]&&"EL"===e.tree_path[4]){var t=Object.assign({},e);return t.children=t.children.filter(function(e){return!!r.find(function(t){return t.id===e})}),t}return e}),r=(r=n.reduce(function(e,t){var a=He(e,t.name,t.code,t),n=a.planNodes,r=a.planTypeID,l=e.findIndex(function(e){return 2===e.level&&"CT"===e.code});return e[l].children.push(r),[].concat(Object(i.a)(e),Object(i.a)(n))},r)).map(function(e){var n=Object.assign({},e),i=t.find(function(e){return 8===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]&&n.tree_path[4]===e.tree_path[4]&&n.tree_path[5]===e.tree_path[5]&&n.tree_path[6]===e.tree_path[6]&&n.tree_path[7]===e.tree_path[7]:7===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]&&n.tree_path[4]===e.tree_path[4]&&n.tree_path[5]===e.tree_path[5]&&n.tree_path[6]===e.tree_path[6]:6===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]&&n.tree_path[4]===e.tree_path[4]&&n.tree_path[5]===e.tree_path[5]:5===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]&&n.tree_path[4]===e.tree_path[4]:4===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]&&n.tree_path[3]===e.tree_path[3]:3===n.level?n.name===e.name&&n.code===e.code&&n.level===e.level&&n.tree_path[2]===e.tree_path[2]:n.name===e.name&&n.code===e.code&&n.level===e.level});if(i){var r=Object.assign({},i);delete r.id,delete r.children,delete r.node_path,delete r.tree_id,delete r.tree_path,n=Object.assign({},n,r),a&&n.level>3&&"BASE"!==n.tree_path[2]&&(n.edited=!0)}else(n.level>6||5===n.level&&"RB"===n.tree_path[3]||5===n.level&&"ID"===n.tree_path[3]||6===n.level&&"EX"===n.tree_path[3]||6===n.level&&"EM"===n.tree_path[4]||6===n.level&&"CC"===n.tree_path[4]||6===n.level&&"EC"===n.tree_path[4]||6===n.level&&"DNT"===n.tree_path[4]||6===n.level&&"ADD"===n.tree_path[4]||6===n.level&&"SH"===n.tree_path[4]||6===n.level&&"SD"===n.tree_path[4]||6===n.level&&"PV"===n.tree_path[4])&&(n.included=!1);return n}),a&&r.map(function(e,t){if(e.level>3&&"BASE"!==e.tree_path[2]&&"RB"!==e.tree_path[3]){var a=we.a.getMatchByPlanCode(r,r[t],"BASE");a>-1&&r[a].included&&!0===r[a].included&&(r[t].included=!0,r[t].edited||(r[t].is_base=!0))}});var l=0,o=t.filter(function(e){return[7,8].includes(e.level)&&"TC"===e.tree_path[3]&&"EL"===e.tree_path[4]});return(o=o.sort(function(e,t){return e.level<t.level?-1:e.level>t.level?1:0})).map(function(e){if(!r.find(function(t){return 5===e.level?e.name===t.name&&e.code===t.code&&e.level===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]:6===e.level?e.name===t.name&&e.code===t.code&&e.level===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]&&e.tree_path[5]===t.tree_path[5]:7===e.level?e.name===t.name&&e.code===t.code&&e.level===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]&&e.tree_path[5]===t.tree_path[5]&&e.tree_path[6]===t.tree_path[6]:8===e.level&&(e.name===t.name&&e.code===t.code&&e.level===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]&&e.tree_path[5]===t.tree_path[5]&&e.tree_path[6]===t.tree_path[6]&&e.tree_path[7]===t.tree_path[7])})){var t="NODE-LOAD-"+l.toString().padStart(3,"0"),a=e.level-1,n=e.tree_path[e.level-2],o=r.findIndex(function(t){return 5===e.level?n===t.code&&a===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]:6===e.level?n===t.code&&a===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]:7===e.level?n===t.code&&a===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]&&e.tree_path[5]===t.tree_path[5]:8===e.level&&(n===t.code&&a===t.level&&e.tree_path[2]===t.tree_path[2]&&e.tree_path[3]===t.tree_path[3]&&e.tree_path[4]===t.tree_path[4]&&e.tree_path[5]===t.tree_path[5]&&e.tree_path[6]===t.tree_path[6])}),c=Object(i.a)(r[o].children);c.push(t),r[o].children=c;var d=Object.assign({},e);d.included=!0,d.id=t,r.push(d),l++}}),r},ze=function(e,t){var a=[],n=[],i=[],r=[],l=[];(""===e.principalData.numOfPrincipals&&a.push("No. of Principals"),""===e.principalData.numOfDependents&&a.push("No. of Dependents"),0===Number(e.principalData.maleDependents)&&0===Number(e.principalData.femaleDependents)||Number(e.principalData.maleDependents)+Number(e.principalData.femaleDependents)===Number(e.principalData.numOfDependents)||a.push("Male and female dependents do not match the total"),0===Number(e.principalData.malePrincipals)&&0===Number(e.principalData.femalePrincipals)||Number(e.principalData.malePrincipals)+Number(e.principalData.femalePrincipals)===Number(e.principalData.numOfPrincipals)||a.push("Male and female principals do not match the total"),""===e.businessData.registeredCorporateName&&a.push("Registered Corporate Name"),""===e.businessData.tradeBrandName&&a.push("Trade / Brand Name"),void 0!==e.businessData.corporateAccountNo&&""!==e.businessData.corporateAccountNo)&&(e.businessData.corporateAccountNo.match(/\d{2}-\d{2}-\d{5}$/)||(r.includes("Corporate Account No.")||r.push("Corporate Account No."),l.includes("corporateAccountNo")||l.push("corporateAccountNo")));if(""===e.businessData.secRegistrationNo&&a.push("SEC Registration No."),""===e.businessData.corporateTin&&a.push("Corporate TIN"),""===e.businessData.vatType&&a.push("VAT Type"),""===e.businessData.nameDisplayedInCard&&a.push("Name Displayed In Card"),""===e.natureData.industry&&a.push("Industry"),""===e.natureData.ownership&&a.push("Ownership"),""===e.contactDetailsData.floor&&a.push("Main Office Address - Floor"),""===e.contactDetailsData.buildingNumber&&a.push("Main Office Address - Building Number"),""===e.contactDetailsData.buildingName&&a.push("Main Office Address - Building Name"),""===e.contactDetailsData.street&&a.push("Main Office Address - Street"),""===e.contactDetailsData.barangay&&a.push("Main Office Address - Barangay"),""===e.contactDetailsData.city&&a.push("Main Office Address - City"),""===e.contactDetailsData.region&&a.push("Main Office Address - Region"),""===e.contactDetailsData.zipCode&&a.push("Main Office Address - Zip Code"),""!==t.coverage_start_date&&""!==t.coverage_end_date||a.push("Proposal Coverage Period"),e.contactDetailsData.branchAddress.map(function(e,t){""===e.floor&&(a.includes("Branch Office Address - Floor")||a.push("Branch Office Address - Floor")),""===e.buildingNumber&&(a.includes("Branch Office Address - Building Number")||a.push("Branch Office Address - Building Number")),""===e.buildingName&&(a.includes("Branch Office Address - Building Name")||a.push("Branch Office Address - Building Name")),""===e.street&&(a.includes("Branch Office Address - Street")||a.push("Branch Office Address - Street")),""===e.barangay&&(a.includes("Branch Office Address - Barangay")||a.push("Branch Office Address - Barangay")),""===e.city&&(a.includes("Branch Office Address - City")||a.push("Branch Office Address - City")),""===e.region&&(a.includes("Branch Office Address - Region")||a.push("Branch Office Address - Region")),""===e.zipCode&&(a.includes("Branch Office Address - Zip Code")||a.push("Branch Office Address - Zip Code")),e.addrTelephoneNumber.map(function(e){""===e.telno&&(a.includes("Branch Telephone Number/Trunk Line")||a.push("Branch Telephone Number/Trunk Line"))}),e.addrContactPerson.map(function(e,r){""===e.name&&(a.includes("Branch Contact Person - Name")||a.push("Branch Contact Person - Name")),""===e.number&&(a.includes("Branch Contact Person - Contact Number")||a.push("Branch Contact Person - Contact Number")),""===e.email?a.includes("Branch Contact Person - Email")||a.push("Branch Contact Person - Email"):e.email.match(/\S+@\S+\.\S+/)&&-1===e.email.indexOf(" ")&&-1===e.email.indexOf("..")||(n.includes("Branch Contact Person - Email")||n.push("Branch Contact Person - Email"),i.includes("addrEmail-"+t+"-"+r)||i.push("addrEmail-"+t+"-"+r)),""===e.designation&&(a.includes("Branch Contact Person - Designation")||a.push("Branch Contact Person - Designation"))})}),e.contactDetailsData.telephoneNumber.map(function(e){""===e.telno&&(a.includes("Telephone Number/Trunk Line")||a.push("Telephone Number/Trunk Line"))}),0===e.contactDetailsData.contactPerson.length&&a.push("Contact Persons"),e.contactDetailsData.contactPerson.map(function(e,t){""===e.name&&(a.includes("Contact Person - Name")||a.push("Contact Person - Name")),""===e.number&&(a.includes("Contact Person - Contact Number")||a.push("Contact Person - Contact Number")),""===e.email?a.includes("Contact Person - Email")||a.push("Contact Person - Email"):e.email.match(/\S+@\S+\.\S+/)&&-1===e.email.indexOf(" ")&&-1===e.email.indexOf("..")||(n.includes("Contact Person - Email")||n.push("Contact Person - Email"),i.includes("email-"+t)||i.push("email-"+t)),""===e.designation&&(a.includes("Contact Person - Designation")||a.push("Contact Person - Designation"))}),""===e.contactDetailsData.authorizedSignatoryName&&a.push("Authorized Signatory"),void 0!==e.contactDetailsData.authorizedSignatoryEmail&&""!==e.contactDetailsData.authorizedSignatoryEmail){var o=e.contactDetailsData.authorizedSignatoryEmail;o.match(/\S+@\S+\.\S+/)&&-1===o.indexOf(" ")&&-1===o.indexOf("..")||(n.includes("Authorized Signatory Email")||n.push("Authorized Signatory Email"),i.includes("authorizedSignatoryEmail")||i.push("authorizedSignatoryEmail"))}return""===e.HMOData.previousHMOProvider&&a.push("Previous HMO Provider"),""===e.HMOData.salesChannel&&a.push("Sales Channel"),"agent"===e.HMOData.salesChannel&&""===e.HMOData.agentName&&a.push("Agent Name"),"broker"===e.HMOData.salesChannel&&(""===e.HMOData.brokerCompanyName&&a.push("Broker - Name of Company"),""===e.HMOData.brokerContactPerson&&a.push("Broker - Contact Person"),""===e.HMOData.brokerPosition&&a.push("Broker - Position"),""===e.HMOData.brokerContactNumber&&a.push("Broker - Contact Number"),""===e.HMOData.brokerEmailAddress&&a.push("Broker - Email Address")),"bdo"===e.HMOData.salesChannel&&""===e.HMOData.bdoName&&a.push("BDO Name"),{fields:a,wrong_format:n,wrong_format_ids:i,wrong_format_no:r,wrong_format_no_ids:l}},We=function(e){console.log("data to be sent: ",e);var t=e.contactDetailsData.branchAddress.reduce(function(e,t){var a=t.addrTelephoneNumber.map(function(e){return{no:e.telno}}),n=t.addrContactPerson.map(function(e){return{name:e.name,contact_no:e.number,email_address:e.email,designation:e.designation}}),i={floor:parseInt(t.floor),unit:t.unit,bldg_no:t.buildingNumber,bldg_name:t.buildingName,street:t.street,brgy:t.barangay,city:t.city,region:t.region,zip_code:t.zipCode,contact_numbers:a,contact_persons:n};return e.push(i),e},[]),a=e.contactDetailsData.contactPerson.reduce(function(e,t){var a={name:t.name,contact_no:t.number,email_address:t.email,designation:t.designation};return e.push(a),e},[]),n=e.contactDetailsData.telephoneNumber.reduce(function(e,t){var a={no:t.telno};return e.push(a),e},[]),i={registered_name:e.businessData.registeredCorporateName,brand_name:e.businessData.tradeBrandName,name_on_card:e.businessData.nameDisplayedInCard,tin_no:e.businessData.corporateTin,vat_type:e.businessData.vatType,evat_no:e.businessData.eVatNo,corporate_account_no:e.businessData.corporateAccountNo,sec_reg_no:e.businessData.secRegistrationNo,head_company_name:e.businessData.headCompanyName,industry:e.natureData.industry,ownership:e.natureData.ownership,years_of_existence:parseInt(e.natureData.yearsOfExistence),sources_of_funds:e.natureData.sourcesOfFunds,authorized_signatory:e.contactDetailsData.authorizedSignatoryName,authorized_signatory_contact_no:e.contactDetailsData.authorizedSignatoryNumber,authorized_signatory_email_address:e.contactDetailsData.authorizedSignatoryEmail,authorized_signatory_designation:e.contactDetailsData.authorizedSignatoryDesignation,main_office_address:{floor:parseInt(e.contactDetailsData.floor),unit:e.contactDetailsData.unit,bldg_no:e.contactDetailsData.buildingNumber,bldg_name:e.contactDetailsData.buildingName,street:e.contactDetailsData.street,brgy:e.contactDetailsData.barangay,city:e.contactDetailsData.city,region:e.contactDetailsData.region,zip_code:e.contactDetailsData.zipCode,contact_numbers:n,contact_persons:a},branches:t,prev_hmo_provider:e.HMOData.previousHMOProvider,prev_hmo_effectivity_date:e.HMOData.effectivityDate,prev_hmo_expiry_date:e.HMOData.expiryDate,status:"Potential"};return e.businessData.contracts&&void 0!==e.businessData.contracts&&e.businessData.contracts.length>0&&(i.contracts=e.businessData.contracts),e.businessData.member_data_fields&&void 0!==e.businessData.member_data_fields&&e.businessData.member_data_fields.length>0&&(i.member_data_fields=e.businessData.member_data_fields),e.HMOData.salesChannel&&""!==e.HMOData.salesChannel&&void 0!==e.HMOData.salesChannel&&(i.sales_channel={type:e.HMOData.salesChannel},"agent"===e.HMOData.salesChannel?i.sales_channel.agent_name=e.HMOData.agentName:"broker"===e.HMOData.salesChannel?(i.sales_channel.company_name=e.HMOData.brokerCompanyName,i.sales_channel.contact_person=e.HMOData.brokerContactPerson,i.sales_channel.position=e.HMOData.brokerPosition,i.sales_channel.contact_no=e.HMOData.brokerContactNumber,i.sales_channel.email_address=e.HMOData.brokerEmailAddress):"bdo"===e.HMOData.salesChannel&&(i.sales_channel.bdo_name=e.HMOData.bdoName)),i},Ye=function(e){var t=e.benefitNodes,a=e.contractNode,r=e.contractType,o=e.SetContractType,m=e.SetBenefitNodes,f=e.clientData,v=e.SetClientData,_=e.proposalInfo,h=e.SetExclusionList,O=e.SetSelectedPlanType,y=e.SetSelectedPlanPackage,C=e.SetSelectedBenefitCategory,N=e.SetProposalInfo;console.log(e);var S=Fe(),T=Object(l.useState)(0),A=Object(n.a)(T,2),I=A[0],D=A[1],P=Object(l.useState)(!1),R=Object(n.a)(P,2),w=R[0],j=R[1],x=Object(l.useState)(!1),L=Object(n.a)(x,2),k=L[0],F=L[1],B=Object(l.useState)(null),M=Object(n.a)(B,2),U=M[0],V=M[1],H=Object(l.useState)(!1),G=Object(n.a)(H,2),z=G[0],W=G[1],Y=Object(l.useState)(!1),q=Object(n.a)(Y,2),K=q[0],Z=q[1],Q=Object(l.useState)(""),X=Object(n.a)(Q,2),J=X[0],$=X[1],ee=Object(l.useState)(""),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],ie=Object(l.useState)(""),re=Object(n.a)(ie,2),le=re[0],oe=re[1],ce=Object(l.useState)(!1),de=Object(n.a)(ce,2),Ee=de[0],ve=de[1],be=Object(l.useState)(!1),_e=Object(n.a)(be,2),he=_e[0],Oe=_e[1],ye=Object(l.useState)([]),Ce=Object(n.a)(ye,2),Ne=Ce[0],Se=Ce[1],Te=Object(l.useState)([]),Ae=Object(n.a)(Te,2),Ie=Ae[0],De=Ae[1],xe=Object(l.useState)([]),He=Object(n.a)(xe,2),Ye=He[0],qe=He[1],Ke=Object(l.useState)(!1),Ze=Object(n.a)(Ke,2),Qe=Ze[0],Xe=Ze[1],Je=Object(l.useState)(!1),$e=Object(n.a)(Je,2),et=$e[0],tt=$e[1],at=Object(l.useState)(""),nt=Object(n.a)(at,2),it=nt[0],rt=nt[1],lt=Object(l.useState)(""),ot=Object(n.a)(lt,2),ct=ot[0],dt=ot[1],st=Object(l.useState)(""),ut=Object(n.a)(st,2),mt=ut[0],pt=ut[1],ft=Object(l.useState)(""),gt=Object(n.a)(ft,2),Et=gt[0],vt=gt[1],bt=Object(l.useState)([]),_t=Object(n.a)(bt,2),ht=_t[0],Ot=_t[1],yt=Object(l.useState)(""),Ct=Object(n.a)(yt,2),Nt=Ct[0],St=Ct[1],Tt=Object(l.useState)(!1),At=Object(n.a)(Tt,2),It=At[0],Dt=At[1],Pt=Object(l.useState)(""),Rt=Object(n.a)(Pt,2),wt=Rt[0],jt=Rt[1],xt=Object(l.useState)(""),Lt=Object(n.a)(xt,2),kt=Lt[0],Ft=Lt[1],Bt=Object(l.useState)(null),Mt=Object(n.a)(Bt,2),Ut=Mt[0],Vt=Mt[1];console.log("checkProposalInfo: ",e);var Ht=function(){I>0&&D(I-1)},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";j(!0),Re.a.getBaseBenefits().then(function(t){if(t&&void 0===t.error){var a=Object(i.a)(t),n=[],r=[];n=Ue(a),""!==e?zt(n,r,e):(j(!1),n=Me(n),r=Ve(n),h(r),O("BASE"),y("RB"),C("RBC"),m(n))}else j(!1),console.log("getbenefitlist api error: ",t)})},zt=function(e,t,a){Re.a.getBenefitsTree(a).then(function(a){if(a&&void 0===a.error){var n=Object(i.a)(a),r=Object(i.a)(e),l=[],c=Object(i.a)(t),d=(l=Ue(n,!0)).filter(function(e){return e.code&&"MCT"===e.code}),s=[],u={};d[0].custom_metadata.additional_info?(d[0].custom_metadata.additional_info.contact_person&&s.push("Contact Person"),d[0].custom_metadata.additional_info.company_name&&s.push("Company Name"),d[0].custom_metadata.additional_info.address&&s.push("Address"),u={coverage_start_date:d[0].custom_metadata.coverage_start_date,coverage_end_date:d[0].custom_metadata.coverage_end_date,additional_details:s,CompanyNameSelected:d[0].custom_metadata.additional_info.company_name?d[0].custom_metadata.additional_info.company_name:"",ContactPersonSelected:d[0].custom_metadata.additional_info.contact_person?d[0].custom_metadata.additional_info.contact_person:"",AddressSelected:d[0].custom_metadata.additional_info.address&&"branch"===d[0].custom_metadata.additional_info.address?"branch":"Head Office",SelectedBranch:d[0].custom_metadata.additional_info.address&&"branch"===d[0].custom_metadata.additional_info.address?d[0].custom_metadata.additional_info.address:""}):u={coverage_start_date:d[0].custom_metadata.coverage_start_date,coverage_end_date:d[0].custom_metadata.coverage_end_date},N(Object.assign(_,u));var p=Ge(r,l);c=Ve(p),o("benefit"),j(!1),h(c),O("BASE"),y("RB"),C("RBC"),m(Object(i.a)(p)),Ot(Object(i.a)(p))}else j(!1),console.log("getbenefitlist api error: ",a)})},Wt=function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=Object(i.a)(e),l=function(e){r=(r=r.filter(function(t){return we.a.filterNodesByLevel(t,r,e)})).map(function(e){var t=Object.assign({},e);return t.children=t.children.filter(function(e){return!!r.find(function(t){return t.id===e})}),t})},o=8;o>3;o--)l(o);return r=r.map(function(e){var l=Object.assign({},e);if(l.children=l.children.filter(function(e){return!!r.find(function(t){return t.id===e})}),"MCT"===l.code){if(l.custom_metadata||(l.custom_metadata={}),l.custom_metadata_schema||(l.custom_metadata_schema={},l.custom_metadata_schema.properties={}),l.custom_metadata.version&&n){var o=parseInt(l.custom_metadata.version.replace(/[^0-9]/g,""));isNaN(o)?l.custom_metadata.version="V1":l.custom_metadata.version="V"+(o+1)}else l.custom_metadata.version="V1",l.custom_metadata_schema.properties.version={type:"string"};if(l.custom_metadata.date_created||(l.custom_metadata.date_created=new Date),l.custom_metadata.coverage_start_date&&(l.custom_metadata.coverage_start_date=a.coverage_start_date),l.custom_metadata.coverage_end_date&&(l.custom_metadata.coverage_end_date=a.coverage_end_date),a.additional_details.includes("Address")||a.additional_details.includes("Contact Person")||a.additional_details.includes("Company Name")){var c={};l.custom_metadata_schema.properties.additional_info={},a.additional_details.includes("Address")&&("branch"===a.AddressSelected?c.address=a.SelectedBranch:c.address=a.AddressSelected,l.custom_metadata_schema.properties.additional_info.address={type:"string"}),a.additional_details.includes("Contact Person")&&(c.contact_person=a.ContactPersonSelected,l.custom_metadata_schema.properties.additional_info.contact_person={type:"string"}),a.additional_details.includes("Company Name")&&(c.company_name=a.CompanyNameSelected,l.custom_metadata_schema.properties.additional_info.company_name={type:"string"}),l.custom_metadata.additional_info=c}if(l.custom_metadata.date_updated||(l.custom_metadata.date_updated=""),l.status=n?"Resubmitted":"Submitted",l.version&&n){var d=parseInt(l.version.replace(/[^0-9]/g,""));isNaN(d)?l.version="V1":l.version="V"+(d+1)}else l.version="V1";if(l.proposal_number&&n){var s=parseInt(l.version.replace(/[^0-9]/g,""));isNaN(s)?l.proposal_number="V1":l.proposal_number="V"+(s+1)}else l.proposal_number="V1"}if("CT"===l.code&&(l.principals_count=parseInt(t.principalData.numOfPrincipals),l.male_principals_count=parseInt(t.principalData.malePrincipals),l.female_principals_count=parseInt(t.principalData.femalePrincipals),l.dependents_count=parseInt(t.principalData.numOfDependents),l.male_dependents_count=parseInt(t.principalData.maleDependents),l.female_dependents_count=parseInt(t.principalData.femaleDependents)),"OD"===l.code||"CB"===l.code){var u=r.find(function(e){return"Network"===e.name&&"NT"===e.code&&4===e.level&&l.tree_path[2]===e.tree_path[2]});if(u.custom_metadata&&u.custom_metadata.type===l.code&&l.custom_metadata.partner_network_list&&l.custom_metadata.partner_network_list.length>0){var m=Object(i.a)(e.custom_metadata.partner_network_list),p=[],f=[];l.custom_metadata.partner_network_list=m.map(function(e){var t=Object.assign({},e);void 0!==t.included&&(!0===t.included?(delete t.included,p.push(t)):!1===t.included&&(delete t.included,f.push(t)))}),delete l.custom_metadata.partner_network_list,l.custom_metadata.included_facilities=p,l.custom_metadata.excluded_facilties=f}}return delete l.tree_path,delete l.tree_id,delete l.included,delete l.count,delete l.level,delete l.edited,delete l.node_path,delete l.original_node,delete l.original_children,delete l.original_id,l})},Yt=function(t){e.SetBenefitNodes(t.data.benefitNodes),e.SetContractType(t.data.contractType),e.SetExclusionList(t.data.exclusionList),e.SetNewNodeCounter(t.data.newNodeCounter),e.SetPlanTypeList(t.data.planTypeList),e.SetSelectedBenefitCategory(t.data.selectedBenefitCategory),e.SetSelectedPlanPackage(t.data.selectedPlanPackage),e.SetSelectedPlanType(t.data.selectedPlanType),e.SetProposalInfo(t.data.proposalInfo),t.data.clientData.businessData.deletedLogo=[],t.data.clientData.businessData.uploadedLogo=[],void 0!==t.data.clientData.businessData.uploadedLogo&&(t.data.clientData.businessData.uploadedLogo=[].concat(Object(i.a)(t.data.clientData.businessData.uploadedLogo.filter(function(e){return e.field})),Object(i.a)(t.data.files.filter(function(e){return e.field.includes("icon")}).map(function(e){return Le({},e,{isUploaded:!0})})))),t.data.clientData.HMOData.uploadedUtilization=[],t.data.clientData.HMOData.deletedUtilization=[],void 0!==t.data.clientData.HMOData.uploadedUtilization&&(t.data.clientData.HMOData.uploadedUtilization=[].concat(Object(i.a)(t.data.clientData.HMOData.uploadedUtilization.filter(function(e){return e.field})),Object(i.a)(t.data.files.filter(function(e){return e.field.includes("utilization")}).map(function(e){return Le({},e,{isUploaded:!0})})))),t.data.contractNode&&t.data.contractNode.uploadedComputation&&(t.data.contractNode.deletedComputation=[],t.data.contractNode.uploadedComputation=[].concat(Object(i.a)(t.data.contractNode.uploadedComputation.filter(function(e){return e.field})),Object(i.a)(t.data.files.filter(function(e){return e.field.includes("computation")}).map(function(e){return Le({},e,{isUploaded:!0})})))),e.SetClientData(t.data.clientData),t.data.deleted_files=[]},qt=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[].concat(Object(i.a)(e.clientData.businessData.uploadedLogo?e.clientData.businessData.uploadedLogo.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"icon"}}):[]),Object(i.a)(e.clientData.HMOData.uploadedUtilization?e.clientData.HMOData.uploadedUtilization.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"utilization"}}):[]),Object(i.a)(e.contractNode&&e.contractNode.uploadedComputation?e.contractNode.uploadedComputation.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"computation"}}):[])),r=new FormData;n.map(function(e){r.append("".concat(e.field),e.file)});var l={user_id:localStorage.user_id,ticket_no:t,module:"Underwriting",process:et?"Revise Proposal":"Create Proposal",timestamp:new Date,data:{files:[],deleted_files:[],benefitNodes:e.benefitNodes,categoryNode:e.categoryNode,clientData:e.clientData,contractNode:e.contractNode,contractType:e.contractType,coverageList:e.coverageList,exclusionList:e.exclusionList,newNodeCounter:e.newNodeCounter,planTypeList:e.planTypeList,riderList:e.riderList,roomAndBoardList:e.roomAndBoardList,rows:e.rows,selectedBenefitCategory:e.selectedBenefitCategory,selectedPlanPackage:e.selectedPlanPackage,selectedPlanType:e.selectedPlanType,proposalInfo:e.proposalInfo}},o=[].concat(Object(i.a)(e.clientData.businessData.uploadedLogo?e.clientData.businessData.uploadedLogo.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"icon"}}):[]),Object(i.a)(e.clientData.HMOData.uploadedUtilization?e.clientData.HMOData.uploadedUtilization.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"utilization"}}):[]),Object(i.a)(e.contractNode&&e.contractNode.uploadedComputation?e.contractNode.uploadedComputation.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"computation"}}):[])),c=[];o.map(function(e){c.push(e.file)}),j(!0);var d=function(){l.data.files=c,fetch("".concat(ke,"tmp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(function(e){return e.json()}).then(function(e){j(!1),e&&!e.error?null!==a?(St("proposal_tmp_saved_redirect"),jt("Success"),Ft("Proposal saved. Ticket #"+a+" was created."),Dt(!0)):(St("proposal_tmp_saved"),jt("Success"),Ft("Proposal saved."),Dt(!0)):(console.log("save for now error ",e),St("proposal_tmp_error"),jt("Error"),Ft("An error occurred while saving proposal."),Dt(!0))})};n.length>0?fetch("".concat(ke,"tmp/upload"),{method:"POST",body:r}).then(function(e){return e.json()}).then(function(e){console.log(e),e&&!e.error?(c.push.apply(c,e),d()):(j(!1),console.log("save for now upload error ",e),St("proposal_tmp_error"),jt("Error"),Ft("An error occurred while saving attached files."),Dt(!0))}).catch(function(e){j(!1),console.log("save for now upload error catch",e),St("proposal_tmp_error"),jt("Error"),Ft("An error occurred while saving attached files."),Dt(!0)}):d();var s={client_name:""};void 0!==e.clientData.businessData.registeredCorporateName&&(s.client_name=e.clientData.businessData.registeredCorporateName),Pe.a.put("cases/"+t+"/variable","",s).then(function(e){console.log("save? 1",e)})},Kt=function(e,t){if(void 0!==e&&void 0!==e.client_id&&e.mother_contract_id){var a={is_sme_account:!1,mother_contract_id:e.mother_contract_id,client_id:e.client_id,client_name:""};void 0!==e.client_name&&(a.client_name=e.client_name),"sme"===r?(a.is_sme_account=!0,a.use_sme_plan=!0):a.customize_standard_benefit_plan=!0,Pe.a.put("cases/"+t+"/variable","",a).then(function(e){console.log(e),Pe.a.put("cases/"+t+"/route-case","",{}).then(function(e){console.log(e),Pe.a.put("cases/"+t+"/route-case","",{}).then(function(e){console.log(e),Pe.a.put("cases/"+t+"/route-case","",{}).then(function(e){console.log(e),"sme"===r?Pe.a.put("cases/"+t+"/route-case","",{}).then(function(e){console.log(e),Xt()}):Xt()})})})})}else setTimeout(function(){Xt()},1500)},Zt=function(){var e="benefit"===r?"Standard Benefit Plan":"SME Plan";ne("Change Plan"),oe("You have entered "+f.principalData.numOfPrincipals+" principals, which does not fit with your current plan. Do you wish to change your plan from "+e+"? (All changes to proposal will be lost.)"),$("changeplan"),Z(!0)},Qt=function(){o("");var e=ze(f,_);e.fields.length>0?(Se(e.fields),e.wrong_format.length>0?(De(e.wrong_format),qe(e.wrong_format_ids),V(l.createElement("div",null,l.createElement("div",{style:{paddingBottom:"1rem"}},"Please fill out the following fields first:"),e.fields.map(function(e){return l.createElement("div",null,e)}),l.createElement("div",{style:{paddingTop:"10px"}},"Please correct the email format: "+e.wrong_format.join(", "))))):V(l.createElement("div",null,l.createElement("div",{style:{paddingBottom:"1rem"}},"Please fill out the following fields first:"),e.fields.map(function(e){return l.createElement("div",null,e)}))),F(!0)):e.wrong_format.length>0?(De(e.wrong_format),qe(e.wrong_format_ids),V("Please correct the email format: "+e.wrong_format.join(", ")),F(!0)):D(I+1)},Xt=function(){ve(!0)},Jt=function(t){return fetch(ke+"clients/"+t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(console.log(" clients >>>>",t),t&&void 0===t.error){var a=Object.assign({},t),n=Be(a);e.SetClientData(Object.assign({},e.clientData,n)),console.log("props.clientData >>>",e.clientData)}}).catch(function(e){console.log("getbenefitlist api error: ",e)})};Object(l.useEffect)(function(){!0===he&&Oe(!1)},[he]),Object(l.useEffect)(function(){1===I&&""===r&&W(!0)},[I]),Object(l.useEffect)(function(){if(!Qe&&a&&et){var e={principalData:{numOfPrincipals:a.principals_count?a.principals_count:0,malePrincipals:a.male_principals_count?a.male_principals_count:0,femalePrincipals:a.female_principals_count?a.female_principals_count:0,numOfDependents:a.dependents_count?a.dependents_count:0,maleDependents:a.male_dependents_count?a.male_dependents_count:0,femaleDependents:a.female_dependents_count?a.female_dependents_count:0}};v(Object.assign({},f,e)),Xe(!0)}},[a]);var $t=l.useRef(!0);return Object(l.useEffect)(function(){$t.current&&("new"!==e.match.params.ticket_id?(j(!0),Pe.a.getWithToken("cases/"+e.match.params.ticket_id,"").then(function(t){if(void 0!==t&&void 0!==t.current_task&&t.current_task[0]&&"Revise Proposal"===t.current_task[0].tas_title){var a=t.current_task[0].del_index;Pe.a.getWithToken("cases/"+e.match.params.ticket_id+"/variables?app_index="+a,"").then(function(t){void 0!==t&&void 0!==t.mother_contract_id&&void 0!==t.client_id&&(fetch("".concat(ke,"tmp?filter[where][and][0][user_id]=").concat(localStorage.user_id,"&")+"filter[where][and][1][module]=Underwriting&"+"filter[where][and][2][ticket_no]=".concat(e.match.params.ticket_id),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){j(!1),tt(!0),(e=e.filter(function(e){return"Revise Proposal"===e.process})).length>0?Yt(e[0]):(Gt(t.mother_contract_id),Jt(t.client_id),rt(t.mother_contract_id),dt(t.client_id))}).catch(function(e){console.log(e),j(!1),tt(!0),Gt(t.mother_contract_id),Jt(t.client_id),rt(t.mother_contract_id),dt(t.client_id)}),$t.current=!1)})}else fetch("".concat(ke,"tmp?filter[where][and][0][user_id]=").concat(localStorage.user_id,"&")+"filter[where][and][1][module]=Underwriting&"+"filter[where][and][2][ticket_no]=".concat(e.match.params.ticket_id),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){j(!1),(t=t.filter(function(e){return"Create Proposal"===e.process})).length>0?Yt(t[0]):(e.SetClientData(je.b.clientData),e.SetBenefitNodes(je.b.benefitNodes),o(""))}).catch(function(t){j(!1),console.log(t),e.SetClientData(je.b.clientData),e.SetBenefitNodes(je.b.benefitNodes),o("")}),$t.current=!1})):(e.SetClientData(je.b.clientData),e.SetBenefitNodes(je.b.benefitNodes),$t.current=!1))},[]),!0===Ee?l.createElement(g.a,{to:{pathname:"/underwriting"}}):!0===he?l.createElement(g.a,{to:{pathname:"/underwriting/create-proposal/"+Et}}):l.createElement("div",{className:S.main},w?l.createElement(E.f,null):null,l.createElement(d.a,{key:"close",anchorOrigin:{horizontal:"right",vertical:"top"},open:k,onClose:function(){F(!1)},autoHideDuration:5e3},l.createElement(s.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.75)",position:"relative",width:"100%",maxHeight:"82vh",overflowY:"auto"},message:l.createElement("div",null,U),action:l.createElement("div",{style:{display:"inline-block",height:"100%",width:"48px"}},l.createElement(u.a,{style:{position:"absolute",top:"0"},onClick:function(){F(!1)}},l.createElement(p.a,{style:{color:"white"}})))})),l.createElement(E.h,{title:function(e){switch(e){case 0:return"Details";case 1:return"Modify Benefits";case 2:return"Review";default:return""}}(I),step:I,params:e.match.params}),function(t){switch(t){case 0:return l.createElement(me.a,Object.assign({invalidFields:Ne,wrongFormatFields:Ie,wrongFormatFieldIds:Ye,setWrongFormatFieldIds:qe,classes:S},e));case 1:return"benefit"===r?l.createElement(pe.a,Object.assign({editMode:et,classes:S},e)):l.createElement(fe.a,Object.assign({classes:S},e));case 2:return l.createElement(ge.a,Object.assign({invalidFields:Ne,contractType:r,classes:S},e));default:return null}}(I),l.createElement(E.d,null,0!==I?l.createElement(c.a,{variant:"contained",onClick:Ht,id:"proposal_previous",color:"primary",className:"button back"},"Back"):null,l.createElement("div",{style:{flexGrow:1}}),l.createElement(c.a,{variant:"contained",onClick:function(){var e=ze(f,_);e.fields.length>0&&e.fields.includes("Registered Corporate Name")?(Se(["Registered Corporate Name"]),V("Please fill out the following field before saving: Registered Corporate Name"),F(!0)):(ne("Save proposal"),oe("Save the current proposal and its benefits?"),$("save"),Z(!0))},id:"proposal_save_now",color:"primary",className:"button transparent"},l.createElement("div",{style:{display:"block"}},"Save For Now")),2!==I?l.createElement(c.a,{variant:"contained",onClick:function(){if(I<2)if(0===I)if("sme"===r&&f.principalData.numOfPrincipals>100||"benefit"===r&&f.principalData.numOfPrincipals<=100)Zt();else{var a=ze(f,_);a.wrong_format_no.length>0?(a.fields.length>0&&Se(a.fields),De(a.wrong_format_no),qe(a.wrong_format_no_ids),V(l.createElement("div",null,a.fields.length>0?l.createElement("div",{style:{paddingBottom:"1rem"}},"Please fill out the following fields first:"):null,a.fields.map(function(e){return l.createElement("div",null,e)}),a.wrong_format_no.length>0?l.createElement("div",{style:{paddingTop:"10px"}},"Please correct the number format (Ex: 00-00-00000) on the following field: "+a.wrong_format_no.join(", ")):null)),F(!0)):a.fields.length>0?(Se(a.fields),a.wrong_format.length>0||a.wrong_format_no.length>0?(De([].concat(Object(i.a)(a.wrong_format),Object(i.a)(a.wrong_format_no))),qe([].concat(Object(i.a)(a.wrong_format_ids),Object(i.a)(a.wrong_format_no_ids))),V(l.createElement("div",null,l.createElement("div",{style:{paddingBottom:"1rem"}},"Please fill out the following fields first:"),a.fields.map(function(e){return l.createElement("div",null,e)}),a.wrong_format.length>0?l.createElement("div",{style:{paddingTop:"10px"}},"Please correct the email format: "+a.wrong_format.join(", ")):null,a.wrong_format_no.length>0?l.createElement("div",{style:{paddingTop:"10px"}},"Please correct the number format (Ex: 00-00-00000) on the following field: "+a.wrong_format_no.join(", ")):null))):V(l.createElement("div",null,l.createElement("div",{style:{paddingBottom:"1rem"}},"Please fill out the following fields first:"),a.fields.map(function(e){return l.createElement("div",null,e)}))),F(!0)):a.wrong_format.length>0?(De(a.wrong_format),qe(a.wrong_format_ids),V("Please correct the email format: "+a.wrong_format.join(", ")),F(!0)):D(I+1)}else if(1===I){var n=function(){var t=[],a=[],n=e.benefitNodes.filter(function(e){return e.code&&"OM"===e.tree_path[4]&&"RI"===e.tree_path[3]&&e.included&&7===e.level}),i=e.benefitNodes.filter(function(e){return e.code&&"IP"===e.tree_path[4]&&"CV"===e.tree_path[3]&&e.included&&7===e.level}),l=e.benefitNodes.filter(function(e){return e.code&&("MT"===e.code||"CC"===e.code||"EC"===e.code)&&"RI"===e.tree_path[3]&&e.included});return l.length>0&&l.map(function(a){var n=[],i=e.benefitNodes.filter(function(e){return e.tree_path&&e.tree_path[4]===a.code&&e.tree_path[2]===a.tree_path[2]&&e.type&&("Benefit"===e.type&&"MT"===a.code||"BenefitType"===e.type&&("EC"===a.code||"CC"===a.code))&&"RI"===e.tree_path[3]&&e.included});if("BASE"!==a.tree_path[2]&&(n=e.benefitNodes.filter(function(e){return e.tree_path&&e.tree_path[4]===a.code&&"BASE"===e.tree_path[2]&&e.type&&("Benefit"===e.type&&"MT"===a.code||"BenefitType"===e.type&&("EC"===a.code||"CC"===a.code))&&"RI"===e.tree_path[3]&&e.included})),i.length>0&&"BASE"===a.tree_path[2])if(a.custom_metadata.billing_arangement){if("rider_fee"===a.custom_metadata.billing_arangement&&!a.custom_metadata.rider_fee){var r="MT"===a.code?"Maternity":"CC"===a.code?"Corporate Clinic":"EC"===a.code?"ECU":"",l=e.planTypeList.find(function(e){return e.code===a.tree_path[2]}).name;t.push("".concat(r,": 1-Time Rider Fee (").concat(l,")"))}}else{var o="MT"===a.code?"Maternity":"CC"===a.code?"Corporate Clinic":"EC"===a.code?"ECU":"",c=e.planTypeList.find(function(e){return e.code===a.tree_path[2]}).name;t.push("".concat(o,": Billing Arrangement (").concat(c,")"))}else if(i.length>0&&n.length!=i.length)if(a.custom_metadata.billing_arangement){if("rider_fee"===a.custom_metadata.billing_arangement&&!a.custom_metadata.rider_fee){var d="MT"===a.code?"Maternity":"CC"===a.code?"Corporate Clinic":"EC"===a.code?"ECU":"",s=e.planTypeList.find(function(e){return e.code===a.tree_path[2]}).name;t.push("".concat(d,": 1-Time Rider Fee (").concat(s,")"))}}else{var u="MT"===a.code?"Maternity":"CC"===a.code?"Corporate Clinic":"EC"===a.code?"ECU":"",m=e.planTypeList.find(function(e){return e.code===a.tree_path[2]}).name;t.push("".concat(u,": Billing Arrangement (").concat(m,")"))}}),n.length>0&&n.map(function(e){0===e.limits.length&&t.push("Outpatient Medicines: Limit("+e.tree_path[2]+"-"+e.name+")")}),i.length>0&&i.map(function(e){0===e.limits.length&&t.push("Inpatient: Limit("+e.tree_path[2]+"-"+e.name+")")}),1===e.planTypeList.length&&"benefit"===r&&a.push("You must create at least one plan type to proceed."),{requiredFields:t,notifications:a}}(),o=e.planTypeList.reduce(function(e,a){var n=t.find(function(e){return"Network"===e.name&&"NT"===e.code&&4===e.level&&e.tree_path[2]===a.code});return n.custom_metadata&&!["OD","CB"].includes(n.custom_metadata.type)&&e.push(a.name),e},[]);(n.notifications.length>0||n.requiredFields.length>0||o.length>0)&&"benefit"===r?(V(l.createElement("div",null,n.notifications.length>0?l.createElement("div",{style:{paddingBottom:"1rem"}},n.notifications.map(function(e){return l.createElement("div",null,e)})):l.createElement("div",null),n.requiredFields.length>0?l.createElement("div",{style:{paddingBottom:"1rem"}},"Please fill out the following fields first:"):l.createElement("div",null),n.requiredFields.map(function(e){return l.createElement("div",null,e)}),o.length>0?l.createElement("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"}},"Please set the Type field in Partner Network for these plan types: "):l.createElement("div",null),o.map(function(e){return l.createElement("div",null,e)}))),F(!0)):D(I+1)}else D(I+1)},id:"proposal_next",color:"primary",className:"button"},"Next"):l.createElement(c.a,{variant:"contained",onClick:function(){var e=ze(f,_);e.fields.length>0?(Se(e.fields),e.wrong_format.length>0?(De(e.wrong_format),qe(e.wrong_format_ids),V(l.createElement("div",null,l.createElement("div",{style:{paddingBottom:"1rem"}},"Please fill out the following fields first:"),e.fields.map(function(e){return l.createElement("div",null,e)}),l.createElement("div",{style:{paddingTop:"10px"}},"Please correct the email format: "+e.wrong_format.join(", "))))):V(l.createElement("div",null,l.createElement("div",{style:{paddingBottom:"1rem"}},"Please fill out the following fields first:"),e.fields.map(function(e){return l.createElement("div",null,e)}))),F(!0)):e.wrong_format.length>0?(De(e.wrong_format),qe(e.wrong_format_ids),V("Please correct the email format: "+e.wrong_format.join(", ")),F(!0)):(ne("Submit proposal"),et?(oe("benefit"===r?"Are you sure you want to submit this revised proposal? This version will be sent to both the Sales Manager and Underwriting Manager for approval.":"Are you sure you want to submit this revised proposal?"),$("revise")):(oe("benefit"===r?"Are you sure you want to submit the proposal? This version will be sent to both the Sales Manager and Underwriting Manager for approval.":"Are you sure you want to submit the proposal?"),$("submit")),Z(!0))},id:"proposal_submit",color:"primary",className:"button"},"Submit")),l.createElement(se,{clientData:f,loadOptions:function(e,t){Re.a.getContracts().then(function(a){if(a&&void 0===a.error){var n=a.reduce(function(e,t){var a={label:t.name,value:t._id};return e.push(a),e},[]);""!==e&&(n=n.filter(function(t){return t.label.toLowerCase().includes(e.toLowerCase())})),t(n)}else console.log("getcontractlist api error: ",a)})},onClose:function(){W(!1),1===I&&""===r&&Ht()},isModalOpen:z,createProposal:function(e,t){o(e),W(!1);var a="";t&&(a=t.value),Gt(a)}}),l.createElement(b.a,{onClose:function(e){"load"===J&&!0===e?ve(!0):Z(!1)},title:ae,isModalOpen:K,submitType:J,onSubmit:function(){"save"===J?"new"===e.match.params.ticket_id&&""===mt&&""===Et?(console.log("new"),Pe.a.postWithToken("cases/","",{pro_uid:"2523662725de63a19680ea5008281557",tas_uid:"6873263995de63a19889950032364241"}).then(function(e){void 0!==e.app_uid&&void 0!==e.app_number&&Pe.a.put("cases/"+e.app_uid+"/execute-trigger/2865638175de63a19cb32e1058550175","",{}).then(function(t){console.log(" >>>>",t),Pe.a.put("cases/"+e.app_uid+"/execute-trigger/9174883615def0a44236984022777405","",{}).then(function(t){console.log(t),pt(e.app_number),vt(e.app_uid),qt(e.app_uid,e.app_number)})})})):(console.log("not new"),qt(""!==Et?Et:e.match.params.ticket_id)):"submit"===J?function(){var a=[].concat(Object(i.a)(e.clientData.businessData.uploadedLogo?e.clientData.businessData.uploadedLogo.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"icon"}}):[]),Object(i.a)(e.clientData.HMOData.uploadedUtilization?e.clientData.HMOData.uploadedUtilization.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"utilization"}}):[]),Object(i.a)(e.contractNode&&e.contractNode.uploadedComputation?e.contractNode.uploadedComputation.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"computation"}}):[])),n=new FormData;a.map(function(e){n.append("".concat(e.field),e.file)});var r={client:We(f),nodes:Wt(t,f,_),files:[]};j(!0);var o="An error occurred while submitting this proposal.",c="An error occurred while submitting attached files for this proposal.",d=[].concat(Object(i.a)(e.clientData.businessData.uploadedLogo?e.clientData.businessData.uploadedLogo.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"icon"}}):[]),Object(i.a)(e.clientData.HMOData.uploadedUtilization?e.clientData.HMOData.uploadedUtilization.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"utilization"}}):[]),Object(i.a)(e.contractNode&&e.contractNode.uploadedComputation?e.contractNode.uploadedComputation.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"computation"}}):[])),s=[];d.map(function(e){s.push(e.file)});var u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s.push.apply(s,t),r.files=s,console.log("create proposal payload:",r),Re.a.postProposal(r).then(function(t){t&&void 0===t.error?(console.log("create proposal api results: ",t),"new"===e.match.params.ticket_id&&""===mt&&""===Et?(console.log("new"),Pe.a.postWithToken("cases/","",{pro_uid:"2523662725de63a19680ea5008281557",tas_uid:"6873263995de63a19889950032364241"}).then(function(a){void 0!==a.app_uid&&void 0!==a.app_number&&Pe.a.put("cases/"+a.app_uid+"/execute-trigger/2865638175de63a19cb32e1058550175","",{}).then(function(n){console.log(" >>>>",n),Pe.a.put("cases/"+a.app_uid+"/execute-trigger/9174883615def0a44236984022777405","",{}).then(function(n){console.log(n),j(!1),St("proposal_submit_success"),jt("Success"),Ft(l.createElement("div",null,l.createElement("div",{style:{paddingBottom:"1rem"}},"Submitted successfully."),l.createElement("div",null,"Ticket #"+a.app_number+" was created."))),Vt({proposal:t,ticket_id:a.app_uid}),Dt(!0),e.SetClientData(je.b.clientData),e.SetBenefitNodes(je.b.benefitNodes)})})})):(j(!1),console.log("not new"),St("proposal_submit_success"),jt("Success"),Ft("Submitted successfully."),Vt(""!==Et?{proposal:t,ticket_id:Et}:{proposal:t,ticket_id:e.match.params.ticket_id}),Dt(!0),e.SetClientData(je.b.clientData),e.SetBenefitNodes(je.b.benefitNodes))):(console.log("submit proposal failed",t),j(!1),St("proposal_submit_error"),jt("Error"),Ft(o),Dt(!0))}).catch(function(e){console.log("submit proposal failed catch",e),j(!1),St("proposal_submit_error"),jt("Error"),Ft(o),Dt(!0)})};a.length>0?fetch("".concat(ke,"tmp/upload"),{method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){console.log(e),e.error?(console.log("error uploading file for proposal: ",e),j(!1),St("proposal_submit_error"),jt("Error"),Ft(c),Dt(!0)):u(e)}).catch(function(e){console.log("error uploading file for proposal catch: ",e),j(!1),St("proposal_submit_error"),jt("Error"),Ft(c),Dt(!0)}):u()}():"revise"===J?function(){var a=Object(ue.getEditedRevisionNodesPayload)(ht,f,"Disapproved"),n={new_nodes:[],deleted_nodes:[],edited_nodes:a};j(!0),Re.a.patchProposal(ct,it,n).then(function(n){if(n&&void 0===n.error){j(!0);var l=[].concat(Object(i.a)(e.clientData.businessData.uploadedLogo?e.clientData.businessData.uploadedLogo.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"icon"}}):[]),Object(i.a)(e.clientData.HMOData.uploadedUtilization?e.clientData.HMOData.uploadedUtilization.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"utilization"}}):[]),Object(i.a)(e.contractNode&&e.contractNode.uploadedComputation?e.contractNode.uploadedComputation.filter(function(e){return!e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"computation"}}):[])),o=new FormData;l.map(function(e){o.append("".concat(e.field),e.file)});var c=Wt(t,f,_,!0),d={nodes:c,files:[]};j(!0);var s="An error occurred while submitting this proposal.",u="An error occurred while submitting attached files for this proposal.",m=[].concat(Object(i.a)(e.clientData.businessData.uploadedLogo?e.clientData.businessData.uploadedLogo.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"icon"}}):[]),Object(i.a)(e.clientData.HMOData.uploadedUtilization?e.clientData.HMOData.uploadedUtilization.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"utilization"}}):[]),Object(i.a)(e.contractNode&&e.contractNode.uploadedComputation?e.contractNode.uploadedComputation.filter(function(e){return e.isUploaded}).map(function(e){return{name:e.name,type:e.type,file:e,field:"computation"}}):[])),p=[];m.map(function(e){p.push(e.file)});var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];p.push.apply(p,t),d.files=p,console.log("create proposal payload:",d),Re.a.postProposal(d).then(function(t){if(t&&null!==t.mother_contract_id&&void 0===t.error){console.log("create proposal api results: ",t);var n=We(f),l=t.mother_contract_id,o=n.contracts?Object(i.a)(n.contracts):[];o.find(function(e){return e===l})||o.push(l),n.contracts=o,Re.a.patchClient(ct,n).then(function(i){if(i&&i.ok){var o={is_sme_account:!1,mother_contract_id:l,client_id:ct,client_name:""};void 0!==n.registered_name&&(o.client_name=n.registered_name),"sme"===r?(o.is_sme_account=!0,o.use_sme_plan=!0):o.customize_standard_benefit_plan=!0;var d={activity:"Revised Proposal",user:localStorage.first_name+" "+localStorage.last_name,client_id:ct,user_id:localStorage.user_id,custom_metadata:{contract_id:l,initial_nodes:ht,new_nodes:c,edited_nodes:a}};Re.a.postAuditLogs(d).then(function(){console.log("inserted to audit logs")}),Pe.a.put("cases/"+e.match.params.ticket_id+"/variable","",o).then(function(t){console.log(t),Pe.a.put("cases/"+e.match.params.ticket_id+"/route-case","",{}).then(function(e){console.log(e),Xt()})})}else console.log("submit proposal failed",t),j(!1),St("proposal_submit_error"),jt("Error"),Ft(s),Dt(!0)}).catch(function(e){console.log("submit proposal failed catch",e),j(!1),St("proposal_submit_error"),jt("Error"),Ft(s),Dt(!0)})}else console.log("submit proposal failed",t),j(!1),St("proposal_submit_error"),jt("Error"),Ft(s),Dt(!0)}).catch(function(e){console.log("submit proposal failed catch",e),j(!1),St("proposal_submit_error"),jt("Error"),Ft(s),Dt(!0)})};l.length>0?fetch("".concat(ke,"tmp/upload"),{method:"POST",body:o}).then(function(e){return e.json()}).then(function(e){e.error?(console.log("error uploading file for proposal: ",e),j(!1),St("proposal_submit_error"),jt("Error"),Ft(u),Dt(!0)):g(e)}).catch(function(e){console.log("error uploading file for proposal catch: ",e),j(!1),St("proposal_submit_error"),jt("Error"),Ft(u),Dt(!0)}):g()}else console.log(n),j(!1),St("proposal_revise_error"),jt("Error"),Ft("Unable to revise proposal."),Dt(!0)})}():"changeplan"===J&&Qt()},message:le}),l.createElement(E.g,{onClose:function(){switch(Dt(!1),Nt){case"proposal_submit_success":var e=Ut;Vt(null),e&&Kt(e.proposal,e.ticket_id);break;case"proposal_tmp_saved_redirect":Oe(!0)}},title:wt,isModalOpen:It,message:kt}))},qe=function(e){return{benefitNodes:Object(v.a)(e),clientData:Object(v.c)(e),contractNode:Object(v.t)(e),categoryNode:Object(v.r)(e),planTypeList:Object(v.x)(e),roomAndBoardList:Object(v.A)(e),coverageList:Object(v.u)(e),riderList:Object(v.z)(e),rows:Object(v.B)(e),selectedPlanType:Object(v.o)(e),selectedPlanPackage:Object(v.n)(e),selectedBenefitCategory:Object(v.m)(e),businessData:Object(v.q)(e),natureData:Object(v.w)(e),contactDetailsData:Object(v.s)(e),HMOData:Object(v.v)(e),proposalInfo:Object(v.k)(e),principalData:Object(v.y)(e),contractType:Object(v.e)(e),newNodeCounter:Object(v.i)(e),exclusionList:Object(v.g)(e),editedNodeList:Object(v.f)(e)}},Ke=function(e){return{SetBenefitNodes:Object(f.b)(ve,e),SetBusinessData:Object(f.b)(be,e),SetNatureData:Object(f.b)(Ce,e),SetNewNodeCounter:Object(f.b)(Oe,e),SetClientData:Object(f.b)(ye,e),SetContractType:Object(f.b)(Se,e),SetSelectedPlanType:Object(f.b)(Te,e),SetSelectedPlanPackage:Object(f.b)(Ae,e),SetSelectedBenefitCategory:Object(f.b)(Ie,e),SetExclusionList:Object(f.b)(he,e),SetPlanTypeList:Object(f.b)(Ne,e),SetEditedNodeList:Object(f.b)(De,e),SetProposalInfo:Object(f.b)(_e,e)}}},760:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(0),i=a(165),r=a(377),l=a(104),o=a(72),c=a(51),d=a(59),s=a(752),u=function(e){var t=e.name,a=e.value,r=e.onClick;return n.createElement(l.a,{key:a},n.createElement(i.a,{onClick:r},n.createElement(o.a,{disableTypography:!0,style:{color:"#3AB77D"}},n.createElement(c.a,{icon:d.u})," ",t," ")))},m={roomAndBoardList:[],riderList:[],coverageList:[],setPopoverOpen:function(e,t){return console.log("setPopoverOpen",e,t)},selectedBenefitCategory:"",setSelectedPlanPackage:function(e){return console.log("setSelectedPlanPackage",e)},setSelectedBenefitCategory:function(e){return console.log("setSelectedBenefitCategory",e)},deleteBenefitCategory:function(e){return console.log("deleteBenefitCategory",e)},viewOnly:!1},p=function(e){var t=e.selectedBenefitCategory,a=e.roomAndBoardList,m=e.riderList,p=e.coverageList,f=e.setSelectedPlanPackage,g=e.setSelectedBenefitCategory,E=e.deleteBenefitCategory,v=e.setPopoverOpen,b=e.viewOnly,_=e.selectedPlanType;return n.createElement(s.c,null,n.createElement(s.a,{sidebarList:a,name:"Room and Board",value:"RBC",selectionKey:t,onClick:function(){f("RB"),g("RBC")}}),n.createElement(s.b,{sidebarList:p,subheader:"Coverage",nameKey:"name",valueKey:"code",selectionKey:t,onClick:function(e){f("CV"),g("".concat(e.code))},itemAdornment:b||"BASE"!==_?null:n.createElement(c.a,{icon:d.r,style:{color:"#B0AFB8"}}),itemAdornmentOnClick:function(e){return E(e)}},b?null:n.createElement(u,{name:"Add Coverage",value:"coverage",onClick:function(e){e.persist(),v(e,"CV")}})),n.createElement(s.b,{sidebarList:m,subheader:"Riders",nameKey:"name",valueKey:"code",selectionKey:t,onClick:function(e){f("RI"),g("".concat(e.code))},itemAdornment:b||"BASE"!==_?null:n.createElement(c.a,{icon:d.r,style:{color:"#B0AFB8"}}),itemAdornmentOnClick:function(e){return E(e)}},b?null:n.createElement(u,{name:"Add Riders",value:"coverage",onClick:function(e){e.persist(),v(e,"RI")}})),n.createElement(r.a,null,n.createElement(l.a,null,n.createElement(i.a,{onClick:function(){f("EX"),g("EX")},underline:"EX"===t?"always":"hover"},n.createElement(o.a,{disableTypography:!0,primary:"Exclusions"}))),n.createElement(l.a,null,n.createElement(i.a,{onClick:function(){f("NT"),g("NT")},underline:"NT"===t?"always":"hover"},n.createElement(o.a,{disableTypography:!0,primary:"Partner Network"}))),n.createElement(l.a,null,n.createElement(i.a,{onClick:function(){f("TC"),g("EL")},underline:"EL"===t?"always":"hover"},n.createElement(o.a,{disableTypography:!0,primary:"Eligibility"}))),n.createElement(l.a,null,n.createElement(i.a,{onClick:function(){f("ID"),g("ID")},underline:"ID"===t?"always":"hover"},n.createElement(o.a,{disableTypography:!0,primary:"Identifiers"})))))};p.defaultProps=m},761:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(0),i=a(37),r=a(743),l=a(750),o=a(768),c=a(50),d=(a(742),a(43)),s=Object(d.a)(function(e){return{titleHeader:{marginTop:"15px"},gridContainer:{padding:e.spacing(1),paddingBottom:"50px"}}}),u=function(e){var t=e.classes,a=e.contractType,d=s();return n.createElement(n.Fragment,null,n.createElement(i.a,{container:!0,className:d.gridContainer},n.createElement(i.a,{item:!0,sm:12,className:d.titleHeader},n.createElement(c.a,{className:t.sectionTitle},"Review Proposal"),n.createElement(c.a,{gutterBottom:!0,className:t.subSectionTitle},"Please review the proposal before submitting."))),n.createElement(r.a,Object.assign({},e,{viewOnly:!0,submitMode:!0})),"benefit"===a?n.createElement(l.a,Object.assign({},e,{viewOnly:!0,submitMode:!0})):n.createElement(o.a,Object.assign({},e,{submitMode:!0})))}},764:function(e,t,a){"use strict";var n=a(0),i=a(37),r=a(165),l=a(50),o=a(734),c=a(737),d=a(735),s=a(738),u=a(266),m=Object(u.a)({root:{alignItems:"flex-start","& span.MuiButtonBase-root":{paddingTop:"4px",display:"block"}}}),p=function(e,t){var a="PHP",n=0;return t&&(a=t),e?(n=e,s.a.formatNumber(n)+" "+a):"-"},f={formHeader:null,rows:[],setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a){return console.log("setRowMetadata2",e,t,a)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setSubForm:function(e){return console.log("setSubForm",e)},setSubForm2:function(e){return console.log("setSubForm",e)},createRelationship:function(e){return console.log("createRelationship",e)},createCivilStatus:function(e){return console.log("createCivilStatus",e)},subFormNode:null,viewOnly:!1},g=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,s=e.setSubForm,u=e.subFormNode,m={};u&&u.custom_metadata&&(m=u.custom_metadata);var p=r;return a&&(p=r.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"limit_type",title:"Inner Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"daily_limit",title:"Daily Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit","daily_limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"daily_limit",width:150,wordWrapEnabled:!0}]},e,{rows:p}))),n.createElement(i.a,{item:!0,sm:12},a?m.amt_limit&&m.amt_limit_unit?n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(d.a,{label:"Amount Limit for all procedures",value:m.amt_limit+" "+{amt_limit:"Amount Limit",max_session:"Max Session",max_amount:"Max Amount",percent_mbl:"Percent of MBL",percent_abl:"Percent of ABL",no_visits:"No. of Visits"}[m.amt_limit_unit]})):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",gutterBottom:!0},"Amount Limit for all procedures"),n.createElement(l.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(c.b,{id:"amt_limit",fieldName:"amt_limit",selectName:"amt_limit_unit",fieldValue:m.amt_limit,selectValue:m.amt_limit_unit,fieldOnChange:s,selectOnChange:s,inputProps:{min:0},noDefault:!0})))))};g.defaultProps=f;var E=a(208),v=a(162),b=a(159),_=a(141),h=a(259),O=a(1127),y=a(1112),C=a(265),N=a(682),S=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,l=e.subFormNode,s=e.setSubForm2,u={},m=[],f=-1,g=-1;if(l&&(l.custom_metadata&&(u=l.custom_metadata),l.limits)){var S=(m=l.limits).findIndex(function(e){return["ABL","MBL"].includes(e.type)});f=S,g=S=m.findIndex(function(e){return["PEC"].includes(e.type)})}var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.target.name;e.target.value=e.target.value.trim().replace(/,/g,"");var n=e.target.value,i=-1,r=[];if("limit"===a&&(n=parseFloat(n)),l&&l.limits&&(r=l.limits),(i=t?r.findIndex(function(e){return["PEC"].includes(e.type)}):r.findIndex(function(e){return["ABL","MBL"].includes(e.type)}))>-1)s(a,n,"limits",i);else{var o={type:"ABL",limit:0,limit_unit:"PHP",daily_limit:0};t&&(o.type="PEC"),o[a]=n;var c=Object(E.a)(r);c.push(o),s(a,c,"limits")}},A=[{category:u&&u.involuntary_upgrading_title?u.involuntary_upgrading_title:"",description:u&&u.involuntary_upgrading_description?u.involuntary_upgrading_description:""},{category:u&&u.voluntary_upgrading_title?u.voluntary_upgrading_title:"",description:u&&u.voluntary_upgrading_description?u.voluntary_upgrading_description:""}],I=null;I=g>-1&&"Percentage"===m[g].limit_unit?c.c:g>-1&&"Months"===m[g].limit_unit?c.e:c.a;var D={annual:"Annual",semiannual:"Semi-Annual",quarterly:"Quarterly",monthly:"Monthly"},P=a;if(r){var R=!0;P=a.filter(function(e){return!(!R||!e.included)&&(R=!1,!0)})}return n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t,n.createElement(i.a,{item:!0,container:!0,sm:8},n.createElement(i.a,{item:!0,sm:6},r?n.createElement(d.a,{label:"Limit Type",value:f>-1&&m[f].type?m[f].type:""}):n.createElement(n.Fragment,null,n.createElement(_.a,{htmlFor:"type"},"Choose Limit Type"),n.createElement(b.a,{margin:"normal"},n.createElement(C.a,{onChange:function(e){return T(e,!1)},value:f>-1&&m[f].type?m[f].type:"ABL",name:"type",input:n.createElement(v.a,{labelWidth:0,name:"type",id:"limit"})},n.createElement(h.a,{value:"ABL"},"ABL"),n.createElement(h.a,{value:"MBL"},"MBL"))))),n.createElement(i.a,{item:!0,sm:6},r?n.createElement(d.a,{label:"Limit",value:f>-1&&m[f].limit&&m[f].limit_unit?p(m[f].limit,m[f].limit_unit):""}):n.createElement(c.a,{id:"limit",label:"Specify Limit",fieldName:"limit",selectName:"limit_unit",fieldValue:f>-1&&m[f].limit?m[f].limit:0,selectValue:"PHP",fieldOnChange:function(e){return T(e,!1)},disableSelect:!0})),n.createElement(i.a,{item:!0,sm:6},r?n.createElement(d.a,{label:"PEC Limit Type",value:g>-1&&m[g].type?m[g].type:""}):n.createElement(n.Fragment,null,n.createElement(_.a,{htmlFor:"limit_unit"},"Choose PEC Limit Type"),n.createElement(b.a,{margin:"normal"},n.createElement(C.a,{onChange:function(e){return T(e,!0)},value:g>-1&&m[g].limit_unit?m[g].limit_unit:"PHP",name:"limit_unit",input:n.createElement(v.a,{labelWidth:0,name:"limit_unit",id:"pecLimit"})},n.createElement(h.a,{value:"PHP"},"Peso"),n.createElement(h.a,{value:"Percentage"},"Percentage"),n.createElement(h.a,{value:"Months"},"Time-based"))))),n.createElement(i.a,{item:!0,sm:6},r?n.createElement(d.a,{label:"PEC Limit",value:g>-1&&m[g].limit&&m[g].limit_unit?p(m[g].limit,m[g].limit_unit):""}):n.createElement(I,{id:"limit",label:"Specify Limit",fieldName:"limit",selectName:"limit_unit",fieldValue:g>-1&&m[g].limit?m[g].limit:0,selectValue:"PHP",fieldOnChange:function(e){return T(e,!0)},disableSelect:!0}))),n.createElement(i.a,{item:!0,sm:4},r?n.createElement(d.a,{label:"Mode of Payment",value:D[u.mode_of_payment]}):n.createElement(n.Fragment,null,n.createElement(_.a,{htmlFor:"mode_of_payment"},"Mode of Payment"),n.createElement(b.a,{component:"fieldset",margin:"normal"},n.createElement(y.a,{name:"mode_of_payment"},n.createElement(N.a,{value:"annual",control:n.createElement(O.a,{checked:!!u.mode_of_payment&&"annual"===u.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),s("mode_of_payment","annual")}}),label:D.annual}),n.createElement(N.a,{value:"semiannual",control:n.createElement(O.a,{checked:!!u.mode_of_payment&&"semiannual"===u.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),s("mode_of_payment","semiannual")}}),label:D.semiannual}),n.createElement(N.a,{value:"quarterly",control:n.createElement(O.a,{checked:!!u.mode_of_payment&&"quarterly"===u.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),s("mode_of_payment","quarterly")}}),label:D.quarterly}),n.createElement(N.a,{value:"monthly",control:n.createElement(O.a,{checked:!!u.mode_of_payment&&"monthly"===u.mode_of_payment,name:"mode_of_payment",onClick:function(e){e.stopPropagation(),s("mode_of_payment","monthly")}}),label:D.monthly}))))))),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,formattedColumns:{rollover:["rollover"],refresh:["refresh"]},disableSearch:!0,disablePaging:!0,selectionType:"rab",columnExtensions:[{columnName:"rollover",width:150,wordWrapEnabled:!0},{columnName:"refresh",width:150,wordWrapEnabled:!0}],columns:[{name:"name",title:"Category"},{name:"rollover",title:"Rollover",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.rollover?e.custom_metadata.rollover:[]}},{name:"refresh",title:"Refresh",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.refresh?e.custom_metadata.refresh:[]}}]},e,{rows:P}))),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,{viewOnly:r,rows:A,formattedColumns:{html:["description"]},disableSearch:!0,disableSelect:!0,disablePaging:!0,columnExtensions:[{columnName:"category",width:240,wordWrapEnabled:!0},{columnName:"description",wordWrapEnabled:!0}],columns:[{name:"category",title:"Category"},{name:"description",title:"Description"}]})))};S.defaultProps=f;var T=function(e){var t=e.viewOnly,a=e.formHeader,r=e.rows;return n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},t?null:a)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,{rows:r,columns:[{name:"name",title:"Category"},{name:"description",title:"Description"}]})))};T.defaultProps=f;var A=function(e){var t=e.formHeader,a=e.viewOnly,r=e.setSubForm,c=e.rows,s=e.subFormNode,u={};s&&s.custom_metadata&&(u=s.custom_metadata);var m=c;return a&&(m=c.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"age_limit",title:"Minimum Age",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:0}},{name:"max_availee",title:"Max. Availee",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.max_availee?e.custom_metadata.max_availee:0}},{name:"payment",title:"Payment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.payment?e.custom_metadata.payment:""}},{name:"required",title:"Required",getCellValue:function(e){return!(!e.custom_metadata||!e.custom_metadata.required)&&e.custom_metadata.required}}],formattedColumns:{eligible_availees:["eligible_availees"],age_limit:["age_limit"],required:["required"],number:["max_availee"],payment:["payment"]},columnExtensions:[{columnName:"parent_name",width:100,wordWrapEnabled:!0},{columnName:"name",wordWrapEnabled:!0},{columnName:"age_limit",width:100,wordWrapEnabled:!0},{columnName:"max_availee",width:100,wordWrapEnabled:!0},{columnName:"payment",width:150,wordWrapEnabled:!0},{columnName:"required",width:125,wordWrapEnabled:!0}]},e,{rows:m}))),n.createElement(i.a,{item:!0,sm:12},a?u.mobile_ape_availees?n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Mobile APE"),n.createElement(d.a,{label:"Min no. of availees in a shift (8 hrs)",value:u.mobile_ape_availees})):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Mobile APE"),n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",gutterBottom:!0},"Min no. of availees in a shift (8 hrs)"),n.createElement(v.a,{onChange:r,value:u.mobile_ape_availees?u.mobile_ape_availees:0,type:"number",onKeyPress:function(e){return"-"===e.key||"."===e.key||"e"===e.key?(e.preventDefault(),!1):e.key},labelWidth:0,name:"mobile_ape_availees",id:"mobileAPEs",inputProps:{min:"0"}})))))};A.defaultProps=f;var I=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,l=a;return r&&(l=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Description"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"age_limit",title:"Minimum Age",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:0}},{name:"max_availee",title:"Max. Availee",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.max_availee?e.custom_metadata.max_availee:0}},{name:"payment",title:"Payment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.payment?e.custom_metadata.payment:""}},{name:"required",title:"Required",getCellValue:function(e){return!(!e.custom_metadata||!e.custom_metadata.required)&&e.custom_metadata.required}}],formattedColumns:{eligible_availees:["eligible_availees"],age_limit:["age_limit"],required:["required"],number:["max_availee"],payment:["payment"]},columnExtensions:[{columnName:"category",width:100,wordWrapEnabled:!0},{columnName:"age_limit",width:125,wordWrapEnabled:!0},{columnName:"required",width:125,wordWrapEnabled:!0}]},e,{rows:l}))))};I.defaultProps=f;var D=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,s=e.setSubForm,u=e.subFormNode,m={};u&&u.custom_metadata&&(m=u.custom_metadata);var p=r;return a&&(p=r.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:a,columns:[{name:"parent_name",title:"Category"},{name:"name",title:"Benefit"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:p}))),n.createElement(i.a,{item:!0,sm:12},a?m.amt_limit&&m.amt_limit_unit?n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(d.a,{label:"Amount Limit for all procedures",value:m.amt_limit+" "+{amt_limit:"Amount Limit",max_session:"Max Session",max_amount:"Max Amount",percent_mbl:"Percent of MBL",percent_abl:"Percent of ABL",no_visits:"No. of Visits"}[m.amt_limit_unit]})):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",gutterBottom:!0},"Amount Limit for all procedures"),n.createElement(l.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(c.b,{id:"amt_limit",fieldName:"amt_limit",selectName:"amt_limit_unit",fieldValue:m.amt_limit,selectValue:m.amt_limit_unit,fieldOnChange:s,selectOnChange:s,inputProps:{min:0},noDefault:!0})))))};D.defaultProps=f;var P=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,l=a;return r&&(l=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,columns:[{name:"name",title:"Category"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150},{columnName:"limit",width:150}]},e,{rows:l}))))};P.defaultProps=f;var R=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,s=e.setSubForm,u=e.setSubForm2,p=e.subFormNode,f=m();console.log(a),console.log(e);var g={};p&&p.custom_metadata&&(g=p.custom_metadata);var E=a;return r&&(E=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,columns:[{name:"name",title:"Category"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:E}))),n.createElement(i.a,{item:!0,sm:12},r?g.waiting_period_type&&g.waiting_period_unit?n.createElement(d.a,{label:"Activation",value:g.waiting_period_type+" "+g.waiting_period_unit}):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(b.a,{component:"fieldset"},n.createElement(y.a,{name:"waiting_period"},n.createElement(N.a,{classes:f,value:"waiting_period_effectivity",control:n.createElement(O.a,{checked:"effectivity"===g.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),u("waiting_period_type","effectivity")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(b.a,null,n.createElement(c.e,{disabled:"effectivity"!==g.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===g.waiting_period_type?g.waiting_period:0,selectValue:"effectivity"===g.waiting_period_type?g.waiting_period_unit:"",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},noDefault:!0})))}),n.createElement(N.a,{classes:f,value:"waiting_period_hire",control:n.createElement(O.a,{checked:"date_of_hire"===g.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),u("waiting_period_type","date_of_hire")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(b.a,null,n.createElement(c.e,{disabled:"date_of_hire"!==g.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===g.waiting_period_type?g.waiting_period:0,selectValue:"date_of_hire"===g.waiting_period_type?g.waiting_period_unit:"",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},noDefault:!0})))}))))))};R.defaultProps=f;var w=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,s=e.subFormNode,u=e.setSubForm,p=e.setSubForm2,f=m(),g={};s&&s.custom_metadata&&(g=s.custom_metadata),console.log(a);var E=a;return r&&(E=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,columns:[{name:"name",title:"Medicine"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"availment",title:"Availment Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.availment?e.custom_metadata.availment:[]}}],formattedColumns:{limit_type:["limit_type"],limit:["limit"],availment:["availment"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"availment",width:175,wordWrapEnabled:!0}]},e,{rows:E}))),n.createElement(i.a,{item:!0,sm:12},r?g.limit_for_all&&g.limit_for_all_unit?n.createElement(d.a,{label:"Limit for All",value:g.limit_for_all+" "+g.limit_for_all_unit}):null:n.createElement(n.Fragment,null,n.createElement(b.a,{style:{marginBottom:"20px"}},n.createElement(l.a,{variant:"body1"},"Limit for All"),n.createElement(c.a,{id:"limit_for_all",fieldName:"limit_for_all",selectName:"limit_for_all_unit",fieldValue:void 0!==g.limit_for_all?g.limit_for_all:0,selectValue:void 0!==g.limit_for_all_unit?g.limit_for_all_unit:"",fieldOnChange:u,selectOnChange:u,inputProps:{min:0}})))),n.createElement(i.a,{item:!0,sm:12},r?g.waiting_period&&g.waiting_period_unit?n.createElement(d.a,{label:"Waiting period after effectivity of member",value:g.waiting_period+" "+g.waiting_period_unit}):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(b.a,{component:"fieldset"},n.createElement(y.a,{name:"waiting_period"},n.createElement(N.a,{classes:f,value:"waiting_period_effectivity",control:n.createElement(O.a,{checked:"effectivity"===g.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),p("waiting_period_type","effectivity")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(b.a,null,n.createElement(c.e,{disabled:"effectivity"!==g.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===g.waiting_period_type?g.waiting_period:0,selectValue:"effectivity"===g.waiting_period_type?g.waiting_period_unit:"",fieldOnChange:u,selectOnChange:u,inputProps:{min:0},noDefault:!0})))}),n.createElement(N.a,{classes:f,value:"waiting_period_hire",control:n.createElement(O.a,{checked:"date_of_hire"===g.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),p("waiting_period_type","date_of_hire")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(b.a,null,n.createElement(c.e,{disabled:"date_of_hire"!==g.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===g.waiting_period_type?g.waiting_period:0,selectValue:"date_of_hire"===g.waiting_period_type?g.waiting_period_unit:"",fieldOnChange:u,selectOnChange:u,inputProps:{min:0},noDefault:!0})))}))))))};w.defaultProps=f;var j=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly;console.log(a);var l=[{name:"parent_name",title:"Type"},{name:"name",title:"Item"}],c={};return r||(l.push({name:"included",title:"Include item?"}),c={exclusions_checkbox:["included"]}),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({},e,{viewOnly:r,disableSelect:!0,columns:l,formattedColumns:c}))))};j.defaultProps=f;var x=a(269),L=a(741),k=a.n(L),F=a(1113),B=a(687),M=a(923),U=a(921),V=a(272),H=a(164),G=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,c=e.subFormNode,s=e.setRowMetadata2,u=e.setSubForm2,m=Object(n.useState)([]),p=Object(x.a)(m,2),f=p[0],g=p[1],v=Object(n.useState)(null),b=Object(x.a)(v,2),_=b[0],h=b[1],C=Object(n.useState)(!1),S=Object(x.a)(C,2),T=S[0],A=S[1],I=[],D=[],P="";c&&(c.custom_metadata&&c.custom_metadata.groups&&(D=c.custom_metadata.groups),c.custom_metadata&&c.custom_metadata.type&&(P=c.custom_metadata.type));var R=function(e){var t=D.findIndex(function(t){return e===t}),a=Object(E.a)(D);t>-1?a.splice(t,1):a.push(e),u("groups",a)},w=function(e){u("type",e)},j=function(e){console.log(e),A(!1)},L=[{name:"included",title:"Status",getCellValue:function(e){return void 0!==e.included?e.included:null}},{name:"name",title:"Name"},{name:"type",title:"Category"},{name:"street",title:"Address"},{name:"city",title:"City"},{name:"province",title:"Province"}],G=a.find(function(e){return e.code===P});return G&&G.custom_metadata.partner_network_list&&(I=G.custom_metadata.partner_network_list),Object(n.useEffect)(function(){h(null),V.a.getFacilities("CB"===P).then(function(e){e&&void 0===e.error?g(e):console.log("getfacilities api error: ")})},[P]),r&&(D=D.reduce(function(e,t){return"top_5_hospitals"===t&&e.push("Top 5 Hospitals"),"top_6_hospitals"===t&&e.push("Top 6 Hospitals"),"healthway_clinics"===t&&e.push("Healthway Clinics"),"medical_city_network"===t&&e.push("Medical City Network"),e},new Array)),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),r?""!==P?n.createElement(i.a,{item:!0,sm:12},n.createElement(d.a,{label:"Type",value:"OD"===P?"Open Door":"Clinic-based"})):null:n.createElement(i.a,{item:!0,sm:12},n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Type*"),n.createElement(y.a,{name:"type"},n.createElement(N.a,{onClick:function(){return w("OD")},value:"open_door",control:n.createElement(O.a,{checked:"OD"===P}),label:"Open Door"}),n.createElement(N.a,{onClick:function(){return w("CB")},value:"clinic_based",control:n.createElement(O.a,{checked:"CB"===P}),label:"Clinic-based"}))),r?D.length>0?n.createElement(i.a,{item:!0,sm:12},n.createElement(d.a,{label:"Group",value:D.join(", ")})):null:n.createElement(i.a,{item:!0,sm:12},n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Group"),n.createElement(F.a,null,n.createElement(N.a,{onClick:function(){return R("top_5_hospitals")},value:"top_5_hospitals",control:n.createElement(B.a,{checked:D.includes("top_5_hospitals")}),label:"Top 5 Hospitals"}),n.createElement(N.a,{onClick:function(){return R("top_6_hospitals")},value:"top_6_hospitals",control:n.createElement(B.a,{checked:D.includes("top_6_hospitals")}),label:"Top 6 Hospitals"}),n.createElement(N.a,{onClick:function(){return R("healthway_clinics")},value:"healthway_clinics",control:n.createElement(B.a,{checked:D.includes("healthway_clinics")}),label:"Healthway Clinics"}),n.createElement(N.a,{onClick:function(){return R("medical_city_network")},value:"medical_city_network",control:n.createElement(B.a,{checked:D.includes("medical_city_network")}),label:"Medical City Network"}))),n.createElement(n.Fragment,null,n.createElement("div",{id:"snkbrcont",style:{display:"block",zIndex:1e3}},n.createElement(M.a,{id:"rejmsg",key:"close",anchorOrigin:{horizontal:"center",vertical:"top"},open:T,autoHideDuration:5e3,onClose:function(){j("none")}},n.createElement(U.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.75)"},message:"Hospital/Clinic Has Already Been Added",action:[n.createElement(H.a,{key:"close","aria-label":"close",color:"inherit",onClick:function(){j("none")}},n.createElement(k.a,null))]})))),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,{setRowMetadata2:s,viewOnly:r,dropdownHeader:!r,disablePaging:!0,disableSearch:!0,disableFilter:!0,disableSelect:!0,formattedColumns:{partner_checkbox:["included"]},columnExtensions:[{columnName:"included",width:125,wordWrapEnabled:!0},{columnName:"name",width:350,wordWrapEnabled:!0}],rows:I,columns:L,dropdownData:f,selectedOption:_,setSelectedOption:h,setAddDropdown:function(e){if(""!==P&&f&&f.length>0&&e){var t=f.find(function(t){return t.name===e.label&&t.facility_id===e.value}),n=a.find(function(e){return e.code===P}),i=[];n&&n.custom_metadata.partner_network_list&&(i=Object(E.a)(n.custom_metadata.partner_network_list));var r=i.filter(function(e){return e._id===t._id});if(t&&0===r.length){var l=Object.assign({},t);l.included=!0,l.parent=n.id,l.index=i.length,i.push(l),s("partner_network_list",i,n.id),h(null)}else A(!0)}}})))};G.defaultProps=f;var z=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,s=e.subFormNode,u=e.setSubForm;console.log(a);var m={};s&&s.custom_metadata&&(m=s.custom_metadata);var p=a;return r&&(p=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,columns:[{name:"name",title:"Procedure"},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Inner Limit",getCellValue:function(e){return e.limits?e.limits:[]}}],formattedColumns:{limit:["limit"],limit_type:["limit_type"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:p}))),n.createElement(i.a,{item:!0,sm:12},r?m.limit_for_all&&m.limit_for_all_unit?n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(d.a,{label:"Peso Limit for all procedures",value:m.limit_for_all+" "+m.limit_for_all_unit})):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Limit"),n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",gutterBottom:!0},"Peso Limit for all procedures"),n.createElement(l.a,{variant:"caption",gutterBottom:!0},"The amount specified for the particular procedure will override this amount"),n.createElement(c.d,{id:"amt_limit",fieldName:"amt_limit",selectName:"amt_limit_unit",fieldValue:void 0!==m.amt_limit?m.amt_limit:0,selectValue:void 0!==m.amt_limit_unit?m.amt_limit_unit:"",inputProps:{min:0},fieldOnChange:u,selectOnChange:u})))))};z.defaultProps=f;var W=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,s=e.setSubForm,u=e.setSubForm2,p=e.subFormNode,f=m();console.log(e);var g={};p&&p.custom_metadata&&(g=p.custom_metadata);var E={premium:"Imputed in premiums",billback:"Bill back with admin fee (15%)",rider_fee:"1-time rider fee to be upon enrollment"},h=r;return a&&(h=r.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:a,columns:[{name:"name",title:"Provision"},{name:"eligible_availees",title:"Eligible Availees",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligible_availees?e.custom_metadata.eligible_availees:[]}},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"availment",title:"Availment",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.availment?e.custom_metadata.availment:[]}}],formattedColumns:{maternity_eligible_availees:["eligible_availees"],limit_type:["limit_type"],limit:["limit"],availment:["availment"]},columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0}]},e,{rows:h}))),n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{item:!0,sm:12},a?g.availment_per_year?n.createElement(d.a,{label:"Availment Per Year",value:g.availment_per_year}):null:n.createElement(n.Fragment,null,n.createElement(_.a,{htmlFor:"availmentPerYear"},"Availment Per Year"),n.createElement(b.a,{margin:"normal",style:{marginBottom:"20px"}},n.createElement(v.a,{onChange:s,value:g.availment_per_year?g.availment_per_year:0,type:"number",labelWidth:0,name:"availment_per_year",id:"availmentPerYear",inputProps:{min:0}})))),n.createElement(i.a,{item:!0,sm:12},a?g.waiting_period_type&&g.waiting_period_unit?n.createElement(d.a,{label:"Activation",value:g.waiting_period_type+" "+g.waiting_period_unit}):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(b.a,{component:"fieldset"},n.createElement(y.a,{name:"waiting_period"},n.createElement(N.a,{classes:f,value:"waiting_period_effectivity",control:n.createElement(O.a,{checked:"effectivity"===g.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),u("waiting_period_type","effectivity")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(b.a,null,n.createElement(c.e,{disabled:"effectivity"!==g.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===g.waiting_period_type?g.waiting_period:0,selectValue:"effectivity"===g.waiting_period_type?g.waiting_period_unit:"",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},noDefault:!0})))}),n.createElement(N.a,{classes:f,value:"waiting_period_hire",control:n.createElement(O.a,{checked:"date_of_hire"===g.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),u("waiting_period_type","date_of_hire")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(b.a,null,n.createElement(c.e,{disabled:"date_of_hire"!==g.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===g.waiting_period_type?g.waiting_period:0,selectValue:"date_of_hire"===g.waiting_period_type?g.waiting_period_unit:"",fieldOnChange:s,selectOnChange:s,inputProps:{min:0},noDefault:!0})))}))))),n.createElement(i.a,{item:!0,sm:12},a?E[g.billing_arangement]?n.createElement(d.a,{label:"Billing arrangement",value:E[g.billing_arangement]}):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(b.a,{component:"fieldset"},n.createElement(y.a,{name:"billing_arangement"},n.createElement(N.a,{value:"premium",control:n.createElement(O.a,{checked:"premium"===g.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),u("billing_arangement","premium")}}),label:E.premium}),n.createElement(N.a,{value:"billback",control:n.createElement(O.a,{checked:"billback"===g.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),u("billing_arangement","billback")}}),label:E.billback}),n.createElement(N.a,{classes:f,value:"rider_fee",control:n.createElement(O.a,{checked:"rider_fee"===g.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),u("billing_arangement","rider_fee")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",gutterBottom:!0},E.rider_fee),n.createElement(l.a,{variant:"body1"},"Fee"),n.createElement(c.a,{id:"fee_field",disabled:"rider_fee"!==g.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===g.billing_arangement?g.rider_fee:0,selectValue:"rider_fee"===g.billing_arangement?g.rider_fee_unit:"",fieldOnChange:s,selectOnChange:s,inputProps:{min:0}}))})))))))};W.defaultProps=f;var Y=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly;console.log(a);var l=a;if(r){var c=!0;l=a.filter(function(e){return!(!c||!e.included)&&(c=!1,!0)})}return n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,selectionType:"radio",formattedColumns:{member_type:["member_type"]},columnExtensions:[{columnName:"member_type",width:250,wordWrapEnabled:!0}],columns:[{name:"plan",title:"Plan",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"member_type",title:"Member Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.member_type?e.custom_metadata.member_type:[]}}]},e,{rows:l}))))};Y.defaultProps=f;var q=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,l=a;return r&&(l=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,columnExtensions:[{columnName:"limit_type",width:150,wordWrapEnabled:!0},{columnName:"limit",width:150,wordWrapEnabled:!0},{columnName:"cost",width:150,wordWrapEnabled:!0}],formattedColumns:{php:["cost"],limit:["limit"],limit_type:["limit_type"]},columns:[{name:"provision",title:"Provision",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"limit_type",title:"Limit Type",getCellValue:function(e){return e.limits?e.limits:[]}},{name:"limit",title:"Limit",getCellValue:function(e){return e.limits?e.limits:[]}}]},e,{rows:l}))))};q.defaultProps=f;var K=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,l=a;return r&&(l=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,formattedColumns:{member_type:["member_type"],plan_type:["plan_type"],php:["peso_limit_amt"]},columns:[{name:"name",title:"Provision"},{name:"member_type",title:"Member Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.member_type?e.custom_metadata.member_type:[]}},{name:"plan_type",title:"Plan Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.plan_type?e.custom_metadata.plan_type:[]}},{name:"peso_limit_amt",title:"Peso Limit Amount",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.peso_limit_amt?e.custom_metadata.peso_limit_amt:""}}],columnExtensions:[{columnName:"peso_limit_amt",width:150,wordWrapEnabled:!0}]},e,{rows:l}))))};K.defaultProps=f;var Z=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly,s=e.setSubForm2,u=e.subFormNode,p=e.setSubForm,f=m();console.log(a);var g={};u&&u.custom_metadata&&(g=u.custom_metadata);var E={premium:"Imputed in premiums",fixed_rate_rider:"Scheduled fixed rate for the entire rider",fixed_rate_personnel:"Scheduled fixed rate per personnel deployed",soa_rate:"Scheduled SOA based on fixed rate/hour/personnel deployed",soa_actual_cost:"Scheduled SOA based on actual cost of personnel deployed",rider_fee:"1-time rider fee to be upon start of contract"},v=a;return r&&(v=a.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:r,columnExtensions:[{columnName:"number",width:100,wordWrapEnabled:!0},{columnName:"no_of_days",width:100,wordWrapEnabled:!0},{columnName:"time_from",width:100,filteringEnabled:!1,wordWrapEnabled:!0},{columnName:"time_to",width:100,filteringEnabled:!1,wordWrapEnabled:!0}],formattedColumns:{day:["days_deployed"],number:["number","no_of_days"],time:["time_from","time_to"]},columns:[{name:"name",title:"Personnel"},{name:"number",title:"Number",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.number?e.custom_metadata.number:""}},{name:"no_of_days",title:"No. of Days",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.no_of_days?e.custom_metadata.no_of_days:""}},{name:"days_deployed",title:"Days Deployed",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.days_deployed?e.custom_metadata.days_deployed:[]}},{name:"time_from",title:"Time From",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.time_from?e.custom_metadata.time_from:""}},{name:"time_to",title:"Time To",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.time_to?e.custom_metadata.time_to:""}}]},e,{rows:v}))),n.createElement(i.a,{item:!0,sm:12},r?g.billing_arangement&&g.no_of_members_unit?n.createElement(d.a,{label:"Billing arrangement",value:E[g.billing_arangement]}):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(b.a,{component:"fieldset"},n.createElement(y.a,{name:"billing_arangement"},n.createElement(N.a,{value:"premium",control:n.createElement(O.a,{checked:"premium"===g.billing_arangement,name:"premium",onClick:function(e){e.stopPropagation(),s("billing_arangement","premium")}}),label:E.premium}),n.createElement(N.a,{value:"fixed_rate_rider",control:n.createElement(O.a,{checked:"fixed_rate_rider"===g.billing_arangement,name:"fixed_rate_rider",onClick:function(e){e.stopPropagation(),s("billing_arangement","fixed_rate_rider")}}),label:E.fixed_rate_rider}),n.createElement(N.a,{value:"fixed_rate_personnel",control:n.createElement(O.a,{checked:"fixed_rate_personnel"===g.billing_arangement,name:"fixed_rate_personnel",onClick:function(e){e.stopPropagation(),s("billing_arangement","fixed_rate_personnel")}}),label:E.fixed_rate_personnel}),n.createElement(N.a,{value:"soa_rate",control:n.createElement(O.a,{checked:"soa_rate"===g.billing_arangement,name:"soa_rate",onClick:function(e){e.stopPropagation(),s("billing_arangement","soa_rate")}}),label:E.soa_rate}),n.createElement(N.a,{value:"soa_actual_cost",control:n.createElement(O.a,{checked:"soa_actual_cost"===g.billing_arangement,name:"soa_actual_cost",onClick:function(e){e.stopPropagation(),s("billing_arangement","soa_actual_cost")}}),label:E.soa_actual_cost}),n.createElement(N.a,{classes:f,value:"rider_fee",control:n.createElement(O.a,{checked:"rider_fee"===g.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),s("billing_arangement","rider_fee")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",gutterBottom:!0},E.rider_fee),n.createElement(l.a,{variant:"body1"},"Fee"),n.createElement(c.a,{id:"fee_field",disabled:"rider_fee"!==g.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===g.billing_arangement?g.rider_fee:0,selectValue:"rider_fee"===g.billing_arangement?g.rider_fee_unit:"PHP",fieldOnChange:p,selectOnChange:p,inputProps:{min:0}}))}))))))};Z.defaultProps=f;var Q=function(e){var t=e.formHeader,a=e.viewOnly,r=e.rows,s=e.subFormNode,u=e.setSubForm,p=e.setSubForm2,f=m(),g=Object(n.useState)("inpatient"),E=Object(x.a)(g,2),v=E[0],_=E[1],h={};s&&s.custom_metadata&&(h=s.custom_metadata);var C={imputed_in_premiums:"Imputed in premiums",billback:"Bill back with admin fee",billback_net:"Bill back, net of APE cost with admin fee",rider_fee:"1-time rider fee to be upon enrollment"},S=r;return a&&(S=r.filter(function(e){return!!e.included&&e.included})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},a?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Type"),n.createElement(y.a,{name:"type",value:v,row:!0},n.createElement(N.a,{onClick:function(){return _("inpatient")},value:"inpatient",control:n.createElement(O.a,{checked:"inpatient"===h.benefit_type,name:"inpatient",onClick:function(e){e.stopPropagation(),p("benefit_type","inpatient")}}),label:"Inpatient"}),n.createElement(N.a,{onClick:function(){return _("outpatient")},value:"outpatient",control:n.createElement(O.a,{checked:"outpatient"===h.benefit_type,name:"outpatient",onClick:function(e){e.stopPropagation(),p("benefit_type","outpatient")}}),label:"Outpatient"}))),n.createElement(i.a,{item:!0,sm:12},n.createElement(o.a,Object.assign({viewOnly:a,columnExtensions:[{columnName:"benefit",wordWrapEnabled:!0},{columnName:"number",width:100},{columnName:"peso_limit",width:125}],formattedColumns:{number:["number"],php:["peso_limit"],eligibility:["eligibility"],no_of_members:["no_of_members"]},columns:[{name:"benefit",title:"Benefit",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"eligibility",title:"Eligibility",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.eligibility?e.custom_metadata.eligibility:[]}},{name:"no_of_members",title:"No. of Members",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.no_of_members?e.custom_metadata.no_of_members:0}},{name:"number",title:"Number",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.number?e.custom_metadata.number:0}},{name:"peso_limit",title:"Peso Limit",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.peso_limit?e.custom_metadata.peso_limit:""}}]},e,{rows:S}))),n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{item:!0,sm:12},a?h.waiting_period_type&&h.waiting_period_unit?n.createElement(d.a,{label:"Activation",value:h.waiting_period_type+" "+h.waiting_period_unit}):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Activation"),n.createElement(b.a,{component:"fieldset"},n.createElement(y.a,{name:"waiting_period"},n.createElement(N.a,{classes:f,value:"waiting_period_effectivity",control:n.createElement(O.a,{checked:"effectivity"===h.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),p("waiting_period_type","effectivity")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1"},"Waiting period after effectivity of member"),n.createElement(b.a,null,n.createElement(c.e,{disabled:"effectivity"!==h.waiting_period_type,id:"waiting_period_effectivity",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"effectivity"===h.waiting_period_type?h.waiting_period:0,selectValue:"effectivity"===h.waiting_period_type?h.waiting_period_unit:"",fieldOnChange:u,selectOnChange:u,inputProps:{min:0},noDefault:!0})))}),n.createElement(N.a,{classes:f,value:"waiting_period_hire",control:n.createElement(O.a,{checked:"date_of_hire"===h.waiting_period_type,name:"waiting_period_type",onClick:function(e){e.stopPropagation(),p("waiting_period_type","date_of_hire")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1"},"Waiting period after date of hire"),n.createElement(b.a,null,n.createElement(c.e,{disabled:"date_of_hire"!==h.waiting_period_type,id:"waiting_period_hire",fieldName:"waiting_period",selectName:"waiting_period_unit",fieldValue:"date_of_hire"===h.waiting_period_type?h.waiting_period:0,selectValue:"date_of_hire"===h.waiting_period_type?h.waiting_period_unit:"",fieldOnChange:u,selectOnChange:u,inputProps:{min:0},noDefault:!0})))}))))),a?C[h.billing_arangement]?n.createElement(d.a,{label:"Billing arrangement",value:C[h.billing_arangement]}):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",style:{marginTop:"20px"},gutterBottom:!0},"Billing arrangement"),n.createElement(b.a,{component:"fieldset"},n.createElement(y.a,{name:"billing_arangement"},n.createElement(N.a,{value:"imputed_in_premiums",control:n.createElement(O.a,{checked:"imputed_in_premiums"===h.billing_arangement,name:"imputed_in_premiums",onClick:function(e){e.stopPropagation(),p("billing_arangement","imputed_in_premiums")}}),label:C.imputed_in_premiums}),n.createElement(N.a,{value:"billback",control:n.createElement(O.a,{checked:"billback"===h.billing_arangement,name:"billback",onClick:function(e){e.stopPropagation(),p("billing_arangement","billback")}}),label:C.billback}),n.createElement(N.a,{value:"billback_net",control:n.createElement(O.a,{checked:"billback_net"===h.billing_arangement,name:"billback_net",onClick:function(e){e.stopPropagation(),p("billing_arangement","billback_net")}}),label:C.billback_net}),n.createElement(N.a,{classes:f,value:"rider_fee",control:n.createElement(O.a,{checked:"rider_fee"===h.billing_arangement,name:"rider_fee",onClick:function(e){e.stopPropagation(),p("billing_arangement","rider_fee")}}),label:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"body1",gutterBottom:!0},C.rider_fee),n.createElement(l.a,{variant:"body1"},"Fee"),n.createElement(c.a,{id:"fee_field",disabled:"rider_fee"!==h.billing_arangement,fieldName:"rider_fee",selectName:"rider_fee_unit",fieldValue:"rider_fee"===h.billing_arangement?h.rider_fee:0,selectValue:"rider_fee"===h.billing_arangement?h.rider_fee_unit:"PHP",fieldOnChange:u,selectOnChange:u,inputProps:{min:0}}))}))))))};Q.defaultProps=f;var X=a(731),J=a(264),$=a(744),ee=a(1111),te=Object(u.a)({root:{marginTop:"16px",marginBottom:"8px",width:"200px"},adornedStart:{paddingLeft:0}}),ae=Object(u.a)({notchedOutline:{borderTopRightRadius:0,borderBottomRightRadius:0,width:"65px"},input:{width:"35px",padding:"12px 14px",textTransform:"uppercase"},root:{height:"2.90em"}}),ne=function(e){var t=te(),a=ae(),i=e.id,r=e.label,o=e.minValue,c=e.maxValue,d=e.minName,s=e.maxName,u=[{id:"Min",name:d,value:o,onChange:e.minOnChange},{id:"Max",name:s,value:c,onChange:e.maxOnChange}];return n.createElement(n.Fragment,null,n.createElement(_.a,{htmlFor:i+"_label"},r),u.map(function(r,o){return n.createElement(n.Fragment,null,n.createElement(v.a,{key:o,id:i,value:r.value,onChange:r.onChange,name:r.name,classes:t,type:"number",labelWidth:0,inputProps:{min:e.minValue},startAdornment:n.createElement(ee.a,{position:"start"},n.createElement(v.a,{classes:a,labelWidth:0,id:i+"_adornment",value:r.id,disabled:!0}))}),0===o?n.createElement(l.a,{style:{marginTop:"1.5em",marginLeft:"5px",marginRight:"5px",display:"inline-block"},variant:"body1"},"\u2014"):null)}))},ie=a(127),re=a(51),le=a(59),oe=a(205),ce=a(260),de=a(262),se=a(13),ue=se.a.UI.InputTextField.InputTextField,me=se.a.UI.InputSelect.InputSelect,pe=function(e){var t=Object(n.useState)(null),a=Object(x.a)(t,2),c=a[0],s=a[1],u=Object(n.useState)("civil"),m=Object(x.a)(u,2),p=m[0],f=m[1],g=Boolean(c),h=e.formHeader,O=e.rows,y=e.viewOnly,C=e.setSubForm,N=e.subFormNode,S=e.createRelationship,T=e.createCivilStatus,A=e.deleteCivilStatus,I={};N&&N.custom_metadata&&(I=N.custom_metadata);var D=function(e,t){var a=e.currentTarget;f(t),s(a)},P=function(){s(null)},R=[{name:"name",title:"Relationship"},{name:"type",title:"Type",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.type?e.custom_metadata.type:[]}},{name:"hierarchy",title:"Hierarchy",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.hierarchy?e.custom_metadata.hierarchy:[]}},{name:"enrollment_period",title:"Enrollment Period \n(x days from)",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.enrollment_period?e.custom_metadata.enrollment_period:[]}},{name:"effectivity_coverage",title:"Effectivity Coverage \n(x days from)",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.effectivity_coverage?e.custom_metadata.effectivity_coverage:[]}},{name:"age_limit",title:"Age Limit \n(min-max)",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.age_limit?e.custom_metadata.age_limit:[]}}],w={type:["type"],hierarchy:["hierarchy"],enrollment_period:["enrollment_period"],effectivity_coverage:["effectivity_coverage"],eligibility_age_limit:["age_limit"]},j=[{columnName:"name",width:125,wordWrapEnabled:!0},{columnName:"hierarchy",width:100,wordWrapEnabled:!0},{columnName:"type",width:120,wordWrapEnabled:!0},{columnName:"enrollment_period",width:250,wordWrapEnabled:!0,align:"center"},{columnName:"effectivity_coverage",width:250,wordWrapEnabled:!0,align:"center"},{columnName:"age_limit",width:280,wordWrapEnabled:!0,align:"center"}],L=O;return y&&(L=O.reduce(function(e,t){var a=Object(E.a)(t.child_nodes);return a=a.filter(function(e){return!!e.included&&e.included}),t.child_nodes=a,e.push(t),e},new Array)),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},y?null:h,n.createElement(i.a,{item:!0,sm:12,style:{marginBottom:"20px"}},y?I.principal_age_min||I.principal_age_max?n.createElement(d.a,{label:"Principal Age",value:"".concat(I.principal_age_min?I.principal_age_min:"0","-",I.principal_age_max?I.principal_age_max:"0")}):null:n.createElement(n.Fragment,null,n.createElement(_.a,{htmlFor:"principal_age"},"Principal Age"),n.createElement(ne,{minValue:I.principal_age_min?I.principal_age_min:0,maxValue:I.principal_age_max?I.principal_age_max:0,minOnChange:C,maxOnChange:C,minName:"principal_age_min",maxName:"principal_age_max"})))),n.createElement(i.a,{item:!0,sm:12,style:{marginBottom:"20px"}},y?I.no_of_dependents?n.createElement(d.a,{label:"No. of Dependents",value:I.no_of_dependents}):null:n.createElement(n.Fragment,null,n.createElement(l.a,{variant:"overline",display:"block",gutterBottom:!0},"Dependents"),n.createElement(_.a,{htmlFor:"noDependents"},"No. of Dependents"),n.createElement(b.a,{margin:"normal"},n.createElement(v.a,{inputProps:{min:"0"},onChange:C,value:I.no_of_dependents?I.no_of_dependents:0,type:"number",labelWidth:0,name:"no_of_dependents",id:"no_of_dependents"})))),y?null:n.createElement(i.a,{item:!0,sm:12},n.createElement(r.a,{style:{color:"#3AB77D",marginTop:"20px"},onClick:function(e){return D(e,"civil")}},n.createElement(re.a,{icon:le.u})," Add a Civil Status")),L.map(function(t,a){return!t.included||y&&0===t.child_nodes.length?null:n.createElement(i.a,{item:!0,sm:12,key:a},n.createElement(J.a,{disableGutters:!0,style:{justifyContent:"space-between"}},n.createElement("span",null,t.name,"\xa0",y?null:n.createElement("span",{onClick:function(){return A(t.id)}},n.createElement(re.a,{className:"fa-sm",icon:le.r,style:{color:"#FD5451",fontSize:"15px",marginLeft:"5px"}}))),y?null:n.createElement(r.a,{style:{color:"#3AB77D",width:"150px",marginLeft:"10px",textAlign:"right"},onClick:function(e){return D(e,"relationship")}},n.createElement(re.a,{icon:le.u})," Add a Relationship")),n.createElement(o.a,Object.assign({viewOnly:y,formattedColumns:w,disableSearch:!0,disableFilter:!0,disablePaging:!0,disableMargin:!0,columnExtensions:j,columns:R},e,{rows:t.child_nodes})))}),n.createElement(X.a,{open:g,anchorEl:c,onClose:P,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},"civil"===p?n.createElement(fe,{onSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T(e,t)},onClose:P,rows:O}):null,"relationship"===p?n.createElement(ge,{onSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;S(e,t,a,n,i)},onClose:P,rows:O}):null)))},fe=function(e){var t=e.onClose,a=e.onSubmit,r=Object(n.useState)(""),l=Object(x.a)(r,2),o=l[0],c=l[1],d=Object(n.useState)(""),s=Object(x.a)(d,2),u=s[0],m=s[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),g=f[0],E=f[1],v=Object(n.useState)(!1),b=Object(x.a)(v,2),_=b[0],h=b[1],O=function(){c(""),m(""),E(""),h(!1)};return n.createElement(i.a,{item:!0,sm:12,style:{padding:"10px"}},n.createElement(ce.a,{id:"form-dialog-title"},"Add a Civil Status"),n.createElement(oe.a,null,n.createElement(i.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},n.createElement(i.a,{item:!0,xs:12},n.createElement(ue,{label:"Name",value:o,error:u.length>0,onChange:function(e){c(e),m("")},errorMessage:u})),n.createElement(i.a,{item:!0,xs:12},n.createElement(ue,{label:"Description",value:g,error:_,onChange:function(e){E(e),h(0===e.length)},errorMessage:"Input Description",multiline:!0})))),n.createElement(de.a,null,n.createElement(i.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},n.createElement(i.a,{item:!0,xs:5},n.createElement(ie.a,{variant:"outlined",color:"default",fullWidth:!0,onClick:function(){O(),t()}},"Cancel")),n.createElement(i.a,{item:!0,xs:5},n.createElement(ie.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){for(var n=0,i=0;i<e.rows.length;i++)e.rows[i].name.toUpperCase().trim()===o.toUpperCase().trim()&&(n=1);0!==o.trim().length&&1!==n||m(1===n?"Name is Already Used":"Input Name"),0===g.length&&h(!0),o.trim().length>0&&g.length>0&&0===n&&(O(),a(o,g),t())}},"Add")))))},ge=function(e){var t=e.onClose,a=e.onSubmit,r=e.rows,l=Object(n.useState)(""),o=Object(x.a)(l,2),c=o[0],d=o[1],s=Object(n.useState)(!1),u=Object(x.a)(s,2),m=u[0],p=u[1],f=Object(n.useState)(""),g=Object(x.a)(f,2),E=g[0],v=g[1],b=Object(n.useState)(""),_=Object(x.a)(b,2),h=_[0],O=_[1],y=Object(n.useState)(""),C=Object(x.a)(y,2),N=C[0],S=C[1],T=Object(n.useState)(""),A=Object(x.a)(T,2),I=A[0],D=A[1],P=Object(n.useState)(!1),R=Object(x.a)(P,2),w=R[0],j=R[1],L=Object(n.useState)(""),k=Object(x.a)(L,2),F=k[0],B=k[1],M=Object(n.useState)(!1),U=Object(x.a)(M,2),V=U[0],H=U[1],G=Object(n.useState)(""),z=Object(x.a)(G,2),W=z[0],Y=z[1],q=Object(n.useState)(!1),K=Object(x.a)(q,2),Z=K[0],Q=K[1],X=Object(n.useState)(""),J=Object(x.a)(X,2),ee=J[0],te=J[1],ae=Object(n.useState)(!1),ne=Object(x.a)(ae,2),re=ne[0],le=ne[1],se=Object(n.useState)(""),pe=Object(x.a)(se,2),fe=pe[0],ge=pe[1],Ee=Object(n.useState)(!1),ve=Object(x.a)(Ee,2),be=ve[0],_e=ve[1],he=Object(n.useState)(""),Oe=Object(x.a)(he,2),ye=Oe[0],Ce=Oe[1],Ne=Object(n.useState)(!1),Se=Object(x.a)(Ne,2),Te=Se[0],Ae=Se[1],Ie=Object(n.useState)(""),De=Object(x.a)(Ie,2),Pe=De[0],Re=De[1],we=Object(n.useState)(!1),je=Object(x.a)(we,2),xe=je[0],Le=je[1],ke=Object(n.useState)(""),Fe=Object(x.a)(ke,2),Be=Fe[0],Me=Fe[1],Ue=Object(n.useState)(!1),Ve=Object(x.a)(Ue,2),He=Ve[0],Ge=Ve[1],ze=Object(n.useState)(""),We=Object(x.a)(ze,2),Ye=We[0],qe=We[1],Ke=Object(n.useState)(!1),Ze=Object(x.a)(Ke,2),Qe=Ze[0],Xe=Ze[1],Je=Object(n.useState)(""),$e=Object(x.a)(Je,2),et=$e[0],tt=$e[1],at=Object(n.useState)(!1),nt=Object(x.a)(at,2),it=nt[0],rt=nt[1],lt=function(){d(""),p(!1),v(""),O(""),S(""),D(""),j(!1),B(""),H(!1),Y(""),Q(!1),te(""),le(!1),ge(""),_e(!1),Ce(""),Ae(!1)},ot=function(){return $.e};return n.createElement(i.a,{item:!0,sm:12,style:{padding:"10px"}},n.createElement(ce.a,{id:"form-dialog-title"},"Add a Relationship"),n.createElement(oe.a,null,n.createElement(i.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},n.createElement(i.a,{item:!0,sm:12},n.createElement(me,{id:"civil-status-select",label:"Civil Status",data:r.reduce(function(e,t,a){if(t.included){var n={id:a,label:t.name,value:t.code};e.push(n)}return e},new Array),value:c,error:m,onChange:function(e){var t=e.value;d(t),p(0===t.length)}})),n.createElement(i.a,{item:!0,sm:12},n.createElement(me,{id:"relationship-select",label:"Relationship to Principal",data:function(){var t=e.rows.find(function(e){return e.code===c});return void 0!==t?$.r.reduce(function(e,a){return t.child_nodes.find(function(e){return e.code===a.value})||e.push(a),e},new Array):$.r}(),value:E,error:""!==N,onChange:function(e){var t=e.label,a=e.value;v(t),O(a),S("")}})),n.createElement(i.a,{item:!0,sm:8},n.createElement(me,{id:"type-select",label:"Type",data:$.v,value:I,error:w,onChange:function(e){var t=e.value;D(t),j(0===t.length)}})),n.createElement(i.a,{item:!0,sm:4},n.createElement(me,{id:"hierarchy-select",label:"Hierarchy",data:$.i,value:F,error:V,onChange:function(e){var t=e.value;B(t),H(0===t.length)}})),n.createElement(i.a,{item:!0,sm:3},n.createElement(ue,{id:"enrollment-select",label:"Enrollment Period (x days from)",value:W,error:Z,onChange:function(e){Y(e),Q(0===e.length)}})),n.createElement(i.a,{item:!0,sm:9},n.createElement(me,{id:"enrollment-unit-select",label:"\xa0",data:$.h,value:ee,error:re,onChange:function(e){var t=e.value;te(t),le(0===t.length)}})),n.createElement(i.a,{item:!0,sm:3},n.createElement(ue,{id:"effectivity-select",label:"Effectivity Coverage (x days from)",value:fe,error:be,onChange:function(e){ge(e),_e(0===e.length)}})),n.createElement(i.a,{item:!0,sm:9},n.createElement(me,{id:"effectivity-unit-select",label:"\xa0",data:$.d,value:ye,error:Te,onChange:function(e){var t=e.value;Ce(t),Ae(0===t.length)}})),n.createElement(i.a,{item:!0,sm:3},n.createElement(ue,{id:"age-limit-min-select",label:"Age Limit (min)",value:Pe,error:xe,onChange:function(e){Re(e),Le(0===e.length)}})),n.createElement(i.a,{item:!0,sm:3},n.createElement(me,{id:"age-limit-min-unit-select",label:"\xa0",data:ot(),value:Be,error:He,onChange:function(e){var t=e.value;Me(t),Ge(0===t.length)}})),n.createElement(i.a,{item:!0,sm:3},n.createElement(ue,{id:"age-limit-max-select",label:"Age Limit (max)",value:Ye,error:Qe,onChange:function(e){qe(e),Xe(0===e.length)}})),n.createElement(i.a,{item:!0,sm:3},n.createElement(me,{id:"age-limit-max-unit-select",label:"\xa0",data:ot(),value:et,error:it,onChange:function(e){var t=e.value;tt(t),rt(0===t.length)}})),n.createElement(i.a,{item:!0,sm:12}))),n.createElement(de.a,null,n.createElement(i.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},n.createElement(i.a,{item:!0,xs:5},n.createElement(ie.a,{variant:"outlined",color:"default",fullWidth:!0,onClick:function(){lt(),t()}},"Cancel")),n.createElement(i.a,{item:!0,xs:5},n.createElement(ie.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){var n=0,i=0;if(0===c.length)p(!0);else{for(var l=0;l<e.rows.length;l++)c===e.rows[l].code&&(n=l);for(var o=0;o<e.rows[n].child_nodes.length;o++)E.toUpperCase().trim()===e.rows[n].child_nodes[o].name.toUpperCase().trim()&&(i=1)}if(0===I.length&&j(!0),0===E.trim().length||1===i?S(1===i?"Relationship is Already used in Selected Civil Status":"Relationship is Required"):S(""),0===W.length&&Q(!0),0===ee.length&&le(!0),0===fe.length&&_e(!0),0===ye.length&&Ae(!0),0===Pe.length&&Le(!0),0===Be.length&&Ge(!0),0===Ye.length&&Xe(!0),0===et.length&&Ge(!0),c.length>0&&I.length>0&&E.length>0&&W.length>0&&ee.length>0&&fe.length>0&&ye.length>0&&Pe.length>0&&Be.length>0&&Ye.length>0&&et.length>0&&0===i){var d=r.find(function(e){return c===e.code}),s={type:I,relationship:E,hierarchy:F.length>0?F:null,enrollment_period:W,enrollment_period_unit:ee,effectivity_coverage:fe,effectivity_coverage_unit:ye,age_limit_min:Pe,age_limit_min_unit:Be,age_limit_max:Ye,age_limit_max_unit:et};lt(),a(E,h,"description",s,d),t()}}},"Add")))))};pe.defaultProps=f;var Ee=function(e){var t=e.formHeader,a=e.rows,r=e.viewOnly;console.log(a);var l=a;return r&&(l=a.filter(function(e){return(!e.is_base||!e.included)&&(!!e.included&&e.included)})),n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:12},n.createElement(i.a,{container:!0,spacing:2,style:{marginTop:"27.5px"}},r?null:t)),n.createElement(i.a,{item:!0,sm:12},n.createElement(J.a,{disableGutters:!0,style:{justifyContent:"space-between"}},"BASIS FOR ENROLLMENT"),n.createElement(o.a,Object.assign({viewOnly:r,formattedColumns:{identifier:["value"]},columnExtensions:[],columns:[{name:"data",title:"Data",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.title?e.custom_metadata.title:"-"}},{name:"value",title:"Value",getCellValue:function(e){return e.custom_metadata&&e.custom_metadata.value?e.custom_metadata.value:""}}],disableSearch:!0,disableFilter:!0,disablePaging:!0,disableMargin:!0},e,{rows:l}))))};Ee.defaultProps=f,a.d(t,"a",function(){return be});var ve={selectedPlanType:"",selectedBenefitCategory:"",subFormNode:{},rows:[],setRowMetadata:function(e,t){return console.log("setRowMetadata",e,t)},setRowMetadata2:function(e,t,a){return console.log("setRowMetadata2",e,t,a)},setRowLimits:function(e,t){return console.log("setRowMetadata",e,t)},setRowSelection:function(e){return console.log("setRowSelection",e)},setSubForm:function(e){return console.log("setSubForm",e)},setSubForm2:function(e){return console.log("setSubForm",e)},createRelationship:function(e){return console.log("createRelationship",e)},createCivilStatus:function(e){return console.log("createCivilStatus",e)},deleteCivilStatus:function(e){return console.log("deleteCivilStatus",e)},viewOnly:!1},be=function(e){var t=e.rows,a=e.selectedPlanType,o=e.selectedBenefitCategory,c=null;return"BASE"===a&&(c=n.createElement(i.a,{item:!0,sm:12},n.createElement(l.a,{variant:"h6"},"Base Plan"),n.createElement(l.a,{variant:"body1",gutterBottom:!0},"You can use everything in this base plan or ",n.createElement(r.a,null,"create your own")))),"RBC"===o?n.createElement(S,Object.assign({formHeader:c},e)):"APE"===o?n.createElement(A,Object.assign({formHeader:c},e)):"PPE"===o?(console.log("PPE SELECTED"),n.createElement(I,Object.assign({formHeader:c},e))):"IP"===o?n.createElement(g,Object.assign({formHeader:c},e)):"OP"===o?n.createElement(D,Object.assign({formHeader:c},e)):"DNT"===o?n.createElement(R,Object.assign({formHeader:c},e)):"EM"===o?n.createElement(P,Object.assign({formHeader:c},e)):"OM"===o?n.createElement(w,Object.assign({formHeader:c},e)):"EX"===o?n.createElement(j,Object.assign({formHeader:c},e)):"NT"===o?n.createElement(G,Object.assign({formHeader:c},e)):"SD"===o?n.createElement(z,Object.assign({formHeader:c},e)):"MT"===o?n.createElement(W,Object.assign({formHeader:c},e)):"SH"===o?n.createElement(Y,Object.assign({formHeader:c},e)):"PV"===o?n.createElement(q,Object.assign({formHeader:c},e)):"ADD"===o?n.createElement(K,Object.assign({formHeader:c},e)):"CC"===o?n.createElement(Z,Object.assign({formHeader:c},e)):"EC"===o?n.createElement(Q,Object.assign({formHeader:c},e)):"EL"===o?n.createElement(pe,Object.assign({formHeader:c},e)):"ID"===o?n.createElement(Ee,Object.assign({formHeader:c},e)):t.length>0?n.createElement(T,Object.assign({formHeader:c},e)):null};be.defaultProps=ve},766:function(e,t,a){"use strict";a.d(t,"a",function(){return E});var n=a(0),i=a.n(n),r=a(1119),l=a(683),o=a(262),c=a(205),d=a(260),s=a(164),u=a(741),m=a.n(u),p=a(37),f=a(43),g=Object(f.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700}}}),E=function(e){var t=g();return i.a.createElement(l.a,{open:e.isModalOpen,onClose:e.onClose,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},i.a.createElement("div",null,i.a.createElement(p.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},i.a.createElement(p.a,{item:!0,xs:!0},i.a.createElement(d.a,{className:t.dialogTitle,disableTypography:!1,id:"form-dialog-title"},i.a.createElement(r.a,{fontWeight:700},e.title),i.a.createElement(s.a,{"aria-label":"close",className:t.closeButton,onClick:e.onClose},i.a.createElement(m.a,null)))),i.a.createElement(p.a,{item:!0,xs:!0,className:t.dialogContentContainer},i.a.createElement(c.a,null,i.a.createElement(p.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},i.a.createElement(p.a,{item:!0,xs:12},e.message))),i.a.createElement(o.a,{className:t.dialogAction},void 0!==e.buttons?e.buttons:null)))))};E.defaultProps={isModalOpen:!1}},767:function(e,t,a){"use strict";a.d(t,"a",function(){return E});var n=a(0),i=a(37),r=a(141),l=a(737),o=a(735),c=a(206),d=a(50),s=a(51),u=a(59),m=a(738),p=a(164),f=a(765),g={contractNode:{},setChangeBenefitForm:function(e){return console.log("setChangeBenefitForm",e)},viewOnly:!1,classes:{},isSME:!1},E=function(e){var t=e.viewOnly,a=e.isSME,g=e.contractNode,E=e.setChangeBenefitForm,v=e.classes,b=n.useCallback(function(e){console.log(e)},[]),_=Object(f.b)({onDrop:b}),h=_.acceptedFiles,O=_.getRootProps,y=_.getInputProps,C=_.isDragActive;h?h.length>0&&(e.contractNode.uploadedComputation=h):e.contractNode.uploadedComputation=[];var N=e.contractNode.uploadedComputation&&e.contractNode.uploadedComputation.length&&e.contractNode.uploadedComputation[0].path?e.contractNode.uploadedComputation.map(function(a){return n.createElement("li",{key:a.path},a.name?a.name:a.path,t?null:n.createElement(p.a,{style:{display:"inline-block",marginTop:"10px",marginBottom:"20px",marginLeft:"8px"},disableRipple:!0,size:"small",name:"UploadedComputations",value:"",onClick:function(t){console.log(t);var a=e.contractNode.uploadedComputation.filter(function(e){return e.field});a.length>0&&(e.contractNode.deletedComputation=a),h.length=0,e.contractNode.uploadedComputation.length=0,e.setChangeBenefitForm&&e.setChangeBenefitForm(t)}},n.createElement(s.a,{icon:u.F})))}):[],S={};g&&void 0!==g.custom_metadata&&(S=g.custom_metadata);var T=function(e,t){var n="PHP",i=0;return t&&(n=t),e?(i=e,n+" "+m.a.formatNumber(i)):a?"PHP 1,000,000":"-"};return n.createElement(n.Fragment,null,n.createElement(i.a,{item:!0,sm:3,style:{marginTop:"40px"}},t?n.createElement(o.a,{label:"Requested Premium",value:T(S.requested_premium,S.requested_premium_unit)}):n.createElement(l.a,{id:"requestedPremium",label:"Requested Premium",helperText:"Suggested: 1,000,000",fieldName:"requested_premium",selectName:"requested_premium_unit",fieldValue:S.requested_premium,selectValue:S.requested_premium_unit,fieldOnChange:E,selectOnChange:E})),n.createElement(c.a,{xsDown:!0},n.createElement(i.a,{item:!0,sm:9})),a?null:n.createElement(i.a,{item:!0,sm:4,style:{marginTop:"60px"}},n.createElement(d.a,{className:v.fieldGroupTitle,gutterBottom:!0},"REASON FOR THE REQUEST")),a?null:n.createElement(c.a,{xsDown:!0},n.createElement(i.a,{item:!0,sm:8})),a?null:n.createElement(i.a,{item:!0,sm:6},n.createElement(i.a,{container:!0,spacing:2},n.createElement(i.a,{item:!0,sm:6},t?n.createElement(o.a,{label:"Total Company Budget",value:T(S.total_company_budget,S.total_company_budget_unit)}):n.createElement(l.a,{id:"totalCompanyBudget",label:"Total Company Budget",fieldName:"total_company_budget",selectName:"total_company_budget_unit",fieldValue:S.total_company_budget,selectValue:S.total_company_budget_unit,fieldOnChange:E,selectOnChange:E})),n.createElement(i.a,{item:!0,sm:6},t?n.createElement(o.a,{label:"Competitor\u2019s Rates",value:T(S.competitors_rates,S.competitors_rates_unit)}):n.createElement(l.a,{id:"competitorsRates",label:"Competitor\u2019s Rates",fieldName:"competitors_rates",selectName:"competitors_rates_unit",fieldValue:S.competitors_rates,selectValue:S.competitors_rates_unit,fieldOnChange:E,selectOnChange:E})),n.createElement(i.a,{item:!0,sm:6},t?n.createElement(o.a,{label:"Budget per Head",value:T(S.budget_per_head,S.budget_per_head_unit)}):n.createElement(l.a,{id:"budgetPerHead",label:"Budget per Head",fieldName:"budget_per_head",selectName:"budget_per_head_unit",fieldValue:S.budget_per_head,selectValue:S.budget_per_head_unit,fieldOnChange:E,selectOnChange:E})),n.createElement(i.a,{item:!0,sm:6},t?n.createElement(o.a,{label:"Own Computation",value:T(S.own_computation,S.own_computation_unit)}):n.createElement(l.a,{id:"ownComputation",label:"Own Computation",fieldName:"own_computation",selectName:"own_computation_unit",fieldValue:S.own_computation,selectValue:S.own_computation_unit,fieldOnChange:E,selectOnChange:E})))),a?null:n.createElement(i.a,{item:!0,sm:6},t?n.createElement(n.Fragment,null,N.length>0?n.createElement("div",{id:"UploadedCont"},n.createElement(d.a,null,"Uploaded File"),n.createElement("ul",null,N)):null):n.createElement(n.Fragment,null,n.createElement(r.a,{htmlFor:"computationsFile"},"Upload Computation"),n.createElement("div",O({className:v.dropzone}),n.createElement("input",y()),C?n.createElement("p",null,"Click or drag/drop files"):n.createElement(n.Fragment,null,n.createElement(s.a,{icon:u.m}),n.createElement(d.a,null,"Click or drag/drop files"))),n.createElement("aside",null,N.length>0?n.createElement("div",null,n.createElement(d.a,null,"Uploaded File"),n.createElement("ul",null,N)):null))))};E.defaultProps=g},768:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(0),i=a(37),r=a(685),l=a(764),o=a(760),c=a(767),d=a(50),s=(a(742),a(43)),u=Object(s.a)({titleHeader:{marginTop:"15px"}}),m=function(e){var t=e.contractNode,a=e.categoryNode,s=e.rows,m=e.roomAndBoardList,p=e.coverageList,f=e.riderList,g=e.planTypeList,E=e.selectedPlanType,v=e.selectedBenefitCategory,b=e.SetSelectedPlanPackage,_=e.SetSelectedBenefitCategory,h=e.classes,O=e.submitMode,y=u();return n.createElement(i.a,{container:!0,className:h.gridContainer},n.createElement(i.a,{item:!0,sm:12,className:y.titleHeader},O?n.createElement(d.a,{gutterBottom:!0,className:h.sectionTitle},"Proposal"):n.createElement(d.a,{gutterBottom:!0,className:h.sectionTitle},"Standard SME Plan")),n.createElement(c.a,{classes:h,contractNode:t,viewOnly:!0,isSME:!0}),n.createElement(i.a,{item:!0,sm:12,style:{marginTop:"20px",marginBottom:"10px"}},n.createElement(d.a,{variant:"h6"},g.map(function(e){var t="benefits";return 1===e.count&&(t="benefit"),"BASE"===e.code?"".concat(e.count," ").concat(t):null}))),n.createElement(i.a,{item:!0,sm:12},n.createElement(r.a,{variant:"middle"})),n.createElement(i.a,{item:!0,sm:2},n.createElement(o.a,{selectedBenefitCategory:v,roomAndBoardList:m,riderList:f,coverageList:p,setSelectedPlanPackage:b,setSelectedBenefitCategory:_,viewOnly:!0})),n.createElement(i.a,{item:!0,sm:10},n.createElement(l.a,{selectedPlanType:E,selectedBenefitCategory:v,subFormNode:a,rows:s,viewOnly:!0})))}},769:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(0),i=a.n(n),r=a(127),l=a(683),o=a(262),c=a(205),d=a(260),s=a(37),u=a(43),m=a(7),p=Object(u.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2)}}}),f=function(e){var t=p();return i.a.createElement(l.a,{open:e.isModalOpen,onClose:function(){e.onClose(!1)},"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},i.a.createElement(d.a,{id:"form-dialog-title"},e.title),i.a.createElement(c.a,null,i.a.createElement(s.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},i.a.createElement(s.a,{item:!0,xs:12},e.message))),i.a.createElement(o.a,{className:Object(m.default)(t.dialogAction)},i.a.createElement(s.a,{container:!0,spacing:2,justify:"center",alignItems:"flex-start"},i.a.createElement(s.a,{item:!0,xs:4},i.a.createElement(r.a,{onClick:function(){e.onClose(!0)},variant:"outlined",color:"default",fullWidth:!0},"Cancel")),i.a.createElement(s.a,{item:!0,xs:4},i.a.createElement(r.a,{onClick:function(){e.onSubmit(),e.onClose(!1)},variant:"contained",color:"primary",fullWidth:!0},"submit"===e.submitType?"Submit":"Confirm")))))};f.defaultProps={isModalOpen:!1}},774:function(e,t,a){"use strict";var n=a(0),i=a(781),r=a.n(i),l=a(1120),o=a(127),c=a(271),d=a(164),s=a(1117),u=a(50),m=a(51),p=a(59),f=function(e){var t=e.label,a=e.subtitle,i=Object(c.a)(e,["label","subtitle"]);return n.createElement(s.a,Object.assign({label:n.createElement("div",null,n.createElement(u.a,{className:"tab_text",variant:"h6"},t,n.createElement(d.a,{size:"small"}),e.viewOnly||"BASE"===e.value?null:n.createElement("span",{className:"edit_btn",style:{position:"relative",top:0,right:0},onClick:function(){e.onEdit(e.benefit_id,e.name)}},n.createElement(m.a,{className:"fa-sm",icon:p.t,style:{color:"#3AB77D"}}))),a?n.createElement(u.a,{className:"tab_caption",variant:"caption"},a):null,n.createElement("br",null),void 0!==e.data&&void 0!==e.data.requested_rate&&0!==e.data.requested_rate?n.createElement(u.a,{className:"tab_caption",variant:"caption"},e.data.requested_rate+" PHP"):null)},i))};a.d(t,"a",function(){return g});var g=function(e){var t=e.selectedPlanType,a=e.viewOnly,i=e.planTypeList,c=e.setSelectedPlanType,d=e.setModalOpen,s=e.showEditPlanType;return n.createElement(n.Fragment,null,i.length>0?n.createElement(l.a,{value:t,style:{marginTop:"40px"},variant:"scrollable",scrollButtons:"auto"},i.map(function(e){var t="benefits";return 1===e.count&&(t="benefit"),e.name&&e.code&&e.included?n.createElement(f,{value:e.code,label:e.name,benefit_id:e.id,name:e.name,data:e.custom_metadata?e.custom_metadata:void 0,subtitle:"BASE"===e.code?"".concat(e.count," ").concat(t):"+".concat(e.count," ").concat(t),onClick:function(){return c(e.code)},onEdit:s,viewOnly:a}):null}),a?null:n.createElement("div",{style:{display:"inline-flex",alignItems:"center"}},n.createElement(o.a,{variant:"contained",color:"primary",onClick:d},n.createElement(r.a,null),"Add Plan Type"))):null)}},781:function(e,t,a){"use strict";var n=a(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(168)).default)(i.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=r},782:function(e,t,a){},788:function(e,t,a){"use strict";a.r(t);var n=a(269),i=a(208),r=a(29),l=a(0),o=a.n(l),c=a(123),d=a(80),s=a(43),u=a(127),m=a(758),p=a(738),f=a(78),g=function(e){return{payload:e,type:f.a.ApproveProposal.SetBenefitNodes}},E=function(e){return{payload:e,type:f.a.ApproveProposal.SetProposalInfo}},v=function(e){return{payload:e,type:f.a.ApproveProposal.SetExclusionList}},b=function(e){return{payload:e,type:f.a.ApproveProposal.SetNewNodeCounter}},_=function(e){return{payload:e,type:f.a.ApproveProposal.SetClientData}},h=function(e){return{payload:e,type:f.a.ApproveProposal.SetSelectedSummaryPackage}},O=function(e){return{payload:e,type:f.a.ApproveProposal.SetSelectedSummaryCategory}},y=function(e){return{payload:e,type:f.a.ApproveProposal.SetSelectedPlanType}},C=function(e){return{payload:e,type:f.a.ApproveProposal.SetSelectedPlanPackage}},N=function(e){return{payload:e,type:f.a.ApproveProposal.SetSelectedBenefitCategory}},S=function(e){return{payload:e,type:f.a.ApproveProposal.SetEditedNodeList}},T=a(683),A=a(37),I=a(260),D=a(164),P=a(205),R=a(261),w=a(1113),j=a(682),x=a(687),L=a(262),k=a(741),F=a.n(k),B=Object(s.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{paddingTop:"0px"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700},dialogContentContainer:{width:"100%"},dialogAction:{marginBottom:e.spacing(3),marginTop:e.spacing(2),justifyContent:"center"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),M=function(e){var t=e.isModalOpen,a=e.id,n=B();return l.createElement(T.a,{id:a,open:t,"aria-labelledby":"modal-title",className:n.dialog,style:{zIndex:9999}},l.createElement("div",null,l.createElement(A.a,{container:!0,className:n.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},l.createElement(A.a,{item:!0,xs:12},l.createElement(I.a,{className:n.dialogTitle,disableTypography:!0,id:"modal-title"},e.title,l.createElement(D.a,{"aria-label":"close",className:n.closeButton,onClick:function(){e.onClose&&e.onClose(!1)}},l.createElement(F.a,null)))),l.createElement(A.a,{item:!0,xs:12,className:n.dialogContentContainer},l.createElement(P.a,{className:n.dialogContent,style:{padding:"0px 20px 10px 20px"}},l.createElement(R.a,{className:n.dialogContentText},e.message,!0===e.allowRevision?l.createElement("div",null,l.createElement(w.a,null,l.createElement(j.a,{style:{paddingTop:"15px"},className:"allowed_revision",control:l.createElement(x.a,{checked:e.allowedRevise,color:"primary",onChange:function(t){t.stopPropagation(),console.log(" e.target.checked >>>",t.target.checked),e.setAllowedRevise(t.target.checked)}}),label:"Allow the BDO to revise"}))):null)),l.createElement(L.a,{className:n.dialogAction},e.buttons)))))};M.defaultProps={isModalOpen:!1,id:"proposal_approval_modal",message:"This is a sample modal.",title:"Sample Modal",allowRevision:!1};var U=a(272),V=a(211),H=a(757),G=function(e){return e.pages.approveProposal.exclusionList},z=function(e){return e.pages.approveProposal.proposalInfo},W=function(e){return e.pages.approveProposal.benefitNodes},Y=function(e){return e.pages.approveProposal.newNodeCounter},q=function(e){return e.pages.approveProposal.selectedSummaryPackage},K=function(e){return e.pages.approveProposal.selectedSummaryCategory},Z=function(e){return e.pages.approveProposal.selectedPlanType},Q=function(e){return e.pages.approveProposal.selectedPlanPackage},X=function(e){return e.pages.approveProposal.selectedBenefitCategory},J=function(e){return e.pages.approveProposal.clientData},$=function(e){return e.pages.approveProposal.editedNodeList},ee=Object(V.a)(J,function(e){return e.businessData}),te=Object(V.a)(J,function(e){return e.natureData}),ae=Object(V.a)(J,function(e){return e.contactDetailsData}),ne=Object(V.a)(J,function(e){return e.HMOData}),ie=Object(V.a)(J,function(e){return e.principalData}),re=Object(V.a)(W,function(e){return Object(H.h)(e,2)}),le=Object(V.a)(W,function(e){return Object(H.h)(e,3)}),oe=Object(V.a)(W,function(e){return Object(H.h)(e,4)}),ce=Object(V.a)(W,function(e){return Object(H.h)(e,5)}),de=Object(V.a)(W,function(e){return Object(H.h)(e,6)}),se=Object(V.a)(W,function(e){return Object(H.h)(e,7)}),ue=Object(V.a)(W,function(e){return Object(H.h)(e,8)}),me=Object(V.a)(re,function(e){return Object(H.d)(e)}),pe=Object(V.a)(oe,ce,Z,Q,X,function(e,t,a,n,i){return Object(H.b)(e,t,a,n,i)}),fe=Object(V.a)(oe,ce,de,se,function(e,t,a,n){var r=t.filter(function(e){var t=[];return t=["SH","DNT","EC","CC","PV","EM","ADD","SD"].includes(e.code)?(t=a.filter(function(t){return t.tree_path[2]===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&!0===t.included})).filter(function(e){return!e.is_base}):(t=n.filter(function(t){return t.tree_path[2]===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&t.tree_path[4]===e.tree_path[4]&&!0===t.included})).filter(function(e){return!e.is_base}),"BASE"!==e.tree_path[2]&&["CV","RI"].includes(e.tree_path[3])&&t.length>0}),l=e.filter(function(e){var a=[];return["RB"].includes(e.code)&&(a=(a=t.filter(function(t){return t.tree_path[2]===e.tree_path[2]&&t.tree_path[3]===e.tree_path[3]&&!0===t.included})).filter(function(e){return!e.is_base})),"BASE"!==e.tree_path[2]&&a.length>0});return r=(r=[].concat(Object(i.a)(r),Object(i.a)(l))).filter(function(e,t){var a=r.findIndex(function(t){return t.name===e.name&&t.code===e.code});return void 0===a||a===t})}),ge=Object(V.a)(le,ce,de,se,q,K,function(e,t,a,n,i,r){return e.reduce(function(e,l){if("BASE"!==l.code){var o=Object.assign({},l),c=o.code,d=[];if(["SH","DNT","EC","CC","PV","EM","ADD","SD"].includes(r))d=(d=a.filter(function(e){return e.tree_path[2]===c&&e.tree_path[3]===i&&e.tree_path[4]===r&&!0===e.included})).filter(function(e){return!e.is_base});else if(["RB"].includes(r)){d=t.filter(function(e){return e.tree_path[2]===c&&e.tree_path[3]===r&&!0===e.included});var s=!0;d=d.filter(function(e){return!(e.is_base||!s)&&(s=!1,!0)})}else d=(d=n.filter(function(e){return e.tree_path[2]===c&&e.tree_path[3]===i&&e.tree_path[4]===r&&!0===e.included})).filter(function(e){return!e.is_base});o.child_nodes=d,o.child_nodes.length>0&&e.push(o)}return e},new Array)}),Ee=Object(V.a)(le,se,de,ue,function(e,t,a,n){return Object(H.j)(e,t,a,n)}),ve=Object(V.a)(G,ce,de,se,ue,Z,Q,X,function(e,t,a,n,i,r,l,o){return Object(H.l)(e,t,a,n,i,r,l,o)}),be=Object(V.a)(ce,Z,function(e,t){return Object(H.p)(e,t,"RB")}),_e=Object(V.a)(ce,Z,function(e,t){return Object(H.p)(e,t,"CV")}),he=Object(V.a)(ce,Z,function(e,t){return Object(H.p)(e,t,"RI")}),Oe=a(736),ye=a(751),Ce=a(50),Ne=a(1107),Se=a(1108),Te=a(1109),Ae=a(1126),Ie=a(13),De=Object(s.a)({gridContainer:{minHeight:"100px"},breadCrumbs:{marginBottom:"10px"},headerTitle:{fontSize:32,fontWeight:700,marginTop:"20px"},linkPrevious:{fontSize:12,fontWeight:300,color:"black",cursor:"pointer"},linkCurrent:{fontSize:12,color:"black",cursor:"pointer"},stepper:{width:"600px"},stepConnector:{left:"calc(-50% + 12px)",right:"calc(50% + 12px)"}}),Pe=function(e){var t=De(),a=e.links,n=e.title,i=e.step,r=e.steps;return l.createElement("div",null,l.createElement(A.a,{container:!0,justify:"space-between",alignItems:"center",className:t.gridContainer},l.createElement(A.a,{item:!0},l.createElement(Ie.a.UI.BreadcrumbsComponent,{items:a}),l.createElement(Ce.a,{className:t.headerTitle},n)),l.createElement(A.a,{item:!0},l.createElement(Ne.a,{activeStep:i,alternativeLabel:!0,className:t.stepper,connector:l.createElement(Se.a,{className:t.stepConnector})},r.map(function(e){return l.createElement(Te.a,{key:e},l.createElement(Ae.a,{icon:" "},e))})))))},Re=a(743),we=a(750),je=a(761),xe=a(1120),Le=a(1117),ke=a(1098),Fe=a(1102),Be=a(1101),Me=a(1099),Ue=a(1100),Ve=a(744),He=[].concat(Object(i.a)(Ve.g),[Ve.k]),Ge=function(e){var t=e.classes,a=e.summaryPackages,n=e.summaryBenefits,i=e.selectedSummaryCategory,r=e.SetSelectedSummaryPackage,c=e.SetSelectedSummaryCategory;return Object(l.useEffect)(function(){if(a.length>0){var e=a[0];r("".concat(e.tree_path[3])),c("".concat(e.code))}},[]),o.a.createElement(A.a,{container:!0,className:t.gridContainer},o.a.createElement(A.a,{item:!0,xs:12},o.a.createElement(Ce.a,{className:t.sectionTitle},"Summary Per Plan Type"),o.a.createElement(xe.a,{value:i,variant:"scrollable",className:t.tabs},a.length>0?a.map(function(e,a){return o.a.createElement(Le.a,{key:a,value:e.code,label:e.name,className:t.tab,onClick:function(){r("".concat(e.tree_path[3])),c("".concat(e.code))}})}):null),o.a.createElement(ke.a,{className:t.table},o.a.createElement(Me.a,null,o.a.createElement(Ue.a,null,o.a.createElement(Be.a,{className:t.columnCategory}),o.a.createElement(Be.a,{className:t.columnBenefit},"Benefit"),o.a.createElement(Be.a,{className:t.columnLimit},"Limit"),o.a.createElement(Be.a,{className:t.columnEligibility},"Eligibility"))),o.a.createElement(Fe.a,null,n.length>0?n.map(function(e,a){return e.child_nodes&&e.child_nodes.length>0?e.child_nodes.map(function(n,i){return o.a.createElement(Ue.a,{className:a%2?t.tableRowEven:t.tableRowOdd,key:i},0===i?o.a.createElement(Be.a,{component:"th",scope:"row",rowSpan:e.child_nodes.length},e.name):null,o.a.createElement(Be.a,null,n.name),o.a.createElement(Be.a,null,n.limits&&n.limits.length>0?n.limits.map(function(e,t){var a=Ve.j.find(function(t){return t.type===e.type&&t.limit_unit===e.limit_unit}),n="",i="",r=e.limit;return a&&(n=a.label+": "),"PHP"===e.limit_unit&&(i="PHP",r=p.a.formatNumber(r)),"Percentage"===e.limit_unit&&(i="%",["ABL","MBL"].includes(e.type)&&(i="% "+e.type)),"Sessions"===e.limit_unit&&(i=1==e.limit?"session":"sessions"),"Visits"===e.limit_unit&&(i=1==e.limit?"visit":"visits"),o.a.createElement(o.a.Fragment,{key:t},n,r," ",i,o.a.createElement("br",null))}):null),o.a.createElement(Be.a,null,n.custom_metadata&&n.custom_metadata.eligible_availees&&n.custom_metadata.eligible_availees.length>0?n.custom_metadata.eligible_availees.map(function(e,t){var a=He.find(function(t){return t.value===e});return a?o.a.createElement(o.a.Fragment,{key:t},a.label,o.a.createElement("br",null)):null}):null))}):null}):o.a.createElement(Ue.a,null,o.a.createElement(Be.a,{colSpan:4},"No additional benefits on top of Base Plan have been added."))))))};a.d(t,"getEditedNodesPayload",function(){return qe}),a.d(t,"getEditedRevisionNodesPayload",function(){return Ke}),a.d(t,"ApproveProposalPage",function(){return Ze}),a.d(t,"mapStateToProps",function(){return Qe}),a.d(t,"mapDispatchToProps",function(){return Xe});var ze=Object(s.a)({approveBtn:{width:115},approveWithConditionsBtn:{minWidth:115,color:"#0F808E",borderWidth:"2px",borderColor:"#E6F5F6",backgroundColor:"#E6F5F6","&:hover":{color:"#FFFFFF"}},disapproveBtn:{width:115,color:"#FD5451",borderWidth:"2px",borderColor:"#DDDFE3",backgroundColor:"#DDDFE3","&:hover":{color:"#FFFFFF"}},cancelBtn:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},okayBtn:{width:115,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},checkboxSize:{fontSize:"0.85rem","& > .MuiTypography-body":{fontSize:"0.85rem"}}}),We=Object(s.a)(function(e){return{main:{backgroundColor:"#F5F7FB",padding:"32px 24px"},gridContainer:{padding:e.spacing(1)},sectionTitle:{fontSize:24,fontWeight:700,color:"#272e4c"},table:{marginTop:10,boxShadow:"0px 3px 6px #00000029"},tabs:{marginTop:10},tab:{fontWeight:"normal"},columnCategory:{width:150},columnBenefit:{width:200},columnLimit:{width:150},columnEligibility:{width:150},tableRowEven:{backgroundColor:"#F6F7FA !important"},tableRowOdd:{backgroundColor:"#FFFFFF !important"},subSectionTitle:{fontSize:16,fontWeight:400,color:"#272e4c"},fieldGroupTitle:{fontSize:13,fontWeight:700,color:"#272e4c"},listItemTextRoot:{flex:"none"},listItemTextPrimarySelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 1)",cursor:"pointer"},listItemTextPrimaryNotSelected:{fontSize:14,fontWeight:700,color:"rgba(39, 46, 76, 0.3)",cursor:"pointer"},dropzone:{width:"460px",height:"88px",marginTop:"10px",marginBottom:"20px",border:"2px dashed rgba(30, 32, 113, 0.3)",borderRadius:"5px",backgroundColor:"#e6e8ee",color:"#7b8094",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},inputLabel:{color:"#272e4c"},keyboardDatePicker:{marginTop:"10px",marginBottom:"20px",width:"212px"},checkbox:{"&.Mui-checked":{color:"#1e2071"}},radio:{"&.Mui-checked":{color:"#1e2071"}},appBar:Object(r.a)({top:"auto",bottom:0,border:"1px solid #707070",backgroundColor:"rgba(54, 54, 54, 0.64)"},e.breakpoints.up("sm"),{width:"calc(100% - 72px)"}),grow:{flexGrow:1},button:{margin:"0 10px",minHeight:"42px",minWidth:"150px"},buttonTitle:{fontWeight:700,fontSize:13},buttonSubTitle:{fontWeight:400,fontSize:7}}}),Ye=function(e,t,a){var n=Object.assign({},t);if(n.children=n.children.filter(function(t){return!!e.find(function(e){return e.id===t})}),"CT"===n.code&&(n.principals_count=parseInt(a.principalData.numOfPrincipals),n.male_principals_count=parseInt(a.principalData.malePrincipals),n.female_principals_count=parseInt(a.principalData.femalePrincipals),n.dependents_count=parseInt(a.principalData.numOfDependents),n.male_dependents_count=parseInt(a.principalData.maleDependents),n.female_dependents_count=parseInt(a.principalData.femaleDependents)),("OD"==n.code||"CB"==n.code)&&n.custom_metadata.partner_network_list&&n.custom_metadata.partner_network_list.length>0){var r=Object(i.a)(t.custom_metadata.partner_network_list),l=[],o=[];n.custom_metadata.partner_network_list=r.map(function(e){var t=Object.assign({},e);void 0!==t.included&&(!0===t.included?(delete t.included,l.push(t)):!1===t.included&&(delete t.included,o.push(t)))}),delete n.custom_metadata.partner_network_list,n.custom_metadata.included_facilities=l,n.custom_metadata.excluded_facilties=o}return delete n.tree_path,delete n.tree_id,delete n.included,delete n.count,delete n.level,delete n.edited,delete n.node_path,n.original_id&&(n._id=n.original_id,delete n.id),n.original_children&&(n.children=n.original_children),delete n.original_node,delete n.original_children,delete n.original_id,n},qe=function(e,t,a,n,r){for(var l=Object(i.a)(t),o=Object(i.a)(t),c=function(e){o=(o=o.filter(function(t){return p.a.filterNodesByLevel(t,l,e)})).map(function(e){var t=Object.assign({},e);return t.children=t.children.filter(function(e){return!!o.find(function(t){return t.id===e})}),t})},d=8;d>3;d--)c(d);var s=(o=o.map(function(e){var t=Object.assign({},e);return t.children=t.children.filter(function(e){return!!l.find(function(t){return t.id===e})}),t})).reduce(function(e,t){if(!t.original_id){var a=p.a.getNodeTree(t,l);if(a.length>1){var i=a[a.length-1].id,r=a[a.length-2].id,o=l.find(function(e){return r===e.id});if(o){var c=Ye(l,t,n);void 0!==o.original_id&&(c.parent_id=o.original_id),!0===o.included&&o.children.includes(i)&&e.push(c)}}}return e},new Array),u=e.reduce(function(e,t){var a=t.id;if(void 0!==t.original_id&&!o.find(function(e){return a===e.id})){var n=t.original_id;e.push(n)}return e},new Array),m=a.reduce(function(e,t){var a=t[t.length-1].id,i=l.find(function(e){return a===e.id});if(i){var r=Ye(l,i,n);delete r.children,e.push(r)}return e},new Array),f=l.find(function(e){return"CT"===e.code});if(f){var g=Ye(l,f,n);delete g.children,m.push(g)}var E=l.find(function(e){return"MCT"==e.code});if(E&&void 0!==r){var v=Ye(l,E,n);v.status=r,m.push(v)}return{deletedNodes:u,newNodes:s,editedNodes:m}},Ke=function(e,t,a){var n=Object(i.a)(e),r=[],l=n.find(function(e){return"MCT"==e.code});if(l&&void 0!==a){var o=Ye(n,l,t);o.status=a,r.push(o)}return r},Ze=function(e){var t=e.clientData,a=e.SetBenefitNodes,r=e.SetClientData,d=(e.exclusionList,e.SetExclusionList),s=e.editedNodeList,p=e.benefitNodes,f=e.SetEditedNodeList,g=e.SetSelectedPlanType,E=e.SetSelectedPlanPackage,v=e.SetSelectedBenefitCategory,b=e.proposalInfo,_=e.SetProposalInfo,h=We(),O=ze(),y=Object(l.useState)(0),C=Object(n.a)(y,2),N=C[0],S=C[1],T=Object(l.useState)(!1),A=Object(n.a)(T,2),I=A[0],D=A[1],P=Object(l.useState)(!1),R=Object(n.a)(P,2),w=R[0],j=R[1],x=Object(l.useState)(""),L=Object(n.a)(x,2),k=L[0],F=L[1],B=Object(l.useState)(""),V=Object(n.a)(B,2),H=V[0],G=V[1],z=Object(l.useState)(null),W=Object(n.a)(z,2),Y=W[0],q=W[1],K=Object(l.useState)(!1),Z=Object(n.a)(K,2),Q=Z[0],X=Z[1],J=Object(l.useState)(!1),$=Object(n.a)(J,2),ee=$[0],te=$[1],ae=Object(l.useState)(!1),ne=Object(n.a)(ae,2),ie=ne[0],re=ne[1],le=Object(l.useState)(!1),oe=Object(n.a)(le,2),ce=oe[0],de=oe[1],se=Object(l.useState)(!1),ue=Object(n.a)(se,2),me=ue[0],pe=ue[1],fe=Object(l.useState)([]),ge=Object(n.a)(fe,1)[0],Ee=Object(l.useState)([]),ve=Object(n.a)(Ee,2),be=ve[0],_e=ve[1],he=Object(l.useState)("Underwriting Manager"),Ce=Object(n.a)(he,1)[0],Ne=Object(l.useState)(!1),Se=Object(n.a)(Ne,2),Te=Se[0],Ae=Se[1],Ie=Object(l.useState)(""),De=Object(n.a)(Ie,1)[0],xe=function(){N<2&&S(N+1)},Le=function(){re(!0)},ke=function(e){j(e)},Fe=function(n){D(!0);var l=e.match.params.proposal_id;U.a.getBenefitsTree(l).then(function(e){if(e&&void 0===e.error){var l,o=Object(i.a)(e),c=Object(i.a)(n),s=[];s=Object(m.convertNodeData)(o,!0);var u=Object(m.combineBaseBenefitNodes)(c,s,!0),p=s.filter(function(e){return e.code&&"MCT"===e.code}),h=[],O={};p[0].custom_metadata.additional_info?(p[0].custom_metadata.additional_info.contact_person&&h.push("Contact Person"),p[0].custom_metadata.additional_info.company_name&&h.push("Company Name"),p[0].custom_metadata.additional_info.address&&h.push("Address"),O={coverage_start_date:p[0].custom_metadata.coverage_start_date,coverage_end_date:p[0].custom_metadata.coverage_end_date,additional_details:h,CompanyNameSelected:p[0].custom_metadata.additional_info.company_name?p[0].custom_metadata.additional_info.company_name:"",ContactPersonSelected:p[0].custom_metadata.additional_info.contact_person?p[0].custom_metadata.additional_info.contact_person:"",AddressSelected:p[0].custom_metadata.additional_info.address&&"branch"===p[0].custom_metadata.additional_info.address?"branch":"Head Office",SelectedBranch:p[0].custom_metadata.additional_info.address&&"branch"===p[0].custom_metadata.additional_info.address?p[0].custom_metadata.additional_info.address:""}):O={coverage_start_date:p[0].custom_metadata.coverage_start_date,coverage_end_date:p[0].custom_metadata.coverage_end_date},_(Object.assign(b,O));var y=s.filter(function(e){return e.code&&"CT"===e.code}),C={principalData:{numOfPrincipals:y[0].principals_count?y[0].principals_count:0,malePrincipals:y[0].male_principals_count?y[0].male_principals_count:0,femalePrincipals:y[0].female_principals_count?y[0].female_principals_count:0,numOfDependents:y[0].dependents_count?y[0].dependents_count:0,maleDependents:y[0].male_dependents_count?y[0].male_dependents_count:0,femaleDependents:y[0].female_dependents_count?y[0].female_dependents_count:0}};r(Object.assign({},t,C)),l=Object(m.createExclusionList)(u),pe(!0),d(l),f([]),g("BASE"),E("RB"),v("RBC"),a(Object(i.a)(u)),_e(Object(i.a)(u))}else D(!1),console.log("getbenefitlist api error: ",e)})},Be=function(e,t){D(!1),F(t),X(!1),te(!1),G(e),ke(!0),q(o.a.createElement("div",null,o.a.createElement(u.a,{className:O.okayBtn,variant:"contained",color:"secondary",onClick:function(){return ke(!1)}},"Okay")))},Me=function(a){D(!0),ke(!1);var n="Disapproved";a&&(n="For Revision");var i=qe(be,p,s,t,n),r=i.deletedNodes,l=i.newNodes,c=i.editedNodes,d=e.match.params.client_id,f=e.match.params.proposal_id,g=Object(m.getClientPayload)(t);console.log(r,l);var E={client:g,new_nodes:[],deleted_nodes:[],edited_nodes:c},v={proposal_approved:!1,revisions:!1,allow_edit:a};U.a.patchProposal(d,f,E).then(function(t){if(t&&void 0===t.error)ye.a.put("cases/"+e.match.params.ticket_id+"/variable",De,v).then(function(t){if(t&&void 0!==t.error){Be("Failed to disapprove proposal.","Disapprove Proposal")}else a?ye.a.put("cases/"+e.match.params.ticket_id+"/route-case",De,{}).then(function(e){if(e&&void 0!==e.error){Be("Failed to disapprove proposal.","Disapprove Proposal")}else Le()}):ye.a.put("cases/"+e.match.params.ticket_id+"/route-case",De,{}).then(function(t){console.log(t),ye.a.put("cases/"+e.match.params.ticket_id+"/route-case",De,{}).then(function(e){if(e&&void 0!==e.error){console.log(e);Be("Failed to disapprove proposal.","Disapprove Proposal")}else{"BDO was notified that the proposal is disapproved and can no longer be revised for further use.",function(e,t){D(!1),F(t),X(!1),te(!1),G(e),ke(!0),q(o.a.createElement("div",null,o.a.createElement(u.a,{className:O.okayBtn,variant:"contained",color:"secondary",onClick:Le},"Okay")))}("BDO was notified that the proposal is disapproved and can no longer be revised for further use.","Proposal Disapproved")}})})});else{Be("Failed to disapprove proposal.","Disapprove Proposal")}})},Ue=function(a){D(!0),ke(!1);var n=qe(be,p,s,t,"Approved"),i=n.deletedNodes,r=n.newNodes,l=n.editedNodes,c=e.match.params.client_id,d=e.match.params.proposal_id,f={client:Object(m.getClientPayload)(t),new_nodes:a?r:[],deleted_nodes:a?i:[],edited_nodes:l},g={proposal_approved:!0,revisions:a};U.a.patchProposal(c,d,f).then(function(t){if(t&&void 0===t.error)console.log("create proposal api results: ",t),ye.a.put("cases/"+e.match.params.ticket_id+"/variable",De,g).then(function(t){if(console.log("variable >>>>",t),t&&void 0!==t.error){var n="Failed to approve proposal.";Be(n,!0===a?"Approve Proposal with conditions":"Approve Proposal")}else ye.a.put("cases/"+e.match.params.ticket_id+"/route-case",De,{}).then(function(t){if(!0===a)ye.a.put("cases/"+e.match.params.ticket_id+"/route-case",De,{}).then(function(e){if(e&&void 0!==e.error){Be("Failed to approve proposal.",!0===a?"Approve Proposal with conditions":"Approve Proposal")}else{"Proposal was successfully approved.",F("Approve Proposal with conditions"),G("Proposal was successfully approved."),X(!1),te(!1),ke(!0),q(o.a.createElement("div",null,o.a.createElement(u.a,{className:O.okayBtn,variant:"contained",color:"secondary",onClick:Le},"Okay")))}});else if(t&&void 0!==t.error){Be("Failed to approve proposal.","Approve Proposal")}else{"Proposal was successfully approved.",F("Approve Proposal"),G("Proposal was successfully approved."),X(!1),te(!1),ke(!0),q(o.a.createElement("div",null,o.a.createElement(u.a,{className:O.okayBtn,variant:"contained",color:"secondary",onClick:Le},"Okay")))}})});else{console.log(t),D(!1);var n="Failed to approve proposal.";Be(n,!0===a?"Approve Proposal with conditions":"Approve Proposal")}})};Object(l.useEffect)(function(){D(!0),function(){var a="http://api-dev.hims.veridata.com.ph:4101/api/clients/"+e.match.params.client_id;fetch(a,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var a=Object.assign({},e),n=Object(m.convertClientData)(a);r(Object.assign({},t,n)),de(!0)}).catch(function(e){de(!0),console.log("getbenefitlist api error: ",e)})}()},[]),Object(l.useEffect)(function(){ce&&(D(!0),U.a.getBaseBenefits().then(function(e){if(e&&void 0===e.error){var t,a=Object(i.a)(e);t=Object(m.convertNodeData)(a),Fe(t)}else D(!1),console.log("getbenefitlist api error: ",e)}))},[ce]),Object(l.useEffect)(function(){ce&&me&&D(!1)},[me]);var Ve=Te?["Modify Details","Modify Benefits","Submit"]:["Review Details","Evaluate"];return!0===ie?o.a.createElement(c.a,{to:{pathname:"/underwriting"}}):o.a.createElement("div",{className:h.main},I?o.a.createElement(Oe.f,null):null,o.a.createElement(Pe,{links:[{label:"PROPOSALS",url:"#/underwriting/proposals"},{label:t.businessData.registeredCorporateName,url:""}],steps:Ve,title:t.businessData.registeredCorporateName,step:N}),function(t){switch(t){case 0:return Te?o.a.createElement(Re.a,Object.assign({invalidFields:ge,submitMode:!0,classes:h},e)):o.a.createElement(je.a,Object.assign({contractType:"benefit",invalidFields:ge,classes:h},e));case 1:return Te?o.a.createElement(we.a,Object.assign({editMode:!0,classes:h},e)):o.a.createElement(Ge,Object.assign({classes:h},e));case 2:return Te?o.a.createElement(je.a,Object.assign({contractType:"benefit",invalidFields:ge,classes:h},e)):null;default:return null}}(N),o.a.createElement(Oe.d,null,1===N||2===N&&Te?o.a.createElement(u.a,{variant:"contained",onClick:function(){N>0&&S(N-1)},id:"proposal_previous",color:"primary",className:"button back"},"Back"):null,o.a.createElement("div",{style:{flexGrow:1}}),0===N?o.a.createElement(u.a,{variant:"contained",onClick:xe,id:"proposal_next",color:"primary",className:"button"},"Next"):null,1===N?Te?o.a.createElement(u.a,{variant:"contained",onClick:xe,id:"proposal_next",color:"primary",className:"button"},"Next"):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{variant:"contained",id:"proposal_approve_btn",color:"primary",className:"button",onClick:function(){var e="";e="Underwriting Manager"===Ce?"The BDO will be notified of your approval and the changes you added in this proposal. Are you sure you want to approve this?":"You included several comments for this proposal. Are you sure you want to approve this and send it to the Underwriting Department?",F("Approve Proposal"),G(e),X(!1),te(!1),ke(!0),q(o.a.createElement("div",null,o.a.createElement(u.a,{className:O.cancelBtn,variant:"contained",color:"secondary",onClick:function(){return ke(!1)}},"Cancel"),o.a.createElement(u.a,{className:O.approveBtn,variant:"contained",color:"primary",onClick:function(){return Ue(!1)}},"Approve")))}},"Approve"),o.a.createElement(u.a,{variant:"contained",id:"proposal_approve_btn",color:"primary",className:"button",onClick:function(){Ae(!0),S(0)}},"Approve With Conditions"),o.a.createElement(u.a,{variant:"contained",id:"proposal_approve_btn",color:"primary",className:"button disapprove",onClick:function(){F("Disapprove"),G("Your comments will be sent back to the BDO agent. You can choose to have the BDO revise this or reject the proposal altogether."),ke(!0),X(!0),q(o.a.createElement("div",null,o.a.createElement(u.a,{className:O.cancelBtn,variant:"contained",color:"secondary",onClick:function(){return ke(!1)}},"Cancel"),o.a.createElement(u.a,{className:O.disapproveBtn,variant:"contained",color:"primary",onClick:function(){return Me(ee)}},"Disapprove")))}},"Disapprove")):null,Te&&2===N?o.a.createElement(u.a,{variant:"contained",onClick:function(){F("Approve Proposal with conditions"),G("Your comments will be sent back to the BDO agent for revisions. Are you sure you want to approve this with conditions?"),ke(!0),q(o.a.createElement("div",null,o.a.createElement(u.a,{className:O.cancelBtn,variant:"contained",color:"secondary",onClick:function(){return ke(!1)}},"Cancel"),o.a.createElement(u.a,{className:O.approveWithConditionsBtn,variant:"contained",color:"primary",onClick:function(){return Ue(!0)}},"Approve with conditions")))},id:"proposal_submit",color:"primary",className:"button"},"Submit"):null),o.a.createElement(M,{id:"proposal_approval_modal",isModalOpen:w,title:k,message:H,onClose:"Proposal Disapproved"===k||"Proposal was successfully approved."===H?Le:ke,buttons:Y,allowRevision:Q,setAllowedRevise:function(e){te(e),q(o.a.createElement("div",null,o.a.createElement(u.a,{className:O.cancelBtn,variant:"contained",color:"secondary",onClick:function(){return ke(!1)}},"Cancel"),o.a.createElement(u.a,{className:O.disapproveBtn,variant:"contained",color:"primary",onClick:function(){return Me(e)}},"Disapprove")))},allowedRevise:ee}))},Qe=function(e){return{benefitNodes:W(e),clientData:J(e),contractNode:me(e),categoryNode:pe(e),summaryPackages:fe(e),summaryBenefits:ge(e),selectedSummaryPackage:q(e),selectedSummaryCategory:K(e),planTypeList:Ee(e),roomAndBoardList:be(e),coverageList:_e(e),riderList:he(e),rows:ve(e),selectedPlanType:Z(e),selectedPlanPackage:Q(e),selectedBenefitCategory:X(e),businessData:ee(e),natureData:te(e),contactDetailsData:ae(e),HMOData:ne(e),principalData:ie(e),newNodeCounter:Y(e),exclusionList:G(e),editedNodeList:$(e),proposalInfo:z(e)}},Xe=function(e){return{SetBenefitNodes:Object(d.b)(g,e),SetNewNodeCounter:Object(d.b)(b,e),SetClientData:Object(d.b)(_,e),SetProposalInfo:Object(d.b)(E,e),SetSelectedSummaryPackage:Object(d.b)(h,e),SetSelectedSummaryCategory:Object(d.b)(O,e),SetSelectedPlanType:Object(d.b)(y,e),SetSelectedPlanPackage:Object(d.b)(C,e),SetSelectedBenefitCategory:Object(d.b)(N,e),SetExclusionList:Object(d.b)(v,e),SetEditedNodeList:Object(d.b)(S,e)}}},821:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(0),i=a.n(n),r=a(37),l=a(50),o=a(1119),c=a(210),d=a(43),s=a(51),u=a(59),m=Object(d.a)({hmoname:{fontSize:"0.75rem",color:"rgba(39, 46, 76, 0.6)",textTransform:"uppercase",paddingBottom:4},hmovalue:{fontSize:"0.875rem",color:"rgba(39, 46, 76, 1)",fontWeight:600},hmovaluelink:{fontSize:"0.875rem",color:"rgba(39, 46, 76, 1)",textDecoration:"underline",fontWeight:600}}),p=function(e){var t=m(e);return i.a.createElement(r.a,{container:!0,alignItems:"flex-start",style:{paddingTop:8,paddingBottom:8,paddingRight:16}},i.a.createElement(r.a,{item:!0,xs:12},i.a.createElement(l.a,{className:t.hmoname},e.name)),i.a.createElement(r.a,{item:!0,xs:12},i.a.createElement(o.a,{display:"flex",flexDirection:"row",alignItems:"center"},e.link?i.a.createElement(c.b,{to:e.link,className:t.hmovaluelink},e.value):i.a.createElement(l.a,{className:t.hmovalue},e.value),e.rightBtnLink?i.a.createElement(c.b,{to:e.rightBtnLink},i.a.createElement(s.a,{icon:u.h,style:{color:"#3AB77D",marginLeft:8}})):"")))};p.defaultProps={name:"",value:"",link:"",rightBtnLink:""}}}]);
//# sourceMappingURL=11.9f8e6111.chunk.js.map