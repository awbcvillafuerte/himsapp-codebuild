(window.webpackJsonpunderwriting=window.webpackJsonpunderwriting||[]).push([[11],{723:function(e,t,a){},780:function(e,t,a){},781:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return f});var n=a(0),i=a(41),l=a(664),r=a(34),o=a(256),s=a(125),c=a(202),d=a(727),m=a.n(d),u=a(832),p=Object(i.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{padding:"0px",marginTop:"0px",justify:"center",overflow:"scroll",textAlign:"center"},dialogContentText:{fontSize:"0.875rem"},item:{width:"100%",paddingTop:"0px",minHeight:"730px"},container:{paddingRight:"15px",paddingLeft:"15px",width:"100%",minHeight:"500px"},iframe:{width:"90%",height:"85%",top:50,left:50,bottom:50,right:50},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),paddingLeft:"0px",fontSize:"16px",color:"#272E4C"},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{width:115,marginLeft:25},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},loadingIndicator:{marginTop:e.spacing(3),width:"100%",color:u.a[500],justify:"center"}}}),f=function(t){var a=t.isModalOpen,i=t.id,d=p(),u="".concat(e.execPath,"/../pdfjs-2.2.228-dist/web/viewer.html?file=").concat(t.pdfUrl);return n.createElement(l.a,{id:i,open:a,"aria-labelledby":"modal-title",className:d.dialog,style:{zIndex:9999},fullWidth:!0,fullScreen:!0,maxWidth:"md"},n.createElement("div",null,n.createElement(r.a,{container:!0,className:d.container,justify:"space-between",alignItems:"flex-start",direction:"column"},n.createElement(r.a,{item:!0},n.createElement(o.a,{className:d.dialogTitle,disableTypography:!0,id:"modal-title"},n.createElement(s.a,{"aria-label":"close",className:d.closeButton,onClick:function(){t.onClose()}},n.createElement(m.a,null)))),n.createElement(r.a,{container:!0,justify:"center",alignItems:"stretch",alignContent:"stretch"},n.createElement(c.a,{className:d.dialogContent},n.createElement(r.a,{container:!0,justify:"center",alignItems:"stretch",alignContent:"stretch"},n.createElement(r.a,{item:!0,xs:12,className:d.item},n.createElement("iframe",{src:u,className:d.iframe}))))))))};f.defaultProps={isModalOpen:!1,id:"render_pdf_modal",pdfUrl:""}}).call(this,a(267))},849:function(e,t,a){"use strict";a.r(t);var n=a(206),i=a(42),l=a(98),r=a(99),o=a(101),s=a(100),c=a(102),d=a(266),m=a(0),u=a.n(m),p=a(77),f=a(370),b=a(126),g=a(34),E=a(125),h=a(50),y=a(784),v=a.n(y),C=a(753),x=a(785),B=a(783),j=a(727),S=a.n(j),O=a(41),F=a(833),T=a(7),A=a(779),N=(a(780),a(719)),P=a(668),M=a(664),k=a(258),w=a(202),D=a(256),_=a(663),I=a(16),V=[{id:0,value:"Amount",label:"PHP",type:"Amount",unit:"PHP"},{id:1,value:"PEC",label:"PHP",type:"PEC",unit:"PHP"},{id:2,value:"DISEASE",label:"PHP",type:"DISEASE",unit:"PHP"},{id:3,value:"MAX AMOUNT",label:"PHP",type:"Amount",unit:"PHP"},{id:4,value:"% MBL",label:"% MBL",type:"MBL",unit:"Percentage"},{id:5,value:"MBL",label:"MBL",type:"MBL",unit:"PHP"},{id:6,value:"Benefit",label:"% MBL",type:"MBL",unit:"Percentage"},{id:7,value:"% ABL",label:"% ABL",type:"ABL",unit:"Percentage"},{id:8,value:"ABL",label:"ABL",type:"ABL",unit:"PHP"},{id:9,value:"Sessions",label:" sessions",type:"Sessions",unit:"Sessions"},{id:10,value:"Visits",label:" visits",type:"Visits",unit:"Visits"}],L={TextField:"textfield",Dropdown:"dropdown"},R=I.a.UI.InputChipTextField.InputChipTextField,q=I.a.UI.InputSelect.InputSelect,H=I.a.UI.InputTextField.InputTextField,W=Object(O.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2)}}}),U=function(e){var t=W(),a=Object(m.useState)(""),n=Object(N.a)(a,2),i=n[0],l=n[1],r=Object(m.useState)(!1),o=Object(N.a)(r,2),s=o[0],c=o[1],d=Object(m.useState)(null),p=Object(N.a)(d,2),f=p[0],E=p[1],h=Object(m.useState)(""),y=Object(N.a)(h,2),v=y[0],C=y[1],x=Object(m.useState)(!1),B=Object(N.a)(x,2),j=B[0],S=B[1],O=Object(m.useState)(""),F=Object(N.a)(O,2),A=F[0],I=F[1],V=Object(m.useState)(!1),U=Object(N.a)(V,2),z=U[0],J=U[1],G=Object(m.useState)(!1),X=Object(N.a)(G,2),K=X[0],Q=X[1],Y=Object(m.useState)([]),Z=Object(N.a)(Y,2),$=Z[0],ee=Z[1],te=function(){l(""),c(!1),E(null),C(""),S(!1),I(""),J(!1),Q(!1),ee([])},ae=function(){te(),e.onClose()};return u.a.createElement(M.a,{open:e.isModalOpen,onClose:ae,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},u.a.createElement(D.a,{id:"form-dialog-title"},"Add Data Field"),u.a.createElement(w.a,null,u.a.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},u.a.createElement(g.a,{item:!0,xs:12,md:6},u.a.createElement(H,{label:"Field Name",value:i,error:s,onChange:function(e){l(e),c(0===e.length)}})),u.a.createElement(g.a,{item:!0,xs:12,md:6},u.a.createElement(q,{id:"input-type-select",label:"Input Type",data:[{id:1,value:L.TextField,label:"Text Field"},{id:2,value:L.Dropdown,label:"Dropdown"}],required:!0,onChange:function(e){E(e)}})),function(){if(f)switch(f.value){case L.TextField:return u.a.createElement(g.a,{item:!0,xs:12,md:6},u.a.createElement(H,{label:"Value Type",value:v,error:j,onChange:function(e){C(e),S(0===e.length)}}));case L.Dropdown:return u.a.createElement(g.a,{item:!0,xs:12},u.a.createElement(R,{label:"Choices",onChange:function(e){ee(e)}}));default:return null}return null}(),u.a.createElement(g.a,{item:!0,xs:12,md:6},u.a.createElement(H,{label:"Default Value",value:A,error:z,onChange:function(e){I(e),J(0===e.length)}})),u.a.createElement(g.a,{item:!0,xs:12},u.a.createElement(_.a,{control:u.a.createElement(P.a,{checked:K,onChange:function(e){Q(e.target.checked)},value:"checkedB",color:"primary"}),label:"Required"})))),u.a.createElement(k.a,{className:Object(T.default)(t.dialogAction)},u.a.createElement(g.a,{container:!0,spacing:2,justify:"space-around",alignItems:"flex-start"},u.a.createElement(g.a,{item:!0,xs:4},u.a.createElement(b.a,{onClick:ae,variant:"outlined",color:"default",fullWidth:!0},"Cancel")),u.a.createElement(g.a,{item:!0,xs:4},u.a.createElement(b.a,{onClick:function(){var t={name:i,inputType:f&&f.value||"",valueType:v,values:$,defaultValue:A,isRequired:K};te(),e.onSubmit(t)},variant:"contained",color:"primary",fullWidth:!0},"Add Data Field")))))};U.defaultProps={isModalOpen:!1};var z=I.a.UI.InputTextField.InputTextField,J=Object(O.a)(function(e){return{root:{flexWrap:"wrap"},dialog:{align:"center",justify:"center",width:"100%",fontFamily:"usual"},dialogContent:{padding:"0px",marginTop:"0px",justify:"center",width:"315%"},dialogContentText:{fontSize:"0.875rem"},container:{paddingRight:"15px",paddingLeft:"15px",width:"100%",minHeight:"500px"},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),paddingLeft:"0px",fontSize:"16px",color:"#272E4C"},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center",width:"315%"},boldText:{fontWeight:"bold"},cancelButton:{width:115,marginRight:25,border:"1px solid #3AB77D",color:"#3AB77D",backgroundColor:"#FFFFFF"},submitButton:{width:115,marginLeft:25},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),G=function(e){var t=e.isModalOpen,a=e.id,n=J(),i=m.useState(""),l=Object(N.a)(i,2),r=l[0],o=l[1];m.useEffect(function(){o(e.content)},[e.content]);var s=function(){o("")};return m.createElement(M.a,{id:a,open:t,"aria-labelledby":"modal-title",className:n.dialog,style:{zIndex:9999},fullWidth:!0,maxWidth:"md"},m.createElement("div",null,m.createElement(g.a,{container:!0,className:n.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},m.createElement(g.a,{item:!0},m.createElement(D.a,{className:n.dialogTitle,disableTypography:!0,id:"modal-title"},"Method: ",e.method,m.createElement(E.a,{"aria-label":"close",className:n.closeButton,onClick:e.onClose},m.createElement(S.a,null)))),m.createElement(g.a,{item:!0,xs:12},m.createElement(w.a,{className:n.dialogContent},m.createElement(g.a,{container:!0,justify:"center",alignContent:"stretch"},m.createElement(g.a,{item:!0,xs:12},m.createElement(z,{label:"Content",value:r,multiline:!0,rows:14,onChange:function(e){o(e)}})))),m.createElement(k.a,{className:n.dialogAction},m.createElement(b.a,{className:n.cancelButton,variant:"contained",color:"secondary",onClick:function(){s(),e.onClose()}},"Cancel"),m.createElement(b.a,{className:n.submitButton,variant:"contained",color:"primary",onClick:function(){var t={method:e.method,content:r||""};s(),e.onSubmit(t)}},"Save"))))))};G.defaultProps={isModalOpen:!1,id:"modal-id",method:"",content:""};var X=a(781),K=a(140),Q=a(255),Y=a(161),Z=a(261),$=a(8),ee=a(243),te=a.n(ee),ae=a(782),ne=a.n(ae);function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var le="rgba(39,52,76,0.3)",re={borderColor:le,borderRadius:5},oe={root:{"& label.Mui-focused":{color:"rgb(21,28,28)"},"& .MuiInput-underline:after":{borderBottomColor:le},"& .MuiOutlinedInput-root":{"& fieldset":re,"&:hover fieldset":re,"&.Mui-focused fieldset":function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach(function(t){Object(i.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},re,{borderColor:"rgba(39,52,76,0.5)"})}}},se=Object(O.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{width:"100%"},label:{fontSize:".8em"},select:{marginTop:e.spacing(1),backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)},icon:{marginRight:e.spacing(2.5),color:le},fifthLevel:{paddingLeft:e.spacing(4)},sixthLevel:{paddingLeft:e.spacing(8)},seventhLevel:{paddingLeft:e.spacing(12)},eightLevel:{paddingLeft:e.spacing(16)},ninthLevel:{paddingLeft:e.spacing(20)}}}),ce=Object($.a)(oe)(Y.a),de=function(e){var t=Object(n.a)(e.data),a=se(),i=u.a.useRef(null),l=u.a.useState(0),r=Object(N.a)(l,1)[0];return u.a.createElement("div",{className:a.formControl},u.a.createElement(K.a,{color:"textPrimary",className:a.label,ref:i,htmlFor:e.id,error:e.error},e.label),u.a.createElement(Z.a,{className:a.select,value:e.value,renderValue:function(t){return console.log("value: ",t),"".concat(e.display)},onChange:function(a){var n=t.find(function(e){return e.value===a.target.value});e.onChange&&e.onChange(n)},disabled:e.disabled,input:u.a.createElement(ce,{id:e.id,name:e.id,error:e.error,labelWidth:r,fullWidth:!0,disabled:e.disabled}),IconComponent:function(){return u.a.createElement(te.a,{className:a.icon})}},t.map(function(t){return function(e,t){if(e.displaySelectItem)return console.log("displaySelectItem"),e.displaySelectItem(t);var n=-1===t.id&&e.required;return 3===t.level?u.a.createElement(Q.a,{key:t.id,value:t.value,disabled:!0},t.label):4===t.level?u.a.createElement(Q.a,{key:t.id,value:t.value,disabled:n},u.a.createElement(ne.a,{className:a.icon})," ",t.label):5===t.level?u.a.createElement(Q.a,{key:t.id,value:t.value,disabled:n,className:a.fifthLevel},u.a.createElement(ne.a,{className:a.icon})," ",t.label):6===t.level?u.a.createElement(Q.a,{key:t.id,value:t.value,disabled:n,className:a.sixthLevel},u.a.createElement(ne.a,{className:a.icon})," ",t.label):7===t.level?u.a.createElement(Q.a,{key:t.id,value:t.value,disabled:n,className:a.seventhLevel},u.a.createElement(ne.a,{className:a.icon})," ",t.label):8===t.level?u.a.createElement(Q.a,{key:t.id,value:t.value,disabled:n,className:a.eightLevel},u.a.createElement(ne.a,{className:a.icon})," ",t.label):9===t.level?u.a.createElement(Q.a,{key:t.id,value:t.value,disabled:n,className:a.ninthLevel},u.a.createElement(ne.a,{className:a.icon})," ",t.label):u.a.createElement(Q.a,{key:t.id,value:t.value,disabled:n},t.label)}(e,t)})))};de.defaultProps={label:"",value:"",display:"",selected:!1,error:!1,disabled:!1,required:!1,onChange:function(e){console.log(e)}};var me=a(246),ue=function(e){return{payload:e,type:me.a.CreateBenefitPage.SetReducer}};a(723);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach(function(t){Object(i.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}a.d(t,"CreateBenefitPage",function(){return Oe}),a.d(t,"mapStateToProps",function(){return Fe}),a.d(t,"mapDispatchToProps",function(){return Te});var be=I.a.UI.InputSelect.InputSelect,ge=I.a.UI.InputSelectSetValue.InputSelectSetValue,Ee=I.a.UI.InputTextField.InputTextField,he="http://18.138.94.224:4101/api/base-benefit-plans?filter[where][level][gt]=3&filter[order]=tree_id%20asc",ye="http://18.138.94.224:4101/api/base-benefit-plans/",ve="http://18.138.94.224:4101/api/base-benefit-plans/",Ce="http%3A%2F%2F18.138.94.224%3A4101%2Fapi%2Fbase-benefit-plans%2Fcontracts%3Fid%3D",xe="#pagemode=bookmarks",Be="",je=Object(O.a)(function(e){return{success:{backgroundColor:"#E6F5F6"},error:{backgroundColor:e.palette.error.light},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:F.a[700]},icon:{fontSize:20,color:"#363636"},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{color:"#272E4C",display:"flex",alignItems:"center"}}});function Se(e){var t=je(),a=e.className,n=e.message,i=e.onClose,l=e.variant,r=Object(d.a)(e,["className","message","onClose","variant"]);return m.createElement(B.a,Object.assign({className:Object(T.default)(t[l],a),"aria-describedby":"client-snackbar",message:m.createElement("span",{id:"client-snackbar",className:t.message},n),action:[m.createElement(E.a,{key:"close","aria-label":"close",color:"inherit",onClick:i},m.createElement(S.a,{className:t.icon}))]},r))}var Oe=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).reset=function(){a.setState({selectedBenefitName:"",selectedBenefitValue:"",parentBenefit:null,benefitName:"",benefitNameError:!1,category:null,code:"",codeError:!1,limitType:null,limitTypeName:"",limitTypeError:!1,limitTypeErrorMessage:"",limitAmount:"",limitAmountError:!1,limitAmountErrorMessage:"",clause:"",clauseError:!1,description:"",descriptionError:!1,additionalDataFields:[],addDataFieldModalVisible:!1,methodContentModalVisible:!1,renderContractModalVisible:!1,benefitsListDisabled:!1,selectedBenefit:{},canAvail:"",canCover:"",renderContract:"",renderProposal:"",content:"",method:"",createButtonDisabled:!0,editButtonDisabled:!0,renderContractDisabled:!0,loading:!1,selected:!1,renderIsClicked:!1})},a.setFieldValue=function(e,t){a.setState(function(a){return fe({},a,Object(i.a)({},e,t))})},a.setFieldError=function(e,t){a.setState(function(a){return fe({},a,Object(i.a)({},e,t))})},a.setBenefitData=function(e){a.state.renderIsClicked&&a.resetPrevBenefit(),a.state.benefitsList.map(function(t){if(t._id===e){var n=t;if(console.log("selectedBenefit: ",n),a.setState({selectedBenefit:n,selectedBenefitName:n.name,selectedBenefitValue:n._id,code:n.code,benefitName:n.name,category:n.type,clause:n.renderClause,description:n.description,canAvail:n.canAvail,canCover:n.canCover,renderContract:n.renderContract,renderProposal:n.renderProposal}),n.limits.length>0?a.setState({limitTypeName:n.limits[0].type,limitAmount:n.limits[0].limit}):a.setState({limitTypeName:"",limitAmount:""}),Object.entries(n.custom_metadata).length>0&&n.custom_metadata.constructor===Object){console.log("custom_metadata",n.custom_metadata);var i,l=n.custom_metadata,r=n.custom_metadata_schema,o=[];Object.keys(l).map(function(e,t){console.log(e,l[e],t);var a={};a.name=e,a.defaultValue=l[e],o.push(a)}),Object.keys(r.properties).map(function(e,t){var a=r.properties;console.log("customMetadataSchema",e,a[e],t),i=o.map(function(t){return t.name==e&&(a[e].type?(t.valueType=a[e].type,t.inputType="textfield",t.values=[]):a[e].enum&&(t.inputType="dropdown",t.valueType="",t.values=a[e].enum)),t})}),r.required.map(function(e){i=i.map(function(t){return t.isRequired=t.name==e,t})}),a.setState({additionalDataFields:i})}else a.setState({additionalDataFields:[]});a.setFieldValue("createButtonDisabled",!1),a.setFieldValue("editButtonDisabled",!1),a.setFieldValue("renderContractDisabled",!1)}})},a.resetPrevBenefit=function(){var e=ve+a.state.selectedBenefit._id;fetch(e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){console.log("get specific benefit response: ",t),t.is_temp={},fetch(e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){console.log("resetPrevBenefit response",e)}).catch(function(e){console.log("resetPrevBenefit error: ",e)})}).catch(function(e){console.log("getbenefit api error: ",e)})},a.displayAdditionalDataFields=function(){var e=[],t=a.state.additionalDataFields;return console.log("additionalDataFields",t),t.map(function(t,n){switch(t.inputType){case L.TextField:e.push(m.createElement(g.a,{item:!0,xs:12,key:n},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-end"},m.createElement(g.a,{item:!0,xs:11},m.createElement(Ee,{label:t.name,type:t.valueType,value:t.defaultValue,error:!1,onChange:function(e){console.log(e)}})),m.createElement(g.a,{item:!0,xs:1,className:Object(T.default)("data-field-remove-btn")},m.createElement(E.a,{"aria-label":"Remove",onClick:function(){a.removeAdditionalDataField(n)}},m.createElement(v.a,null))))));break;case L.Dropdown:var i=t.values.map(function(e,t){return{id:t,value:e,label:e}});e.push(m.createElement(g.a,{item:!0,xs:12,key:n},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-end"},m.createElement(g.a,{item:!0,xs:11},m.createElement(be,{id:"data-field-".concat(n),label:t.name,data:i,value:t.defaultValue,error:!1,required:t.isRequired,onChange:function(e){a.setFieldValue("parentBenefit",e)}})),m.createElement(g.a,{item:!0,xs:1,className:Object(T.default)("data-field-remove-btn")},m.createElement(E.a,{"aria-label":"Remove",onClick:function(){a.removeAdditionalDataField(n)}},m.createElement(v.a,null))))))}}),e},a.removeAdditionalDataField=function(e){var t=Object(A.filter)(a.state.additionalDataFields,function(t,a){return a!==e});a.setState({additionalDataFields:t})},a.onCreateBenefitBtnClick=function(){var e={},t={},n=[],i="",l="",r="",o="";""===a.state.limitTypeName&&""!==a.state.limitAmount&&a.setState({limitTypeError:!0,limitTypeErrorMessage:"Please select limit type"}),""!==a.state.limitTypeName&&""===a.state.limitAmount&&a.setState({limitAmountError:!0,limitAmountErrorMessage:"Please enter amount"}),V.map(function(e){e.value===a.state.limitTypeName&&(r=e.unit,o=e.type)}),a.state.additionalDataFields.map(function(a){e[a.name]=a.defaultValue,a.isRequired&&n.push(a.name),"dropdown"===a.inputType?t[a.name]={enum:a.values}:t[a.name]={type:a.valueType}});var s,c={properties:t,required:n};if(null===a.state.parentBenefit);else{a.state.selectedBenefit.tree_id;var d=a.state.selectedBenefit.tree_path;d[d.length-1]=a.state.code;var m="";d.forEach(function(e){""===m?m+=e:m=m+"-"+e}),s={tree_id:m,tree_path:d,name:a.state.benefitName,code:a.state.code,type:a.state.category,description:a.state.description,revisions:[],metadata:{},metadata_schema:{},custom_metadata:e,custom_metadata_schema:c,canAvail:a.state.canAvail,canCover:a.state.canCover,renderContract:a.state.renderContract,renderProposal:a.state.renderProposal,renderClause:a.state.clause,layers:a.state.selectedBenefit.layers,node_path:a.state.selectedBenefit.node_path,is_temp:{}},""!==o&&""!=a.state.limitAmount&&(s.limits=[{type:o,limit:+a.state.limitAmount,limit_unit:r}]),l=s.node_path[s.node_path.length-2],console.log("node_path: ",s.node_path),s.node_path.pop(),i=ye+l,console.log("create_benefit_request: ",s),console.log("url: ",i),a.setState({loading:!0}),a.handleCreateBenefit(s,i)}},a.onEditBenefitBtnClick=function(){var e,t={},n={},i=[],l="",r="";V.map(function(e){e.value===a.state.limitTypeName&&(l=e.unit,r=e.type)}),""===a.state.limitTypeName&&""!==a.state.limitAmount&&a.setState({limitTypeError:!0,limitTypeErrorMessage:"Please select limit type"}),""!==a.state.limitTypeName&&""===a.state.limitAmount&&a.setState({limitAmountError:!0,limitAmountErrorMessage:"Please enter amount"}),a.state.additionalDataFields.map(function(e){t[e.name]=e.defaultValue,e.isRequired&&i.push(e.name),"dropdown"===e.inputType?n[e.name]={enum:e.values}:n[e.name]={type:e.valueType}});var o,s={properties:n,required:i},c=a.state.selectedBenefit.tree_id,d=a.state.selectedBenefit.tree_path;d[d.length-1]=a.state.code;var m="";d.forEach(function(e){""===m?m+=e:m=m+"-"+e}),c=m,(o=a.state.selectedBenefit).tree_id=c,o.tree_path=d,o.name=a.state.benefitName,o.code=a.state.code,o.type=a.state.category,o.description=a.state.description,o.custom_metadata=t,o.custom_metadata_schema=s,o.canAvail=a.state.canAvail,o.canCover=a.state.canCover,o.renderContract=a.state.renderContract,o.renderProposal=a.state.renderProposal,o.renderClause=a.state.clause,o.is_temp={},""!==r&&""!=a.state.limitAmount&&(o.limits=[{type:r,limit:+a.state.limitAmount,limit_unit:l}]),e=ve+o._id,console.log("edit_benefit_request: ",o),console.log("url: ",e),a.setState({loading:!0}),a.handleEditBenefit(o,e)},a.handleTempSaveBenefit=function(e,t){var n={is_temp:e};fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(t){console.log("fetch api results: ",t),a.setState({loading:!1}),Be=Ce+e.node_path[0]+xe,a.setState({renderContractModalVisible:!0})}).catch(function(e){console.log("temp save benefit api error: ",e),a.setState({variant:"error",snackbarMessage:e})})},a.onRenderContractBtnClick=function(){a.setState({renderIsClicked:!0});var e,t={},n={},i=[],l="",r="";V.map(function(e){e.value===a.state.limitTypeName&&(l=e.unit,r=e.type)}),""===a.state.limitTypeName&&""!==a.state.limitAmount&&a.setState({limitTypeError:!0,limitTypeErrorMessage:"Please select limit type"}),""!==a.state.limitTypeName&&""===a.state.limitAmount&&a.setState({limitAmountError:!0,limitAmountErrorMessage:"Please enter amount"}),a.state.additionalDataFields.map(function(e){t[e.name]=e.defaultValue,e.isRequired&&i.push(e.name),"dropdown"===e.inputType?n[e.name]={enum:e.values}:n[e.name]={type:e.valueType}});var o,s={properties:n,required:i},c=a.state.selectedBenefit.tree_id,d=a.state.selectedBenefit.tree_path;d[d.length-1]=a.state.code;var m="";d.forEach(function(e){""===m?m+=e:m=m+"-"+e}),c=m,(o=a.state.selectedBenefit).tree_id=c,o.tree_path=d,o.name=a.state.benefitName,o.code=a.state.code,o.type=a.state.category,o.description=a.state.description,o.custom_metadata=t,o.custom_metadata_schema=s,o.canAvail=a.state.canAvail,o.canCover=a.state.canCover,o.renderContract=a.state.renderContract,o.renderProposal=a.state.renderProposal,o.renderClause=a.state.clause,""!==r&&""!=a.state.limitAmount&&(o.limits=[{type:r,limit:+a.state.limitAmount,limit_unit:l}]),e=ve+o._id,console.log("edit_benefit_request: ",o),console.log("selected_benefit: ",a.state.selectedBenefit),console.log("url: ",e),a.handleGetBenefitList().then(function(e){if(a.setState({loading:!1}),e){var t=e.map(function(e){return{id:e._id,value:e._id,label:e.name,type:e.type,level:e.level}});a.setState({existingBenefits:t,benefitsList:e,benefitsListDisabled:!1})}}),JSON.stringify(o)===JSON.stringify(a.state.selectedBenefit)?(a.setState({loading:!0}),a.handleTempSaveBenefit(o,e)):(Be=Ce+o.node_path[0]+xe,a.setState({renderContractModalVisible:!0}))},a.onAddFieldBtnClicked=function(){a.setState({addDataFieldModalVisible:!0})},a.onAddDataFieldModalClose=function(){a.setState({addDataFieldModalVisible:!1})},a.onRenderContractModalClose=function(){a.setState({renderContractModalVisible:!1})},a.onMethodContentModalClose=function(){a.setState({methodContentModalVisible:!1,method:"",content:""})},a.onSnackbarClose=function(){a.setState({openSnackbar:!1})},a.onAddDataFieldModalSubmit=function(e){a.setState({addDataFieldModalVisible:!1,additionalDataFields:[].concat(Object(n.a)(a.state.additionalDataFields),[e])})},a.onMethodContentModalSubmit=function(e){var t=e.method,n=e.content;a.setState({methodContentModalVisible:!1,method:"",content:""}),a.setFieldValue(t,n)},a.handleGetBenefitList=function(){return a.setState({loading:!0}),fetch(he,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){console.log("getbenefitlist api error: ",e)})},a.handleCreateBenefit=function(e,t){fetch(t,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log("fetch api results: ",e),a.setState({loading:!1}),void 0!==e.error?(a.setState({openSnackbar:!0,variant:"error",snackbarMessage:"Error encountered"}),a.reset()):(a.setState({selectedBenefitName:"",selectedBenefitValue:"",parentBenefit:null,openSnackbar:!0,variant:"success",snackbarMessage:"Benefit successfully added"}),a.handleGetBenefitList().then(function(e){if(a.setState({loading:!1}),e){var t=e.map(function(e){return{id:e._id,value:e._id,label:e.name,type:e.type,level:e.level}});a.setState({existingBenefits:t,benefitsList:e,benefitsListDisabled:!1})}}),a.reset())}).catch(function(e){console.log("create benefit api error: ",e),a.setState({variant:"error",snackbarMessage:e})})},a.handleEditBenefit=function(e,t){fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){console.log("fetch api results: ",e),a.setState({loading:!1}),a.setState({selectedBenefitName:"",selectedBenefitValue:"",parentBenefit:null,openSnackbar:!0,variant:"success",snackbarMessage:"Benefit successfully updated"}),a.handleGetBenefitList().then(function(e){if(a.setState({loading:!1}),e){var t=e.map(function(e){return{id:e._id,value:e._id,label:e.name,type:e.type,level:e.level}});a.setState({existingBenefits:t,benefitsList:e,benefitsListDisabled:!1})}}),a.reset()}).catch(function(e){console.log("edit benefit api error: ",e),a.setState({variant:"error",snackbarMessage:"Error encountered.",loading:!1})})},a.showMethodContent=function(e){a.setFieldValue("method",e),a.setFieldValue("content",a.state[e]),a.setFieldValue("methodContentModalVisible",!0)};var r=[{id:0,value:"item-1",label:"Item 1",type:"",level:""},{id:1,value:"item-2",label:"Item 2",type:"",level:""},{id:2,value:"item-3",label:"Item 3",type:"",level:""}].map(function(e){return{value:e.value,label:e.label}});a.handleGetBenefitList().then(function(e){if(console.log("getbenefitlist response: ",e),a.setState({loading:!1}),e){var t=e.map(function(e){return{id:e._id,value:e._id,label:e.name,type:e.type,level:e.level}});a.setState({existingBenefits:t,benefitsList:e,benefitsListDisabled:!1})}});var c=[{id:0,value:"PlanType",label:"PlanType"},{id:1,value:"PlanPackage",label:"PlanPackage"},{id:2,value:"Sub-benefit",label:"Sub-benefit"},{id:3,value:"Benefit",label:"Benefit"},{id:4,value:"BenefitCategory",label:"BenefitCategory"},{id:5,value:"BenefitType",label:"BenefitType"}].map(function(e){return{id:e.id,value:e.value,label:e.label}}),d=V.map(function(e){return{id:e.id,value:e.value,label:e.value}});return a.state={originalBenefit:{},selectedBenefitName:"",selectedBenefitValue:"",parentBenefit:null,benefitName:"",benefitNameError:!1,category:"",code:"",codeError:!1,limitType:null,limitTypeName:"",limitTypeError:!1,limitTypeErrorMessage:"",limitAmount:"",limitAmountError:!1,limitAmountErrorMessage:"",clause:"",clauseError:!1,description:"",descriptionError:!1,existingBenefits:[],categories:c,limitTypes:d,additionalDataFields:[],addDataFieldModalVisible:!1,renderContractModalVisible:!1,methodContentModalVisible:!1,autocompleteItems:r,selectedBenefit:{},benefitsList:[],canAvail:"",canCover:"",renderContract:"",renderProposal:"",content:"",method:"",createButtonDisabled:!0,editButtonDisabled:!0,renderContractDisabled:!0,benefitsListDisabled:!1,loading:!1,selected:!1,openSnackbar:!1,variant:"",snackbarMessage:"",renderIsClicked:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedBenefitName,n=t.selectedBenefitValue,i=t.category,l=t.benefitName,r=t.benefitNameError,o=t.code,s=t.codeError,c=t.limitTypeName,d=t.limitTypeError,u=t.limitTypeErrorMessage,p=t.limitAmount,E=t.limitAmountError,y=t.limitAmountErrorMessage,v=t.clause,B=t.clauseError,j=t.description,S=t.descriptionError,O=t.existingBenefits,F=t.benefitsListDisabled,A=t.categories,N=t.limitTypes,P=t.addDataFieldModalVisible,M=t.renderContractModalVisible,k=t.methodContentModalVisible,w=t.method,D=t.content,_=t.createButtonDisabled,I=t.editButtonDisabled,L=t.renderContractDisabled,R=t.loading,q=t.selected,H=t.openSnackbar,W=t.variant,z=t.snackbarMessage;return m.createElement("div",{className:Object(T.default)("CreateBenefitPage")},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{container:!0,justify:"center",alignItems:"center"},m.createElement(g.a,{item:!0},R&&m.createElement(C.a,{className:Object(T.default)("loading-indicator")}))),m.createElement(g.a,{item:!0,xs:12},m.createElement(f.a,{"aria-label":"breadcrumb"},m.createElement(h.a,{color:"textPrimary"},"BENEFITS"),m.createElement(h.a,{color:"textPrimary"},"CREATE BENEFIT"))),m.createElement(g.a,{item:!0,xs:12},m.createElement(g.a,{container:!0,justify:"flex-start",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12},m.createElement(h.a,{className:Object(T.default)("title"),color:"textPrimary"},"Add a Benefit")))),m.createElement(g.a,{item:!0,xs:12},m.createElement(g.a,{container:!0,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12,md:7},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12},m.createElement(de,{id:"parent-benefit-select",label:"Copy from an existing benefit",value:n,display:a,data:O,selected:q,error:!1,required:!1,disabled:F,onChange:function(t){e.setFieldValue("parentBenefit",t),e.setBenefitData(t.id)}})),m.createElement(g.a,{item:!0,xs:12},m.createElement(g.a,{container:!0,spacing:4,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12,md:6},m.createElement(ge,{id:"parent-benefit-select",label:"Category",value:i,data:A,error:!1,disabled:!0,onChange:function(t){e.setFieldValue("category",t.value)}})),m.createElement(g.a,{item:!0,xs:12,md:6},m.createElement(Ee,{label:"Benefit Name",value:l,error:r,onChange:function(t){e.setFieldValue("benefitName",t),e.setFieldError("benefitNameError",0===t.length)}})))),m.createElement(g.a,{item:!0,xs:12},m.createElement(g.a,{container:!0,spacing:4,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12,md:6,lg:4},m.createElement(Ee,{label:"Code",value:o,error:s,onChange:function(t){e.setFieldValue("code",t),e.setFieldError("codeError",0===t.length)}})),m.createElement(g.a,{item:!0,xs:12,md:6,lg:4},m.createElement(ge,{id:"limit-type-select",label:"Limit Type",value:c,data:N,error:d,errorMessage:u,onChange:function(t){e.setFieldValue("limitType",t),e.setFieldValue("limitTypeName",t.value),e.setFieldError("limitTypeError",void 0===t),p.length>0&&e.setFieldError("limitAmountError",!1),V.map(function(a){a.value===t.value&&"Percentage"===a.unit&&(e.setFieldError("limitAmountError",+p>100),e.setFieldValue("limitAmountErrorMessage","Amount must be less than 100"))})}})),m.createElement(g.a,{item:!0,xs:12,md:6,lg:4},m.createElement(Ee,{label:"Limit Amount",value:p,error:E,errorMessage:y,onChange:function(t){e.setFieldValue("limitAmount",t),""===c?""!==t?(e.setFieldError("limitTypeError",!0),e.setFieldValue("limitTypeErrorMessage","Please select limit type")):e.setFieldError("limitTypeError",!1):V.map(function(a){console.log("iterate limit type: ",a),a.value===c&&("Percentage"===a.unit?(e.setFieldError("limitAmountError",+t>100),e.setFieldError("limitAmountError",0===t.length),e.setFieldValue("limitAmountErrorMessage","Amount must be less than 100"),console.log("limit amount: ",+t>100)):(e.setFieldValue("limitAmountErrorMessage","Please input limit amount"),e.setFieldError("limitAmountError",0===t.length)))})}})))),m.createElement(g.a,{item:!0,xs:12},m.createElement(g.a,{container:!0,spacing:4,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:6},m.createElement(Ee,{label:"Clause",value:v,error:B,multiline:!0,rows:5,onChange:function(t){e.setFieldValue("clause",t),e.setFieldError("clauseError",0===t.length)}})),m.createElement(g.a,{item:!0,xs:6},m.createElement(Ee,{label:"Description",value:j,error:S,multiline:!0,rows:5,onChange:function(t){e.setFieldValue("description",t),e.setFieldError("descriptionError",0===t.length)}})))))),m.createElement(g.a,{item:!0,xs:12,md:4},m.createElement(g.a,{container:!0,spacing:3,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12},m.createElement(h.a,{color:"textPrimary"},"Methods")),m.createElement(g.a,{item:!0,xs:12,className:Object(T.default)("methods-container")},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start",className:Object(T.default)("methods-container-item-container")},m.createElement(g.a,{item:!0,xs:5},m.createElement(b.a,{className:Object(T.default)("text-btn"),onClick:function(){return e.showMethodContent("canAvail")}},"canAvail")),m.createElement(g.a,{item:!0,xs:5},m.createElement(b.a,{className:Object(T.default)("text-btn"),onClick:function(){return e.showMethodContent("renderContract")}},"renderContract")),m.createElement(g.a,{item:!0,xs:5},m.createElement(b.a,{className:Object(T.default)("text-btn"),onClick:function(){return e.showMethodContent("canCover")}},"canCover")),m.createElement(g.a,{item:!0,xs:5},m.createElement(b.a,{className:Object(T.default)("text-btn"),onClick:function(){return e.showMethodContent("renderProposal")}},"renderProposal")))))),m.createElement(g.a,{item:!0,xs:12},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12},m.createElement(h.a,{color:"textPrimary"},"Arrays")),m.createElement(g.a,{item:!0,xs:12,className:Object(T.default)("arrays-container")},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start",className:Object(T.default)("arrays-container-item-container")},m.createElement(g.a,{item:!0,xs:5},m.createElement(h.a,{color:"textPrimary"},"children")),m.createElement(g.a,{item:!0,xs:5},m.createElement(h.a,{color:"textPrimary"},"claims")),m.createElement(g.a,{item:!0,xs:5},m.createElement(h.a,{color:"textPrimary"},"LOA")))))))))),m.createElement(g.a,{item:!0,xs:12,sm:7},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:12},m.createElement("h3",null,m.createElement(h.a,{className:Object(T.default)("sub-title"),color:"textPrimary"},"Additional Data")),m.createElement("hr",null)),m.createElement(g.a,{item:!0,xs:12},m.createElement(g.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},this.displayAdditionalDataFields())),m.createElement(g.a,{item:!0,xs:12},m.createElement(b.a,{color:"primary",onClick:this.onAddFieldBtnClicked},"+ Add more Data Fields")))),m.createElement(g.a,{item:!0,xs:12,className:Object(T.default)("create-benefit-btn-container")},m.createElement(g.a,{container:!0,spacing:2,justify:"flex-end",alignItems:"flex-start"},m.createElement(g.a,{item:!0,xs:2},m.createElement(b.a,{variant:"contained",onClick:this.onRenderContractBtnClick,color:"primary",fullWidth:!0,disabled:L},"Render Contract")),m.createElement(g.a,{item:!0,xs:2},m.createElement(b.a,{variant:"contained",onClick:this.onEditBenefitBtnClick,color:"primary",fullWidth:!0,disabled:I},"Edit Benefit")),m.createElement(g.a,{item:!0,xs:2},m.createElement(b.a,{variant:"contained",onClick:this.onCreateBenefitBtnClick,color:"primary",fullWidth:!0,disabled:_},"Create New Benefit"))))),m.createElement(U,{isModalOpen:P,onClose:this.onAddDataFieldModalClose,onSubmit:this.onAddDataFieldModalSubmit}),m.createElement(G,{id:"method_content_modal",isModalOpen:k,method:w,content:D,onClose:this.onMethodContentModalClose,onSubmit:this.onMethodContentModalSubmit}),m.createElement(X.a,{id:"render_pdf_modal",isModalOpen:M,pdfUrl:Be,onClose:this.onRenderContractModalClose}),m.createElement(x.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:H,autoHideDuration:6e3,onClose:this.onSnackbarClose},m.createElement(Se,{onClose:this.onSnackbarClose,variant:W,message:z})))}}]),t}(m.Component),Fe=function(e){return e.createBenefitPage},Te=function(e){return{Map:Object(p.b)(ue,e)}}}}]);
//# sourceMappingURL=11.d63ff7b1.chunk.js.map