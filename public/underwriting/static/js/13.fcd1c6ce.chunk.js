(window.webpackJsonpunderwriting=window.webpackJsonpunderwriting||[]).push([[13],{1145:function(e,t,a){},1340:function(e,t,a){"use strict";a.r(t);var n=a(50),o=a.n(n),c=a(62),l=a(76),s=a(77),i=a(89),r=a(87),d=a(88),p=a(0),u=a.n(p),m=a(8),_=a(13),f=a(187),g=a(1332),h=a(1316),b=a(1318),k=a(1314),E=a(1317),v=a(1315),O=a(682),y=a(130),j=a(3),N=a(11),w=(a(5),a(24)),T=a(4),S=u.a.forwardRef(function(e,t){var a=e.classes,n=e.className,o=Object(N.a)(e,["classes","className"]);return u.a.createElement("div",Object(j.a)({className:Object(w.default)(a.root,n),ref:t},o))});S.muiName="ListItemSecondaryAction";var x=Object(T.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(S),C=a(84),D=a(28),M=a(167),A=a(86),Y=a(1137),P=a(742),B=a(7),W=a.n(B),L=a(149),R=a(73),I=a(70),z=(a(1145),a(26)),F={ResetReducer:"Dashboard_ResetReducer",SetReducer:"Dashboard_SetReducer"},U=function(e){return{payload:e,type:F.SetReducer}},J=a(770),V=a(761),G=a(285),q=(a(753),a(48));a.d(t,"Dashboard",function(){return oe}),a.d(t,"mapStateToProps",function(){return ce}),a.d(t,"mapDispatchToProps",function(){return le});var H=[{name:"Created by Me",value:"created_by_me"},{name:"Created Tickets",value:"created_tickets"}],K=[{name:"By Amount",value:"amount"},{name:"By Availees",value:"availees"},{name:"By Cases",value:"cases"}],Q=[],X=[{name:"NCG A.",link:"#"},{name:"Nestle",link:"#"},{name:"Ritz Corp.",link:"#"},{name:"Innovative Tech.",link:"#"}],Z=[],$="Create Proposal",ee="Approve Proposal",te="Upload Signed Proposal",ae="Activate Account",ne="Revise Proposal",oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).reset=function(){a.setState({role:"underwriting_staff",loading:!1,ticket_type:H[0].value,top_facility_sort:K[0].value})},a.handleTicketTypeSelect=function(e){a.setState({ticket_type:e.target.value})},a.handleTopFacilitySortSelect=function(e){a.setState({top_facility_sort:e.target.value})},a.handleClickOpenTicketsRow=function(e){console.log("handleClickOpenTicketsRow",e);var t=Object.assign([],a.state.openTickets);switch(console.log("openTickets: ",t),e.ticket_details.app_tas_title){case ee:a.setState({redirect:!0,redirect_info:{pathname:"/underwriting/approve-proposal/"+e.client_id+"/"+e.mother_contract_id+"/"+e.ticket_details.app_uid}});break;case te:"Upload Signed Proposal"===e.ticket_details.app_tas_title?a.setState({redirect:!0,redirect_info:{pathname:"/underwriting/finalize-proposal/"+e.client_id+"/"+e.mother_contract_id+"/uploader/"+e.ticket_details.app_uid}}):a.setState({redirect:!0,redirect_info:{pathname:"/underwriting/finalize-proposal/"+e.client_id+"/"+e.mother_contract_id+"/approver/"+e.ticket_details.app_uid}});break;case ae:a.setState({redirect:!0,redirect_info:{pathname:"/underwriting/finalize-proposal/"+e.client_id+"/"+e.mother_contract_id+"/approver/"+e.ticket_details.app_uid}});break;case $:case ne:a.setState({redirect:!0,redirect_info:{pathname:"/underwriting/create-proposal/"+e.ticket_details.app_uid}})}},a.gotoFinalizeProposalPage=function(){a.props.history.push("#/underwriting/finalize-proposal/approver/1"),window.location.reload()},a.queryStringToJSON=function(e){if(e.trim().length<1)return{};var t=e.slice(1).split("&"),a={};return t.forEach(function(e){e=e.split("="),a[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(a))},a.componentDidMount=function(){var e=JSON.parse(JSON.stringify(a.props)),t=a.queryStringToJSON(e.location.search);console.log("url json: ",e),console.log("url query: ",t),a.setState({role:t&&t.role?t.role:"underwriting_staff"})},a.handleViewTicket=function(e){console.log(e),J.a.getWithToken("cases/"+e.app_uid,"").then(function(t){if(void 0!==t&&void 0!==t.current_task){var n=t.current_task[0].del_index;J.a.getWithToken("cases/"+e.app_uid+"/variables?app_index="+n,"").then(function(t){var n="",o="";switch(void 0!==t&&void 0!==t.mother_contract_id&&(o=t.mother_contract_id),void 0!==t&&void 0!==t.client_id&&(n=t.client_id),e.app_tas_title){case ee:a.setState({redirect:!0,redirect_info:{pathname:"/underwriting/approve-proposal/"+n+"/"+o+"/"+e.app_uid}});break;case ae:a.setState({redirect:!0,redirect_info:{pathname:"/underwriting/finalize-proposal/"+n+"/"+o+"/approver/"+e.app_uid}})}}).catch(function(e){console.log("getbenefitlist api error: ",e)})}})},a.state={role:"underwriting_staff",loading:!1,open_tickets_loading:!1,unassigned_tickets_loading:!1,ticket_type:H[0].value,top_facility_sort:K[0].value,openTickets:[],proposalsCreated:[],proposalsForApproval:[],contractsToSignOff:[],redirect:!1,redirect_info:{},unassigned_tickets:[],isModalOpen:!1,modalTitle:"",modalMessage:p.createElement("div",null)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleClaim",value:function(e){var t=this;e.case_id&&this.setState({loading:!0},function(){J.a.postClaim("light/case/"+e.case_id+"/claim").then(function(){var a=Object(c.a)(o.a.mark(function a(n){var c,l,s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0===n||void 0===n.status||"ok"!==n.status.toLowerCase()){a.next=12;break}if(c=function(){t.setState({loading:!1,isModalOpen:!0,modalMessage:p.createElement("div",null,p.createElement(A.a,null,"Ticket No. ",e.ticket_id," for ",e.ticket_type," was claimed successfully.",p.createElement(D.a,{style:{color:"#3AB77D",fontSize:"0.875rem"},id:"view_ticket_link","data-cy":"view_ticket_link",onClick:function(){t.handleViewTicket(e.ticket_details)}}," View Ticket "))),modalTitle:"Ticket Claimed"})},!e.ticket_type||"Approve Proposal"!==e.ticket_type){a.next=9;break}return a.next=5,J.a.getWithToken("cases/"+e.ticket_details.app_uid+"/variables?app_index="+e.app_index,"");case 5:void 0!==(l=a.sent)&&void 0!==l.mother_contract_id?(s=l.mother_contract_id,G.a.patchProposalStatus(s,"For Approval",e.ticket_id?e.ticket_id:null).then(function(e){console.log(e),c()}).catch(function(e){console.log(e),c()})):c(),a.next=10;break;case 9:c();case 10:a.next=13;break;case 12:t.setState({loading:!1});case 13:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())})}},{key:"getUnassignedTicket",value:function(){var e=this;this.setState({unassigned_tickets_loading:!0}),J.a.getWithToken("cases/unassigned","").then(function(t){console.log("getUnassigned",t),q.c.StorageService("user_data").then(function(a){if(console.log("Utils",a),void 0!=a)if(void 0!==t){var n=[],o=t.filter(function(e){if(a&&void 0!==a)for(var t in a)if("username"===a[t].key)return a[t].value.includes("staff")?(console.log("STAFF"),"TO_DO"===e.app_status&&(e.app_tas_title===$||e.app_tas_title===ne||e.app_tas_title===te||e.app_tas_title!==ee||e.app_tas_title===ae)):(console.log("others"),"TO_DO"===e.app_status&&(e.app_tas_title===$||e.app_tas_title===ne||e.app_tas_title===te||e.app_tas_title===ee||e.app_tas_title===ae));return console.log("undefined items"),"TO_DO"===e.app_status&&(e.app_tas_title===$||e.app_tas_title===ne||e.app_tas_title===te||e.app_tas_title===ee||e.app_tas_title===ae)});o.length>0?o.forEach(function(t,a){var c=W()(t.del_task_due_date).format("MMM D, YYYY"),l=W()(t.app_update_date).format("MMM D, YYYY hh:mm:ss"),s={ticket_id:t.app_number,due:new Date(c),ticket_type:t.app_tas_title,client_name:t.app_title?t.app_title:"",client_id:"",ticket_details:t,case_id:t.app_uid,proposal_id:"",app_index:t.del_index,last_updated:new Date(l)};n.push(s),a===o.length-1&&(console.log("loaded unassigned"),e.setState({unassigned_tickets:n,unassigned_tickets_loading:!1}))}):e.setState({unassigned_tickets:[],unassigned_tickets_loading:!1})}else e.setState({unassigned_tickets:[],unassigned_tickets_loading:!1});else if(void 0!==t){var c=[],l=t.filter(function(e){return"TO_DO"===e.app_status&&(e.app_tas_title===$||e.app_tas_title===ne||e.app_tas_title===te||e.app_tas_title===ee||e.app_tas_title===ae)});l.length>0?l.forEach(function(t,a){var n=W()(t.del_task_due_date).format("MMM D, YYYY"),o=W()(t.app_update_date).format("MMM D, YYYY hh:mm:ss"),s={ticket_id:t.app_number,due:new Date(n),ticket_type:t.app_tas_title,client_name:t.app_title?t.app_title:"",client_id:"",ticket_details:t,case_id:t.app_uid,proposal_id:"",app_index:t.del_index,last_updated:new Date(o)};c.push(s),a===l.length-1&&(console.log("loaded unassigned"),e.setState({unassigned_tickets:c,unassigned_tickets_loading:!1}))}):e.setState({unassigned_tickets:[],unassigned_tickets_loading:!1})}else e.setState({unassigned_tickets:[],unassigned_tickets_loading:!1})})})}},{key:"getOpenTickets",value:function(){var e=this,t=[],a=[],n=[],l=[],s="",i="";this.setState({open_tickets_loading:!0}),J.a.getWithToken("cases?sort=APP_CACHE_VIEW.APP_UPDATE_DATE","").then(function(){var r=Object(c.a)(o.a.mark(function c(r){var d,p,u,m,_,f,g,h,b,k,E,v,O,y;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0===r){o.next=85;break}q.c.StorageService("user_data").then(function(e){if(e&&void 0!==e)for(var t in e)"username"===e[t].key&&e[t].value.includes("staff")&&(console.log(e[t].value),i=e[t].value)}),d=0;case 3:if(!(d<r.length)){o.next=82;break}if(p=r[d],console.log("GG",i),!i.includes("staff")){o.next=44;break}if(p.app_tas_title!==$&&p.app_tas_title!==ae&&p.app_tas_title!==ne){o.next=42;break}if(u=p.del_priority,m=W()(p.del_task_due_date).format("MMM D, YYYY"),_=W()(p.app_update_date).format("MMM D, YYYY hh:mm:ss"),f={ticket_id:p.app_number,due:new Date(m),ticket_type:p.app_tas_title.toString(),corporate_account:"-",is_urgent:"NORMAL"!==u,ticket_details:p,mother_contract_id:"",client_id:"",last_updated:new Date(_)},o.prev=12,!p.del_index||0===p.del_index.length){o.next=17;break}s=p.del_index,o.next=21;break;case 17:return o.next=19,J.a.getWithToken("cases/"+p.app_uid,"");case 19:void 0!==(g=o.sent)&&void 0!==g.current_task&&(s=g.current_task[0].del_index);case 21:return o.prev=21,o.next=24,J.a.getWithToken("cases/"+p.app_uid+"/variables?app_index="+s,"");case 24:void 0!==(h=o.sent)&&void 0!==h.client_name&&(f.corporate_account=h.client_name),void 0!==h&&void 0!==h.mother_contract_id&&(f.mother_contract_id=h.mother_contract_id),void 0!==h&&void 0!==h.client_id&&(f.client_id=h.client_id),t.push(f),f.ticket_details.app_tas_title===$?a.push(f):f.ticket_details.app_tas_title!==ee?n.push(f):f.ticket_details.app_tas_title===ae&&l.push(f),console.log("opens : ",t),e.setState({openTickets:t,proposalsCreated:a,proposalsForApproval:n,contractsToSignOff:l}),o.next=37;break;case 34:o.prev=34,o.t0=o.catch(21),console.log("getOpenTickets Error",o.t0);case 37:o.next=42;break;case 39:o.prev=39,o.t1=o.catch(12),console.log("getOpenTickets Error",o.t1);case 42:o.next=79;break;case 44:if(p.app_tas_title!==$&&p.app_tas_title!==te&&p.app_tas_title!==ee&&p.app_tas_title!==ae&&p.app_tas_title!==ne){o.next=79;break}if(b=p.del_priority,k=W()(p.del_task_due_date).format("MMM D, YYYY"),E=W()(p.app_update_date).format("MMM D, YYYY hh:mm:ss"),v={ticket_id:p.app_number,due:new Date(k),ticket_type:p.app_tas_title.toString(),corporate_account:"-",is_urgent:"NORMAL"!==b,ticket_details:p,mother_contract_id:"",client_id:"",last_updated:new Date(E)},o.prev=49,!p.del_index||0===p.del_index.length){o.next=54;break}s=p.del_index,o.next=58;break;case 54:return o.next=56,J.a.getWithToken("cases/"+p.app_uid,"");case 56:void 0!==(O=o.sent)&&void 0!==O.current_task&&(s=O.current_task[0].del_index);case 58:return o.prev=58,o.next=61,J.a.getWithToken("cases/"+p.app_uid+"/variables?app_index="+s,"");case 61:void 0!==(y=o.sent)&&void 0!==y.client_name&&(v.corporate_account=y.client_name),void 0!==y&&void 0!==y.mother_contract_id&&(v.mother_contract_id=y.mother_contract_id),void 0!==y&&void 0!==y.client_id&&(v.client_id=y.client_id),t.push(v),v.ticket_details.app_tas_title===$?a.push(v):v.ticket_details.app_tas_title!==ee?n.push(v):v.ticket_details.app_tas_title===ae&&l.push(v),console.log("opens : ",t),e.setState({openTickets:t,proposalsCreated:a,proposalsForApproval:n,contractsToSignOff:l}),o.next=74;break;case 71:o.prev=71,o.t2=o.catch(58),console.log("getOpenTickets Error",o.t2);case 74:o.next=79;break;case 76:o.prev=76,o.t3=o.catch(49),console.log("getOpenTickets Error",o.t3);case 79:d++,o.next=3;break;case 82:e.setState({open_tickets_loading:!1}),o.next=86;break;case 85:e.setState({openTickets:[],proposalsCreated:[],proposalsForApproval:[],contractsToSignOff:[],open_tickets_loading:!1});case 86:case"end":return o.stop()}},c,null,[[12,39],[21,34],[49,76],[58,71]])}));return function(e){return r.apply(this,arguments)}}())}},{key:"componentWillMount",value:function(){console.log("dashboard componentWillMount"),console.log("due_date: ",W()("2019-10-28 17:00:00").format("MMM D, YYYY")),this.getOpenTickets(),this.getUnassignedTicket()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.openTickets,o=t.role,c=t.proposalsCreated,l=t.proposalsForApproval,s=t.contractsToSignOff,i=t.redirect,r=t.redirect_info,d=t.unassigned_tickets,u=t.isModalOpen,m=t.modalTitle,j=t.modalMessage,N=t.open_tickets_loading,T=t.unassigned_tickets_loading,S=function(t){var a=n;console.log("sortedtickets"),console.log(a);var o=!0;"due"!==t?(o=!(a.length>1)||a[0][t].toString().toLowerCase()>=a[a.length-1][t].toString().toLowerCase())?a.sort(function(e,a){return e[t]&&a[t]&&e[t].toString().toLowerCase().trim()>=a[t].toString().toLowerCase().trim()?1:-1}):a.sort(function(e,a){return e[t]&&a[t]&&e[t].toString().toLowerCase().trim()>=a[t].toString().toLowerCase().trim()?-1:1}):(o=!(a.length>1)||new Date(a[0][t])>new Date(a[1][t]),a.sort(function(e,a){return e[t]&&a[t]&&new Date(e[t])>new Date(a[t])&&o?1:-1})),console.log(a),e.setState({openTickets:a})},D=function(t){var a=d,n=!0;"due"!==t?(n=!(a.length>1)||a[0][t].toString().toLowerCase()>=a[a.length-1][t].toString().toLowerCase())?a.sort(function(e,a){return e[t]&&a[t]&&e[t].toString().toLowerCase().trim()>=a[t].toString().toLowerCase().trim()?1:-1}):a.sort(function(e,a){return e[t]&&a[t]&&e[t].toString().toLowerCase().trim()>=a[t].toString().toLowerCase().trim()?-1:1}):(n=!(a.length>1)||new Date(a[0][t])>new Date(a[1][t]),a.sort(function(e,a){return e[t]&&a[t]&&new Date(e[t])>new Date(a[t])&&n?1:-1})),console.log(a),e.setState({unassigned_tickets:a})},B=n.sort(function(e,t){return e.last_updated&&t.last_updated&&new Date(e.last_updated)>new Date(t.last_updated)?-1:1}),W=d.sort(function(e,t){return e.last_updated&&t.last_updated&&new Date(e.last_updated)>new Date(t.last_updated)?-1:1});return!0===i?p.createElement(L.a,{to:r}):p.createElement("div",{className:Object(w.default)("Dashboard")},N||T?p.createElement(P.f,null):null,p.createElement(_.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},p.createElement(_.a,{container:!0,justify:"center",alignItems:"center"},p.createElement(_.a,{item:!0},a&&p.createElement(Y.a,{className:Object(w.default)("loading-indicator")}))),p.createElement(_.a,{item:!0,xs:12},p.createElement(_.a,{container:!0,justify:"flex-start",alignItems:"flex-start"},p.createElement(A.a,{className:Object(w.default)("title")},"Dashboard"))),p.createElement(_.a,{item:!0,xs:12,md:12},p.createElement(_.a,{container:!0,justify:"space-between",spacing:4,alignItems:"flex-start"},p.createElement(_.a,{item:!0,xs:12,md:8},p.createElement(A.a,{className:Object(w.default)("sub-title")},"Your Ticket List"),p.createElement(f.a,{className:Object(w.default)("content")},p.createElement(g.a,{className:Object(w.default)("card-header"),display:"flex",flexDirection:"row",justifyContent:"space-between"},p.createElement(g.a,null,p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#FD5451"},id:"open_tickets_count","data-cy":"open_tickets_count"},n.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description"),onClick:this.gotoFinalizeProposalPage},"Open Tickets"))),p.createElement(g.a,{className:Object(w.default)("card-content")},p.createElement(h.a,{size:"small",className:Object(w.default)("dashboard-table"),id:"open_tickets_table","data-cy":"open_tickets_table"},p.createElement(E.a,null,p.createElement(v.a,null,p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"ID\xa0\xa0",p.createElement("div",{style:{display:"none"},onClick:function(){S("ticket_id")}},p.createElement(I.a,{icon:R.B}))),p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"Date Created\xa0\xa0",p.createElement("div",{style:{display:"none"},onClick:function(){S("last_updated")}},p.createElement(I.a,{icon:R.B}))),p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"Ticket Type\xa0\xa0",p.createElement("div",{style:{display:"none"},onClick:function(){S("ticket_type")}},p.createElement(I.a,{icon:R.B}))),p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"Corporate Account\xa0\xa0",p.createElement("div",{style:{display:"none"},onClick:function(){S("corporate_account")}},p.createElement(I.a,{icon:R.B}))))),p.createElement(b.a,null,B.map(function(t,a){return p.createElement(v.a,{key:a,style:{cursor:"pointer"},className:Object(w.default)(a%2==0?t.is_urgent?"dashboard-table-hg-even-row":"dashboard-table-even-row":t.is_urgent?"dashboard-table-hg-odd-row":"dashboard-table-odd-row"),onClick:function(a){e.handleClickOpenTicketsRow(t),console.log("handleClickOpenTicketsRow target: ",a)}},p.createElement(k.a,{style:{minWidth:"80px"},className:Object(w.default)("dashboard-table-data-cell"),component:"th",scope:"row"},t.ticket_id),p.createElement(k.a,{style:{minWidth:"150px"},className:Object(w.default)("dashboard-table-data-cell")},t.last_updated.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),p.createElement(k.a,{style:{minWidth:"210px"},className:Object(w.default)("dashboard-table-data-cell")},t.ticket_type),p.createElement(k.a,{className:Object(w.default)("dashboard-table-data-cell")},t.corporate_account))}))))),p.createElement(f.a,{className:Object(w.default)("content")},p.createElement(g.a,{className:Object(w.default)("card-header"),display:"flex",flexDirection:"row",justifyContent:"space-between"},p.createElement(g.a,null,p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#FD5451"},id:"unassigned_tickets_count","data-cy":"unassigned_tickets_count"},d.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description"),onClick:this.gotoFinalizeProposalPage},"Unassigned Tickets"))),p.createElement(g.a,{className:Object(w.default)("card-content")},p.createElement(h.a,{size:"small",className:Object(w.default)("dashboard-table"),id:"unassigned_tickets_table","data-cy":"unassigned_tickets_table"},p.createElement(E.a,null,p.createElement(v.a,null,p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"ID\xa0\xa0",p.createElement("div",{style:{display:"none"},onClick:function(){D("ticket_id")}},p.createElement(I.a,{icon:R.B}))),p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"Date Created\xa0\xa0",p.createElement("div",{style:{display:"none"},onClick:function(){D("due")}},p.createElement(I.a,{icon:R.B}))),p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"Ticket Type\xa0\xa0",p.createElement("div",{style:{display:"none"},onClick:function(){D("ticket_type")}},p.createElement(I.a,{icon:R.B}))),p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"Corporate Account\xa0\xa0",p.createElement("div",{style:{display:"none"},onClick:function(){D("client_name")}},p.createElement(I.a,{icon:R.B}))),p.createElement(k.a,{className:Object(w.default)("dashboard-table-header-cell")},"Action"))),p.createElement(b.a,null,W.map(function(t,a){return p.createElement(v.a,{key:a,className:Object(w.default)(a%2==0?t.is_urgent?"dashboard-table-hg-even-row":"dashboard-table-even-row":t.is_urgent?"dashboard-table-hg-odd-row":"dashboard-table-odd-row"),onClick:function(e){console.log("handleClickOpenTicketsRow target: ",e)}},p.createElement(k.a,{style:{minWidth:"80px"},className:Object(w.default)("dashboard-table-data-cell"),component:"th",scope:"row"},t.ticket_id),p.createElement(k.a,{style:{minWidth:"150px"},className:Object(w.default)("dashboard-table-data-cell")},t.last_updated.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),p.createElement(k.a,{style:{minWidth:"170px"},className:Object(w.default)("dashboard-table-data-cell")},t.ticket_type),p.createElement(k.a,{className:Object(w.default)("dashboard-table-data-cell")},t.client_name),p.createElement(k.a,{style:{minWidth:"80px"},className:Object(w.default)("dashboard-table-data-cell")},p.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},className:Object(w.default)("dashboard-list-item-link"),id:"unassigned_tickets_claim_btn_"+t.ticket_id,"data-cy":"unassigned_tickets_claim_btn",onClick:function(a){e.handleClaim(t),console.log("e >>>>",a)}},"Claim")))})))))),p.createElement(_.a,{item:!0,xs:12,md:4},p.createElement(A.a,{className:Object(w.default)("sub-title")},"Your Task Tray"),"underwriting_head"==o?p.createElement(f.a,{className:Object(w.default)("content"),style:{visibility:"hidden"}},p.createElement(g.a,{className:Object(w.default)("card-header")},p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#3AB77D"}},c.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description")},"Proposals To Be Created")),p.createElement(g.a,{className:Object(w.default)("card-content")},p.createElement("img",{src:"temp_dashboard_graph_01.png",className:Object(w.default)("dashboard-temp-graph-img"),alt:"Proposals To Be Created"}))):p.createElement(f.a,{className:Object(w.default)("content")},p.createElement(g.a,{className:Object(w.default)("card-header")},p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#3AB77D"}},c.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description")},"Proposals To Be Created")),p.createElement(g.a,{className:Object(w.default)("card-content"),alignItems:"flex-start"},p.createElement(O.a,{dense:!0},c.map(function(e,t){return p.createElement(y.a,{key:t},p.createElement(C.a,{id:"proposals_to_be_created_"+t,className:Object(w.default)("dashboard-list-item-text"),primary:e.corporate_account}),p.createElement(M.b,{className:Object(w.default)("dashboard-list-item-link"),style:{minWidth:"47px"},to:"create-proposal/"+e.app_uid},"Create"))})))),"underwriting_head"==o||"underwriting_staff"==o?p.createElement(f.a,{className:Object(w.default)("content")},p.createElement(g.a,{className:Object(w.default)("card-header")},p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#FAB435"}},Q.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description")},"Renewals to be Revised")),p.createElement(g.a,{className:Object(w.default)("card-content"),alignItems:"flex-start"},p.createElement(O.a,{dense:!0}))):p.createElement(f.a,{className:Object(w.default)("content")},p.createElement(g.a,{className:Object(w.default)("card-header")},p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#FAB435"}},X.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description")},"Proposals to be Revised")),p.createElement(g.a,{className:Object(w.default)("card-content"),alignItems:"flex-start"},p.createElement(O.a,{dense:!0})))))),p.createElement(_.a,{item:!0,xs:12,md:12},p.createElement(_.a,{container:!0,justify:"space-between",spacing:4,alignItems:"flex-start"},p.createElement(_.a,{item:!0,xs:12,md:4},p.createElement(f.a,{className:Object(w.default)("content")},p.createElement(g.a,{className:Object(w.default)("card-header")},p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#8034AD"}},l.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description")},"Proposals Waiting Approval")),p.createElement(g.a,{className:Object(w.default)("card-content")},p.createElement(O.a,{dense:!0},l.map(function(e,t){return p.createElement(y.a,{key:t},p.createElement(C.a,{id:"proposals_for_approval_"+t,className:Object(w.default)("dashboard-list-item-text"),primary:e.corporate_account}),p.createElement(x,null,p.createElement(M.b,{className:Object(w.default)("dashboard-list-item-link"),to:"approve-proposal/"+e.app_uid},"View")))}))))),p.createElement(_.a,{item:!0,xs:12,md:4},p.createElement(f.a,{className:Object(w.default)("content")},p.createElement(g.a,{className:Object(w.default)("card-header")},p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#272E4C"}},s.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description")},"Contracts to Sign-Off")),p.createElement(g.a,{className:Object(w.default)("card-content")},p.createElement(O.a,{dense:!0},s.map(function(e,t){return p.createElement(y.a,{key:t},p.createElement(C.a,{id:"contracts_to_signoff_"+t,className:Object(w.default)("dashboard-list-item-text"),primary:e.corporate_account}),p.createElement(x,null,p.createElement(M.b,{className:Object(w.default)("dashboard-list-item-link"),to:"finalize-proposal/approver/"+e.app_uid},"View")))}))))),p.createElement(_.a,{item:!0,xs:12,md:4},p.createElement(f.a,{className:Object(w.default)("content")},p.createElement(g.a,{className:Object(w.default)("card-header")},p.createElement(A.a,{className:Object(w.default)("dashboard-count"),style:{color:"#1AB1C4"}},Z.length),p.createElement(A.a,{className:Object(w.default)("dashboard-count-description")},"Tickets Waiting Response")),p.createElement(g.a,{className:Object(w.default)("card-content")},p.createElement(O.a,{dense:!0})))),p.createElement(V.a,{isModalOpen:u,title:m,message:j,onClose:function(){e.setState({isModalOpen:!1},function(){e.getOpenTickets(),e.getUnassignedTicket()})},buttons:p.createElement(z.a,{id:"claim_modal_okay_btn","data-cy":"claim_modal_okay_btn",style:{backgroundColor:"#3AB77D",color:"white",padding:"10px 30px"},onClick:function(){e.setState({isModalOpen:!1},function(){e.getOpenTickets(),e.getUnassignedTicket()})},variant:"contained"},"Okay")})))))}}]),t}(p.Component),ce=function(e){return e.dashboard},le=function(e){return{Map:Object(m.b)(U,e)}}},745:function(e,t,a){"use strict";var n=a(93);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),c=(0,n(a(232)).default)(o.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=c},753:function(e,t,a){},761:function(e,t,a){"use strict";a.d(t,"a",function(){return g});var n=a(0),o=a.n(n),c=a(1332),l=a(685),s=a(276),i=a(227),r=a(274),d=a(19),p=a(745),u=a.n(p),m=a(13),_=a(1),f=Object(_.a)(function(e){return{dialog:{},dialogAction:{marginBottom:e.spacing(2),marginTop:e.spacing(2),justifyContent:"center"},dialogContentContainer:{width:"100%"},container:{paddingRight:"15px",paddingLeft:"15px",width:"450px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogTitle:{marginTop:e.spacing(2),marginBottom:e.spacing(2),fontSize:"16px",color:"#272E4C",fontWeight:700}}}),g=function(e){var t=f();return o.a.createElement(l.a,{open:e.isModalOpen,onClose:e.onClose,"aria-labelledby":"form-dialog-title",maxWidth:"sm",className:t.dialog},o.a.createElement("div",null,o.a.createElement(m.a,{container:!0,className:t.container,justify:"flex-start",alignItems:"flex-start",direction:"column"},o.a.createElement(m.a,{item:!0,xs:!0},o.a.createElement(r.a,{className:t.dialogTitle,disableTypography:!1,id:"form-dialog-title"},o.a.createElement(c.a,{fontWeight:700},e.title),o.a.createElement(d.a,{"aria-label":"close",className:t.closeButton,onClick:e.onClose},o.a.createElement(u.a,null)))),o.a.createElement(m.a,{item:!0,xs:!0,className:t.dialogContentContainer},o.a.createElement(i.a,null,o.a.createElement(m.a,{container:!0,spacing:2,justify:"space-between",alignItems:"flex-start"},o.a.createElement(m.a,{item:!0,xs:12},e.message))),o.a.createElement(s.a,{className:t.dialogAction},void 0!==e.buttons?e.buttons:null)))))};g.defaultProps={isModalOpen:!1}},770:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(76),o=a(77),c="http://18.140.39.215/api/1.0/workflow/",l=function(){function e(){Object(n.a)(this,e)}return Object(o.a)(e,null,[{key:"getWithToken",value:function(e,t){console.log("token: ",t);var a=c+e;return console.log("get url: ",a,t),fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("pm_token")}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"postWithToken",value:function(e,t,a){console.log("token: ",t);var n=c+e;return console.log("post url: ",n,a),fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("pm_token")},body:JSON.stringify(a)}).then(function(e){return console.log("response",e),e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"put",value:function(e,t,a){console.log("token: ",t);var n=c+e;return console.log("post url: ",n,a),fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("pm_token")},body:JSON.stringify(a)}).then(function(e){return console.log("response",e),e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"post",value:function(e,t){var a=c+e;return console.log("post url: ",a,t),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return console.log("response",e),e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"postLogin",value:function(e,t){var a="http://18.140.39.215/workflow/"+e;return console.log("post url: ",a,t),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return console.log("response",e),e.json()}).catch(function(e){console.log("client error: ",e)})}},{key:"postClaim",value:function(e){return fetch(c+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("pm_token")}}).then(function(e){return e.json()}).catch(function(e){console.log("client error: ",e)})}}]),e}()}}]);
//# sourceMappingURL=13.fcd1c6ce.chunk.js.map